<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">

    <title>Materialize - Documentation</title>

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" href="images/favicon/apple-touch-icon-152x152.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="images/favicon/mstile-144x144.png">
    <link rel="icon" href="../../images/favicon/favicon-32x32.png" sizes="32x32">

    <!-- Android 5 Chrome Color -->
    <meta name="theme-color" content="#EE6E73">

    <link href="../../bin/materialize.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link href="../../css/prism.css" rel="stylesheet" />

</head>

<body>

    <div class="container">

        <h5>Default autocomplete example</h5>
        <div class="row">
            <div class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">textsms</i>
                        <input type="text" id="autocomplete-1" class="autocomplete">
                        <label for="autocomplete-1">Autocomplete</label>
                    </div>
                </div>
            </div>
        </div>

        <h5>Custom filter function</h5>
        <div class="row">
            <div class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">textsms</i>
                        <input type="text" id="autocomplete-2" class="autocomplete">
                        <label for="autocomplete-2">Filter Function</label>
                    </div>
                </div>
            </div>
        </div>

        <h5>Limit Set (200 Entries)</h5>
        <div class="row">
            <div class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">textsms</i>
                        <input type="text" id="autocomplete-3" class="autocomplete">
                        <label for="autocomplete-3">Filter Function</label>
                    </div>
                </div>
            </div>
        </div>

        <h5>allowUnsafeHTML: false</h5>
        <div class="row">
            <div class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">textsms</i>
                        <input type="text" id="autocomplete-4" class="autocomplete">
                        <label for="autocomplete-4">Filter Function</label>
                    </div>
                </div>
            </div>
        </div>

        <h5>allowUnsafeHTML: true</h5>
        <div class="row">
            <div class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">textsms</i>
                        <input type="text" id="autocomplete-5" class="autocomplete">
                        <label for="autocomplete-5">Filter Function</label>
                    </div>
                </div>
            </div>
        </div>

        <h5>Custom dropdown options</h5>
        <div class="row">
            <div class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">textsms</i>
                        <input type="text" id="autocomplete-6" class="autocomplete" value="12">
                        <label for="autocomplete-6">Autocomplete with set Value</label>
                    </div>
                </div>
            </div>
        </div>

        <!--
        <h5>Custom dropdown options</h5>
        <div class="row">
            <div class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">textsms</i>
                        <input type="text" id="autocomplete-3" class="autocomplete">
                        <label for="autocomplete-3">Autocomplete</label>
                    </div>
                </div>
            </div>
        </div>

        <h5>With chips</h5>
        <div class="row">
            <div class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">textsms</i>
                        <input type="text" id="autocomplete-4" class="autocomplete">
                        <label for="autocomplete-4">Autocomplete</label>
                    </div>
                </div>
            </div>
        </div>

        <h5>Pre-populate chips</h5>
        <div class="row">
            <div class="col s12">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">textsms</i>
                        <input type="text" id="autocomplete-5" class="autocomplete">
                        <label for="autocomplete-5">Autocomplete</label>
                    </div>
                </div>
            </div>
        </div> -->

        <div>
            <button class="btnAutocomplete6">Set Option (A6)</button>
        </div>

    </div>

    <!--  Scripts-->
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="../../bin/materialize.js"></script>
    <script>
        // Data
        const defaultData = [
            {id: 12, text: "Apple"},
            {id: 13, text: "Microsoft"},
            {id: 42, text: "Google", image: '../../docs/images/placeholder/250x250_a.png'},
            {id: 50},
            {id: 51},
            {id: 52},
            {id: 53},
            {id: "test"}
        ];
        const countries = [
            {id: 'Afghanistan', image: '../../docs/images/placeholder/250x250_e.png', description: 'The name Afghanistan (Afghānistān, land of the Afghans/Pashtuns, afāghina, sing. afghān) can be traced to the early eighth/fourteenth century.'},
            {id: 'Albania'},
            {id: 'Algeria'},
            {id: 'Andorra', image: '../../docs/images/placeholder/250x250_d.png'},
            {id: 'Angola'},
            {id: 'Antigua and Barbuda'},
            {id: 'Argentina'},
            {id: 'Armenia'},
            {id: 'Australia', image: '../../docs/images/placeholder/250x250_c.png'},
            {id: 'Austria', image: '../../docs/images/placeholder/250x250_a.png', description: 'There are nice Mountains.'},
            {id: 'Azerbaijan'},
            {id: 'The Bahamas'},
            {id: 'Bahrain'},
            {id: 'Bangladesh'},
            {id: 'Barbados'},
            {id: 'Belarus'},
            {id: 'Belgium'},
            {id: 'Belize'},
            {id: 'Benin'},
            {id: 'Bhutan'},
            {id: 'Bolivia'},
            {id: 'Bosnia and Herzegovina'},
            {id: 'Botswana'},
            {id: 'Brazil'},
            {id: 'Brunei'},
            {id: 'Bulgaria'},
            {id: 'Burkina Faso'},
            {id: 'Burundi'},
            {id: 'Cabo Verde'},
            {id: 'Cambodia'},
            {id: 'Cameroon'},
            {id: 'Canada'},
            {id: 'Central African Republic'},
            {id: 'Chad'},
            {id: 'Chile'},
            {id: 'China'},
            {id: 'Colombia'},
            {id: 'Comoros'},
            {id: 'Congo, Democratic Republic of the'},
            {id: 'Congo, Republic of the'},
            {id: 'Costa Rica'},
            {id: 'Côte d’Ivoire'},
            {id: 'Croatia'},
            {id: 'Cuba'},
            {id: 'Cyprus'},
            {id: 'Czech Republic'},
            {id: 'Denmark'},
            {id: 'Djibouti'},
            {id: 'Dominica'},
            {id: 'Dominican Republic'},
            {id: 'East Timor (Timor-Leste)'},
            {id: 'Ecuador'},
            {id: 'Egypt'},
            {id: 'El Salvador'},
            {id: 'Equatorial Guinea'},
            {id: 'Eritrea'},
            {id: 'Estonia'},
            {id: 'Eswatini'},
            {id: 'Ethiopia'},
            {id: 'Fiji'},
            {id: 'Finland'},
            {id: 'France'},
            {id: 'Gabon'},
            {id: 'The Gambia'},
            {id: 'Georgia'},
            {id: 'Germany', image: '../../docs/images/placeholder/250x250_b.png'},
            {id: 'Ghana'},
            {id: 'Greece'},
            {id: 'Grenada'},
            {id: 'Guatemala'},
            {id: 'Guinea'},
            {id: 'Guinea-Bissau'},
            {id: 'Guyana'},
            {id: 'Haiti'},
            {id: 'Honduras'},
            {id: 'Hungary'},
            {id: 'Iceland'},
            {id: 'India'},
            {id: 'Indonesia'},
            {id: 'Iran'},
            {id: 'Iraq'},
            {id: 'Ireland'},
            {id: 'Israel'},
            {id: 'Italy'},
            {id: 'Jamaica'},
            {id: 'Japan'},
            {id: 'Jordan'},
            {id: 'Kazakhstan'},
            {id: 'Kenya'},
            {id: 'Kiribati'},
            {id: 'Korea, North'},
            {id: 'Korea, South'},
            {id: 'Kosovo'},
            {id: 'Kuwait'},
            {id: 'Kyrgyzstan'},
            {id: 'Laos'},
            {id: 'Latvia'},
            {id: 'Lebanon'},
            {id: 'Lesotho'},
            {id: 'Liberia'},
            {id: 'Libya'},
            {id: 'Liechtenstein'},
            {id: 'Lithuania'},
            {id: 'Luxembourg'},
            {id: 'Madagascar'},
            {id: 'Malawi'},
            {id: 'Malaysia'},
            {id: 'Maldives'},
            {id: 'Mali'},
            {id: 'Malta'},
            {id: 'Marshall Islands'},
            {id: 'Mauritania'},
            {id: 'Mauritius'},
            {id: 'Mexico'},
            {id: 'Micronesia, Federated States of'},
            {id: 'Moldova'},
            {id: 'Monaco'},
            {id: 'Mongolia'},
            {id: 'Montenegro'},
            {id: 'Morocco'},
            {id: 'Mozambique'},
            {id: 'Myanmar (Burma)'},
            {id: 'Namibia'},
            {id: 'Nauru'},
            {id: 'Nepal'},
            {id: 'Netherlands'},
            {id: 'New Zealand'},
            {id: 'Nicaragua'},
            {id: 'Niger'},
            {id: 'Nigeria'},
            {id: 'North Macedonia'},
            {id: 'Norway'},
            {id: 'Oman'},
            {id: 'Pakistan'},
            {id: 'Palau'},
            {id: 'Panama'},
            {id: 'Papua New Guinea'},
            {id: 'Paraguay'},
            {id: 'Peru'},
            {id: 'Philippines'},
            {id: 'Poland'},
            {id: 'Portugal'},
            {id: 'Qatar'},
            {id: 'Romania'},
            {id: 'Russia'},
            {id: 'Rwanda'},
            {id: 'Saint Kitts and Nevis'},
            {id: 'Saint Lucia'},
            {id: 'Saint Vincent and the Grenadines'},
            {id: 'Samoa'},
            {id: 'San Marino'},
            {id: 'Sao Tome and Principe'},
            {id: 'Saudi Arabia'},
            {id: 'Senegal'},
            {id: 'Serbia'},
            {id: 'Seychelles'},
            {id: 'Sierra Leone'},
            {id: 'Singapore'},
            {id: 'Slovakia'},
            {id: 'Slovenia'},
            {id: 'Solomon Islands'},
            {id: 'Somalia'},
            {id: 'South Africa'},
            {id: 'Spain'},
            {id: 'Sri Lanka'},
            {id: 'Sudan'},
            {id: 'Sudan, South'},
            {id: 'Suriname'},
            {id: 'Sweden'},
            {id: 'Switzerland'},
            {id: 'Syria'},
            {id: 'Taiwan'},
            {id: 'Tajikistan'},
            {id: 'Tanzania'},
            {id: 'Thailand'},
            {id: 'Togo'},
            {id: 'Tonga'},
            {id: 'Trinidad and Tobago'},
            {id: 'Tunisia'},
            {id: 'Turkey'},
            {id: 'Turkmenistan'},
            {id: 'Tuvalu'},
            {id: 'Uganda'},
            {id: 'Ukraine'},
            {id: 'United Arab Emirates'},
            {id: 'United Kingdom'},
            {id: 'United States'},
            {id: 'Uruguay'},
            {id: 'Uzbekistan'},
            {id: 'Vanuatu'},
            {id: 'Vatican City'},
            {id: 'Venezuela'},
            {id: 'Vietnam'},
            {id: 'Yemen'},
            {id: 'Zambia'},
            {id: 'Zimbabwe'}
        ];
        
        const bigData = [];
        for (let i = 200; i >= 0; i--) {
            const randString = 'a' + Math.random().toString(36).substring(2);
            bigData.push({id: randString});
        }
        const unsafeData = [
            {id: "<span style='color: red;'>payload</span>Apple", text: "<span style='color: red;'>payload</span>Apple"},
            {id: '&lt;img src=/ onerror=&quot;alert(\'xss\')&quot;&gt;typethis', text: '&lt;img src=/ onerror=&quot;alert(\'xss\')&quot;&gt;typethis'},
            {id: '<img src=/ onerror="alert(\'xss\')">still not safe', text: '<img src=/ onerror="alert(\'xss\')">still not safe', image: 'https://placehold.it/250x250'}
        ];

        // Configurations
        const a1 = {
            //data: defaultData,
            minLength: 0,
            limit: 10,
            onSearch: (text, instance) => {
                setTimeout(() => {
                    const matchingData = countries.filter(country => country.id.toLowerCase().indexOf(text.toLowerCase()) !== -1);
                    instance.updateData(matchingData);
                }, 300);
            },
            onAutocomplete: entry => console.log('a1', entry)
        };
        const a2 = {
            data: defaultData,
            filterFunction: function (key_string, filter_string) {
                return true;
            },
            onAutocomplete: entry => console.log('a2', entry),
            minLength: 0
        };
        const a3 = {
            data: bigData,
            limit: 5,
            minLength: 0,
            onAutocomplete: entry => console.log('a3', entry)
        }
        const a4 = {
            data: unsafeData,
            allowUnsafeHTML: false,
            minLength: 0,
            onAutocomplete: entry => console.log('a2', entry)
        }
        const a5 = {
            data: unsafeData,
            allowUnsafeHTML: true,
            minLength: 0,
            onAutocomplete: entry => console.log('a5', entry)
        }
        const a6 = {
            data: defaultData,
            minLength: 0,
            onAutocomplete: entry => console.log('a6', entry)
        };

        document.addEventListener('DOMContentLoaded', function () {
            M.Autocomplete.init(document.getElementById('autocomplete-1'), a1);
            M.Autocomplete.init(document.getElementById('autocomplete-2'), a2);
            M.Autocomplete.init(document.getElementById('autocomplete-3'), a3);
            M.Autocomplete.init(document.getElementById('autocomplete-4'), a4);
            M.Autocomplete.init(document.getElementById('autocomplete-5'), a5);
            const inst6 = M.Autocomplete.init(document.getElementById('autocomplete-6'), a6);

            document.querySelector('.btnAutocomplete6').addEventListener('click', e => {
                inst6.selectOption(42);
            });
        });
    </script>
</body>

</html>