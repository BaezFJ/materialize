var M;(()=>{var __webpack_modules__={30:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*\n * anime.js v3.2.1\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  nil: function (a) { return is.und(a) || a === null; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; },\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright Â© 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n    eases['easeOutIn' + name] = function (a, b) { return function (t) { return t < 0.5 ? (1 - easeIn(a, b)(1 - t * 2)) / 2 : \n      (easeIn(a, b)(t * 2 - 1) + 1) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width,\n    h: height,\n    vW: viewBox[2],\n    vH: viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * scaleX;\n    case 'y': return (p.y - svg.y) * scaleY;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\n\nvar engine = (function () {\n  var raf;\n\n  function play() {\n    if (!raf && (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) && activeInstances.length > 0) {\n      raf = requestAnimationFrame(step);\n    }\n  }\n  function step(t) {\n    // memo on algorithm issue:\n    // dangerous iteration over mutable `activeInstances`\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\n    var activeInstancesLength = activeInstances.length;\n    var i = 0;\n    while (i < activeInstancesLength) {\n      var activeInstance = activeInstances[i];\n      if (!activeInstance.paused) {\n        activeInstance.tick(t);\n        i++;\n      } else {\n        activeInstances.splice(i, 1);\n        activeInstancesLength--;\n      }\n    }\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\n  }\n\n  function handleVisibilityChange() {\n    if (!anime.suspendWhenDocumentHidden) { return; }\n\n    if (isDocumentHidden()) {\n      // suspend ticks\n      raf = cancelAnimationFrame(raf);\n    } else { // is back to active tab\n      // first adjust animations to consider the time that ticks were suspended\n      activeInstances.forEach(\n        function (instance) { return instance ._onDocumentVisibility(); }\n      );\n      engine();\n    }\n  }\n  if (typeof document !== 'undefined') {\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n  }\n\n  return play;\n})();\n\nfunction isDocumentHidden() {\n  return !!document && document.hidden;\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber, tween.isPathTargetInsideSVG);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\n  instance._onDocumentVisibility = resetTime;\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    engine();\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.remove = function(targets) {\n    var targetsArray = parseTargets(targets);\n    removeTargetsFromInstance(targetsArray, instance);\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargetsFromInstance(targetsArray, instance) {\n  var animations = instance.animations;\n  var children = instance.children;\n  removeTargetsFromAnimations(targetsArray, animations);\n  for (var c = children.length; c--;) {\n    var child = children[c];\n    var childAnimations = child.animations;\n    removeTargetsFromAnimations(targetsArray, childAnimations);\n    if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n  }\n  if (!animations.length && !children.length) { instance.pause(); }\n}\n\nfunction removeTargetsFromActiveInstances(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    removeTargetsFromInstance(targetsArray, instance);\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.1';\nanime.speed = 1;\n// TODO:#review: naming, documentation\nanime.suspendWhenDocumentHidden = true;\nanime.running = activeInstances;\nanime.remove = removeTargetsFromActiveInstances;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (anime);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixzQkFBc0I7QUFDdEIsb0JBQW9CO0FBQ3BCO0FBQ0EsMEJBQTBCLFdBQVc7QUFDckM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5Qiw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscUNBQXFDLDJDQUEyQztBQUNwRyxxQ0FBcUMscUNBQXFDLHVFQUF1RTtBQUNqSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QixnQ0FBZ0M7QUFDaEMsb0JBQW9CLHFCQUFxQixPQUFPO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDOztBQUVyQyxpRUFBZSxLQUFLLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vbm9kZV9tb2R1bGVzL2FuaW1lanMvbGliL2FuaW1lLmVzLmpzPzEyMDkiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIGFuaW1lLmpzIHYzLjIuMVxuICogKGMpIDIwMjAgSnVsaWFuIEdhcm5pZXJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogYW5pbWVqcy5jb21cbiAqL1xuXG4vLyBEZWZhdWx0c1xuXG52YXIgZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MgPSB7XG4gIHVwZGF0ZTogbnVsbCxcbiAgYmVnaW46IG51bGwsXG4gIGxvb3BCZWdpbjogbnVsbCxcbiAgY2hhbmdlQmVnaW46IG51bGwsXG4gIGNoYW5nZTogbnVsbCxcbiAgY2hhbmdlQ29tcGxldGU6IG51bGwsXG4gIGxvb3BDb21wbGV0ZTogbnVsbCxcbiAgY29tcGxldGU6IG51bGwsXG4gIGxvb3A6IDEsXG4gIGRpcmVjdGlvbjogJ25vcm1hbCcsXG4gIGF1dG9wbGF5OiB0cnVlLFxuICB0aW1lbGluZU9mZnNldDogMFxufTtcblxudmFyIGRlZmF1bHRUd2VlblNldHRpbmdzID0ge1xuICBkdXJhdGlvbjogMTAwMCxcbiAgZGVsYXk6IDAsXG4gIGVuZERlbGF5OiAwLFxuICBlYXNpbmc6ICdlYXNlT3V0RWxhc3RpYygxLCAuNSknLFxuICByb3VuZDogMFxufTtcblxudmFyIHZhbGlkVHJhbnNmb3JtcyA9IFsndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgJ3RyYW5zbGF0ZVonLCAncm90YXRlJywgJ3JvdGF0ZVgnLCAncm90YXRlWScsICdyb3RhdGVaJywgJ3NjYWxlJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnc2NhbGVaJywgJ3NrZXcnLCAnc2tld1gnLCAnc2tld1knLCAncGVyc3BlY3RpdmUnLCAnbWF0cml4JywgJ21hdHJpeDNkJ107XG5cbi8vIENhY2hpbmdcblxudmFyIGNhY2hlID0ge1xuICBDU1M6IHt9LFxuICBzcHJpbmdzOiB7fVxufTtcblxuLy8gVXRpbHNcblxuZnVuY3Rpb24gbWluTWF4KHZhbCwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbCwgbWluKSwgbWF4KTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nQ29udGFpbnMoc3RyLCB0ZXh0KSB7XG4gIHJldHVybiBzdHIuaW5kZXhPZih0ZXh0KSA+IC0xO1xufVxuXG5mdW5jdGlvbiBhcHBseUFyZ3VtZW50cyhmdW5jLCBhcmdzKSB7XG4gIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xufVxuXG52YXIgaXMgPSB7XG4gIGFycjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSk7IH0sXG4gIG9iajogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHN0cmluZ0NvbnRhaW5zKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKSwgJ09iamVjdCcpOyB9LFxuICBwdGg6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBpcy5vYmooYSkgJiYgYS5oYXNPd25Qcm9wZXJ0eSgndG90YWxMZW5ndGgnKTsgfSxcbiAgc3ZnOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7IH0sXG4gIGlucDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50OyB9LFxuICBkb206IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLm5vZGVUeXBlIHx8IGlzLnN2ZyhhKTsgfSxcbiAgc3RyOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICdzdHJpbmcnOyB9LFxuICBmbmM6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJzsgfSxcbiAgdW5kOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnOyB9LFxuICBuaWw6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBpcy51bmQoYSkgfHwgYSA9PT0gbnVsbDsgfSxcbiAgaGV4OiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gLyheI1swLTlBLUZdezZ9JCl8KF4jWzAtOUEtRl17M30kKS9pLnRlc3QoYSk7IH0sXG4gIHJnYjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC9ecmdiLy50ZXN0KGEpOyB9LFxuICBoc2w6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvXmhzbC8udGVzdChhKTsgfSxcbiAgY29sOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gKGlzLmhleChhKSB8fCBpcy5yZ2IoYSkgfHwgaXMuaHNsKGEpKTsgfSxcbiAga2V5OiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gIWRlZmF1bHRJbnN0YW5jZVNldHRpbmdzLmhhc093blByb3BlcnR5KGEpICYmICFkZWZhdWx0VHdlZW5TZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShhKSAmJiBhICE9PSAndGFyZ2V0cycgJiYgYSAhPT0gJ2tleWZyYW1lcyc7IH0sXG59O1xuXG4vLyBFYXNpbmdzXG5cbmZ1bmN0aW9uIHBhcnNlRWFzaW5nUGFyYW1ldGVycyhzdHJpbmcpIHtcbiAgdmFyIG1hdGNoID0gL1xcKChbXildKylcXCkvLmV4ZWMoc3RyaW5nKTtcbiAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHBhcnNlRmxvYXQocCk7IH0pIDogW107XG59XG5cbi8vIFNwcmluZyBzb2x2ZXIgaW5zcGlyZWQgYnkgV2Via2l0IENvcHlyaWdodCDCqSAyMDE2IEFwcGxlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4gaHR0cHM6Ly93ZWJraXQub3JnL2RlbW9zL3NwcmluZy9zcHJpbmcuanNcblxuZnVuY3Rpb24gc3ByaW5nKHN0cmluZywgZHVyYXRpb24pIHtcblxuICB2YXIgcGFyYW1zID0gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKHN0cmluZyk7XG4gIHZhciBtYXNzID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMF0pID8gMSA6IHBhcmFtc1swXSwgLjEsIDEwMCk7XG4gIHZhciBzdGlmZm5lc3MgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1sxXSkgPyAxMDAgOiBwYXJhbXNbMV0sIC4xLCAxMDApO1xuICB2YXIgZGFtcGluZyA9IG1pbk1heChpcy51bmQocGFyYW1zWzJdKSA/IDEwIDogcGFyYW1zWzJdLCAuMSwgMTAwKTtcbiAgdmFyIHZlbG9jaXR5ID0gIG1pbk1heChpcy51bmQocGFyYW1zWzNdKSA/IDAgOiBwYXJhbXNbM10sIC4xLCAxMDApO1xuICB2YXIgdzAgPSBNYXRoLnNxcnQoc3RpZmZuZXNzIC8gbWFzcyk7XG4gIHZhciB6ZXRhID0gZGFtcGluZyAvICgyICogTWF0aC5zcXJ0KHN0aWZmbmVzcyAqIG1hc3MpKTtcbiAgdmFyIHdkID0gemV0YSA8IDEgPyB3MCAqIE1hdGguc3FydCgxIC0gemV0YSAqIHpldGEpIDogMDtcbiAgdmFyIGEgPSAxO1xuICB2YXIgYiA9IHpldGEgPCAxID8gKHpldGEgKiB3MCArIC12ZWxvY2l0eSkgLyB3ZCA6IC12ZWxvY2l0eSArIHcwO1xuXG4gIGZ1bmN0aW9uIHNvbHZlcih0KSB7XG4gICAgdmFyIHByb2dyZXNzID0gZHVyYXRpb24gPyAoZHVyYXRpb24gKiB0KSAvIDEwMDAgOiB0O1xuICAgIGlmICh6ZXRhIDwgMSkge1xuICAgICAgcHJvZ3Jlc3MgPSBNYXRoLmV4cCgtcHJvZ3Jlc3MgKiB6ZXRhICogdzApICogKGEgKiBNYXRoLmNvcyh3ZCAqIHByb2dyZXNzKSArIGIgKiBNYXRoLnNpbih3ZCAqIHByb2dyZXNzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2dyZXNzID0gKGEgKyBiICogcHJvZ3Jlc3MpICogTWF0aC5leHAoLXByb2dyZXNzICogdzApO1xuICAgIH1cbiAgICBpZiAodCA9PT0gMCB8fCB0ID09PSAxKSB7IHJldHVybiB0OyB9XG4gICAgcmV0dXJuIDEgLSBwcm9ncmVzcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldER1cmF0aW9uKCkge1xuICAgIHZhciBjYWNoZWQgPSBjYWNoZS5zcHJpbmdzW3N0cmluZ107XG4gICAgaWYgKGNhY2hlZCkgeyByZXR1cm4gY2FjaGVkOyB9XG4gICAgdmFyIGZyYW1lID0gMS82O1xuICAgIHZhciBlbGFwc2VkID0gMDtcbiAgICB2YXIgcmVzdCA9IDA7XG4gICAgd2hpbGUodHJ1ZSkge1xuICAgICAgZWxhcHNlZCArPSBmcmFtZTtcbiAgICAgIGlmIChzb2x2ZXIoZWxhcHNlZCkgPT09IDEpIHtcbiAgICAgICAgcmVzdCsrO1xuICAgICAgICBpZiAocmVzdCA+PSAxNikgeyBicmVhazsgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdCA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkdXJhdGlvbiA9IGVsYXBzZWQgKiBmcmFtZSAqIDEwMDA7XG4gICAgY2FjaGUuc3ByaW5nc1tzdHJpbmddID0gZHVyYXRpb247XG4gICAgcmV0dXJuIGR1cmF0aW9uO1xuICB9XG5cbiAgcmV0dXJuIGR1cmF0aW9uID8gc29sdmVyIDogZ2V0RHVyYXRpb247XG5cbn1cblxuLy8gQmFzaWMgc3RlcHMgZWFzaW5nIGltcGxlbWVudGF0aW9uIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2ZyL2RvY3MvV2ViL0NTUy90cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblxuXG5mdW5jdGlvbiBzdGVwcyhzdGVwcykge1xuICBpZiAoIHN0ZXBzID09PSB2b2lkIDAgKSBzdGVwcyA9IDEwO1xuXG4gIHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gTWF0aC5jZWlsKChtaW5NYXgodCwgMC4wMDAwMDEsIDEpKSAqIHN0ZXBzKSAqICgxIC8gc3RlcHMpOyB9O1xufVxuXG4vLyBCZXppZXJFYXNpbmcgaHR0cHM6Ly9naXRodWIuY29tL2dyZS9iZXppZXItZWFzaW5nXG5cbnZhciBiZXppZXIgPSAoZnVuY3Rpb24gKCkge1xuXG4gIHZhciBrU3BsaW5lVGFibGVTaXplID0gMTE7XG4gIHZhciBrU2FtcGxlU3RlcFNpemUgPSAxLjAgLyAoa1NwbGluZVRhYmxlU2l6ZSAtIDEuMCk7XG5cbiAgZnVuY3Rpb24gQShhQTEsIGFBMikgeyByZXR1cm4gMS4wIC0gMy4wICogYUEyICsgMy4wICogYUExIH1cbiAgZnVuY3Rpb24gQihhQTEsIGFBMikgeyByZXR1cm4gMy4wICogYUEyIC0gNi4wICogYUExIH1cbiAgZnVuY3Rpb24gQyhhQTEpICAgICAgeyByZXR1cm4gMy4wICogYUExIH1cblxuICBmdW5jdGlvbiBjYWxjQmV6aWVyKGFULCBhQTEsIGFBMikgeyByZXR1cm4gKChBKGFBMSwgYUEyKSAqIGFUICsgQihhQTEsIGFBMikpICogYVQgKyBDKGFBMSkpICogYVQgfVxuICBmdW5jdGlvbiBnZXRTbG9wZShhVCwgYUExLCBhQTIpIHsgcmV0dXJuIDMuMCAqIEEoYUExLCBhQTIpICogYVQgKiBhVCArIDIuMCAqIEIoYUExLCBhQTIpICogYVQgKyBDKGFBMSkgfVxuXG4gIGZ1bmN0aW9uIGJpbmFyeVN1YmRpdmlkZShhWCwgYUEsIGFCLCBtWDEsIG1YMikge1xuICAgIHZhciBjdXJyZW50WCwgY3VycmVudFQsIGkgPSAwO1xuICAgIGRvIHtcbiAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgaWYgKGN1cnJlbnRYID4gMC4wKSB7IGFCID0gY3VycmVudFQ7IH0gZWxzZSB7IGFBID0gY3VycmVudFQ7IH1cbiAgICB9IHdoaWxlIChNYXRoLmFicyhjdXJyZW50WCkgPiAwLjAwMDAwMDEgJiYgKytpIDwgMTApO1xuICAgIHJldHVybiBjdXJyZW50VDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBhR3Vlc3NULCBtWDEsIG1YMikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICB2YXIgY3VycmVudFNsb3BlID0gZ2V0U2xvcGUoYUd1ZXNzVCwgbVgxLCBtWDIpO1xuICAgICAgaWYgKGN1cnJlbnRTbG9wZSA9PT0gMC4wKSB7IHJldHVybiBhR3Vlc3NUOyB9XG4gICAgICB2YXIgY3VycmVudFggPSBjYWxjQmV6aWVyKGFHdWVzc1QsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgYUd1ZXNzVCAtPSBjdXJyZW50WCAvIGN1cnJlbnRTbG9wZTtcbiAgICB9XG4gICAgcmV0dXJuIGFHdWVzc1Q7XG4gIH1cblxuICBmdW5jdGlvbiBiZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG5cbiAgICBpZiAoISgwIDw9IG1YMSAmJiBtWDEgPD0gMSAmJiAwIDw9IG1YMiAmJiBtWDIgPD0gMSkpIHsgcmV0dXJuOyB9XG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSk7XG5cbiAgICBpZiAobVgxICE9PSBtWTEgfHwgbVgyICE9PSBtWTIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga1NwbGluZVRhYmxlU2l6ZTsgKytpKSB7XG4gICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRGb3JYKGFYKSB7XG5cbiAgICAgIHZhciBpbnRlcnZhbFN0YXJ0ID0gMDtcbiAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgIHZhciBsYXN0U2FtcGxlID0ga1NwbGluZVRhYmxlU2l6ZSAtIDE7XG5cbiAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgIGludGVydmFsU3RhcnQgKz0ga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgfVxuXG4gICAgICAtLWN1cnJlbnRTYW1wbGU7XG5cbiAgICAgIHZhciBkaXN0ID0gKGFYIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKSAvIChzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZSArIDFdIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKTtcbiAgICAgIHZhciBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIGtTYW1wbGVTdGVwU2l6ZTtcbiAgICAgIHZhciBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcblxuICAgICAgaWYgKGluaXRpYWxTbG9wZSA+PSAwLjAwMSkge1xuICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuICAgICAgfSBlbHNlIGlmIChpbml0aWFsU2xvcGUgPT09IDAuMCkge1xuICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh4KSB7XG4gICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHsgcmV0dXJuIHg7IH1cbiAgICAgIGlmICh4ID09PSAwIHx8IHggPT09IDEpIHsgcmV0dXJuIHg7IH1cbiAgICAgIHJldHVybiBjYWxjQmV6aWVyKGdldFRGb3JYKHgpLCBtWTEsIG1ZMik7XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gYmV6aWVyO1xuXG59KSgpO1xuXG52YXIgcGVubmVyID0gKGZ1bmN0aW9uICgpIHtcblxuICAvLyBCYXNlZCBvbiBqUXVlcnkgVUkncyBpbXBsZW1lbmF0aW9uIG9mIGVhc2luZyBlcXVhdGlvbnMgZnJvbSBSb2JlcnQgUGVubmVyIChodHRwOi8vd3d3LnJvYmVydHBlbm5lci5jb20vZWFzaW5nKVxuXG4gIHZhciBlYXNlcyA9IHsgbGluZWFyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdDsgfTsgfSB9O1xuXG4gIHZhciBmdW5jdGlvbkVhc2luZ3MgPSB7XG4gICAgU2luZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBNYXRoLmNvcyh0ICogTWF0aC5QSSAvIDIpOyB9OyB9LFxuICAgIENpcmM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gTWF0aC5zcXJ0KDEgLSB0ICogdCk7IH07IH0sXG4gICAgQmFjazogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgKiB0ICogKDMgKiB0IC0gMik7IH07IH0sXG4gICAgQm91bmNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgdmFyIHBvdzIsIGIgPSA0O1xuICAgICAgd2hpbGUgKHQgPCAoKCBwb3cyID0gTWF0aC5wb3coMiwgLS1iKSkgLSAxKSAvIDExKSB7fVxuICAgICAgcmV0dXJuIDEgLyBNYXRoLnBvdyg0LCAzIC0gYikgLSA3LjU2MjUgKiBNYXRoLnBvdygoIHBvdzIgKiAzIC0gMiApIC8gMjIgLSB0LCAyKVxuICAgIH07IH0sXG4gICAgRWxhc3RpYzogZnVuY3Rpb24gKGFtcGxpdHVkZSwgcGVyaW9kKSB7XG4gICAgICBpZiAoIGFtcGxpdHVkZSA9PT0gdm9pZCAwICkgYW1wbGl0dWRlID0gMTtcbiAgICAgIGlmICggcGVyaW9kID09PSB2b2lkIDAgKSBwZXJpb2QgPSAuNTtcblxuICAgICAgdmFyIGEgPSBtaW5NYXgoYW1wbGl0dWRlLCAxLCAxMCk7XG4gICAgICB2YXIgcCA9IG1pbk1heChwZXJpb2QsIC4xLCAyKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gKHQgPT09IDAgfHwgdCA9PT0gMSkgPyB0IDogXG4gICAgICAgICAgLWEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICogTWF0aC5zaW4oKCgodCAtIDEpIC0gKHAgLyAoTWF0aC5QSSAqIDIpICogTWF0aC5hc2luKDEgLyBhKSkpICogKE1hdGguUEkgKiAyKSkgLyBwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGJhc2VFYXNpbmdzID0gWydRdWFkJywgJ0N1YmljJywgJ1F1YXJ0JywgJ1F1aW50JywgJ0V4cG8nXTtcblxuICBiYXNlRWFzaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCBpKSB7XG4gICAgZnVuY3Rpb25FYXNpbmdzW25hbWVdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE1hdGgucG93KHQsIGkgKyAyKTsgfTsgfTtcbiAgfSk7XG5cbiAgT2JqZWN0LmtleXMoZnVuY3Rpb25FYXNpbmdzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGVhc2VJbiA9IGZ1bmN0aW9uRWFzaW5nc1tuYW1lXTtcbiAgICBlYXNlc1snZWFzZUluJyArIG5hbWVdID0gZWFzZUluO1xuICAgIGVhc2VzWydlYXNlT3V0JyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gZWFzZUluKGEsIGIpKDEgLSB0KTsgfTsgfTtcbiAgICBlYXNlc1snZWFzZUluT3V0JyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0IDwgMC41ID8gZWFzZUluKGEsIGIpKHQgKiAyKSAvIDIgOiBcbiAgICAgIDEgLSBlYXNlSW4oYSwgYikodCAqIC0yICsgMikgLyAyOyB9OyB9O1xuICAgIGVhc2VzWydlYXNlT3V0SW4nICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgPCAwLjUgPyAoMSAtIGVhc2VJbihhLCBiKSgxIC0gdCAqIDIpKSAvIDIgOiBcbiAgICAgIChlYXNlSW4oYSwgYikodCAqIDIgLSAxKSArIDEpIC8gMjsgfTsgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIGVhc2VzO1xuXG59KSgpO1xuXG5mdW5jdGlvbiBwYXJzZUVhc2luZ3MoZWFzaW5nLCBkdXJhdGlvbikge1xuICBpZiAoaXMuZm5jKGVhc2luZykpIHsgcmV0dXJuIGVhc2luZzsgfVxuICB2YXIgbmFtZSA9IGVhc2luZy5zcGxpdCgnKCcpWzBdO1xuICB2YXIgZWFzZSA9IHBlbm5lcltuYW1lXTtcbiAgdmFyIGFyZ3MgPSBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoZWFzaW5nKTtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSAnc3ByaW5nJyA6IHJldHVybiBzcHJpbmcoZWFzaW5nLCBkdXJhdGlvbik7XG4gICAgY2FzZSAnY3ViaWNCZXppZXInIDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKGJlemllciwgYXJncyk7XG4gICAgY2FzZSAnc3RlcHMnIDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKHN0ZXBzLCBhcmdzKTtcbiAgICBkZWZhdWx0IDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKGVhc2UsIGFyZ3MpO1xuICB9XG59XG5cbi8vIFN0cmluZ3NcblxuZnVuY3Rpb24gc2VsZWN0U3RyaW5nKHN0cikge1xuICB0cnkge1xuICAgIHZhciBub2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc3RyKTtcbiAgICByZXR1cm4gbm9kZXM7XG4gIH0gY2F0Y2goZSkge1xuICAgIHJldHVybjtcbiAgfVxufVxuXG4vLyBBcnJheXNcblxuZnVuY3Rpb24gZmlsdGVyQXJyYXkoYXJyLCBjYWxsYmFjaykge1xuICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoID49IDIgPyBhcmd1bWVudHNbMV0gOiB2b2lkIDA7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChpIGluIGFycikge1xuICAgICAgdmFyIHZhbCA9IGFycltpXTtcbiAgICAgIGlmIChjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHZhbCwgaSwgYXJyKSkge1xuICAgICAgICByZXN1bHQucHVzaCh2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBmbGF0dGVuQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmNvbmNhdChpcy5hcnIoYikgPyBmbGF0dGVuQXJyYXkoYikgOiBiKTsgfSwgW10pO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5KG8pIHtcbiAgaWYgKGlzLmFycihvKSkgeyByZXR1cm4gbzsgfVxuICBpZiAoaXMuc3RyKG8pKSB7IG8gPSBzZWxlY3RTdHJpbmcobykgfHwgbzsgfVxuICBpZiAobyBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8IG8gaW5zdGFuY2VvZiBIVE1MQ29sbGVjdGlvbikgeyByZXR1cm4gW10uc2xpY2UuY2FsbChvKTsgfVxuICByZXR1cm4gW29dO1xufVxuXG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zKGFyciwgdmFsKSB7XG4gIHJldHVybiBhcnIuc29tZShmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSA9PT0gdmFsOyB9KTtcbn1cblxuLy8gT2JqZWN0c1xuXG5mdW5jdGlvbiBjbG9uZU9iamVjdChvKSB7XG4gIHZhciBjbG9uZSA9IHt9O1xuICBmb3IgKHZhciBwIGluIG8pIHsgY2xvbmVbcF0gPSBvW3BdOyB9XG4gIHJldHVybiBjbG9uZTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZU9iamVjdFByb3BzKG8xLCBvMikge1xuICB2YXIgbyA9IGNsb25lT2JqZWN0KG8xKTtcbiAgZm9yICh2YXIgcCBpbiBvMSkgeyBvW3BdID0gbzIuaGFzT3duUHJvcGVydHkocCkgPyBvMltwXSA6IG8xW3BdOyB9XG4gIHJldHVybiBvO1xufVxuXG5mdW5jdGlvbiBtZXJnZU9iamVjdHMobzEsIG8yKSB7XG4gIHZhciBvID0gY2xvbmVPYmplY3QobzEpO1xuICBmb3IgKHZhciBwIGluIG8yKSB7IG9bcF0gPSBpcy51bmQobzFbcF0pID8gbzJbcF0gOiBvMVtwXTsgfVxuICByZXR1cm4gbztcbn1cblxuLy8gQ29sb3JzXG5cbmZ1bmN0aW9uIHJnYlRvUmdiYShyZ2JWYWx1ZSkge1xuICB2YXIgcmdiID0gL3JnYlxcKChcXGQrLFxccypbXFxkXSssXFxzKltcXGRdKylcXCkvZy5leGVjKHJnYlZhbHVlKTtcbiAgcmV0dXJuIHJnYiA/IChcInJnYmEoXCIgKyAocmdiWzFdKSArIFwiLDEpXCIpIDogcmdiVmFsdWU7XG59XG5cbmZ1bmN0aW9uIGhleFRvUmdiYShoZXhWYWx1ZSkge1xuICB2YXIgcmd4ID0gL14jPyhbYS1mXFxkXSkoW2EtZlxcZF0pKFthLWZcXGRdKSQvaTtcbiAgdmFyIGhleCA9IGhleFZhbHVlLnJlcGxhY2Uocmd4LCBmdW5jdGlvbiAobSwgciwgZywgYikgeyByZXR1cm4gciArIHIgKyBnICsgZyArIGIgKyBiOyB9ICk7XG4gIHZhciByZ2IgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KTtcbiAgdmFyIHIgPSBwYXJzZUludChyZ2JbMV0sIDE2KTtcbiAgdmFyIGcgPSBwYXJzZUludChyZ2JbMl0sIDE2KTtcbiAgdmFyIGIgPSBwYXJzZUludChyZ2JbM10sIDE2KTtcbiAgcmV0dXJuIChcInJnYmEoXCIgKyByICsgXCIsXCIgKyBnICsgXCIsXCIgKyBiICsgXCIsMSlcIik7XG59XG5cbmZ1bmN0aW9uIGhzbFRvUmdiYShoc2xWYWx1ZSkge1xuICB2YXIgaHNsID0gL2hzbFxcKChcXGQrKSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspJVxcKS9nLmV4ZWMoaHNsVmFsdWUpIHx8IC9oc2xhXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKylcXCkvZy5leGVjKGhzbFZhbHVlKTtcbiAgdmFyIGggPSBwYXJzZUludChoc2xbMV0sIDEwKSAvIDM2MDtcbiAgdmFyIHMgPSBwYXJzZUludChoc2xbMl0sIDEwKSAvIDEwMDtcbiAgdmFyIGwgPSBwYXJzZUludChoc2xbM10sIDEwKSAvIDEwMDtcbiAgdmFyIGEgPSBoc2xbNF0gfHwgMTtcbiAgZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgaWYgKHQgPCAwKSB7IHQgKz0gMTsgfVxuICAgIGlmICh0ID4gMSkgeyB0IC09IDE7IH1cbiAgICBpZiAodCA8IDEvNikgeyByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDsgfVxuICAgIGlmICh0IDwgMS8yKSB7IHJldHVybiBxOyB9XG4gICAgaWYgKHQgPCAyLzMpIHsgcmV0dXJuIHAgKyAocSAtIHApICogKDIvMyAtIHQpICogNjsgfVxuICAgIHJldHVybiBwO1xuICB9XG4gIHZhciByLCBnLCBiO1xuICBpZiAocyA9PSAwKSB7XG4gICAgciA9IGcgPSBiID0gbDtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgdmFyIHAgPSAyICogbCAtIHE7XG4gICAgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEvMyk7XG4gICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEvMyk7XG4gIH1cbiAgcmV0dXJuIChcInJnYmEoXCIgKyAociAqIDI1NSkgKyBcIixcIiArIChnICogMjU1KSArIFwiLFwiICsgKGIgKiAyNTUpICsgXCIsXCIgKyBhICsgXCIpXCIpO1xufVxuXG5mdW5jdGlvbiBjb2xvclRvUmdiKHZhbCkge1xuICBpZiAoaXMucmdiKHZhbCkpIHsgcmV0dXJuIHJnYlRvUmdiYSh2YWwpOyB9XG4gIGlmIChpcy5oZXgodmFsKSkgeyByZXR1cm4gaGV4VG9SZ2JhKHZhbCk7IH1cbiAgaWYgKGlzLmhzbCh2YWwpKSB7IHJldHVybiBoc2xUb1JnYmEodmFsKTsgfVxufVxuXG4vLyBVbml0c1xuXG5mdW5jdGlvbiBnZXRVbml0KHZhbCkge1xuICB2YXIgc3BsaXQgPSAvWystXT9cXGQqXFwuP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8oJXxweHxwdHxlbXxyZW18aW58Y218bW18ZXh8Y2h8cGN8dnd8dmh8dm1pbnx2bWF4fGRlZ3xyYWR8dHVybik/JC8uZXhlYyh2YWwpO1xuICBpZiAoc3BsaXQpIHsgcmV0dXJuIHNwbGl0WzFdOyB9XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVVuaXQocHJvcE5hbWUpIHtcbiAgaWYgKHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAndHJhbnNsYXRlJykgfHwgcHJvcE5hbWUgPT09ICdwZXJzcGVjdGl2ZScpIHsgcmV0dXJuICdweCc7IH1cbiAgaWYgKHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAncm90YXRlJykgfHwgc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdza2V3JykpIHsgcmV0dXJuICdkZWcnOyB9XG59XG5cbi8vIFZhbHVlc1xuXG5mdW5jdGlvbiBnZXRGdW5jdGlvblZhbHVlKHZhbCwgYW5pbWF0YWJsZSkge1xuICBpZiAoIWlzLmZuYyh2YWwpKSB7IHJldHVybiB2YWw7IH1cbiAgcmV0dXJuIHZhbChhbmltYXRhYmxlLnRhcmdldCwgYW5pbWF0YWJsZS5pZCwgYW5pbWF0YWJsZS50b3RhbCk7XG59XG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZShlbCwgcHJvcCkge1xuICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKHByb3ApO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0UHhUb1VuaXQoZWwsIHZhbHVlLCB1bml0KSB7XG4gIHZhciB2YWx1ZVVuaXQgPSBnZXRVbml0KHZhbHVlKTtcbiAgaWYgKGFycmF5Q29udGFpbnMoW3VuaXQsICdkZWcnLCAncmFkJywgJ3R1cm4nXSwgdmFsdWVVbml0KSkgeyByZXR1cm4gdmFsdWU7IH1cbiAgdmFyIGNhY2hlZCA9IGNhY2hlLkNTU1t2YWx1ZSArIHVuaXRdO1xuICBpZiAoIWlzLnVuZChjYWNoZWQpKSB7IHJldHVybiBjYWNoZWQ7IH1cbiAgdmFyIGJhc2VsaW5lID0gMTAwO1xuICB2YXIgdGVtcEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbC50YWdOYW1lKTtcbiAgdmFyIHBhcmVudEVsID0gKGVsLnBhcmVudE5vZGUgJiYgKGVsLnBhcmVudE5vZGUgIT09IGRvY3VtZW50KSkgPyBlbC5wYXJlbnROb2RlIDogZG9jdW1lbnQuYm9keTtcbiAgcGFyZW50RWwuYXBwZW5kQ2hpbGQodGVtcEVsKTtcbiAgdGVtcEVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgdGVtcEVsLnN0eWxlLndpZHRoID0gYmFzZWxpbmUgKyB1bml0O1xuICB2YXIgZmFjdG9yID0gYmFzZWxpbmUgLyB0ZW1wRWwub2Zmc2V0V2lkdGg7XG4gIHBhcmVudEVsLnJlbW92ZUNoaWxkKHRlbXBFbCk7XG4gIHZhciBjb252ZXJ0ZWRVbml0ID0gZmFjdG9yICogcGFyc2VGbG9hdCh2YWx1ZSk7XG4gIGNhY2hlLkNTU1t2YWx1ZSArIHVuaXRdID0gY29udmVydGVkVW5pdDtcbiAgcmV0dXJuIGNvbnZlcnRlZFVuaXQ7XG59XG5cbmZ1bmN0aW9uIGdldENTU1ZhbHVlKGVsLCBwcm9wLCB1bml0KSB7XG4gIGlmIChwcm9wIGluIGVsLnN0eWxlKSB7XG4gICAgdmFyIHVwcGVyY2FzZVByb3BOYW1lID0gcHJvcC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciB2YWx1ZSA9IGVsLnN0eWxlW3Byb3BdIHx8IGdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUodXBwZXJjYXNlUHJvcE5hbWUpIHx8ICcwJztcbiAgICByZXR1cm4gdW5pdCA/IGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIDogdmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0aW9uVHlwZShlbCwgcHJvcCkge1xuICBpZiAoaXMuZG9tKGVsKSAmJiAhaXMuaW5wKGVsKSAmJiAoIWlzLm5pbChnZXRBdHRyaWJ1dGUoZWwsIHByb3ApKSB8fCAoaXMuc3ZnKGVsKSAmJiBlbFtwcm9wXSkpKSB7IHJldHVybiAnYXR0cmlidXRlJzsgfVxuICBpZiAoaXMuZG9tKGVsKSAmJiBhcnJheUNvbnRhaW5zKHZhbGlkVHJhbnNmb3JtcywgcHJvcCkpIHsgcmV0dXJuICd0cmFuc2Zvcm0nOyB9XG4gIGlmIChpcy5kb20oZWwpICYmIChwcm9wICE9PSAndHJhbnNmb3JtJyAmJiBnZXRDU1NWYWx1ZShlbCwgcHJvcCkpKSB7IHJldHVybiAnY3NzJzsgfVxuICBpZiAoZWxbcHJvcF0gIT0gbnVsbCkgeyByZXR1cm4gJ29iamVjdCc7IH1cbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudFRyYW5zZm9ybXMoZWwpIHtcbiAgaWYgKCFpcy5kb20oZWwpKSB7IHJldHVybjsgfVxuICB2YXIgc3RyID0gZWwuc3R5bGUudHJhbnNmb3JtIHx8ICcnO1xuICB2YXIgcmVnICA9IC8oXFx3KylcXCgoW14pXSopXFwpL2c7XG4gIHZhciB0cmFuc2Zvcm1zID0gbmV3IE1hcCgpO1xuICB2YXIgbTsgd2hpbGUgKG0gPSByZWcuZXhlYyhzdHIpKSB7IHRyYW5zZm9ybXMuc2V0KG1bMV0sIG1bMl0pOyB9XG4gIHJldHVybiB0cmFuc2Zvcm1zO1xufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1WYWx1ZShlbCwgcHJvcE5hbWUsIGFuaW1hdGFibGUsIHVuaXQpIHtcbiAgdmFyIGRlZmF1bHRWYWwgPSBzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3NjYWxlJykgPyAxIDogMCArIGdldFRyYW5zZm9ybVVuaXQocHJvcE5hbWUpO1xuICB2YXIgdmFsdWUgPSBnZXRFbGVtZW50VHJhbnNmb3JtcyhlbCkuZ2V0KHByb3BOYW1lKSB8fCBkZWZhdWx0VmFsO1xuICBpZiAoYW5pbWF0YWJsZSkge1xuICAgIGFuaW1hdGFibGUudHJhbnNmb3Jtcy5saXN0LnNldChwcm9wTmFtZSwgdmFsdWUpO1xuICAgIGFuaW1hdGFibGUudHJhbnNmb3Jtc1snbGFzdCddID0gcHJvcE5hbWU7XG4gIH1cbiAgcmV0dXJuIHVuaXQgPyBjb252ZXJ0UHhUb1VuaXQoZWwsIHZhbHVlLCB1bml0KSA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBnZXRPcmlnaW5hbFRhcmdldFZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHVuaXQsIGFuaW1hdGFibGUpIHtcbiAgc3dpdGNoIChnZXRBbmltYXRpb25UeXBlKHRhcmdldCwgcHJvcE5hbWUpKSB7XG4gICAgY2FzZSAndHJhbnNmb3JtJzogcmV0dXJuIGdldFRyYW5zZm9ybVZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIGFuaW1hdGFibGUsIHVuaXQpO1xuICAgIGNhc2UgJ2Nzcyc6IHJldHVybiBnZXRDU1NWYWx1ZSh0YXJnZXQsIHByb3BOYW1lLCB1bml0KTtcbiAgICBjYXNlICdhdHRyaWJ1dGUnOiByZXR1cm4gZ2V0QXR0cmlidXRlKHRhcmdldCwgcHJvcE5hbWUpO1xuICAgIGRlZmF1bHQ6IHJldHVybiB0YXJnZXRbcHJvcE5hbWVdIHx8IDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UmVsYXRpdmVWYWx1ZSh0bywgZnJvbSkge1xuICB2YXIgb3BlcmF0b3IgPSAvXihcXCo9fFxcKz18LT0pLy5leGVjKHRvKTtcbiAgaWYgKCFvcGVyYXRvcikgeyByZXR1cm4gdG87IH1cbiAgdmFyIHUgPSBnZXRVbml0KHRvKSB8fCAwO1xuICB2YXIgeCA9IHBhcnNlRmxvYXQoZnJvbSk7XG4gIHZhciB5ID0gcGFyc2VGbG9hdCh0by5yZXBsYWNlKG9wZXJhdG9yWzBdLCAnJykpO1xuICBzd2l0Y2ggKG9wZXJhdG9yWzBdWzBdKSB7XG4gICAgY2FzZSAnKyc6IHJldHVybiB4ICsgeSArIHU7XG4gICAgY2FzZSAnLSc6IHJldHVybiB4IC0geSArIHU7XG4gICAgY2FzZSAnKic6IHJldHVybiB4ICogeSArIHU7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVWYWx1ZSh2YWwsIHVuaXQpIHtcbiAgaWYgKGlzLmNvbCh2YWwpKSB7IHJldHVybiBjb2xvclRvUmdiKHZhbCk7IH1cbiAgaWYgKC9cXHMvZy50ZXN0KHZhbCkpIHsgcmV0dXJuIHZhbDsgfVxuICB2YXIgb3JpZ2luYWxVbml0ID0gZ2V0VW5pdCh2YWwpO1xuICB2YXIgdW5pdExlc3MgPSBvcmlnaW5hbFVuaXQgPyB2YWwuc3Vic3RyKDAsIHZhbC5sZW5ndGggLSBvcmlnaW5hbFVuaXQubGVuZ3RoKSA6IHZhbDtcbiAgaWYgKHVuaXQpIHsgcmV0dXJuIHVuaXRMZXNzICsgdW5pdDsgfVxuICByZXR1cm4gdW5pdExlc3M7XG59XG5cbi8vIGdldFRvdGFsTGVuZ3RoKCkgZXF1aXZhbGVudCBmb3IgY2lyY2xlLCByZWN0LCBwb2x5bGluZSwgcG9seWdvbiBhbmQgbGluZSBzaGFwZXNcbi8vIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9TZWJMYW1ibGEvM2UwNTUwYzQ5NmMyMzY3MDk3NDRcblxuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2lyY2xlTGVuZ3RoKGVsKSB7XG4gIHJldHVybiBNYXRoLlBJICogMiAqIGdldEF0dHJpYnV0ZShlbCwgJ3InKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVjdExlbmd0aChlbCkge1xuICByZXR1cm4gKGdldEF0dHJpYnV0ZShlbCwgJ3dpZHRoJykgKiAyKSArIChnZXRBdHRyaWJ1dGUoZWwsICdoZWlnaHQnKSAqIDIpO1xufVxuXG5mdW5jdGlvbiBnZXRMaW5lTGVuZ3RoKGVsKSB7XG4gIHJldHVybiBnZXREaXN0YW5jZShcbiAgICB7eDogZ2V0QXR0cmlidXRlKGVsLCAneDEnKSwgeTogZ2V0QXR0cmlidXRlKGVsLCAneTEnKX0sIFxuICAgIHt4OiBnZXRBdHRyaWJ1dGUoZWwsICd4MicpLCB5OiBnZXRBdHRyaWJ1dGUoZWwsICd5MicpfVxuICApO1xufVxuXG5mdW5jdGlvbiBnZXRQb2x5bGluZUxlbmd0aChlbCkge1xuICB2YXIgcG9pbnRzID0gZWwucG9pbnRzO1xuICB2YXIgdG90YWxMZW5ndGggPSAwO1xuICB2YXIgcHJldmlvdXNQb3M7XG4gIGZvciAodmFyIGkgPSAwIDsgaSA8IHBvaW50cy5udW1iZXJPZkl0ZW1zOyBpKyspIHtcbiAgICB2YXIgY3VycmVudFBvcyA9IHBvaW50cy5nZXRJdGVtKGkpO1xuICAgIGlmIChpID4gMCkgeyB0b3RhbExlbmd0aCArPSBnZXREaXN0YW5jZShwcmV2aW91c1BvcywgY3VycmVudFBvcyk7IH1cbiAgICBwcmV2aW91c1BvcyA9IGN1cnJlbnRQb3M7XG4gIH1cbiAgcmV0dXJuIHRvdGFsTGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBnZXRQb2x5Z29uTGVuZ3RoKGVsKSB7XG4gIHZhciBwb2ludHMgPSBlbC5wb2ludHM7XG4gIHJldHVybiBnZXRQb2x5bGluZUxlbmd0aChlbCkgKyBnZXREaXN0YW5jZShwb2ludHMuZ2V0SXRlbShwb2ludHMubnVtYmVyT2ZJdGVtcyAtIDEpLCBwb2ludHMuZ2V0SXRlbSgwKSk7XG59XG5cbi8vIFBhdGggYW5pbWF0aW9uXG5cbmZ1bmN0aW9uIGdldFRvdGFsTGVuZ3RoKGVsKSB7XG4gIGlmIChlbC5nZXRUb3RhbExlbmd0aCkgeyByZXR1cm4gZWwuZ2V0VG90YWxMZW5ndGgoKTsgfVxuICBzd2l0Y2goZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnY2lyY2xlJzogcmV0dXJuIGdldENpcmNsZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncmVjdCc6IHJldHVybiBnZXRSZWN0TGVuZ3RoKGVsKTtcbiAgICBjYXNlICdsaW5lJzogcmV0dXJuIGdldExpbmVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3BvbHlsaW5lJzogcmV0dXJuIGdldFBvbHlsaW5lTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdwb2x5Z29uJzogcmV0dXJuIGdldFBvbHlnb25MZW5ndGgoZWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldERhc2hvZmZzZXQoZWwpIHtcbiAgdmFyIHBhdGhMZW5ndGggPSBnZXRUb3RhbExlbmd0aChlbCk7XG4gIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hhcnJheScsIHBhdGhMZW5ndGgpO1xuICByZXR1cm4gcGF0aExlbmd0aDtcbn1cblxuLy8gTW90aW9uIHBhdGhcblxuZnVuY3Rpb24gZ2V0UGFyZW50U3ZnRWwoZWwpIHtcbiAgdmFyIHBhcmVudEVsID0gZWwucGFyZW50Tm9kZTtcbiAgd2hpbGUgKGlzLnN2ZyhwYXJlbnRFbCkpIHtcbiAgICBpZiAoIWlzLnN2ZyhwYXJlbnRFbC5wYXJlbnROb2RlKSkgeyBicmVhazsgfVxuICAgIHBhcmVudEVsID0gcGFyZW50RWwucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gcGFyZW50RWw7XG59XG5cbmZ1bmN0aW9uIGdldFBhcmVudFN2ZyhwYXRoRWwsIHN2Z0RhdGEpIHtcbiAgdmFyIHN2ZyA9IHN2Z0RhdGEgfHwge307XG4gIHZhciBwYXJlbnRTdmdFbCA9IHN2Zy5lbCB8fCBnZXRQYXJlbnRTdmdFbChwYXRoRWwpO1xuICB2YXIgcmVjdCA9IHBhcmVudFN2Z0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgdmlld0JveEF0dHIgPSBnZXRBdHRyaWJ1dGUocGFyZW50U3ZnRWwsICd2aWV3Qm94Jyk7XG4gIHZhciB3aWR0aCA9IHJlY3Qud2lkdGg7XG4gIHZhciBoZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgdmFyIHZpZXdCb3ggPSBzdmcudmlld0JveCB8fCAodmlld0JveEF0dHIgPyB2aWV3Qm94QXR0ci5zcGxpdCgnICcpIDogWzAsIDAsIHdpZHRoLCBoZWlnaHRdKTtcbiAgcmV0dXJuIHtcbiAgICBlbDogcGFyZW50U3ZnRWwsXG4gICAgdmlld0JveDogdmlld0JveCxcbiAgICB4OiB2aWV3Qm94WzBdIC8gMSxcbiAgICB5OiB2aWV3Qm94WzFdIC8gMSxcbiAgICB3OiB3aWR0aCxcbiAgICBoOiBoZWlnaHQsXG4gICAgdlc6IHZpZXdCb3hbMl0sXG4gICAgdkg6IHZpZXdCb3hbM11cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYXRoKHBhdGgsIHBlcmNlbnQpIHtcbiAgdmFyIHBhdGhFbCA9IGlzLnN0cihwYXRoKSA/IHNlbGVjdFN0cmluZyhwYXRoKVswXSA6IHBhdGg7XG4gIHZhciBwID0gcGVyY2VudCB8fCAxMDA7XG4gIHJldHVybiBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wZXJ0eTogcHJvcGVydHksXG4gICAgICBlbDogcGF0aEVsLFxuICAgICAgc3ZnOiBnZXRQYXJlbnRTdmcocGF0aEVsKSxcbiAgICAgIHRvdGFsTGVuZ3RoOiBnZXRUb3RhbExlbmd0aChwYXRoRWwpICogKHAgLyAxMDApXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdGhQcm9ncmVzcyhwYXRoLCBwcm9ncmVzcywgaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHKSB7XG4gIGZ1bmN0aW9uIHBvaW50KG9mZnNldCkge1xuICAgIGlmICggb2Zmc2V0ID09PSB2b2lkIDAgKSBvZmZzZXQgPSAwO1xuXG4gICAgdmFyIGwgPSBwcm9ncmVzcyArIG9mZnNldCA+PSAxID8gcHJvZ3Jlc3MgKyBvZmZzZXQgOiAwO1xuICAgIHJldHVybiBwYXRoLmVsLmdldFBvaW50QXRMZW5ndGgobCk7XG4gIH1cbiAgdmFyIHN2ZyA9IGdldFBhcmVudFN2ZyhwYXRoLmVsLCBwYXRoLnN2Zyk7XG4gIHZhciBwID0gcG9pbnQoKTtcbiAgdmFyIHAwID0gcG9pbnQoLTEpO1xuICB2YXIgcDEgPSBwb2ludCgrMSk7XG4gIHZhciBzY2FsZVggPSBpc1BhdGhUYXJnZXRJbnNpZGVTVkcgPyAxIDogc3ZnLncgLyBzdmcudlc7XG4gIHZhciBzY2FsZVkgPSBpc1BhdGhUYXJnZXRJbnNpZGVTVkcgPyAxIDogc3ZnLmggLyBzdmcudkg7XG4gIHN3aXRjaCAocGF0aC5wcm9wZXJ0eSkge1xuICAgIGNhc2UgJ3gnOiByZXR1cm4gKHAueCAtIHN2Zy54KSAqIHNjYWxlWDtcbiAgICBjYXNlICd5JzogcmV0dXJuIChwLnkgLSBzdmcueSkgKiBzY2FsZVk7XG4gICAgY2FzZSAnYW5nbGUnOiByZXR1cm4gTWF0aC5hdGFuMihwMS55IC0gcDAueSwgcDEueCAtIHAwLngpICogMTgwIC8gTWF0aC5QSTtcbiAgfVxufVxuXG4vLyBEZWNvbXBvc2UgdmFsdWVcblxuZnVuY3Rpb24gZGVjb21wb3NlVmFsdWUodmFsLCB1bml0KSB7XG4gIC8vIGNvbnN0IHJneCA9IC8tP1xcZCpcXC4/XFxkKy9nOyAvLyBoYW5kbGVzIGJhc2ljIG51bWJlcnNcbiAgLy8gY29uc3Qgcmd4ID0gL1srLV0/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPy9nOyAvLyBoYW5kbGVzIGV4cG9uZW50cyBub3RhdGlvblxuICB2YXIgcmd4ID0gL1srLV0/XFxkKlxcLj9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/L2c7IC8vIGhhbmRsZXMgZXhwb25lbnRzIG5vdGF0aW9uXG4gIHZhciB2YWx1ZSA9IHZhbGlkYXRlVmFsdWUoKGlzLnB0aCh2YWwpID8gdmFsLnRvdGFsTGVuZ3RoIDogdmFsKSwgdW5pdCkgKyAnJztcbiAgcmV0dXJuIHtcbiAgICBvcmlnaW5hbDogdmFsdWUsXG4gICAgbnVtYmVyczogdmFsdWUubWF0Y2gocmd4KSA/IHZhbHVlLm1hdGNoKHJneCkubWFwKE51bWJlcikgOiBbMF0sXG4gICAgc3RyaW5nczogKGlzLnN0cih2YWwpIHx8IHVuaXQpID8gdmFsdWUuc3BsaXQocmd4KSA6IFtdXG4gIH1cbn1cblxuLy8gQW5pbWF0YWJsZXNcblxuZnVuY3Rpb24gcGFyc2VUYXJnZXRzKHRhcmdldHMpIHtcbiAgdmFyIHRhcmdldHNBcnJheSA9IHRhcmdldHMgPyAoZmxhdHRlbkFycmF5KGlzLmFycih0YXJnZXRzKSA/IHRhcmdldHMubWFwKHRvQXJyYXkpIDogdG9BcnJheSh0YXJnZXRzKSkpIDogW107XG4gIHJldHVybiBmaWx0ZXJBcnJheSh0YXJnZXRzQXJyYXksIGZ1bmN0aW9uIChpdGVtLCBwb3MsIHNlbGYpIHsgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PT0gcG9zOyB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0YWJsZXModGFyZ2V0cykge1xuICB2YXIgcGFyc2VkID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICByZXR1cm4gcGFyc2VkLm1hcChmdW5jdGlvbiAodCwgaSkge1xuICAgIHJldHVybiB7dGFyZ2V0OiB0LCBpZDogaSwgdG90YWw6IHBhcnNlZC5sZW5ndGgsIHRyYW5zZm9ybXM6IHsgbGlzdDogZ2V0RWxlbWVudFRyYW5zZm9ybXModCkgfSB9O1xuICB9KTtcbn1cblxuLy8gUHJvcGVydGllc1xuXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyhwcm9wLCB0d2VlblNldHRpbmdzKSB7XG4gIHZhciBzZXR0aW5ncyA9IGNsb25lT2JqZWN0KHR3ZWVuU2V0dGluZ3MpO1xuICAvLyBPdmVycmlkZSBkdXJhdGlvbiBpZiBlYXNpbmcgaXMgYSBzcHJpbmdcbiAgaWYgKC9ec3ByaW5nLy50ZXN0KHNldHRpbmdzLmVhc2luZykpIHsgc2V0dGluZ3MuZHVyYXRpb24gPSBzcHJpbmcoc2V0dGluZ3MuZWFzaW5nKTsgfVxuICBpZiAoaXMuYXJyKHByb3ApKSB7XG4gICAgdmFyIGwgPSBwcm9wLmxlbmd0aDtcbiAgICB2YXIgaXNGcm9tVG8gPSAobCA9PT0gMiAmJiAhaXMub2JqKHByb3BbMF0pKTtcbiAgICBpZiAoIWlzRnJvbVRvKSB7XG4gICAgICAvLyBEdXJhdGlvbiBkaXZpZGVkIGJ5IHRoZSBudW1iZXIgb2YgdHdlZW5zXG4gICAgICBpZiAoIWlzLmZuYyh0d2VlblNldHRpbmdzLmR1cmF0aW9uKSkgeyBzZXR0aW5ncy5kdXJhdGlvbiA9IHR3ZWVuU2V0dGluZ3MuZHVyYXRpb24gLyBsOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRyYW5zZm9ybSBbZnJvbSwgdG9dIHZhbHVlcyBzaG9ydGhhbmQgdG8gYSB2YWxpZCB0d2VlbiB2YWx1ZVxuICAgICAgcHJvcCA9IHt2YWx1ZTogcHJvcH07XG4gICAgfVxuICB9XG4gIHZhciBwcm9wQXJyYXkgPSBpcy5hcnIocHJvcCkgPyBwcm9wIDogW3Byb3BdO1xuICByZXR1cm4gcHJvcEFycmF5Lm1hcChmdW5jdGlvbiAodiwgaSkge1xuICAgIHZhciBvYmogPSAoaXMub2JqKHYpICYmICFpcy5wdGgodikpID8gdiA6IHt2YWx1ZTogdn07XG4gICAgLy8gRGVmYXVsdCBkZWxheSB2YWx1ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBmaXJzdCB0d2VlblxuICAgIGlmIChpcy51bmQob2JqLmRlbGF5KSkgeyBvYmouZGVsYXkgPSAhaSA/IHR3ZWVuU2V0dGluZ3MuZGVsYXkgOiAwOyB9XG4gICAgLy8gRGVmYXVsdCBlbmREZWxheSB2YWx1ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBsYXN0IHR3ZWVuXG4gICAgaWYgKGlzLnVuZChvYmouZW5kRGVsYXkpKSB7IG9iai5lbmREZWxheSA9IGkgPT09IHByb3BBcnJheS5sZW5ndGggLSAxID8gdHdlZW5TZXR0aW5ncy5lbmREZWxheSA6IDA7IH1cbiAgICByZXR1cm4gb2JqO1xuICB9KS5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIG1lcmdlT2JqZWN0cyhrLCBzZXR0aW5ncyk7IH0pO1xufVxuXG5cbmZ1bmN0aW9uIGZsYXR0ZW5LZXlmcmFtZXMoa2V5ZnJhbWVzKSB7XG4gIHZhciBwcm9wZXJ0eU5hbWVzID0gZmlsdGVyQXJyYXkoZmxhdHRlbkFycmF5KGtleWZyYW1lcy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gT2JqZWN0LmtleXMoa2V5KTsgfSkpLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gaXMua2V5KHApOyB9KVxuICAucmVkdWNlKGZ1bmN0aW9uIChhLGIpIHsgaWYgKGEuaW5kZXhPZihiKSA8IDApIHsgYS5wdXNoKGIpOyB9IHJldHVybiBhOyB9LCBbXSk7XG4gIHZhciBwcm9wZXJ0aWVzID0ge307XG4gIHZhciBsb29wID0gZnVuY3Rpb24gKCBpICkge1xuICAgIHZhciBwcm9wTmFtZSA9IHByb3BlcnR5TmFtZXNbaV07XG4gICAgcHJvcGVydGllc1twcm9wTmFtZV0gPSBrZXlmcmFtZXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBuZXdLZXkgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4ga2V5KSB7XG4gICAgICAgIGlmIChpcy5rZXkocCkpIHtcbiAgICAgICAgICBpZiAocCA9PSBwcm9wTmFtZSkgeyBuZXdLZXkudmFsdWUgPSBrZXlbcF07IH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdLZXlbcF0gPSBrZXlbcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdLZXk7XG4gICAgfSk7XG4gIH07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSBsb29wKCBpICk7XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0aWVzKHR3ZWVuU2V0dGluZ3MsIHBhcmFtcykge1xuICB2YXIgcHJvcGVydGllcyA9IFtdO1xuICB2YXIga2V5ZnJhbWVzID0gcGFyYW1zLmtleWZyYW1lcztcbiAgaWYgKGtleWZyYW1lcykgeyBwYXJhbXMgPSBtZXJnZU9iamVjdHMoZmxhdHRlbktleWZyYW1lcyhrZXlmcmFtZXMpLCBwYXJhbXMpOyB9XG4gIGZvciAodmFyIHAgaW4gcGFyYW1zKSB7XG4gICAgaWYgKGlzLmtleShwKSkge1xuICAgICAgcHJvcGVydGllcy5wdXNoKHtcbiAgICAgICAgbmFtZTogcCxcbiAgICAgICAgdHdlZW5zOiBub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyhwYXJhbXNbcF0sIHR3ZWVuU2V0dGluZ3MpXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbi8vIFR3ZWVuc1xuXG5mdW5jdGlvbiBub3JtYWxpemVUd2VlblZhbHVlcyh0d2VlbiwgYW5pbWF0YWJsZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHR3ZWVuKSB7XG4gICAgdmFyIHZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZSh0d2VlbltwXSwgYW5pbWF0YWJsZSk7XG4gICAgaWYgKGlzLmFycih2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBnZXRGdW5jdGlvblZhbHVlKHYsIGFuaW1hdGFibGUpOyB9KTtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsgdmFsdWUgPSB2YWx1ZVswXTsgfVxuICAgIH1cbiAgICB0W3BdID0gdmFsdWU7XG4gIH1cbiAgdC5kdXJhdGlvbiA9IHBhcnNlRmxvYXQodC5kdXJhdGlvbik7XG4gIHQuZGVsYXkgPSBwYXJzZUZsb2F0KHQuZGVsYXkpO1xuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVHdlZW5zKHByb3AsIGFuaW1hdGFibGUpIHtcbiAgdmFyIHByZXZpb3VzVHdlZW47XG4gIHJldHVybiBwcm9wLnR3ZWVucy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICB2YXIgdHdlZW4gPSBub3JtYWxpemVUd2VlblZhbHVlcyh0LCBhbmltYXRhYmxlKTtcbiAgICB2YXIgdHdlZW5WYWx1ZSA9IHR3ZWVuLnZhbHVlO1xuICAgIHZhciB0byA9IGlzLmFycih0d2VlblZhbHVlKSA/IHR3ZWVuVmFsdWVbMV0gOiB0d2VlblZhbHVlO1xuICAgIHZhciB0b1VuaXQgPSBnZXRVbml0KHRvKTtcbiAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUoYW5pbWF0YWJsZS50YXJnZXQsIHByb3AubmFtZSwgdG9Vbml0LCBhbmltYXRhYmxlKTtcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzVHdlZW4gPyBwcmV2aW91c1R3ZWVuLnRvLm9yaWdpbmFsIDogb3JpZ2luYWxWYWx1ZTtcbiAgICB2YXIgZnJvbSA9IGlzLmFycih0d2VlblZhbHVlKSA/IHR3ZWVuVmFsdWVbMF0gOiBwcmV2aW91c1ZhbHVlO1xuICAgIHZhciBmcm9tVW5pdCA9IGdldFVuaXQoZnJvbSkgfHwgZ2V0VW5pdChvcmlnaW5hbFZhbHVlKTtcbiAgICB2YXIgdW5pdCA9IHRvVW5pdCB8fCBmcm9tVW5pdDtcbiAgICBpZiAoaXMudW5kKHRvKSkgeyB0byA9IHByZXZpb3VzVmFsdWU7IH1cbiAgICB0d2Vlbi5mcm9tID0gZGVjb21wb3NlVmFsdWUoZnJvbSwgdW5pdCk7XG4gICAgdHdlZW4udG8gPSBkZWNvbXBvc2VWYWx1ZShnZXRSZWxhdGl2ZVZhbHVlKHRvLCBmcm9tKSwgdW5pdCk7XG4gICAgdHdlZW4uc3RhcnQgPSBwcmV2aW91c1R3ZWVuID8gcHJldmlvdXNUd2Vlbi5lbmQgOiAwO1xuICAgIHR3ZWVuLmVuZCA9IHR3ZWVuLnN0YXJ0ICsgdHdlZW4uZGVsYXkgKyB0d2Vlbi5kdXJhdGlvbiArIHR3ZWVuLmVuZERlbGF5O1xuICAgIHR3ZWVuLmVhc2luZyA9IHBhcnNlRWFzaW5ncyh0d2Vlbi5lYXNpbmcsIHR3ZWVuLmR1cmF0aW9uKTtcbiAgICB0d2Vlbi5pc1BhdGggPSBpcy5wdGgodHdlZW5WYWx1ZSk7XG4gICAgdHdlZW4uaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHID0gdHdlZW4uaXNQYXRoICYmIGlzLnN2ZyhhbmltYXRhYmxlLnRhcmdldCk7XG4gICAgdHdlZW4uaXNDb2xvciA9IGlzLmNvbCh0d2Vlbi5mcm9tLm9yaWdpbmFsKTtcbiAgICBpZiAodHdlZW4uaXNDb2xvcikgeyB0d2Vlbi5yb3VuZCA9IDE7IH1cbiAgICBwcmV2aW91c1R3ZWVuID0gdHdlZW47XG4gICAgcmV0dXJuIHR3ZWVuO1xuICB9KTtcbn1cblxuLy8gVHdlZW4gcHJvZ3Jlc3NcblxudmFyIHNldFByb2dyZXNzVmFsdWUgPSB7XG4gIGNzczogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHQuc3R5bGVbcF0gPSB2OyB9LFxuICBhdHRyaWJ1dGU6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0LnNldEF0dHJpYnV0ZShwLCB2KTsgfSxcbiAgb2JqZWN0OiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdFtwXSA9IHY7IH0sXG4gIHRyYW5zZm9ybTogZnVuY3Rpb24gKHQsIHAsIHYsIHRyYW5zZm9ybXMsIG1hbnVhbCkge1xuICAgIHRyYW5zZm9ybXMubGlzdC5zZXQocCwgdik7XG4gICAgaWYgKHAgPT09IHRyYW5zZm9ybXMubGFzdCB8fCBtYW51YWwpIHtcbiAgICAgIHZhciBzdHIgPSAnJztcbiAgICAgIHRyYW5zZm9ybXMubGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgcHJvcCkgeyBzdHIgKz0gcHJvcCArIFwiKFwiICsgdmFsdWUgKyBcIikgXCI7IH0pO1xuICAgICAgdC5zdHlsZS50cmFuc2Zvcm0gPSBzdHI7XG4gICAgfVxuICB9XG59O1xuXG4vLyBTZXQgVmFsdWUgaGVscGVyXG5cbmZ1bmN0aW9uIHNldFRhcmdldHNWYWx1ZSh0YXJnZXRzLCBwcm9wZXJ0aWVzKSB7XG4gIHZhciBhbmltYXRhYmxlcyA9IGdldEFuaW1hdGFibGVzKHRhcmdldHMpO1xuICBhbmltYXRhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uIChhbmltYXRhYmxlKSB7XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZShwcm9wZXJ0aWVzW3Byb3BlcnR5XSwgYW5pbWF0YWJsZSk7XG4gICAgICB2YXIgdGFyZ2V0ID0gYW5pbWF0YWJsZS50YXJnZXQ7XG4gICAgICB2YXIgdmFsdWVVbml0ID0gZ2V0VW5pdCh2YWx1ZSk7XG4gICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWVVbml0LCBhbmltYXRhYmxlKTtcbiAgICAgIHZhciB1bml0ID0gdmFsdWVVbml0IHx8IGdldFVuaXQob3JpZ2luYWxWYWx1ZSk7XG4gICAgICB2YXIgdG8gPSBnZXRSZWxhdGl2ZVZhbHVlKHZhbGlkYXRlVmFsdWUodmFsdWUsIHVuaXQpLCBvcmlnaW5hbFZhbHVlKTtcbiAgICAgIHZhciBhbmltVHlwZSA9IGdldEFuaW1hdGlvblR5cGUodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gICAgICBzZXRQcm9ncmVzc1ZhbHVlW2FuaW1UeXBlXSh0YXJnZXQsIHByb3BlcnR5LCB0bywgYW5pbWF0YWJsZS50cmFuc2Zvcm1zLCB0cnVlKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBBbmltYXRpb25zXG5cbmZ1bmN0aW9uIGNyZWF0ZUFuaW1hdGlvbihhbmltYXRhYmxlLCBwcm9wKSB7XG4gIHZhciBhbmltVHlwZSA9IGdldEFuaW1hdGlvblR5cGUoYW5pbWF0YWJsZS50YXJnZXQsIHByb3AubmFtZSk7XG4gIGlmIChhbmltVHlwZSkge1xuICAgIHZhciB0d2VlbnMgPSBub3JtYWxpemVUd2VlbnMocHJvcCwgYW5pbWF0YWJsZSk7XG4gICAgdmFyIGxhc3RUd2VlbiA9IHR3ZWVuc1t0d2VlbnMubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGFuaW1UeXBlLFxuICAgICAgcHJvcGVydHk6IHByb3AubmFtZSxcbiAgICAgIGFuaW1hdGFibGU6IGFuaW1hdGFibGUsXG4gICAgICB0d2VlbnM6IHR3ZWVucyxcbiAgICAgIGR1cmF0aW9uOiBsYXN0VHdlZW4uZW5kLFxuICAgICAgZGVsYXk6IHR3ZWVuc1swXS5kZWxheSxcbiAgICAgIGVuZERlbGF5OiBsYXN0VHdlZW4uZW5kRGVsYXlcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0aW9ucyhhbmltYXRhYmxlcywgcHJvcGVydGllcykge1xuICByZXR1cm4gZmlsdGVyQXJyYXkoZmxhdHRlbkFycmF5KGFuaW1hdGFibGVzLm1hcChmdW5jdGlvbiAoYW5pbWF0YWJsZSkge1xuICAgIHJldHVybiBwcm9wZXJ0aWVzLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUFuaW1hdGlvbihhbmltYXRhYmxlLCBwcm9wKTtcbiAgICB9KTtcbiAgfSkpLCBmdW5jdGlvbiAoYSkgeyByZXR1cm4gIWlzLnVuZChhKTsgfSk7XG59XG5cbi8vIENyZWF0ZSBJbnN0YW5jZVxuXG5mdW5jdGlvbiBnZXRJbnN0YW5jZVRpbWluZ3MoYW5pbWF0aW9ucywgdHdlZW5TZXR0aW5ncykge1xuICB2YXIgYW5pbUxlbmd0aCA9IGFuaW1hdGlvbnMubGVuZ3RoO1xuICB2YXIgZ2V0VGxPZmZzZXQgPSBmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gYW5pbS50aW1lbGluZU9mZnNldCA/IGFuaW0udGltZWxpbmVPZmZzZXQgOiAwOyB9O1xuICB2YXIgdGltaW5ncyA9IHt9O1xuICB0aW1pbmdzLmR1cmF0aW9uID0gYW5pbUxlbmd0aCA/IE1hdGgubWF4LmFwcGx5KE1hdGgsIGFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBnZXRUbE9mZnNldChhbmltKSArIGFuaW0uZHVyYXRpb247IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZHVyYXRpb247XG4gIHRpbWluZ3MuZGVsYXkgPSBhbmltTGVuZ3RoID8gTWF0aC5taW4uYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kZWxheTsgfSkpIDogdHdlZW5TZXR0aW5ncy5kZWxheTtcbiAgdGltaW5ncy5lbmREZWxheSA9IGFuaW1MZW5ndGggPyB0aW1pbmdzLmR1cmF0aW9uIC0gTWF0aC5tYXguYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kdXJhdGlvbiAtIGFuaW0uZW5kRGVsYXk7IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZW5kRGVsYXk7XG4gIHJldHVybiB0aW1pbmdzO1xufVxuXG52YXIgaW5zdGFuY2VJRCA9IDA7XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0luc3RhbmNlKHBhcmFtcykge1xuICB2YXIgaW5zdGFuY2VTZXR0aW5ncyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIHR3ZWVuU2V0dGluZ3MgPSByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdFR3ZWVuU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciBwcm9wZXJ0aWVzID0gZ2V0UHJvcGVydGllcyh0d2VlblNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgYW5pbWF0YWJsZXMgPSBnZXRBbmltYXRhYmxlcyhwYXJhbXMudGFyZ2V0cyk7XG4gIHZhciBhbmltYXRpb25zID0gZ2V0QW5pbWF0aW9ucyhhbmltYXRhYmxlcywgcHJvcGVydGllcyk7XG4gIHZhciB0aW1pbmdzID0gZ2V0SW5zdGFuY2VUaW1pbmdzKGFuaW1hdGlvbnMsIHR3ZWVuU2V0dGluZ3MpO1xuICB2YXIgaWQgPSBpbnN0YW5jZUlEO1xuICBpbnN0YW5jZUlEKys7XG4gIHJldHVybiBtZXJnZU9iamVjdHMoaW5zdGFuY2VTZXR0aW5ncywge1xuICAgIGlkOiBpZCxcbiAgICBjaGlsZHJlbjogW10sXG4gICAgYW5pbWF0YWJsZXM6IGFuaW1hdGFibGVzLFxuICAgIGFuaW1hdGlvbnM6IGFuaW1hdGlvbnMsXG4gICAgZHVyYXRpb246IHRpbWluZ3MuZHVyYXRpb24sXG4gICAgZGVsYXk6IHRpbWluZ3MuZGVsYXksXG4gICAgZW5kRGVsYXk6IHRpbWluZ3MuZW5kRGVsYXlcbiAgfSk7XG59XG5cbi8vIENvcmVcblxudmFyIGFjdGl2ZUluc3RhbmNlcyA9IFtdO1xuXG52YXIgZW5naW5lID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJhZjtcblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIGlmICghcmFmICYmICghaXNEb2N1bWVudEhpZGRlbigpIHx8ICFhbmltZS5zdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuKSAmJiBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzdGVwKHQpIHtcbiAgICAvLyBtZW1vIG9uIGFsZ29yaXRobSBpc3N1ZTpcbiAgICAvLyBkYW5nZXJvdXMgaXRlcmF0aW9uIG92ZXIgbXV0YWJsZSBgYWN0aXZlSW5zdGFuY2VzYFxuICAgIC8vICh0aGF0IGNvbGxlY3Rpb24gbWF5IGJlIHVwZGF0ZWQgZnJvbSB3aXRoaW4gY2FsbGJhY2tzIG9mIGB0aWNrYC1lZCBhbmltYXRpb24gaW5zdGFuY2VzKVxuICAgIHZhciBhY3RpdmVJbnN0YW5jZXNMZW5ndGggPSBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGFjdGl2ZUluc3RhbmNlc0xlbmd0aCkge1xuICAgICAgdmFyIGFjdGl2ZUluc3RhbmNlID0gYWN0aXZlSW5zdGFuY2VzW2ldO1xuICAgICAgaWYgKCFhY3RpdmVJbnN0YW5jZS5wYXVzZWQpIHtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2UudGljayh0KTtcbiAgICAgICAgaSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoLS07XG4gICAgICB9XG4gICAgfVxuICAgIHJhZiA9IGkgPiAwID8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICBpZiAoIWFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4pIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoaXNEb2N1bWVudEhpZGRlbigpKSB7XG4gICAgICAvLyBzdXNwZW5kIHRpY2tzXG4gICAgICByYWYgPSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuICAgIH0gZWxzZSB7IC8vIGlzIGJhY2sgdG8gYWN0aXZlIHRhYlxuICAgICAgLy8gZmlyc3QgYWRqdXN0IGFuaW1hdGlvbnMgdG8gY29uc2lkZXIgdGhlIHRpbWUgdGhhdCB0aWNrcyB3ZXJlIHN1c3BlbmRlZFxuICAgICAgYWN0aXZlSW5zdGFuY2VzLmZvckVhY2goXG4gICAgICAgIGZ1bmN0aW9uIChpbnN0YW5jZSkgeyByZXR1cm4gaW5zdGFuY2UgLl9vbkRvY3VtZW50VmlzaWJpbGl0eSgpOyB9XG4gICAgICApO1xuICAgICAgZW5naW5lKCk7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xuICB9XG5cbiAgcmV0dXJuIHBsYXk7XG59KSgpO1xuXG5mdW5jdGlvbiBpc0RvY3VtZW50SGlkZGVuKCkge1xuICByZXR1cm4gISFkb2N1bWVudCAmJiBkb2N1bWVudC5oaWRkZW47XG59XG5cbi8vIFB1YmxpYyBJbnN0YW5jZVxuXG5mdW5jdGlvbiBhbmltZShwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG5cbiAgdmFyIHN0YXJ0VGltZSA9IDAsIGxhc3RUaW1lID0gMCwgbm93ID0gMDtcbiAgdmFyIGNoaWxkcmVuLCBjaGlsZHJlbkxlbmd0aCA9IDA7XG4gIHZhciByZXNvbHZlID0gbnVsbDtcblxuICBmdW5jdGlvbiBtYWtlUHJvbWlzZShpbnN0YW5jZSkge1xuICAgIHZhciBwcm9taXNlID0gd2luZG93LlByb21pc2UgJiYgbmV3IFByb21pc2UoZnVuY3Rpb24gKF9yZXNvbHZlKSB7IHJldHVybiByZXNvbHZlID0gX3Jlc29sdmU7IH0pO1xuICAgIGluc3RhbmNlLmZpbmlzaGVkID0gcHJvbWlzZTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHZhciBpbnN0YW5jZSA9IGNyZWF0ZU5ld0luc3RhbmNlKHBhcmFtcyk7XG4gIHZhciBwcm9taXNlID0gbWFrZVByb21pc2UoaW5zdGFuY2UpO1xuXG4gIGZ1bmN0aW9uIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCkge1xuICAgIHZhciBkaXJlY3Rpb24gPSBpbnN0YW5jZS5kaXJlY3Rpb247XG4gICAgaWYgKGRpcmVjdGlvbiAhPT0gJ2FsdGVybmF0ZScpIHtcbiAgICAgIGluc3RhbmNlLmRpcmVjdGlvbiA9IGRpcmVjdGlvbiAhPT0gJ25vcm1hbCcgPyAnbm9ybWFsJyA6ICdyZXZlcnNlJztcbiAgICB9XG4gICAgaW5zdGFuY2UucmV2ZXJzZWQgPSAhaW5zdGFuY2UucmV2ZXJzZWQ7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIGNoaWxkLnJldmVyc2VkID0gaW5zdGFuY2UucmV2ZXJzZWQ7IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRqdXN0VGltZSh0aW1lKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLnJldmVyc2VkID8gaW5zdGFuY2UuZHVyYXRpb24gLSB0aW1lIDogdGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VGltZSgpIHtcbiAgICBzdGFydFRpbWUgPSAwO1xuICAgIGxhc3RUaW1lID0gYWRqdXN0VGltZShpbnN0YW5jZS5jdXJyZW50VGltZSkgKiAoMSAvIGFuaW1lLnNwZWVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlZWtDaGlsZCh0aW1lLCBjaGlsZCkge1xuICAgIGlmIChjaGlsZCkgeyBjaGlsZC5zZWVrKHRpbWUgLSBjaGlsZC50aW1lbGluZU9mZnNldCk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN5bmNJbnN0YW5jZUNoaWxkcmVuKHRpbWUpIHtcbiAgICBpZiAoIWluc3RhbmNlLnJldmVyc2VQbGF5YmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7IHNlZWtDaGlsZCh0aW1lLCBjaGlsZHJlbltpXSk7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSQxID0gY2hpbGRyZW5MZW5ndGg7IGkkMS0tOykgeyBzZWVrQ2hpbGQodGltZSwgY2hpbGRyZW5baSQxXSk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zVGltZSkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgYW5pbWF0aW9ucyA9IGluc3RhbmNlLmFuaW1hdGlvbnM7XG4gICAgdmFyIGFuaW1hdGlvbnNMZW5ndGggPSBhbmltYXRpb25zLmxlbmd0aDtcbiAgICB3aGlsZSAoaSA8IGFuaW1hdGlvbnNMZW5ndGgpIHtcbiAgICAgIHZhciBhbmltID0gYW5pbWF0aW9uc1tpXTtcbiAgICAgIHZhciBhbmltYXRhYmxlID0gYW5pbS5hbmltYXRhYmxlO1xuICAgICAgdmFyIHR3ZWVucyA9IGFuaW0udHdlZW5zO1xuICAgICAgdmFyIHR3ZWVuTGVuZ3RoID0gdHdlZW5zLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgdHdlZW4gPSB0d2VlbnNbdHdlZW5MZW5ndGhdO1xuICAgICAgLy8gT25seSBjaGVjayBmb3Iga2V5ZnJhbWVzIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgdHdlZW5cbiAgICAgIGlmICh0d2Vlbkxlbmd0aCkgeyB0d2VlbiA9IGZpbHRlckFycmF5KHR3ZWVucywgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIChpbnNUaW1lIDwgdC5lbmQpOyB9KVswXSB8fCB0d2VlbjsgfVxuICAgICAgdmFyIGVsYXBzZWQgPSBtaW5NYXgoaW5zVGltZSAtIHR3ZWVuLnN0YXJ0IC0gdHdlZW4uZGVsYXksIDAsIHR3ZWVuLmR1cmF0aW9uKSAvIHR3ZWVuLmR1cmF0aW9uO1xuICAgICAgdmFyIGVhc2VkID0gaXNOYU4oZWxhcHNlZCkgPyAxIDogdHdlZW4uZWFzaW5nKGVsYXBzZWQpO1xuICAgICAgdmFyIHN0cmluZ3MgPSB0d2Vlbi50by5zdHJpbmdzO1xuICAgICAgdmFyIHJvdW5kID0gdHdlZW4ucm91bmQ7XG4gICAgICB2YXIgbnVtYmVycyA9IFtdO1xuICAgICAgdmFyIHRvTnVtYmVyc0xlbmd0aCA9IHR3ZWVuLnRvLm51bWJlcnMubGVuZ3RoO1xuICAgICAgdmFyIHByb2dyZXNzID0gKHZvaWQgMCk7XG4gICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHRvTnVtYmVyc0xlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICh2b2lkIDApO1xuICAgICAgICB2YXIgdG9OdW1iZXIgPSB0d2Vlbi50by5udW1iZXJzW25dO1xuICAgICAgICB2YXIgZnJvbU51bWJlciA9IHR3ZWVuLmZyb20ubnVtYmVyc1tuXSB8fCAwO1xuICAgICAgICBpZiAoIXR3ZWVuLmlzUGF0aCkge1xuICAgICAgICAgIHZhbHVlID0gZnJvbU51bWJlciArIChlYXNlZCAqICh0b051bWJlciAtIGZyb21OdW1iZXIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGdldFBhdGhQcm9ncmVzcyh0d2Vlbi52YWx1ZSwgZWFzZWQgKiB0b051bWJlciwgdHdlZW4uaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm91bmQpIHtcbiAgICAgICAgICBpZiAoISh0d2Vlbi5pc0NvbG9yICYmIG4gPiAyKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlICogcm91bmQpIC8gcm91bmQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG51bWJlcnMucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBNYW51YWwgQXJyYXkucmVkdWNlIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VzXG4gICAgICB2YXIgc3RyaW5nc0xlbmd0aCA9IHN0cmluZ3MubGVuZ3RoO1xuICAgICAgaWYgKCFzdHJpbmdzTGVuZ3RoKSB7XG4gICAgICAgIHByb2dyZXNzID0gbnVtYmVyc1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2dyZXNzID0gc3RyaW5nc1swXTtcbiAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBzdHJpbmdzTGVuZ3RoOyBzKyspIHtcbiAgICAgICAgICB2YXIgYSA9IHN0cmluZ3Nbc107XG4gICAgICAgICAgdmFyIGIgPSBzdHJpbmdzW3MgKyAxXTtcbiAgICAgICAgICB2YXIgbiQxID0gbnVtYmVyc1tzXTtcbiAgICAgICAgICBpZiAoIWlzTmFOKG4kMSkpIHtcbiAgICAgICAgICAgIGlmICghYikge1xuICAgICAgICAgICAgICBwcm9ncmVzcyArPSBuJDEgKyAnICc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9ncmVzcyArPSBuJDEgKyBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0UHJvZ3Jlc3NWYWx1ZVthbmltLnR5cGVdKGFuaW1hdGFibGUudGFyZ2V0LCBhbmltLnByb3BlcnR5LCBwcm9ncmVzcywgYW5pbWF0YWJsZS50cmFuc2Zvcm1zKTtcbiAgICAgIGFuaW0uY3VycmVudFZhbHVlID0gcHJvZ3Jlc3M7XG4gICAgICBpKys7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0Q2FsbGJhY2soY2IpIHtcbiAgICBpZiAoaW5zdGFuY2VbY2JdICYmICFpbnN0YW5jZS5wYXNzVGhyb3VnaCkgeyBpbnN0YW5jZVtjYl0oaW5zdGFuY2UpOyB9XG4gIH1cblxuICBmdW5jdGlvbiBjb3VudEl0ZXJhdGlvbigpIHtcbiAgICBpZiAoaW5zdGFuY2UucmVtYWluaW5nICYmIGluc3RhbmNlLnJlbWFpbmluZyAhPT0gdHJ1ZSkge1xuICAgICAgaW5zdGFuY2UucmVtYWluaW5nLS07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW5zdGFuY2VQcm9ncmVzcyhlbmdpbmVUaW1lKSB7XG4gICAgdmFyIGluc0R1cmF0aW9uID0gaW5zdGFuY2UuZHVyYXRpb247XG4gICAgdmFyIGluc0RlbGF5ID0gaW5zdGFuY2UuZGVsYXk7XG4gICAgdmFyIGluc0VuZERlbGF5ID0gaW5zRHVyYXRpb24gLSBpbnN0YW5jZS5lbmREZWxheTtcbiAgICB2YXIgaW5zVGltZSA9IGFkanVzdFRpbWUoZW5naW5lVGltZSk7XG4gICAgaW5zdGFuY2UucHJvZ3Jlc3MgPSBtaW5NYXgoKGluc1RpbWUgLyBpbnNEdXJhdGlvbikgKiAxMDAsIDAsIDEwMCk7XG4gICAgaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrID0gaW5zVGltZSA8IGluc3RhbmNlLmN1cnJlbnRUaW1lO1xuICAgIGlmIChjaGlsZHJlbikgeyBzeW5jSW5zdGFuY2VDaGlsZHJlbihpbnNUaW1lKTsgfVxuICAgIGlmICghaW5zdGFuY2UuYmVnYW4gJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICBpbnN0YW5jZS5iZWdhbiA9IHRydWU7XG4gICAgICBzZXRDYWxsYmFjaygnYmVnaW4nKTtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZS5sb29wQmVnYW4gJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSB0cnVlO1xuICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BCZWdpbicpO1xuICAgIH1cbiAgICBpZiAoaW5zVGltZSA8PSBpbnNEZWxheSAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSAhPT0gMCkge1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKDApO1xuICAgIH1cbiAgICBpZiAoKGluc1RpbWUgPj0gaW5zRW5kRGVsYXkgJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgIT09IGluc0R1cmF0aW9uKSB8fCAhaW5zRHVyYXRpb24pIHtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNEdXJhdGlvbik7XG4gICAgfVxuICAgIGlmIChpbnNUaW1lID4gaW5zRGVsYXkgJiYgaW5zVGltZSA8IGluc0VuZERlbGF5KSB7XG4gICAgICBpZiAoIWluc3RhbmNlLmNoYW5nZUJlZ2FuKSB7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2VCZWdpbicpO1xuICAgICAgfVxuICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZScpO1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc1RpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5zdGFuY2UuY2hhbmdlQmVnYW4pIHtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSBmYWxzZTtcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZUNvbXBsZXRlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLmN1cnJlbnRUaW1lID0gbWluTWF4KGluc1RpbWUsIDAsIGluc0R1cmF0aW9uKTtcbiAgICBpZiAoaW5zdGFuY2UuYmVnYW4pIHsgc2V0Q2FsbGJhY2soJ3VwZGF0ZScpOyB9XG4gICAgaWYgKGVuZ2luZVRpbWUgPj0gaW5zRHVyYXRpb24pIHtcbiAgICAgIGxhc3RUaW1lID0gMDtcbiAgICAgIGNvdW50SXRlcmF0aW9uKCk7XG4gICAgICBpZiAoIWluc3RhbmNlLnJlbWFpbmluZykge1xuICAgICAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICBpZiAoIWluc3RhbmNlLmNvbXBsZXRlZCkge1xuICAgICAgICAgIGluc3RhbmNlLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BDb21wbGV0ZScpO1xuICAgICAgICAgIHNldENhbGxiYWNrKCdjb21wbGV0ZScpO1xuICAgICAgICAgIGlmICghaW5zdGFuY2UucGFzc1Rocm91Z2ggJiYgJ1Byb21pc2UnIGluIHdpbmRvdykge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcHJvbWlzZSA9IG1ha2VQcm9taXNlKGluc3RhbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IG5vdztcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BDb21wbGV0ZScpO1xuICAgICAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKGluc3RhbmNlLmRpcmVjdGlvbiA9PT0gJ2FsdGVybmF0ZScpIHtcbiAgICAgICAgICB0b2dnbGVJbnN0YW5jZURpcmVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW5zdGFuY2UucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gaW5zdGFuY2UuZGlyZWN0aW9uO1xuICAgIGluc3RhbmNlLnBhc3NUaHJvdWdoID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY3VycmVudFRpbWUgPSAwO1xuICAgIGluc3RhbmNlLnByb2dyZXNzID0gMDtcbiAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgIGluc3RhbmNlLmJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UubG9vcEJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2sgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlZCA9IGRpcmVjdGlvbiA9PT0gJ3JldmVyc2UnO1xuICAgIGluc3RhbmNlLnJlbWFpbmluZyA9IGluc3RhbmNlLmxvb3A7XG4gICAgY2hpbGRyZW4gPSBpbnN0YW5jZS5jaGlsZHJlbjtcbiAgICBjaGlsZHJlbkxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gY2hpbGRyZW5MZW5ndGg7IGktLTspIHsgaW5zdGFuY2UuY2hpbGRyZW5baV0ucmVzZXQoKTsgfVxuICAgIGlmIChpbnN0YW5jZS5yZXZlcnNlZCAmJiBpbnN0YW5jZS5sb29wICE9PSB0cnVlIHx8IChkaXJlY3Rpb24gPT09ICdhbHRlcm5hdGUnICYmIGluc3RhbmNlLmxvb3AgPT09IDEpKSB7IGluc3RhbmNlLnJlbWFpbmluZysrOyB9XG4gICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc3RhbmNlLnJldmVyc2VkID8gaW5zdGFuY2UuZHVyYXRpb24gOiAwKTtcbiAgfTtcblxuICAvLyBpbnRlcm5hbCBtZXRob2QgKGZvciBlbmdpbmUpIHRvIGFkanVzdCBhbmltYXRpb24gdGltaW5ncyBiZWZvcmUgcmVzdG9yaW5nIGVuZ2luZSB0aWNrcyAockFGKVxuICBpbnN0YW5jZS5fb25Eb2N1bWVudFZpc2liaWxpdHkgPSByZXNldFRpbWU7XG5cbiAgLy8gU2V0IFZhbHVlIGhlbHBlclxuXG4gIGluc3RhbmNlLnNldCA9IGZ1bmN0aW9uKHRhcmdldHMsIHByb3BlcnRpZXMpIHtcbiAgICBzZXRUYXJnZXRzVmFsdWUodGFyZ2V0cywgcHJvcGVydGllcyk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIGluc3RhbmNlLnRpY2sgPSBmdW5jdGlvbih0KSB7XG4gICAgbm93ID0gdDtcbiAgICBpZiAoIXN0YXJ0VGltZSkgeyBzdGFydFRpbWUgPSBub3c7IH1cbiAgICBzZXRJbnN0YW5jZVByb2dyZXNzKChub3cgKyAobGFzdFRpbWUgLSBzdGFydFRpbWUpKSAqIGFuaW1lLnNwZWVkKTtcbiAgfTtcblxuICBpbnN0YW5jZS5zZWVrID0gZnVuY3Rpb24odGltZSkge1xuICAgIHNldEluc3RhbmNlUHJvZ3Jlc3MoYWRqdXN0VGltZSh0aW1lKSk7XG4gIH07XG5cbiAgaW5zdGFuY2UucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgIHJlc2V0VGltZSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIWluc3RhbmNlLnBhdXNlZCkgeyByZXR1cm47IH1cbiAgICBpZiAoaW5zdGFuY2UuY29tcGxldGVkKSB7IGluc3RhbmNlLnJlc2V0KCk7IH1cbiAgICBpbnN0YW5jZS5wYXVzZWQgPSBmYWxzZTtcbiAgICBhY3RpdmVJbnN0YW5jZXMucHVzaChpbnN0YW5jZSk7XG4gICAgcmVzZXRUaW1lKCk7XG4gICAgZW5naW5lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCk7XG4gICAgaW5zdGFuY2UuY29tcGxldGVkID0gaW5zdGFuY2UucmV2ZXJzZWQgPyBmYWxzZSA6IHRydWU7XG4gICAgcmVzZXRUaW1lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVzdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIGluc3RhbmNlLnJlc2V0KCk7XG4gICAgaW5zdGFuY2UucGxheSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJlbW92ZSA9IGZ1bmN0aW9uKHRhcmdldHMpIHtcbiAgICB2YXIgdGFyZ2V0c0FycmF5ID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVzZXQoKTtcblxuICBpZiAoaW5zdGFuY2UuYXV0b3BsYXkpIHsgaW5zdGFuY2UucGxheSgpOyB9XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xuXG59XG5cbi8vIFJlbW92ZSB0YXJnZXRzIGZyb20gYW5pbWF0aW9uXG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnMpIHtcbiAgZm9yICh2YXIgYSA9IGFuaW1hdGlvbnMubGVuZ3RoOyBhLS07KSB7XG4gICAgaWYgKGFycmF5Q29udGFpbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zW2FdLmFuaW1hdGFibGUudGFyZ2V0KSkge1xuICAgICAgYW5pbWF0aW9ucy5zcGxpY2UoYSwgMSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSkge1xuICB2YXIgYW5pbWF0aW9ucyA9IGluc3RhbmNlLmFuaW1hdGlvbnM7XG4gIHZhciBjaGlsZHJlbiA9IGluc3RhbmNlLmNoaWxkcmVuO1xuICByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zKTtcbiAgZm9yICh2YXIgYyA9IGNoaWxkcmVuLmxlbmd0aDsgYy0tOykge1xuICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2NdO1xuICAgIHZhciBjaGlsZEFuaW1hdGlvbnMgPSBjaGlsZC5hbmltYXRpb25zO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGNoaWxkQW5pbWF0aW9ucyk7XG4gICAgaWYgKCFjaGlsZEFuaW1hdGlvbnMubGVuZ3RoICYmICFjaGlsZC5jaGlsZHJlbi5sZW5ndGgpIHsgY2hpbGRyZW4uc3BsaWNlKGMsIDEpOyB9XG4gIH1cbiAgaWYgKCFhbmltYXRpb25zLmxlbmd0aCAmJiAhY2hpbGRyZW4ubGVuZ3RoKSB7IGluc3RhbmNlLnBhdXNlKCk7IH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21BY3RpdmVJbnN0YW5jZXModGFyZ2V0cykge1xuICB2YXIgdGFyZ2V0c0FycmF5ID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICBmb3IgKHZhciBpID0gYWN0aXZlSW5zdGFuY2VzLmxlbmd0aDsgaS0tOykge1xuICAgIHZhciBpbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlc1tpXTtcbiAgICByZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlKHRhcmdldHNBcnJheSwgaW5zdGFuY2UpO1xuICB9XG59XG5cbi8vIFN0YWdnZXIgaGVscGVyc1xuXG5mdW5jdGlvbiBzdGFnZ2VyKHZhbCwgcGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuICB2YXIgZGlyZWN0aW9uID0gcGFyYW1zLmRpcmVjdGlvbiB8fCAnbm9ybWFsJztcbiAgdmFyIGVhc2luZyA9IHBhcmFtcy5lYXNpbmcgPyBwYXJzZUVhc2luZ3MocGFyYW1zLmVhc2luZykgOiBudWxsO1xuICB2YXIgZ3JpZCA9IHBhcmFtcy5ncmlkO1xuICB2YXIgYXhpcyA9IHBhcmFtcy5heGlzO1xuICB2YXIgZnJvbUluZGV4ID0gcGFyYW1zLmZyb20gfHwgMDtcbiAgdmFyIGZyb21GaXJzdCA9IGZyb21JbmRleCA9PT0gJ2ZpcnN0JztcbiAgdmFyIGZyb21DZW50ZXIgPSBmcm9tSW5kZXggPT09ICdjZW50ZXInO1xuICB2YXIgZnJvbUxhc3QgPSBmcm9tSW5kZXggPT09ICdsYXN0JztcbiAgdmFyIGlzUmFuZ2UgPSBpcy5hcnIodmFsKTtcbiAgdmFyIHZhbDEgPSBpc1JhbmdlID8gcGFyc2VGbG9hdCh2YWxbMF0pIDogcGFyc2VGbG9hdCh2YWwpO1xuICB2YXIgdmFsMiA9IGlzUmFuZ2UgPyBwYXJzZUZsb2F0KHZhbFsxXSkgOiAwO1xuICB2YXIgdW5pdCA9IGdldFVuaXQoaXNSYW5nZSA/IHZhbFsxXSA6IHZhbCkgfHwgMDtcbiAgdmFyIHN0YXJ0ID0gcGFyYW1zLnN0YXJ0IHx8IDAgKyAoaXNSYW5nZSA/IHZhbDEgOiAwKTtcbiAgdmFyIHZhbHVlcyA9IFtdO1xuICB2YXIgbWF4VmFsdWUgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24gKGVsLCBpLCB0KSB7XG4gICAgaWYgKGZyb21GaXJzdCkgeyBmcm9tSW5kZXggPSAwOyB9XG4gICAgaWYgKGZyb21DZW50ZXIpIHsgZnJvbUluZGV4ID0gKHQgLSAxKSAvIDI7IH1cbiAgICBpZiAoZnJvbUxhc3QpIHsgZnJvbUluZGV4ID0gdCAtIDE7IH1cbiAgICBpZiAoIXZhbHVlcy5sZW5ndGgpIHtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0OyBpbmRleCsrKSB7XG4gICAgICAgIGlmICghZ3JpZCkge1xuICAgICAgICAgIHZhbHVlcy5wdXNoKE1hdGguYWJzKGZyb21JbmRleCAtIGluZGV4KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGZyb21YID0gIWZyb21DZW50ZXIgPyBmcm9tSW5kZXglZ3JpZFswXSA6IChncmlkWzBdLTEpLzI7XG4gICAgICAgICAgdmFyIGZyb21ZID0gIWZyb21DZW50ZXIgPyBNYXRoLmZsb29yKGZyb21JbmRleC9ncmlkWzBdKSA6IChncmlkWzFdLTEpLzI7XG4gICAgICAgICAgdmFyIHRvWCA9IGluZGV4JWdyaWRbMF07XG4gICAgICAgICAgdmFyIHRvWSA9IE1hdGguZmxvb3IoaW5kZXgvZ3JpZFswXSk7XG4gICAgICAgICAgdmFyIGRpc3RhbmNlWCA9IGZyb21YIC0gdG9YO1xuICAgICAgICAgIHZhciBkaXN0YW5jZVkgPSBmcm9tWSAtIHRvWTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBNYXRoLnNxcnQoZGlzdGFuY2VYICogZGlzdGFuY2VYICsgZGlzdGFuY2VZICogZGlzdGFuY2VZKTtcbiAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7IHZhbHVlID0gLWRpc3RhbmNlWDsgfVxuICAgICAgICAgIGlmIChheGlzID09PSAneScpIHsgdmFsdWUgPSAtZGlzdGFuY2VZOyB9XG4gICAgICAgICAgdmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIG1heFZhbHVlID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIGlmIChlYXNpbmcpIHsgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBlYXNpbmcodmFsIC8gbWF4VmFsdWUpICogbWF4VmFsdWU7IH0pOyB9XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAncmV2ZXJzZScpIHsgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBheGlzID8gKHZhbCA8IDApID8gdmFsICogLTEgOiAtdmFsIDogTWF0aC5hYnMobWF4VmFsdWUgLSB2YWwpOyB9KTsgfVxuICAgIH1cbiAgICB2YXIgc3BhY2luZyA9IGlzUmFuZ2UgPyAodmFsMiAtIHZhbDEpIC8gbWF4VmFsdWUgOiB2YWwxO1xuICAgIHJldHVybiBzdGFydCArIChzcGFjaW5nICogKE1hdGgucm91bmQodmFsdWVzW2ldICogMTAwKSAvIDEwMCkpICsgdW5pdDtcbiAgfVxufVxuXG4vLyBUaW1lbGluZVxuXG5mdW5jdGlvbiB0aW1lbGluZShwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG4gIHZhciB0bCA9IGFuaW1lKHBhcmFtcyk7XG4gIHRsLmR1cmF0aW9uID0gMDtcbiAgdGwuYWRkID0gZnVuY3Rpb24oaW5zdGFuY2VQYXJhbXMsIHRpbWVsaW5lT2Zmc2V0KSB7XG4gICAgdmFyIHRsSW5kZXggPSBhY3RpdmVJbnN0YW5jZXMuaW5kZXhPZih0bCk7XG4gICAgdmFyIGNoaWxkcmVuID0gdGwuY2hpbGRyZW47XG4gICAgaWYgKHRsSW5kZXggPiAtMSkgeyBhY3RpdmVJbnN0YW5jZXMuc3BsaWNlKHRsSW5kZXgsIDEpOyB9XG4gICAgZnVuY3Rpb24gcGFzc1Rocm91Z2goaW5zKSB7IGlucy5wYXNzVGhyb3VnaCA9IHRydWU7IH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7IHBhc3NUaHJvdWdoKGNoaWxkcmVuW2ldKTsgfVxuICAgIHZhciBpbnNQYXJhbXMgPSBtZXJnZU9iamVjdHMoaW5zdGFuY2VQYXJhbXMsIHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0VHdlZW5TZXR0aW5ncywgcGFyYW1zKSk7XG4gICAgaW5zUGFyYW1zLnRhcmdldHMgPSBpbnNQYXJhbXMudGFyZ2V0cyB8fCBwYXJhbXMudGFyZ2V0cztcbiAgICB2YXIgdGxEdXJhdGlvbiA9IHRsLmR1cmF0aW9uO1xuICAgIGluc1BhcmFtcy5hdXRvcGxheSA9IGZhbHNlO1xuICAgIGluc1BhcmFtcy5kaXJlY3Rpb24gPSB0bC5kaXJlY3Rpb247XG4gICAgaW5zUGFyYW1zLnRpbWVsaW5lT2Zmc2V0ID0gaXMudW5kKHRpbWVsaW5lT2Zmc2V0KSA/IHRsRHVyYXRpb24gOiBnZXRSZWxhdGl2ZVZhbHVlKHRpbWVsaW5lT2Zmc2V0LCB0bER1cmF0aW9uKTtcbiAgICBwYXNzVGhyb3VnaCh0bCk7XG4gICAgdGwuc2VlayhpbnNQYXJhbXMudGltZWxpbmVPZmZzZXQpO1xuICAgIHZhciBpbnMgPSBhbmltZShpbnNQYXJhbXMpO1xuICAgIHBhc3NUaHJvdWdoKGlucyk7XG4gICAgY2hpbGRyZW4ucHVzaChpbnMpO1xuICAgIHZhciB0aW1pbmdzID0gZ2V0SW5zdGFuY2VUaW1pbmdzKGNoaWxkcmVuLCBwYXJhbXMpO1xuICAgIHRsLmRlbGF5ID0gdGltaW5ncy5kZWxheTtcbiAgICB0bC5lbmREZWxheSA9IHRpbWluZ3MuZW5kRGVsYXk7XG4gICAgdGwuZHVyYXRpb24gPSB0aW1pbmdzLmR1cmF0aW9uO1xuICAgIHRsLnNlZWsoMCk7XG4gICAgdGwucmVzZXQoKTtcbiAgICBpZiAodGwuYXV0b3BsYXkpIHsgdGwucGxheSgpOyB9XG4gICAgcmV0dXJuIHRsO1xuICB9O1xuICByZXR1cm4gdGw7XG59XG5cbmFuaW1lLnZlcnNpb24gPSAnMy4yLjEnO1xuYW5pbWUuc3BlZWQgPSAxO1xuLy8gVE9ETzojcmV2aWV3OiBuYW1pbmcsIGRvY3VtZW50YXRpb25cbmFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4gPSB0cnVlO1xuYW5pbWUucnVubmluZyA9IGFjdGl2ZUluc3RhbmNlcztcbmFuaW1lLnJlbW92ZSA9IHJlbW92ZVRhcmdldHNGcm9tQWN0aXZlSW5zdGFuY2VzO1xuYW5pbWUuZ2V0ID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZTtcbmFuaW1lLnNldCA9IHNldFRhcmdldHNWYWx1ZTtcbmFuaW1lLmNvbnZlcnRQeCA9IGNvbnZlcnRQeFRvVW5pdDtcbmFuaW1lLnBhdGggPSBnZXRQYXRoO1xuYW5pbWUuc2V0RGFzaG9mZnNldCA9IHNldERhc2hvZmZzZXQ7XG5hbmltZS5zdGFnZ2VyID0gc3RhZ2dlcjtcbmFuaW1lLnRpbWVsaW5lID0gdGltZWxpbmU7XG5hbmltZS5lYXNpbmcgPSBwYXJzZUVhc2luZ3M7XG5hbmltZS5wZW5uZXIgPSBwZW5uZXI7XG5hbmltZS5yYW5kb20gPSBmdW5jdGlvbiAobWluLCBtYXgpIHsgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47IH07XG5cbmV4cG9ydCBkZWZhdWx0IGFuaW1lO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///30\n")},553:module=>{eval("(function(){\n\"use strict\";\nvar doc = document;\nvar win = window;\nvar docEle = doc.documentElement;\nvar createElement = doc.createElement.bind(doc);\nvar div = createElement('div');\nvar table = createElement('table');\nvar tbody = createElement('tbody');\nvar tr = createElement('tr');\nvar isArray = Array.isArray, ArrayPrototype = Array.prototype;\nvar concat = ArrayPrototype.concat, filter = ArrayPrototype.filter, indexOf = ArrayPrototype.indexOf, map = ArrayPrototype.map, push = ArrayPrototype.push, slice = ArrayPrototype.slice, some = ArrayPrototype.some, splice = ArrayPrototype.splice;\nvar idRe = /^#(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/;\nvar classRe = /^\\.(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/;\nvar htmlRe = /<.+>/;\nvar tagRe = /^\\w+$/;\n// @require ./variables.ts\nfunction find(selector, context) {\n    var isFragment = isDocumentFragment(context);\n    return !selector || (!isFragment && !isDocument(context) && !isElement(context))\n        ? []\n        : !isFragment && classRe.test(selector)\n            ? context.getElementsByClassName(selector.slice(1).replace(/\\\\/g, ''))\n            : !isFragment && tagRe.test(selector)\n                ? context.getElementsByTagName(selector)\n                : context.querySelectorAll(selector);\n}\n// @require ./find.ts\n// @require ./variables.ts\nvar Cash = /** @class */ (function () {\n    function Cash(selector, context) {\n        if (!selector)\n            return;\n        if (isCash(selector))\n            return selector;\n        var eles = selector;\n        if (isString(selector)) {\n            var ctx = (isCash(context) ? context[0] : context) || doc;\n            eles = idRe.test(selector) && 'getElementById' in ctx\n                ? ctx.getElementById(selector.slice(1).replace(/\\\\/g, ''))\n                : htmlRe.test(selector)\n                    ? parseHTML(selector)\n                    : find(selector, ctx);\n            if (!eles)\n                return;\n        }\n        else if (isFunction(selector)) {\n            return this.ready(selector); //FIXME: `fn.ready` is not included in `core`, but it's actually a core functionality\n        }\n        if (eles.nodeType || eles === win)\n            eles = [eles];\n        this.length = eles.length;\n        for (var i = 0, l = this.length; i < l; i++) {\n            this[i] = eles[i];\n        }\n    }\n    Cash.prototype.init = function (selector, context) {\n        return new Cash(selector, context);\n    };\n    return Cash;\n}());\nvar fn = Cash.prototype;\nvar cash = fn.init;\ncash.fn = cash.prototype = fn; // Ensuring that `cash () instanceof cash`\nfn.length = 0;\nfn.splice = splice; // Ensuring a cash collection gets printed as array-like in Chrome's devtools\nif (typeof Symbol === 'function') { // Ensuring a cash collection is iterable\n    fn[Symbol['iterator']] = ArrayPrototype[Symbol['iterator']];\n}\nfunction isCash(value) {\n    return value instanceof Cash;\n}\nfunction isWindow(value) {\n    return !!value && value === value.window;\n}\nfunction isDocument(value) {\n    return !!value && value.nodeType === 9;\n}\nfunction isDocumentFragment(value) {\n    return !!value && value.nodeType === 11;\n}\nfunction isElement(value) {\n    return !!value && value.nodeType === 1;\n}\nfunction isText(value) {\n    return !!value && value.nodeType === 3;\n}\nfunction isBoolean(value) {\n    return typeof value === 'boolean';\n}\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\nfunction isString(value) {\n    return typeof value === 'string';\n}\nfunction isUndefined(value) {\n    return value === undefined;\n}\nfunction isNull(value) {\n    return value === null;\n}\nfunction isNumeric(value) {\n    return !isNaN(parseFloat(value)) && isFinite(value);\n}\nfunction isPlainObject(value) {\n    if (typeof value !== 'object' || value === null)\n        return false;\n    var proto = Object.getPrototypeOf(value);\n    return proto === null || proto === Object.prototype;\n}\ncash.isWindow = isWindow;\ncash.isFunction = isFunction;\ncash.isArray = isArray;\ncash.isNumeric = isNumeric;\ncash.isPlainObject = isPlainObject;\nfunction each(arr, callback, _reverse) {\n    if (_reverse) {\n        var i = arr.length;\n        while (i--) {\n            if (callback.call(arr[i], i, arr[i]) === false)\n                return arr;\n        }\n    }\n    else if (isPlainObject(arr)) {\n        var keys = Object.keys(arr);\n        for (var i = 0, l = keys.length; i < l; i++) {\n            var key = keys[i];\n            if (callback.call(arr[key], key, arr[key]) === false)\n                return arr;\n        }\n    }\n    else {\n        for (var i = 0, l = arr.length; i < l; i++) {\n            if (callback.call(arr[i], i, arr[i]) === false)\n                return arr;\n        }\n    }\n    return arr;\n}\ncash.each = each;\nfn.each = function (callback) {\n    return each(this, callback);\n};\nfn.empty = function () {\n    return this.each(function (i, ele) {\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n    });\n};\nfunction extend() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    var deep = isBoolean(sources[0]) ? sources.shift() : false;\n    var target = sources.shift();\n    var length = sources.length;\n    if (!target)\n        return {};\n    if (!length)\n        return extend(deep, cash, target);\n    for (var i = 0; i < length; i++) {\n        var source = sources[i];\n        for (var key in source) {\n            if (deep && (isArray(source[key]) || isPlainObject(source[key]))) {\n                if (!target[key] || target[key].constructor !== source[key].constructor)\n                    target[key] = new source[key].constructor();\n                extend(deep, target[key], source[key]);\n            }\n            else {\n                target[key] = source[key];\n            }\n        }\n    }\n    return target;\n}\ncash.extend = extend;\nfn.extend = function (plugins) {\n    return extend(fn, plugins);\n};\n// @require ./type_checking.ts\nvar splitValuesRe = /\\S+/g;\nfunction getSplitValues(str) {\n    return isString(str) ? str.match(splitValuesRe) || [] : [];\n}\nfn.toggleClass = function (cls, force) {\n    var classes = getSplitValues(cls);\n    var isForce = !isUndefined(force);\n    return this.each(function (i, ele) {\n        if (!isElement(ele))\n            return;\n        each(classes, function (i, c) {\n            if (isForce) {\n                force ? ele.classList.add(c) : ele.classList.remove(c);\n            }\n            else {\n                ele.classList.toggle(c);\n            }\n        });\n    });\n};\nfn.addClass = function (cls) {\n    return this.toggleClass(cls, true);\n};\nfn.removeAttr = function (attr) {\n    var attrs = getSplitValues(attr);\n    return this.each(function (i, ele) {\n        if (!isElement(ele))\n            return;\n        each(attrs, function (i, a) {\n            ele.removeAttribute(a);\n        });\n    });\n};\nfunction attr(attr, value) {\n    if (!attr)\n        return;\n    if (isString(attr)) {\n        if (arguments.length < 2) {\n            if (!this[0] || !isElement(this[0]))\n                return;\n            var value_1 = this[0].getAttribute(attr);\n            return isNull(value_1) ? undefined : value_1;\n        }\n        if (isUndefined(value))\n            return this;\n        if (isNull(value))\n            return this.removeAttr(attr);\n        return this.each(function (i, ele) {\n            if (!isElement(ele))\n                return;\n            ele.setAttribute(attr, value);\n        });\n    }\n    for (var key in attr) {\n        this.attr(key, attr[key]);\n    }\n    return this;\n}\nfn.attr = attr;\nfn.removeClass = function (cls) {\n    if (arguments.length)\n        return this.toggleClass(cls, false);\n    return this.attr('class', '');\n};\nfn.hasClass = function (cls) {\n    return !!cls && some.call(this, function (ele) { return isElement(ele) && ele.classList.contains(cls); });\n};\nfn.get = function (index) {\n    if (isUndefined(index))\n        return slice.call(this);\n    index = Number(index);\n    return this[index < 0 ? index + this.length : index];\n};\nfn.eq = function (index) {\n    return cash(this.get(index));\n};\nfn.first = function () {\n    return this.eq(0);\n};\nfn.last = function () {\n    return this.eq(-1);\n};\nfunction text(text) {\n    if (isUndefined(text)) {\n        return this.get().map(function (ele) { return isElement(ele) || isText(ele) ? ele.textContent : ''; }).join('');\n    }\n    return this.each(function (i, ele) {\n        if (!isElement(ele))\n            return;\n        ele.textContent = text;\n    });\n}\nfn.text = text;\n// @require core/type_checking.ts\n// @require core/variables.ts\nfunction computeStyle(ele, prop, isVariable) {\n    if (!isElement(ele))\n        return;\n    var style = win.getComputedStyle(ele, null);\n    return isVariable ? style.getPropertyValue(prop) || undefined : style[prop] || ele.style[prop];\n}\n// @require ./compute_style.ts\nfunction computeStyleInt(ele, prop) {\n    return parseInt(computeStyle(ele, prop), 10) || 0;\n}\n// @require css/helpers/compute_style_int.ts\nfunction getExtraSpace(ele, xAxis) {\n    return computeStyleInt(ele, \"border\".concat(xAxis ? 'Left' : 'Top', \"Width\")) + computeStyleInt(ele, \"padding\".concat(xAxis ? 'Left' : 'Top')) + computeStyleInt(ele, \"padding\".concat(xAxis ? 'Right' : 'Bottom')) + computeStyleInt(ele, \"border\".concat(xAxis ? 'Right' : 'Bottom', \"Width\"));\n}\n// @require css/helpers/compute_style.ts\nvar defaultDisplay = {};\nfunction getDefaultDisplay(tagName) {\n    if (defaultDisplay[tagName])\n        return defaultDisplay[tagName];\n    var ele = createElement(tagName);\n    doc.body.insertBefore(ele, null);\n    var display = computeStyle(ele, 'display');\n    doc.body.removeChild(ele);\n    return defaultDisplay[tagName] = display !== 'none' ? display : 'block';\n}\n// @require css/helpers/compute_style.ts\nfunction isHidden(ele) {\n    return computeStyle(ele, 'display') === 'none';\n}\n// @require ./cash.ts\nfunction matches(ele, selector) {\n    var matches = ele && (ele['matches'] || ele['webkitMatchesSelector'] || ele['msMatchesSelector']);\n    return !!matches && !!selector && matches.call(ele, selector);\n}\n// @require ./matches.ts\n// @require ./type_checking.ts\nfunction getCompareFunction(comparator) {\n    return isString(comparator)\n        ? function (i, ele) { return matches(ele, comparator); }\n        : isFunction(comparator)\n            ? comparator\n            : isCash(comparator)\n                ? function (i, ele) { return comparator.is(ele); }\n                : !comparator\n                    ? function () { return false; }\n                    : function (i, ele) { return ele === comparator; };\n}\nfn.filter = function (comparator) {\n    var compare = getCompareFunction(comparator);\n    return cash(filter.call(this, function (ele, i) { return compare.call(ele, i, ele); }));\n};\n// @require collection/filter.ts\nfunction filtered(collection, comparator) {\n    return !comparator ? collection : collection.filter(comparator);\n}\nfn.detach = function (comparator) {\n    filtered(this, comparator).each(function (i, ele) {\n        if (ele.parentNode) {\n            ele.parentNode.removeChild(ele);\n        }\n    });\n    return this;\n};\nvar fragmentRe = /^\\s*<(\\w+)[^>]*>/;\nvar singleTagRe = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/;\nvar containers = {\n    '*': div,\n    tr: tbody,\n    td: tr,\n    th: tr,\n    thead: table,\n    tbody: table,\n    tfoot: table\n};\n//TODO: Create elements inside a document fragment, in order to prevent inline event handlers from firing\n//TODO: Ensure the created elements have the fragment as their parent instead of null, this also ensures we can deal with detatched nodes more reliably\nfunction parseHTML(html) {\n    if (!isString(html))\n        return [];\n    if (singleTagRe.test(html))\n        return [createElement(RegExp.$1)];\n    var fragment = fragmentRe.test(html) && RegExp.$1;\n    var container = containers[fragment] || containers['*'];\n    container.innerHTML = html;\n    return cash(container.childNodes).detach().get();\n}\ncash.parseHTML = parseHTML;\nfn.has = function (selector) {\n    var comparator = isString(selector)\n        ? function (i, ele) { return find(selector, ele).length; }\n        : function (i, ele) { return ele.contains(selector); };\n    return this.filter(comparator);\n};\nfn.not = function (comparator) {\n    var compare = getCompareFunction(comparator);\n    return this.filter(function (i, ele) { return (!isString(comparator) || isElement(ele)) && !compare.call(ele, i, ele); });\n};\nfunction pluck(arr, prop, deep, until) {\n    var plucked = [];\n    var isCallback = isFunction(prop);\n    var compare = until && getCompareFunction(until);\n    for (var i = 0, l = arr.length; i < l; i++) {\n        if (isCallback) {\n            var val_1 = prop(arr[i]);\n            if (val_1.length)\n                push.apply(plucked, val_1);\n        }\n        else {\n            var val_2 = arr[i][prop];\n            while (val_2 != null) {\n                if (until && compare(-1, val_2))\n                    break;\n                plucked.push(val_2);\n                val_2 = deep ? val_2[prop] : null;\n            }\n        }\n    }\n    return plucked;\n}\n// @require core/pluck.ts\n// @require core/variables.ts\nfunction getValue(ele) {\n    if (ele.multiple && ele.options)\n        return pluck(filter.call(ele.options, function (option) { return option.selected && !option.disabled && !option.parentNode.disabled; }), 'value');\n    return ele.value || '';\n}\nfunction val(value) {\n    if (!arguments.length)\n        return this[0] && getValue(this[0]);\n    return this.each(function (i, ele) {\n        var isSelect = ele.multiple && ele.options;\n        if (isSelect || checkableRe.test(ele.type)) {\n            var eleValue_1 = isArray(value) ? map.call(value, String) : (isNull(value) ? [] : [String(value)]);\n            if (isSelect) {\n                each(ele.options, function (i, option) {\n                    option.selected = eleValue_1.indexOf(option.value) >= 0;\n                }, true);\n            }\n            else {\n                ele.checked = eleValue_1.indexOf(ele.value) >= 0;\n            }\n        }\n        else {\n            ele.value = isUndefined(value) || isNull(value) ? '' : value;\n        }\n    });\n}\nfn.val = val;\nfn.is = function (comparator) {\n    var compare = getCompareFunction(comparator);\n    return some.call(this, function (ele, i) { return compare.call(ele, i, ele); });\n};\ncash.guid = 1;\nfunction unique(arr) {\n    return arr.length > 1 ? filter.call(arr, function (item, index, self) { return indexOf.call(self, item) === index; }) : arr;\n}\ncash.unique = unique;\nfn.add = function (selector, context) {\n    return cash(unique(this.get().concat(cash(selector, context).get())));\n};\nfn.children = function (comparator) {\n    return filtered(cash(unique(pluck(this, function (ele) { return ele.children; }))), comparator);\n};\nfn.parent = function (comparator) {\n    return filtered(cash(unique(pluck(this, 'parentNode'))), comparator);\n};\nfn.index = function (selector) {\n    var child = selector ? cash(selector)[0] : this[0];\n    var collection = selector ? this : cash(child).parent().children();\n    return indexOf.call(collection, child);\n};\nfn.closest = function (comparator) {\n    var filtered = this.filter(comparator);\n    if (filtered.length)\n        return filtered;\n    var $parent = this.parent();\n    if (!$parent.length)\n        return filtered;\n    return $parent.closest(comparator);\n};\nfn.siblings = function (comparator) {\n    return filtered(cash(unique(pluck(this, function (ele) { return cash(ele).parent().children().not(ele); }))), comparator);\n};\nfn.find = function (selector) {\n    return cash(unique(pluck(this, function (ele) { return find(selector, ele); })));\n};\n// @require core/variables.ts\n// @require collection/filter.ts\n// @require traversal/find.ts\nvar HTMLCDATARe = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\nvar scriptTypeRe = /^$|^module$|\\/(java|ecma)script/i;\nvar scriptAttributes = ['type', 'src', 'nonce', 'noModule'];\nfunction evalScripts(node, doc) {\n    var collection = cash(node);\n    collection.filter('script').add(collection.find('script')).each(function (i, ele) {\n        if (scriptTypeRe.test(ele.type) && docEle.contains(ele)) { // The script type is supported // The element is attached to the DOM // Using `documentElement` for broader browser support\n            var script_1 = createElement('script');\n            script_1.text = ele.textContent.replace(HTMLCDATARe, '');\n            each(scriptAttributes, function (i, attr) {\n                if (ele[attr])\n                    script_1[attr] = ele[attr];\n            });\n            doc.head.insertBefore(script_1, null);\n            doc.head.removeChild(script_1);\n        }\n    });\n}\n// @require ./eval_scripts.ts\nfunction insertElement(anchor, target, left, inside, evaluate) {\n    if (inside) { // prepend/append\n        anchor.insertBefore(target, left ? anchor.firstChild : null);\n    }\n    else { // before/after\n        if (anchor.nodeName === 'HTML') {\n            anchor.parentNode.replaceChild(target, anchor);\n        }\n        else {\n            anchor.parentNode.insertBefore(target, left ? anchor : anchor.nextSibling);\n        }\n    }\n    if (evaluate) {\n        evalScripts(target, anchor.ownerDocument);\n    }\n}\n// @require ./insert_element.ts\nfunction insertSelectors(selectors, anchors, inverse, left, inside, reverseLoop1, reverseLoop2, reverseLoop3) {\n    each(selectors, function (si, selector) {\n        each(cash(selector), function (ti, target) {\n            each(cash(anchors), function (ai, anchor) {\n                var anchorFinal = inverse ? target : anchor;\n                var targetFinal = inverse ? anchor : target;\n                var indexFinal = inverse ? ti : ai;\n                insertElement(anchorFinal, !indexFinal ? targetFinal : targetFinal.cloneNode(true), left, inside, !indexFinal);\n            }, reverseLoop3);\n        }, reverseLoop2);\n    }, reverseLoop1);\n    return anchors;\n}\nfn.after = function () {\n    return insertSelectors(arguments, this, false, false, false, true, true);\n};\nfn.append = function () {\n    return insertSelectors(arguments, this, false, false, true);\n};\nfunction html(html) {\n    if (!arguments.length)\n        return this[0] && this[0].innerHTML;\n    if (isUndefined(html))\n        return this;\n    var hasScript = /<script[\\s>]/.test(html);\n    return this.each(function (i, ele) {\n        if (!isElement(ele))\n            return;\n        if (hasScript) {\n            cash(ele).empty().append(html);\n        }\n        else {\n            ele.innerHTML = html;\n        }\n    });\n}\nfn.html = html;\nfn.appendTo = function (selector) {\n    return insertSelectors(arguments, this, true, false, true);\n};\nfn.wrapInner = function (selector) {\n    return this.each(function (i, ele) {\n        var $ele = cash(ele);\n        var contents = $ele.contents();\n        contents.length ? contents.wrapAll(selector) : $ele.append(selector);\n    });\n};\nfn.before = function () {\n    return insertSelectors(arguments, this, false, true);\n};\nfn.wrapAll = function (selector) {\n    var structure = cash(selector);\n    var wrapper = structure[0];\n    while (wrapper.children.length)\n        wrapper = wrapper.firstElementChild;\n    this.first().before(structure);\n    return this.appendTo(wrapper);\n};\nfn.wrap = function (selector) {\n    return this.each(function (i, ele) {\n        var wrapper = cash(selector)[0];\n        cash(ele).wrapAll(!i ? wrapper : wrapper.cloneNode(true));\n    });\n};\nfn.insertAfter = function (selector) {\n    return insertSelectors(arguments, this, true, false, false, false, false, true);\n};\nfn.insertBefore = function (selector) {\n    return insertSelectors(arguments, this, true, true);\n};\nfn.prepend = function () {\n    return insertSelectors(arguments, this, false, true, true, true, true);\n};\nfn.prependTo = function (selector) {\n    return insertSelectors(arguments, this, true, true, true, false, false, true);\n};\nfn.contents = function () {\n    return cash(unique(pluck(this, function (ele) { return ele.tagName === 'IFRAME' ? [ele.contentDocument] : (ele.tagName === 'TEMPLATE' ? ele.content.childNodes : ele.childNodes); })));\n};\nfn.next = function (comparator, _all, _until) {\n    return filtered(cash(unique(pluck(this, 'nextElementSibling', _all, _until))), comparator);\n};\nfn.nextAll = function (comparator) {\n    return this.next(comparator, true);\n};\nfn.nextUntil = function (until, comparator) {\n    return this.next(comparator, true, until);\n};\nfn.parents = function (comparator, _until) {\n    return filtered(cash(unique(pluck(this, 'parentElement', true, _until))), comparator);\n};\nfn.parentsUntil = function (until, comparator) {\n    return this.parents(comparator, until);\n};\nfn.prev = function (comparator, _all, _until) {\n    return filtered(cash(unique(pluck(this, 'previousElementSibling', _all, _until))), comparator);\n};\nfn.prevAll = function (comparator) {\n    return this.prev(comparator, true);\n};\nfn.prevUntil = function (until, comparator) {\n    return this.prev(comparator, true, until);\n};\nfn.map = function (callback) {\n    return cash(concat.apply([], map.call(this, function (ele, i) { return callback.call(ele, i, ele); })));\n};\nfn.clone = function () {\n    return this.map(function (i, ele) { return ele.cloneNode(true); });\n};\nfn.offsetParent = function () {\n    return this.map(function (i, ele) {\n        var offsetParent = ele.offsetParent;\n        while (offsetParent && computeStyle(offsetParent, 'position') === 'static') {\n            offsetParent = offsetParent.offsetParent;\n        }\n        return offsetParent || docEle;\n    });\n};\nfn.slice = function (start, end) {\n    return cash(slice.call(this, start, end));\n};\n// @require ./cash.ts\nvar dashAlphaRe = /-([a-z])/g;\nfunction camelCase(str) {\n    return str.replace(dashAlphaRe, function (match, letter) { return letter.toUpperCase(); });\n}\nfn.ready = function (callback) {\n    var cb = function () { return setTimeout(callback, 0, cash); };\n    if (doc.readyState !== 'loading') {\n        cb();\n    }\n    else {\n        doc.addEventListener('DOMContentLoaded', cb);\n    }\n    return this;\n};\nfn.unwrap = function () {\n    this.parent().each(function (i, ele) {\n        if (ele.tagName === 'BODY')\n            return;\n        var $ele = cash(ele);\n        $ele.replaceWith($ele.children());\n    });\n    return this;\n};\nfn.offset = function () {\n    var ele = this[0];\n    if (!ele)\n        return;\n    var rect = ele.getBoundingClientRect();\n    return {\n        top: rect.top + win.pageYOffset,\n        left: rect.left + win.pageXOffset\n    };\n};\nfn.position = function () {\n    var ele = this[0];\n    if (!ele)\n        return;\n    var isFixed = (computeStyle(ele, 'position') === 'fixed');\n    var offset = isFixed ? ele.getBoundingClientRect() : this.offset();\n    if (!isFixed) {\n        var doc_1 = ele.ownerDocument;\n        var offsetParent = ele.offsetParent || doc_1.documentElement;\n        while ((offsetParent === doc_1.body || offsetParent === doc_1.documentElement) && computeStyle(offsetParent, 'position') === 'static') {\n            offsetParent = offsetParent.parentNode;\n        }\n        if (offsetParent !== ele && isElement(offsetParent)) {\n            var parentOffset = cash(offsetParent).offset();\n            offset.top -= parentOffset.top + computeStyleInt(offsetParent, 'borderTopWidth');\n            offset.left -= parentOffset.left + computeStyleInt(offsetParent, 'borderLeftWidth');\n        }\n    }\n    return {\n        top: offset.top - computeStyleInt(ele, 'marginTop'),\n        left: offset.left - computeStyleInt(ele, 'marginLeft')\n    };\n};\nvar propMap = {\n    /* GENERAL */\n    class: 'className',\n    contenteditable: 'contentEditable',\n    /* LABEL */\n    for: 'htmlFor',\n    /* INPUT */\n    readonly: 'readOnly',\n    maxlength: 'maxLength',\n    tabindex: 'tabIndex',\n    /* TABLE */\n    colspan: 'colSpan',\n    rowspan: 'rowSpan',\n    /* IMAGE */\n    usemap: 'useMap'\n};\nfn.prop = function (prop, value) {\n    if (!prop)\n        return;\n    if (isString(prop)) {\n        prop = propMap[prop] || prop;\n        if (arguments.length < 2)\n            return this[0] && this[0][prop];\n        return this.each(function (i, ele) { ele[prop] = value; });\n    }\n    for (var key in prop) {\n        this.prop(key, prop[key]);\n    }\n    return this;\n};\nfn.removeProp = function (prop) {\n    return this.each(function (i, ele) { delete ele[propMap[prop] || prop]; });\n};\nvar cssVariableRe = /^--/;\n// @require ./variables.ts\nfunction isCSSVariable(prop) {\n    return cssVariableRe.test(prop);\n}\n// @require core/camel_case.ts\n// @require core/cash.ts\n// @require core/each.ts\n// @require core/variables.ts\n// @require ./is_css_variable.ts\nvar prefixedProps = {};\nvar style = div.style;\nvar vendorsPrefixes = ['webkit', 'moz', 'ms'];\nfunction getPrefixedProp(prop, isVariable) {\n    if (isVariable === void 0) { isVariable = isCSSVariable(prop); }\n    if (isVariable)\n        return prop;\n    if (!prefixedProps[prop]) {\n        var propCC = camelCase(prop);\n        var propUC = \"\".concat(propCC[0].toUpperCase()).concat(propCC.slice(1));\n        var props = (\"\".concat(propCC, \" \").concat(vendorsPrefixes.join(\"\".concat(propUC, \" \"))).concat(propUC)).split(' ');\n        each(props, function (i, p) {\n            if (p in style) {\n                prefixedProps[prop] = p;\n                return false;\n            }\n        });\n    }\n    return prefixedProps[prop];\n}\n// @require core/type_checking.ts\n// @require ./is_css_variable.ts\nvar numericProps = {\n    animationIterationCount: true,\n    columnCount: true,\n    flexGrow: true,\n    flexShrink: true,\n    fontWeight: true,\n    gridArea: true,\n    gridColumn: true,\n    gridColumnEnd: true,\n    gridColumnStart: true,\n    gridRow: true,\n    gridRowEnd: true,\n    gridRowStart: true,\n    lineHeight: true,\n    opacity: true,\n    order: true,\n    orphans: true,\n    widows: true,\n    zIndex: true\n};\nfunction getSuffixedValue(prop, value, isVariable) {\n    if (isVariable === void 0) { isVariable = isCSSVariable(prop); }\n    return !isVariable && !numericProps[prop] && isNumeric(value) ? \"\".concat(value, \"px\") : value;\n}\nfunction css(prop, value) {\n    if (isString(prop)) {\n        var isVariable_1 = isCSSVariable(prop);\n        prop = getPrefixedProp(prop, isVariable_1);\n        if (arguments.length < 2)\n            return this[0] && computeStyle(this[0], prop, isVariable_1);\n        if (!prop)\n            return this;\n        value = getSuffixedValue(prop, value, isVariable_1);\n        return this.each(function (i, ele) {\n            if (!isElement(ele))\n                return;\n            if (isVariable_1) {\n                ele.style.setProperty(prop, value);\n            }\n            else {\n                ele.style[prop] = value;\n            }\n        });\n    }\n    for (var key in prop) {\n        this.css(key, prop[key]);\n    }\n    return this;\n}\n;\nfn.css = css;\nfunction attempt(fn, arg) {\n    try {\n        return fn(arg);\n    }\n    catch (_a) {\n        return arg;\n    }\n}\n// @require core/attempt.ts\n// @require core/camel_case.ts\nvar JSONStringRe = /^\\s+|\\s+$/;\nfunction getData(ele, key) {\n    var value = ele.dataset[key] || ele.dataset[camelCase(key)];\n    if (JSONStringRe.test(value))\n        return value;\n    return attempt(JSON.parse, value);\n}\n// @require core/attempt.ts\n// @require core/camel_case.ts\nfunction setData(ele, key, value) {\n    value = attempt(JSON.stringify, value);\n    ele.dataset[camelCase(key)] = value;\n}\nfunction data(name, value) {\n    if (!name) {\n        if (!this[0])\n            return;\n        var datas = {};\n        for (var key in this[0].dataset) {\n            datas[key] = getData(this[0], key);\n        }\n        return datas;\n    }\n    if (isString(name)) {\n        if (arguments.length < 2)\n            return this[0] && getData(this[0], name);\n        if (isUndefined(value))\n            return this;\n        return this.each(function (i, ele) { setData(ele, name, value); });\n    }\n    for (var key in name) {\n        this.data(key, name[key]);\n    }\n    return this;\n}\nfn.data = data;\nfunction getDocumentDimension(doc, dimension) {\n    var docEle = doc.documentElement;\n    return Math.max(doc.body[\"scroll\".concat(dimension)], docEle[\"scroll\".concat(dimension)], doc.body[\"offset\".concat(dimension)], docEle[\"offset\".concat(dimension)], docEle[\"client\".concat(dimension)]);\n}\neach([true, false], function (i, outer) {\n    each(['Width', 'Height'], function (i, prop) {\n        var name = \"\".concat(outer ? 'outer' : 'inner').concat(prop);\n        fn[name] = function (includeMargins) {\n            if (!this[0])\n                return;\n            if (isWindow(this[0]))\n                return outer ? this[0][\"inner\".concat(prop)] : this[0].document.documentElement[\"client\".concat(prop)];\n            if (isDocument(this[0]))\n                return getDocumentDimension(this[0], prop);\n            return this[0][\"\".concat(outer ? 'offset' : 'client').concat(prop)] + (includeMargins && outer ? computeStyleInt(this[0], \"margin\".concat(i ? 'Top' : 'Left')) + computeStyleInt(this[0], \"margin\".concat(i ? 'Bottom' : 'Right')) : 0);\n        };\n    });\n});\neach(['Width', 'Height'], function (index, prop) {\n    var propLC = prop.toLowerCase();\n    fn[propLC] = function (value) {\n        if (!this[0])\n            return isUndefined(value) ? undefined : this;\n        if (!arguments.length) {\n            if (isWindow(this[0]))\n                return this[0].document.documentElement[\"client\".concat(prop)];\n            if (isDocument(this[0]))\n                return getDocumentDimension(this[0], prop);\n            return this[0].getBoundingClientRect()[propLC] - getExtraSpace(this[0], !index);\n        }\n        var valueNumber = parseInt(value, 10);\n        return this.each(function (i, ele) {\n            if (!isElement(ele))\n                return;\n            var boxSizing = computeStyle(ele, 'boxSizing');\n            ele.style[propLC] = getSuffixedValue(propLC, valueNumber + (boxSizing === 'border-box' ? getExtraSpace(ele, !index) : 0));\n        });\n    };\n});\nvar displayProperty = '___cd';\nfn.toggle = function (force) {\n    return this.each(function (i, ele) {\n        if (!isElement(ele))\n            return;\n        var show = isUndefined(force) ? isHidden(ele) : force;\n        if (show) {\n            ele.style.display = ele[displayProperty] || '';\n            if (isHidden(ele)) {\n                ele.style.display = getDefaultDisplay(ele.tagName);\n            }\n        }\n        else {\n            ele[displayProperty] = computeStyle(ele, 'display');\n            ele.style.display = 'none';\n        }\n    });\n};\nfn.hide = function () {\n    return this.toggle(false);\n};\nfn.show = function () {\n    return this.toggle(true);\n};\nvar eventsNamespace = '___ce';\nvar eventsNamespacesSeparator = '.';\nvar eventsFocus = { focus: 'focusin', blur: 'focusout' };\nvar eventsHover = { mouseenter: 'mouseover', mouseleave: 'mouseout' };\nvar eventsMouseRe = /^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;\n// @require ./variables.ts\nfunction getEventNameBubbling(name) {\n    return eventsHover[name] || eventsFocus[name] || name;\n}\n// @require ./variables.ts\nfunction parseEventName(eventName) {\n    var parts = eventName.split(eventsNamespacesSeparator);\n    return [parts[0], parts.slice(1).sort()]; // [name, namespace[]]\n}\nfn.trigger = function (event, data) {\n    if (isString(event)) {\n        var _a = parseEventName(event), nameOriginal = _a[0], namespaces = _a[1];\n        var name_1 = getEventNameBubbling(nameOriginal);\n        if (!name_1)\n            return this;\n        var type = eventsMouseRe.test(name_1) ? 'MouseEvents' : 'HTMLEvents';\n        event = doc.createEvent(type);\n        event.initEvent(name_1, true, true);\n        event.namespace = namespaces.join(eventsNamespacesSeparator);\n        event.___ot = nameOriginal;\n    }\n    event.___td = data;\n    var isEventFocus = (event.___ot in eventsFocus);\n    return this.each(function (i, ele) {\n        if (isEventFocus && isFunction(ele[event.___ot])) {\n            ele[\"___i\".concat(event.type)] = true; // Ensuring the native event is ignored\n            ele[event.___ot]();\n            ele[\"___i\".concat(event.type)] = false; // Ensuring the custom event is not ignored\n        }\n        ele.dispatchEvent(event);\n    });\n};\n// @require ./variables.ts\nfunction getEventsCache(ele) {\n    return ele[eventsNamespace] = (ele[eventsNamespace] || {});\n}\n// @require core/guid.ts\n// @require events/helpers/get_events_cache.ts\nfunction addEvent(ele, name, namespaces, selector, callback) {\n    var eventCache = getEventsCache(ele);\n    eventCache[name] = (eventCache[name] || []);\n    eventCache[name].push([namespaces, selector, callback]);\n    ele.addEventListener(name, callback);\n}\nfunction hasNamespaces(ns1, ns2) {\n    return !ns2 || !some.call(ns2, function (ns) { return ns1.indexOf(ns) < 0; });\n}\n// @require ./get_events_cache.ts\n// @require ./has_namespaces.ts\n// @require ./parse_event_name.ts\nfunction removeEvent(ele, name, namespaces, selector, callback) {\n    var cache = getEventsCache(ele);\n    if (!name) {\n        for (name in cache) {\n            removeEvent(ele, name, namespaces, selector, callback);\n        }\n    }\n    else if (cache[name]) {\n        cache[name] = cache[name].filter(function (_a) {\n            var ns = _a[0], sel = _a[1], cb = _a[2];\n            if ((callback && cb.guid !== callback.guid) || !hasNamespaces(ns, namespaces) || (selector && selector !== sel))\n                return true;\n            ele.removeEventListener(name, cb);\n        });\n    }\n}\nfn.off = function (eventFullName, selector, callback) {\n    var _this = this;\n    if (isUndefined(eventFullName)) {\n        this.each(function (i, ele) {\n            if (!isElement(ele) && !isDocument(ele) && !isWindow(ele))\n                return;\n            removeEvent(ele);\n        });\n    }\n    else if (!isString(eventFullName)) {\n        for (var key in eventFullName) {\n            this.off(key, eventFullName[key]);\n        }\n    }\n    else {\n        if (isFunction(selector)) {\n            callback = selector;\n            selector = '';\n        }\n        each(getSplitValues(eventFullName), function (i, eventFullName) {\n            var _a = parseEventName(eventFullName), nameOriginal = _a[0], namespaces = _a[1];\n            var name = getEventNameBubbling(nameOriginal);\n            _this.each(function (i, ele) {\n                if (!isElement(ele) && !isDocument(ele) && !isWindow(ele))\n                    return;\n                removeEvent(ele, name, namespaces, selector, callback);\n            });\n        });\n    }\n    return this;\n};\nfn.remove = function (comparator) {\n    filtered(this, comparator).detach().off();\n    return this;\n};\nfn.replaceWith = function (selector) {\n    return this.before(selector).remove();\n};\nfn.replaceAll = function (selector) {\n    cash(selector).replaceWith(this);\n    return this;\n};\nfunction on(eventFullName, selector, data, callback, _one) {\n    var _this = this;\n    if (!isString(eventFullName)) {\n        for (var key in eventFullName) {\n            this.on(key, selector, data, eventFullName[key], _one);\n        }\n        return this;\n    }\n    if (!isString(selector)) {\n        if (isUndefined(selector) || isNull(selector)) {\n            selector = '';\n        }\n        else if (isUndefined(data)) {\n            data = selector;\n            selector = '';\n        }\n        else {\n            callback = data;\n            data = selector;\n            selector = '';\n        }\n    }\n    if (!isFunction(callback)) {\n        callback = data;\n        data = undefined;\n    }\n    if (!callback)\n        return this;\n    each(getSplitValues(eventFullName), function (i, eventFullName) {\n        var _a = parseEventName(eventFullName), nameOriginal = _a[0], namespaces = _a[1];\n        var name = getEventNameBubbling(nameOriginal);\n        var isEventHover = (nameOriginal in eventsHover);\n        var isEventFocus = (nameOriginal in eventsFocus);\n        if (!name)\n            return;\n        _this.each(function (i, ele) {\n            if (!isElement(ele) && !isDocument(ele) && !isWindow(ele))\n                return;\n            var finalCallback = function (event) {\n                if (event.target[\"___i\".concat(event.type)])\n                    return event.stopImmediatePropagation(); // Ignoring native event in favor of the upcoming custom one\n                if (event.namespace && !hasNamespaces(namespaces, event.namespace.split(eventsNamespacesSeparator)))\n                    return;\n                if (!selector && ((isEventFocus && (event.target !== ele || event.___ot === name)) || (isEventHover && event.relatedTarget && ele.contains(event.relatedTarget))))\n                    return;\n                var thisArg = ele;\n                if (selector) {\n                    var target = event.target;\n                    while (!matches(target, selector)) {\n                        if (target === ele)\n                            return;\n                        target = target.parentNode;\n                        if (!target)\n                            return;\n                    }\n                    thisArg = target;\n                }\n                Object.defineProperty(event, 'currentTarget', {\n                    configurable: true,\n                    get: function () {\n                        return thisArg;\n                    }\n                });\n                Object.defineProperty(event, 'delegateTarget', {\n                    configurable: true,\n                    get: function () {\n                        return ele;\n                    }\n                });\n                Object.defineProperty(event, 'data', {\n                    configurable: true,\n                    get: function () {\n                        return data;\n                    }\n                });\n                var returnValue = callback.call(thisArg, event, event.___td);\n                if (_one) {\n                    removeEvent(ele, name, namespaces, selector, finalCallback);\n                }\n                if (returnValue === false) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                }\n            };\n            finalCallback.guid = callback.guid = (callback.guid || cash.guid++);\n            addEvent(ele, name, namespaces, selector, finalCallback);\n        });\n    });\n    return this;\n}\nfn.on = on;\nfunction one(eventFullName, selector, data, callback) {\n    return this.on(eventFullName, selector, data, callback, true);\n}\n;\nfn.one = one;\nvar queryEncodeSpaceRe = /%20/g;\nvar queryEncodeCRLFRe = /\\r?\\n/g;\nfunction queryEncode(prop, value) {\n    return \"&\".concat(encodeURIComponent(prop), \"=\").concat(encodeURIComponent(value.replace(queryEncodeCRLFRe, '\\r\\n')).replace(queryEncodeSpaceRe, '+'));\n}\nvar skippableRe = /file|reset|submit|button|image/i;\nvar checkableRe = /radio|checkbox/i;\nfn.serialize = function () {\n    var query = '';\n    this.each(function (i, ele) {\n        each(ele.elements || [ele], function (i, ele) {\n            if (ele.disabled || !ele.name || ele.tagName === 'FIELDSET' || skippableRe.test(ele.type) || (checkableRe.test(ele.type) && !ele.checked))\n                return;\n            var value = getValue(ele);\n            if (!isUndefined(value)) {\n                var values = isArray(value) ? value : [value];\n                each(values, function (i, value) {\n                    query += queryEncode(ele.name, value);\n                });\n            }\n        });\n    });\n    return query.slice(1);\n};\n// @require core/types.ts\n// @require core/cash.ts\n// @require core/type_checking.ts\n// @require core/variables.ts\n// @require core/each.ts\n// @require core/extend.ts\n// @require core/find.ts\n// @require core/get_compare_function.ts\n// @require core/get_split_values.ts\n// @require core/guid.ts\n// @require core/parse_html.ts\n// @require core/unique.ts\n// @require attributes/add_class.ts\n// @require attributes/attr.ts\n// @require attributes/has_class.ts\n// @require attributes/prop.ts\n// @require attributes/remove_attr.ts\n// @require attributes/remove_class.ts\n// @require attributes/remove_prop.ts\n// @require attributes/toggle_class.ts\n// @require collection/add.ts\n// @require collection/each.ts\n// @require collection/eq.ts\n// @require collection/filter.ts\n// @require collection/first.ts\n// @require collection/get.ts\n// @require collection/index.ts\n// @require collection/last.ts\n// @require collection/map.ts\n// @require collection/slice.ts\n// @require css/css.ts\n// @require data/data.ts\n// @require dimensions/inner_outer.ts\n// @require dimensions/normal.ts\n// @require effects/hide.ts\n// @require effects/show.ts\n// @require effects/toggle.ts\n// @require events/off.ts\n// @require events/on.ts\n// @require events/one.ts\n// @require events/ready.ts\n// @require events/trigger.ts\n// @require forms/serialize.ts\n// @require forms/val.ts\n// @require manipulation/after.ts\n// @require manipulation/append.ts\n// @require manipulation/append_to.ts\n// @require manipulation/before.ts\n// @require manipulation/clone.ts\n// @require manipulation/detach.ts\n// @require manipulation/empty.ts\n// @require manipulation/html.ts\n// @require manipulation/insert_after.ts\n// @require manipulation/insert_before.ts\n// @require manipulation/prepend.ts\n// @require manipulation/prepend_to.ts\n// @require manipulation/remove.ts\n// @require manipulation/replace_all.ts\n// @require manipulation/replace_with.ts\n// @require manipulation/text.ts\n// @require manipulation/unwrap.ts\n// @require manipulation/wrap.ts\n// @require manipulation/wrap_all.ts\n// @require manipulation/wrap_inner.ts\n// @require offset/offset.ts\n// @require offset/offset_parent.ts\n// @require offset/position.ts\n// @require traversal/children.ts\n// @require traversal/closest.ts\n// @require traversal/contents.ts\n// @require traversal/find.ts\n// @require traversal/has.ts\n// @require traversal/is.ts\n// @require traversal/next.ts\n// @require traversal/next_all.ts\n// @require traversal/next_until.ts\n// @require traversal/not.ts\n// @require traversal/parent.ts\n// @require traversal/parents.ts\n// @require traversal/parents_until.ts\n// @require traversal/prev.ts\n// @require traversal/prev_all.ts\n// @require traversal/prev_until.ts\n// @require traversal/siblings.ts\n// @no-require extras/get_script.ts\n// @no-require extras/shorthands.ts\n// @require methods.ts\nif (true) { // Node.js\n    module.exports = cash;\n}\nelse {}\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTUzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsT0FBTztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0Esb0JBQW9CO0FBQ3BCLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLE9BQU87QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLE9BQU87QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix1QkFBdUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCx1REFBdUQ7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLDhEQUE4RDtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsNEJBQTRCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCw2QkFBNkI7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUE4QixJQUFJO0FBQ3RDO0FBQ0E7QUFDQSxLQUFLLEVBRUo7QUFDRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTS8uL25vZGVfbW9kdWxlcy9jYXNoLWRvbS9kaXN0L2Nhc2guanM/ZTQwOSJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xudmFyIGRvYyA9IGRvY3VtZW50O1xudmFyIHdpbiA9IHdpbmRvdztcbnZhciBkb2NFbGUgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xudmFyIGNyZWF0ZUVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudC5iaW5kKGRvYyk7XG52YXIgZGl2ID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG52YXIgdGFibGUgPSBjcmVhdGVFbGVtZW50KCd0YWJsZScpO1xudmFyIHRib2R5ID0gY3JlYXRlRWxlbWVudCgndGJvZHknKTtcbnZhciB0ciA9IGNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXksIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xudmFyIGNvbmNhdCA9IEFycmF5UHJvdG90eXBlLmNvbmNhdCwgZmlsdGVyID0gQXJyYXlQcm90b3R5cGUuZmlsdGVyLCBpbmRleE9mID0gQXJyYXlQcm90b3R5cGUuaW5kZXhPZiwgbWFwID0gQXJyYXlQcm90b3R5cGUubWFwLCBwdXNoID0gQXJyYXlQcm90b3R5cGUucHVzaCwgc2xpY2UgPSBBcnJheVByb3RvdHlwZS5zbGljZSwgc29tZSA9IEFycmF5UHJvdG90eXBlLnNvbWUsIHNwbGljZSA9IEFycmF5UHJvdG90eXBlLnNwbGljZTtcbnZhciBpZFJlID0gL14jKD86W1xcdy1dfFxcXFwufFteXFx4MDAtXFx4YTBdKSokLztcbnZhciBjbGFzc1JlID0gL15cXC4oPzpbXFx3LV18XFxcXC58W15cXHgwMC1cXHhhMF0pKiQvO1xudmFyIGh0bWxSZSA9IC88Lis+LztcbnZhciB0YWdSZSA9IC9eXFx3KyQvO1xuLy8gQHJlcXVpcmUgLi92YXJpYWJsZXMudHNcbmZ1bmN0aW9uIGZpbmQoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgaXNGcmFnbWVudCA9IGlzRG9jdW1lbnRGcmFnbWVudChjb250ZXh0KTtcbiAgICByZXR1cm4gIXNlbGVjdG9yIHx8ICghaXNGcmFnbWVudCAmJiAhaXNEb2N1bWVudChjb250ZXh0KSAmJiAhaXNFbGVtZW50KGNvbnRleHQpKVxuICAgICAgICA/IFtdXG4gICAgICAgIDogIWlzRnJhZ21lbnQgJiYgY2xhc3NSZS50ZXN0KHNlbGVjdG9yKVxuICAgICAgICAgICAgPyBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoc2VsZWN0b3Iuc2xpY2UoMSkucmVwbGFjZSgvXFxcXC9nLCAnJykpXG4gICAgICAgICAgICA6ICFpc0ZyYWdtZW50ICYmIHRhZ1JlLnRlc3Qoc2VsZWN0b3IpXG4gICAgICAgICAgICAgICAgPyBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKVxuICAgICAgICAgICAgICAgIDogY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbn1cbi8vIEByZXF1aXJlIC4vZmluZC50c1xuLy8gQHJlcXVpcmUgLi92YXJpYWJsZXMudHNcbnZhciBDYXNoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENhc2goc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKCFzZWxlY3RvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGlzQ2FzaChzZWxlY3RvcikpXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgICAgIHZhciBlbGVzID0gc2VsZWN0b3I7XG4gICAgICAgIGlmIChpc1N0cmluZyhzZWxlY3RvcikpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSAoaXNDYXNoKGNvbnRleHQpID8gY29udGV4dFswXSA6IGNvbnRleHQpIHx8IGRvYztcbiAgICAgICAgICAgIGVsZXMgPSBpZFJlLnRlc3Qoc2VsZWN0b3IpICYmICdnZXRFbGVtZW50QnlJZCcgaW4gY3R4XG4gICAgICAgICAgICAgICAgPyBjdHguZ2V0RWxlbWVudEJ5SWQoc2VsZWN0b3Iuc2xpY2UoMSkucmVwbGFjZSgvXFxcXC9nLCAnJykpXG4gICAgICAgICAgICAgICAgOiBodG1sUmUudGVzdChzZWxlY3RvcilcbiAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUhUTUwoc2VsZWN0b3IpXG4gICAgICAgICAgICAgICAgICAgIDogZmluZChzZWxlY3RvciwgY3R4KTtcbiAgICAgICAgICAgIGlmICghZWxlcylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihzZWxlY3RvcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWR5KHNlbGVjdG9yKTsgLy9GSVhNRTogYGZuLnJlYWR5YCBpcyBub3QgaW5jbHVkZWQgaW4gYGNvcmVgLCBidXQgaXQncyBhY3R1YWxseSBhIGNvcmUgZnVuY3Rpb25hbGl0eVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVzLm5vZGVUeXBlIHx8IGVsZXMgPT09IHdpbilcbiAgICAgICAgICAgIGVsZXMgPSBbZWxlc107XG4gICAgICAgIHRoaXMubGVuZ3RoID0gZWxlcy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBlbGVzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIENhc2gucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDYXNoKHNlbGVjdG9yLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBDYXNoO1xufSgpKTtcbnZhciBmbiA9IENhc2gucHJvdG90eXBlO1xudmFyIGNhc2ggPSBmbi5pbml0O1xuY2FzaC5mbiA9IGNhc2gucHJvdG90eXBlID0gZm47IC8vIEVuc3VyaW5nIHRoYXQgYGNhc2ggKCkgaW5zdGFuY2VvZiBjYXNoYFxuZm4ubGVuZ3RoID0gMDtcbmZuLnNwbGljZSA9IHNwbGljZTsgLy8gRW5zdXJpbmcgYSBjYXNoIGNvbGxlY3Rpb24gZ2V0cyBwcmludGVkIGFzIGFycmF5LWxpa2UgaW4gQ2hyb21lJ3MgZGV2dG9vbHNcbmlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7IC8vIEVuc3VyaW5nIGEgY2FzaCBjb2xsZWN0aW9uIGlzIGl0ZXJhYmxlXG4gICAgZm5bU3ltYm9sWydpdGVyYXRvciddXSA9IEFycmF5UHJvdG90eXBlW1N5bWJvbFsnaXRlcmF0b3InXV07XG59XG5mdW5jdGlvbiBpc0Nhc2godmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBDYXNoO1xufVxuZnVuY3Rpb24gaXNXaW5kb3codmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSAmJiB2YWx1ZSA9PT0gdmFsdWUud2luZG93O1xufVxuZnVuY3Rpb24gaXNEb2N1bWVudCh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmIHZhbHVlLm5vZGVUeXBlID09PSA5O1xufVxuZnVuY3Rpb24gaXNEb2N1bWVudEZyYWdtZW50KHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgdmFsdWUubm9kZVR5cGUgPT09IDExO1xufVxuZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgdmFsdWUubm9kZVR5cGUgPT09IDE7XG59XG5mdW5jdGlvbiBpc1RleHQodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMztcbn1cbmZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcbn1cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbn1cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG59XG5mdW5jdGlvbiBpc051bWVyaWModmFsdWUpIHtcbiAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKSAmJiBpc0Zpbml0ZSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgdmFsdWUgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICAgIHJldHVybiBwcm90byA9PT0gbnVsbCB8fCBwcm90byA9PT0gT2JqZWN0LnByb3RvdHlwZTtcbn1cbmNhc2guaXNXaW5kb3cgPSBpc1dpbmRvdztcbmNhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5jYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuY2FzaC5pc051bWVyaWMgPSBpc051bWVyaWM7XG5jYXNoLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuZnVuY3Rpb24gZWFjaChhcnIsIGNhbGxiYWNrLCBfcmV2ZXJzZSkge1xuICAgIGlmIChfcmV2ZXJzZSkge1xuICAgICAgICB2YXIgaSA9IGFyci5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjay5jYWxsKGFycltpXSwgaSwgYXJyW2ldKSA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGFycikpIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhcnIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjay5jYWxsKGFycltrZXldLCBrZXksIGFycltrZXldKSA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcnIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbChhcnJbaV0sIGksIGFycltpXSkgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cbmNhc2guZWFjaCA9IGVhY2g7XG5mbi5lYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGVhY2godGhpcywgY2FsbGJhY2spO1xufTtcbmZuLmVtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGksIGVsZSkge1xuICAgICAgICB3aGlsZSAoZWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGVsZS5yZW1vdmVDaGlsZChlbGUuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5mdW5jdGlvbiBleHRlbmQoKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBkZWVwID0gaXNCb29sZWFuKHNvdXJjZXNbMF0pID8gc291cmNlcy5zaGlmdCgpIDogZmFsc2U7XG4gICAgdmFyIHRhcmdldCA9IHNvdXJjZXMuc2hpZnQoKTtcbiAgICB2YXIgbGVuZ3RoID0gc291cmNlcy5sZW5ndGg7XG4gICAgaWYgKCF0YXJnZXQpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBpZiAoIWxlbmd0aClcbiAgICAgICAgcmV0dXJuIGV4dGVuZChkZWVwLCBjYXNoLCB0YXJnZXQpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaV07XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmIChkZWVwICYmIChpc0FycmF5KHNvdXJjZVtrZXldKSB8fCBpc1BsYWluT2JqZWN0KHNvdXJjZVtrZXldKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldFtrZXldIHx8IHRhcmdldFtrZXldLmNvbnN0cnVjdG9yICE9PSBzb3VyY2Vba2V5XS5jb25zdHJ1Y3RvcilcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBuZXcgc291cmNlW2tleV0uY29uc3RydWN0b3IoKTtcbiAgICAgICAgICAgICAgICBleHRlbmQoZGVlcCwgdGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmNhc2guZXh0ZW5kID0gZXh0ZW5kO1xuZm4uZXh0ZW5kID0gZnVuY3Rpb24gKHBsdWdpbnMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKGZuLCBwbHVnaW5zKTtcbn07XG4vLyBAcmVxdWlyZSAuL3R5cGVfY2hlY2tpbmcudHNcbnZhciBzcGxpdFZhbHVlc1JlID0gL1xcUysvZztcbmZ1bmN0aW9uIGdldFNwbGl0VmFsdWVzKHN0cikge1xuICAgIHJldHVybiBpc1N0cmluZyhzdHIpID8gc3RyLm1hdGNoKHNwbGl0VmFsdWVzUmUpIHx8IFtdIDogW107XG59XG5mbi50b2dnbGVDbGFzcyA9IGZ1bmN0aW9uIChjbHMsIGZvcmNlKSB7XG4gICAgdmFyIGNsYXNzZXMgPSBnZXRTcGxpdFZhbHVlcyhjbHMpO1xuICAgIHZhciBpc0ZvcmNlID0gIWlzVW5kZWZpbmVkKGZvcmNlKTtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpLCBlbGUpIHtcbiAgICAgICAgaWYgKCFpc0VsZW1lbnQoZWxlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZWFjaChjbGFzc2VzLCBmdW5jdGlvbiAoaSwgYykge1xuICAgICAgICAgICAgaWYgKGlzRm9yY2UpIHtcbiAgICAgICAgICAgICAgICBmb3JjZSA/IGVsZS5jbGFzc0xpc3QuYWRkKGMpIDogZWxlLmNsYXNzTGlzdC5yZW1vdmUoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGUuY2xhc3NMaXN0LnRvZ2dsZShjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuZm4uYWRkQ2xhc3MgPSBmdW5jdGlvbiAoY2xzKSB7XG4gICAgcmV0dXJuIHRoaXMudG9nZ2xlQ2xhc3MoY2xzLCB0cnVlKTtcbn07XG5mbi5yZW1vdmVBdHRyID0gZnVuY3Rpb24gKGF0dHIpIHtcbiAgICB2YXIgYXR0cnMgPSBnZXRTcGxpdFZhbHVlcyhhdHRyKTtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpLCBlbGUpIHtcbiAgICAgICAgaWYgKCFpc0VsZW1lbnQoZWxlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZWFjaChhdHRycywgZnVuY3Rpb24gKGksIGEpIHtcbiAgICAgICAgICAgIGVsZS5yZW1vdmVBdHRyaWJ1dGUoYSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGF0dHIoYXR0ciwgdmFsdWUpIHtcbiAgICBpZiAoIWF0dHIpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoaXNTdHJpbmcoYXR0cikpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXNbMF0gfHwgIWlzRWxlbWVudCh0aGlzWzBdKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB2YXIgdmFsdWVfMSA9IHRoaXNbMF0uZ2V0QXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgcmV0dXJuIGlzTnVsbCh2YWx1ZV8xKSA/IHVuZGVmaW5lZCA6IHZhbHVlXzE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUF0dHIoYXR0cik7XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGksIGVsZSkge1xuICAgICAgICAgICAgaWYgKCFpc0VsZW1lbnQoZWxlKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBlbGUuc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZvciAodmFyIGtleSBpbiBhdHRyKSB7XG4gICAgICAgIHRoaXMuYXR0cihrZXksIGF0dHJba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuZm4uYXR0ciA9IGF0dHI7XG5mbi5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIChjbHMpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlQ2xhc3MoY2xzLCBmYWxzZSk7XG4gICAgcmV0dXJuIHRoaXMuYXR0cignY2xhc3MnLCAnJyk7XG59O1xuZm4uaGFzQ2xhc3MgPSBmdW5jdGlvbiAoY2xzKSB7XG4gICAgcmV0dXJuICEhY2xzICYmIHNvbWUuY2FsbCh0aGlzLCBmdW5jdGlvbiAoZWxlKSB7IHJldHVybiBpc0VsZW1lbnQoZWxlKSAmJiBlbGUuY2xhc3NMaXN0LmNvbnRhaW5zKGNscyk7IH0pO1xufTtcbmZuLmdldCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIGlmIChpc1VuZGVmaW5lZChpbmRleCkpXG4gICAgICAgIHJldHVybiBzbGljZS5jYWxsKHRoaXMpO1xuICAgIGluZGV4ID0gTnVtYmVyKGluZGV4KTtcbiAgICByZXR1cm4gdGhpc1tpbmRleCA8IDAgPyBpbmRleCArIHRoaXMubGVuZ3RoIDogaW5kZXhdO1xufTtcbmZuLmVxID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIGNhc2godGhpcy5nZXQoaW5kZXgpKTtcbn07XG5mbi5maXJzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5lcSgwKTtcbn07XG5mbi5sYXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVxKC0xKTtcbn07XG5mdW5jdGlvbiB0ZXh0KHRleHQpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodGV4dCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCkubWFwKGZ1bmN0aW9uIChlbGUpIHsgcmV0dXJuIGlzRWxlbWVudChlbGUpIHx8IGlzVGV4dChlbGUpID8gZWxlLnRleHRDb250ZW50IDogJyc7IH0pLmpvaW4oJycpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpLCBlbGUpIHtcbiAgICAgICAgaWYgKCFpc0VsZW1lbnQoZWxlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZWxlLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9KTtcbn1cbmZuLnRleHQgPSB0ZXh0O1xuLy8gQHJlcXVpcmUgY29yZS90eXBlX2NoZWNraW5nLnRzXG4vLyBAcmVxdWlyZSBjb3JlL3ZhcmlhYmxlcy50c1xuZnVuY3Rpb24gY29tcHV0ZVN0eWxlKGVsZSwgcHJvcCwgaXNWYXJpYWJsZSkge1xuICAgIGlmICghaXNFbGVtZW50KGVsZSkpXG4gICAgICAgIHJldHVybjtcbiAgICB2YXIgc3R5bGUgPSB3aW4uZ2V0Q29tcHV0ZWRTdHlsZShlbGUsIG51bGwpO1xuICAgIHJldHVybiBpc1ZhcmlhYmxlID8gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wKSB8fCB1bmRlZmluZWQgOiBzdHlsZVtwcm9wXSB8fCBlbGUuc3R5bGVbcHJvcF07XG59XG4vLyBAcmVxdWlyZSAuL2NvbXB1dGVfc3R5bGUudHNcbmZ1bmN0aW9uIGNvbXB1dGVTdHlsZUludChlbGUsIHByb3ApIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoY29tcHV0ZVN0eWxlKGVsZSwgcHJvcCksIDEwKSB8fCAwO1xufVxuLy8gQHJlcXVpcmUgY3NzL2hlbHBlcnMvY29tcHV0ZV9zdHlsZV9pbnQudHNcbmZ1bmN0aW9uIGdldEV4dHJhU3BhY2UoZWxlLCB4QXhpcykge1xuICAgIHJldHVybiBjb21wdXRlU3R5bGVJbnQoZWxlLCBcImJvcmRlclwiLmNvbmNhdCh4QXhpcyA/ICdMZWZ0JyA6ICdUb3AnLCBcIldpZHRoXCIpKSArIGNvbXB1dGVTdHlsZUludChlbGUsIFwicGFkZGluZ1wiLmNvbmNhdCh4QXhpcyA/ICdMZWZ0JyA6ICdUb3AnKSkgKyBjb21wdXRlU3R5bGVJbnQoZWxlLCBcInBhZGRpbmdcIi5jb25jYXQoeEF4aXMgPyAnUmlnaHQnIDogJ0JvdHRvbScpKSArIGNvbXB1dGVTdHlsZUludChlbGUsIFwiYm9yZGVyXCIuY29uY2F0KHhBeGlzID8gJ1JpZ2h0JyA6ICdCb3R0b20nLCBcIldpZHRoXCIpKTtcbn1cbi8vIEByZXF1aXJlIGNzcy9oZWxwZXJzL2NvbXB1dGVfc3R5bGUudHNcbnZhciBkZWZhdWx0RGlzcGxheSA9IHt9O1xuZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkodGFnTmFtZSkge1xuICAgIGlmIChkZWZhdWx0RGlzcGxheVt0YWdOYW1lXSlcbiAgICAgICAgcmV0dXJuIGRlZmF1bHREaXNwbGF5W3RhZ05hbWVdO1xuICAgIHZhciBlbGUgPSBjcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIGRvYy5ib2R5Lmluc2VydEJlZm9yZShlbGUsIG51bGwpO1xuICAgIHZhciBkaXNwbGF5ID0gY29tcHV0ZVN0eWxlKGVsZSwgJ2Rpc3BsYXknKTtcbiAgICBkb2MuYm9keS5yZW1vdmVDaGlsZChlbGUpO1xuICAgIHJldHVybiBkZWZhdWx0RGlzcGxheVt0YWdOYW1lXSA9IGRpc3BsYXkgIT09ICdub25lJyA/IGRpc3BsYXkgOiAnYmxvY2snO1xufVxuLy8gQHJlcXVpcmUgY3NzL2hlbHBlcnMvY29tcHV0ZV9zdHlsZS50c1xuZnVuY3Rpb24gaXNIaWRkZW4oZWxlKSB7XG4gICAgcmV0dXJuIGNvbXB1dGVTdHlsZShlbGUsICdkaXNwbGF5JykgPT09ICdub25lJztcbn1cbi8vIEByZXF1aXJlIC4vY2FzaC50c1xuZnVuY3Rpb24gbWF0Y2hlcyhlbGUsIHNlbGVjdG9yKSB7XG4gICAgdmFyIG1hdGNoZXMgPSBlbGUgJiYgKGVsZVsnbWF0Y2hlcyddIHx8IGVsZVsnd2Via2l0TWF0Y2hlc1NlbGVjdG9yJ10gfHwgZWxlWydtc01hdGNoZXNTZWxlY3RvciddKTtcbiAgICByZXR1cm4gISFtYXRjaGVzICYmICEhc2VsZWN0b3IgJiYgbWF0Y2hlcy5jYWxsKGVsZSwgc2VsZWN0b3IpO1xufVxuLy8gQHJlcXVpcmUgLi9tYXRjaGVzLnRzXG4vLyBAcmVxdWlyZSAuL3R5cGVfY2hlY2tpbmcudHNcbmZ1bmN0aW9uIGdldENvbXBhcmVGdW5jdGlvbihjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nKGNvbXBhcmF0b3IpXG4gICAgICAgID8gZnVuY3Rpb24gKGksIGVsZSkgeyByZXR1cm4gbWF0Y2hlcyhlbGUsIGNvbXBhcmF0b3IpOyB9XG4gICAgICAgIDogaXNGdW5jdGlvbihjb21wYXJhdG9yKVxuICAgICAgICAgICAgPyBjb21wYXJhdG9yXG4gICAgICAgICAgICA6IGlzQ2FzaChjb21wYXJhdG9yKVxuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKGksIGVsZSkgeyByZXR1cm4gY29tcGFyYXRvci5pcyhlbGUpOyB9XG4gICAgICAgICAgICAgICAgOiAhY29tcGFyYXRvclxuICAgICAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKGksIGVsZSkgeyByZXR1cm4gZWxlID09PSBjb21wYXJhdG9yOyB9O1xufVxuZm4uZmlsdGVyID0gZnVuY3Rpb24gKGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgY29tcGFyZSA9IGdldENvbXBhcmVGdW5jdGlvbihjb21wYXJhdG9yKTtcbiAgICByZXR1cm4gY2FzaChmaWx0ZXIuY2FsbCh0aGlzLCBmdW5jdGlvbiAoZWxlLCBpKSB7IHJldHVybiBjb21wYXJlLmNhbGwoZWxlLCBpLCBlbGUpOyB9KSk7XG59O1xuLy8gQHJlcXVpcmUgY29sbGVjdGlvbi9maWx0ZXIudHNcbmZ1bmN0aW9uIGZpbHRlcmVkKGNvbGxlY3Rpb24sIGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gIWNvbXBhcmF0b3IgPyBjb2xsZWN0aW9uIDogY29sbGVjdGlvbi5maWx0ZXIoY29tcGFyYXRvcik7XG59XG5mbi5kZXRhY2ggPSBmdW5jdGlvbiAoY29tcGFyYXRvcikge1xuICAgIGZpbHRlcmVkKHRoaXMsIGNvbXBhcmF0b3IpLmVhY2goZnVuY3Rpb24gKGksIGVsZSkge1xuICAgICAgICBpZiAoZWxlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGVsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbn07XG52YXIgZnJhZ21lbnRSZSA9IC9eXFxzKjwoXFx3KylbXj5dKj4vO1xudmFyIHNpbmdsZVRhZ1JlID0gL148KFxcdyspXFxzKlxcLz8+KD86PFxcL1xcMT4pPyQvO1xudmFyIGNvbnRhaW5lcnMgPSB7XG4gICAgJyonOiBkaXYsXG4gICAgdHI6IHRib2R5LFxuICAgIHRkOiB0cixcbiAgICB0aDogdHIsXG4gICAgdGhlYWQ6IHRhYmxlLFxuICAgIHRib2R5OiB0YWJsZSxcbiAgICB0Zm9vdDogdGFibGVcbn07XG4vL1RPRE86IENyZWF0ZSBlbGVtZW50cyBpbnNpZGUgYSBkb2N1bWVudCBmcmFnbWVudCwgaW4gb3JkZXIgdG8gcHJldmVudCBpbmxpbmUgZXZlbnQgaGFuZGxlcnMgZnJvbSBmaXJpbmdcbi8vVE9ETzogRW5zdXJlIHRoZSBjcmVhdGVkIGVsZW1lbnRzIGhhdmUgdGhlIGZyYWdtZW50IGFzIHRoZWlyIHBhcmVudCBpbnN0ZWFkIG9mIG51bGwsIHRoaXMgYWxzbyBlbnN1cmVzIHdlIGNhbiBkZWFsIHdpdGggZGV0YXRjaGVkIG5vZGVzIG1vcmUgcmVsaWFibHlcbmZ1bmN0aW9uIHBhcnNlSFRNTChodG1sKSB7XG4gICAgaWYgKCFpc1N0cmluZyhodG1sKSlcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIGlmIChzaW5nbGVUYWdSZS50ZXN0KGh0bWwpKVxuICAgICAgICByZXR1cm4gW2NyZWF0ZUVsZW1lbnQoUmVnRXhwLiQxKV07XG4gICAgdmFyIGZyYWdtZW50ID0gZnJhZ21lbnRSZS50ZXN0KGh0bWwpICYmIFJlZ0V4cC4kMTtcbiAgICB2YXIgY29udGFpbmVyID0gY29udGFpbmVyc1tmcmFnbWVudF0gfHwgY29udGFpbmVyc1snKiddO1xuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiBjYXNoKGNvbnRhaW5lci5jaGlsZE5vZGVzKS5kZXRhY2goKS5nZXQoKTtcbn1cbmNhc2gucGFyc2VIVE1MID0gcGFyc2VIVE1MO1xuZm4uaGFzID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgdmFyIGNvbXBhcmF0b3IgPSBpc1N0cmluZyhzZWxlY3RvcilcbiAgICAgICAgPyBmdW5jdGlvbiAoaSwgZWxlKSB7IHJldHVybiBmaW5kKHNlbGVjdG9yLCBlbGUpLmxlbmd0aDsgfVxuICAgICAgICA6IGZ1bmN0aW9uIChpLCBlbGUpIHsgcmV0dXJuIGVsZS5jb250YWlucyhzZWxlY3Rvcik7IH07XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyKGNvbXBhcmF0b3IpO1xufTtcbmZuLm5vdCA9IGZ1bmN0aW9uIChjb21wYXJhdG9yKSB7XG4gICAgdmFyIGNvbXBhcmUgPSBnZXRDb21wYXJlRnVuY3Rpb24oY29tcGFyYXRvcik7XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uIChpLCBlbGUpIHsgcmV0dXJuICghaXNTdHJpbmcoY29tcGFyYXRvcikgfHwgaXNFbGVtZW50KGVsZSkpICYmICFjb21wYXJlLmNhbGwoZWxlLCBpLCBlbGUpOyB9KTtcbn07XG5mdW5jdGlvbiBwbHVjayhhcnIsIHByb3AsIGRlZXAsIHVudGlsKSB7XG4gICAgdmFyIHBsdWNrZWQgPSBbXTtcbiAgICB2YXIgaXNDYWxsYmFjayA9IGlzRnVuY3Rpb24ocHJvcCk7XG4gICAgdmFyIGNvbXBhcmUgPSB1bnRpbCAmJiBnZXRDb21wYXJlRnVuY3Rpb24odW50aWwpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoaXNDYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIHZhbF8xID0gcHJvcChhcnJbaV0pO1xuICAgICAgICAgICAgaWYgKHZhbF8xLmxlbmd0aClcbiAgICAgICAgICAgICAgICBwdXNoLmFwcGx5KHBsdWNrZWQsIHZhbF8xKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB2YWxfMiA9IGFycltpXVtwcm9wXTtcbiAgICAgICAgICAgIHdoaWxlICh2YWxfMiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVudGlsICYmIGNvbXBhcmUoLTEsIHZhbF8yKSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgcGx1Y2tlZC5wdXNoKHZhbF8yKTtcbiAgICAgICAgICAgICAgICB2YWxfMiA9IGRlZXAgPyB2YWxfMltwcm9wXSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBsdWNrZWQ7XG59XG4vLyBAcmVxdWlyZSBjb3JlL3BsdWNrLnRzXG4vLyBAcmVxdWlyZSBjb3JlL3ZhcmlhYmxlcy50c1xuZnVuY3Rpb24gZ2V0VmFsdWUoZWxlKSB7XG4gICAgaWYgKGVsZS5tdWx0aXBsZSAmJiBlbGUub3B0aW9ucylcbiAgICAgICAgcmV0dXJuIHBsdWNrKGZpbHRlci5jYWxsKGVsZS5vcHRpb25zLCBmdW5jdGlvbiAob3B0aW9uKSB7IHJldHVybiBvcHRpb24uc2VsZWN0ZWQgJiYgIW9wdGlvbi5kaXNhYmxlZCAmJiAhb3B0aW9uLnBhcmVudE5vZGUuZGlzYWJsZWQ7IH0pLCAndmFsdWUnKTtcbiAgICByZXR1cm4gZWxlLnZhbHVlIHx8ICcnO1xufVxuZnVuY3Rpb24gdmFsKHZhbHVlKSB7XG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gdGhpc1swXSAmJiBnZXRWYWx1ZSh0aGlzWzBdKTtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpLCBlbGUpIHtcbiAgICAgICAgdmFyIGlzU2VsZWN0ID0gZWxlLm11bHRpcGxlICYmIGVsZS5vcHRpb25zO1xuICAgICAgICBpZiAoaXNTZWxlY3QgfHwgY2hlY2thYmxlUmUudGVzdChlbGUudHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBlbGVWYWx1ZV8xID0gaXNBcnJheSh2YWx1ZSkgPyBtYXAuY2FsbCh2YWx1ZSwgU3RyaW5nKSA6IChpc051bGwodmFsdWUpID8gW10gOiBbU3RyaW5nKHZhbHVlKV0pO1xuICAgICAgICAgICAgaWYgKGlzU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgZWFjaChlbGUub3B0aW9ucywgZnVuY3Rpb24gKGksIG9wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBlbGVWYWx1ZV8xLmluZGV4T2Yob3B0aW9uLnZhbHVlKSA+PSAwO1xuICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlLmNoZWNrZWQgPSBlbGVWYWx1ZV8xLmluZGV4T2YoZWxlLnZhbHVlKSA+PSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlLnZhbHVlID0gaXNVbmRlZmluZWQodmFsdWUpIHx8IGlzTnVsbCh2YWx1ZSkgPyAnJyA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mbi52YWwgPSB2YWw7XG5mbi5pcyA9IGZ1bmN0aW9uIChjb21wYXJhdG9yKSB7XG4gICAgdmFyIGNvbXBhcmUgPSBnZXRDb21wYXJlRnVuY3Rpb24oY29tcGFyYXRvcik7XG4gICAgcmV0dXJuIHNvbWUuY2FsbCh0aGlzLCBmdW5jdGlvbiAoZWxlLCBpKSB7IHJldHVybiBjb21wYXJlLmNhbGwoZWxlLCBpLCBlbGUpOyB9KTtcbn07XG5jYXNoLmd1aWQgPSAxO1xuZnVuY3Rpb24gdW5pcXVlKGFycikge1xuICAgIHJldHVybiBhcnIubGVuZ3RoID4gMSA/IGZpbHRlci5jYWxsKGFyciwgZnVuY3Rpb24gKGl0ZW0sIGluZGV4LCBzZWxmKSB7IHJldHVybiBpbmRleE9mLmNhbGwoc2VsZiwgaXRlbSkgPT09IGluZGV4OyB9KSA6IGFycjtcbn1cbmNhc2gudW5pcXVlID0gdW5pcXVlO1xuZm4uYWRkID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGNhc2godW5pcXVlKHRoaXMuZ2V0KCkuY29uY2F0KGNhc2goc2VsZWN0b3IsIGNvbnRleHQpLmdldCgpKSkpO1xufTtcbmZuLmNoaWxkcmVuID0gZnVuY3Rpb24gKGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gZmlsdGVyZWQoY2FzaCh1bmlxdWUocGx1Y2sodGhpcywgZnVuY3Rpb24gKGVsZSkgeyByZXR1cm4gZWxlLmNoaWxkcmVuOyB9KSkpLCBjb21wYXJhdG9yKTtcbn07XG5mbi5wYXJlbnQgPSBmdW5jdGlvbiAoY29tcGFyYXRvcikge1xuICAgIHJldHVybiBmaWx0ZXJlZChjYXNoKHVuaXF1ZShwbHVjayh0aGlzLCAncGFyZW50Tm9kZScpKSksIGNvbXBhcmF0b3IpO1xufTtcbmZuLmluZGV4ID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgdmFyIGNoaWxkID0gc2VsZWN0b3IgPyBjYXNoKHNlbGVjdG9yKVswXSA6IHRoaXNbMF07XG4gICAgdmFyIGNvbGxlY3Rpb24gPSBzZWxlY3RvciA/IHRoaXMgOiBjYXNoKGNoaWxkKS5wYXJlbnQoKS5jaGlsZHJlbigpO1xuICAgIHJldHVybiBpbmRleE9mLmNhbGwoY29sbGVjdGlvbiwgY2hpbGQpO1xufTtcbmZuLmNsb3Nlc3QgPSBmdW5jdGlvbiAoY29tcGFyYXRvcikge1xuICAgIHZhciBmaWx0ZXJlZCA9IHRoaXMuZmlsdGVyKGNvbXBhcmF0b3IpO1xuICAgIGlmIChmaWx0ZXJlZC5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgICB2YXIgJHBhcmVudCA9IHRoaXMucGFyZW50KCk7XG4gICAgaWYgKCEkcGFyZW50Lmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkO1xuICAgIHJldHVybiAkcGFyZW50LmNsb3Nlc3QoY29tcGFyYXRvcik7XG59O1xuZm4uc2libGluZ3MgPSBmdW5jdGlvbiAoY29tcGFyYXRvcikge1xuICAgIHJldHVybiBmaWx0ZXJlZChjYXNoKHVuaXF1ZShwbHVjayh0aGlzLCBmdW5jdGlvbiAoZWxlKSB7IHJldHVybiBjYXNoKGVsZSkucGFyZW50KCkuY2hpbGRyZW4oKS5ub3QoZWxlKTsgfSkpKSwgY29tcGFyYXRvcik7XG59O1xuZm4uZmluZCA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIHJldHVybiBjYXNoKHVuaXF1ZShwbHVjayh0aGlzLCBmdW5jdGlvbiAoZWxlKSB7IHJldHVybiBmaW5kKHNlbGVjdG9yLCBlbGUpOyB9KSkpO1xufTtcbi8vIEByZXF1aXJlIGNvcmUvdmFyaWFibGVzLnRzXG4vLyBAcmVxdWlyZSBjb2xsZWN0aW9uL2ZpbHRlci50c1xuLy8gQHJlcXVpcmUgdHJhdmVyc2FsL2ZpbmQudHNcbnZhciBIVE1MQ0RBVEFSZSA9IC9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZztcbnZhciBzY3JpcHRUeXBlUmUgPSAvXiR8Xm1vZHVsZSR8XFwvKGphdmF8ZWNtYSlzY3JpcHQvaTtcbnZhciBzY3JpcHRBdHRyaWJ1dGVzID0gWyd0eXBlJywgJ3NyYycsICdub25jZScsICdub01vZHVsZSddO1xuZnVuY3Rpb24gZXZhbFNjcmlwdHMobm9kZSwgZG9jKSB7XG4gICAgdmFyIGNvbGxlY3Rpb24gPSBjYXNoKG5vZGUpO1xuICAgIGNvbGxlY3Rpb24uZmlsdGVyKCdzY3JpcHQnKS5hZGQoY29sbGVjdGlvbi5maW5kKCdzY3JpcHQnKSkuZWFjaChmdW5jdGlvbiAoaSwgZWxlKSB7XG4gICAgICAgIGlmIChzY3JpcHRUeXBlUmUudGVzdChlbGUudHlwZSkgJiYgZG9jRWxlLmNvbnRhaW5zKGVsZSkpIHsgLy8gVGhlIHNjcmlwdCB0eXBlIGlzIHN1cHBvcnRlZCAvLyBUaGUgZWxlbWVudCBpcyBhdHRhY2hlZCB0byB0aGUgRE9NIC8vIFVzaW5nIGBkb2N1bWVudEVsZW1lbnRgIGZvciBicm9hZGVyIGJyb3dzZXIgc3VwcG9ydFxuICAgICAgICAgICAgdmFyIHNjcmlwdF8xID0gY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgICAgICBzY3JpcHRfMS50ZXh0ID0gZWxlLnRleHRDb250ZW50LnJlcGxhY2UoSFRNTENEQVRBUmUsICcnKTtcbiAgICAgICAgICAgIGVhY2goc2NyaXB0QXR0cmlidXRlcywgZnVuY3Rpb24gKGksIGF0dHIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlW2F0dHJdKVxuICAgICAgICAgICAgICAgICAgICBzY3JpcHRfMVthdHRyXSA9IGVsZVthdHRyXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZG9jLmhlYWQuaW5zZXJ0QmVmb3JlKHNjcmlwdF8xLCBudWxsKTtcbiAgICAgICAgICAgIGRvYy5oZWFkLnJlbW92ZUNoaWxkKHNjcmlwdF8xKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8gQHJlcXVpcmUgLi9ldmFsX3NjcmlwdHMudHNcbmZ1bmN0aW9uIGluc2VydEVsZW1lbnQoYW5jaG9yLCB0YXJnZXQsIGxlZnQsIGluc2lkZSwgZXZhbHVhdGUpIHtcbiAgICBpZiAoaW5zaWRlKSB7IC8vIHByZXBlbmQvYXBwZW5kXG4gICAgICAgIGFuY2hvci5pbnNlcnRCZWZvcmUodGFyZ2V0LCBsZWZ0ID8gYW5jaG9yLmZpcnN0Q2hpbGQgOiBudWxsKTtcbiAgICB9XG4gICAgZWxzZSB7IC8vIGJlZm9yZS9hZnRlclxuICAgICAgICBpZiAoYW5jaG9yLm5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICAgICAgICAgIGFuY2hvci5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0YXJnZXQsIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbmNob3IucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFyZ2V0LCBsZWZ0ID8gYW5jaG9yIDogYW5jaG9yLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZXZhbHVhdGUpIHtcbiAgICAgICAgZXZhbFNjcmlwdHModGFyZ2V0LCBhbmNob3Iub3duZXJEb2N1bWVudCk7XG4gICAgfVxufVxuLy8gQHJlcXVpcmUgLi9pbnNlcnRfZWxlbWVudC50c1xuZnVuY3Rpb24gaW5zZXJ0U2VsZWN0b3JzKHNlbGVjdG9ycywgYW5jaG9ycywgaW52ZXJzZSwgbGVmdCwgaW5zaWRlLCByZXZlcnNlTG9vcDEsIHJldmVyc2VMb29wMiwgcmV2ZXJzZUxvb3AzKSB7XG4gICAgZWFjaChzZWxlY3RvcnMsIGZ1bmN0aW9uIChzaSwgc2VsZWN0b3IpIHtcbiAgICAgICAgZWFjaChjYXNoKHNlbGVjdG9yKSwgZnVuY3Rpb24gKHRpLCB0YXJnZXQpIHtcbiAgICAgICAgICAgIGVhY2goY2FzaChhbmNob3JzKSwgZnVuY3Rpb24gKGFpLCBhbmNob3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9yRmluYWwgPSBpbnZlcnNlID8gdGFyZ2V0IDogYW5jaG9yO1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRGaW5hbCA9IGludmVyc2UgPyBhbmNob3IgOiB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4RmluYWwgPSBpbnZlcnNlID8gdGkgOiBhaTtcbiAgICAgICAgICAgICAgICBpbnNlcnRFbGVtZW50KGFuY2hvckZpbmFsLCAhaW5kZXhGaW5hbCA/IHRhcmdldEZpbmFsIDogdGFyZ2V0RmluYWwuY2xvbmVOb2RlKHRydWUpLCBsZWZ0LCBpbnNpZGUsICFpbmRleEZpbmFsKTtcbiAgICAgICAgICAgIH0sIHJldmVyc2VMb29wMyk7XG4gICAgICAgIH0sIHJldmVyc2VMb29wMik7XG4gICAgfSwgcmV2ZXJzZUxvb3AxKTtcbiAgICByZXR1cm4gYW5jaG9ycztcbn1cbmZuLmFmdGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBpbnNlcnRTZWxlY3RvcnMoYXJndW1lbnRzLCB0aGlzLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCB0cnVlLCB0cnVlKTtcbn07XG5mbi5hcHBlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGluc2VydFNlbGVjdG9ycyhhcmd1bWVudHMsIHRoaXMsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XG59O1xuZnVuY3Rpb24gaHRtbChodG1sKSB7XG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gdGhpc1swXSAmJiB0aGlzWzBdLmlubmVySFRNTDtcbiAgICBpZiAoaXNVbmRlZmluZWQoaHRtbCkpXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIHZhciBoYXNTY3JpcHQgPSAvPHNjcmlwdFtcXHM+XS8udGVzdChodG1sKTtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpLCBlbGUpIHtcbiAgICAgICAgaWYgKCFpc0VsZW1lbnQoZWxlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGhhc1NjcmlwdCkge1xuICAgICAgICAgICAgY2FzaChlbGUpLmVtcHR5KCkuYXBwZW5kKGh0bWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZuLmh0bWwgPSBodG1sO1xuZm4uYXBwZW5kVG8gPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gaW5zZXJ0U2VsZWN0b3JzKGFyZ3VtZW50cywgdGhpcywgdHJ1ZSwgZmFsc2UsIHRydWUpO1xufTtcbmZuLndyYXBJbm5lciA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGksIGVsZSkge1xuICAgICAgICB2YXIgJGVsZSA9IGNhc2goZWxlKTtcbiAgICAgICAgdmFyIGNvbnRlbnRzID0gJGVsZS5jb250ZW50cygpO1xuICAgICAgICBjb250ZW50cy5sZW5ndGggPyBjb250ZW50cy53cmFwQWxsKHNlbGVjdG9yKSA6ICRlbGUuYXBwZW5kKHNlbGVjdG9yKTtcbiAgICB9KTtcbn07XG5mbi5iZWZvcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGluc2VydFNlbGVjdG9ycyhhcmd1bWVudHMsIHRoaXMsIGZhbHNlLCB0cnVlKTtcbn07XG5mbi53cmFwQWxsID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgdmFyIHN0cnVjdHVyZSA9IGNhc2goc2VsZWN0b3IpO1xuICAgIHZhciB3cmFwcGVyID0gc3RydWN0dXJlWzBdO1xuICAgIHdoaWxlICh3cmFwcGVyLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAgd3JhcHBlciA9IHdyYXBwZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgdGhpcy5maXJzdCgpLmJlZm9yZShzdHJ1Y3R1cmUpO1xuICAgIHJldHVybiB0aGlzLmFwcGVuZFRvKHdyYXBwZXIpO1xufTtcbmZuLndyYXAgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpLCBlbGUpIHtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSBjYXNoKHNlbGVjdG9yKVswXTtcbiAgICAgICAgY2FzaChlbGUpLndyYXBBbGwoIWkgPyB3cmFwcGVyIDogd3JhcHBlci5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgIH0pO1xufTtcbmZuLmluc2VydEFmdGVyID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGluc2VydFNlbGVjdG9ycyhhcmd1bWVudHMsIHRoaXMsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCB0cnVlKTtcbn07XG5mbi5pbnNlcnRCZWZvcmUgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gaW5zZXJ0U2VsZWN0b3JzKGFyZ3VtZW50cywgdGhpcywgdHJ1ZSwgdHJ1ZSk7XG59O1xuZm4ucHJlcGVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gaW5zZXJ0U2VsZWN0b3JzKGFyZ3VtZW50cywgdGhpcywgZmFsc2UsIHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xufTtcbmZuLnByZXBlbmRUbyA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIHJldHVybiBpbnNlcnRTZWxlY3RvcnMoYXJndW1lbnRzLCB0aGlzLCB0cnVlLCB0cnVlLCB0cnVlLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xufTtcbmZuLmNvbnRlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjYXNoKHVuaXF1ZShwbHVjayh0aGlzLCBmdW5jdGlvbiAoZWxlKSB7IHJldHVybiBlbGUudGFnTmFtZSA9PT0gJ0lGUkFNRScgPyBbZWxlLmNvbnRlbnREb2N1bWVudF0gOiAoZWxlLnRhZ05hbWUgPT09ICdURU1QTEFURScgPyBlbGUuY29udGVudC5jaGlsZE5vZGVzIDogZWxlLmNoaWxkTm9kZXMpOyB9KSkpO1xufTtcbmZuLm5leHQgPSBmdW5jdGlvbiAoY29tcGFyYXRvciwgX2FsbCwgX3VudGlsKSB7XG4gICAgcmV0dXJuIGZpbHRlcmVkKGNhc2godW5pcXVlKHBsdWNrKHRoaXMsICduZXh0RWxlbWVudFNpYmxpbmcnLCBfYWxsLCBfdW50aWwpKSksIGNvbXBhcmF0b3IpO1xufTtcbmZuLm5leHRBbGwgPSBmdW5jdGlvbiAoY29tcGFyYXRvcikge1xuICAgIHJldHVybiB0aGlzLm5leHQoY29tcGFyYXRvciwgdHJ1ZSk7XG59O1xuZm4ubmV4dFVudGlsID0gZnVuY3Rpb24gKHVudGlsLCBjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIHRoaXMubmV4dChjb21wYXJhdG9yLCB0cnVlLCB1bnRpbCk7XG59O1xuZm4ucGFyZW50cyA9IGZ1bmN0aW9uIChjb21wYXJhdG9yLCBfdW50aWwpIHtcbiAgICByZXR1cm4gZmlsdGVyZWQoY2FzaCh1bmlxdWUocGx1Y2sodGhpcywgJ3BhcmVudEVsZW1lbnQnLCB0cnVlLCBfdW50aWwpKSksIGNvbXBhcmF0b3IpO1xufTtcbmZuLnBhcmVudHNVbnRpbCA9IGZ1bmN0aW9uICh1bnRpbCwgY29tcGFyYXRvcikge1xuICAgIHJldHVybiB0aGlzLnBhcmVudHMoY29tcGFyYXRvciwgdW50aWwpO1xufTtcbmZuLnByZXYgPSBmdW5jdGlvbiAoY29tcGFyYXRvciwgX2FsbCwgX3VudGlsKSB7XG4gICAgcmV0dXJuIGZpbHRlcmVkKGNhc2godW5pcXVlKHBsdWNrKHRoaXMsICdwcmV2aW91c0VsZW1lbnRTaWJsaW5nJywgX2FsbCwgX3VudGlsKSkpLCBjb21wYXJhdG9yKTtcbn07XG5mbi5wcmV2QWxsID0gZnVuY3Rpb24gKGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gdGhpcy5wcmV2KGNvbXBhcmF0b3IsIHRydWUpO1xufTtcbmZuLnByZXZVbnRpbCA9IGZ1bmN0aW9uICh1bnRpbCwgY29tcGFyYXRvcikge1xuICAgIHJldHVybiB0aGlzLnByZXYoY29tcGFyYXRvciwgdHJ1ZSwgdW50aWwpO1xufTtcbmZuLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiBjYXNoKGNvbmNhdC5hcHBseShbXSwgbWFwLmNhbGwodGhpcywgZnVuY3Rpb24gKGVsZSwgaSkgeyByZXR1cm4gY2FsbGJhY2suY2FsbChlbGUsIGksIGVsZSk7IH0pKSk7XG59O1xuZm4uY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpLCBlbGUpIHsgcmV0dXJuIGVsZS5jbG9uZU5vZGUodHJ1ZSk7IH0pO1xufTtcbmZuLm9mZnNldFBhcmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGksIGVsZSkge1xuICAgICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZWxlLm9mZnNldFBhcmVudDtcbiAgICAgICAgd2hpbGUgKG9mZnNldFBhcmVudCAmJiBjb21wdXRlU3R5bGUob2Zmc2V0UGFyZW50LCAncG9zaXRpb24nKSA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2NFbGU7XG4gICAgfSk7XG59O1xuZm4uc2xpY2UgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBjYXNoKHNsaWNlLmNhbGwodGhpcywgc3RhcnQsIGVuZCkpO1xufTtcbi8vIEByZXF1aXJlIC4vY2FzaC50c1xudmFyIGRhc2hBbHBoYVJlID0gLy0oW2Etel0pL2c7XG5mdW5jdGlvbiBjYW1lbENhc2Uoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKGRhc2hBbHBoYVJlLCBmdW5jdGlvbiAobWF0Y2gsIGxldHRlcikgeyByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7IH0pO1xufVxuZm4ucmVhZHkgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgY2IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwLCBjYXNoKTsgfTtcbiAgICBpZiAoZG9jLnJlYWR5U3RhdGUgIT09ICdsb2FkaW5nJykge1xuICAgICAgICBjYigpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjYik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcbmZuLnVud3JhcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24gKGksIGVsZSkge1xuICAgICAgICBpZiAoZWxlLnRhZ05hbWUgPT09ICdCT0RZJylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyICRlbGUgPSBjYXNoKGVsZSk7XG4gICAgICAgICRlbGUucmVwbGFjZVdpdGgoJGVsZS5jaGlsZHJlbigpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbn07XG5mbi5vZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsZSA9IHRoaXNbMF07XG4gICAgaWYgKCFlbGUpXG4gICAgICAgIHJldHVybjtcbiAgICB2YXIgcmVjdCA9IGVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHJlY3QudG9wICsgd2luLnBhZ2VZT2Zmc2V0LFxuICAgICAgICBsZWZ0OiByZWN0LmxlZnQgKyB3aW4ucGFnZVhPZmZzZXRcbiAgICB9O1xufTtcbmZuLnBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbGUgPSB0aGlzWzBdO1xuICAgIGlmICghZWxlKVxuICAgICAgICByZXR1cm47XG4gICAgdmFyIGlzRml4ZWQgPSAoY29tcHV0ZVN0eWxlKGVsZSwgJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCcpO1xuICAgIHZhciBvZmZzZXQgPSBpc0ZpeGVkID8gZWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogdGhpcy5vZmZzZXQoKTtcbiAgICBpZiAoIWlzRml4ZWQpIHtcbiAgICAgICAgdmFyIGRvY18xID0gZWxlLm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBlbGUub2Zmc2V0UGFyZW50IHx8IGRvY18xLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgd2hpbGUgKChvZmZzZXRQYXJlbnQgPT09IGRvY18xLmJvZHkgfHwgb2Zmc2V0UGFyZW50ID09PSBkb2NfMS5kb2N1bWVudEVsZW1lbnQpICYmIGNvbXB1dGVTdHlsZShvZmZzZXRQYXJlbnQsICdwb3NpdGlvbicpID09PSAnc3RhdGljJykge1xuICAgICAgICAgICAgb2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50LnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9mZnNldFBhcmVudCAhPT0gZWxlICYmIGlzRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50T2Zmc2V0ID0gY2FzaChvZmZzZXRQYXJlbnQpLm9mZnNldCgpO1xuICAgICAgICAgICAgb2Zmc2V0LnRvcCAtPSBwYXJlbnRPZmZzZXQudG9wICsgY29tcHV0ZVN0eWxlSW50KG9mZnNldFBhcmVudCwgJ2JvcmRlclRvcFdpZHRoJyk7XG4gICAgICAgICAgICBvZmZzZXQubGVmdCAtPSBwYXJlbnRPZmZzZXQubGVmdCArIGNvbXB1dGVTdHlsZUludChvZmZzZXRQYXJlbnQsICdib3JkZXJMZWZ0V2lkdGgnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IG9mZnNldC50b3AgLSBjb21wdXRlU3R5bGVJbnQoZWxlLCAnbWFyZ2luVG9wJyksXG4gICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0IC0gY29tcHV0ZVN0eWxlSW50KGVsZSwgJ21hcmdpbkxlZnQnKVxuICAgIH07XG59O1xudmFyIHByb3BNYXAgPSB7XG4gICAgLyogR0VORVJBTCAqL1xuICAgIGNsYXNzOiAnY2xhc3NOYW1lJyxcbiAgICBjb250ZW50ZWRpdGFibGU6ICdjb250ZW50RWRpdGFibGUnLFxuICAgIC8qIExBQkVMICovXG4gICAgZm9yOiAnaHRtbEZvcicsXG4gICAgLyogSU5QVVQgKi9cbiAgICByZWFkb25seTogJ3JlYWRPbmx5JyxcbiAgICBtYXhsZW5ndGg6ICdtYXhMZW5ndGgnLFxuICAgIHRhYmluZGV4OiAndGFiSW5kZXgnLFxuICAgIC8qIFRBQkxFICovXG4gICAgY29sc3BhbjogJ2NvbFNwYW4nLFxuICAgIHJvd3NwYW46ICdyb3dTcGFuJyxcbiAgICAvKiBJTUFHRSAqL1xuICAgIHVzZW1hcDogJ3VzZU1hcCdcbn07XG5mbi5wcm9wID0gZnVuY3Rpb24gKHByb3AsIHZhbHVlKSB7XG4gICAgaWYgKCFwcm9wKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKGlzU3RyaW5nKHByb3ApKSB7XG4gICAgICAgIHByb3AgPSBwcm9wTWFwW3Byb3BdIHx8IHByb3A7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMilcbiAgICAgICAgICAgIHJldHVybiB0aGlzWzBdICYmIHRoaXNbMF1bcHJvcF07XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGksIGVsZSkgeyBlbGVbcHJvcF0gPSB2YWx1ZTsgfSk7XG4gICAgfVxuICAgIGZvciAodmFyIGtleSBpbiBwcm9wKSB7XG4gICAgICAgIHRoaXMucHJvcChrZXksIHByb3Bba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcbmZuLnJlbW92ZVByb3AgPSBmdW5jdGlvbiAocHJvcCkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGksIGVsZSkgeyBkZWxldGUgZWxlW3Byb3BNYXBbcHJvcF0gfHwgcHJvcF07IH0pO1xufTtcbnZhciBjc3NWYXJpYWJsZVJlID0gL14tLS87XG4vLyBAcmVxdWlyZSAuL3ZhcmlhYmxlcy50c1xuZnVuY3Rpb24gaXNDU1NWYXJpYWJsZShwcm9wKSB7XG4gICAgcmV0dXJuIGNzc1ZhcmlhYmxlUmUudGVzdChwcm9wKTtcbn1cbi8vIEByZXF1aXJlIGNvcmUvY2FtZWxfY2FzZS50c1xuLy8gQHJlcXVpcmUgY29yZS9jYXNoLnRzXG4vLyBAcmVxdWlyZSBjb3JlL2VhY2gudHNcbi8vIEByZXF1aXJlIGNvcmUvdmFyaWFibGVzLnRzXG4vLyBAcmVxdWlyZSAuL2lzX2Nzc192YXJpYWJsZS50c1xudmFyIHByZWZpeGVkUHJvcHMgPSB7fTtcbnZhciBzdHlsZSA9IGRpdi5zdHlsZTtcbnZhciB2ZW5kb3JzUHJlZml4ZXMgPSBbJ3dlYmtpdCcsICdtb3onLCAnbXMnXTtcbmZ1bmN0aW9uIGdldFByZWZpeGVkUHJvcChwcm9wLCBpc1ZhcmlhYmxlKSB7XG4gICAgaWYgKGlzVmFyaWFibGUgPT09IHZvaWQgMCkgeyBpc1ZhcmlhYmxlID0gaXNDU1NWYXJpYWJsZShwcm9wKTsgfVxuICAgIGlmIChpc1ZhcmlhYmxlKVxuICAgICAgICByZXR1cm4gcHJvcDtcbiAgICBpZiAoIXByZWZpeGVkUHJvcHNbcHJvcF0pIHtcbiAgICAgICAgdmFyIHByb3BDQyA9IGNhbWVsQ2FzZShwcm9wKTtcbiAgICAgICAgdmFyIHByb3BVQyA9IFwiXCIuY29uY2F0KHByb3BDQ1swXS50b1VwcGVyQ2FzZSgpKS5jb25jYXQocHJvcENDLnNsaWNlKDEpKTtcbiAgICAgICAgdmFyIHByb3BzID0gKFwiXCIuY29uY2F0KHByb3BDQywgXCIgXCIpLmNvbmNhdCh2ZW5kb3JzUHJlZml4ZXMuam9pbihcIlwiLmNvbmNhdChwcm9wVUMsIFwiIFwiKSkpLmNvbmNhdChwcm9wVUMpKS5zcGxpdCgnICcpO1xuICAgICAgICBlYWNoKHByb3BzLCBmdW5jdGlvbiAoaSwgcCkge1xuICAgICAgICAgICAgaWYgKHAgaW4gc3R5bGUpIHtcbiAgICAgICAgICAgICAgICBwcmVmaXhlZFByb3BzW3Byb3BdID0gcDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcHJlZml4ZWRQcm9wc1twcm9wXTtcbn1cbi8vIEByZXF1aXJlIGNvcmUvdHlwZV9jaGVja2luZy50c1xuLy8gQHJlcXVpcmUgLi9pc19jc3NfdmFyaWFibGUudHNcbnZhciBudW1lcmljUHJvcHMgPSB7XG4gICAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IHRydWUsXG4gICAgY29sdW1uQ291bnQ6IHRydWUsXG4gICAgZmxleEdyb3c6IHRydWUsXG4gICAgZmxleFNocmluazogdHJ1ZSxcbiAgICBmb250V2VpZ2h0OiB0cnVlLFxuICAgIGdyaWRBcmVhOiB0cnVlLFxuICAgIGdyaWRDb2x1bW46IHRydWUsXG4gICAgZ3JpZENvbHVtbkVuZDogdHJ1ZSxcbiAgICBncmlkQ29sdW1uU3RhcnQ6IHRydWUsXG4gICAgZ3JpZFJvdzogdHJ1ZSxcbiAgICBncmlkUm93RW5kOiB0cnVlLFxuICAgIGdyaWRSb3dTdGFydDogdHJ1ZSxcbiAgICBsaW5lSGVpZ2h0OiB0cnVlLFxuICAgIG9wYWNpdHk6IHRydWUsXG4gICAgb3JkZXI6IHRydWUsXG4gICAgb3JwaGFuczogdHJ1ZSxcbiAgICB3aWRvd3M6IHRydWUsXG4gICAgekluZGV4OiB0cnVlXG59O1xuZnVuY3Rpb24gZ2V0U3VmZml4ZWRWYWx1ZShwcm9wLCB2YWx1ZSwgaXNWYXJpYWJsZSkge1xuICAgIGlmIChpc1ZhcmlhYmxlID09PSB2b2lkIDApIHsgaXNWYXJpYWJsZSA9IGlzQ1NTVmFyaWFibGUocHJvcCk7IH1cbiAgICByZXR1cm4gIWlzVmFyaWFibGUgJiYgIW51bWVyaWNQcm9wc1twcm9wXSAmJiBpc051bWVyaWModmFsdWUpID8gXCJcIi5jb25jYXQodmFsdWUsIFwicHhcIikgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNzcyhwcm9wLCB2YWx1ZSkge1xuICAgIGlmIChpc1N0cmluZyhwcm9wKSkge1xuICAgICAgICB2YXIgaXNWYXJpYWJsZV8xID0gaXNDU1NWYXJpYWJsZShwcm9wKTtcbiAgICAgICAgcHJvcCA9IGdldFByZWZpeGVkUHJvcChwcm9wLCBpc1ZhcmlhYmxlXzEpO1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpXG4gICAgICAgICAgICByZXR1cm4gdGhpc1swXSAmJiBjb21wdXRlU3R5bGUodGhpc1swXSwgcHJvcCwgaXNWYXJpYWJsZV8xKTtcbiAgICAgICAgaWYgKCFwcm9wKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHZhbHVlID0gZ2V0U3VmZml4ZWRWYWx1ZShwcm9wLCB2YWx1ZSwgaXNWYXJpYWJsZV8xKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaSwgZWxlKSB7XG4gICAgICAgICAgICBpZiAoIWlzRWxlbWVudChlbGUpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChpc1ZhcmlhYmxlXzEpIHtcbiAgICAgICAgICAgICAgICBlbGUuc3R5bGUuc2V0UHJvcGVydHkocHJvcCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlLnN0eWxlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKHZhciBrZXkgaW4gcHJvcCkge1xuICAgICAgICB0aGlzLmNzcyhrZXksIHByb3Bba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuO1xuZm4uY3NzID0gY3NzO1xuZnVuY3Rpb24gYXR0ZW1wdChmbiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZuKGFyZyk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gYXJnO1xuICAgIH1cbn1cbi8vIEByZXF1aXJlIGNvcmUvYXR0ZW1wdC50c1xuLy8gQHJlcXVpcmUgY29yZS9jYW1lbF9jYXNlLnRzXG52YXIgSlNPTlN0cmluZ1JlID0gL15cXHMrfFxccyskLztcbmZ1bmN0aW9uIGdldERhdGEoZWxlLCBrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSBlbGUuZGF0YXNldFtrZXldIHx8IGVsZS5kYXRhc2V0W2NhbWVsQ2FzZShrZXkpXTtcbiAgICBpZiAoSlNPTlN0cmluZ1JlLnRlc3QodmFsdWUpKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgcmV0dXJuIGF0dGVtcHQoSlNPTi5wYXJzZSwgdmFsdWUpO1xufVxuLy8gQHJlcXVpcmUgY29yZS9hdHRlbXB0LnRzXG4vLyBAcmVxdWlyZSBjb3JlL2NhbWVsX2Nhc2UudHNcbmZ1bmN0aW9uIHNldERhdGEoZWxlLCBrZXksIHZhbHVlKSB7XG4gICAgdmFsdWUgPSBhdHRlbXB0KEpTT04uc3RyaW5naWZ5LCB2YWx1ZSk7XG4gICAgZWxlLmRhdGFzZXRbY2FtZWxDYXNlKGtleSldID0gdmFsdWU7XG59XG5mdW5jdGlvbiBkYXRhKG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIGlmICghdGhpc1swXSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGRhdGFzID0ge307XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzWzBdLmRhdGFzZXQpIHtcbiAgICAgICAgICAgIGRhdGFzW2tleV0gPSBnZXREYXRhKHRoaXNbMF0sIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGFzO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcobmFtZSkpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXNbMF0gJiYgZ2V0RGF0YSh0aGlzWzBdLCBuYW1lKTtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpLCBlbGUpIHsgc2V0RGF0YShlbGUsIG5hbWUsIHZhbHVlKTsgfSk7XG4gICAgfVxuICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSB7XG4gICAgICAgIHRoaXMuZGF0YShrZXksIG5hbWVba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuZm4uZGF0YSA9IGRhdGE7XG5mdW5jdGlvbiBnZXREb2N1bWVudERpbWVuc2lvbihkb2MsIGRpbWVuc2lvbikge1xuICAgIHZhciBkb2NFbGUgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgIHJldHVybiBNYXRoLm1heChkb2MuYm9keVtcInNjcm9sbFwiLmNvbmNhdChkaW1lbnNpb24pXSwgZG9jRWxlW1wic2Nyb2xsXCIuY29uY2F0KGRpbWVuc2lvbildLCBkb2MuYm9keVtcIm9mZnNldFwiLmNvbmNhdChkaW1lbnNpb24pXSwgZG9jRWxlW1wib2Zmc2V0XCIuY29uY2F0KGRpbWVuc2lvbildLCBkb2NFbGVbXCJjbGllbnRcIi5jb25jYXQoZGltZW5zaW9uKV0pO1xufVxuZWFjaChbdHJ1ZSwgZmFsc2VdLCBmdW5jdGlvbiAoaSwgb3V0ZXIpIHtcbiAgICBlYWNoKFsnV2lkdGgnLCAnSGVpZ2h0J10sIGZ1bmN0aW9uIChpLCBwcm9wKSB7XG4gICAgICAgIHZhciBuYW1lID0gXCJcIi5jb25jYXQob3V0ZXIgPyAnb3V0ZXInIDogJ2lubmVyJykuY29uY2F0KHByb3ApO1xuICAgICAgICBmbltuYW1lXSA9IGZ1bmN0aW9uIChpbmNsdWRlTWFyZ2lucykge1xuICAgICAgICAgICAgaWYgKCF0aGlzWzBdKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChpc1dpbmRvdyh0aGlzWzBdKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0ZXIgPyB0aGlzWzBdW1wiaW5uZXJcIi5jb25jYXQocHJvcCldIDogdGhpc1swXS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbXCJjbGllbnRcIi5jb25jYXQocHJvcCldO1xuICAgICAgICAgICAgaWYgKGlzRG9jdW1lbnQodGhpc1swXSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldERvY3VtZW50RGltZW5zaW9uKHRoaXNbMF0sIHByb3ApO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbMF1bXCJcIi5jb25jYXQob3V0ZXIgPyAnb2Zmc2V0JyA6ICdjbGllbnQnKS5jb25jYXQocHJvcCldICsgKGluY2x1ZGVNYXJnaW5zICYmIG91dGVyID8gY29tcHV0ZVN0eWxlSW50KHRoaXNbMF0sIFwibWFyZ2luXCIuY29uY2F0KGkgPyAnVG9wJyA6ICdMZWZ0JykpICsgY29tcHV0ZVN0eWxlSW50KHRoaXNbMF0sIFwibWFyZ2luXCIuY29uY2F0KGkgPyAnQm90dG9tJyA6ICdSaWdodCcpKSA6IDApO1xuICAgICAgICB9O1xuICAgIH0pO1xufSk7XG5lYWNoKFsnV2lkdGgnLCAnSGVpZ2h0J10sIGZ1bmN0aW9uIChpbmRleCwgcHJvcCkge1xuICAgIHZhciBwcm9wTEMgPSBwcm9wLnRvTG93ZXJDYXNlKCk7XG4gICAgZm5bcHJvcExDXSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXNbMF0pXG4gICAgICAgICAgICByZXR1cm4gaXNVbmRlZmluZWQodmFsdWUpID8gdW5kZWZpbmVkIDogdGhpcztcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaXNXaW5kb3codGhpc1swXSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbMF0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W1wiY2xpZW50XCIuY29uY2F0KHByb3ApXTtcbiAgICAgICAgICAgIGlmIChpc0RvY3VtZW50KHRoaXNbMF0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBnZXREb2N1bWVudERpbWVuc2lvbih0aGlzWzBdLCBwcm9wKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3Byb3BMQ10gLSBnZXRFeHRyYVNwYWNlKHRoaXNbMF0sICFpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlTnVtYmVyID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaSwgZWxlKSB7XG4gICAgICAgICAgICBpZiAoIWlzRWxlbWVudChlbGUpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciBib3hTaXppbmcgPSBjb21wdXRlU3R5bGUoZWxlLCAnYm94U2l6aW5nJyk7XG4gICAgICAgICAgICBlbGUuc3R5bGVbcHJvcExDXSA9IGdldFN1ZmZpeGVkVmFsdWUocHJvcExDLCB2YWx1ZU51bWJlciArIChib3hTaXppbmcgPT09ICdib3JkZXItYm94JyA/IGdldEV4dHJhU3BhY2UoZWxlLCAhaW5kZXgpIDogMCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG52YXIgZGlzcGxheVByb3BlcnR5ID0gJ19fX2NkJztcbmZuLnRvZ2dsZSA9IGZ1bmN0aW9uIChmb3JjZSkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGksIGVsZSkge1xuICAgICAgICBpZiAoIWlzRWxlbWVudChlbGUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgc2hvdyA9IGlzVW5kZWZpbmVkKGZvcmNlKSA/IGlzSGlkZGVuKGVsZSkgOiBmb3JjZTtcbiAgICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgICAgIGVsZS5zdHlsZS5kaXNwbGF5ID0gZWxlW2Rpc3BsYXlQcm9wZXJ0eV0gfHwgJyc7XG4gICAgICAgICAgICBpZiAoaXNIaWRkZW4oZWxlKSkge1xuICAgICAgICAgICAgICAgIGVsZS5zdHlsZS5kaXNwbGF5ID0gZ2V0RGVmYXVsdERpc3BsYXkoZWxlLnRhZ05hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlW2Rpc3BsYXlQcm9wZXJ0eV0gPSBjb21wdXRlU3R5bGUoZWxlLCAnZGlzcGxheScpO1xuICAgICAgICAgICAgZWxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5mbi5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRvZ2dsZShmYWxzZSk7XG59O1xuZm4uc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50b2dnbGUodHJ1ZSk7XG59O1xudmFyIGV2ZW50c05hbWVzcGFjZSA9ICdfX19jZSc7XG52YXIgZXZlbnRzTmFtZXNwYWNlc1NlcGFyYXRvciA9ICcuJztcbnZhciBldmVudHNGb2N1cyA9IHsgZm9jdXM6ICdmb2N1c2luJywgYmx1cjogJ2ZvY3Vzb3V0JyB9O1xudmFyIGV2ZW50c0hvdmVyID0geyBtb3VzZWVudGVyOiAnbW91c2VvdmVyJywgbW91c2VsZWF2ZTogJ21vdXNlb3V0JyB9O1xudmFyIGV2ZW50c01vdXNlUmUgPSAvXihtb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcHxjbGlja3xkYmxjbGljaykvaTtcbi8vIEByZXF1aXJlIC4vdmFyaWFibGVzLnRzXG5mdW5jdGlvbiBnZXRFdmVudE5hbWVCdWJibGluZyhuYW1lKSB7XG4gICAgcmV0dXJuIGV2ZW50c0hvdmVyW25hbWVdIHx8IGV2ZW50c0ZvY3VzW25hbWVdIHx8IG5hbWU7XG59XG4vLyBAcmVxdWlyZSAuL3ZhcmlhYmxlcy50c1xuZnVuY3Rpb24gcGFyc2VFdmVudE5hbWUoZXZlbnROYW1lKSB7XG4gICAgdmFyIHBhcnRzID0gZXZlbnROYW1lLnNwbGl0KGV2ZW50c05hbWVzcGFjZXNTZXBhcmF0b3IpO1xuICAgIHJldHVybiBbcGFydHNbMF0sIHBhcnRzLnNsaWNlKDEpLnNvcnQoKV07IC8vIFtuYW1lLCBuYW1lc3BhY2VbXV1cbn1cbmZuLnRyaWdnZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGRhdGEpIHtcbiAgICBpZiAoaXNTdHJpbmcoZXZlbnQpKSB7XG4gICAgICAgIHZhciBfYSA9IHBhcnNlRXZlbnROYW1lKGV2ZW50KSwgbmFtZU9yaWdpbmFsID0gX2FbMF0sIG5hbWVzcGFjZXMgPSBfYVsxXTtcbiAgICAgICAgdmFyIG5hbWVfMSA9IGdldEV2ZW50TmFtZUJ1YmJsaW5nKG5hbWVPcmlnaW5hbCk7XG4gICAgICAgIGlmICghbmFtZV8xKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHZhciB0eXBlID0gZXZlbnRzTW91c2VSZS50ZXN0KG5hbWVfMSkgPyAnTW91c2VFdmVudHMnIDogJ0hUTUxFdmVudHMnO1xuICAgICAgICBldmVudCA9IGRvYy5jcmVhdGVFdmVudCh0eXBlKTtcbiAgICAgICAgZXZlbnQuaW5pdEV2ZW50KG5hbWVfMSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbihldmVudHNOYW1lc3BhY2VzU2VwYXJhdG9yKTtcbiAgICAgICAgZXZlbnQuX19fb3QgPSBuYW1lT3JpZ2luYWw7XG4gICAgfVxuICAgIGV2ZW50Ll9fX3RkID0gZGF0YTtcbiAgICB2YXIgaXNFdmVudEZvY3VzID0gKGV2ZW50Ll9fX290IGluIGV2ZW50c0ZvY3VzKTtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpLCBlbGUpIHtcbiAgICAgICAgaWYgKGlzRXZlbnRGb2N1cyAmJiBpc0Z1bmN0aW9uKGVsZVtldmVudC5fX19vdF0pKSB7XG4gICAgICAgICAgICBlbGVbXCJfX19pXCIuY29uY2F0KGV2ZW50LnR5cGUpXSA9IHRydWU7IC8vIEVuc3VyaW5nIHRoZSBuYXRpdmUgZXZlbnQgaXMgaWdub3JlZFxuICAgICAgICAgICAgZWxlW2V2ZW50Ll9fX290XSgpO1xuICAgICAgICAgICAgZWxlW1wiX19faVwiLmNvbmNhdChldmVudC50eXBlKV0gPSBmYWxzZTsgLy8gRW5zdXJpbmcgdGhlIGN1c3RvbSBldmVudCBpcyBub3QgaWdub3JlZFxuICAgICAgICB9XG4gICAgICAgIGVsZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9KTtcbn07XG4vLyBAcmVxdWlyZSAuL3ZhcmlhYmxlcy50c1xuZnVuY3Rpb24gZ2V0RXZlbnRzQ2FjaGUoZWxlKSB7XG4gICAgcmV0dXJuIGVsZVtldmVudHNOYW1lc3BhY2VdID0gKGVsZVtldmVudHNOYW1lc3BhY2VdIHx8IHt9KTtcbn1cbi8vIEByZXF1aXJlIGNvcmUvZ3VpZC50c1xuLy8gQHJlcXVpcmUgZXZlbnRzL2hlbHBlcnMvZ2V0X2V2ZW50c19jYWNoZS50c1xuZnVuY3Rpb24gYWRkRXZlbnQoZWxlLCBuYW1lLCBuYW1lc3BhY2VzLCBzZWxlY3RvciwgY2FsbGJhY2spIHtcbiAgICB2YXIgZXZlbnRDYWNoZSA9IGdldEV2ZW50c0NhY2hlKGVsZSk7XG4gICAgZXZlbnRDYWNoZVtuYW1lXSA9IChldmVudENhY2hlW25hbWVdIHx8IFtdKTtcbiAgICBldmVudENhY2hlW25hbWVdLnB1c2goW25hbWVzcGFjZXMsIHNlbGVjdG9yLCBjYWxsYmFja10pO1xuICAgIGVsZS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGNhbGxiYWNrKTtcbn1cbmZ1bmN0aW9uIGhhc05hbWVzcGFjZXMobnMxLCBuczIpIHtcbiAgICByZXR1cm4gIW5zMiB8fCAhc29tZS5jYWxsKG5zMiwgZnVuY3Rpb24gKG5zKSB7IHJldHVybiBuczEuaW5kZXhPZihucykgPCAwOyB9KTtcbn1cbi8vIEByZXF1aXJlIC4vZ2V0X2V2ZW50c19jYWNoZS50c1xuLy8gQHJlcXVpcmUgLi9oYXNfbmFtZXNwYWNlcy50c1xuLy8gQHJlcXVpcmUgLi9wYXJzZV9ldmVudF9uYW1lLnRzXG5mdW5jdGlvbiByZW1vdmVFdmVudChlbGUsIG5hbWUsIG5hbWVzcGFjZXMsIHNlbGVjdG9yLCBjYWxsYmFjaykge1xuICAgIHZhciBjYWNoZSA9IGdldEV2ZW50c0NhY2hlKGVsZSk7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIGZvciAobmFtZSBpbiBjYWNoZSkge1xuICAgICAgICAgICAgcmVtb3ZlRXZlbnQoZWxlLCBuYW1lLCBuYW1lc3BhY2VzLCBzZWxlY3RvciwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGNhY2hlW25hbWVdKSB7XG4gICAgICAgIGNhY2hlW25hbWVdID0gY2FjaGVbbmFtZV0uZmlsdGVyKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIG5zID0gX2FbMF0sIHNlbCA9IF9hWzFdLCBjYiA9IF9hWzJdO1xuICAgICAgICAgICAgaWYgKChjYWxsYmFjayAmJiBjYi5ndWlkICE9PSBjYWxsYmFjay5ndWlkKSB8fCAhaGFzTmFtZXNwYWNlcyhucywgbmFtZXNwYWNlcykgfHwgKHNlbGVjdG9yICYmIHNlbGVjdG9yICE9PSBzZWwpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgZWxlLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgY2IpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mbi5vZmYgPSBmdW5jdGlvbiAoZXZlbnRGdWxsTmFtZSwgc2VsZWN0b3IsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnRGdWxsTmFtZSkpIHtcbiAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uIChpLCBlbGUpIHtcbiAgICAgICAgICAgIGlmICghaXNFbGVtZW50KGVsZSkgJiYgIWlzRG9jdW1lbnQoZWxlKSAmJiAhaXNXaW5kb3coZWxlKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICByZW1vdmVFdmVudChlbGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWlzU3RyaW5nKGV2ZW50RnVsbE5hbWUpKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBldmVudEZ1bGxOYW1lKSB7XG4gICAgICAgICAgICB0aGlzLm9mZihrZXksIGV2ZW50RnVsbE5hbWVba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgIHNlbGVjdG9yID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWFjaChnZXRTcGxpdFZhbHVlcyhldmVudEZ1bGxOYW1lKSwgZnVuY3Rpb24gKGksIGV2ZW50RnVsbE5hbWUpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHBhcnNlRXZlbnROYW1lKGV2ZW50RnVsbE5hbWUpLCBuYW1lT3JpZ2luYWwgPSBfYVswXSwgbmFtZXNwYWNlcyA9IF9hWzFdO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBnZXRFdmVudE5hbWVCdWJibGluZyhuYW1lT3JpZ2luYWwpO1xuICAgICAgICAgICAgX3RoaXMuZWFjaChmdW5jdGlvbiAoaSwgZWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0VsZW1lbnQoZWxlKSAmJiAhaXNEb2N1bWVudChlbGUpICYmICFpc1dpbmRvdyhlbGUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQoZWxlLCBuYW1lLCBuYW1lc3BhY2VzLCBzZWxlY3RvciwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG5mbi5yZW1vdmUgPSBmdW5jdGlvbiAoY29tcGFyYXRvcikge1xuICAgIGZpbHRlcmVkKHRoaXMsIGNvbXBhcmF0b3IpLmRldGFjaCgpLm9mZigpO1xuICAgIHJldHVybiB0aGlzO1xufTtcbmZuLnJlcGxhY2VXaXRoID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHRoaXMuYmVmb3JlKHNlbGVjdG9yKS5yZW1vdmUoKTtcbn07XG5mbi5yZXBsYWNlQWxsID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgY2FzaChzZWxlY3RvcikucmVwbGFjZVdpdGgodGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuZnVuY3Rpb24gb24oZXZlbnRGdWxsTmFtZSwgc2VsZWN0b3IsIGRhdGEsIGNhbGxiYWNrLCBfb25lKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAoIWlzU3RyaW5nKGV2ZW50RnVsbE5hbWUpKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBldmVudEZ1bGxOYW1lKSB7XG4gICAgICAgICAgICB0aGlzLm9uKGtleSwgc2VsZWN0b3IsIGRhdGEsIGV2ZW50RnVsbE5hbWVba2V5XSwgX29uZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICghaXNTdHJpbmcoc2VsZWN0b3IpKSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChzZWxlY3RvcikgfHwgaXNOdWxsKHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgc2VsZWN0b3IgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1VuZGVmaW5lZChkYXRhKSkge1xuICAgICAgICAgICAgZGF0YSA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgc2VsZWN0b3IgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gZGF0YTtcbiAgICAgICAgICAgIGRhdGEgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgIHNlbGVjdG9yID0gJyc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICBjYWxsYmFjayA9IGRhdGE7XG4gICAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICghY2FsbGJhY2spXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIGVhY2goZ2V0U3BsaXRWYWx1ZXMoZXZlbnRGdWxsTmFtZSksIGZ1bmN0aW9uIChpLCBldmVudEZ1bGxOYW1lKSB7XG4gICAgICAgIHZhciBfYSA9IHBhcnNlRXZlbnROYW1lKGV2ZW50RnVsbE5hbWUpLCBuYW1lT3JpZ2luYWwgPSBfYVswXSwgbmFtZXNwYWNlcyA9IF9hWzFdO1xuICAgICAgICB2YXIgbmFtZSA9IGdldEV2ZW50TmFtZUJ1YmJsaW5nKG5hbWVPcmlnaW5hbCk7XG4gICAgICAgIHZhciBpc0V2ZW50SG92ZXIgPSAobmFtZU9yaWdpbmFsIGluIGV2ZW50c0hvdmVyKTtcbiAgICAgICAgdmFyIGlzRXZlbnRGb2N1cyA9IChuYW1lT3JpZ2luYWwgaW4gZXZlbnRzRm9jdXMpO1xuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIF90aGlzLmVhY2goZnVuY3Rpb24gKGksIGVsZSkge1xuICAgICAgICAgICAgaWYgKCFpc0VsZW1lbnQoZWxlKSAmJiAhaXNEb2N1bWVudChlbGUpICYmICFpc1dpbmRvdyhlbGUpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciBmaW5hbENhbGxiYWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldFtcIl9fX2lcIi5jb25jYXQoZXZlbnQudHlwZSldKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7IC8vIElnbm9yaW5nIG5hdGl2ZSBldmVudCBpbiBmYXZvciBvZiB0aGUgdXBjb21pbmcgY3VzdG9tIG9uZVxuICAgICAgICAgICAgICAgIGlmIChldmVudC5uYW1lc3BhY2UgJiYgIWhhc05hbWVzcGFjZXMobmFtZXNwYWNlcywgZXZlbnQubmFtZXNwYWNlLnNwbGl0KGV2ZW50c05hbWVzcGFjZXNTZXBhcmF0b3IpKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICghc2VsZWN0b3IgJiYgKChpc0V2ZW50Rm9jdXMgJiYgKGV2ZW50LnRhcmdldCAhPT0gZWxlIHx8IGV2ZW50Ll9fX290ID09PSBuYW1lKSkgfHwgKGlzRXZlbnRIb3ZlciAmJiBldmVudC5yZWxhdGVkVGFyZ2V0ICYmIGVsZS5jb250YWlucyhldmVudC5yZWxhdGVkVGFyZ2V0KSkpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNBcmcgPSBlbGU7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICghbWF0Y2hlcyh0YXJnZXQsIHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gZWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXNBcmcgPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ2N1cnJlbnRUYXJnZXQnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc0FyZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ2RlbGVnYXRlVGFyZ2V0Jywge1xuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ2RhdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IGNhbGxiYWNrLmNhbGwodGhpc0FyZywgZXZlbnQsIGV2ZW50Ll9fX3RkKTtcbiAgICAgICAgICAgICAgICBpZiAoX29uZSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVFdmVudChlbGUsIG5hbWUsIG5hbWVzcGFjZXMsIHNlbGVjdG9yLCBmaW5hbENhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJldHVyblZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZmluYWxDYWxsYmFjay5ndWlkID0gY2FsbGJhY2suZ3VpZCA9IChjYWxsYmFjay5ndWlkIHx8IGNhc2guZ3VpZCsrKTtcbiAgICAgICAgICAgIGFkZEV2ZW50KGVsZSwgbmFtZSwgbmFtZXNwYWNlcywgc2VsZWN0b3IsIGZpbmFsQ2FsbGJhY2spO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbn1cbmZuLm9uID0gb247XG5mdW5jdGlvbiBvbmUoZXZlbnRGdWxsTmFtZSwgc2VsZWN0b3IsIGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMub24oZXZlbnRGdWxsTmFtZSwgc2VsZWN0b3IsIGRhdGEsIGNhbGxiYWNrLCB0cnVlKTtcbn1cbjtcbmZuLm9uZSA9IG9uZTtcbnZhciBxdWVyeUVuY29kZVNwYWNlUmUgPSAvJTIwL2c7XG52YXIgcXVlcnlFbmNvZGVDUkxGUmUgPSAvXFxyP1xcbi9nO1xuZnVuY3Rpb24gcXVlcnlFbmNvZGUocHJvcCwgdmFsdWUpIHtcbiAgICByZXR1cm4gXCImXCIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChwcm9wKSwgXCI9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodmFsdWUucmVwbGFjZShxdWVyeUVuY29kZUNSTEZSZSwgJ1xcclxcbicpKS5yZXBsYWNlKHF1ZXJ5RW5jb2RlU3BhY2VSZSwgJysnKSk7XG59XG52YXIgc2tpcHBhYmxlUmUgPSAvZmlsZXxyZXNldHxzdWJtaXR8YnV0dG9ufGltYWdlL2k7XG52YXIgY2hlY2thYmxlUmUgPSAvcmFkaW98Y2hlY2tib3gvaTtcbmZuLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcXVlcnkgPSAnJztcbiAgICB0aGlzLmVhY2goZnVuY3Rpb24gKGksIGVsZSkge1xuICAgICAgICBlYWNoKGVsZS5lbGVtZW50cyB8fCBbZWxlXSwgZnVuY3Rpb24gKGksIGVsZSkge1xuICAgICAgICAgICAgaWYgKGVsZS5kaXNhYmxlZCB8fCAhZWxlLm5hbWUgfHwgZWxlLnRhZ05hbWUgPT09ICdGSUVMRFNFVCcgfHwgc2tpcHBhYmxlUmUudGVzdChlbGUudHlwZSkgfHwgKGNoZWNrYWJsZVJlLnRlc3QoZWxlLnR5cGUpICYmICFlbGUuY2hlY2tlZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUoZWxlKTtcbiAgICAgICAgICAgIGlmICghaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgICAgICAgICAgICAgIGVhY2godmFsdWVzLCBmdW5jdGlvbiAoaSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnkgKz0gcXVlcnlFbmNvZGUoZWxlLm5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHF1ZXJ5LnNsaWNlKDEpO1xufTtcbi8vIEByZXF1aXJlIGNvcmUvdHlwZXMudHNcbi8vIEByZXF1aXJlIGNvcmUvY2FzaC50c1xuLy8gQHJlcXVpcmUgY29yZS90eXBlX2NoZWNraW5nLnRzXG4vLyBAcmVxdWlyZSBjb3JlL3ZhcmlhYmxlcy50c1xuLy8gQHJlcXVpcmUgY29yZS9lYWNoLnRzXG4vLyBAcmVxdWlyZSBjb3JlL2V4dGVuZC50c1xuLy8gQHJlcXVpcmUgY29yZS9maW5kLnRzXG4vLyBAcmVxdWlyZSBjb3JlL2dldF9jb21wYXJlX2Z1bmN0aW9uLnRzXG4vLyBAcmVxdWlyZSBjb3JlL2dldF9zcGxpdF92YWx1ZXMudHNcbi8vIEByZXF1aXJlIGNvcmUvZ3VpZC50c1xuLy8gQHJlcXVpcmUgY29yZS9wYXJzZV9odG1sLnRzXG4vLyBAcmVxdWlyZSBjb3JlL3VuaXF1ZS50c1xuLy8gQHJlcXVpcmUgYXR0cmlidXRlcy9hZGRfY2xhc3MudHNcbi8vIEByZXF1aXJlIGF0dHJpYnV0ZXMvYXR0ci50c1xuLy8gQHJlcXVpcmUgYXR0cmlidXRlcy9oYXNfY2xhc3MudHNcbi8vIEByZXF1aXJlIGF0dHJpYnV0ZXMvcHJvcC50c1xuLy8gQHJlcXVpcmUgYXR0cmlidXRlcy9yZW1vdmVfYXR0ci50c1xuLy8gQHJlcXVpcmUgYXR0cmlidXRlcy9yZW1vdmVfY2xhc3MudHNcbi8vIEByZXF1aXJlIGF0dHJpYnV0ZXMvcmVtb3ZlX3Byb3AudHNcbi8vIEByZXF1aXJlIGF0dHJpYnV0ZXMvdG9nZ2xlX2NsYXNzLnRzXG4vLyBAcmVxdWlyZSBjb2xsZWN0aW9uL2FkZC50c1xuLy8gQHJlcXVpcmUgY29sbGVjdGlvbi9lYWNoLnRzXG4vLyBAcmVxdWlyZSBjb2xsZWN0aW9uL2VxLnRzXG4vLyBAcmVxdWlyZSBjb2xsZWN0aW9uL2ZpbHRlci50c1xuLy8gQHJlcXVpcmUgY29sbGVjdGlvbi9maXJzdC50c1xuLy8gQHJlcXVpcmUgY29sbGVjdGlvbi9nZXQudHNcbi8vIEByZXF1aXJlIGNvbGxlY3Rpb24vaW5kZXgudHNcbi8vIEByZXF1aXJlIGNvbGxlY3Rpb24vbGFzdC50c1xuLy8gQHJlcXVpcmUgY29sbGVjdGlvbi9tYXAudHNcbi8vIEByZXF1aXJlIGNvbGxlY3Rpb24vc2xpY2UudHNcbi8vIEByZXF1aXJlIGNzcy9jc3MudHNcbi8vIEByZXF1aXJlIGRhdGEvZGF0YS50c1xuLy8gQHJlcXVpcmUgZGltZW5zaW9ucy9pbm5lcl9vdXRlci50c1xuLy8gQHJlcXVpcmUgZGltZW5zaW9ucy9ub3JtYWwudHNcbi8vIEByZXF1aXJlIGVmZmVjdHMvaGlkZS50c1xuLy8gQHJlcXVpcmUgZWZmZWN0cy9zaG93LnRzXG4vLyBAcmVxdWlyZSBlZmZlY3RzL3RvZ2dsZS50c1xuLy8gQHJlcXVpcmUgZXZlbnRzL29mZi50c1xuLy8gQHJlcXVpcmUgZXZlbnRzL29uLnRzXG4vLyBAcmVxdWlyZSBldmVudHMvb25lLnRzXG4vLyBAcmVxdWlyZSBldmVudHMvcmVhZHkudHNcbi8vIEByZXF1aXJlIGV2ZW50cy90cmlnZ2VyLnRzXG4vLyBAcmVxdWlyZSBmb3Jtcy9zZXJpYWxpemUudHNcbi8vIEByZXF1aXJlIGZvcm1zL3ZhbC50c1xuLy8gQHJlcXVpcmUgbWFuaXB1bGF0aW9uL2FmdGVyLnRzXG4vLyBAcmVxdWlyZSBtYW5pcHVsYXRpb24vYXBwZW5kLnRzXG4vLyBAcmVxdWlyZSBtYW5pcHVsYXRpb24vYXBwZW5kX3RvLnRzXG4vLyBAcmVxdWlyZSBtYW5pcHVsYXRpb24vYmVmb3JlLnRzXG4vLyBAcmVxdWlyZSBtYW5pcHVsYXRpb24vY2xvbmUudHNcbi8vIEByZXF1aXJlIG1hbmlwdWxhdGlvbi9kZXRhY2gudHNcbi8vIEByZXF1aXJlIG1hbmlwdWxhdGlvbi9lbXB0eS50c1xuLy8gQHJlcXVpcmUgbWFuaXB1bGF0aW9uL2h0bWwudHNcbi8vIEByZXF1aXJlIG1hbmlwdWxhdGlvbi9pbnNlcnRfYWZ0ZXIudHNcbi8vIEByZXF1aXJlIG1hbmlwdWxhdGlvbi9pbnNlcnRfYmVmb3JlLnRzXG4vLyBAcmVxdWlyZSBtYW5pcHVsYXRpb24vcHJlcGVuZC50c1xuLy8gQHJlcXVpcmUgbWFuaXB1bGF0aW9uL3ByZXBlbmRfdG8udHNcbi8vIEByZXF1aXJlIG1hbmlwdWxhdGlvbi9yZW1vdmUudHNcbi8vIEByZXF1aXJlIG1hbmlwdWxhdGlvbi9yZXBsYWNlX2FsbC50c1xuLy8gQHJlcXVpcmUgbWFuaXB1bGF0aW9uL3JlcGxhY2Vfd2l0aC50c1xuLy8gQHJlcXVpcmUgbWFuaXB1bGF0aW9uL3RleHQudHNcbi8vIEByZXF1aXJlIG1hbmlwdWxhdGlvbi91bndyYXAudHNcbi8vIEByZXF1aXJlIG1hbmlwdWxhdGlvbi93cmFwLnRzXG4vLyBAcmVxdWlyZSBtYW5pcHVsYXRpb24vd3JhcF9hbGwudHNcbi8vIEByZXF1aXJlIG1hbmlwdWxhdGlvbi93cmFwX2lubmVyLnRzXG4vLyBAcmVxdWlyZSBvZmZzZXQvb2Zmc2V0LnRzXG4vLyBAcmVxdWlyZSBvZmZzZXQvb2Zmc2V0X3BhcmVudC50c1xuLy8gQHJlcXVpcmUgb2Zmc2V0L3Bvc2l0aW9uLnRzXG4vLyBAcmVxdWlyZSB0cmF2ZXJzYWwvY2hpbGRyZW4udHNcbi8vIEByZXF1aXJlIHRyYXZlcnNhbC9jbG9zZXN0LnRzXG4vLyBAcmVxdWlyZSB0cmF2ZXJzYWwvY29udGVudHMudHNcbi8vIEByZXF1aXJlIHRyYXZlcnNhbC9maW5kLnRzXG4vLyBAcmVxdWlyZSB0cmF2ZXJzYWwvaGFzLnRzXG4vLyBAcmVxdWlyZSB0cmF2ZXJzYWwvaXMudHNcbi8vIEByZXF1aXJlIHRyYXZlcnNhbC9uZXh0LnRzXG4vLyBAcmVxdWlyZSB0cmF2ZXJzYWwvbmV4dF9hbGwudHNcbi8vIEByZXF1aXJlIHRyYXZlcnNhbC9uZXh0X3VudGlsLnRzXG4vLyBAcmVxdWlyZSB0cmF2ZXJzYWwvbm90LnRzXG4vLyBAcmVxdWlyZSB0cmF2ZXJzYWwvcGFyZW50LnRzXG4vLyBAcmVxdWlyZSB0cmF2ZXJzYWwvcGFyZW50cy50c1xuLy8gQHJlcXVpcmUgdHJhdmVyc2FsL3BhcmVudHNfdW50aWwudHNcbi8vIEByZXF1aXJlIHRyYXZlcnNhbC9wcmV2LnRzXG4vLyBAcmVxdWlyZSB0cmF2ZXJzYWwvcHJldl9hbGwudHNcbi8vIEByZXF1aXJlIHRyYXZlcnNhbC9wcmV2X3VudGlsLnRzXG4vLyBAcmVxdWlyZSB0cmF2ZXJzYWwvc2libGluZ3MudHNcbi8vIEBuby1yZXF1aXJlIGV4dHJhcy9nZXRfc2NyaXB0LnRzXG4vLyBAbm8tcmVxdWlyZSBleHRyYXMvc2hvcnRoYW5kcy50c1xuLy8gQHJlcXVpcmUgbWV0aG9kcy50c1xuaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykgeyAvLyBOb2RlLmpzXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBjYXNoO1xufVxuZWxzZSB7IC8vIEJyb3dzZXJcbiAgICB3aW5bJ2Nhc2gnXSA9IHdpblsnJCddID0gY2FzaDtcbn1cbn0pKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///553\n")},357:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Autocomplete = void 0;\nconst component_1 = __webpack_require__(999);\nconst global_1 = __webpack_require__(238);\nlet _defaults = {\n    data: [],\n    onAutocomplete: null,\n    dropdownOptions: {\n        // Default dropdown options\n        autoFocus: false,\n        closeOnClick: false,\n        coverTrigger: false\n    },\n    minLength: 1,\n    isMultiSelect: false,\n    onSearch: function (text, autocomplete) {\n        const filteredData = autocomplete.options.data.filter(item => {\n            return Object.keys(item)\n                .map(key => item[key].toString().toLowerCase().indexOf(text.toLowerCase()) >= 0)\n                .some(isMatch => isMatch);\n        });\n        autocomplete.setMenuItems(filteredData);\n    },\n    maxDropDownHeight: '300px',\n    allowUnsafeHTML: false\n};\nclass Autocomplete extends component_1.Component {\n    constructor(el, options) {\n        super(Autocomplete, el, options);\n        this.el.M_Autocomplete = this;\n        this.options = Object.assign(Object.assign({}, Autocomplete.defaults), options);\n        this.isOpen = false;\n        this.count = 0;\n        this.activeIndex = -1;\n        this.oldVal;\n        this.selectedValues = [];\n        this.menuItems = [];\n        this.$active = null;\n        this._mousedown = false;\n        this._setupDropdown();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = el.jquery ? el[0] : el;\n        return domElem.M_Autocomplete;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._removeDropdown();\n        this.el.M_Autocomplete = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleInputBlurBound = this._handleInputBlur.bind(this);\n        this._handleInputKeyupAndFocusBound = this._handleInputKeyupAndFocus.bind(this);\n        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);\n        this._handleInputClickBound = this._handleInputClick.bind(this);\n        this._handleContainerMousedownAndTouchstartBound = this._handleContainerMousedownAndTouchstart.bind(this);\n        this._handleContainerMouseupAndTouchendBound = this._handleContainerMouseupAndTouchend.bind(this);\n        this.el.addEventListener('blur', this._handleInputBlurBound);\n        this.el.addEventListener('keyup', this._handleInputKeyupAndFocusBound);\n        this.el.addEventListener('focus', this._handleInputKeyupAndFocusBound);\n        this.el.addEventListener('keydown', this._handleInputKeydownBound);\n        this.el.addEventListener('click', this._handleInputClickBound);\n        this.container.addEventListener('mousedown', this._handleContainerMousedownAndTouchstartBound);\n        this.container.addEventListener('mouseup', this._handleContainerMouseupAndTouchendBound);\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.container.addEventListener('touchstart', this._handleContainerMousedownAndTouchstartBound);\n            this.container.addEventListener('touchend', this._handleContainerMouseupAndTouchendBound);\n        }\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('blur', this._handleInputBlurBound);\n        this.el.removeEventListener('keyup', this._handleInputKeyupAndFocusBound);\n        this.el.removeEventListener('focus', this._handleInputKeyupAndFocusBound);\n        this.el.removeEventListener('keydown', this._handleInputKeydownBound);\n        this.el.removeEventListener('click', this._handleInputClickBound);\n        this.container.removeEventListener('mousedown', this._handleContainerMousedownAndTouchstartBound);\n        this.container.removeEventListener('mouseup', this._handleContainerMouseupAndTouchendBound);\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.container.removeEventListener('touchstart', this._handleContainerMousedownAndTouchstartBound);\n            this.container.removeEventListener('touchend', this._handleContainerMouseupAndTouchendBound);\n        }\n    }\n    _setupDropdown() {\n        this.container = document.createElement('ul');\n        this.container.style.maxHeight = this.options.maxDropDownHeight;\n        this.container.id = `autocomplete-options-${global_1.M.guid()}`;\n        this.container.classList.add('autocomplete-content', 'dropdown-content');\n        this.el.setAttribute('data-target', this.container.id);\n        // ! Issue in Component Dropdown: _placeDropdown moves dom-position\n        this.el.parentElement.appendChild(this.container);\n        // Initialize dropdown\n        let dropdownOptions = Object.assign(Object.assign({}, Autocomplete.defaults.dropdownOptions), this.options.dropdownOptions);\n        let userOnItemClick = dropdownOptions.onItemClick;\n        // Ensuring the select Option call when user passes custom onItemClick function to dropdown\n        dropdownOptions.onItemClick = (li) => {\n            if (!li)\n                return;\n            const entryID = li.getAttribute('data-id');\n            this.selectOption(entryID);\n            // Handle user declared onItemClick if needed\n            if (userOnItemClick && typeof userOnItemClick === 'function')\n                userOnItemClick.call(this.dropdown, this.el);\n        };\n        this.dropdown = global_1.M.Dropdown.init(this.el, dropdownOptions);\n        // ! Workaround for Label: move label up again\n        // TODO: Just use PopperJS in future!\n        const label = this.el.parentElement.querySelector('label');\n        if (label)\n            this.el.after(label);\n        // Sketchy removal of dropdown click handler\n        this.el.removeEventListener('click', this.dropdown._handleClickBound);\n        // Set Value if already set in HTML\n        if (this.el.value)\n            this.selectOption(this.el.value);\n        // Add StatusInfo\n        const div = document.createElement('div');\n        div.classList.add('status-info');\n        div.setAttribute('style', 'position: absolute;right:0;top:0;');\n        this.el.parentElement.appendChild(div);\n        this._updateSelectedInfo();\n    }\n    _removeDropdown() {\n        this.container.parentNode.removeChild(this.container);\n    }\n    _handleInputBlur() {\n        if (!this._mousedown) {\n            this.close();\n            this._resetAutocomplete();\n        }\n    }\n    _handleInputKeyupAndFocus(e) {\n        if (e.type === 'keyup')\n            Autocomplete._keydown = false;\n        this.count = 0;\n        const actualValue = this.el.value.toLowerCase();\n        // Don't capture enter or arrow key usage.\n        if (e.keyCode === 13 || e.keyCode === 38 || e.keyCode === 40)\n            return;\n        // Check if the input isn't empty\n        // Check if focus triggered by tab\n        if (this.oldVal !== actualValue && (global_1.M.tabPressed || e.type !== 'focus')) {\n            this.open();\n        }\n        // Value has changed!\n        if (this.oldVal !== actualValue) {\n            this._setStatusLoading();\n            this.options.onSearch(this.el.value, this);\n        }\n        // Reset Single-Select when Input cleared\n        if (!this.options.isMultiSelect && this.el.value.length === 0) {\n            this.selectedValues = [];\n            this._triggerChanged();\n        }\n        this.oldVal = actualValue;\n    }\n    _handleInputKeydown(e) {\n        var _a, _b;\n        Autocomplete._keydown = true;\n        // Arrow keys and enter key usage\n        const keyCode = e.keyCode;\n        const numItems = this.container.querySelectorAll('li').length;\n        // select element on Enter\n        if (keyCode === global_1.M.keys.ENTER && this.activeIndex >= 0) {\n            const liElement = this.container.querySelectorAll('li')[this.activeIndex];\n            if (liElement) {\n                this.selectOption(liElement.getAttribute('data-id'));\n                e.preventDefault();\n            }\n            return;\n        }\n        // Capture up and down key\n        if (keyCode === global_1.M.keys.ARROW_UP || keyCode === global_1.M.keys.ARROW_DOWN) {\n            e.preventDefault();\n            if (keyCode === global_1.M.keys.ARROW_UP && this.activeIndex > 0)\n                this.activeIndex--;\n            if (keyCode === global_1.M.keys.ARROW_DOWN && this.activeIndex < numItems - 1)\n                this.activeIndex++;\n            (_a = this.$active) === null || _a === void 0 ? void 0 : _a.classList.remove('active');\n            if (this.activeIndex >= 0) {\n                this.$active = this.container.querySelectorAll('li')[this.activeIndex];\n                (_b = this.$active) === null || _b === void 0 ? void 0 : _b.classList.add('active');\n                // Focus selected\n                this.container.children[this.activeIndex].scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'nearest',\n                    inline: 'nearest'\n                });\n            }\n        }\n    }\n    _handleInputClick(e) {\n        this.open();\n    }\n    _handleContainerMousedownAndTouchstart(e) {\n        this._mousedown = true;\n    }\n    _handleContainerMouseupAndTouchend(e) {\n        this._mousedown = false;\n    }\n    _resetCurrentElementPosition() {\n        var _a;\n        this.activeIndex = -1;\n        (_a = this.$active) === null || _a === void 0 ? void 0 : _a.classList.remove('active');\n    }\n    _resetAutocomplete() {\n        this.container.replaceChildren();\n        this._resetCurrentElementPosition();\n        this.oldVal = null;\n        this.isOpen = false;\n        this._mousedown = false;\n    }\n    _highlightPartialText(input, label) {\n        const start = label.toLowerCase().indexOf('' + input.toLowerCase() + '');\n        const end = start + input.length - 1;\n        //custom filters may return results where the string does not match any part\n        if (start == -1 || end == -1) {\n            return [label, '', ''];\n        }\n        return [label.slice(0, start), label.slice(start, end + 1), label.slice(end + 1)];\n    }\n    _createDropdownItem(entry) {\n        const item = document.createElement('li');\n        item.setAttribute('data-id', entry.id);\n        item.setAttribute('style', 'display:grid; grid-auto-flow: column; user-select: none; align-items: center;');\n        // Checkbox\n        if (this.options.isMultiSelect) {\n            item.innerHTML = `\n        <div class=\"item-selection\" style=\"text-align:center;\">\n        <input type=\"checkbox\"${this.selectedValues.some((sel) => sel.id === entry.id) ? ' checked=\"checked\"' : ''}><span style=\"padding-left:21px;\"></span>\n      </div>`;\n        }\n        // Image\n        if (entry.image) {\n            const img = document.createElement('img');\n            img.classList.add('circle');\n            img.src = entry.image;\n            item.appendChild(img);\n        }\n        // Text\n        const inputText = this.el.value.toLowerCase();\n        const parts = this._highlightPartialText(inputText, (entry.text || entry.id).toString());\n        const div = document.createElement('div');\n        div.setAttribute('style', 'line-height:1.2;font-weight:500;');\n        if (this.options.allowUnsafeHTML) {\n            div.innerHTML = parts[0] + '<span class=\"highlight\">' + parts[1] + '</span>' + parts[2];\n        }\n        else {\n            div.appendChild(document.createTextNode(parts[0]));\n            if (parts[1]) {\n                const highlight = document.createElement('span');\n                highlight.textContent = parts[1];\n                highlight.classList.add('highlight');\n                div.appendChild(highlight);\n                div.appendChild(document.createTextNode(parts[2]));\n            }\n        }\n        const itemText = document.createElement('div');\n        itemText.classList.add('item-text');\n        itemText.setAttribute('style', 'padding:5px;overflow:hidden;');\n        item.appendChild(itemText);\n        item.querySelector('.item-text').appendChild(div);\n        // Description\n        if (typeof entry.description === 'string' || (typeof entry.description === 'number' && !isNaN(entry.description))) {\n            const description = document.createElement('small');\n            description.setAttribute('style', 'line-height:1.3;color:grey;white-space:nowrap;text-overflow:ellipsis;display:block;width:90%;overflow:hidden;');\n            description.innerText = entry.description;\n            item.querySelector('.item-text').appendChild(description);\n        }\n        // Set Grid\n        const getGridConfig = () => {\n            if (this.options.isMultiSelect) {\n                if (entry.image)\n                    return '40px min-content auto'; // cb-img-txt\n                return '40px auto'; // cb-txt\n            }\n            if (entry.image)\n                return 'min-content auto'; // img-txt\n            return 'auto'; // txt\n        };\n        item.style.gridTemplateColumns = getGridConfig();\n        return item;\n    }\n    _renderDropdown() {\n        this._resetAutocomplete();\n        // Check if Data is empty\n        if (this.menuItems.length === 0) {\n            this.menuItems = this.selectedValues; // Show selected Items\n        }\n        for (let i = 0; i < this.menuItems.length; i++) {\n            const item = this._createDropdownItem(this.menuItems[i]);\n            this.container.append(item);\n        }\n    }\n    _setStatusLoading() {\n        this.el.parentElement.querySelector('.status-info').innerHTML = `<div style=\"height:100%;width:50px;\"><svg version=\"1.1\" id=\"L4\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\">\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"6\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.1\"/></circle>\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"26\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.2\"/></circle>\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"46\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\"  begin=\"0.3\"/></circle>\n  </svg></div>`;\n    }\n    _updateSelectedInfo() {\n        const statusElement = this.el.parentElement.querySelector('.status-info');\n        if (statusElement) {\n            if (this.options.isMultiSelect)\n                statusElement.innerHTML = this.selectedValues.length.toString();\n            else\n                statusElement.innerHTML = '';\n        }\n    }\n    _refreshInputText() {\n        if (this.selectedValues.length === 1) {\n            const entry = this.selectedValues[0];\n            this.el.value = entry.text || entry.id; // Write Text to Input\n        }\n    }\n    _triggerChanged() {\n        this.$el.trigger('change');\n        // Trigger Autocomplete Event\n        if (typeof this.options.onAutocomplete === 'function')\n            this.options.onAutocomplete.call(this, this.selectedValues);\n    }\n    open() {\n        const inputText = this.el.value.toLowerCase();\n        this._resetAutocomplete();\n        if (inputText.length >= this.options.minLength) {\n            this.isOpen = true;\n            this._renderDropdown();\n        }\n        // Open dropdown\n        if (!this.dropdown.isOpen) {\n            setTimeout(() => {\n                this.dropdown.open();\n            }, 100);\n        }\n        else\n            this.dropdown.recalculateDimensions(); // Recalculate dropdown when its already open\n    }\n    close() {\n        this.dropdown.close();\n    }\n    setMenuItems(menuItems) {\n        this.menuItems = menuItems;\n        this.open();\n        this._updateSelectedInfo();\n    }\n    setValues(entries) {\n        this.selectedValues = entries;\n        this._updateSelectedInfo();\n        if (!this.options.isMultiSelect) {\n            this._refreshInputText();\n        }\n        this._triggerChanged();\n    }\n    selectOption(id) {\n        const entry = this.menuItems.find((item) => item.id == id);\n        if (!entry)\n            return;\n        // Toggle Checkbox\n        const li = this.container.querySelector('li[data-id=\"' + id + '\"]');\n        if (!li)\n            return;\n        if (this.options.isMultiSelect) {\n            const checkbox = li.querySelector('input[type=\"checkbox\"]');\n            checkbox.checked = !checkbox.checked;\n            if (checkbox.checked)\n                this.selectedValues.push(entry);\n            else\n                this.selectedValues = this.selectedValues.filter((selectedEntry) => selectedEntry.id !== entry.id);\n            this.el.focus();\n        }\n        else {\n            // Single-Select\n            this.selectedValues = [entry];\n            this._refreshInputText();\n            this._resetAutocomplete();\n            this.close();\n        }\n        this._updateSelectedInfo();\n        this._triggerChanged();\n    }\n}\nexports.Autocomplete = Autocomplete;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxtQkFBbUIsRUFBRSxDQUFDO1FBQzNCLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN6QixDQUFDO0NBQ0Y7QUE3YUQsb0NBNmFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTS8uL3NyYy9hdXRvY29tcGxldGUudHM/ZGVmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcbmltcG9ydCB7IERyb3Bkb3duIH0gZnJvbSBcIi4vZHJvcGRvd25cIjtcblxubGV0IF9kZWZhdWx0cyA9IHtcbiAgZGF0YTogW10sIC8vIEF1dG9jb21wbGV0ZSBkYXRhIHNldFxuICBvbkF1dG9jb21wbGV0ZTogbnVsbCwgLy8gQ2FsbGJhY2sgZm9yIHdoZW4gYXV0b2NvbXBsZXRlZFxuICBkcm9wZG93bk9wdGlvbnM6IHtcbiAgICAvLyBEZWZhdWx0IGRyb3Bkb3duIG9wdGlvbnNcbiAgICBhdXRvRm9jdXM6IGZhbHNlLFxuICAgIGNsb3NlT25DbGljazogZmFsc2UsXG4gICAgY292ZXJUcmlnZ2VyOiBmYWxzZVxuICB9LFxuICBtaW5MZW5ndGg6IDEsIC8vIE1pbiBjaGFyYWN0ZXJzIGJlZm9yZSBhdXRvY29tcGxldGUgc3RhcnRzXG4gIGlzTXVsdGlTZWxlY3Q6IGZhbHNlLFxuICBvblNlYXJjaDogZnVuY3Rpb24odGV4dCwgYXV0b2NvbXBsZXRlKSB7XG4gICAgY29uc3QgZmlsdGVyZWREYXRhID0gYXV0b2NvbXBsZXRlLm9wdGlvbnMuZGF0YS5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoaXRlbSlcbiAgICAgICAgLm1hcChrZXkgPT4gaXRlbVtrZXldLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHRleHQudG9Mb3dlckNhc2UoKSkgPj0gMClcbiAgICAgICAgLnNvbWUoaXNNYXRjaCA9PiBpc01hdGNoKTtcbiAgICB9KTtcbiAgICBhdXRvY29tcGxldGUuc2V0TWVudUl0ZW1zKGZpbHRlcmVkRGF0YSk7XG4gIH0sXG4gIG1heERyb3BEb3duSGVpZ2h0OiAnMzAwcHgnLFxuICBhbGxvd1Vuc2FmZUhUTUw6IGZhbHNlXG59O1xuXG5cbmV4cG9ydCBjbGFzcyBBdXRvY29tcGxldGUgZXh0ZW5kcyBDb21wb25lbnQge1xuICBlbDogSFRNTElucHV0RWxlbWVudDtcbiAgcHJpdmF0ZSBpc09wZW46IGJvb2xlYW47XG4gIHByaXZhdGUgY291bnQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBhY3RpdmVJbmRleDogbnVtYmVyO1xuICBwcml2YXRlIG9sZFZhbDogYW55O1xuICBwcml2YXRlICRpbnB1dEZpZWxkOiBhbnk7XG4gIHByaXZhdGUgJGFjdGl2ZTogSFRNTEVsZW1lbnR8bnVsbDtcbiAgcHJpdmF0ZSBfbW91c2Vkb3duOiBib29sZWFuO1xuICBwcml2YXRlIF9oYW5kbGVJbnB1dEJsdXJCb3VuZDogYW55O1xuICBwcml2YXRlIF9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXNCb3VuZDogYW55O1xuICBwcml2YXRlIF9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZDogYW55O1xuICBwcml2YXRlIF9oYW5kbGVJbnB1dENsaWNrQm91bmQ6IGFueTtcbiAgcHJpdmF0ZSBfaGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydEJvdW5kOiBhbnk7XG4gIHByaXZhdGUgX2hhbmRsZUNvbnRhaW5lck1vdXNldXBBbmRUb3VjaGVuZEJvdW5kOiBhbnk7XG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIGRyb3Bkb3duOiBhbnk7XG4gIHN0YXRpYyBfa2V5ZG93bjogYm9vbGVhbjtcbiAgc2VsZWN0ZWRWYWx1ZXM6IGFueVtdO1xuICBtZW51SXRlbXM6IGFueVtdO1xuXG5cbiAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihBdXRvY29tcGxldGUsIGVsLCBvcHRpb25zKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQXV0b2NvbXBsZXRlID0gdGhpcztcbiAgICB0aGlzLm9wdGlvbnMgPSB7Li4uQXV0b2NvbXBsZXRlLmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuY291bnQgPSAwO1xuICAgIHRoaXMuYWN0aXZlSW5kZXggPSAtMTtcbiAgICB0aGlzLm9sZFZhbDtcbiAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gW107XG4gICAgdGhpcy5tZW51SXRlbXMgPSBbXTtcbiAgICB0aGlzLiRhY3RpdmUgPSBudWxsO1xuICAgIHRoaXMuX21vdXNlZG93biA9IGZhbHNlO1xuICAgIHRoaXMuX3NldHVwRHJvcGRvd24oKTtcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgfVxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cbiAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgfVxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICBsZXQgZG9tRWxlbSA9IGVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgcmV0dXJuIGRvbUVsZW0uTV9BdXRvY29tcGxldGU7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLl9yZW1vdmVEcm9wZG93bigpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9BdXRvY29tcGxldGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuX2hhbmRsZUlucHV0Qmx1ckJvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRCbHVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlSW5wdXRLZXl1cEFuZEZvY3VzQm91bmQgPSB0aGlzLl9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0Q2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZWRvd25BbmRUb3VjaHN0YXJ0Qm91bmQgPSB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZWRvd25BbmRUb3VjaHN0YXJ0LmJpbmQoXG4gICAgICB0aGlzXG4gICAgKTtcbiAgICB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmRCb3VuZCA9IHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNldXBBbmRUb3VjaGVuZC5iaW5kKFxuICAgICAgdGhpc1xuICAgICk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlSW5wdXRCbHVyQm91bmQpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXNCb3VuZCk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1c0JvdW5kKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCk7XG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdtb3VzZWRvd24nLFxuICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydEJvdW5kXG4gICAgKTtcbiAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kQm91bmQpO1xuICAgIGlmICh0eXBlb2Ygd2luZG93Lm9udG91Y2hzdGFydCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICd0b3VjaHN0YXJ0JyxcbiAgICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydEJvdW5kXG4gICAgICApO1xuICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmRCb3VuZCk7XG4gICAgfVxuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlSW5wdXRCbHVyQm91bmQpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXNCb3VuZCk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1c0JvdW5kKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCk7XG4gICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdtb3VzZWRvd24nLFxuICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydEJvdW5kXG4gICAgKTtcbiAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kQm91bmQpO1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cub250b3VjaHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3RvdWNoc3RhcnQnLFxuICAgICAgICB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZWRvd25BbmRUb3VjaHN0YXJ0Qm91bmRcbiAgICAgICk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAndG91Y2hlbmQnLFxuICAgICAgICB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmRCb3VuZFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBfc2V0dXBEcm9wZG93bigpIHsgICAgICBcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUubWF4SGVpZ2h0ID0gdGhpcy5vcHRpb25zLm1heERyb3BEb3duSGVpZ2h0O1xuICAgIHRoaXMuY29udGFpbmVyLmlkID0gYGF1dG9jb21wbGV0ZS1vcHRpb25zLSR7TS5ndWlkKCl9YDtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhdXRvY29tcGxldGUtY29udGVudCcsICdkcm9wZG93bi1jb250ZW50Jyk7XG4gICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0JywgdGhpcy5jb250YWluZXIuaWQpO1xuXG4gICAgLy8gISBJc3N1ZSBpbiBDb21wb25lbnQgRHJvcGRvd246IF9wbGFjZURyb3Bkb3duIG1vdmVzIGRvbS1wb3NpdGlvblxuICAgIHRoaXMuZWwucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7IFxuXG4gICAgLy8gSW5pdGlhbGl6ZSBkcm9wZG93blxuICAgIGxldCBkcm9wZG93bk9wdGlvbnMgPSB7XG4gICAgICAuLi5BdXRvY29tcGxldGUuZGVmYXVsdHMuZHJvcGRvd25PcHRpb25zLFxuICAgICAgLi4udGhpcy5vcHRpb25zLmRyb3Bkb3duT3B0aW9uc1xuICAgIH07XG4gICAgbGV0IHVzZXJPbkl0ZW1DbGljayA9IGRyb3Bkb3duT3B0aW9ucy5vbkl0ZW1DbGljaztcbiAgICAvLyBFbnN1cmluZyB0aGUgc2VsZWN0IE9wdGlvbiBjYWxsIHdoZW4gdXNlciBwYXNzZXMgY3VzdG9tIG9uSXRlbUNsaWNrIGZ1bmN0aW9uIHRvIGRyb3Bkb3duXG4gICAgZHJvcGRvd25PcHRpb25zLm9uSXRlbUNsaWNrID0gKGxpKSA9PiB7XG4gICAgICBpZiAoIWxpKSByZXR1cm47XG4gICAgICBjb25zdCBlbnRyeUlEID0gbGkuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XG4gICAgICB0aGlzLnNlbGVjdE9wdGlvbihlbnRyeUlEKTtcbiAgICAgIC8vIEhhbmRsZSB1c2VyIGRlY2xhcmVkIG9uSXRlbUNsaWNrIGlmIG5lZWRlZFxuICAgICAgaWYgKHVzZXJPbkl0ZW1DbGljayAmJiB0eXBlb2YgdXNlck9uSXRlbUNsaWNrID09PSAnZnVuY3Rpb24nKVxuICAgICAgICB1c2VyT25JdGVtQ2xpY2suY2FsbCh0aGlzLmRyb3Bkb3duLCB0aGlzLmVsKTtcbiAgICB9O1xuICAgIHRoaXMuZHJvcGRvd24gPSBNLkRyb3Bkb3duLmluaXQodGhpcy5lbCwgZHJvcGRvd25PcHRpb25zKTtcblxuICAgIC8vICEgV29ya2Fyb3VuZCBmb3IgTGFiZWw6IG1vdmUgbGFiZWwgdXAgYWdhaW5cbiAgICAvLyBUT0RPOiBKdXN0IHVzZSBQb3BwZXJKUyBpbiBmdXR1cmUhXG4gICAgY29uc3QgbGFiZWwgPSB0aGlzLmVsLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWwnKTtcbiAgICBpZiAobGFiZWwpIHRoaXMuZWwuYWZ0ZXIobGFiZWwpO1xuXG4gICAgLy8gU2tldGNoeSByZW1vdmFsIG9mIGRyb3Bkb3duIGNsaWNrIGhhbmRsZXJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5kcm9wZG93bi5faGFuZGxlQ2xpY2tCb3VuZCk7XG4gICAgLy8gU2V0IFZhbHVlIGlmIGFscmVhZHkgc2V0IGluIEhUTUxcbiAgICBpZiAodGhpcy5lbC52YWx1ZSkgdGhpcy5zZWxlY3RPcHRpb24odGhpcy5lbC52YWx1ZSk7XG4gICAgLy8gQWRkIFN0YXR1c0luZm9cbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgnc3RhdHVzLWluZm8nKTtcbiAgICBkaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsICdwb3NpdGlvbjogYWJzb2x1dGU7cmlnaHQ6MDt0b3A6MDsnKTtcbiAgICB0aGlzLmVsLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZGl2KTsgICAgICBcbiAgICB0aGlzLl91cGRhdGVTZWxlY3RlZEluZm8oKTtcbiAgfVxuXG4gIF9yZW1vdmVEcm9wZG93bigpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY29udGFpbmVyKTtcbiAgfVxuXG4gIF9oYW5kbGVJbnB1dEJsdXIoKSB7XG4gICAgaWYgKCF0aGlzLl9tb3VzZWRvd24pIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHRoaXMuX3Jlc2V0QXV0b2NvbXBsZXRlKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1cyhlKSB7XG4gICAgaWYgKGUudHlwZSA9PT0gJ2tleXVwJykgQXV0b2NvbXBsZXRlLl9rZXlkb3duID0gZmFsc2U7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gICAgY29uc3QgYWN0dWFsVmFsdWUgPSB0aGlzLmVsLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgLy8gRG9uJ3QgY2FwdHVyZSBlbnRlciBvciBhcnJvdyBrZXkgdXNhZ2UuXG4gICAgaWYgKGUua2V5Q29kZSA9PT0gMTMgfHwgZS5rZXlDb2RlID09PSAzOCB8fCBlLmtleUNvZGUgPT09IDQwKSByZXR1cm47XG4gICAgLy8gQ2hlY2sgaWYgdGhlIGlucHV0IGlzbid0IGVtcHR5XG4gICAgLy8gQ2hlY2sgaWYgZm9jdXMgdHJpZ2dlcmVkIGJ5IHRhYlxuICAgIGlmICh0aGlzLm9sZFZhbCAhPT0gYWN0dWFsVmFsdWUgJiYgKE0udGFiUHJlc3NlZCB8fCBlLnR5cGUgIT09ICdmb2N1cycpKSB7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gICAgLy8gVmFsdWUgaGFzIGNoYW5nZWQhXG4gICAgaWYgKHRoaXMub2xkVmFsICE9PSBhY3R1YWxWYWx1ZSkge1xuICAgICAgdGhpcy5fc2V0U3RhdHVzTG9hZGluZygpO1xuICAgICAgdGhpcy5vcHRpb25zLm9uU2VhcmNoKHRoaXMuZWwudmFsdWUsIHRoaXMpO1xuICAgIH1cbiAgICAvLyBSZXNldCBTaW5nbGUtU2VsZWN0IHdoZW4gSW5wdXQgY2xlYXJlZFxuICAgIGlmICghdGhpcy5vcHRpb25zLmlzTXVsdGlTZWxlY3QgJiYgdGhpcy5lbC52YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcbiAgICAgIHRoaXMuX3RyaWdnZXJDaGFuZ2VkKCk7XG4gICAgfVxuICAgIHRoaXMub2xkVmFsID0gYWN0dWFsVmFsdWU7XG4gIH1cblxuICBfaGFuZGxlSW5wdXRLZXlkb3duKGUpIHtcbiAgICBBdXRvY29tcGxldGUuX2tleWRvd24gPSB0cnVlO1xuICAgIC8vIEFycm93IGtleXMgYW5kIGVudGVyIGtleSB1c2FnZVxuICAgIGNvbnN0IGtleUNvZGUgPSBlLmtleUNvZGU7XG4gICAgY29uc3QgbnVtSXRlbXMgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdsaScpLmxlbmd0aDtcbiAgICAvLyBzZWxlY3QgZWxlbWVudCBvbiBFbnRlclxuICAgIGlmIChrZXlDb2RlID09PSBNLmtleXMuRU5URVIgJiYgdGhpcy5hY3RpdmVJbmRleCA+PSAwKSB7XG4gICAgICBjb25zdCBsaUVsZW1lbnQgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdsaScpW3RoaXMuYWN0aXZlSW5kZXhdO1xuICAgICAgaWYgKGxpRWxlbWVudCkge1xuICAgICAgICB0aGlzLnNlbGVjdE9wdGlvbihsaUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIENhcHR1cmUgdXAgYW5kIGRvd24ga2V5XG4gICAgaWYgKGtleUNvZGUgPT09IE0ua2V5cy5BUlJPV19VUCB8fCBrZXlDb2RlID09PSBNLmtleXMuQVJST1dfRE9XTikge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGtleUNvZGUgPT09IE0ua2V5cy5BUlJPV19VUCAmJiB0aGlzLmFjdGl2ZUluZGV4ID4gMCkgdGhpcy5hY3RpdmVJbmRleC0tO1xuICAgICAgaWYgKGtleUNvZGUgPT09IE0ua2V5cy5BUlJPV19ET1dOICYmIHRoaXMuYWN0aXZlSW5kZXggPCBudW1JdGVtcyAtIDEpIHRoaXMuYWN0aXZlSW5kZXgrKztcbiAgICAgIHRoaXMuJGFjdGl2ZT8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBpZiAodGhpcy5hY3RpdmVJbmRleCA+PSAwKSB7XG4gICAgICAgIHRoaXMuJGFjdGl2ZSA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJylbdGhpcy5hY3RpdmVJbmRleF07XG4gICAgICAgIHRoaXMuJGFjdGl2ZT8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIC8vIEZvY3VzIHNlbGVjdGVkXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNoaWxkcmVuW3RoaXMuYWN0aXZlSW5kZXhdLnNjcm9sbEludG9WaWV3KHtcbiAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXG4gICAgICAgICAgYmxvY2s6ICduZWFyZXN0JyxcbiAgICAgICAgICBpbmxpbmU6ICduZWFyZXN0J1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaGFuZGxlSW5wdXRDbGljayhlKSB7XG4gICAgdGhpcy5vcGVuKCk7XG4gIH1cblxuICBfaGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydChlKSB7XG4gICAgdGhpcy5fbW91c2Vkb3duID0gdHJ1ZTtcbiAgfVxuXG4gIF9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmQoZSkge1xuICAgIHRoaXMuX21vdXNlZG93biA9IGZhbHNlO1xuICB9XG5cbiAgX3Jlc2V0Q3VycmVudEVsZW1lbnRQb3NpdGlvbigpIHtcbiAgICB0aGlzLmFjdGl2ZUluZGV4ID0gLTE7XG4gICAgdGhpcy4kYWN0aXZlPy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfVxuXG4gIF9yZXNldEF1dG9jb21wbGV0ZSgpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5yZXBsYWNlQ2hpbGRyZW4oKTtcbiAgICB0aGlzLl9yZXNldEN1cnJlbnRFbGVtZW50UG9zaXRpb24oKTtcbiAgICB0aGlzLm9sZFZhbCA9IG51bGw7XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLl9tb3VzZWRvd24gPSBmYWxzZTtcbiAgfVxuXG4gIF9oaWdobGlnaHRQYXJ0aWFsVGV4dChpbnB1dCwgbGFiZWwpIHtcbiAgICBjb25zdCBzdGFydCA9IGxhYmVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignJyArIGlucHV0LnRvTG93ZXJDYXNlKCkgKyAnJyk7XG4gICAgY29uc3QgZW5kID0gc3RhcnQgKyBpbnB1dC5sZW5ndGggLSAxO1xuICAgIC8vY3VzdG9tIGZpbHRlcnMgbWF5IHJldHVybiByZXN1bHRzIHdoZXJlIHRoZSBzdHJpbmcgZG9lcyBub3QgbWF0Y2ggYW55IHBhcnRcbiAgICBpZiAoc3RhcnQgPT0gLTEgfHwgZW5kID09IC0xKSB7XG4gICAgICByZXR1cm4gW2xhYmVsLCAnJywgJyddO1xuICAgIH1cbiAgICByZXR1cm4gW2xhYmVsLnNsaWNlKDAsIHN0YXJ0KSwgbGFiZWwuc2xpY2Uoc3RhcnQsIGVuZCArIDEpLCBsYWJlbC5zbGljZShlbmQgKyAxKV07XG4gIH1cblxuICBfY3JlYXRlRHJvcGRvd25JdGVtKGVudHJ5KSB7XG4gICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBlbnRyeS5pZCk7XG4gICAgaXRlbS5zZXRBdHRyaWJ1dGUoXG4gICAgICAnc3R5bGUnLFxuICAgICAgJ2Rpc3BsYXk6Z3JpZDsgZ3JpZC1hdXRvLWZsb3c6IGNvbHVtbjsgdXNlci1zZWxlY3Q6IG5vbmU7IGFsaWduLWl0ZW1zOiBjZW50ZXI7J1xuICAgICk7XG4gICAgLy8gQ2hlY2tib3hcbiAgICBpZiAodGhpcy5vcHRpb25zLmlzTXVsdGlTZWxlY3QpIHtcbiAgICAgIGl0ZW0uaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbS1zZWxlY3Rpb25cIiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyO1wiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIke1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMuc29tZSgoc2VsKSA9PiBzZWwuaWQgPT09IGVudHJ5LmlkKSA/ICcgY2hlY2tlZD1cImNoZWNrZWRcIicgOiAnJ1xuICAgICAgICB9PjxzcGFuIHN0eWxlPVwicGFkZGluZy1sZWZ0OjIxcHg7XCI+PC9zcGFuPlxuICAgICAgPC9kaXY+YDtcbiAgICB9XG4gICAgLy8gSW1hZ2VcbiAgICBpZiAoZW50cnkuaW1hZ2UpIHtcbiAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoJ2NpcmNsZScpO1xuICAgICAgaW1nLnNyYyA9IGVudHJ5LmltYWdlO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChpbWcpO1xuICAgIH1cblxuICAgIC8vIFRleHRcbiAgICBjb25zdCBpbnB1dFRleHQgPSB0aGlzLmVsLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgcGFydHMgPSB0aGlzLl9oaWdobGlnaHRQYXJ0aWFsVGV4dChpbnB1dFRleHQsIChlbnRyeS50ZXh0IHx8IGVudHJ5LmlkKS50b1N0cmluZygpKTtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsICdsaW5lLWhlaWdodDoxLjI7Zm9udC13ZWlnaHQ6NTAwOycpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dVbnNhZmVIVE1MKSB7XG4gICAgICBkaXYuaW5uZXJIVE1MID0gcGFydHNbMF0gKyAnPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRcIj4nICsgcGFydHNbMV0gKyAnPC9zcGFuPicgKyBwYXJ0c1syXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBhcnRzWzBdKSk7XG4gICAgICBpZiAocGFydHNbMV0pIHtcbiAgICAgICAgY29uc3QgaGlnaGxpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBoaWdobGlnaHQudGV4dENvbnRlbnQgPSBwYXJ0c1sxXTtcbiAgICAgICAgaGlnaGxpZ2h0LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0KTtcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBhcnRzWzJdKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpdGVtVGV4dC5jbGFzc0xpc3QuYWRkKCdpdGVtLXRleHQnKTtcbiAgICBpdGVtVGV4dC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3BhZGRpbmc6NXB4O292ZXJmbG93OmhpZGRlbjsnKTtcbiAgICBpdGVtLmFwcGVuZENoaWxkKGl0ZW1UZXh0KTtcbiAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5pdGVtLXRleHQnKS5hcHBlbmRDaGlsZChkaXYpO1xuICAgIC8vIERlc2NyaXB0aW9uXG4gICAgaWYgKHR5cGVvZiBlbnRyeS5kZXNjcmlwdGlvbiA9PT0gJ3N0cmluZycgfHwgKHR5cGVvZiBlbnRyeS5kZXNjcmlwdGlvbiA9PT0gJ251bWJlcicgJiYgIWlzTmFOKGVudHJ5LmRlc2NyaXB0aW9uKSkpIHtcbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc21hbGwnKTtcbiAgICAgIGRlc2NyaXB0aW9uLnNldEF0dHJpYnV0ZShcbiAgICAgICAgJ3N0eWxlJyxcbiAgICAgICAgJ2xpbmUtaGVpZ2h0OjEuMztjb2xvcjpncmV5O3doaXRlLXNwYWNlOm5vd3JhcDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO2Rpc3BsYXk6YmxvY2s7d2lkdGg6OTAlO292ZXJmbG93OmhpZGRlbjsnXG4gICAgICApO1xuICAgICAgZGVzY3JpcHRpb24uaW5uZXJUZXh0ID0gZW50cnkuZGVzY3JpcHRpb247XG4gICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5pdGVtLXRleHQnKS5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XG4gICAgfVxuICAgIC8vIFNldCBHcmlkXG4gICAgY29uc3QgZ2V0R3JpZENvbmZpZyA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNNdWx0aVNlbGVjdCkge1xuICAgICAgICBpZiAoZW50cnkuaW1hZ2UpIHJldHVybiAnNDBweCBtaW4tY29udGVudCBhdXRvJzsgLy8gY2ItaW1nLXR4dFxuICAgICAgICByZXR1cm4gJzQwcHggYXV0byc7IC8vIGNiLXR4dFxuICAgICAgfVxuICAgICAgaWYgKGVudHJ5LmltYWdlKSByZXR1cm4gJ21pbi1jb250ZW50IGF1dG8nOyAvLyBpbWctdHh0XG4gICAgICByZXR1cm4gJ2F1dG8nOyAvLyB0eHRcbiAgICB9O1xuICAgIGl0ZW0uc3R5bGUuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IGdldEdyaWRDb25maWcoKTtcbiAgICByZXR1cm4gaXRlbTtcbiAgfVxuXG4gIF9yZW5kZXJEcm9wZG93bigpIHtcbiAgICB0aGlzLl9yZXNldEF1dG9jb21wbGV0ZSgpO1xuICAgIC8vIENoZWNrIGlmIERhdGEgaXMgZW1wdHlcbiAgICBpZiAodGhpcy5tZW51SXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLm1lbnVJdGVtcyA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXM7IC8vIFNob3cgc2VsZWN0ZWQgSXRlbXNcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbnVJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX2NyZWF0ZURyb3Bkb3duSXRlbSh0aGlzLm1lbnVJdGVtc1tpXSk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQoaXRlbSk7XG4gICAgfVxuICB9XG5cbiAgX3NldFN0YXR1c0xvYWRpbmcoKSB7XG4gICAgdGhpcy5lbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnLnN0YXR1cy1pbmZvJ1xuICAgICkuaW5uZXJIVE1MID0gYDxkaXYgc3R5bGU9XCJoZWlnaHQ6MTAwJTt3aWR0aDo1MHB4O1wiPjxzdmcgdmVyc2lvbj1cIjEuMVwiIGlkPVwiTDRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMCAwXCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbiAgICA8Y2lyY2xlIGZpbGw9XCIjODg4Y1wiIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjZcIiBjeT1cIjUwXCIgcj1cIjZcIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwib3BhY2l0eVwiIGR1cj1cIjFzXCIgdmFsdWVzPVwiMDsxOzBcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiBiZWdpbj1cIjAuMVwiLz48L2NpcmNsZT5cbiAgICA8Y2lyY2xlIGZpbGw9XCIjODg4Y1wiIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjI2XCIgY3k9XCI1MFwiIHI9XCI2XCI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cIm9wYWNpdHlcIiBkdXI9XCIxc1wiIHZhbHVlcz1cIjA7MTswXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgYmVnaW49XCIwLjJcIi8+PC9jaXJjbGU+XG4gICAgPGNpcmNsZSBmaWxsPVwiIzg4OGNcIiBzdHJva2U9XCJub25lXCIgY3g9XCI0NlwiIGN5PVwiNTBcIiByPVwiNlwiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgZHVyPVwiMXNcIiB2YWx1ZXM9XCIwOzE7MFwiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiICBiZWdpbj1cIjAuM1wiLz48L2NpcmNsZT5cbiAgPC9zdmc+PC9kaXY+YDtcbiAgfVxuXG4gIF91cGRhdGVTZWxlY3RlZEluZm8oKSB7XG4gICAgY29uc3Qgc3RhdHVzRWxlbWVudCA9IHRoaXMuZWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhdHVzLWluZm8nKTtcbiAgICBpZiAoc3RhdHVzRWxlbWVudCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc011bHRpU2VsZWN0KSBzdGF0dXNFbGVtZW50LmlubmVySFRNTCA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgICBlbHNlIHN0YXR1c0VsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgfVxuICB9XG5cbiAgX3JlZnJlc2hJbnB1dFRleHQoKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICBjb25zdCBlbnRyeSA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXNbMF07XG4gICAgICB0aGlzLmVsLnZhbHVlID0gZW50cnkudGV4dCB8fCBlbnRyeS5pZDsgLy8gV3JpdGUgVGV4dCB0byBJbnB1dFxuICAgIH1cbiAgfVxuXG4gIF90cmlnZ2VyQ2hhbmdlZCgpIHtcbiAgICB0aGlzLiRlbC50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAvLyBUcmlnZ2VyIEF1dG9jb21wbGV0ZSBFdmVudFxuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQXV0b2NvbXBsZXRlID09PSAnZnVuY3Rpb24nKVxuICAgICAgdGhpcy5vcHRpb25zLm9uQXV0b2NvbXBsZXRlLmNhbGwodGhpcywgdGhpcy5zZWxlY3RlZFZhbHVlcyk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIGNvbnN0IGlucHV0VGV4dCA9IHRoaXMuZWwudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLl9yZXNldEF1dG9jb21wbGV0ZSgpO1xuICAgIGlmIChpbnB1dFRleHQubGVuZ3RoID49IHRoaXMub3B0aW9ucy5taW5MZW5ndGgpIHtcbiAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgIHRoaXMuX3JlbmRlckRyb3Bkb3duKCk7XG4gICAgfVxuICAgIC8vIE9wZW4gZHJvcGRvd25cbiAgICBpZiAoIXRoaXMuZHJvcGRvd24uaXNPcGVuKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5kcm9wZG93bi5vcGVuKCk7XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgICBlbHNlIHRoaXMuZHJvcGRvd24ucmVjYWxjdWxhdGVEaW1lbnNpb25zKCk7IC8vIFJlY2FsY3VsYXRlIGRyb3Bkb3duIHdoZW4gaXRzIGFscmVhZHkgb3BlblxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5kcm9wZG93bi5jbG9zZSgpO1xuICB9XG5cbiAgc2V0TWVudUl0ZW1zKG1lbnVJdGVtcykge1xuICAgIHRoaXMubWVudUl0ZW1zID0gbWVudUl0ZW1zO1xuICAgIHRoaXMub3BlbigpO1xuICAgIHRoaXMuX3VwZGF0ZVNlbGVjdGVkSW5mbygpO1xuICB9XG5cbiAgc2V0VmFsdWVzKGVudHJpZXMpIHtcbiAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gZW50cmllcztcbiAgICB0aGlzLl91cGRhdGVTZWxlY3RlZEluZm8oKTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5pc011bHRpU2VsZWN0KSB7XG4gICAgICB0aGlzLl9yZWZyZXNoSW5wdXRUZXh0KCk7XG4gICAgfVxuICAgIHRoaXMuX3RyaWdnZXJDaGFuZ2VkKCk7XG4gIH1cblxuICBzZWxlY3RPcHRpb24oaWQpIHtcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMubWVudUl0ZW1zLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT0gaWQpO1xuICAgIGlmICghZW50cnkpIHJldHVybjtcbiAgICAvLyBUb2dnbGUgQ2hlY2tib3hcbiAgICBjb25zdCBsaSA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2xpW2RhdGEtaWQ9XCInK2lkKydcIl0nKTtcbiAgICBpZiAoIWxpKSByZXR1cm47XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pc011bHRpU2VsZWN0KSB7XG4gICAgICBjb25zdCBjaGVja2JveCA9IDxIVE1MSW5wdXRFbGVtZW50fG51bGw+bGkucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgICBjaGVja2JveC5jaGVja2VkID0gIWNoZWNrYm94LmNoZWNrZWQ7XG4gICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkgdGhpcy5zZWxlY3RlZFZhbHVlcy5wdXNoKGVudHJ5KTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhpcy5zZWxlY3RlZFZhbHVlcyA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXMuZmlsdGVyKFxuICAgICAgICAgIChzZWxlY3RlZEVudHJ5KSA9PiBzZWxlY3RlZEVudHJ5LmlkICE9PSBlbnRyeS5pZFxuICAgICAgICApO1xuICAgICAgdGhpcy5lbC5mb2N1cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTaW5nbGUtU2VsZWN0XG4gICAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gW2VudHJ5XTtcbiAgICAgIHRoaXMuX3JlZnJlc2hJbnB1dFRleHQoKTtcbiAgICAgIHRoaXMuX3Jlc2V0QXV0b2NvbXBsZXRlKCk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZVNlbGVjdGVkSW5mbygpO1xuICAgIHRoaXMuX3RyaWdnZXJDaGFuZ2VkKCk7XG4gIH1cbn1cbiAgIFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///357\n")},379:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FloatingActionButton = void 0;\nconst component_1 = __webpack_require__(999);\nconst animejs_1 = __importDefault(__webpack_require__(30));\nlet _defaults = {\n    direction: 'top',\n    hoverEnabled: true,\n    toolbarEnabled: false\n};\nclass FloatingActionButton extends component_1.Component {\n    constructor(el, options) {\n        super(FloatingActionButton, el, options);\n        this.el.M_FloatingActionButton = this;\n        this.options = Object.assign(Object.assign({}, FloatingActionButton.defaults), options);\n        this.isOpen = false;\n        this._anchor = this.el.querySelector('a');\n        this._menu = this.el.querySelector('ul');\n        this._floatingBtns = Array.from(this.el.querySelectorAll('ul .btn-floating'));\n        this._floatingBtnsReverse = this._floatingBtns.reverse();\n        this.offsetY = 0;\n        this.offsetX = 0;\n        this.el.classList.add(`direction-${this.options.direction}`);\n        if (this.options.direction === 'top')\n            this.offsetY = 40;\n        else if (this.options.direction === 'right')\n            this.offsetX = -40;\n        else if (this.options.direction === 'bottom')\n            this.offsetY = -40;\n        else\n            this.offsetX = 40;\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_FloatingActionButton;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_FloatingActionButton = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleFABClickBound = this._handleFABClick.bind(this);\n        this._handleOpenBound = this.open.bind(this);\n        this._handleCloseBound = this.close.bind(this);\n        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\n            this.el.addEventListener('mouseenter', this._handleOpenBound);\n            this.el.addEventListener('mouseleave', this._handleCloseBound);\n        }\n        else {\n            this.el.addEventListener('click', this._handleFABClickBound);\n        }\n    }\n    _removeEventHandlers() {\n        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\n            this.el.removeEventListener('mouseenter', this._handleOpenBound);\n            this.el.removeEventListener('mouseleave', this._handleCloseBound);\n        }\n        else {\n            this.el.removeEventListener('click', this._handleFABClickBound);\n        }\n    }\n    _handleFABClick() {\n        if (this.isOpen) {\n            this.close();\n        }\n        else {\n            this.open();\n        }\n    }\n    _handleDocumentClick(e) {\n        const elem = e.target;\n        if (elem !== this._menu)\n            this.close;\n        /*\n        if (!elem.closest(this.$menu)) {\n          this.close();\n        }*/\n    }\n    open() {\n        if (this.isOpen)\n            return;\n        if (this.options.toolbarEnabled)\n            this._animateInToolbar();\n        else\n            this._animateInFAB();\n        this.isOpen = true;\n    }\n    close() {\n        if (!this.isOpen)\n            return;\n        if (this.options.toolbarEnabled) {\n            window.removeEventListener('scroll', this._handleCloseBound, true);\n            document.body.removeEventListener('click', this._handleDocumentClickBound, true);\n            this._animateOutToolbar();\n        }\n        else {\n            this._animateOutFAB();\n        }\n        this.isOpen = false;\n    }\n    _animateInFAB() {\n        this.el.classList.add('active');\n        let time = 0;\n        this._floatingBtnsReverse.forEach((el) => {\n            (0, animejs_1.default)({\n                targets: el,\n                opacity: 1,\n                scale: [0.4, 1],\n                translateY: [this.offsetY, 0],\n                translateX: [this.offsetX, 0],\n                duration: 275,\n                delay: time,\n                easing: 'easeInOutQuad'\n            });\n            time += 40;\n        });\n    }\n    _animateOutFAB() {\n        this._floatingBtnsReverse.forEach((el) => {\n            animejs_1.default.remove(el);\n            (0, animejs_1.default)({\n                targets: el,\n                opacity: 0,\n                scale: 0.4,\n                translateY: this.offsetY,\n                translateX: this.offsetX,\n                duration: 175,\n                easing: 'easeOutQuad',\n                complete: () => {\n                    this.$el.removeClass('active');\n                }\n            });\n        });\n    }\n    _animateInToolbar() {\n        let scaleFactor;\n        let windowWidth = window.innerWidth;\n        let windowHeight = window.innerHeight;\n        let btnRect = this.el.getBoundingClientRect();\n        const backdrop = document.createElement('div');\n        backdrop.classList.add('fab-backdrop'); //  $('<div class=\"fab-backdrop\"></div>');\n        const fabColor = getComputedStyle(this._anchor).backgroundColor; // css('background-color');\n        this._anchor.append(backdrop);\n        this.offsetX = btnRect.left - windowWidth / 2 + btnRect.width / 2;\n        this.offsetY = windowHeight - btnRect.bottom;\n        scaleFactor = windowWidth / backdrop[0].clientWidth;\n        this.btnBottom = btnRect.bottom;\n        this.btnLeft = btnRect.left;\n        this.btnWidth = btnRect.width;\n        // Set initial state\n        this.el.classList.add('active');\n        this.el.style.textAlign = 'center';\n        this.el.style.width = '100%';\n        this.el.style.bottom = '0';\n        this.el.style.left = '0';\n        this.el.style.transform = 'translateX(' + this.offsetX + 'px)';\n        this.el.style.transition = 'none';\n        this._anchor.style.transform = `translateY(${this.offsetY}px`;\n        this._anchor.style.transition = 'none';\n        backdrop.style.backgroundColor = fabColor;\n        setTimeout(() => {\n            this.el.style.transform = '';\n            this.el.style.transition = 'transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s';\n            this._anchor.style.overflow = 'visible';\n            this._anchor.style.transform = '';\n            this._anchor.style.transition = 'transform .2s';\n            setTimeout(() => {\n                this.el.style.overflow = 'hidden';\n                this.el.style.backgroundColor = fabColor;\n                backdrop.style.transform = 'scale(' + scaleFactor + ')';\n                backdrop.style.transition = 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)';\n                this._menu.querySelectorAll('li > a').forEach((a) => a.style.opacity = '1');\n                // Scroll to close.\n                this._handleDocumentClickBound = this._handleDocumentClick.bind(this);\n                window.addEventListener('scroll', this._handleCloseBound, true);\n                document.body.addEventListener('click', this._handleDocumentClickBound, true);\n            }, 100);\n        }, 0);\n    }\n    _animateOutToolbar() {\n        return;\n        /*\n        let windowWidth = window.innerWidth;\n        let windowHeight = window.innerHeight;\n        let backdrop = this.$el.find('.fab-backdrop');\n        let fabColor = this.$anchor.css('background-color');\n  \n        this.offsetX = this.btnLeft - windowWidth / 2 + this.btnWidth / 2;\n        this.offsetY = windowHeight - this.btnBottom;\n  \n        // Hide backdrop\n        this.$el.removeClass('active');\n        this.$el.css({\n          'background-color': 'transparent',\n          transition: 'none'\n        });\n        // this.$anchor.css({\n        //   transition: 'none'\n        // });\n        backdrop.css({\n          transform: 'scale(0)',\n          'background-color': fabColor\n        });\n  \n        // this.$menu\n        //   .children('li')\n        //   .children('a')\n        //   .css({\n        //     opacity: ''\n        //   });\n  \n        setTimeout(() => {\n          backdrop.remove();\n  \n          // Set initial state.\n          this.$el.css({\n            'text-align': '',\n            width: '',\n            bottom: '',\n            left: '',\n            overflow: '',\n            'background-color': '',\n            transform: 'translate3d(' + -this.offsetX + 'px,0,0)'\n          });\n          // this.$anchor.css({\n          //   overflow: '',\n          //   transform: 'translate3d(0,' + this.offsetY + 'px,0)'\n          // });\n  \n          setTimeout(() => {\n            this.$el.css({\n              transform: 'translate3d(0,0,0)',\n              transition: 'transform .2s'\n            });\n            // this.$anchor.css({\n            //   transform: 'translate3d(0,0,0)',\n            //   transition: 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)'\n            // });\n          }, 20);\n        }, 200);\n        */\n    }\n}\nexports.FloatingActionButton = FloatingActionButton;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQW9CLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQyxDQUFDO2dCQUUvRixtQkFBbUI7Z0JBQ25CLElBQUksQ0FBQyx5QkFBeUIsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN0RSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDaEUsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLHlCQUF5QixFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ2hGLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNWLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNSLENBQUM7SUFLRCxrQkFBa0I7UUFDaEIsT0FBTztRQUNQOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztVQTJERTtJQUNKLENBQUM7Q0FDRjtBQTNSRCxvREEyUkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL2J1dHRvbnMudHM/M2ZjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5cbiAgbGV0IF9kZWZhdWx0cyA9IHtcbiAgICBkaXJlY3Rpb246ICd0b3AnLFxuICAgIGhvdmVyRW5hYmxlZDogdHJ1ZSxcbiAgICB0b29sYmFyRW5hYmxlZDogZmFsc2VcbiAgfTtcbiAgXG4gIGV4cG9ydCBjbGFzcyBGbG9hdGluZ0FjdGlvbkJ1dHRvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgZWw6IEhUTUxFbGVtZW50O1xuICAgIGlzT3BlbjogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9hbmNob3I6IEhUTUxBbmNob3JFbGVtZW50O1xuICAgIHByaXZhdGUgX21lbnU6IEhUTUxFbGVtZW50fG51bGw7XG4gICAgcHJpdmF0ZSBfZmxvYXRpbmdCdG5zOiBIVE1MRWxlbWVudFtdO1xuICAgIHByaXZhdGUgX2Zsb2F0aW5nQnRuc1JldmVyc2U6IEhUTUxFbGVtZW50W107XG4gICAgb2Zmc2V0WTogbnVtYmVyO1xuICAgIG9mZnNldFg6IG51bWJlcjtcbiAgICBwcml2YXRlIF9oYW5kbGVGQUJDbGlja0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlT3BlbkJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlQ2xvc2VCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZDogKHRoaXM6IEhUTUxFbGVtZW50LCBldjogTW91c2VFdmVudCkgPT4gYW55O1xuICAgIGJ0bkJvdHRvbTogbnVtYmVyO1xuICAgIGJ0bkxlZnQ6IG51bWJlcjtcbiAgICBidG5XaWR0aDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKEZsb2F0aW5nQWN0aW9uQnV0dG9uLCBlbCwgb3B0aW9ucyk7XG5cbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9GbG9hdGluZ0FjdGlvbkJ1dHRvbiA9IHRoaXM7XG5cbiAgICAgIHRoaXMub3B0aW9ucyA9IHsuLi5GbG9hdGluZ0FjdGlvbkJ1dHRvbi5kZWZhdWx0cywgLi4ub3B0aW9uc307XG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgdGhpcy5fYW5jaG9yID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdhJyk7XG4gICAgICB0aGlzLl9tZW51ID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCd1bCcpO1xuICAgICAgdGhpcy5fZmxvYXRpbmdCdG5zID0gQXJyYXkuZnJvbSh0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ3VsIC5idG4tZmxvYXRpbmcnKSk7XG4gICAgICB0aGlzLl9mbG9hdGluZ0J0bnNSZXZlcnNlID0gdGhpcy5fZmxvYXRpbmdCdG5zLnJldmVyc2UoKTtcbiAgICAgIHRoaXMub2Zmc2V0WSA9IDA7XG4gICAgICB0aGlzLm9mZnNldFggPSAwO1xuXG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoYGRpcmVjdGlvbi0ke3RoaXMub3B0aW9ucy5kaXJlY3Rpb259YCk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ3RvcCcpXG4gICAgICAgIHRoaXMub2Zmc2V0WSA9IDQwO1xuICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ3JpZ2h0JylcbiAgICAgICAgdGhpcy5vZmZzZXRYID0gLTQwO1xuICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ2JvdHRvbScpXG4gICAgICAgIHRoaXMub2Zmc2V0WSA9IC00MDtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhpcy5vZmZzZXRYID0gNDA7XG4gICAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICBsZXQgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fRmxvYXRpbmdBY3Rpb25CdXR0b247XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9GbG9hdGluZ0FjdGlvbkJ1dHRvbiA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5faGFuZGxlRkFCQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUZBQkNsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVPcGVuQm91bmQgPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUNsb3NlQm91bmQgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaG92ZXJFbmFibGVkICYmICF0aGlzLm9wdGlvbnMudG9vbGJhckVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlT3BlbkJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlQ2xvc2VCb3VuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRkFCQ2xpY2tCb3VuZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmhvdmVyRW5hYmxlZCAmJiAhdGhpcy5vcHRpb25zLnRvb2xiYXJFbmFibGVkKSB7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU9wZW5Cb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZUNsb3NlQm91bmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUZBQkNsaWNrQm91bmQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVGQUJDbGljaygpIHtcbiAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlRG9jdW1lbnRDbGljayhlKSB7XG4gICAgICBjb25zdCBlbGVtID0gPEhUTUxFbGVtZW50PmUudGFyZ2V0O1xuICAgICAgaWYgKGVsZW0gIT09IHRoaXMuX21lbnUpIHRoaXMuY2xvc2U7XG4gICAgICAvKlxuICAgICAgaWYgKCFlbGVtLmNsb3Nlc3QodGhpcy4kbWVudSkpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfSovXG4gICAgfVxuXG4gICAgb3BlbigpIHtcbiAgICAgIGlmICh0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy50b29sYmFyRW5hYmxlZClcbiAgICAgICAgdGhpcy5fYW5pbWF0ZUluVG9vbGJhcigpO1xuICAgICAgZWxzZVxuICAgICAgICB0aGlzLl9hbmltYXRlSW5GQUIoKTtcbiAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgIGlmICghdGhpcy5pc09wZW4pIHJldHVybjtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbGJhckVuYWJsZWQpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2hhbmRsZUNsb3NlQm91bmQsIHRydWUpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZU91dFRvb2xiYXIoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9hbmltYXRlT3V0RkFCKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9hbmltYXRlSW5GQUIoKSB7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgbGV0IHRpbWUgPSAwO1xuICAgICAgdGhpcy5fZmxvYXRpbmdCdG5zUmV2ZXJzZS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiBlbCxcbiAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgIHNjYWxlOiBbMC40LCAxXSxcbiAgICAgICAgICB0cmFuc2xhdGVZOiBbdGhpcy5vZmZzZXRZLCAwXSxcbiAgICAgICAgICB0cmFuc2xhdGVYOiBbdGhpcy5vZmZzZXRYLCAwXSxcbiAgICAgICAgICBkdXJhdGlvbjogMjc1LFxuICAgICAgICAgIGRlbGF5OiB0aW1lLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VJbk91dFF1YWQnXG4gICAgICAgIH0pO1xuICAgICAgICB0aW1lICs9IDQwO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2FuaW1hdGVPdXRGQUIoKSB7XG4gICAgICB0aGlzLl9mbG9hdGluZ0J0bnNSZXZlcnNlLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGFuaW0ucmVtb3ZlKGVsKTtcbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogZWwsXG4gICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICBzY2FsZTogMC40LFxuICAgICAgICAgIHRyYW5zbGF0ZVk6IHRoaXMub2Zmc2V0WSxcbiAgICAgICAgICB0cmFuc2xhdGVYOiB0aGlzLm9mZnNldFgsXG4gICAgICAgICAgZHVyYXRpb246IDE3NSxcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2FuaW1hdGVJblRvb2xiYXIoKSB7XG4gICAgICBsZXQgc2NhbGVGYWN0b3I7XG4gICAgICBsZXQgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGxldCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICBsZXQgYnRuUmVjdCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIGNvbnN0IGJhY2tkcm9wID0gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgYmFja2Ryb3AuY2xhc3NMaXN0LmFkZCgnZmFiLWJhY2tkcm9wJyk7IC8vICAkKCc8ZGl2IGNsYXNzPVwiZmFiLWJhY2tkcm9wXCI+PC9kaXY+Jyk7XG5cbiAgICAgIGNvbnN0IGZhYkNvbG9yID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9hbmNob3IpLmJhY2tncm91bmRDb2xvcjsgLy8gY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG5cbiAgICAgIHRoaXMuX2FuY2hvci5hcHBlbmQoYmFja2Ryb3ApO1xuXG4gICAgICB0aGlzLm9mZnNldFggPSBidG5SZWN0LmxlZnQgLSB3aW5kb3dXaWR0aCAvIDIgKyBidG5SZWN0LndpZHRoIC8gMjtcbiAgICAgIHRoaXMub2Zmc2V0WSA9IHdpbmRvd0hlaWdodCAtIGJ0blJlY3QuYm90dG9tO1xuICAgICAgc2NhbGVGYWN0b3IgPSB3aW5kb3dXaWR0aCAvIGJhY2tkcm9wWzBdLmNsaWVudFdpZHRoO1xuICAgICAgdGhpcy5idG5Cb3R0b20gPSBidG5SZWN0LmJvdHRvbTtcbiAgICAgIHRoaXMuYnRuTGVmdCA9IGJ0blJlY3QubGVmdDtcbiAgICAgIHRoaXMuYnRuV2lkdGggPSBidG5SZWN0LndpZHRoO1xuXG4gICAgICAvLyBTZXQgaW5pdGlhbCBzdGF0ZVxuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMuZWwuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICB0aGlzLmVsLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgdGhpcy5lbC5zdHlsZS5ib3R0b20gPSAnMCc7XG4gICAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICB0aGlzLmVsLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKCcgKyB0aGlzLm9mZnNldFggKyAncHgpJztcbiAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcblxuICAgICAgdGhpcy5fYW5jaG9yLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7dGhpcy5vZmZzZXRZfXB4YDtcbiAgICAgIHRoaXMuX2FuY2hvci5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuXG4gICAgICAoPEhUTUxFbGVtZW50PmJhY2tkcm9wKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBmYWJDb2xvcjtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNpdGlvbiAgPSAndHJhbnNmb3JtIC4ycyBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDg1LCAwLjY4MCwgMC41MzApLCBiYWNrZ3JvdW5kLWNvbG9yIDBzIGxpbmVhciAuMnMnO1xuXG4gICAgICAgIHRoaXMuX2FuY2hvci5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgICAgdGhpcy5fYW5jaG9yLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICB0aGlzLl9hbmNob3Iuc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gLjJzJztcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBmYWJDb2xvcjtcblxuICAgICAgICAgIGJhY2tkcm9wLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgnICsgc2NhbGVGYWN0b3IgKyAnKSc7XG4gICAgICAgICAgYmFja2Ryb3Auc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gLjJzIGN1YmljLWJlemllcigwLjU1MCwgMC4wNTUsIDAuNjc1LCAwLjE5MCknO1xuXG4gICAgICAgICAgdGhpcy5fbWVudS5xdWVyeVNlbGVjdG9yQWxsKCdsaSA+IGEnKS5mb3JFYWNoKChhOiBIVE1MQW5jaG9yRWxlbWVudCkgPT4gYS5zdHlsZS5vcGFjaXR5ID0gJzEnKTtcblxuICAgICAgICAgIC8vIFNjcm9sbCB0byBjbG9zZS5cbiAgICAgICAgICB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2hhbmRsZUNsb3NlQm91bmQsIHRydWUpO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQsIHRydWUpO1xuICAgICAgICB9LCAxMDApO1xuICAgICAgfSwgMCk7XG4gICAgfVxuXG5cblxuXG4gICAgX2FuaW1hdGVPdXRUb29sYmFyKCkge1xuICAgICAgcmV0dXJuO1xuICAgICAgLypcbiAgICAgIGxldCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgbGV0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIGxldCBiYWNrZHJvcCA9IHRoaXMuJGVsLmZpbmQoJy5mYWItYmFja2Ryb3AnKTtcbiAgICAgIGxldCBmYWJDb2xvciA9IHRoaXMuJGFuY2hvci5jc3MoJ2JhY2tncm91bmQtY29sb3InKTtcblxuICAgICAgdGhpcy5vZmZzZXRYID0gdGhpcy5idG5MZWZ0IC0gd2luZG93V2lkdGggLyAyICsgdGhpcy5idG5XaWR0aCAvIDI7XG4gICAgICB0aGlzLm9mZnNldFkgPSB3aW5kb3dIZWlnaHQgLSB0aGlzLmJ0bkJvdHRvbTtcblxuICAgICAgLy8gSGlkZSBiYWNrZHJvcFxuICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy4kZWwuY3NzKHtcbiAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICB0cmFuc2l0aW9uOiAnbm9uZSdcbiAgICAgIH0pO1xuICAgICAgLy8gdGhpcy4kYW5jaG9yLmNzcyh7XG4gICAgICAvLyAgIHRyYW5zaXRpb246ICdub25lJ1xuICAgICAgLy8gfSk7XG4gICAgICBiYWNrZHJvcC5jc3Moe1xuICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSgwKScsXG4gICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogZmFiQ29sb3JcbiAgICAgIH0pO1xuXG4gICAgICAvLyB0aGlzLiRtZW51XG4gICAgICAvLyAgIC5jaGlsZHJlbignbGknKVxuICAgICAgLy8gICAuY2hpbGRyZW4oJ2EnKVxuICAgICAgLy8gICAuY3NzKHtcbiAgICAgIC8vICAgICBvcGFjaXR5OiAnJ1xuICAgICAgLy8gICB9KTtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGJhY2tkcm9wLnJlbW92ZSgpO1xuXG4gICAgICAgIC8vIFNldCBpbml0aWFsIHN0YXRlLlxuICAgICAgICB0aGlzLiRlbC5jc3Moe1xuICAgICAgICAgICd0ZXh0LWFsaWduJzogJycsXG4gICAgICAgICAgd2lkdGg6ICcnLFxuICAgICAgICAgIGJvdHRvbTogJycsXG4gICAgICAgICAgbGVmdDogJycsXG4gICAgICAgICAgb3ZlcmZsb3c6ICcnLFxuICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJycsXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoJyArIC10aGlzLm9mZnNldFggKyAncHgsMCwwKSdcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHRoaXMuJGFuY2hvci5jc3Moe1xuICAgICAgICAvLyAgIG92ZXJmbG93OiAnJyxcbiAgICAgICAgLy8gICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwLCcgKyB0aGlzLm9mZnNldFkgKyAncHgsMCknXG4gICAgICAgIC8vIH0pO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuJGVsLmNzcyh7XG4gICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwLDAsMCknLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAuMnMnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gdGhpcy4kYW5jaG9yLmNzcyh7XG4gICAgICAgICAgLy8gICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwLDAsMCknLFxuICAgICAgICAgIC8vICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAuMnMgY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwKSdcbiAgICAgICAgICAvLyB9KTtcbiAgICAgICAgfSwgMjApO1xuICAgICAgfSwgMjAwKTtcbiAgICAgICovXG4gICAgfVxuICB9XG5cbiAgIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///379\n")},137:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Cards = void 0;\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst animejs_1 = __importDefault(__webpack_require__(30));\nclass Cards {\n    static Init() {\n        (0, cash_dom_1.default)(document).on('click', '.card', function (e) {\n            if ((0, cash_dom_1.default)(this).children('.card-reveal').length) {\n                var $card = (0, cash_dom_1.default)(e.target).closest('.card');\n                if ($card.data('initialOverflow') === undefined) {\n                    $card.data('initialOverflow', $card.css('overflow') === undefined ? '' : $card.css('overflow'));\n                }\n                let $cardReveal = (0, cash_dom_1.default)(this).find('.card-reveal');\n                if ((0, cash_dom_1.default)(e.target).is((0, cash_dom_1.default)('.card-reveal .card-title')) ||\n                    (0, cash_dom_1.default)(e.target).is((0, cash_dom_1.default)('.card-reveal .card-title i'))) {\n                    // Make Reveal animate down and display none\n                    (0, animejs_1.default)({\n                        targets: $cardReveal[0],\n                        translateY: 0,\n                        duration: 225,\n                        easing: 'easeInOutQuad',\n                        complete: function (anim) {\n                            let el = anim.animatables[0].target;\n                            (0, cash_dom_1.default)(el).css({ display: 'none' });\n                            $card.css('overflow', $card.data('initialOverflow'));\n                        }\n                    });\n                }\n                else if ((0, cash_dom_1.default)(e.target).is((0, cash_dom_1.default)('.card .activator')) || (0, cash_dom_1.default)(e.target).is((0, cash_dom_1.default)('.card .activator i'))) {\n                    $card.css('overflow', 'hidden');\n                    $cardReveal.css({ display: 'block' });\n                    (0, animejs_1.default)({\n                        targets: $cardReveal[0],\n                        translateY: '-100%',\n                        duration: 300,\n                        easing: 'easeInOutQuad'\n                    });\n                }\n            }\n        });\n    }\n}\nexports.Cards = Cards;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM3LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDZEQUF5QjtBQUN6QiwyREFBMkI7QUFFM0IsTUFBYSxLQUFLO0lBRWhCLE1BQU0sQ0FBQyxJQUFJO1FBQ1Qsc0JBQUMsRUFBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFTLENBQUM7WUFDekMsSUFBSSxzQkFBQyxFQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQyxNQUFNLEVBQUU7Z0JBQzNDLElBQUksS0FBSyxHQUFHLHNCQUFDLEVBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDekMsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssU0FBUyxFQUFFO29CQUMvQyxLQUFLLENBQUMsSUFBSSxDQUNSLGlCQUFpQixFQUNqQixLQUFLLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUNqRSxDQUFDO2lCQUNIO2dCQUNELElBQUksV0FBVyxHQUFHLHNCQUFDLEVBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO2dCQUMvQyxJQUNFLHNCQUFDLEVBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxzQkFBQyxFQUFDLDBCQUEwQixDQUFDLENBQUM7b0JBQzdDLHNCQUFDLEVBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxzQkFBQyxFQUFDLDRCQUE0QixDQUFDLENBQUMsRUFDL0M7b0JBQ0EsNENBQTRDO29CQUM1QyxxQkFBSSxFQUFDO3dCQUNILE9BQU8sRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO3dCQUN2QixVQUFVLEVBQUUsQ0FBQzt3QkFDYixRQUFRLEVBQUUsR0FBRzt3QkFDYixNQUFNLEVBQUUsZUFBZTt3QkFDdkIsUUFBUSxFQUFFLFVBQVMsSUFBSTs0QkFDckIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7NEJBQ3BDLHNCQUFDLEVBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7NEJBQy9CLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO3dCQUN2RCxDQUFDO3FCQUNGLENBQUMsQ0FBQztpQkFDSjtxQkFBTSxJQUFJLHNCQUFDLEVBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxzQkFBQyxFQUFDLGtCQUFrQixDQUFDLENBQUMsSUFBSSxzQkFBQyxFQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsc0JBQUMsRUFBQyxvQkFBb0IsQ0FBQyxDQUFDLEVBQUU7b0JBQzNGLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxDQUFDO29CQUNoQyxXQUFXLENBQUMsR0FBRyxDQUFDLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7b0JBQ3RDLHFCQUFJLEVBQUM7d0JBQ0gsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUM7d0JBQ3ZCLFVBQVUsRUFBRSxPQUFPO3dCQUNuQixRQUFRLEVBQUUsR0FBRzt3QkFDYixNQUFNLEVBQUUsZUFBZTtxQkFDeEIsQ0FBQyxDQUFDO2lCQUNKO2FBQ0Y7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRjtBQTFDRCxzQkEwQ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL2NhcmRzLnRzPzEzNjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSBcImNhc2gtZG9tXCI7XG5pbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5leHBvcnQgY2xhc3MgQ2FyZHMgeyAgIFxuXG4gIHN0YXRpYyBJbml0KCkge1xuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuY2FyZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICgkKHRoaXMpLmNoaWxkcmVuKCcuY2FyZC1yZXZlYWwnKS5sZW5ndGgpIHtcbiAgICAgICAgdmFyICRjYXJkID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmNhcmQnKTtcbiAgICAgICAgaWYgKCRjYXJkLmRhdGEoJ2luaXRpYWxPdmVyZmxvdycpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAkY2FyZC5kYXRhKFxuICAgICAgICAgICAgJ2luaXRpYWxPdmVyZmxvdycsXG4gICAgICAgICAgICAkY2FyZC5jc3MoJ292ZXJmbG93JykgPT09IHVuZGVmaW5lZCA/ICcnIDogJGNhcmQuY3NzKCdvdmVyZmxvdycpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgJGNhcmRSZXZlYWwgPSAkKHRoaXMpLmZpbmQoJy5jYXJkLXJldmVhbCcpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgJChlLnRhcmdldCkuaXMoJCgnLmNhcmQtcmV2ZWFsIC5jYXJkLXRpdGxlJykpIHx8XG4gICAgICAgICAgJChlLnRhcmdldCkuaXMoJCgnLmNhcmQtcmV2ZWFsIC5jYXJkLXRpdGxlIGknKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gTWFrZSBSZXZlYWwgYW5pbWF0ZSBkb3duIGFuZCBkaXNwbGF5IG5vbmVcbiAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgIHRhcmdldHM6ICRjYXJkUmV2ZWFsWzBdLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMjUsXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRRdWFkJyxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihhbmltKSB7XG4gICAgICAgICAgICAgIGxldCBlbCA9IGFuaW0uYW5pbWF0YWJsZXNbMF0udGFyZ2V0O1xuICAgICAgICAgICAgICAkKGVsKS5jc3MoeyBkaXNwbGF5OiAnbm9uZScgfSk7XG4gICAgICAgICAgICAgICRjYXJkLmNzcygnb3ZlcmZsb3cnLCAkY2FyZC5kYXRhKCdpbml0aWFsT3ZlcmZsb3cnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoJChlLnRhcmdldCkuaXMoJCgnLmNhcmQgLmFjdGl2YXRvcicpKSB8fCAkKGUudGFyZ2V0KS5pcygkKCcuY2FyZCAuYWN0aXZhdG9yIGknKSkpIHtcbiAgICAgICAgICAkY2FyZC5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuICAgICAgICAgICRjYXJkUmV2ZWFsLmNzcyh7IGRpc3BsYXk6ICdibG9jaycgfSk7XG4gICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICB0YXJnZXRzOiAkY2FyZFJldmVhbFswXSxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6ICctMTAwJScsXG4gICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0UXVhZCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9ICBcbn1cblxuICAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///137\n")},476:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Carousel = void 0;\nconst component_1 = __webpack_require__(999);\nconst global_1 = __webpack_require__(238);\nlet _defaults = {\n    duration: 200,\n    dist: -100,\n    shift: 0,\n    padding: 0,\n    numVisible: 5,\n    fullWidth: false,\n    indicators: false,\n    noWrap: false,\n    onCycleTo: null // Callback for when a new slide is cycled to.\n};\nclass Carousel extends component_1.Component {\n    constructor(el, options) {\n        var _a;\n        super(Carousel, el, options);\n        this.center = 0;\n        this.el.M_Carousel = this;\n        this.options = Object.assign(Object.assign({}, Carousel.defaults), options);\n        // Setup\n        this.hasMultipleSlides = this.el.querySelectorAll('.carousel-item').length > 1;\n        this.showIndicators = this.options.indicators && this.hasMultipleSlides;\n        this.noWrap = this.options.noWrap || !this.hasMultipleSlides;\n        this.pressed = false;\n        this.dragged = false;\n        this.offset = this.target = 0;\n        this.images = [];\n        this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\n        this.itemHeight = this.el.querySelector('.carousel-item').clientHeight;\n        this.dim = this.itemWidth * 2 + this.options.padding || 1; // Make sure dim is non zero for divisions.\n        this._autoScrollBound = this._autoScroll.bind(this);\n        this._trackBound = this._track.bind(this);\n        // Full Width carousel setup\n        if (this.options.fullWidth) {\n            this.options.dist = 0;\n            this._setCarouselHeight();\n            // Offset fixed items when indicators.\n            if (this.showIndicators) {\n                (_a = this.el.querySelector('.carousel-fixed-item')) === null || _a === void 0 ? void 0 : _a.classList.add('with-indicators');\n            }\n        }\n        // Iterate through slides\n        this._indicators = document.createElement('ul');\n        this._indicators.classList.add('indicators');\n        this.el.querySelectorAll('.carousel-item').forEach((item, i) => {\n            this.images.push(item);\n            if (this.showIndicators) {\n                const indicator = document.createElement('li');\n                indicator.classList.add('indicator-item');\n                if (i === 0) {\n                    indicator.classList.add('active');\n                }\n                this._indicators.appendChild(indicator);\n            }\n        });\n        if (this.showIndicators)\n            this.el.appendChild(this._indicators);\n        this.count = this.images.length;\n        // Cap numVisible at count\n        this.options.numVisible = Math.min(this.count, this.options.numVisible);\n        // Setup cross browser string\n        this.xform = 'transform';\n        ['webkit', 'Moz', 'O', 'ms'].every((prefix) => {\n            var e = prefix + 'Transform';\n            if (typeof document.body.style[e] !== 'undefined') {\n                this.xform = e;\n                return false;\n            }\n            return true;\n        });\n        this._setupEventHandlers();\n        this._scroll(this.offset);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Carousel;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Carousel = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleCarouselTapBound = this._handleCarouselTap.bind(this);\n        this._handleCarouselDragBound = this._handleCarouselDrag.bind(this);\n        this._handleCarouselReleaseBound = this._handleCarouselRelease.bind(this);\n        this._handleCarouselClickBound = this._handleCarouselClick.bind(this);\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.el.addEventListener('touchstart', this._handleCarouselTapBound);\n            this.el.addEventListener('touchmove', this._handleCarouselDragBound);\n            this.el.addEventListener('touchend', this._handleCarouselReleaseBound);\n        }\n        this.el.addEventListener('mousedown', this._handleCarouselTapBound);\n        this.el.addEventListener('mousemove', this._handleCarouselDragBound);\n        this.el.addEventListener('mouseup', this._handleCarouselReleaseBound);\n        this.el.addEventListener('mouseleave', this._handleCarouselReleaseBound);\n        this.el.addEventListener('click', this._handleCarouselClickBound);\n        if (this.showIndicators && this._indicators) {\n            this._handleIndicatorClickBound = this._handleIndicatorClick.bind(this);\n            this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\n                el.addEventListener('click', this._handleIndicatorClickBound);\n            });\n        }\n        // Resize\n        let throttledResize = global_1.M.throttle(this._handleResize, 200, null);\n        this._handleThrottledResizeBound = throttledResize.bind(this);\n        window.addEventListener('resize', this._handleThrottledResizeBound);\n    }\n    _removeEventHandlers() {\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.el.removeEventListener('touchstart', this._handleCarouselTapBound);\n            this.el.removeEventListener('touchmove', this._handleCarouselDragBound);\n            this.el.removeEventListener('touchend', this._handleCarouselReleaseBound);\n        }\n        this.el.removeEventListener('mousedown', this._handleCarouselTapBound);\n        this.el.removeEventListener('mousemove', this._handleCarouselDragBound);\n        this.el.removeEventListener('mouseup', this._handleCarouselReleaseBound);\n        this.el.removeEventListener('mouseleave', this._handleCarouselReleaseBound);\n        this.el.removeEventListener('click', this._handleCarouselClickBound);\n        if (this.showIndicators && this._indicators) {\n            this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\n                el.removeEventListener('click', this._handleIndicatorClickBound);\n            });\n        }\n        window.removeEventListener('resize', this._handleThrottledResizeBound);\n    }\n    _handleCarouselTap(e) {\n        // Fixes firefox draggable image bug\n        if (e.type === 'mousedown' && e.target.tagName === 'IMG') {\n            e.preventDefault();\n        }\n        this.pressed = true;\n        this.dragged = false;\n        this.verticalDragged = false;\n        this.reference = this._xpos(e);\n        this.referenceY = this._ypos(e);\n        this.velocity = this.amplitude = 0;\n        this.frame = this.offset;\n        this.timestamp = Date.now();\n        clearInterval(this.ticker);\n        this.ticker = setInterval(this._trackBound, 100);\n    }\n    _handleCarouselDrag(e) {\n        let x, y, delta, deltaY;\n        if (this.pressed) {\n            x = this._xpos(e);\n            y = this._ypos(e);\n            delta = this.reference - x;\n            deltaY = Math.abs(this.referenceY - y);\n            if (deltaY < 30 && !this.verticalDragged) {\n                // If vertical scrolling don't allow dragging.\n                if (delta > 2 || delta < -2) {\n                    this.dragged = true;\n                    this.reference = x;\n                    this._scroll(this.offset + delta);\n                }\n            }\n            else if (this.dragged) {\n                // If dragging don't allow vertical scroll.\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n            }\n            else {\n                // Vertical scrolling.\n                this.verticalDragged = true;\n            }\n        }\n        if (this.dragged) {\n            // If dragging don't allow vertical scroll.\n            e.preventDefault();\n            e.stopPropagation();\n            return false;\n        }\n    }\n    _handleCarouselRelease(e) {\n        if (this.pressed) {\n            this.pressed = false;\n        }\n        else {\n            return;\n        }\n        clearInterval(this.ticker);\n        this.target = this.offset;\n        if (this.velocity > 10 || this.velocity < -10) {\n            this.amplitude = 0.9 * this.velocity;\n            this.target = this.offset + this.amplitude;\n        }\n        this.target = Math.round(this.target / this.dim) * this.dim;\n        // No wrap of items.\n        if (this.noWrap) {\n            if (this.target >= this.dim * (this.count - 1)) {\n                this.target = this.dim * (this.count - 1);\n            }\n            else if (this.target < 0) {\n                this.target = 0;\n            }\n        }\n        this.amplitude = this.target - this.offset;\n        this.timestamp = Date.now();\n        requestAnimationFrame(this._autoScrollBound);\n        if (this.dragged) {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n        return false;\n    }\n    _handleCarouselClick(e) {\n        // Disable clicks if carousel was dragged.\n        if (this.dragged) {\n            e.preventDefault();\n            e.stopPropagation();\n            return false;\n        }\n        else if (!this.options.fullWidth) {\n            const clickedElem = e.target.closest('.carousel-item');\n            const clickedIndex = [...clickedElem.parentNode.children].indexOf(clickedElem);\n            const diff = this._wrap(this.center) - clickedIndex;\n            // Disable clicks if carousel was shifted by click\n            if (diff !== 0) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            // fixes https://github.com/materializecss/materialize/issues/180\n            if (clickedIndex < 0) {\n                // relative X position > center of carousel = clicked at the right part of the carousel\n                if (e.clientX - e.target.getBoundingClientRect().left > this.el.clientWidth / 2) {\n                    this.next();\n                }\n                else {\n                    this.prev();\n                }\n            }\n            else {\n                this._cycleTo(clickedIndex);\n            }\n        }\n    }\n    _handleIndicatorClick(e) {\n        e.stopPropagation();\n        const indicator = e.target.closest('.indicator-item');\n        if (indicator) {\n            const index = [...indicator.parentNode.children].indexOf(indicator);\n            this._cycleTo(index);\n        }\n    }\n    _handleResize(e) {\n        if (this.options.fullWidth) {\n            this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\n            this.imageHeight = this.el.querySelector('.carousel-item.active').clientHeight;\n            this.dim = this.itemWidth * 2 + this.options.padding;\n            this.offset = this.center * 2 * this.itemWidth;\n            this.target = this.offset;\n            this._setCarouselHeight(true);\n        }\n        else {\n            this._scroll();\n        }\n    }\n    _setCarouselHeight(imageOnly = false) {\n        const firstSlide = this.el.querySelector('.carousel-item.active')\n            ? this.el.querySelector('.carousel-item.active')\n            : this.el.querySelector('.carousel-item');\n        const firstImage = firstSlide.querySelector('img');\n        if (firstImage) {\n            if (firstImage.complete) {\n                // If image won't trigger the load event\n                const imageHeight = firstImage.clientHeight;\n                if (imageHeight > 0) {\n                    this.el.style.height = imageHeight + 'px';\n                }\n                else {\n                    // If image still has no height, use the natural dimensions to calculate\n                    const naturalWidth = firstImage.naturalWidth;\n                    const naturalHeight = firstImage.naturalHeight;\n                    const adjustedHeight = (this.el.clientWidth / naturalWidth) * naturalHeight;\n                    this.el.style.height = adjustedHeight + 'px';\n                }\n            }\n            else {\n                // Get height when image is loaded normally\n                firstImage.addEventListener('load', () => {\n                    this.el.style.height = firstImage.offsetHeight + 'px';\n                });\n            }\n        }\n        else if (!imageOnly) {\n            const slideHeight = firstSlide.clientHeight;\n            this.el.style.height = slideHeight + 'px';\n        }\n    }\n    _xpos(e) {\n        // touch event\n        if (e.targetTouches && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientX;\n        }\n        // mouse event\n        return e.clientX;\n    }\n    _ypos(e) {\n        // touch event\n        if (e.targetTouches && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientY;\n        }\n        // mouse event\n        return e.clientY;\n    }\n    _wrap(x) {\n        return x >= this.count\n            ? x % this.count\n            : x < 0\n                ? this._wrap(this.count + (x % this.count))\n                : x;\n    }\n    _track() {\n        let now, elapsed, delta, v;\n        now = Date.now();\n        elapsed = now - this.timestamp;\n        this.timestamp = now;\n        delta = this.offset - this.frame;\n        this.frame = this.offset;\n        v = (1000 * delta) / (1 + elapsed);\n        this.velocity = 0.8 * v + 0.2 * this.velocity;\n    }\n    _autoScroll() {\n        let elapsed, delta;\n        if (this.amplitude) {\n            elapsed = Date.now() - this.timestamp;\n            delta = this.amplitude * Math.exp(-elapsed / this.options.duration);\n            if (delta > 2 || delta < -2) {\n                this._scroll(this.target - delta);\n                requestAnimationFrame(this._autoScrollBound);\n            }\n            else {\n                this._scroll(this.target);\n            }\n        }\n    }\n    _scroll(x = 0) {\n        // Track scrolling state\n        if (!this.el.classList.contains('scrolling')) {\n            this.el.classList.add('scrolling');\n        }\n        if (this.scrollingTimeout != null) {\n            window.clearTimeout(this.scrollingTimeout);\n        }\n        this.scrollingTimeout = window.setTimeout(() => {\n            this.el.classList.remove('scrolling');\n        }, this.options.duration);\n        // Start actual scroll\n        let i, half, delta, dir, tween, el, alignment, zTranslation, tweenedOpacity, centerTweenedOpacity;\n        let lastCenter = this.center;\n        let numVisibleOffset = 1 / this.options.numVisible;\n        this.offset = typeof x === 'number' ? x : this.offset;\n        this.center = Math.floor((this.offset + this.dim / 2) / this.dim);\n        delta = this.offset - this.center * this.dim;\n        dir = delta < 0 ? 1 : -1;\n        tween = (-dir * delta * 2) / this.dim;\n        half = this.count >> 1;\n        if (this.options.fullWidth) {\n            alignment = 'translateX(0)';\n            centerTweenedOpacity = 1;\n        }\n        else {\n            alignment = 'translateX(' + (this.el.clientWidth - this.itemWidth) / 2 + 'px) ';\n            alignment += 'translateY(' + (this.el.clientHeight - this.itemHeight) / 2 + 'px)';\n            centerTweenedOpacity = 1 - numVisibleOffset * tween;\n        }\n        // Set indicator active\n        if (this.showIndicators) {\n            const diff = this.center % this.count;\n            const activeIndicator = this._indicators.querySelector('.indicator-item.active');\n            const activeIndicatorIndex = [...activeIndicator.parentNode.children].indexOf(activeIndicator);\n            if (activeIndicatorIndex !== diff) {\n                activeIndicator.classList.remove('active');\n                const pos = diff < 0 ? this.count + diff : diff;\n                this._indicators.querySelectorAll('.indicator-item')[pos].classList.add('active');\n            }\n        }\n        // center\n        // Don't show wrapped items.\n        if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\n            el = this.images[this._wrap(this.center)];\n            // Add active class to center item.\n            if (!el.classList.contains('active')) {\n                this.el.querySelector('.carousel-item').classList.remove('active');\n                el.classList.add('active');\n            }\n            let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\n                this.options.shift *\n                tween *\n                i}px) translateZ(${this.options.dist * tween}px)`;\n            this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\n        }\n        for (i = 1; i <= half; ++i) {\n            // right side\n            if (this.options.fullWidth) {\n                zTranslation = this.options.dist;\n                tweenedOpacity = i === half && delta < 0 ? 1 - tween : 1;\n            }\n            else {\n                zTranslation = this.options.dist * (i * 2 + tween * dir);\n                tweenedOpacity = 1 - numVisibleOffset * (i * 2 + tween * dir);\n            }\n            // Don't show wrapped items.\n            if (!this.noWrap || this.center + i < this.count) {\n                el = this.images[this._wrap(this.center + i)];\n                let transformString = `${alignment} translateX(${this.options.shift +\n                    (this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\n                this._updateItemStyle(el, tweenedOpacity, -i, transformString);\n            }\n            // left side\n            if (this.options.fullWidth) {\n                zTranslation = this.options.dist;\n                tweenedOpacity = i === half && delta > 0 ? 1 - tween : 1;\n            }\n            else {\n                zTranslation = this.options.dist * (i * 2 - tween * dir);\n                tweenedOpacity = 1 - numVisibleOffset * (i * 2 - tween * dir);\n            }\n            // Don't show wrapped items.\n            if (!this.noWrap || this.center - i >= 0) {\n                el = this.images[this._wrap(this.center - i)];\n                let transformString = `${alignment} translateX(${-this.options.shift +\n                    (-this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\n                this._updateItemStyle(el, tweenedOpacity, -i, transformString);\n            }\n        }\n        // center\n        // Don't show wrapped items.\n        if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\n            el = this.images[this._wrap(this.center)];\n            let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\n                this.options.shift *\n                tween}px) translateZ(${this.options.dist * tween}px)`;\n            this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\n        }\n        // onCycleTo callback\n        const _currItem = this.el.querySelectorAll('.carousel-item')[this._wrap(this.center)];\n        if (lastCenter !== this.center && typeof this.options.onCycleTo === 'function') {\n            this.options.onCycleTo.call(this, _currItem, this.dragged);\n        }\n        // One time callback\n        if (typeof this.oneTimeCallback === 'function') {\n            this.oneTimeCallback.call(this, _currItem, this.dragged);\n            this.oneTimeCallback = null;\n        }\n    }\n    _updateItemStyle(el, opacity, zIndex, transform) {\n        el.style[this.xform] = transform;\n        el.style.zIndex = zIndex.toString();\n        el.style.opacity = opacity.toString();\n        el.style.visibility = 'visible';\n    }\n    _cycleTo(n, callback = null) {\n        let diff = (this.center % this.count) - n;\n        // Account for wraparound.\n        if (!this.noWrap) {\n            if (diff < 0) {\n                if (Math.abs(diff + this.count) < Math.abs(diff)) {\n                    diff += this.count;\n                }\n            }\n            else if (diff > 0) {\n                if (Math.abs(diff - this.count) < diff) {\n                    diff -= this.count;\n                }\n            }\n        }\n        this.target = this.dim * Math.round(this.offset / this.dim);\n        // Next\n        if (diff < 0) {\n            this.target += this.dim * Math.abs(diff);\n        } // Prev\n        else if (diff > 0) {\n            this.target -= this.dim * diff;\n        }\n        // Set one time callback\n        if (typeof callback === 'function') {\n            this.oneTimeCallback = callback;\n        }\n        // Scroll\n        if (this.offset !== this.target) {\n            this.amplitude = this.target - this.offset;\n            this.timestamp = Date.now();\n            requestAnimationFrame(this._autoScrollBound);\n        }\n    }\n    next(n = 1) {\n        if (n === undefined || isNaN(n)) {\n            n = 1;\n        }\n        let index = this.center + n;\n        if (index >= this.count || index < 0) {\n            if (this.noWrap)\n                return;\n            index = this._wrap(index);\n        }\n        this._cycleTo(index);\n    }\n    prev(n = 1) {\n        if (n === undefined || isNaN(n)) {\n            n = 1;\n        }\n        let index = this.center - n;\n        if (index >= this.count || index < 0) {\n            if (this.noWrap)\n                return;\n            index = this._wrap(index);\n        }\n        this._cycleTo(index);\n    }\n    set(n, callback) {\n        if (n === undefined || isNaN(n)) {\n            n = 0;\n        }\n        if (n > this.count || n < 0) {\n            if (this.noWrap)\n                return;\n            n = this._wrap(n);\n        }\n        this._cycleTo(n, callback);\n    }\n}\nexports.Carousel = Carousel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2QixDQUFDO0lBRUQsR0FBRyxDQUFDLENBQVMsRUFBRSxRQUFrQjtRQUMvQixJQUFJLENBQUMsS0FBSyxTQUFTLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQy9CLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDUDtRQUNELElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUMzQixJQUFJLElBQUksQ0FBQyxNQUFNO2dCQUFFLE9BQU87WUFDeEIsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbkI7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUM3QixDQUFDO0NBQ0Y7QUEva0JELDRCQStrQkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL2Nhcm91c2VsLnRzP2U0YzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5cbiAgbGV0IF9kZWZhdWx0cyA9IHtcbiAgICBkdXJhdGlvbjogMjAwLCAvLyBtc1xuICAgIGRpc3Q6IC0xMDAsIC8vIHpvb20gc2NhbGUgVE9ETzogbWFrZSB0aGlzIG1vcmUgaW50dWl0aXZlIGFzIGFuIG9wdGlvblxuICAgIHNoaWZ0OiAwLCAvLyBzcGFjaW5nIGZvciBjZW50ZXIgaW1hZ2VcbiAgICBwYWRkaW5nOiAwLCAvLyBQYWRkaW5nIGJldHdlZW4gbm9uIGNlbnRlciBpdGVtc1xuICAgIG51bVZpc2libGU6IDUsIC8vIE51bWJlciBvZiB2aXNpYmxlIGl0ZW1zIGluIGNhcm91c2VsXG4gICAgZnVsbFdpZHRoOiBmYWxzZSwgLy8gQ2hhbmdlIHRvIGZ1bGwgd2lkdGggc3R5bGVzXG4gICAgaW5kaWNhdG9yczogZmFsc2UsIC8vIFRvZ2dsZSBpbmRpY2F0b3JzXG4gICAgbm9XcmFwOiBmYWxzZSwgLy8gRG9uJ3Qgd3JhcCBhcm91bmQgYW5kIGN5Y2xlIHRocm91Z2ggaXRlbXMuXG4gICAgb25DeWNsZVRvOiBudWxsIC8vIENhbGxiYWNrIGZvciB3aGVuIGEgbmV3IHNsaWRlIGlzIGN5Y2xlZCB0by5cbiAgfTtcblxuICBleHBvcnQgY2xhc3MgQ2Fyb3VzZWwgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGVsOiBIVE1MRWxlbWVudDtcbiAgICBoYXNNdWx0aXBsZVNsaWRlczogYm9vbGVhbjtcbiAgICBzaG93SW5kaWNhdG9yczogYm9vbGVhbjtcbiAgICBub1dyYXA6IGFueTtcbiAgICBwcmVzc2VkOiBib29sZWFuO1xuICAgIGRyYWdnZWQ6IGJvb2xlYW47XG4gICAgb2Zmc2V0OiBudW1iZXI7XG4gICAgdGFyZ2V0OiBudW1iZXI7XG4gICAgaW1hZ2VzOiBIVE1MRWxlbWVudFtdO1xuICAgIGl0ZW1XaWR0aDogYW55O1xuICAgIGl0ZW1IZWlnaHQ6IGFueTtcbiAgICBkaW06IG51bWJlcjtcbiAgICBfYXV0b1Njcm9sbEJvdW5kOiBhbnk7XG4gICAgX3RyYWNrQm91bmQ6IGFueTtcbiAgICBfaW5kaWNhdG9yczogYW55O1xuICAgIGNvdW50OiBudW1iZXI7XG4gICAgeGZvcm06IHN0cmluZztcbiAgICBwcml2YXRlIF9oYW5kbGVDYXJvdXNlbFRhcEJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlQ2Fyb3VzZWxEcmFnQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVDYXJvdXNlbFJlbGVhc2VCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUNhcm91c2VsQ2xpY2tCb3VuZDogYW55O1xuICAgIF9oYW5kbGVJbmRpY2F0b3JDbGlja0JvdW5kOiBhbnk7XG4gICAgX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kOiBhbnk7XG4gICAgdmVydGljYWxEcmFnZ2VkOiBib29sZWFuO1xuICAgIHJlZmVyZW5jZTogYW55O1xuICAgIHJlZmVyZW5jZVk6IGFueTtcbiAgICB2ZWxvY2l0eTogbnVtYmVyO1xuICAgIGZyYW1lOiBudW1iZXI7XG4gICAgdGltZXN0YW1wOiBudW1iZXI7XG4gICAgdGlja2VyOiBOb2RlSlMuVGltZXI7XG4gICAgYW1wbGl0dWRlOiBudW1iZXI7XG4gICAgY2VudGVyOiBudW1iZXIgPSAwO1xuICAgIGltYWdlSGVpZ2h0OiBhbnk7XG4gICAgc2Nyb2xsaW5nVGltZW91dDogYW55O1xuICAgIG9uZVRpbWVDYWxsYmFjazogYW55O1xuXG4gICAgY29uc3RydWN0b3IoZWw6IEVsZW1lbnQsIG9wdGlvbnM6IE9iamVjdCkge1xuICAgICAgc3VwZXIoQ2Fyb3VzZWwsIGVsLCBvcHRpb25zKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9DYXJvdXNlbCA9IHRoaXM7XG4gICAgICB0aGlzLm9wdGlvbnMgPSB7Li4uQ2Fyb3VzZWwuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuXG4gICAgICAvLyBTZXR1cFxuICAgICAgdGhpcy5oYXNNdWx0aXBsZVNsaWRlcyA9IHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgnLmNhcm91c2VsLWl0ZW0nKS5sZW5ndGggPiAxO1xuICAgICAgdGhpcy5zaG93SW5kaWNhdG9ycyA9IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzICYmIHRoaXMuaGFzTXVsdGlwbGVTbGlkZXM7XG4gICAgICB0aGlzLm5vV3JhcCA9IHRoaXMub3B0aW9ucy5ub1dyYXAgfHwgIXRoaXMuaGFzTXVsdGlwbGVTbGlkZXM7XG4gICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLnRhcmdldCA9IDA7XG4gICAgICB0aGlzLmltYWdlcyA9IFtdO1xuICAgICAgdGhpcy5pdGVtV2lkdGggPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtJykuY2xpZW50V2lkdGg7XG4gICAgICB0aGlzLml0ZW1IZWlnaHQgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtJykuY2xpZW50SGVpZ2h0O1xuICAgICAgdGhpcy5kaW0gPSB0aGlzLml0ZW1XaWR0aCAqIDIgKyB0aGlzLm9wdGlvbnMucGFkZGluZyB8fCAxOyAvLyBNYWtlIHN1cmUgZGltIGlzIG5vbiB6ZXJvIGZvciBkaXZpc2lvbnMuXG4gICAgICB0aGlzLl9hdXRvU2Nyb2xsQm91bmQgPSB0aGlzLl9hdXRvU2Nyb2xsLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl90cmFja0JvdW5kID0gdGhpcy5fdHJhY2suYmluZCh0aGlzKTtcblxuICAgICAgLy8gRnVsbCBXaWR0aCBjYXJvdXNlbCBzZXR1cFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsV2lkdGgpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmRpc3QgPSAwO1xuICAgICAgICB0aGlzLl9zZXRDYXJvdXNlbEhlaWdodCgpO1xuXG4gICAgICAgIC8vIE9mZnNldCBmaXhlZCBpdGVtcyB3aGVuIGluZGljYXRvcnMuXG4gICAgICAgIGlmICh0aGlzLnNob3dJbmRpY2F0b3JzKSB7XG4gICAgICAgICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtZml4ZWQtaXRlbScpPy5jbGFzc0xpc3QuYWRkKCd3aXRoLWluZGljYXRvcnMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJdGVyYXRlIHRocm91Z2ggc2xpZGVzXG4gICAgICB0aGlzLl9pbmRpY2F0b3JzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgIHRoaXMuX2luZGljYXRvcnMuY2xhc3NMaXN0LmFkZCgnaW5kaWNhdG9ycycpO1xuXG4gICAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbC1pdGVtJykuZm9yRWFjaCgoaXRlbTogSFRNTEVsZW1lbnQsIGkpID0+IHtcbiAgICAgICAgdGhpcy5pbWFnZXMucHVzaChpdGVtKTtcbiAgICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMpIHtcbiAgICAgICAgICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdpbmRpY2F0b3ItaXRlbScpO1xuICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICBpbmRpY2F0b3IuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX2luZGljYXRvcnMuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLnNob3dJbmRpY2F0b3JzKVxuICAgICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuX2luZGljYXRvcnMpO1xuXG4gICAgICB0aGlzLmNvdW50ID0gdGhpcy5pbWFnZXMubGVuZ3RoO1xuXG4gICAgICAvLyBDYXAgbnVtVmlzaWJsZSBhdCBjb3VudFxuICAgICAgdGhpcy5vcHRpb25zLm51bVZpc2libGUgPSBNYXRoLm1pbih0aGlzLmNvdW50LCB0aGlzLm9wdGlvbnMubnVtVmlzaWJsZSk7XG5cbiAgICAgIC8vIFNldHVwIGNyb3NzIGJyb3dzZXIgc3RyaW5nXG4gICAgICB0aGlzLnhmb3JtID0gJ3RyYW5zZm9ybSc7XG4gICAgICBbJ3dlYmtpdCcsICdNb3onLCAnTycsICdtcyddLmV2ZXJ5KChwcmVmaXgpID0+IHtcbiAgICAgICAgdmFyIGUgPSBwcmVmaXggKyAnVHJhbnNmb3JtJztcbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudC5ib2R5LnN0eWxlW2VdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMueGZvcm0gPSBlO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHRoaXMuX3Njcm9sbCh0aGlzLm9mZnNldCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX0Nhcm91c2VsO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fQ2Fyb3VzZWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwQm91bmQgPSB0aGlzLl9oYW5kbGVDYXJvdXNlbFRhcC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnQm91bmQgPSB0aGlzLl9oYW5kbGVDYXJvdXNlbERyYWcuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZUJvdW5kID0gdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJvdXNlbENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVDYXJvdXNlbENsaWNrLmJpbmQodGhpcyk7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUNhcm91c2VsRHJhZ0JvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZUJvdW5kKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXBCb3VuZCk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZUNhcm91c2VsRHJhZ0JvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZUJvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZUJvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDYXJvdXNlbENsaWNrQm91bmQpO1xuICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMgJiYgdGhpcy5faW5kaWNhdG9ycykge1xuICAgICAgICB0aGlzLl9oYW5kbGVJbmRpY2F0b3JDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlSW5kaWNhdG9yQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faW5kaWNhdG9ycy5xdWVyeVNlbGVjdG9yQWxsKCcuaW5kaWNhdG9yLWl0ZW0nKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5kaWNhdG9yQ2xpY2tCb3VuZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gUmVzaXplXG4gICAgICBsZXQgdGhyb3R0bGVkUmVzaXplID0gTS50aHJvdHRsZSh0aGlzLl9oYW5kbGVSZXNpemUsIDIwMCwgbnVsbCk7XG4gICAgICB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZCA9IHRocm90dGxlZFJlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kKTtcbiAgICB9XG5cbiAgICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93Lm9udG91Y2hzdGFydCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXBCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlQm91bmQpO1xuICAgICAgfVxuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFRhcEJvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnQm91bmQpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlQm91bmQpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlQm91bmQpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhcm91c2VsQ2xpY2tCb3VuZCk7XG4gICAgICBpZiAodGhpcy5zaG93SW5kaWNhdG9ycyAmJiB0aGlzLl9pbmRpY2F0b3JzKSB7XG4gICAgICAgIHRoaXMuX2luZGljYXRvcnMucXVlcnlTZWxlY3RvckFsbCgnLmluZGljYXRvci1pdGVtJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUluZGljYXRvckNsaWNrQm91bmQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUNhcm91c2VsVGFwKGUpIHtcbiAgICAgIC8vIEZpeGVzIGZpcmVmb3ggZHJhZ2dhYmxlIGltYWdlIGJ1Z1xuICAgICAgaWYgKGUudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgKDxIVE1MRWxlbWVudD5lLnRhcmdldCkudGFnTmFtZSA9PT0gJ0lNRycpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgdGhpcy52ZXJ0aWNhbERyYWdnZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucmVmZXJlbmNlID0gdGhpcy5feHBvcyhlKTtcbiAgICAgIHRoaXMucmVmZXJlbmNlWSA9IHRoaXMuX3lwb3MoZSk7XG5cbiAgICAgIHRoaXMudmVsb2NpdHkgPSB0aGlzLmFtcGxpdHVkZSA9IDA7XG4gICAgICB0aGlzLmZyYW1lID0gdGhpcy5vZmZzZXQ7XG4gICAgICB0aGlzLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMudGlja2VyKTtcbiAgICAgIHRoaXMudGlja2VyID0gc2V0SW50ZXJ2YWwodGhpcy5fdHJhY2tCb3VuZCwgMTAwKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlQ2Fyb3VzZWxEcmFnKGUpIHtcbiAgICAgIGxldCB4LCB5LCBkZWx0YSwgZGVsdGFZO1xuICAgICAgaWYgKHRoaXMucHJlc3NlZCkge1xuICAgICAgICB4ID0gdGhpcy5feHBvcyhlKTtcbiAgICAgICAgeSA9IHRoaXMuX3lwb3MoZSk7XG4gICAgICAgIGRlbHRhID0gdGhpcy5yZWZlcmVuY2UgLSB4O1xuICAgICAgICBkZWx0YVkgPSBNYXRoLmFicyh0aGlzLnJlZmVyZW5jZVkgLSB5KTtcbiAgICAgICAgaWYgKGRlbHRhWSA8IDMwICYmICF0aGlzLnZlcnRpY2FsRHJhZ2dlZCkge1xuICAgICAgICAgIC8vIElmIHZlcnRpY2FsIHNjcm9sbGluZyBkb24ndCBhbGxvdyBkcmFnZ2luZy5cbiAgICAgICAgICBpZiAoZGVsdGEgPiAyIHx8IGRlbHRhIDwgLTIpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnJlZmVyZW5jZSA9IHg7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGwodGhpcy5vZmZzZXQgKyBkZWx0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZHJhZ2dlZCkge1xuICAgICAgICAgIC8vIElmIGRyYWdnaW5nIGRvbid0IGFsbG93IHZlcnRpY2FsIHNjcm9sbC5cbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVmVydGljYWwgc2Nyb2xsaW5nLlxuICAgICAgICAgIHRoaXMudmVydGljYWxEcmFnZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZHJhZ2dlZCkge1xuICAgICAgICAvLyBJZiBkcmFnZ2luZyBkb24ndCBhbGxvdyB2ZXJ0aWNhbCBzY3JvbGwuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVDYXJvdXNlbFJlbGVhc2UoZSkge1xuICAgICAgaWYgKHRoaXMucHJlc3NlZCkge1xuICAgICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aWNrZXIpO1xuICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm9mZnNldDtcbiAgICAgIGlmICh0aGlzLnZlbG9jaXR5ID4gMTAgfHwgdGhpcy52ZWxvY2l0eSA8IC0xMCkge1xuICAgICAgICB0aGlzLmFtcGxpdHVkZSA9IDAuOSAqIHRoaXMudmVsb2NpdHk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5vZmZzZXQgKyB0aGlzLmFtcGxpdHVkZTtcbiAgICAgIH1cbiAgICAgIHRoaXMudGFyZ2V0ID0gTWF0aC5yb3VuZCh0aGlzLnRhcmdldCAvIHRoaXMuZGltKSAqIHRoaXMuZGltO1xuICAgICAgLy8gTm8gd3JhcCBvZiBpdGVtcy5cbiAgICAgIGlmICh0aGlzLm5vV3JhcCkge1xuICAgICAgICBpZiAodGhpcy50YXJnZXQgPj0gdGhpcy5kaW0gKiAodGhpcy5jb3VudCAtIDEpKSB7XG4gICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLmRpbSAqICh0aGlzLmNvdW50IC0gMSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXQgPCAwKSB7XG4gICAgICAgICAgdGhpcy50YXJnZXQgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmFtcGxpdHVkZSA9IHRoaXMudGFyZ2V0IC0gdGhpcy5vZmZzZXQ7XG4gICAgICB0aGlzLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYXV0b1Njcm9sbEJvdW5kKTtcbiAgICAgIGlmICh0aGlzLmRyYWdnZWQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9oYW5kbGVDYXJvdXNlbENsaWNrKGUpIHtcbiAgICAgIC8vIERpc2FibGUgY2xpY2tzIGlmIGNhcm91c2VsIHdhcyBkcmFnZ2VkLlxuICAgICAgaWYgKHRoaXMuZHJhZ2dlZCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMuZnVsbFdpZHRoKSB7XG4gICAgICAgIGNvbnN0IGNsaWNrZWRFbGVtID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnLmNhcm91c2VsLWl0ZW0nKTtcbiAgICAgICAgY29uc3QgY2xpY2tlZEluZGV4ID0gWy4uLmNsaWNrZWRFbGVtLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YoY2xpY2tlZEVsZW0pO1xuICAgICAgICBjb25zdCBkaWZmID0gdGhpcy5fd3JhcCh0aGlzLmNlbnRlcikgLSBjbGlja2VkSW5kZXg7XG4gICAgICAgIC8vIERpc2FibGUgY2xpY2tzIGlmIGNhcm91c2VsIHdhcyBzaGlmdGVkIGJ5IGNsaWNrXG4gICAgICAgIGlmIChkaWZmICE9PSAwKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZml4ZXMgaHR0cHM6Ly9naXRodWIuY29tL21hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplL2lzc3Vlcy8xODBcbiAgICAgICAgaWYgKGNsaWNrZWRJbmRleCA8IDApIHtcbiAgICAgICAgICAvLyByZWxhdGl2ZSBYIHBvc2l0aW9uID4gY2VudGVyIG9mIGNhcm91c2VsID0gY2xpY2tlZCBhdCB0aGUgcmlnaHQgcGFydCBvZiB0aGUgY2Fyb3VzZWxcbiAgICAgICAgICBpZiAoZS5jbGllbnRYIC0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCA+IHRoaXMuZWwuY2xpZW50V2lkdGggLyAyKSB7XG4gICAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcmV2KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2N5Y2xlVG8oY2xpY2tlZEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVJbmRpY2F0b3JDbGljayhlOiBFdmVudCkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IGluZGljYXRvciA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy5pbmRpY2F0b3ItaXRlbScpO1xuICAgICAgaWYgKGluZGljYXRvcikge1xuICAgICAgICBjb25zdCBpbmRleCA9IFsuLi5pbmRpY2F0b3IucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihpbmRpY2F0b3IpO1xuICAgICAgICB0aGlzLl9jeWNsZVRvKGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlUmVzaXplKGUpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbFdpZHRoKSB7XG4gICAgICAgIHRoaXMuaXRlbVdpZHRoID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbScpLmNsaWVudFdpZHRoO1xuICAgICAgICB0aGlzLmltYWdlSGVpZ2h0ID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbS5hY3RpdmUnKS5jbGllbnRIZWlnaHQ7XG4gICAgICAgIHRoaXMuZGltID0gdGhpcy5pdGVtV2lkdGggKiAyICsgdGhpcy5vcHRpb25zLnBhZGRpbmc7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5jZW50ZXIgKiAyICogdGhpcy5pdGVtV2lkdGg7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5vZmZzZXQ7XG4gICAgICAgIHRoaXMuX3NldENhcm91c2VsSGVpZ2h0KHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX3Njcm9sbCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9zZXRDYXJvdXNlbEhlaWdodChpbWFnZU9ubHk6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgY29uc3QgZmlyc3RTbGlkZSA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWl0ZW0uYWN0aXZlJylcbiAgICAgICAgPyB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtLmFjdGl2ZScpXG4gICAgICAgIDogdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbScpO1xuXG4gICAgICBjb25zdCBmaXJzdEltYWdlID0gZmlyc3RTbGlkZS5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcbiAgICAgIGlmIChmaXJzdEltYWdlKSB7XG4gICAgICAgIGlmIChmaXJzdEltYWdlLmNvbXBsZXRlKSB7XG4gICAgICAgICAgLy8gSWYgaW1hZ2Ugd29uJ3QgdHJpZ2dlciB0aGUgbG9hZCBldmVudFxuICAgICAgICAgIGNvbnN0IGltYWdlSGVpZ2h0ID0gZmlyc3RJbWFnZS5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgaWYgKGltYWdlSGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBpbWFnZUhlaWdodCsncHgnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIGltYWdlIHN0aWxsIGhhcyBubyBoZWlnaHQsIHVzZSB0aGUgbmF0dXJhbCBkaW1lbnNpb25zIHRvIGNhbGN1bGF0ZVxuICAgICAgICAgICAgY29uc3QgbmF0dXJhbFdpZHRoID0gZmlyc3RJbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgICAgICBjb25zdCBuYXR1cmFsSGVpZ2h0ID0gZmlyc3RJbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgYWRqdXN0ZWRIZWlnaHQgPSAodGhpcy5lbC5jbGllbnRXaWR0aCAvIG5hdHVyYWxXaWR0aCkgKiBuYXR1cmFsSGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBhZGp1c3RlZEhlaWdodCsncHgnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBHZXQgaGVpZ2h0IHdoZW4gaW1hZ2UgaXMgbG9hZGVkIG5vcm1hbGx5XG4gICAgICAgICAgZmlyc3RJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBmaXJzdEltYWdlLm9mZnNldEhlaWdodCsncHgnO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmICghaW1hZ2VPbmx5KSB7XG4gICAgICAgIGNvbnN0IHNsaWRlSGVpZ2h0ID0gZmlyc3RTbGlkZS5jbGllbnRIZWlnaHQ7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUuaGVpZ2h0ID0gc2xpZGVIZWlnaHQrJ3B4JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfeHBvcyhlKSB7XG4gICAgICAvLyB0b3VjaCBldmVudFxuICAgICAgaWYgKGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgcmV0dXJuIGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgfVxuICAgICAgLy8gbW91c2UgZXZlbnRcbiAgICAgIHJldHVybiBlLmNsaWVudFg7XG4gICAgfVxuXG4gICAgX3lwb3MoZSkge1xuICAgICAgLy8gdG91Y2ggZXZlbnRcbiAgICAgIGlmIChlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgIHJldHVybiBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIH1cbiAgICAgIC8vIG1vdXNlIGV2ZW50XG4gICAgICByZXR1cm4gZS5jbGllbnRZO1xuICAgIH1cblxuICAgIF93cmFwKHg6IG51bWJlcikge1xuICAgICAgcmV0dXJuIHggPj0gdGhpcy5jb3VudFxuICAgICAgICA/IHggJSB0aGlzLmNvdW50XG4gICAgICAgIDogeCA8IDBcbiAgICAgICAgPyB0aGlzLl93cmFwKHRoaXMuY291bnQgKyAoeCAlIHRoaXMuY291bnQpKVxuICAgICAgICA6IHg7XG4gICAgfVxuXG4gICAgX3RyYWNrKCkge1xuICAgICAgbGV0IG5vdywgZWxhcHNlZCwgZGVsdGEsIHY7XG4gICAgICBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgZWxhcHNlZCA9IG5vdyAtIHRoaXMudGltZXN0YW1wO1xuICAgICAgdGhpcy50aW1lc3RhbXAgPSBub3c7XG4gICAgICBkZWx0YSA9IHRoaXMub2Zmc2V0IC0gdGhpcy5mcmFtZTtcbiAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLm9mZnNldDtcbiAgICAgIHYgPSAoMTAwMCAqIGRlbHRhKSAvICgxICsgZWxhcHNlZCk7XG4gICAgICB0aGlzLnZlbG9jaXR5ID0gMC44ICogdiArIDAuMiAqIHRoaXMudmVsb2NpdHk7XG4gICAgfVxuXG4gICAgX2F1dG9TY3JvbGwoKSB7XG4gICAgICBsZXQgZWxhcHNlZCwgZGVsdGE7XG4gICAgICBpZiAodGhpcy5hbXBsaXR1ZGUpIHtcbiAgICAgICAgZWxhcHNlZCA9IERhdGUubm93KCkgLSB0aGlzLnRpbWVzdGFtcDtcbiAgICAgICAgZGVsdGEgPSB0aGlzLmFtcGxpdHVkZSAqIE1hdGguZXhwKC1lbGFwc2VkIC8gdGhpcy5vcHRpb25zLmR1cmF0aW9uKTtcbiAgICAgICAgaWYgKGRlbHRhID4gMiB8fCBkZWx0YSA8IC0yKSB7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsKHRoaXMudGFyZ2V0IC0gZGVsdGEpO1xuICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9hdXRvU2Nyb2xsQm91bmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3Njcm9sbCh0aGlzLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBfc2Nyb2xsKHg6IG51bWJlciA9IDApIHtcbiAgICAgIC8vIFRyYWNrIHNjcm9sbGluZyBzdGF0ZVxuICAgICAgaWYgKCF0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygnc2Nyb2xsaW5nJykpIHtcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdzY3JvbGxpbmcnKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNjcm9sbGluZ1RpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuc2Nyb2xsaW5nVGltZW91dCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNjcm9sbGluZ1RpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgnc2Nyb2xsaW5nJyk7XG4gICAgICB9LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuXG4gICAgICAvLyBTdGFydCBhY3R1YWwgc2Nyb2xsXG4gICAgICBsZXQgaSxcbiAgICAgICAgaGFsZixcbiAgICAgICAgZGVsdGEsXG4gICAgICAgIGRpcixcbiAgICAgICAgdHdlZW4sXG4gICAgICAgIGVsLFxuICAgICAgICBhbGlnbm1lbnQsXG4gICAgICAgIHpUcmFuc2xhdGlvbixcbiAgICAgICAgdHdlZW5lZE9wYWNpdHksXG4gICAgICAgIGNlbnRlclR3ZWVuZWRPcGFjaXR5O1xuICAgICAgbGV0IGxhc3RDZW50ZXIgPSB0aGlzLmNlbnRlcjtcbiAgICAgIGxldCBudW1WaXNpYmxlT2Zmc2V0ID0gMSAvIHRoaXMub3B0aW9ucy5udW1WaXNpYmxlO1xuXG4gICAgICB0aGlzLm9mZnNldCA9IHR5cGVvZiB4ID09PSAnbnVtYmVyJyA/IHggOiB0aGlzLm9mZnNldDtcbiAgICAgIHRoaXMuY2VudGVyID0gTWF0aC5mbG9vcigodGhpcy5vZmZzZXQgKyB0aGlzLmRpbSAvIDIpIC8gdGhpcy5kaW0pO1xuXG4gICAgICBkZWx0YSA9IHRoaXMub2Zmc2V0IC0gdGhpcy5jZW50ZXIgKiB0aGlzLmRpbTtcbiAgICAgIGRpciA9IGRlbHRhIDwgMCA/IDEgOiAtMTtcbiAgICAgIHR3ZWVuID0gKC1kaXIgKiBkZWx0YSAqIDIpIC8gdGhpcy5kaW07XG4gICAgICBoYWxmID0gdGhpcy5jb3VudCA+PiAxO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgICBhbGlnbm1lbnQgPSAndHJhbnNsYXRlWCgwKSc7XG4gICAgICAgIGNlbnRlclR3ZWVuZWRPcGFjaXR5ID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBhbGlnbm1lbnQgPSAndHJhbnNsYXRlWCgnICsgKHRoaXMuZWwuY2xpZW50V2lkdGggLSB0aGlzLml0ZW1XaWR0aCkgLyAyICsgJ3B4KSAnO1xuICAgICAgICBhbGlnbm1lbnQgKz0gJ3RyYW5zbGF0ZVkoJyArICh0aGlzLmVsLmNsaWVudEhlaWdodCAtIHRoaXMuaXRlbUhlaWdodCkgLyAyICsgJ3B4KSc7XG4gICAgICAgIGNlbnRlclR3ZWVuZWRPcGFjaXR5ID0gMSAtIG51bVZpc2libGVPZmZzZXQgKiB0d2VlbjtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IGluZGljYXRvciBhY3RpdmVcbiAgICAgIGlmICh0aGlzLnNob3dJbmRpY2F0b3JzKSB7XG4gICAgICAgIGNvbnN0IGRpZmYgPSB0aGlzLmNlbnRlciAlIHRoaXMuY291bnQ7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUluZGljYXRvciA9IHRoaXMuX2luZGljYXRvcnMucXVlcnlTZWxlY3RvcignLmluZGljYXRvci1pdGVtLmFjdGl2ZScpO1xuICAgICAgICBjb25zdCBhY3RpdmVJbmRpY2F0b3JJbmRleCA9IFsuLi5hY3RpdmVJbmRpY2F0b3IucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihhY3RpdmVJbmRpY2F0b3IpO1xuICAgICAgICBpZiAoYWN0aXZlSW5kaWNhdG9ySW5kZXggIT09IGRpZmYpIHtcbiAgICAgICAgICBhY3RpdmVJbmRpY2F0b3IuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgY29uc3QgcG9zID0gZGlmZiA8IDAgPyB0aGlzLmNvdW50ICsgZGlmZiA6IGRpZmY7XG4gICAgICAgICAgdGhpcy5faW5kaWNhdG9ycy5xdWVyeVNlbGVjdG9yQWxsKCcuaW5kaWNhdG9yLWl0ZW0nKVtwb3NdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNlbnRlclxuICAgICAgLy8gRG9uJ3Qgc2hvdyB3cmFwcGVkIGl0ZW1zLlxuICAgICAgaWYgKCF0aGlzLm5vV3JhcCB8fCAodGhpcy5jZW50ZXIgPj0gMCAmJiB0aGlzLmNlbnRlciA8IHRoaXMuY291bnQpKSB7XG4gICAgICAgIGVsID0gdGhpcy5pbWFnZXNbdGhpcy5fd3JhcCh0aGlzLmNlbnRlcildO1xuXG4gICAgICAgIC8vIEFkZCBhY3RpdmUgY2xhc3MgdG8gY2VudGVyIGl0ZW0uXG4gICAgICAgIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWl0ZW0nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0cmFuc2Zvcm1TdHJpbmcgPSBgJHthbGlnbm1lbnR9IHRyYW5zbGF0ZVgoJHstZGVsdGEgLyAyfXB4KSB0cmFuc2xhdGVYKCR7ZGlyICpcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuc2hpZnQgKlxuICAgICAgICAgIHR3ZWVuICpcbiAgICAgICAgICBpfXB4KSB0cmFuc2xhdGVaKCR7dGhpcy5vcHRpb25zLmRpc3QgKiB0d2Vlbn1weClgO1xuICAgICAgICB0aGlzLl91cGRhdGVJdGVtU3R5bGUoZWwsIGNlbnRlclR3ZWVuZWRPcGFjaXR5LCAwLCB0cmFuc2Zvcm1TdHJpbmcpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSAxOyBpIDw9IGhhbGY7ICsraSkge1xuICAgICAgICAvLyByaWdodCBzaWRlXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbFdpZHRoKSB7XG4gICAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3Q7XG4gICAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSBpID09PSBoYWxmICYmIGRlbHRhIDwgMCA/IDEgLSB0d2VlbiA6IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3QgKiAoaSAqIDIgKyB0d2VlbiAqIGRpcik7XG4gICAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSAxIC0gbnVtVmlzaWJsZU9mZnNldCAqIChpICogMiArIHR3ZWVuICogZGlyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEb24ndCBzaG93IHdyYXBwZWQgaXRlbXMuXG4gICAgICAgIGlmICghdGhpcy5ub1dyYXAgfHwgdGhpcy5jZW50ZXIgKyBpIDwgdGhpcy5jb3VudCkge1xuICAgICAgICAgIGVsID0gdGhpcy5pbWFnZXNbdGhpcy5fd3JhcCh0aGlzLmNlbnRlciArIGkpXTtcbiAgICAgICAgICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gYCR7YWxpZ25tZW50fSB0cmFuc2xhdGVYKCR7dGhpcy5vcHRpb25zLnNoaWZ0ICtcbiAgICAgICAgICAgICh0aGlzLmRpbSAqIGkgLSBkZWx0YSkgLyAyfXB4KSB0cmFuc2xhdGVaKCR7elRyYW5zbGF0aW9ufXB4KWA7XG4gICAgICAgICAgdGhpcy5fdXBkYXRlSXRlbVN0eWxlKGVsLCB0d2VlbmVkT3BhY2l0eSwgLWksIHRyYW5zZm9ybVN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGVmdCBzaWRlXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbFdpZHRoKSB7XG4gICAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3Q7XG4gICAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSBpID09PSBoYWxmICYmIGRlbHRhID4gMCA/IDEgLSB0d2VlbiA6IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3QgKiAoaSAqIDIgLSB0d2VlbiAqIGRpcik7XG4gICAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSAxIC0gbnVtVmlzaWJsZU9mZnNldCAqIChpICogMiAtIHR3ZWVuICogZGlyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEb24ndCBzaG93IHdyYXBwZWQgaXRlbXMuXG4gICAgICAgIGlmICghdGhpcy5ub1dyYXAgfHwgdGhpcy5jZW50ZXIgLSBpID49IDApIHtcbiAgICAgICAgICBlbCA9IHRoaXMuaW1hZ2VzW3RoaXMuX3dyYXAodGhpcy5jZW50ZXIgLSBpKV07XG4gICAgICAgICAgbGV0IHRyYW5zZm9ybVN0cmluZyA9IGAke2FsaWdubWVudH0gdHJhbnNsYXRlWCgkey10aGlzLm9wdGlvbnMuc2hpZnQgK1xuICAgICAgICAgICAgKC10aGlzLmRpbSAqIGkgLSBkZWx0YSkgLyAyfXB4KSB0cmFuc2xhdGVaKCR7elRyYW5zbGF0aW9ufXB4KWA7XG4gICAgICAgICAgdGhpcy5fdXBkYXRlSXRlbVN0eWxlKGVsLCB0d2VlbmVkT3BhY2l0eSwgLWksIHRyYW5zZm9ybVN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGNlbnRlclxuICAgICAgLy8gRG9uJ3Qgc2hvdyB3cmFwcGVkIGl0ZW1zLlxuICAgICAgaWYgKCF0aGlzLm5vV3JhcCB8fCAodGhpcy5jZW50ZXIgPj0gMCAmJiB0aGlzLmNlbnRlciA8IHRoaXMuY291bnQpKSB7XG4gICAgICAgIGVsID0gdGhpcy5pbWFnZXNbdGhpcy5fd3JhcCh0aGlzLmNlbnRlcildO1xuICAgICAgICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gYCR7YWxpZ25tZW50fSB0cmFuc2xhdGVYKCR7LWRlbHRhIC8gMn1weCkgdHJhbnNsYXRlWCgke2RpciAqXG4gICAgICAgICAgdGhpcy5vcHRpb25zLnNoaWZ0ICpcbiAgICAgICAgICB0d2Vlbn1weCkgdHJhbnNsYXRlWigke3RoaXMub3B0aW9ucy5kaXN0ICogdHdlZW59cHgpYDtcbiAgICAgICAgdGhpcy5fdXBkYXRlSXRlbVN0eWxlKGVsLCBjZW50ZXJUd2VlbmVkT3BhY2l0eSwgMCwgdHJhbnNmb3JtU3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIC8vIG9uQ3ljbGVUbyBjYWxsYmFja1xuICAgICAgY29uc3QgX2N1cnJJdGVtID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwtaXRlbScpW3RoaXMuX3dyYXAodGhpcy5jZW50ZXIpXTtcblxuICAgICAgaWYgKGxhc3RDZW50ZXIgIT09IHRoaXMuY2VudGVyICYmIHR5cGVvZiB0aGlzLm9wdGlvbnMub25DeWNsZVRvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vbkN5Y2xlVG8uY2FsbCh0aGlzLCBfY3Vyckl0ZW0sIHRoaXMuZHJhZ2dlZCk7XG4gICAgICB9XG4gICAgICAvLyBPbmUgdGltZSBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uZVRpbWVDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9uZVRpbWVDYWxsYmFjay5jYWxsKHRoaXMsIF9jdXJySXRlbSwgdGhpcy5kcmFnZ2VkKTtcbiAgICAgICAgdGhpcy5vbmVUaW1lQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVJdGVtU3R5bGUoZWw6IEhUTUxFbGVtZW50LCBvcGFjaXR5OiBudW1iZXIsIHpJbmRleDogbnVtYmVyLCB0cmFuc2Zvcm06IHN0cmluZykge1xuICAgICAgZWwuc3R5bGVbdGhpcy54Zm9ybV0gPSB0cmFuc2Zvcm07XG4gICAgICBlbC5zdHlsZS56SW5kZXggPSB6SW5kZXgudG9TdHJpbmcoKTtcbiAgICAgIGVsLnN0eWxlLm9wYWNpdHkgPSBvcGFjaXR5LnRvU3RyaW5nKCk7XG4gICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgIH1cblxuICAgIF9jeWNsZVRvKG46IG51bWJlciwgY2FsbGJhY2s6IEZ1bmN0aW9uID0gbnVsbCkge1xuICAgICAgbGV0IGRpZmYgPSAodGhpcy5jZW50ZXIgJSB0aGlzLmNvdW50KSAtIG47XG4gICAgICAvLyBBY2NvdW50IGZvciB3cmFwYXJvdW5kLlxuICAgICAgaWYgKCF0aGlzLm5vV3JhcCkge1xuICAgICAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgICAgICBpZiAoTWF0aC5hYnMoZGlmZiArIHRoaXMuY291bnQpIDwgTWF0aC5hYnMoZGlmZikpIHtcbiAgICAgICAgICAgIGRpZmYgKz0gdGhpcy5jb3VudDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZGlmZiA+IDApIHtcbiAgICAgICAgICBpZiAoTWF0aC5hYnMoZGlmZiAtIHRoaXMuY291bnQpIDwgZGlmZikge1xuICAgICAgICAgICAgZGlmZiAtPSB0aGlzLmNvdW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLmRpbSAqIE1hdGgucm91bmQodGhpcy5vZmZzZXQgLyB0aGlzLmRpbSk7XG4gICAgICAvLyBOZXh0XG4gICAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgICAgdGhpcy50YXJnZXQgKz0gdGhpcy5kaW0gKiBNYXRoLmFicyhkaWZmKTsgICAgICAgIFxuICAgICAgfSAvLyBQcmV2XG4gICAgICBlbHNlIGlmIChkaWZmID4gMCkge1xuICAgICAgICB0aGlzLnRhcmdldCAtPSB0aGlzLmRpbSAqIGRpZmY7XG4gICAgICB9XG4gICAgICAvLyBTZXQgb25lIHRpbWUgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vbmVUaW1lQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgIH1cbiAgICAgIC8vIFNjcm9sbFxuICAgICAgaWYgKHRoaXMub2Zmc2V0ICE9PSB0aGlzLnRhcmdldCkge1xuICAgICAgICB0aGlzLmFtcGxpdHVkZSA9IHRoaXMudGFyZ2V0IC0gdGhpcy5vZmZzZXQ7XG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2F1dG9TY3JvbGxCb3VuZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbmV4dChuOiBudW1iZXIgPSAxKSB7XG4gICAgICBpZiAobiA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKG4pKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfVxuICAgICAgbGV0IGluZGV4ID0gdGhpcy5jZW50ZXIgKyBuO1xuICAgICAgaWYgKGluZGV4ID49IHRoaXMuY291bnQgfHwgaW5kZXggPCAwKSB7XG4gICAgICAgIGlmICh0aGlzLm5vV3JhcCkgcmV0dXJuO1xuICAgICAgICBpbmRleCA9IHRoaXMuX3dyYXAoaW5kZXgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fY3ljbGVUbyhpbmRleCk7XG4gICAgfVxuXG4gICAgcHJldihuOiBudW1iZXIgPSAxKSB7XG4gICAgICBpZiAobiA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKG4pKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfVxuICAgICAgbGV0IGluZGV4ID0gdGhpcy5jZW50ZXIgLSBuO1xuICAgICAgaWYgKGluZGV4ID49IHRoaXMuY291bnQgfHwgaW5kZXggPCAwKSB7XG4gICAgICAgIGlmICh0aGlzLm5vV3JhcCkgcmV0dXJuO1xuICAgICAgICBpbmRleCA9IHRoaXMuX3dyYXAoaW5kZXgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fY3ljbGVUbyhpbmRleCk7XG4gICAgfVxuXG4gICAgc2V0KG46IG51bWJlciwgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICBpZiAobiA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKG4pKSB7XG4gICAgICAgIG4gPSAwO1xuICAgICAgfVxuICAgICAgaWYgKG4gPiB0aGlzLmNvdW50IHx8IG4gPCAwKSB7XG4gICAgICAgIGlmICh0aGlzLm5vV3JhcCkgcmV0dXJuO1xuICAgICAgICBuID0gdGhpcy5fd3JhcChuKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2N5Y2xlVG8obiwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///476\n")},283:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CharacterCounter = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nlet _defaults = {};\n/**\n * @class\n *\n */\nclass CharacterCounter extends component_1.Component {\n    /**\n     * Construct CharacterCounter instance\n     * @constructor\n     * @param {Element} el\n     * @param {Object} options\n     */\n    constructor(el, options) {\n        super(CharacterCounter, el, options);\n        this.el.M_CharacterCounter = this;\n        /**\n         * Options for the character counter\n         */\n        this.options = cash_dom_1.default.extend({}, CharacterCounter.defaults, options);\n        this.isInvalid = false;\n        this.isValidLength = false;\n        this._setupCounter();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    /**\n     * Get Instance\n     */\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_CharacterCounter;\n    }\n    /**\n     * Teardown component\n     */\n    destroy() {\n        this._removeEventHandlers();\n        this.el.CharacterCounter = undefined;\n        this._removeCounter();\n    }\n    /**\n     * Setup Event Handlers\n     */\n    _setupEventHandlers() {\n        this._handleUpdateCounterBound = this.updateCounter.bind(this);\n        this.el.addEventListener('focus', this._handleUpdateCounterBound, true);\n        this.el.addEventListener('input', this._handleUpdateCounterBound, true);\n    }\n    /**\n     * Remove Event Handlers\n     */\n    _removeEventHandlers() {\n        this.el.removeEventListener('focus', this._handleUpdateCounterBound, true);\n        this.el.removeEventListener('input', this._handleUpdateCounterBound, true);\n    }\n    /**\n     * Setup counter element\n     */\n    _setupCounter() {\n        this.counterEl = document.createElement('span');\n        (0, cash_dom_1.default)(this.counterEl)\n            .addClass('character-counter')\n            .css({\n            float: 'right',\n            'font-size': '12px',\n            height: 1\n        });\n        this.$el.parent().append(this.counterEl);\n    }\n    /**\n     * Remove counter element\n     */\n    _removeCounter() {\n        (0, cash_dom_1.default)(this.counterEl).remove();\n    }\n    /**\n     * Update counter\n     */\n    updateCounter() {\n        let maxLength = +this.$el.attr('data-length'), actualLength = this.el.value.length;\n        this.isValidLength = actualLength <= maxLength;\n        let counterString = actualLength.toString();\n        if (maxLength) {\n            counterString += '/' + maxLength;\n            this._validateInput();\n        }\n        (0, cash_dom_1.default)(this.counterEl).html(counterString);\n    }\n    /**\n     * Add validation classes\n     */\n    _validateInput() {\n        if (this.isValidLength && this.isInvalid) {\n            this.isInvalid = false;\n            this.$el.removeClass('invalid');\n        }\n        else if (!this.isValidLength && !this.isInvalid) {\n            this.isInvalid = true;\n            this.$el.removeClass('valid');\n            this.$el.addClass('invalid');\n        }\n    }\n}\nexports.CharacterCounter = CharacterCounter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM5QjtJQUNILENBQUM7Q0FDRjtBQTNIRCw0Q0EySEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL2NoYXJhY3RlckNvdW50ZXIudHM/M2IyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCAkIGZyb20gXCJjYXNoLWRvbVwiO1xuXG4gIGxldCBfZGVmYXVsdHMgPSB7fTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ2hhcmFjdGVyQ291bnRlciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgaXNJbnZhbGlkOiBib29sZWFuO1xuICAgIGlzVmFsaWRMZW5ndGg6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfaGFuZGxlVXBkYXRlQ291bnRlckJvdW5kOiBhbnk7XG4gICAgY291bnRlckVsOiBIVE1MU3BhbkVsZW1lbnQ7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IENoYXJhY3RlckNvdW50ZXIgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoQ2hhcmFjdGVyQ291bnRlciwgZWwsIG9wdGlvbnMpO1xuXG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fQ2hhcmFjdGVyQ291bnRlciA9IHRoaXM7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIGNoYXJhY3RlciBjb3VudGVyXG4gICAgICAgKi9cbiAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDaGFyYWN0ZXJDb3VudGVyLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgdGhpcy5pc0ludmFsaWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuaXNWYWxpZExlbmd0aCA9IGZhbHNlO1xuICAgICAgdGhpcy5fc2V0dXBDb3VudGVyKCk7XG4gICAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEluc3RhbmNlXG4gICAgICovXG4gICAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICBsZXQgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fQ2hhcmFjdGVyQ291bnRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5DaGFyYWN0ZXJDb3VudGVyID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fcmVtb3ZlQ291bnRlcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICovXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZVVwZGF0ZUNvdW50ZXJCb3VuZCA9IHRoaXMudXBkYXRlQ291bnRlci5iaW5kKHRoaXMpO1xuXG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlVXBkYXRlQ291bnRlckJvdW5kLCB0cnVlKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9oYW5kbGVVcGRhdGVDb3VudGVyQm91bmQsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBFdmVudCBIYW5kbGVyc1xuICAgICAqL1xuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZVVwZGF0ZUNvdW50ZXJCb3VuZCwgdHJ1ZSk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5faGFuZGxlVXBkYXRlQ291bnRlckJvdW5kLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR1cCBjb3VudGVyIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfc2V0dXBDb3VudGVyKCkge1xuICAgICAgdGhpcy5jb3VudGVyRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAkKHRoaXMuY291bnRlckVsKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NoYXJhY3Rlci1jb3VudGVyJylcbiAgICAgICAgLmNzcyh7XG4gICAgICAgICAgZmxvYXQ6ICdyaWdodCcsXG4gICAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxMnB4JyxcbiAgICAgICAgICBoZWlnaHQ6IDFcbiAgICAgICAgfSk7XG5cbiAgICAgIHRoaXMuJGVsLnBhcmVudCgpLmFwcGVuZCh0aGlzLmNvdW50ZXJFbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGNvdW50ZXIgZWxlbWVudFxuICAgICAqL1xuICAgIF9yZW1vdmVDb3VudGVyKCkge1xuICAgICAgJCh0aGlzLmNvdW50ZXJFbCkucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGNvdW50ZXJcbiAgICAgKi9cbiAgICB1cGRhdGVDb3VudGVyKCkge1xuICAgICAgbGV0IG1heExlbmd0aCA9ICt0aGlzLiRlbC5hdHRyKCdkYXRhLWxlbmd0aCcpLFxuICAgICAgICBhY3R1YWxMZW5ndGggPSAodGhpcy5lbCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZS5sZW5ndGg7XG4gICAgICB0aGlzLmlzVmFsaWRMZW5ndGggPSBhY3R1YWxMZW5ndGggPD0gbWF4TGVuZ3RoO1xuICAgICAgbGV0IGNvdW50ZXJTdHJpbmcgPSBhY3R1YWxMZW5ndGgudG9TdHJpbmcoKTtcblxuICAgICAgaWYgKG1heExlbmd0aCkge1xuICAgICAgICBjb3VudGVyU3RyaW5nICs9ICcvJyArIG1heExlbmd0aDtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVJbnB1dCgpO1xuICAgICAgfVxuXG4gICAgICAkKHRoaXMuY291bnRlckVsKS5odG1sKGNvdW50ZXJTdHJpbmcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB2YWxpZGF0aW9uIGNsYXNzZXNcbiAgICAgKi9cbiAgICBfdmFsaWRhdGVJbnB1dCgpIHtcbiAgICAgIGlmICh0aGlzLmlzVmFsaWRMZW5ndGggJiYgdGhpcy5pc0ludmFsaWQpIHtcbiAgICAgICAgdGhpcy5pc0ludmFsaWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ2ludmFsaWQnKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNWYWxpZExlbmd0aCAmJiAhdGhpcy5pc0ludmFsaWQpIHtcbiAgICAgICAgdGhpcy5pc0ludmFsaWQgPSB0cnVlO1xuICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygndmFsaWQnKTtcbiAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2ludmFsaWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///283\n")},359:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Chips = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst global_1 = __webpack_require__(238);\nconst autocomplete_1 = __webpack_require__(357);\nlet _defaults = {\n    data: [],\n    placeholder: '',\n    secondaryPlaceholder: '',\n    autocompleteOptions: {},\n    autocompleteOnly: false,\n    limit: Infinity,\n    onChipAdd: null,\n    onChipSelect: null,\n    onChipDelete: null\n};\n/**\n * @typedef {Object} chip\n * @property {String} tag  chip tag string\n * @property {String} [image]  chip avatar image string\n */\n/**\n * @class\n *\n */\nclass Chips extends component_1.Component {\n    /**\n     * Construct Chips instance and set up overlay\n     * @constructor\n     * @param {Element} el\n     * @param {Object} options\n     */\n    constructor(el, options) {\n        super(Chips, el, options);\n        this.el.M_Chips = this;\n        /**\n         * Options for the modal\n         * @member Chips#options\n         * @prop {Array} data\n         * @prop {String} placeholder\n         * @prop {String} secondaryPlaceholder\n         * @prop {Object} autocompleteOptions\n         */\n        this.options = cash_dom_1.default.extend({}, Chips.defaults, options);\n        this.$el.addClass('chips input-field');\n        this.chipsData = [];\n        this.$chips = (0, cash_dom_1.default)();\n        this._setupInput();\n        this.hasAutocomplete = Object.keys(this.options.autocompleteOptions).length > 0;\n        // Set input id\n        if (!this.$input.attr('id')) {\n            this.$input.attr('id', global_1.M.guid());\n        }\n        // Render initial chips\n        if (this.options.data.length) {\n            this.chipsData = this.options.data;\n            this._renderChips();\n        }\n        // Setup autocomplete if needed\n        if (this.hasAutocomplete) {\n            this._setupAutocomplete();\n        }\n        this._setPlaceholder();\n        this._setupLabel();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Chips;\n    }\n    getData() {\n        return this.chipsData;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.$chips.remove();\n        this.el.M_Chips = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleChipClickBound = this._handleChipClick.bind(this);\n        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);\n        this._handleInputFocusBound = this._handleInputFocus.bind(this);\n        this._handleInputBlurBound = this._handleInputBlur.bind(this);\n        this.el.addEventListener('click', this._handleChipClickBound);\n        document.addEventListener('keydown', Chips._handleChipsKeydown);\n        document.addEventListener('keyup', Chips._handleChipsKeyup);\n        this.el.addEventListener('blur', Chips._handleChipsBlur, true);\n        this.$input[0].addEventListener('focus', this._handleInputFocusBound);\n        this.$input[0].addEventListener('blur', this._handleInputBlurBound);\n        this.$input[0].addEventListener('keydown', this._handleInputKeydownBound);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleChipClickBound);\n        document.removeEventListener('keydown', Chips._handleChipsKeydown);\n        document.removeEventListener('keyup', Chips._handleChipsKeyup);\n        this.el.removeEventListener('blur', Chips._handleChipsBlur, true);\n        this.$input[0].removeEventListener('focus', this._handleInputFocusBound);\n        this.$input[0].removeEventListener('blur', this._handleInputBlurBound);\n        this.$input[0].removeEventListener('keydown', this._handleInputKeydownBound);\n    }\n    _handleChipClick(e) {\n        let $chip = (0, cash_dom_1.default)(e.target).closest('.chip');\n        let clickedClose = (0, cash_dom_1.default)(e.target).is('.close');\n        if ($chip.length) {\n            let index = $chip.index();\n            if (clickedClose) {\n                // delete chip\n                this.deleteChip(index);\n                this.$input[0].focus();\n            }\n            else {\n                // select chip\n                this.selectChip(index);\n            }\n            // Default handle click to focus on input\n        }\n        else {\n            this.$input[0].focus();\n        }\n    }\n    static _handleChipsKeydown(e) {\n        Chips._keydown = true;\n        let $chips = (0, cash_dom_1.default)(e.target).closest('.chips');\n        let chipsKeydown = e.target && $chips.length;\n        // Don't handle keydown inputs on input and textarea\n        if ((0, cash_dom_1.default)(e.target).is('input, textarea') || !chipsKeydown) {\n            return;\n        }\n        let currChips = $chips[0].M_Chips;\n        // backspace and delete\n        if (e.keyCode === 8 || e.keyCode === 46) {\n            e.preventDefault();\n            let selectIndex = currChips.chipsData.length;\n            if (currChips._selectedChip) {\n                let index = currChips._selectedChip.index();\n                currChips.deleteChip(index);\n                currChips._selectedChip = null;\n                // Make sure selectIndex doesn't go negative\n                selectIndex = Math.max(index - 1, 0);\n            }\n            if (currChips.chipsData.length) {\n                currChips.selectChip(selectIndex);\n            }\n            else {\n                currChips.$input[0].focus();\n            }\n            // left arrow key\n        }\n        else if (e.keyCode === 37) {\n            if (currChips._selectedChip) {\n                let selectIndex = currChips._selectedChip.index() - 1;\n                if (selectIndex < 0) {\n                    return;\n                }\n                currChips.selectChip(selectIndex);\n            }\n            // right arrow key\n        }\n        else if (e.keyCode === 39) {\n            if (currChips._selectedChip) {\n                let selectIndex = currChips._selectedChip.index() + 1;\n                if (selectIndex >= currChips.chipsData.length) {\n                    currChips.$input[0].focus();\n                }\n                else {\n                    currChips.selectChip(selectIndex);\n                }\n            }\n        }\n    }\n    static _handleChipsKeyup(e) {\n        Chips._keydown = false;\n    }\n    static _handleChipsBlur(e) {\n        if (!Chips._keydown && document.hidden) {\n            let $chips = (0, cash_dom_1.default)(e.target).closest('.chips');\n            let currChips = $chips[0].M_Chips;\n            currChips._selectedChip = null;\n        }\n    }\n    _handleInputFocus() {\n        this.$el.addClass('focus');\n    }\n    _handleInputBlur() {\n        this.$el.removeClass('focus');\n    }\n    _handleInputKeydown(e) {\n        Chips._keydown = true;\n        // enter\n        if (e.keyCode === 13) {\n            // Override enter if autocompleting.\n            if (this.hasAutocomplete && this.autocomplete && this.autocomplete.isOpen) {\n                return;\n            }\n            e.preventDefault();\n            if (!this.hasAutocomplete || (this.hasAutocomplete && !this.options.autocompleteOnly)) {\n                this.addChip({ id: this.$input[0].value });\n            }\n            this.$input[0].value = '';\n            // delete or left\n        }\n        else if ((e.keyCode === 8 || e.keyCode === 37) &&\n            this.$input[0].value === '' &&\n            this.chipsData.length) {\n            e.preventDefault();\n            this.selectChip(this.chipsData.length - 1);\n        }\n    }\n    _renderChip(chip) {\n        if (!chip.id)\n            return;\n        let renderedChip = document.createElement('div');\n        let closeIcon = document.createElement('i');\n        renderedChip.classList.add('chip');\n        renderedChip.textContent = chip.text || chip.id;\n        renderedChip.setAttribute('tabindex', \"0\");\n        (0, cash_dom_1.default)(closeIcon).addClass('material-icons close');\n        closeIcon.textContent = 'close';\n        // attach image if needed\n        if (chip.image) {\n            let img = document.createElement('img');\n            img.setAttribute('src', chip.image);\n            renderedChip.insertBefore(img, renderedChip.firstChild);\n        }\n        renderedChip.appendChild(closeIcon);\n        return renderedChip;\n    }\n    _renderChips() {\n        this.$chips.remove();\n        for (let i = 0; i < this.chipsData.length; i++) {\n            let chipEl = this._renderChip(this.chipsData[i]);\n            this.$el.append(chipEl);\n            this.$chips.add(chipEl);\n        }\n        // move input to end\n        this.$el.append(this.$input[0]);\n    }\n    _setupAutocomplete() {\n        this.options.autocompleteOptions.onAutocomplete = (items) => {\n            if (items.length > 0) {\n                this.addChip(items[0]);\n            }\n            this.$input[0].value = '';\n            this.$input[0].focus();\n        };\n        this.autocomplete = autocomplete_1.Autocomplete.init(this.$input[0], this.options.autocompleteOptions);\n    }\n    _setupInput() {\n        this.$input = this.$el.find('input');\n        if (!this.$input.length) {\n            this.$input = (0, cash_dom_1.default)('<input></input>');\n            this.$el.append(this.$input);\n        }\n        this.$input.addClass('input');\n    }\n    _setupLabel() {\n        this.$label = this.$el.find('label');\n        if (this.$label.length) {\n            this.$label[0].setAttribute('for', this.$input.attr('id'));\n        }\n    }\n    _setPlaceholder() {\n        if (this.chipsData !== undefined && !this.chipsData.length && this.options.placeholder) {\n            (0, cash_dom_1.default)(this.$input).prop('placeholder', this.options.placeholder);\n        }\n        else if ((this.chipsData === undefined || !!this.chipsData.length) &&\n            this.options.secondaryPlaceholder) {\n            (0, cash_dom_1.default)(this.$input).prop('placeholder', this.options.secondaryPlaceholder);\n        }\n    }\n    _isValidAndNotExist(chip) {\n        const isValid = !!chip.id;\n        const doesNotExist = !this.chipsData.some(item => item.id == chip.id);\n        return isValid && doesNotExist;\n    }\n    addChip(chip) {\n        if (!this._isValidAndNotExist(chip) || this.chipsData.length >= this.options.limit) {\n            return;\n        }\n        let renderedChip = this._renderChip(chip);\n        this.$chips.add(renderedChip);\n        this.chipsData.push(chip);\n        (0, cash_dom_1.default)(this.$input).before(renderedChip);\n        this._setPlaceholder();\n        // fire chipAdd callback\n        if (typeof this.options.onChipAdd === 'function') {\n            this.options.onChipAdd(this.$el, renderedChip);\n        }\n    }\n    deleteChip(chipIndex) {\n        let $chip = this.$chips.eq(chipIndex);\n        this.$chips.eq(chipIndex).remove();\n        this.$chips = this.$chips.filter(function (el) {\n            return (0, cash_dom_1.default)(el).index() >= 0;\n        });\n        this.chipsData.splice(chipIndex, 1);\n        this._setPlaceholder();\n        // fire chipDelete callback\n        if (typeof this.options.onChipDelete === 'function') {\n            this.options.onChipDelete(this.$el, $chip[0]);\n        }\n    }\n    selectChip(chipIndex) {\n        let $chip = this.$chips.eq(chipIndex);\n        this._selectedChip = $chip;\n        $chip[0].focus();\n        // fire chipSelect callback\n        if (typeof this.options.onChipSelect === 'function') {\n            this.options.onChipSelect(this.$el, $chip[0]);\n        }\n    }\n    static Init() {\n        (0, cash_dom_1.default)(document).ready(function () {\n            // Handle removal of static chips.\n            (0, cash_dom_1.default)(document.body).on('click', '.chip .close', function () {\n                let $chips = (0, cash_dom_1.default)(this).closest('.chips');\n                if ($chips.length && $chips[0].M_Chips == undefined) {\n                    return;\n                }\n                (0, cash_dom_1.default)(this)\n                    .closest('.chip')\n                    .remove();\n            });\n        });\n    }\n}\nexports.Chips = Chips;\n(() => {\n    Chips._keydown = false;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCAkIGZyb20gXCJjYXNoLWRvbVwiO1xuaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuaW1wb3J0IHsgQXV0b2NvbXBsZXRlIH0gZnJvbSBcIi4vYXV0b2NvbXBsZXRlXCI7XG5cbiAgbGV0IF9kZWZhdWx0cyA9IHtcbiAgICBkYXRhOiBbXSxcbiAgICBwbGFjZWhvbGRlcjogJycsXG4gICAgc2Vjb25kYXJ5UGxhY2Vob2xkZXI6ICcnLFxuICAgIGF1dG9jb21wbGV0ZU9wdGlvbnM6IHt9LFxuICAgIGF1dG9jb21wbGV0ZU9ubHk6IGZhbHNlLFxuICAgIGxpbWl0OiBJbmZpbml0eSxcbiAgICBvbkNoaXBBZGQ6IG51bGwsXG4gICAgb25DaGlwU2VsZWN0OiBudWxsLFxuICAgIG9uQ2hpcERlbGV0ZTogbnVsbFxuICB9O1xuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBjaGlwXG4gICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB0YWcgIGNoaXAgdGFnIHN0cmluZ1xuICAgKiBAcHJvcGVydHkge1N0cmluZ30gW2ltYWdlXSAgY2hpcCBhdmF0YXIgaW1hZ2Ugc3RyaW5nXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDaGlwcyBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY2hpcHNEYXRhOiBhbnlbXTtcbiAgICAkY2hpcHM6IGFueTtcbiAgICBoYXNBdXRvY29tcGxldGU6IGJvb2xlYW47XG4gICAgJGlucHV0OiBhbnk7XG4gICAgYXV0b2NvbXBsZXRlOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlQ2hpcENsaWNrQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUlucHV0Rm9jdXNCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUlucHV0Qmx1ckJvdW5kOiBhbnk7XG4gICAgc3RhdGljIF9rZXlkb3duOiBib29sZWFuO1xuICAgICRsYWJlbDogYW55O1xuICAgIHByaXZhdGUgX3NlbGVjdGVkQ2hpcDogYW55O1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBDaGlwcyBpbnN0YW5jZSBhbmQgc2V0IHVwIG92ZXJsYXlcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoQ2hpcHMsIGVsLCBvcHRpb25zKTtcblxuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX0NoaXBzID0gdGhpcztcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgbW9kYWxcbiAgICAgICAqIEBtZW1iZXIgQ2hpcHMjb3B0aW9uc1xuICAgICAgICogQHByb3Age0FycmF5fSBkYXRhXG4gICAgICAgKiBAcHJvcCB7U3RyaW5nfSBwbGFjZWhvbGRlclxuICAgICAgICogQHByb3Age1N0cmluZ30gc2Vjb25kYXJ5UGxhY2Vob2xkZXJcbiAgICAgICAqIEBwcm9wIHtPYmplY3R9IGF1dG9jb21wbGV0ZU9wdGlvbnNcbiAgICAgICAqL1xuICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIENoaXBzLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2NoaXBzIGlucHV0LWZpZWxkJyk7XG4gICAgICB0aGlzLmNoaXBzRGF0YSA9IFtdO1xuICAgICAgdGhpcy4kY2hpcHMgPSAkKCk7XG4gICAgICB0aGlzLl9zZXR1cElucHV0KCk7XG4gICAgICB0aGlzLmhhc0F1dG9jb21wbGV0ZSA9IE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5hdXRvY29tcGxldGVPcHRpb25zKS5sZW5ndGggPiAwO1xuICAgICAgLy8gU2V0IGlucHV0IGlkXG4gICAgICBpZiAoIXRoaXMuJGlucHV0LmF0dHIoJ2lkJykpIHtcbiAgICAgICAgdGhpcy4kaW5wdXQuYXR0cignaWQnLCBNLmd1aWQoKSk7XG4gICAgICB9XG4gICAgICAvLyBSZW5kZXIgaW5pdGlhbCBjaGlwc1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5kYXRhLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmNoaXBzRGF0YSA9IHRoaXMub3B0aW9ucy5kYXRhO1xuICAgICAgICB0aGlzLl9yZW5kZXJDaGlwcygpO1xuICAgICAgfVxuICAgICAgLy8gU2V0dXAgYXV0b2NvbXBsZXRlIGlmIG5lZWRlZFxuICAgICAgaWYgKHRoaXMuaGFzQXV0b2NvbXBsZXRlKSB7XG4gICAgICAgIHRoaXMuX3NldHVwQXV0b2NvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zZXRQbGFjZWhvbGRlcigpO1xuICAgICAgdGhpcy5fc2V0dXBMYWJlbCgpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX0NoaXBzO1xuICAgIH1cblxuICAgIGdldERhdGEoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jaGlwc0RhdGE7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHRoaXMuJGNoaXBzLnJlbW92ZSgpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX0NoaXBzID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLl9oYW5kbGVDaGlwQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUNoaXBDbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQgPSB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd24uYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUlucHV0Rm9jdXNCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0Rm9jdXMuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUlucHV0Qmx1ckJvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRCbHVyLmJpbmQodGhpcyk7XG5cbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDaGlwQ2xpY2tCb3VuZCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgQ2hpcHMuX2hhbmRsZUNoaXBzS2V5ZG93bik7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIENoaXBzLl9oYW5kbGVDaGlwc0tleXVwKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIENoaXBzLl9oYW5kbGVDaGlwc0JsdXIsIHRydWUpO1xuICAgICAgdGhpcy4kaW5wdXRbMF0uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVJbnB1dEZvY3VzQm91bmQpO1xuICAgICAgdGhpcy4kaW5wdXRbMF0uYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1ckJvdW5kKTtcbiAgICAgIHRoaXMuJGlucHV0WzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCk7XG4gICAgfVxuXG4gICAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2hpcENsaWNrQm91bmQpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIENoaXBzLl9oYW5kbGVDaGlwc0tleWRvd24pO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBDaGlwcy5faGFuZGxlQ2hpcHNLZXl1cCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBDaGlwcy5faGFuZGxlQ2hpcHNCbHVyLCB0cnVlKTtcbiAgICAgIHRoaXMuJGlucHV0WzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlSW5wdXRGb2N1c0JvdW5kKTtcbiAgICAgIHRoaXMuJGlucHV0WzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVJbnB1dEJsdXJCb3VuZCk7XG4gICAgICB0aGlzLiRpbnB1dFswXS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQpO1xuICAgIH1cblxuICAgIF9oYW5kbGVDaGlwQ2xpY2soZSkge1xuICAgICAgbGV0ICRjaGlwID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmNoaXAnKTtcbiAgICAgIGxldCBjbGlja2VkQ2xvc2UgPSAkKGUudGFyZ2V0KS5pcygnLmNsb3NlJyk7XG4gICAgICBpZiAoJGNoaXAubGVuZ3RoKSB7XG4gICAgICAgIGxldCBpbmRleCA9ICRjaGlwLmluZGV4KCk7XG4gICAgICAgIGlmIChjbGlja2VkQ2xvc2UpIHtcbiAgICAgICAgICAvLyBkZWxldGUgY2hpcFxuICAgICAgICAgIHRoaXMuZGVsZXRlQ2hpcChpbmRleCk7XG4gICAgICAgICAgdGhpcy4kaW5wdXRbMF0uZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBzZWxlY3QgY2hpcFxuICAgICAgICAgIHRoaXMuc2VsZWN0Q2hpcChpbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWZhdWx0IGhhbmRsZSBjbGljayB0byBmb2N1cyBvbiBpbnB1dFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kaW5wdXRbMF0uZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgX2hhbmRsZUNoaXBzS2V5ZG93bihlKSB7XG4gICAgICBDaGlwcy5fa2V5ZG93biA9IHRydWU7XG5cbiAgICAgIGxldCAkY2hpcHMgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuY2hpcHMnKTtcbiAgICAgIGxldCBjaGlwc0tleWRvd24gPSBlLnRhcmdldCAmJiAkY2hpcHMubGVuZ3RoO1xuXG4gICAgICAvLyBEb24ndCBoYW5kbGUga2V5ZG93biBpbnB1dHMgb24gaW5wdXQgYW5kIHRleHRhcmVhXG4gICAgICBpZiAoJChlLnRhcmdldCkuaXMoJ2lucHV0LCB0ZXh0YXJlYScpIHx8ICFjaGlwc0tleWRvd24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgY3VyckNoaXBzID0gKCRjaGlwc1swXSBhcyBhbnkpLk1fQ2hpcHM7XG5cbiAgICAgIC8vIGJhY2tzcGFjZSBhbmQgZGVsZXRlXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSA4IHx8IGUua2V5Q29kZSA9PT0gNDYpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGxldCBzZWxlY3RJbmRleCA9IGN1cnJDaGlwcy5jaGlwc0RhdGEubGVuZ3RoO1xuICAgICAgICBpZiAoY3VyckNoaXBzLl9zZWxlY3RlZENoaXApIHtcbiAgICAgICAgICBsZXQgaW5kZXggPSBjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcC5pbmRleCgpO1xuICAgICAgICAgIGN1cnJDaGlwcy5kZWxldGVDaGlwKGluZGV4KTtcbiAgICAgICAgICBjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCA9IG51bGw7XG5cbiAgICAgICAgICAvLyBNYWtlIHN1cmUgc2VsZWN0SW5kZXggZG9lc24ndCBnbyBuZWdhdGl2ZVxuICAgICAgICAgIHNlbGVjdEluZGV4ID0gTWF0aC5tYXgoaW5kZXggLSAxLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyQ2hpcHMuY2hpcHNEYXRhLmxlbmd0aCkge1xuICAgICAgICAgIGN1cnJDaGlwcy5zZWxlY3RDaGlwKHNlbGVjdEluZGV4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyQ2hpcHMuJGlucHV0WzBdLmZvY3VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZWZ0IGFycm93IGtleVxuICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3KSB7XG4gICAgICAgIGlmIChjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCkge1xuICAgICAgICAgIGxldCBzZWxlY3RJbmRleCA9IGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwLmluZGV4KCkgLSAxO1xuICAgICAgICAgIGlmIChzZWxlY3RJbmRleCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VyckNoaXBzLnNlbGVjdENoaXAoc2VsZWN0SW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmlnaHQgYXJyb3cga2V5XG4gICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gMzkpIHtcbiAgICAgICAgaWYgKGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwKSB7XG4gICAgICAgICAgbGV0IHNlbGVjdEluZGV4ID0gY3VyckNoaXBzLl9zZWxlY3RlZENoaXAuaW5kZXgoKSArIDE7XG5cbiAgICAgICAgICBpZiAoc2VsZWN0SW5kZXggPj0gY3VyckNoaXBzLmNoaXBzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGN1cnJDaGlwcy4kaW5wdXRbMF0uZm9jdXMoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VyckNoaXBzLnNlbGVjdENoaXAoc2VsZWN0SW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBfaGFuZGxlQ2hpcHNLZXl1cChlKSB7XG4gICAgICBDaGlwcy5fa2V5ZG93biA9IGZhbHNlO1xuICAgIH1cblxuICAgIHN0YXRpYyBfaGFuZGxlQ2hpcHNCbHVyKGUpIHtcbiAgICAgIGlmICghQ2hpcHMuX2tleWRvd24gJiYgZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgIGxldCAkY2hpcHMgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuY2hpcHMnKTtcbiAgICAgICAgbGV0IGN1cnJDaGlwcyA9ICgkY2hpcHNbMF0gYXMgYW55KS5NX0NoaXBzO1xuXG4gICAgICAgIGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlSW5wdXRGb2N1cygpIHtcbiAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdmb2N1cycpO1xuICAgIH1cblxuICAgIF9oYW5kbGVJbnB1dEJsdXIoKSB7XG4gICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnZm9jdXMnKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlSW5wdXRLZXlkb3duKGUpIHtcbiAgICAgIENoaXBzLl9rZXlkb3duID0gdHJ1ZTtcbiAgICAgIC8vIGVudGVyXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgICAvLyBPdmVycmlkZSBlbnRlciBpZiBhdXRvY29tcGxldGluZy5cbiAgICAgICAgaWYgKHRoaXMuaGFzQXV0b2NvbXBsZXRlICYmIHRoaXMuYXV0b2NvbXBsZXRlICYmIHRoaXMuYXV0b2NvbXBsZXRlLmlzT3Blbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghdGhpcy5oYXNBdXRvY29tcGxldGUgfHwgKHRoaXMuaGFzQXV0b2NvbXBsZXRlICYmICF0aGlzLm9wdGlvbnMuYXV0b2NvbXBsZXRlT25seSkpIHtcbiAgICAgICAgICB0aGlzLmFkZENoaXAoe2lkOiB0aGlzLiRpbnB1dFswXS52YWx1ZX0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJGlucHV0WzBdLnZhbHVlID0gJyc7XG4gICAgICAgIC8vIGRlbGV0ZSBvciBsZWZ0XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAoZS5rZXlDb2RlID09PSA4IHx8IGUua2V5Q29kZSA9PT0gMzcpICYmXG4gICAgICAgIHRoaXMuJGlucHV0WzBdLnZhbHVlID09PSAnJyAmJlxuICAgICAgICB0aGlzLmNoaXBzRGF0YS5sZW5ndGhcbiAgICAgICkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc2VsZWN0Q2hpcCh0aGlzLmNoaXBzRGF0YS5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVuZGVyQ2hpcChjaGlwKSB7XG4gICAgICBpZiAoIWNoaXAuaWQpIHJldHVybjtcbiAgICAgIGxldCByZW5kZXJlZENoaXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGxldCBjbG9zZUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgICByZW5kZXJlZENoaXAuY2xhc3NMaXN0LmFkZCgnY2hpcCcpO1xuICAgICAgcmVuZGVyZWRDaGlwLnRleHRDb250ZW50ID0gY2hpcC50ZXh0IHx8IGNoaXAuaWQ7XG4gICAgICByZW5kZXJlZENoaXAuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIFwiMFwiKTtcbiAgICAgICQoY2xvc2VJY29uKS5hZGRDbGFzcygnbWF0ZXJpYWwtaWNvbnMgY2xvc2UnKTtcbiAgICAgIGNsb3NlSWNvbi50ZXh0Q29udGVudCA9ICdjbG9zZSc7XG4gICAgICAvLyBhdHRhY2ggaW1hZ2UgaWYgbmVlZGVkXG4gICAgICBpZiAoY2hpcC5pbWFnZSkge1xuICAgICAgICBsZXQgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGNoaXAuaW1hZ2UpO1xuICAgICAgICByZW5kZXJlZENoaXAuaW5zZXJ0QmVmb3JlKGltZywgcmVuZGVyZWRDaGlwLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgICAgcmVuZGVyZWRDaGlwLmFwcGVuZENoaWxkKGNsb3NlSWNvbik7XG4gICAgICByZXR1cm4gcmVuZGVyZWRDaGlwO1xuICAgIH1cblxuICAgIF9yZW5kZXJDaGlwcygpIHtcbiAgICAgIHRoaXMuJGNoaXBzLnJlbW92ZSgpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaXBzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2hpcEVsID0gdGhpcy5fcmVuZGVyQ2hpcCh0aGlzLmNoaXBzRGF0YVtpXSk7XG4gICAgICAgIHRoaXMuJGVsLmFwcGVuZChjaGlwRWwpO1xuICAgICAgICB0aGlzLiRjaGlwcy5hZGQoY2hpcEVsKTtcbiAgICAgIH1cbiAgICAgIC8vIG1vdmUgaW5wdXQgdG8gZW5kXG4gICAgICB0aGlzLiRlbC5hcHBlbmQodGhpcy4kaW5wdXRbMF0pO1xuICAgIH1cblxuICAgIF9zZXR1cEF1dG9jb21wbGV0ZSgpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5hdXRvY29tcGxldGVPcHRpb25zLm9uQXV0b2NvbXBsZXRlID0gKGl0ZW1zKSA9PiB7XG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGhpcy5hZGRDaGlwKGl0ZW1zWzBdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRpbnB1dFswXS52YWx1ZSA9ICcnO1xuICAgICAgICB0aGlzLiRpbnB1dFswXS5mb2N1cygpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5hdXRvY29tcGxldGUgPSBBdXRvY29tcGxldGUuaW5pdCh0aGlzLiRpbnB1dFswXSwgdGhpcy5vcHRpb25zLmF1dG9jb21wbGV0ZU9wdGlvbnMpO1xuICAgIH1cblxuICAgIF9zZXR1cElucHV0KCkge1xuICAgICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRlbC5maW5kKCdpbnB1dCcpO1xuICAgICAgaWYgKCF0aGlzLiRpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy4kaW5wdXQgPSAkKCc8aW5wdXQ+PC9pbnB1dD4nKTtcbiAgICAgICAgdGhpcy4kZWwuYXBwZW5kKHRoaXMuJGlucHV0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuJGlucHV0LmFkZENsYXNzKCdpbnB1dCcpO1xuICAgIH1cblxuICAgIF9zZXR1cExhYmVsKCkge1xuICAgICAgdGhpcy4kbGFiZWwgPSB0aGlzLiRlbC5maW5kKCdsYWJlbCcpO1xuICAgICAgaWYgKHRoaXMuJGxhYmVsLmxlbmd0aCkge1xuICAgICAgICB0aGlzLiRsYWJlbFswXS5zZXRBdHRyaWJ1dGUoJ2ZvcicsIHRoaXMuJGlucHV0LmF0dHIoJ2lkJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9zZXRQbGFjZWhvbGRlcigpIHtcbiAgICAgIGlmICh0aGlzLmNoaXBzRGF0YSAhPT0gdW5kZWZpbmVkICYmICF0aGlzLmNoaXBzRGF0YS5sZW5ndGggJiYgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKSB7XG4gICAgICAgICQodGhpcy4kaW5wdXQpLnByb3AoJ3BsYWNlaG9sZGVyJywgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICh0aGlzLmNoaXBzRGF0YSA9PT0gdW5kZWZpbmVkIHx8ICEhdGhpcy5jaGlwc0RhdGEubGVuZ3RoKSAmJlxuICAgICAgICB0aGlzLm9wdGlvbnMuc2Vjb25kYXJ5UGxhY2Vob2xkZXJcbiAgICAgICkge1xuICAgICAgICAkKHRoaXMuJGlucHV0KS5wcm9wKCdwbGFjZWhvbGRlcicsIHRoaXMub3B0aW9ucy5zZWNvbmRhcnlQbGFjZWhvbGRlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2lzVmFsaWRBbmROb3RFeGlzdChjaGlwKSB7XG4gICAgICBjb25zdCBpc1ZhbGlkID0gISFjaGlwLmlkO1xuICAgICAgY29uc3QgZG9lc05vdEV4aXN0ID0gIXRoaXMuY2hpcHNEYXRhLnNvbWUoaXRlbSA9PiBpdGVtLmlkID09IGNoaXAuaWQpO1xuICAgICAgcmV0dXJuIGlzVmFsaWQgJiYgZG9lc05vdEV4aXN0O1xuICAgIH1cblxuICAgIGFkZENoaXAoY2hpcCkge1xuICAgICAgaWYgKCF0aGlzLl9pc1ZhbGlkQW5kTm90RXhpc3QoY2hpcCkgfHwgdGhpcy5jaGlwc0RhdGEubGVuZ3RoID49IHRoaXMub3B0aW9ucy5saW1pdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgcmVuZGVyZWRDaGlwID0gdGhpcy5fcmVuZGVyQ2hpcChjaGlwKTtcbiAgICAgIHRoaXMuJGNoaXBzLmFkZChyZW5kZXJlZENoaXApO1xuICAgICAgdGhpcy5jaGlwc0RhdGEucHVzaChjaGlwKTtcbiAgICAgICQodGhpcy4kaW5wdXQpLmJlZm9yZShyZW5kZXJlZENoaXApO1xuICAgICAgdGhpcy5fc2V0UGxhY2Vob2xkZXIoKTtcbiAgICAgIC8vIGZpcmUgY2hpcEFkZCBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DaGlwQWRkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vbkNoaXBBZGQodGhpcy4kZWwsIHJlbmRlcmVkQ2hpcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGVsZXRlQ2hpcChjaGlwSW5kZXgpIHtcbiAgICAgIGxldCAkY2hpcCA9IHRoaXMuJGNoaXBzLmVxKGNoaXBJbmRleCk7XG4gICAgICB0aGlzLiRjaGlwcy5lcShjaGlwSW5kZXgpLnJlbW92ZSgpO1xuICAgICAgdGhpcy4kY2hpcHMgPSB0aGlzLiRjaGlwcy5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgcmV0dXJuICQoZWwpLmluZGV4KCkgPj0gMDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jaGlwc0RhdGEuc3BsaWNlKGNoaXBJbmRleCwgMSk7XG4gICAgICB0aGlzLl9zZXRQbGFjZWhvbGRlcigpO1xuXG4gICAgICAvLyBmaXJlIGNoaXBEZWxldGUgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2hpcERlbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25DaGlwRGVsZXRlKHRoaXMuJGVsLCAkY2hpcFswXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2VsZWN0Q2hpcChjaGlwSW5kZXgpIHtcbiAgICAgIGxldCAkY2hpcCA9IHRoaXMuJGNoaXBzLmVxKGNoaXBJbmRleCk7XG4gICAgICB0aGlzLl9zZWxlY3RlZENoaXAgPSAkY2hpcDtcbiAgICAgICRjaGlwWzBdLmZvY3VzKCk7XG5cbiAgICAgIC8vIGZpcmUgY2hpcFNlbGVjdCBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DaGlwU2VsZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vbkNoaXBTZWxlY3QodGhpcy4kZWwsICRjaGlwWzBdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgSW5pdCgpe1xuICAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIEhhbmRsZSByZW1vdmFsIG9mIHN0YXRpYyBjaGlwcy5cbiAgICAgICAgJChkb2N1bWVudC5ib2R5KS5vbignY2xpY2snLCAnLmNoaXAgLmNsb3NlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbGV0ICRjaGlwcyA9ICQodGhpcykuY2xvc2VzdCgnLmNoaXBzJyk7XG4gICAgICAgICAgaWYgKCRjaGlwcy5sZW5ndGggJiYgKCRjaGlwc1swXSBhcyBhbnkpLk1fQ2hpcHMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgIC5jbG9zZXN0KCcuY2hpcCcpXG4gICAgICAgICAgICAucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyB7XG4gICAgICBDaGlwcy5fa2V5ZG93biA9IGZhbHNlOyAgICAgIFxuICAgIH0gICAgIFxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///359\n")},995:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Collapsible = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst animejs_1 = __importDefault(__webpack_require__(30));\nlet _defaults = {\n    accordion: true,\n    onOpenStart: undefined,\n    onOpenEnd: undefined,\n    onCloseStart: undefined,\n    onCloseEnd: undefined,\n    inDuration: 300,\n    outDuration: 300\n};\n/**\n * @class\n *\n */\nclass Collapsible extends component_1.Component {\n    /**\n     * Construct Collapsible instance\n     * @constructor\n     * @param {Element} el\n     * @param {Object} options\n     */\n    constructor(el, options) {\n        super(Collapsible, el, options);\n        this.el.M_Collapsible = this;\n        /**\n         * Options for the collapsible\n         * @member Collapsible#options\n         * @prop {Boolean} [accordion=false] - Type of the collapsible\n         * @prop {Function} onOpenStart - Callback function called before collapsible is opened\n         * @prop {Function} onOpenEnd - Callback function called after collapsible is opened\n         * @prop {Function} onCloseStart - Callback function called before collapsible is closed\n         * @prop {Function} onCloseEnd - Callback function called after collapsible is closed\n         * @prop {Number} inDuration - Transition in duration in milliseconds.\n         * @prop {Number} outDuration - Transition duration in milliseconds.\n         */\n        this.options = cash_dom_1.default.extend({}, Collapsible.defaults, options);\n        // Setup tab indices\n        this.$headers = this.$el.children('li').children('.collapsible-header');\n        this.$headers.attr('tabindex', 0);\n        this._setupEventHandlers();\n        // Open first active\n        let $activeBodies = this.$el.children('li.active').children('.collapsible-body');\n        if (this.options.accordion) {\n            // Handle Accordion\n            $activeBodies.first().css('display', 'block');\n        }\n        else {\n            // Handle Expandables\n            $activeBodies.css('display', 'block');\n        }\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    /**\n     * Get Instance\n     */\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Collapsible;\n    }\n    /**\n     * Teardown component\n     */\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Collapsible = undefined;\n    }\n    /**\n     * Setup Event Handlers\n     */\n    _setupEventHandlers() {\n        this._handleCollapsibleClickBound = this._handleCollapsibleClick.bind(this);\n        this._handleCollapsibleKeydownBound = this._handleCollapsibleKeydown.bind(this);\n        this.el.addEventListener('click', this._handleCollapsibleClickBound);\n        this.$headers.each((i, header) => {\n            header.addEventListener('keydown', this._handleCollapsibleKeydownBound);\n        });\n    }\n    /**\n     * Remove Event Handlers\n     */\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleCollapsibleClickBound);\n        this.$headers.each((i, header) => {\n            header.removeEventListener('keydown', this._handleCollapsibleKeydownBound);\n        });\n    }\n    /**\n     * Handle Collapsible Click\n     * @param {Event} e\n     */\n    _handleCollapsibleClick(e) {\n        let $header = (0, cash_dom_1.default)(e.target).closest('.collapsible-header');\n        if (e.target && $header.length) {\n            let $collapsible = $header.closest('.collapsible');\n            if ($collapsible[0] === this.el) {\n                let $collapsibleLi = $header.closest('li');\n                let $collapsibleLis = $collapsible.children('li');\n                let isActive = $collapsibleLi[0].classList.contains('active');\n                let index = $collapsibleLis.index($collapsibleLi);\n                if (isActive) {\n                    this.close(index);\n                }\n                else {\n                    this.open(index);\n                }\n            }\n        }\n    }\n    /**\n     * Handle Collapsible Keydown\n     * @param {Event} e\n     */\n    _handleCollapsibleKeydown(e) {\n        if (e.keyCode === 13) {\n            this._handleCollapsibleClickBound(e);\n        }\n    }\n    /**\n     * Animate in collapsible slide\n     * @param {Number} index - 0th index of slide\n     */\n    _animateIn(index) {\n        let $collapsibleLi = this.$el.children('li').eq(index);\n        if ($collapsibleLi.length) {\n            let $body = $collapsibleLi.children('.collapsible-body');\n            animejs_1.default.remove($body[0]);\n            $body.css({\n                display: 'block',\n                overflow: 'hidden',\n                height: 0,\n                paddingTop: '',\n                paddingBottom: ''\n            });\n            let pTop = $body.css('padding-top');\n            let pBottom = $body.css('padding-bottom');\n            let finalHeight = $body[0].scrollHeight;\n            $body.css({\n                paddingTop: 0,\n                paddingBottom: 0\n            });\n            (0, animejs_1.default)({\n                targets: $body[0],\n                height: finalHeight,\n                paddingTop: pTop,\n                paddingBottom: pBottom,\n                duration: this.options.inDuration,\n                easing: 'easeInOutCubic',\n                complete: (anim) => {\n                    $body.css({\n                        overflow: '',\n                        paddingTop: '',\n                        paddingBottom: '',\n                        height: ''\n                    });\n                    // onOpenEnd callback\n                    if (typeof this.options.onOpenEnd === 'function') {\n                        this.options.onOpenEnd.call(this, $collapsibleLi[0]);\n                    }\n                }\n            });\n        }\n    }\n    /**\n     * Animate out collapsible slide\n     * @param {Number} index - 0th index of slide to open\n     */\n    _animateOut(index) {\n        let $collapsibleLi = this.$el.children('li').eq(index);\n        if ($collapsibleLi.length) {\n            let $body = $collapsibleLi.children('.collapsible-body');\n            animejs_1.default.remove($body[0]);\n            $body.css('overflow', 'hidden');\n            (0, animejs_1.default)({\n                targets: $body[0],\n                height: 0,\n                paddingTop: 0,\n                paddingBottom: 0,\n                duration: this.options.outDuration,\n                easing: 'easeInOutCubic',\n                complete: () => {\n                    $body.css({\n                        height: '',\n                        overflow: '',\n                        padding: '',\n                        display: ''\n                    });\n                    // onCloseEnd callback\n                    if (typeof this.options.onCloseEnd === 'function') {\n                        this.options.onCloseEnd.call(this, $collapsibleLi[0]);\n                    }\n                }\n            });\n        }\n    }\n    /**\n     * Open Collapsible\n     * @param {Number} index - 0th index of slide\n     */\n    open(index) {\n        let $collapsibleLi = this.$el.children('li').eq(index);\n        if ($collapsibleLi.length && !$collapsibleLi[0].classList.contains('active')) {\n            // onOpenStart callback\n            if (typeof this.options.onOpenStart === 'function') {\n                this.options.onOpenStart.call(this, $collapsibleLi[0]);\n            }\n            // Handle accordion behavior\n            if (this.options.accordion) {\n                let $collapsibleLis = this.$el.children('li');\n                let $activeLis = this.$el.children('li.active');\n                $activeLis.each((i, el) => {\n                    let index = $collapsibleLis.index((0, cash_dom_1.default)(el));\n                    this.close(index);\n                });\n            }\n            // Animate in\n            $collapsibleLi[0].classList.add('active');\n            this._animateIn(index);\n        }\n    }\n    /**\n     * Close Collapsible\n     * @param {Number} index - 0th index of slide\n     */\n    close(index) {\n        let $collapsibleLi = this.$el.children('li').eq(index);\n        if ($collapsibleLi.length && $collapsibleLi[0].classList.contains('active')) {\n            // onCloseStart callback\n            if (typeof this.options.onCloseStart === 'function') {\n                this.options.onCloseStart.call(this, $collapsibleLi[0]);\n            }\n            // Animate out\n            $collapsibleLi[0].classList.remove('active');\n            this._animateOut(index);\n        }\n    }\n}\nexports.Collapsible = Collapsible;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDekQ7WUFFRCxjQUFjO1lBQ2QsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDN0MsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUN6QjtJQUNILENBQUM7Q0FDRjtBQTdQRCxrQ0E2UEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL2NvbGxhcHNpYmxlLnRzPzFkNTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgJCBmcm9tIFwiY2FzaC1kb21cIjtcbmltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5cbiAgbGV0IF9kZWZhdWx0cyA9IHtcbiAgICBhY2NvcmRpb246IHRydWUsXG4gICAgb25PcGVuU3RhcnQ6IHVuZGVmaW5lZCxcbiAgICBvbk9wZW5FbmQ6IHVuZGVmaW5lZCxcbiAgICBvbkNsb3NlU3RhcnQ6IHVuZGVmaW5lZCxcbiAgICBvbkNsb3NlRW5kOiB1bmRlZmluZWQsXG4gICAgaW5EdXJhdGlvbjogMzAwLFxuICAgIG91dER1cmF0aW9uOiAzMDBcbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ29sbGFwc2libGUgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgICRoZWFkZXJzOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlQ29sbGFwc2libGVDbGlja0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlQ29sbGFwc2libGVLZXlkb3duQm91bmQ6IGFueTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgQ29sbGFwc2libGUgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoQ29sbGFwc2libGUsIGVsLCBvcHRpb25zKTtcblxuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX0NvbGxhcHNpYmxlID0gdGhpcztcblxuICAgICAgLyoqXG4gICAgICAgKiBPcHRpb25zIGZvciB0aGUgY29sbGFwc2libGVcbiAgICAgICAqIEBtZW1iZXIgQ29sbGFwc2libGUjb3B0aW9uc1xuICAgICAgICogQHByb3Age0Jvb2xlYW59IFthY2NvcmRpb249ZmFsc2VdIC0gVHlwZSBvZiB0aGUgY29sbGFwc2libGVcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25PcGVuU3RhcnQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYmVmb3JlIGNvbGxhcHNpYmxlIGlzIG9wZW5lZFxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbk9wZW5FbmQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgY29sbGFwc2libGUgaXMgb3BlbmVkXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uQ2xvc2VTdGFydCAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBiZWZvcmUgY29sbGFwc2libGUgaXMgY2xvc2VkXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uQ2xvc2VFbmQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgY29sbGFwc2libGUgaXMgY2xvc2VkXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBpbkR1cmF0aW9uIC0gVHJhbnNpdGlvbiBpbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBvdXREdXJhdGlvbiAtIFRyYW5zaXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICAgICAgICovXG4gICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2libGUuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAvLyBTZXR1cCB0YWIgaW5kaWNlc1xuICAgICAgdGhpcy4kaGVhZGVycyA9IHRoaXMuJGVsLmNoaWxkcmVuKCdsaScpLmNoaWxkcmVuKCcuY29sbGFwc2libGUtaGVhZGVyJyk7XG4gICAgICB0aGlzLiRoZWFkZXJzLmF0dHIoJ3RhYmluZGV4JywgMCk7XG5cbiAgICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuXG4gICAgICAvLyBPcGVuIGZpcnN0IGFjdGl2ZVxuICAgICAgbGV0ICRhY3RpdmVCb2RpZXMgPSB0aGlzLiRlbC5jaGlsZHJlbignbGkuYWN0aXZlJykuY2hpbGRyZW4oJy5jb2xsYXBzaWJsZS1ib2R5Jyk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmFjY29yZGlvbikge1xuICAgICAgICAvLyBIYW5kbGUgQWNjb3JkaW9uXG4gICAgICAgICRhY3RpdmVCb2RpZXMuZmlyc3QoKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEhhbmRsZSBFeHBhbmRhYmxlc1xuICAgICAgICAkYWN0aXZlQm9kaWVzLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgIGxldCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgcmV0dXJuIGRvbUVsZW0uTV9Db2xsYXBzaWJsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX0NvbGxhcHNpYmxlID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICovXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlS2V5ZG93bkJvdW5kID0gdGhpcy5faGFuZGxlQ29sbGFwc2libGVLZXlkb3duLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ29sbGFwc2libGVDbGlja0JvdW5kKTtcbiAgICAgIHRoaXMuJGhlYWRlcnMuZWFjaCgoaSwgaGVhZGVyKSA9PiB7XG4gICAgICAgIGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlQ29sbGFwc2libGVLZXlkb3duQm91bmQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICovXG4gICAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ29sbGFwc2libGVDbGlja0JvdW5kKTtcbiAgICAgIHRoaXMuJGhlYWRlcnMuZWFjaCgoaSwgaGVhZGVyKSA9PiB7XG4gICAgICAgIGhlYWRlci5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlQ29sbGFwc2libGVLZXlkb3duQm91bmQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIENvbGxhcHNpYmxlIENsaWNrXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqL1xuICAgIF9oYW5kbGVDb2xsYXBzaWJsZUNsaWNrKGUpIHtcbiAgICAgIGxldCAkaGVhZGVyID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmNvbGxhcHNpYmxlLWhlYWRlcicpO1xuICAgICAgaWYgKGUudGFyZ2V0ICYmICRoZWFkZXIubGVuZ3RoKSB7XG4gICAgICAgIGxldCAkY29sbGFwc2libGUgPSAkaGVhZGVyLmNsb3Nlc3QoJy5jb2xsYXBzaWJsZScpO1xuICAgICAgICBpZiAoJGNvbGxhcHNpYmxlWzBdID09PSB0aGlzLmVsKSB7XG4gICAgICAgICAgbGV0ICRjb2xsYXBzaWJsZUxpID0gJGhlYWRlci5jbG9zZXN0KCdsaScpO1xuICAgICAgICAgIGxldCAkY29sbGFwc2libGVMaXMgPSAkY29sbGFwc2libGUuY2hpbGRyZW4oJ2xpJyk7XG4gICAgICAgICAgbGV0IGlzQWN0aXZlID0gJGNvbGxhcHNpYmxlTGlbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTtcbiAgICAgICAgICBsZXQgaW5kZXggPSAkY29sbGFwc2libGVMaXMuaW5kZXgoJGNvbGxhcHNpYmxlTGkpO1xuXG4gICAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKGluZGV4KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vcGVuKGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgQ29sbGFwc2libGUgS2V5ZG93blxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgKi9cbiAgICBfaGFuZGxlQ29sbGFwc2libGVLZXlkb3duKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2tCb3VuZChlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbmltYXRlIGluIGNvbGxhcHNpYmxlIHNsaWRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gMHRoIGluZGV4IG9mIHNsaWRlXG4gICAgICovXG4gICAgX2FuaW1hdGVJbihpbmRleCkge1xuICAgICAgbGV0ICRjb2xsYXBzaWJsZUxpID0gdGhpcy4kZWwuY2hpbGRyZW4oJ2xpJykuZXEoaW5kZXgpO1xuICAgICAgaWYgKCRjb2xsYXBzaWJsZUxpLmxlbmd0aCkge1xuICAgICAgICBsZXQgJGJvZHkgPSAkY29sbGFwc2libGVMaS5jaGlsZHJlbignLmNvbGxhcHNpYmxlLWJvZHknKTtcblxuICAgICAgICBhbmltLnJlbW92ZSgkYm9keVswXSk7XG4gICAgICAgICRib2R5LmNzcyh7XG4gICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgIHBhZGRpbmdUb3A6ICcnLFxuICAgICAgICAgIHBhZGRpbmdCb3R0b206ICcnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBwVG9wID0gJGJvZHkuY3NzKCdwYWRkaW5nLXRvcCcpO1xuICAgICAgICBsZXQgcEJvdHRvbSA9ICRib2R5LmNzcygncGFkZGluZy1ib3R0b20nKTtcbiAgICAgICAgbGV0IGZpbmFsSGVpZ2h0ID0gJGJvZHlbMF0uc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAkYm9keS5jc3Moe1xuICAgICAgICAgIHBhZGRpbmdUb3A6IDAsXG4gICAgICAgICAgcGFkZGluZ0JvdHRvbTogMFxuICAgICAgICB9KTtcblxuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiAkYm9keVswXSxcbiAgICAgICAgICBoZWlnaHQ6IGZpbmFsSGVpZ2h0LFxuICAgICAgICAgIHBhZGRpbmdUb3A6IHBUb3AsXG4gICAgICAgICAgcGFkZGluZ0JvdHRvbTogcEJvdHRvbSxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0Q3ViaWMnLFxuICAgICAgICAgIGNvbXBsZXRlOiAoYW5pbSkgPT4ge1xuICAgICAgICAgICAgJGJvZHkuY3NzKHtcbiAgICAgICAgICAgICAgb3ZlcmZsb3c6ICcnLFxuICAgICAgICAgICAgICBwYWRkaW5nVG9wOiAnJyxcbiAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogJycsXG4gICAgICAgICAgICAgIGhlaWdodDogJydcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBvbk9wZW5FbmQgY2FsbGJhY2tcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuRW5kLmNhbGwodGhpcywgJGNvbGxhcHNpYmxlTGlbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQW5pbWF0ZSBvdXQgY29sbGFwc2libGUgc2xpZGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSAwdGggaW5kZXggb2Ygc2xpZGUgdG8gb3BlblxuICAgICAqL1xuICAgIF9hbmltYXRlT3V0KGluZGV4KSB7XG4gICAgICBsZXQgJGNvbGxhcHNpYmxlTGkgPSB0aGlzLiRlbC5jaGlsZHJlbignbGknKS5lcShpbmRleCk7XG4gICAgICBpZiAoJGNvbGxhcHNpYmxlTGkubGVuZ3RoKSB7XG4gICAgICAgIGxldCAkYm9keSA9ICRjb2xsYXBzaWJsZUxpLmNoaWxkcmVuKCcuY29sbGFwc2libGUtYm9keScpO1xuICAgICAgICBhbmltLnJlbW92ZSgkYm9keVswXSk7XG4gICAgICAgICRib2R5LmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6ICRib2R5WzBdLFxuICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICBwYWRkaW5nVG9wOiAwLFxuICAgICAgICAgIHBhZGRpbmdCb3R0b206IDAsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRDdWJpYycsXG4gICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICRib2R5LmNzcyh7XG4gICAgICAgICAgICAgIGhlaWdodDogJycsXG4gICAgICAgICAgICAgIG92ZXJmbG93OiAnJyxcbiAgICAgICAgICAgICAgcGFkZGluZzogJycsXG4gICAgICAgICAgICAgIGRpc3BsYXk6ICcnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gb25DbG9zZUVuZCBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKHRoaXMsICRjb2xsYXBzaWJsZUxpWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9wZW4gQ29sbGFwc2libGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSAwdGggaW5kZXggb2Ygc2xpZGVcbiAgICAgKi9cbiAgICBvcGVuKGluZGV4KSB7XG4gICAgICBsZXQgJGNvbGxhcHNpYmxlTGkgPSB0aGlzLiRlbC5jaGlsZHJlbignbGknKS5lcShpbmRleCk7XG4gICAgICBpZiAoJGNvbGxhcHNpYmxlTGkubGVuZ3RoICYmICEkY29sbGFwc2libGVMaVswXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIC8vIG9uT3BlblN0YXJ0IGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgJGNvbGxhcHNpYmxlTGlbMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIGFjY29yZGlvbiBiZWhhdmlvclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFjY29yZGlvbikge1xuICAgICAgICAgIGxldCAkY29sbGFwc2libGVMaXMgPSB0aGlzLiRlbC5jaGlsZHJlbignbGknKTtcbiAgICAgICAgICBsZXQgJGFjdGl2ZUxpcyA9IHRoaXMuJGVsLmNoaWxkcmVuKCdsaS5hY3RpdmUnKTtcbiAgICAgICAgICAkYWN0aXZlTGlzLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSAkY29sbGFwc2libGVMaXMuaW5kZXgoJChlbCkpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZShpbmRleCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbmltYXRlIGluXG4gICAgICAgICRjb2xsYXBzaWJsZUxpWzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLl9hbmltYXRlSW4oaW5kZXgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb3NlIENvbGxhcHNpYmxlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gMHRoIGluZGV4IG9mIHNsaWRlXG4gICAgICovXG4gICAgY2xvc2UoaW5kZXgpIHtcbiAgICAgIGxldCAkY29sbGFwc2libGVMaSA9IHRoaXMuJGVsLmNoaWxkcmVuKCdsaScpLmVxKGluZGV4KTtcbiAgICAgIGlmICgkY29sbGFwc2libGVMaS5sZW5ndGggJiYgJGNvbGxhcHNpYmxlTGlbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICAvLyBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydC5jYWxsKHRoaXMsICRjb2xsYXBzaWJsZUxpWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFuaW1hdGUgb3V0XG4gICAgICAgICRjb2xsYXBzaWJsZUxpWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLl9hbmltYXRlT3V0KGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///995\n")},999:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { "default": mod };\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.Component = void 0;\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nclass Component {\n    constructor(classDef, el, options) {\n        this.el = el;\n        this.options = options;\n        // Display error if el is valid HTML Element\n        if (!(el instanceof Element)) {\n            console.error(Error(el + \' is not an HTML Element\'));\n        }\n        // If exists, destroy and reinitialize in child\n        let ins = classDef.getInstance(el);\n        if (!!ins) {\n            ins.destroy();\n        }\n        this.el = el;\n        this.$el = (0, cash_dom_1.default)(el);\n    }\n    static init(classDef, els, options) {\n        let instances = null;\n        if (els instanceof Element) {\n            instances = new classDef(els, options);\n        }\n        else if (!!els && (els.jquery || els.cash || els instanceof NodeList || els instanceof HTMLCollection)) {\n            let instancesArr = [];\n            for (let i = 0; i < els.length; i++) {\n                instancesArr.push(new classDef(els[i], options));\n            }\n            instances = instancesArr;\n        }\n        return instances;\n    }\n}\nexports.Component = Component;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTk5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDZEQUE0QjtBQUU1QixNQUFhLFNBQVM7SUFHcEIsWUFBWSxRQUFRLEVBQVksRUFBVyxFQUFZLE9BQU87UUFBOUIsT0FBRSxHQUFGLEVBQUUsQ0FBUztRQUFZLFlBQU8sR0FBUCxPQUFPO1FBQzVELDRDQUE0QztRQUM1QyxJQUFJLENBQUMsQ0FBQyxFQUFFLFlBQVksT0FBTyxDQUFDLEVBQUU7WUFDNUIsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLHlCQUF5QixDQUFDLENBQUMsQ0FBQztTQUN0RDtRQUNELCtDQUErQztRQUMvQyxJQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRTtZQUNULEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUNmO1FBQ0QsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsR0FBRyxHQUFHLHNCQUFJLEVBQUMsRUFBRSxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxPQUFPO1FBQ2hDLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLEdBQUcsWUFBWSxPQUFPLEVBQUU7WUFDMUIsU0FBUyxHQUFHLElBQUksUUFBUSxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUN4QzthQUNJLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLElBQUksSUFBSSxHQUFHLFlBQVksUUFBUSxJQUFJLEdBQUcsWUFBWSxjQUFjLENBQUMsRUFBRTtZQUN0RyxJQUFJLFlBQVksR0FBRyxFQUFFLENBQUM7WUFDdEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ25DLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7YUFDbEQ7WUFDRCxTQUFTLEdBQUcsWUFBWSxDQUFDO1NBQzFCO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQztDQUNGO0FBL0JELDhCQStCQyIsInNvdXJjZXMiOlsid2VicGFjazovL00vLi9zcmMvY29tcG9uZW50LnRzPzQzOWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNhc2ggZnJvbSBcImNhc2gtZG9tXCI7XG5cbmV4cG9ydCBjbGFzcyBDb21wb25lbnQge1xuICAkZWw6IGFueTtcblxuICBjb25zdHJ1Y3RvcihjbGFzc0RlZiwgcHJvdGVjdGVkIGVsOiBFbGVtZW50LCBwcm90ZWN0ZWQgb3B0aW9ucykge1xuICAgIC8vIERpc3BsYXkgZXJyb3IgaWYgZWwgaXMgdmFsaWQgSFRNTCBFbGVtZW50XG4gICAgaWYgKCEoZWwgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgICAgY29uc29sZS5lcnJvcihFcnJvcihlbCArICcgaXMgbm90IGFuIEhUTUwgRWxlbWVudCcpKTtcbiAgICB9XG4gICAgLy8gSWYgZXhpc3RzLCBkZXN0cm95IGFuZCByZWluaXRpYWxpemUgaW4gY2hpbGRcbiAgICBsZXQgaW5zID0gY2xhc3NEZWYuZ2V0SW5zdGFuY2UoZWwpO1xuICAgIGlmICghIWlucykge1xuICAgICAgaW5zLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIHRoaXMuJGVsID0gY2FzaChlbCk7XG4gIH1cblxuICBzdGF0aWMgaW5pdChjbGFzc0RlZiwgZWxzLCBvcHRpb25zKSB7XG4gICAgbGV0IGluc3RhbmNlcyA9IG51bGw7XG4gICAgaWYgKGVscyBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgIGluc3RhbmNlcyA9IG5ldyBjbGFzc0RlZihlbHMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIGlmICghIWVscyAmJiAoZWxzLmpxdWVyeSB8fCBlbHMuY2FzaCB8fCBlbHMgaW5zdGFuY2VvZiBOb2RlTGlzdCB8fCBlbHMgaW5zdGFuY2VvZiBIVE1MQ29sbGVjdGlvbikpIHtcbiAgICAgIGxldCBpbnN0YW5jZXNBcnIgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGluc3RhbmNlc0Fyci5wdXNoKG5ldyBjbGFzc0RlZihlbHNbaV0sIG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICAgIGluc3RhbmNlcyA9IGluc3RhbmNlc0FycjtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlcztcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///999\n')},457:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Datepicker = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst global_1 = __webpack_require__(238);\nconst modal_1 = __webpack_require__(799);\nlet _defaults = {\n    // Close when date is selected\n    autoClose: false,\n    // the default output format for the input field value\n    format: 'mmm dd, yyyy',\n    // Used to create date object from current input string\n    parse: null,\n    // The initial date to view when first opened\n    defaultDate: null,\n    // Make the `defaultDate` the initial selected value\n    setDefaultDate: false,\n    disableWeekends: false,\n    disableDayFn: null,\n    // First day of week (0: Sunday, 1: Monday etc)\n    firstDay: 0,\n    // The earliest date that can be selected\n    minDate: null,\n    // Thelatest date that can be selected\n    maxDate: null,\n    // Number of years either side, or array of upper/lower range\n    yearRange: 10,\n    // used internally (don't config outside)\n    minYear: 0,\n    maxYear: 9999,\n    minMonth: undefined,\n    maxMonth: undefined,\n    startRange: null,\n    endRange: null,\n    isRTL: false,\n    // Render the month after year in the calendar title\n    showMonthAfterYear: false,\n    // Render days of the calendar grid that fall in the next or previous month\n    showDaysInNextAndPreviousMonths: false,\n    // Specify a DOM element to render the calendar in\n    container: null,\n    // Show clear button\n    showClearBtn: false,\n    // internationalization\n    i18n: {\n        cancel: 'Cancel',\n        clear: 'Clear',\n        done: 'Ok',\n        previousMonth: 'â¹',\n        nextMonth: 'âº',\n        months: [\n            'January',\n            'February',\n            'March',\n            'April',\n            'May',\n            'June',\n            'July',\n            'August',\n            'September',\n            'October',\n            'November',\n            'December'\n        ],\n        monthsShort: [\n            'Jan',\n            'Feb',\n            'Mar',\n            'Apr',\n            'May',\n            'Jun',\n            'Jul',\n            'Aug',\n            'Sep',\n            'Oct',\n            'Nov',\n            'Dec'\n        ],\n        weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n        weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n        weekdaysAbbrev: ['S', 'M', 'T', 'W', 'T', 'F', 'S']\n    },\n    // events array\n    events: [],\n    // callback function\n    onSelect: null,\n    onOpen: null,\n    onClose: null,\n    onDraw: null\n};\n/**\n * @class\n *\n */\nclass Datepicker extends component_1.Component {\n    /**\n     * Construct Datepicker instance and set up overlay\n     * @constructor\n     * @param {Element} el\n     * @param {Object} options\n     */\n    constructor(el, options) {\n        super(Datepicker, el, options);\n        this.el.M_Datepicker = this;\n        this.options = cash_dom_1.default.extend({}, Datepicker.defaults, options);\n        // make sure i18n defaults are not lost when only few i18n option properties are passed\n        if (!!options && options.hasOwnProperty('i18n') && typeof options.i18n === 'object') {\n            this.options.i18n = cash_dom_1.default.extend({}, Datepicker.defaults.i18n, options.i18n);\n        }\n        // Remove time component from minDate and maxDate options\n        if (this.options.minDate)\n            this.options.minDate.setHours(0, 0, 0, 0);\n        if (this.options.maxDate)\n            this.options.maxDate.setHours(0, 0, 0, 0);\n        this.id = global_1.M.guid();\n        this._setupVariables();\n        this._insertHTMLIntoDOM();\n        this._setupModal();\n        this._setupEventHandlers();\n        if (!this.options.defaultDate) {\n            this.options.defaultDate = new Date(Date.parse(this.el.value));\n        }\n        let defDate = this.options.defaultDate;\n        if (Datepicker._isDate(defDate)) {\n            if (this.options.setDefaultDate) {\n                this.setDate(defDate, true);\n                this.setInputValue();\n            }\n            else {\n                this.gotoDate(defDate);\n            }\n        }\n        else {\n            this.gotoDate(new Date());\n        }\n        /**\n         * Describes open/close state of datepicker\n         * @type {Boolean}\n         */\n        this.isOpen = false;\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static _isDate(obj) {\n        return /Date/.test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    }\n    static _isWeekend(date) {\n        let day = date.getDay();\n        return day === 0 || day === 6;\n    }\n    static _setToStartOfDay(date) {\n        if (Datepicker._isDate(date))\n            date.setHours(0, 0, 0, 0);\n    }\n    static _getDaysInMonth(year, month) {\n        return [31, Datepicker._isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    }\n    static _isLeapYear(year) {\n        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n    static _compareDates(a, b) {\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n        return a.getTime() === b.getTime();\n    }\n    /**\n     * Get Instance\n     */\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Datepicker;\n    }\n    /**\n     * Teardown component\n     */\n    destroy() {\n        this._removeEventHandlers();\n        this.modal.destroy();\n        (0, cash_dom_1.default)(this.modalEl).remove();\n        this.destroySelects();\n        this.el.M_Datepicker = undefined;\n    }\n    destroySelects() {\n        let oldYearSelect = this.calendarEl.querySelector('.orig-select-year');\n        if (oldYearSelect) {\n            global_1.M.FormSelect.getInstance(oldYearSelect).destroy();\n        }\n        let oldMonthSelect = this.calendarEl.querySelector('.orig-select-month');\n        if (oldMonthSelect) {\n            global_1.M.FormSelect.getInstance(oldMonthSelect).destroy();\n        }\n    }\n    _insertHTMLIntoDOM() {\n        if (this.options.showClearBtn) {\n            (0, cash_dom_1.default)(this.clearBtn).css({ visibility: '' });\n            this.clearBtn.innerHTML = this.options.i18n.clear;\n        }\n        this.doneBtn.innerHTML = this.options.i18n.done;\n        this.cancelBtn.innerHTML = this.options.i18n.cancel;\n        if (this.options.container) {\n            const optEl = this.options.container;\n            this.options.container =\n                optEl instanceof HTMLElement ? optEl : document.querySelector(optEl);\n            this.$modalEl.appendTo(this.options.container);\n        }\n        else {\n            this.$modalEl.insertBefore(this.el);\n        }\n    }\n    _setupModal() {\n        this.modalEl.id = 'modal-' + this.id;\n        this.modal = modal_1.Modal.init(this.modalEl, {\n            onCloseEnd: () => {\n                this.isOpen = false;\n            }\n        });\n    }\n    toString(format = null) {\n        format = format || this.options.format;\n        if (typeof format === 'function') {\n            return format(this.date);\n        }\n        if (!Datepicker._isDate(this.date)) {\n            return '';\n        }\n        let formatArray = format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g);\n        let formattedDate = formatArray\n            .map((label) => {\n            if (this.formats[label]) {\n                return this.formats[label]();\n            }\n            return label;\n        })\n            .join('');\n        return formattedDate;\n    }\n    setDate(date, preventOnSelect = false) {\n        if (!date) {\n            this.date = null;\n            this._renderDateDisplay();\n            return this.draw();\n        }\n        if (typeof date === 'string') {\n            date = new Date(Date.parse(date));\n        }\n        if (!Datepicker._isDate(date)) {\n            return;\n        }\n        let min = this.options.minDate, max = this.options.maxDate;\n        if (Datepicker._isDate(min) && date < min) {\n            date = min;\n        }\n        else if (Datepicker._isDate(max) && date > max) {\n            date = max;\n        }\n        this.date = new Date(date.getTime());\n        this._renderDateDisplay();\n        Datepicker._setToStartOfDay(this.date);\n        this.gotoDate(this.date);\n        if (!preventOnSelect && typeof this.options.onSelect === 'function') {\n            this.options.onSelect.call(this, this.date);\n        }\n    }\n    setInputValue() {\n        this.el.value = this.toString();\n        this.$el.trigger('change', { firedBy: this });\n    }\n    _renderDateDisplay() {\n        let displayDate = Datepicker._isDate(this.date) ? this.date : new Date();\n        let i18n = this.options.i18n;\n        let day = i18n.weekdaysShort[displayDate.getDay()];\n        let month = i18n.monthsShort[displayDate.getMonth()];\n        let date = displayDate.getDate();\n        this.yearTextEl.innerHTML = displayDate.getFullYear();\n        this.dateTextEl.innerHTML = `${day}, ${month} ${date}`;\n    }\n    /**\n     * change view to a specific date\n     */\n    gotoDate(date) {\n        let newCalendar = true;\n        if (!Datepicker._isDate(date)) {\n            return;\n        }\n        if (this.calendars) {\n            let firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1), lastVisibleDate = new Date(this.calendars[this.calendars.length - 1].year, this.calendars[this.calendars.length - 1].month, 1), visibleDate = date.getTime();\n            // get the end of the month\n            lastVisibleDate.setMonth(lastVisibleDate.getMonth() + 1);\n            lastVisibleDate.setDate(lastVisibleDate.getDate() - 1);\n            newCalendar =\n                visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate;\n        }\n        if (newCalendar) {\n            this.calendars = [\n                {\n                    month: date.getMonth(),\n                    year: date.getFullYear()\n                }\n            ];\n        }\n        this.adjustCalendars();\n    }\n    adjustCalendars() {\n        this.calendars[0] = this.adjustCalendar(this.calendars[0]);\n        this.draw();\n    }\n    adjustCalendar(calendar) {\n        if (calendar.month < 0) {\n            calendar.year -= Math.ceil(Math.abs(calendar.month) / 12);\n            calendar.month += 12;\n        }\n        if (calendar.month > 11) {\n            calendar.year += Math.floor(Math.abs(calendar.month) / 12);\n            calendar.month -= 12;\n        }\n        return calendar;\n    }\n    nextMonth() {\n        this.calendars[0].month++;\n        this.adjustCalendars();\n    }\n    prevMonth() {\n        this.calendars[0].month--;\n        this.adjustCalendars();\n    }\n    render(year, month, randId) {\n        let opts = this.options, now = new Date(), days = Datepicker._getDaysInMonth(year, month), before = new Date(year, month, 1).getDay(), data = [], row = [];\n        Datepicker._setToStartOfDay(now);\n        if (opts.firstDay > 0) {\n            before -= opts.firstDay;\n            if (before < 0) {\n                before += 7;\n            }\n        }\n        let previousMonth = month === 0 ? 11 : month - 1, nextMonth = month === 11 ? 0 : month + 1, yearOfPreviousMonth = month === 0 ? year - 1 : year, yearOfNextMonth = month === 11 ? year + 1 : year, daysInPreviousMonth = Datepicker._getDaysInMonth(yearOfPreviousMonth, previousMonth);\n        let cells = days + before, after = cells;\n        while (after > 7) {\n            after -= 7;\n        }\n        cells += 7 - after;\n        let isWeekSelected = false;\n        for (let i = 0, r = 0; i < cells; i++) {\n            let day = new Date(year, month, 1 + (i - before)), isSelected = Datepicker._isDate(this.date)\n                ? Datepicker._compareDates(day, this.date)\n                : false, isToday = Datepicker._compareDates(day, now), hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false, isEmpty = i < before || i >= days + before, dayNumber = 1 + (i - before), monthNumber = month, yearNumber = year, isStartRange = opts.startRange && Datepicker._compareDates(opts.startRange, day), isEndRange = opts.endRange && Datepicker._compareDates(opts.endRange, day), isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange, isDisabled = (opts.minDate && day < opts.minDate) ||\n                (opts.maxDate && day > opts.maxDate) ||\n                (opts.disableWeekends && Datepicker._isWeekend(day)) ||\n                (opts.disableDayFn && opts.disableDayFn(day));\n            if (isEmpty) {\n                if (i < before) {\n                    dayNumber = daysInPreviousMonth + dayNumber;\n                    monthNumber = previousMonth;\n                    yearNumber = yearOfPreviousMonth;\n                }\n                else {\n                    dayNumber = dayNumber - days;\n                    monthNumber = nextMonth;\n                    yearNumber = yearOfNextMonth;\n                }\n            }\n            let dayConfig = {\n                day: dayNumber,\n                month: monthNumber,\n                year: yearNumber,\n                hasEvent: hasEvent,\n                isSelected: isSelected,\n                isToday: isToday,\n                isDisabled: isDisabled,\n                isEmpty: isEmpty,\n                isStartRange: isStartRange,\n                isEndRange: isEndRange,\n                isInRange: isInRange,\n                showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths\n            };\n            row.push(this.renderDay(dayConfig));\n            if (++r === 7) {\n                data.push(this.renderRow(row, opts.isRTL, isWeekSelected));\n                row = [];\n                r = 0;\n                isWeekSelected = false;\n            }\n        }\n        return this.renderTable(opts, data, randId);\n    }\n    renderDay(opts) {\n        let arr = [];\n        let ariaSelected = 'false';\n        if (opts.isEmpty) {\n            if (opts.showDaysInNextAndPreviousMonths) {\n                arr.push('is-outside-current-month');\n                arr.push('is-selection-disabled');\n            }\n            else {\n                return '<td class=\"is-empty\"></td>';\n            }\n        }\n        if (opts.isDisabled) {\n            arr.push('is-disabled');\n        }\n        if (opts.isToday) {\n            arr.push('is-today');\n        }\n        if (opts.isSelected) {\n            arr.push('is-selected');\n            ariaSelected = 'true';\n        }\n        if (opts.hasEvent) {\n            arr.push('has-event');\n        }\n        if (opts.isInRange) {\n            arr.push('is-inrange');\n        }\n        if (opts.isStartRange) {\n            arr.push('is-startrange');\n        }\n        if (opts.isEndRange) {\n            arr.push('is-endrange');\n        }\n        return (`<td data-day=\"${opts.day}\" class=\"${arr.join(' ')}\" aria-selected=\"${ariaSelected}\">` +\n            `<button class=\"datepicker-day-button\" type=\"button\" data-year=\"${opts.year}\" data-month=\"${opts.month}\" data-day=\"${opts.day}\">${opts.day}</button>` +\n            '</td>');\n    }\n    renderRow(days, isRTL, isRowSelected) {\n        return ('<tr class=\"datepicker-row' +\n            (isRowSelected ? ' is-selected' : '') +\n            '\">' +\n            (isRTL ? days.reverse() : days).join('') +\n            '</tr>');\n    }\n    renderTable(opts, data, randId) {\n        return ('<div class=\"datepicker-table-wrapper\"><table cellpadding=\"0\" cellspacing=\"0\" class=\"datepicker-table\" role=\"grid\" aria-labelledby=\"' +\n            randId +\n            '\">' +\n            this.renderHead(opts) +\n            this.renderBody(data) +\n            '</table></div>');\n    }\n    renderHead(opts) {\n        let i, arr = [];\n        for (i = 0; i < 7; i++) {\n            arr.push(`<th scope=\"col\"><abbr title=\"${this.renderDayName(opts, i)}\">${this.renderDayName(opts, i, true)}</abbr></th>`);\n        }\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    }\n    renderBody(rows) {\n        return '<tbody>' + rows.join('') + '</tbody>';\n    }\n    renderTitle(instance, c, year, month, refYear, randId) {\n        let i, j, arr, opts = this.options, isMinYear = year === opts.minYear, isMaxYear = year === opts.maxYear, html = '<div id=\"' +\n            randId +\n            '\" class=\"datepicker-controls\" role=\"heading\" aria-live=\"assertive\">', monthHtml, yearHtml, prev = true, next = true;\n        for (arr = [], i = 0; i < 12; i++) {\n            arr.push('<option value=\"' +\n                (year === refYear ? i - c : 12 + i - c) +\n                '\"' +\n                (i === month ? ' selected=\"selected\"' : '') +\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth)\n                    ? 'disabled=\"disabled\"'\n                    : '') +\n                '>' +\n                opts.i18n.months[i] +\n                '</option>');\n        }\n        monthHtml =\n            '<select class=\"datepicker-select orig-select-month\" tabindex=\"-1\">' +\n                arr.join('') +\n                '</select>';\n        if (cash_dom_1.default.isArray(opts.yearRange)) {\n            i = opts.yearRange[0];\n            j = opts.yearRange[1] + 1;\n        }\n        else {\n            i = year - opts.yearRange;\n            j = 1 + year + opts.yearRange;\n        }\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\n            if (i >= opts.minYear) {\n                arr.push(`<option value=\"${i}\" ${i === year ? 'selected=\"selected\"' : ''}>${i}</option>`);\n            }\n        }\n        if (opts.yearRangeReverse) {\n            arr.reverse();\n        }\n        yearHtml = `<select class=\"datepicker-select orig-select-year\" tabindex=\"-1\">${arr.join('')}</select>`;\n        let leftArrow = '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"/><path d=\"M0-.5h24v24H0z\" fill=\"none\"/></svg>';\n        html += `<button class=\"month-prev${prev ? '' : ' is-disabled'} btn-flat\" type=\"button\">${leftArrow}</button>`;\n        html += '<div class=\"selects-container\">';\n        if (opts.showMonthAfterYear) {\n            html += yearHtml + monthHtml;\n        }\n        else {\n            html += monthHtml + yearHtml;\n        }\n        html += '</div>';\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n            prev = false;\n        }\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n            next = false;\n        }\n        let rightArrow = '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"/><path d=\"M0-.25h24v24H0z\" fill=\"none\"/></svg>';\n        html += `<button class=\"month-next${next ? '' : ' is-disabled'} btn-flat\" type=\"button\">${rightArrow}</button>`;\n        return (html += '</div>');\n    }\n    /**\n     * refresh the HTML\n     */\n    draw(force = false) {\n        if (!this.isOpen && !force) {\n            return;\n        }\n        let opts = this.options, minYear = opts.minYear, maxYear = opts.maxYear, minMonth = opts.minMonth, maxMonth = opts.maxMonth, html = '', randId;\n        if (this._y <= minYear) {\n            this._y = minYear;\n            if (!isNaN(minMonth) && this._m < minMonth) {\n                this._m = minMonth;\n            }\n        }\n        if (this._y >= maxYear) {\n            this._y = maxYear;\n            if (!isNaN(maxMonth) && this._m > maxMonth) {\n                this._m = maxMonth;\n            }\n        }\n        randId =\n            'datepicker-title-' +\n                Math.random()\n                    .toString(36)\n                    .replace(/[^a-z]+/g, '')\n                    .substr(0, 2);\n        for (let c = 0; c < 1; c++) {\n            this._renderDateDisplay();\n            html +=\n                this.renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId);\n        }\n        this.destroySelects();\n        this.calendarEl.innerHTML = html;\n        // Init Materialize Select\n        let yearSelect = this.calendarEl.querySelector('.orig-select-year');\n        let monthSelect = this.calendarEl.querySelector('.orig-select-month');\n        global_1.M.FormSelect.init(yearSelect, {\n            classes: 'select-year',\n            dropdownOptions: { container: document.body, constrainWidth: false }\n        });\n        global_1.M.FormSelect.init(monthSelect, {\n            classes: 'select-month',\n            dropdownOptions: { container: document.body, constrainWidth: false }\n        });\n        // Add change handlers for select\n        yearSelect.addEventListener('change', this._handleYearChange.bind(this));\n        monthSelect.addEventListener('change', this._handleMonthChange.bind(this));\n        if (typeof this.options.onDraw === 'function') {\n            this.options.onDraw(this);\n        }\n    }\n    /**\n     * Setup Event Handlers\n     */\n    _setupEventHandlers() {\n        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);\n        this._handleInputClickBound = this._handleInputClick.bind(this);\n        this._handleInputChangeBound = this._handleInputChange.bind(this);\n        this._handleCalendarClickBound = this._handleCalendarClick.bind(this);\n        this._finishSelectionBound = this._finishSelection.bind(this);\n        this._handleMonthChange = this._handleMonthChange.bind(this);\n        this._closeBound = this.close.bind(this);\n        this.el.addEventListener('click', this._handleInputClickBound);\n        this.el.addEventListener('keydown', this._handleInputKeydownBound);\n        this.el.addEventListener('change', this._handleInputChangeBound);\n        this.calendarEl.addEventListener('click', this._handleCalendarClickBound);\n        this.doneBtn.addEventListener('click', this._finishSelectionBound);\n        this.cancelBtn.addEventListener('click', this._closeBound);\n        if (this.options.showClearBtn) {\n            this._handleClearClickBound = this._handleClearClick.bind(this);\n            this.clearBtn.addEventListener('click', this._handleClearClickBound);\n        }\n    }\n    _setupVariables() {\n        this.$modalEl = (0, cash_dom_1.default)(Datepicker._template);\n        this.modalEl = this.$modalEl[0];\n        this.calendarEl = this.modalEl.querySelector('.datepicker-calendar');\n        this.yearTextEl = this.modalEl.querySelector('.year-text');\n        this.dateTextEl = this.modalEl.querySelector('.date-text');\n        if (this.options.showClearBtn) {\n            this.clearBtn = this.modalEl.querySelector('.datepicker-clear');\n        }\n        this.doneBtn = this.modalEl.querySelector('.datepicker-done');\n        this.cancelBtn = this.modalEl.querySelector('.datepicker-cancel');\n        this.formats = {\n            d: () => {\n                return this.date.getDate();\n            },\n            dd: () => {\n                let d = this.date.getDate();\n                return (d < 10 ? '0' : '') + d;\n            },\n            ddd: () => {\n                return this.options.i18n.weekdaysShort[this.date.getDay()];\n            },\n            dddd: () => {\n                return this.options.i18n.weekdays[this.date.getDay()];\n            },\n            m: () => {\n                return this.date.getMonth() + 1;\n            },\n            mm: () => {\n                let m = this.date.getMonth() + 1;\n                return (m < 10 ? '0' : '') + m;\n            },\n            mmm: () => {\n                return this.options.i18n.monthsShort[this.date.getMonth()];\n            },\n            mmmm: () => {\n                return this.options.i18n.months[this.date.getMonth()];\n            },\n            yy: () => {\n                return ('' + this.date.getFullYear()).slice(2);\n            },\n            yyyy: () => {\n                return this.date.getFullYear();\n            }\n        };\n    }\n    /**\n     * Remove Event Handlers\n     */\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleInputClickBound);\n        this.el.removeEventListener('keydown', this._handleInputKeydownBound);\n        this.el.removeEventListener('change', this._handleInputChangeBound);\n        this.calendarEl.removeEventListener('click', this._handleCalendarClickBound);\n    }\n    _handleInputClick() {\n        this.open();\n    }\n    _handleInputKeydown(e) {\n        if (e.which === global_1.M.keys.ENTER) {\n            e.preventDefault();\n            this.open();\n        }\n    }\n    _handleCalendarClick(e) {\n        if (!this.isOpen) {\n            return;\n        }\n        let $target = (0, cash_dom_1.default)(e.target);\n        if (!$target.hasClass('is-disabled')) {\n            if ($target.hasClass('datepicker-day-button') &&\n                !$target.hasClass('is-empty') &&\n                !$target.parent().hasClass('is-disabled')) {\n                this.setDate(new Date(e.target.getAttribute('data-year'), e.target.getAttribute('data-month'), e.target.getAttribute('data-day')));\n                if (this.options.autoClose) {\n                    this._finishSelection();\n                }\n            }\n            else if ($target.closest('.month-prev').length) {\n                this.prevMonth();\n            }\n            else if ($target.closest('.month-next').length) {\n                this.nextMonth();\n            }\n        }\n    }\n    _handleClearClick() {\n        this.date = null;\n        this.setInputValue();\n        this.close();\n    }\n    _handleMonthChange(e) {\n        this.gotoMonth(e.target.value);\n    }\n    _handleYearChange(e) {\n        this.gotoYear(e.target.value);\n    }\n    /**\n     * change view to a specific month (zero-index, e.g. 0: January)\n     */\n    gotoMonth(month) {\n        if (!isNaN(month)) {\n            this.calendars[0].month = parseInt(month, 10);\n            this.adjustCalendars();\n        }\n    }\n    /**\n     * change view to a specific full year (e.g. \"2012\")\n     */\n    gotoYear(year) {\n        if (!isNaN(year)) {\n            this.calendars[0].year = parseInt(year, 10);\n            this.adjustCalendars();\n        }\n    }\n    _handleInputChange(e) {\n        let date;\n        // Prevent change event from being fired when triggered by the plugin\n        if (e.firedBy === this) {\n            return;\n        }\n        if (this.options.parse) {\n            date = this.options.parse(this.el.value, this.options.format);\n        }\n        else {\n            date = new Date(Date.parse(this.el.value));\n        }\n        if (Datepicker._isDate(date)) {\n            this.setDate(date);\n        }\n    }\n    renderDayName(opts, day, abbr = false) {\n        day += opts.firstDay;\n        while (day >= 7) {\n            day -= 7;\n        }\n        return abbr ? opts.i18n.weekdaysAbbrev[day] : opts.i18n.weekdays[day];\n    }\n    /**\n     * Set input value to the selected date and close Datepicker\n     */\n    _finishSelection() {\n        this.setInputValue();\n        this.close();\n    }\n    /**\n     * Open Datepicker\n     */\n    open() {\n        if (this.isOpen) {\n            return;\n        }\n        this.isOpen = true;\n        if (typeof this.options.onOpen === 'function') {\n            this.options.onOpen.call(this);\n        }\n        this.draw();\n        this.modal.open();\n        return this;\n    }\n    /**\n     * Close Datepicker\n     */\n    close() {\n        if (!this.isOpen) {\n            return;\n        }\n        this.isOpen = false;\n        if (typeof this.options.onClose === 'function') {\n            this.options.onClose.call(this);\n        }\n        this.modal.close();\n        return this;\n    }\n}\nexports.Datepicker = Datepicker;\n(() => {\n    Datepicker._template = [\n        '<div class= \"modal datepicker-modal\">',\n        '<div class=\"modal-content datepicker-container\">',\n        '<div class=\"datepicker-date-display\">',\n        '<span class=\"year-text\"></span>',\n        '<span class=\"date-text\"></span>',\n        '</div>',\n        '<div class=\"datepicker-calendar-container\">',\n        '<div class=\"datepicker-calendar\"></div>',\n        '<div class=\"datepicker-footer\">',\n        '<button class=\"btn-flat datepicker-clear waves-effect\" style=\"visibility: hidden;\" type=\"button\"></button>',\n        '<div class=\"confirmation-btns\">',\n        '<button class=\"btn-flat datepicker-cancel waves-effect\" type=\"button\"></button>',\n        '<button class=\"btn-flat datepicker-done waves-effect\" type=\"button\"></button>',\n        '</div>',\n        '</div>',\n        '</div>',\n        '</div>',\n        '</div>'\n    ].join('');\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2xCLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVEOztPQUVHO0lBQ0gsS0FBSztRQUNILElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2hCLE9BQU87U0FDUjtRQUVELElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sS0FBSyxVQUFVLEVBQUU7WUFDOUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2pDO1FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNuQixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7Q0EwQkY7QUF6M0JELGdDQXkzQkM7QUF4QkM7SUFFRSxVQUFVLENBQUMsU0FBUyxHQUFHO1FBQ3JCLHVDQUF1QztRQUN2QyxrREFBa0Q7UUFDbEQsdUNBQXVDO1FBQ3ZDLGlDQUFpQztRQUNqQyxpQ0FBaUM7UUFDakMsUUFBUTtRQUNSLDZDQUE2QztRQUM3Qyx5Q0FBeUM7UUFDekMsaUNBQWlDO1FBQ2pDLDRHQUE0RztRQUM1RyxpQ0FBaUM7UUFDakMsaUZBQWlGO1FBQ2pGLCtFQUErRTtRQUMvRSxRQUFRO1FBQ1IsUUFBUTtRQUNSLFFBQVE7UUFDUixRQUFRO1FBQ1IsUUFBUTtLQUNULENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBRWIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL00vLi9zcmMvZGF0ZXBpY2tlci50cz9hOTM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0ICQgZnJvbSBcImNhc2gtZG9tXCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gXCIuL21vZGFsXCI7XG5cbiAgbGV0IF9kZWZhdWx0cyA9IHtcbiAgICAvLyBDbG9zZSB3aGVuIGRhdGUgaXMgc2VsZWN0ZWRcbiAgICBhdXRvQ2xvc2U6IGZhbHNlLFxuXG4gICAgLy8gdGhlIGRlZmF1bHQgb3V0cHV0IGZvcm1hdCBmb3IgdGhlIGlucHV0IGZpZWxkIHZhbHVlXG4gICAgZm9ybWF0OiAnbW1tIGRkLCB5eXl5JyxcblxuICAgIC8vIFVzZWQgdG8gY3JlYXRlIGRhdGUgb2JqZWN0IGZyb20gY3VycmVudCBpbnB1dCBzdHJpbmdcbiAgICBwYXJzZTogbnVsbCxcblxuICAgIC8vIFRoZSBpbml0aWFsIGRhdGUgdG8gdmlldyB3aGVuIGZpcnN0IG9wZW5lZFxuICAgIGRlZmF1bHREYXRlOiBudWxsLFxuXG4gICAgLy8gTWFrZSB0aGUgYGRlZmF1bHREYXRlYCB0aGUgaW5pdGlhbCBzZWxlY3RlZCB2YWx1ZVxuICAgIHNldERlZmF1bHREYXRlOiBmYWxzZSxcblxuICAgIGRpc2FibGVXZWVrZW5kczogZmFsc2UsXG5cbiAgICBkaXNhYmxlRGF5Rm46IG51bGwsXG5cbiAgICAvLyBGaXJzdCBkYXkgb2Ygd2VlayAoMDogU3VuZGF5LCAxOiBNb25kYXkgZXRjKVxuICAgIGZpcnN0RGF5OiAwLFxuXG4gICAgLy8gVGhlIGVhcmxpZXN0IGRhdGUgdGhhdCBjYW4gYmUgc2VsZWN0ZWRcbiAgICBtaW5EYXRlOiBudWxsLFxuICAgIC8vIFRoZWxhdGVzdCBkYXRlIHRoYXQgY2FuIGJlIHNlbGVjdGVkXG4gICAgbWF4RGF0ZTogbnVsbCxcblxuICAgIC8vIE51bWJlciBvZiB5ZWFycyBlaXRoZXIgc2lkZSwgb3IgYXJyYXkgb2YgdXBwZXIvbG93ZXIgcmFuZ2VcbiAgICB5ZWFyUmFuZ2U6IDEwLFxuXG4gICAgLy8gdXNlZCBpbnRlcm5hbGx5IChkb24ndCBjb25maWcgb3V0c2lkZSlcbiAgICBtaW5ZZWFyOiAwLFxuICAgIG1heFllYXI6IDk5OTksXG4gICAgbWluTW9udGg6IHVuZGVmaW5lZCxcbiAgICBtYXhNb250aDogdW5kZWZpbmVkLFxuXG4gICAgc3RhcnRSYW5nZTogbnVsbCxcbiAgICBlbmRSYW5nZTogbnVsbCxcblxuICAgIGlzUlRMOiBmYWxzZSxcblxuICAgIC8vIFJlbmRlciB0aGUgbW9udGggYWZ0ZXIgeWVhciBpbiB0aGUgY2FsZW5kYXIgdGl0bGVcbiAgICBzaG93TW9udGhBZnRlclllYXI6IGZhbHNlLFxuXG4gICAgLy8gUmVuZGVyIGRheXMgb2YgdGhlIGNhbGVuZGFyIGdyaWQgdGhhdCBmYWxsIGluIHRoZSBuZXh0IG9yIHByZXZpb3VzIG1vbnRoXG4gICAgc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRoczogZmFsc2UsXG5cbiAgICAvLyBTcGVjaWZ5IGEgRE9NIGVsZW1lbnQgdG8gcmVuZGVyIHRoZSBjYWxlbmRhciBpblxuICAgIGNvbnRhaW5lcjogbnVsbCxcblxuICAgIC8vIFNob3cgY2xlYXIgYnV0dG9uXG4gICAgc2hvd0NsZWFyQnRuOiBmYWxzZSxcblxuICAgIC8vIGludGVybmF0aW9uYWxpemF0aW9uXG4gICAgaTE4bjoge1xuICAgICAgY2FuY2VsOiAnQ2FuY2VsJyxcbiAgICAgIGNsZWFyOiAnQ2xlYXInLFxuICAgICAgZG9uZTogJ09rJyxcbiAgICAgIHByZXZpb3VzTW9udGg6ICfigLknLFxuICAgICAgbmV4dE1vbnRoOiAn4oC6JyxcbiAgICAgIG1vbnRoczogW1xuICAgICAgICAnSmFudWFyeScsXG4gICAgICAgICdGZWJydWFyeScsXG4gICAgICAgICdNYXJjaCcsXG4gICAgICAgICdBcHJpbCcsXG4gICAgICAgICdNYXknLFxuICAgICAgICAnSnVuZScsXG4gICAgICAgICdKdWx5JyxcbiAgICAgICAgJ0F1Z3VzdCcsXG4gICAgICAgICdTZXB0ZW1iZXInLFxuICAgICAgICAnT2N0b2JlcicsXG4gICAgICAgICdOb3ZlbWJlcicsXG4gICAgICAgICdEZWNlbWJlcidcbiAgICAgIF0sXG4gICAgICBtb250aHNTaG9ydDogW1xuICAgICAgICAnSmFuJyxcbiAgICAgICAgJ0ZlYicsXG4gICAgICAgICdNYXInLFxuICAgICAgICAnQXByJyxcbiAgICAgICAgJ01heScsXG4gICAgICAgICdKdW4nLFxuICAgICAgICAnSnVsJyxcbiAgICAgICAgJ0F1ZycsXG4gICAgICAgICdTZXAnLFxuICAgICAgICAnT2N0JyxcbiAgICAgICAgJ05vdicsXG4gICAgICAgICdEZWMnXG4gICAgICBdLFxuICAgICAgd2Vla2RheXM6IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXSxcbiAgICAgIHdlZWtkYXlzU2hvcnQ6IFsnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0J10sXG4gICAgICB3ZWVrZGF5c0FiYnJldjogWydTJywgJ00nLCAnVCcsICdXJywgJ1QnLCAnRicsICdTJ11cbiAgICB9LFxuXG4gICAgLy8gZXZlbnRzIGFycmF5XG4gICAgZXZlbnRzOiBbXSxcblxuICAgIC8vIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgb25TZWxlY3Q6IG51bGwsXG4gICAgb25PcGVuOiBudWxsLFxuICAgIG9uQ2xvc2U6IG51bGwsXG4gICAgb25EcmF3OiBudWxsXG4gIH07XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIERhdGVwaWNrZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgaXNPcGVuOiBib29sZWFuO1xuICAgIG1vZGFsOiBhbnk7XG4gICAgY2FsZW5kYXJFbDogYW55O1xuICAgIGNsZWFyQnRuOiBhbnk7XG4gICAgZG9uZUJ0bjogYW55O1xuICAgIGNhbmNlbEJ0bjogYW55O1xuICAgICRtb2RhbEVsOiBhbnk7XG4gICAgbW9kYWxFbDogYW55O1xuICAgIGRhdGU6IGFueTtcbiAgICBmb3JtYXRzOiBhbnk7XG4gICAgeWVhclRleHRFbDogYW55O1xuICAgIGRhdGVUZXh0RWw6IGFueTtcbiAgICBjYWxlbmRhcnM6IGFueTtcbiAgICBwcml2YXRlIF95OiBhbnk7XG4gICAgcHJpdmF0ZSBfbTogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlSW5wdXRDbGlja0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlSW5wdXRDaGFuZ2VCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUNhbGVuZGFyQ2xpY2tCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2ZpbmlzaFNlbGVjdGlvbkJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfY2xvc2VCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUNsZWFyQ2xpY2tCb3VuZDogYW55O1xuICAgIHN0YXRpYyBfdGVtcGxhdGU6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgRGF0ZXBpY2tlciBpbnN0YW5jZSBhbmQgc2V0IHVwIG92ZXJsYXlcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoRGF0ZXBpY2tlciwgZWwsIG9wdGlvbnMpO1xuXG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fRGF0ZXBpY2tlciA9IHRoaXM7XG5cbiAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBEYXRlcGlja2VyLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgLy8gbWFrZSBzdXJlIGkxOG4gZGVmYXVsdHMgYXJlIG5vdCBsb3N0IHdoZW4gb25seSBmZXcgaTE4biBvcHRpb24gcHJvcGVydGllcyBhcmUgcGFzc2VkXG4gICAgICBpZiAoISFvcHRpb25zICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2kxOG4nKSAmJiB0eXBlb2Ygb3B0aW9ucy5pMThuID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0aGlzLm9wdGlvbnMuaTE4biA9ICQuZXh0ZW5kKHt9LCBEYXRlcGlja2VyLmRlZmF1bHRzLmkxOG4sIG9wdGlvbnMuaTE4bik7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSB0aW1lIGNvbXBvbmVudCBmcm9tIG1pbkRhdGUgYW5kIG1heERhdGUgb3B0aW9uc1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5taW5EYXRlKSB0aGlzLm9wdGlvbnMubWluRGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubWF4RGF0ZSkgdGhpcy5vcHRpb25zLm1heERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG5cbiAgICAgIHRoaXMuaWQgPSBNLmd1aWQoKTtcblxuICAgICAgdGhpcy5fc2V0dXBWYXJpYWJsZXMoKTtcbiAgICAgIHRoaXMuX2luc2VydEhUTUxJbnRvRE9NKCk7XG4gICAgICB0aGlzLl9zZXR1cE1vZGFsKCk7XG5cbiAgICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5kZWZhdWx0RGF0ZSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuZGVmYXVsdERhdGUgPSBuZXcgRGF0ZShEYXRlLnBhcnNlKCh0aGlzLmVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKSk7XG4gICAgICB9XG5cbiAgICAgIGxldCBkZWZEYXRlID0gdGhpcy5vcHRpb25zLmRlZmF1bHREYXRlO1xuICAgICAgaWYgKERhdGVwaWNrZXIuX2lzRGF0ZShkZWZEYXRlKSkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNldERlZmF1bHREYXRlKSB7XG4gICAgICAgICAgdGhpcy5zZXREYXRlKGRlZkRhdGUsIHRydWUpO1xuICAgICAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZ290b0RhdGUoZGVmRGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZ290b0RhdGUobmV3IERhdGUoKSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRGVzY3JpYmVzIG9wZW4vY2xvc2Ugc3RhdGUgb2YgZGF0ZXBpY2tlclxuICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBfaXNEYXRlKG9iaikge1xuICAgICAgcmV0dXJuIC9EYXRlLy50ZXN0KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSAmJiAhaXNOYU4ob2JqLmdldFRpbWUoKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIF9pc1dlZWtlbmQoZGF0ZSkge1xuICAgICAgbGV0IGRheSA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgICByZXR1cm4gZGF5ID09PSAwIHx8IGRheSA9PT0gNjtcbiAgICB9XG5cbiAgICBzdGF0aWMgX3NldFRvU3RhcnRPZkRheShkYXRlKSB7XG4gICAgICBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKGRhdGUpKSBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgIH1cblxuICAgIHN0YXRpYyBfZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcbiAgICAgIHJldHVybiBbMzEsIERhdGVwaWNrZXIuX2lzTGVhcFllYXIoeWVhcikgPyAyOSA6IDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV1bXG4gICAgICAgIG1vbnRoXG4gICAgICBdO1xuICAgIH1cblxuICAgIHN0YXRpYyBfaXNMZWFwWWVhcih5ZWFyKSB7XG4gICAgICAvLyBzb2x1dGlvbiBieSBNYXR0aSBWaXJra3VuZW46IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ4ODE5NTFcbiAgICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcbiAgICB9XG5cbiAgICBzdGF0aWMgX2NvbXBhcmVEYXRlcyhhLCBiKSB7XG4gICAgICAvLyB3ZWFrIGRhdGUgY29tcGFyaXNvbiAodXNlIHNldFRvU3RhcnRPZkRheShkYXRlKSB0byBlbnN1cmUgY29ycmVjdCByZXN1bHQpXG4gICAgICByZXR1cm4gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpO1xuICAgIH0gIFxuXG4gICAgLyoqXG4gICAgICogR2V0IEluc3RhbmNlXG4gICAgICovXG4gICAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICBsZXQgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fRGF0ZXBpY2tlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgdGhpcy5tb2RhbC5kZXN0cm95KCk7XG4gICAgICAkKHRoaXMubW9kYWxFbCkucmVtb3ZlKCk7XG4gICAgICB0aGlzLmRlc3Ryb3lTZWxlY3RzKCk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fRGF0ZXBpY2tlciA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBkZXN0cm95U2VsZWN0cygpIHtcbiAgICAgIGxldCBvbGRZZWFyU2VsZWN0ID0gdGhpcy5jYWxlbmRhckVsLnF1ZXJ5U2VsZWN0b3IoJy5vcmlnLXNlbGVjdC15ZWFyJyk7XG4gICAgICBpZiAob2xkWWVhclNlbGVjdCkge1xuICAgICAgICBNLkZvcm1TZWxlY3QuZ2V0SW5zdGFuY2Uob2xkWWVhclNlbGVjdCkuZGVzdHJveSgpO1xuICAgICAgfVxuICAgICAgbGV0IG9sZE1vbnRoU2VsZWN0ID0gdGhpcy5jYWxlbmRhckVsLnF1ZXJ5U2VsZWN0b3IoJy5vcmlnLXNlbGVjdC1tb250aCcpO1xuICAgICAgaWYgKG9sZE1vbnRoU2VsZWN0KSB7XG4gICAgICAgIE0uRm9ybVNlbGVjdC5nZXRJbnN0YW5jZShvbGRNb250aFNlbGVjdCkuZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9pbnNlcnRIVE1MSW50b0RPTSgpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NsZWFyQnRuKSB7XG4gICAgICAgICQodGhpcy5jbGVhckJ0bikuY3NzKHsgdmlzaWJpbGl0eTogJycgfSk7XG4gICAgICAgIHRoaXMuY2xlYXJCdG4uaW5uZXJIVE1MID0gdGhpcy5vcHRpb25zLmkxOG4uY2xlYXI7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZG9uZUJ0bi5pbm5lckhUTUwgPSB0aGlzLm9wdGlvbnMuaTE4bi5kb25lO1xuICAgICAgdGhpcy5jYW5jZWxCdG4uaW5uZXJIVE1MID0gdGhpcy5vcHRpb25zLmkxOG4uY2FuY2VsO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRhaW5lcikge1xuICAgICAgICBjb25zdCBvcHRFbCA9IHRoaXMub3B0aW9ucy5jb250YWluZXI7XG4gICAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIgPVxuICAgICAgICAgIG9wdEVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyBvcHRFbCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0RWwpO1xuICAgICAgICB0aGlzLiRtb2RhbEVsLmFwcGVuZFRvKHRoaXMub3B0aW9ucy5jb250YWluZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kbW9kYWxFbC5pbnNlcnRCZWZvcmUodGhpcy5lbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldHVwTW9kYWwoKSB7XG4gICAgICB0aGlzLm1vZGFsRWwuaWQgPSAnbW9kYWwtJyArIHRoaXMuaWQ7XG4gICAgICB0aGlzLm1vZGFsID0gTW9kYWwuaW5pdCh0aGlzLm1vZGFsRWwsIHtcbiAgICAgICAgb25DbG9zZUVuZDogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKGZvcm1hdDogc3RyaW5nIHwgKChkOiBEYXRlKSA9PiBzdHJpbmcpID0gbnVsbCkge1xuICAgICAgICAgIFxuICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8IHRoaXMub3B0aW9ucy5mb3JtYXQ7XG4gICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZm9ybWF0KHRoaXMuZGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghRGF0ZXBpY2tlci5faXNEYXRlKHRoaXMuZGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuXG4gICAgICBsZXQgZm9ybWF0QXJyYXkgPSBmb3JtYXQuc3BsaXQoLyhkezEsNH18bXsxLDR9fHl7NH18eXl8IS4pL2cpO1xuICAgICAgbGV0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXRBcnJheVxuICAgICAgICAubWFwKChsYWJlbCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmZvcm1hdHNbbGFiZWxdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRzW2xhYmVsXSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBsYWJlbDtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oJycpO1xuICAgICAgcmV0dXJuIGZvcm1hdHRlZERhdGU7XG4gICAgfVxuXG4gICAgc2V0RGF0ZShkYXRlLCBwcmV2ZW50T25TZWxlY3Q6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgaWYgKCFkYXRlKSB7XG4gICAgICAgIHRoaXMuZGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbmRlckRhdGVEaXNwbGF5KCk7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXcoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UoZGF0ZSkpO1xuICAgICAgfVxuICAgICAgaWYgKCFEYXRlcGlja2VyLl9pc0RhdGUoZGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgbWluID0gdGhpcy5vcHRpb25zLm1pbkRhdGUsXG4gICAgICAgIG1heCA9IHRoaXMub3B0aW9ucy5tYXhEYXRlO1xuXG4gICAgICBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKG1pbikgJiYgZGF0ZSA8IG1pbikge1xuICAgICAgICBkYXRlID0gbWluO1xuICAgICAgfSBlbHNlIGlmIChEYXRlcGlja2VyLl9pc0RhdGUobWF4KSAmJiBkYXRlID4gbWF4KSB7XG4gICAgICAgIGRhdGUgPSBtYXg7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcblxuICAgICAgdGhpcy5fcmVuZGVyRGF0ZURpc3BsYXkoKTtcblxuICAgICAgRGF0ZXBpY2tlci5fc2V0VG9TdGFydE9mRGF5KHRoaXMuZGF0ZSk7XG4gICAgICB0aGlzLmdvdG9EYXRlKHRoaXMuZGF0ZSk7XG5cbiAgICAgIGlmICghcHJldmVudE9uU2VsZWN0ICYmIHR5cGVvZiB0aGlzLm9wdGlvbnMub25TZWxlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uU2VsZWN0LmNhbGwodGhpcywgdGhpcy5kYXRlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRJbnB1dFZhbHVlKCkge1xuICAgICAgKHRoaXMuZWwgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgPSB0aGlzLnRvU3RyaW5nKCk7XG4gICAgICB0aGlzLiRlbC50cmlnZ2VyKCdjaGFuZ2UnLCB7IGZpcmVkQnk6IHRoaXMgfSk7XG4gICAgfVxuXG4gICAgX3JlbmRlckRhdGVEaXNwbGF5KCkge1xuICAgICAgbGV0IGRpc3BsYXlEYXRlID0gRGF0ZXBpY2tlci5faXNEYXRlKHRoaXMuZGF0ZSkgPyB0aGlzLmRhdGUgOiBuZXcgRGF0ZSgpO1xuICAgICAgbGV0IGkxOG4gPSB0aGlzLm9wdGlvbnMuaTE4bjtcbiAgICAgIGxldCBkYXkgPSBpMThuLndlZWtkYXlzU2hvcnRbZGlzcGxheURhdGUuZ2V0RGF5KCldO1xuICAgICAgbGV0IG1vbnRoID0gaTE4bi5tb250aHNTaG9ydFtkaXNwbGF5RGF0ZS5nZXRNb250aCgpXTtcbiAgICAgIGxldCBkYXRlID0gZGlzcGxheURhdGUuZ2V0RGF0ZSgpO1xuICAgICAgdGhpcy55ZWFyVGV4dEVsLmlubmVySFRNTCA9IGRpc3BsYXlEYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICB0aGlzLmRhdGVUZXh0RWwuaW5uZXJIVE1MID0gYCR7ZGF5fSwgJHttb250aH0gJHtkYXRlfWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2hhbmdlIHZpZXcgdG8gYSBzcGVjaWZpYyBkYXRlXG4gICAgICovXG4gICAgZ290b0RhdGUoZGF0ZSkge1xuICAgICAgbGV0IG5ld0NhbGVuZGFyID0gdHJ1ZTtcblxuICAgICAgaWYgKCFEYXRlcGlja2VyLl9pc0RhdGUoZGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jYWxlbmRhcnMpIHtcbiAgICAgICAgbGV0IGZpcnN0VmlzaWJsZURhdGUgPSBuZXcgRGF0ZSh0aGlzLmNhbGVuZGFyc1swXS55ZWFyLCB0aGlzLmNhbGVuZGFyc1swXS5tb250aCwgMSksXG4gICAgICAgICAgbGFzdFZpc2libGVEYXRlID0gbmV3IERhdGUoXG4gICAgICAgICAgICB0aGlzLmNhbGVuZGFyc1t0aGlzLmNhbGVuZGFycy5sZW5ndGggLSAxXS55ZWFyLFxuICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbdGhpcy5jYWxlbmRhcnMubGVuZ3RoIC0gMV0ubW9udGgsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKSxcbiAgICAgICAgICB2aXNpYmxlRGF0ZSA9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgICAvLyBnZXQgdGhlIGVuZCBvZiB0aGUgbW9udGhcbiAgICAgICAgbGFzdFZpc2libGVEYXRlLnNldE1vbnRoKGxhc3RWaXNpYmxlRGF0ZS5nZXRNb250aCgpICsgMSk7XG4gICAgICAgIGxhc3RWaXNpYmxlRGF0ZS5zZXREYXRlKGxhc3RWaXNpYmxlRGF0ZS5nZXREYXRlKCkgLSAxKTtcbiAgICAgICAgbmV3Q2FsZW5kYXIgPVxuICAgICAgICAgIHZpc2libGVEYXRlIDwgZmlyc3RWaXNpYmxlRGF0ZS5nZXRUaW1lKCkgfHwgbGFzdFZpc2libGVEYXRlLmdldFRpbWUoKSA8IHZpc2libGVEYXRlO1xuICAgICAgfVxuXG4gICAgICBpZiAobmV3Q2FsZW5kYXIpIHtcbiAgICAgICAgdGhpcy5jYWxlbmRhcnMgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbW9udGg6IGRhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICAgIHllYXI6IGRhdGUuZ2V0RnVsbFllYXIoKVxuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICB9XG5cbiAgICBhZGp1c3RDYWxlbmRhcnMoKSB7XG4gICAgICB0aGlzLmNhbGVuZGFyc1swXSA9IHRoaXMuYWRqdXN0Q2FsZW5kYXIodGhpcy5jYWxlbmRhcnNbMF0pO1xuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgfVxuXG4gICAgYWRqdXN0Q2FsZW5kYXIoY2FsZW5kYXIpIHtcbiAgICAgIGlmIChjYWxlbmRhci5tb250aCA8IDApIHtcbiAgICAgICAgY2FsZW5kYXIueWVhciAtPSBNYXRoLmNlaWwoTWF0aC5hYnMoY2FsZW5kYXIubW9udGgpIC8gMTIpO1xuICAgICAgICBjYWxlbmRhci5tb250aCArPSAxMjtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxlbmRhci5tb250aCA+IDExKSB7XG4gICAgICAgIGNhbGVuZGFyLnllYXIgKz0gTWF0aC5mbG9vcihNYXRoLmFicyhjYWxlbmRhci5tb250aCkgLyAxMik7XG4gICAgICAgIGNhbGVuZGFyLm1vbnRoIC09IDEyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGVuZGFyO1xuICAgIH1cblxuICAgIG5leHRNb250aCgpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoKys7XG4gICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgIH1cblxuICAgIHByZXZNb250aCgpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoLS07XG4gICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgIH1cblxuICAgIHJlbmRlcih5ZWFyLCBtb250aCwgcmFuZElkKSB7XG4gICAgICBsZXQgb3B0cyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgbm93ID0gbmV3IERhdGUoKSxcbiAgICAgICAgZGF5cyA9IERhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKHllYXIsIG1vbnRoKSxcbiAgICAgICAgYmVmb3JlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLmdldERheSgpLFxuICAgICAgICBkYXRhID0gW10sXG4gICAgICAgIHJvdyA9IFtdO1xuICAgICAgRGF0ZXBpY2tlci5fc2V0VG9TdGFydE9mRGF5KG5vdyk7XG4gICAgICBpZiAob3B0cy5maXJzdERheSA+IDApIHtcbiAgICAgICAgYmVmb3JlIC09IG9wdHMuZmlyc3REYXk7XG4gICAgICAgIGlmIChiZWZvcmUgPCAwKSB7XG4gICAgICAgICAgYmVmb3JlICs9IDc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBwcmV2aW91c01vbnRoID0gbW9udGggPT09IDAgPyAxMSA6IG1vbnRoIC0gMSxcbiAgICAgICAgbmV4dE1vbnRoID0gbW9udGggPT09IDExID8gMCA6IG1vbnRoICsgMSxcbiAgICAgICAgeWVhck9mUHJldmlvdXNNb250aCA9IG1vbnRoID09PSAwID8geWVhciAtIDEgOiB5ZWFyLFxuICAgICAgICB5ZWFyT2ZOZXh0TW9udGggPSBtb250aCA9PT0gMTEgPyB5ZWFyICsgMSA6IHllYXIsXG4gICAgICAgIGRheXNJblByZXZpb3VzTW9udGggPSBEYXRlcGlja2VyLl9nZXREYXlzSW5Nb250aCh5ZWFyT2ZQcmV2aW91c01vbnRoLCBwcmV2aW91c01vbnRoKTtcbiAgICAgIGxldCBjZWxscyA9IGRheXMgKyBiZWZvcmUsXG4gICAgICAgIGFmdGVyID0gY2VsbHM7XG4gICAgICB3aGlsZSAoYWZ0ZXIgPiA3KSB7XG4gICAgICAgIGFmdGVyIC09IDc7XG4gICAgICB9XG4gICAgICBjZWxscyArPSA3IC0gYWZ0ZXI7XG4gICAgICBsZXQgaXNXZWVrU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCByID0gMDsgaSA8IGNlbGxzOyBpKyspIHtcbiAgICAgICAgbGV0IGRheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxICsgKGkgLSBiZWZvcmUpKSxcbiAgICAgICAgICBpc1NlbGVjdGVkID0gRGF0ZXBpY2tlci5faXNEYXRlKHRoaXMuZGF0ZSlcbiAgICAgICAgICAgID8gRGF0ZXBpY2tlci5fY29tcGFyZURhdGVzKGRheSwgdGhpcy5kYXRlKVxuICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICBpc1RvZGF5ID0gRGF0ZXBpY2tlci5fY29tcGFyZURhdGVzKGRheSwgbm93KSxcbiAgICAgICAgICBoYXNFdmVudCA9IG9wdHMuZXZlbnRzLmluZGV4T2YoZGF5LnRvRGF0ZVN0cmluZygpKSAhPT0gLTEgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgaXNFbXB0eSA9IGkgPCBiZWZvcmUgfHwgaSA+PSBkYXlzICsgYmVmb3JlLFxuICAgICAgICAgIGRheU51bWJlciA9IDEgKyAoaSAtIGJlZm9yZSksXG4gICAgICAgICAgbW9udGhOdW1iZXIgPSBtb250aCxcbiAgICAgICAgICB5ZWFyTnVtYmVyID0geWVhcixcbiAgICAgICAgICBpc1N0YXJ0UmFuZ2UgPSBvcHRzLnN0YXJ0UmFuZ2UgJiYgRGF0ZXBpY2tlci5fY29tcGFyZURhdGVzKG9wdHMuc3RhcnRSYW5nZSwgZGF5KSxcbiAgICAgICAgICBpc0VuZFJhbmdlID0gb3B0cy5lbmRSYW5nZSAmJiBEYXRlcGlja2VyLl9jb21wYXJlRGF0ZXMob3B0cy5lbmRSYW5nZSwgZGF5KSxcbiAgICAgICAgICBpc0luUmFuZ2UgPVxuICAgICAgICAgICAgb3B0cy5zdGFydFJhbmdlICYmIG9wdHMuZW5kUmFuZ2UgJiYgb3B0cy5zdGFydFJhbmdlIDwgZGF5ICYmIGRheSA8IG9wdHMuZW5kUmFuZ2UsXG4gICAgICAgICAgaXNEaXNhYmxlZCA9XG4gICAgICAgICAgICAob3B0cy5taW5EYXRlICYmIGRheSA8IG9wdHMubWluRGF0ZSkgfHxcbiAgICAgICAgICAgIChvcHRzLm1heERhdGUgJiYgZGF5ID4gb3B0cy5tYXhEYXRlKSB8fFxuICAgICAgICAgICAgKG9wdHMuZGlzYWJsZVdlZWtlbmRzICYmIERhdGVwaWNrZXIuX2lzV2Vla2VuZChkYXkpKSB8fFxuICAgICAgICAgICAgKG9wdHMuZGlzYWJsZURheUZuICYmIG9wdHMuZGlzYWJsZURheUZuKGRheSkpO1xuXG4gICAgICAgIGlmIChpc0VtcHR5KSB7XG4gICAgICAgICAgaWYgKGkgPCBiZWZvcmUpIHtcbiAgICAgICAgICAgIGRheU51bWJlciA9IGRheXNJblByZXZpb3VzTW9udGggKyBkYXlOdW1iZXI7XG4gICAgICAgICAgICBtb250aE51bWJlciA9IHByZXZpb3VzTW9udGg7XG4gICAgICAgICAgICB5ZWFyTnVtYmVyID0geWVhck9mUHJldmlvdXNNb250aDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF5TnVtYmVyID0gZGF5TnVtYmVyIC0gZGF5cztcbiAgICAgICAgICAgIG1vbnRoTnVtYmVyID0gbmV4dE1vbnRoO1xuICAgICAgICAgICAgeWVhck51bWJlciA9IHllYXJPZk5leHRNb250aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGF5Q29uZmlnID0ge1xuICAgICAgICAgIGRheTogZGF5TnVtYmVyLFxuICAgICAgICAgIG1vbnRoOiBtb250aE51bWJlcixcbiAgICAgICAgICB5ZWFyOiB5ZWFyTnVtYmVyLFxuICAgICAgICAgIGhhc0V2ZW50OiBoYXNFdmVudCxcbiAgICAgICAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgICAgICAgIGlzVG9kYXk6IGlzVG9kYXksXG4gICAgICAgICAgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgICAgICBpc0VtcHR5OiBpc0VtcHR5LFxuICAgICAgICAgIGlzU3RhcnRSYW5nZTogaXNTdGFydFJhbmdlLFxuICAgICAgICAgIGlzRW5kUmFuZ2U6IGlzRW5kUmFuZ2UsXG4gICAgICAgICAgaXNJblJhbmdlOiBpc0luUmFuZ2UsXG4gICAgICAgICAgc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRoczogb3B0cy5zaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzXG4gICAgICAgIH07XG5cbiAgICAgICAgcm93LnB1c2godGhpcy5yZW5kZXJEYXkoZGF5Q29uZmlnKSk7XG5cbiAgICAgICAgaWYgKCsrciA9PT0gNykge1xuICAgICAgICAgIGRhdGEucHVzaCh0aGlzLnJlbmRlclJvdyhyb3csIG9wdHMuaXNSVEwsIGlzV2Vla1NlbGVjdGVkKSk7XG4gICAgICAgICAgcm93ID0gW107XG4gICAgICAgICAgciA9IDA7XG4gICAgICAgICAgaXNXZWVrU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyVGFibGUob3B0cywgZGF0YSwgcmFuZElkKTtcbiAgICB9XG5cbiAgICByZW5kZXJEYXkob3B0cykge1xuICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgbGV0IGFyaWFTZWxlY3RlZCA9ICdmYWxzZSc7XG4gICAgICBpZiAob3B0cy5pc0VtcHR5KSB7XG4gICAgICAgIGlmIChvcHRzLnNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHMpIHtcbiAgICAgICAgICBhcnIucHVzaCgnaXMtb3V0c2lkZS1jdXJyZW50LW1vbnRoJyk7XG4gICAgICAgICAgYXJyLnB1c2goJ2lzLXNlbGVjdGlvbi1kaXNhYmxlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAnPHRkIGNsYXNzPVwiaXMtZW1wdHlcIj48L3RkPic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmlzRGlzYWJsZWQpIHtcbiAgICAgICAgYXJyLnB1c2goJ2lzLWRpc2FibGVkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRzLmlzVG9kYXkpIHtcbiAgICAgICAgYXJyLnB1c2goJ2lzLXRvZGF5Jyk7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5pc1NlbGVjdGVkKSB7XG4gICAgICAgIGFyci5wdXNoKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgICBhcmlhU2VsZWN0ZWQgPSAndHJ1ZSc7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5oYXNFdmVudCkge1xuICAgICAgICBhcnIucHVzaCgnaGFzLWV2ZW50Jyk7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5pc0luUmFuZ2UpIHtcbiAgICAgICAgYXJyLnB1c2goJ2lzLWlucmFuZ2UnKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmlzU3RhcnRSYW5nZSkge1xuICAgICAgICBhcnIucHVzaCgnaXMtc3RhcnRyYW5nZScpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMuaXNFbmRSYW5nZSkge1xuICAgICAgICBhcnIucHVzaCgnaXMtZW5kcmFuZ2UnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIGA8dGQgZGF0YS1kYXk9XCIke29wdHMuZGF5fVwiIGNsYXNzPVwiJHthcnIuam9pbignICcpfVwiIGFyaWEtc2VsZWN0ZWQ9XCIke2FyaWFTZWxlY3RlZH1cIj5gICtcbiAgICAgICAgYDxidXR0b24gY2xhc3M9XCJkYXRlcGlja2VyLWRheS1idXR0b25cIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS15ZWFyPVwiJHtvcHRzLnllYXJ9XCIgZGF0YS1tb250aD1cIiR7b3B0cy5tb250aH1cIiBkYXRhLWRheT1cIiR7b3B0cy5kYXl9XCI+JHtvcHRzLmRheX08L2J1dHRvbj5gICtcbiAgICAgICAgJzwvdGQ+J1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZW5kZXJSb3coZGF5cywgaXNSVEwsIGlzUm93U2VsZWN0ZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICc8dHIgY2xhc3M9XCJkYXRlcGlja2VyLXJvdycgK1xuICAgICAgICAoaXNSb3dTZWxlY3RlZCA/ICcgaXMtc2VsZWN0ZWQnIDogJycpICtcbiAgICAgICAgJ1wiPicgK1xuICAgICAgICAoaXNSVEwgPyBkYXlzLnJldmVyc2UoKSA6IGRheXMpLmpvaW4oJycpICtcbiAgICAgICAgJzwvdHI+J1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZW5kZXJUYWJsZShvcHRzLCBkYXRhLCByYW5kSWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci10YWJsZS13cmFwcGVyXCI+PHRhYmxlIGNlbGxwYWRkaW5nPVwiMFwiIGNlbGxzcGFjaW5nPVwiMFwiIGNsYXNzPVwiZGF0ZXBpY2tlci10YWJsZVwiIHJvbGU9XCJncmlkXCIgYXJpYS1sYWJlbGxlZGJ5PVwiJyArXG4gICAgICAgIHJhbmRJZCArXG4gICAgICAgICdcIj4nICtcbiAgICAgICAgdGhpcy5yZW5kZXJIZWFkKG9wdHMpICtcbiAgICAgICAgdGhpcy5yZW5kZXJCb2R5KGRhdGEpICtcbiAgICAgICAgJzwvdGFibGU+PC9kaXY+J1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZW5kZXJIZWFkKG9wdHMpIHtcbiAgICAgIGxldCBpLFxuICAgICAgICBhcnIgPSBbXTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgYXJyLnB1c2goXG4gICAgICAgICAgYDx0aCBzY29wZT1cImNvbFwiPjxhYmJyIHRpdGxlPVwiJHt0aGlzLnJlbmRlckRheU5hbWUob3B0cywgaSl9XCI+JHt0aGlzLnJlbmRlckRheU5hbWUoXG4gICAgICAgICAgICBvcHRzLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApfTwvYWJicj48L3RoPmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAnPHRoZWFkPjx0cj4nICsgKG9wdHMuaXNSVEwgPyBhcnIucmV2ZXJzZSgpIDogYXJyKS5qb2luKCcnKSArICc8L3RyPjwvdGhlYWQ+JztcbiAgICB9XG5cbiAgICByZW5kZXJCb2R5KHJvd3MpIHtcbiAgICAgIHJldHVybiAnPHRib2R5PicgKyByb3dzLmpvaW4oJycpICsgJzwvdGJvZHk+JztcbiAgICB9XG5cbiAgICByZW5kZXJUaXRsZShpbnN0YW5jZSwgYywgeWVhciwgbW9udGgsIHJlZlllYXIsIHJhbmRJZCkge1xuICAgICAgbGV0IGksXG4gICAgICAgIGosXG4gICAgICAgIGFycixcbiAgICAgICAgb3B0cyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgaXNNaW5ZZWFyID0geWVhciA9PT0gb3B0cy5taW5ZZWFyLFxuICAgICAgICBpc01heFllYXIgPSB5ZWFyID09PSBvcHRzLm1heFllYXIsXG4gICAgICAgIGh0bWwgPVxuICAgICAgICAgICc8ZGl2IGlkPVwiJyArXG4gICAgICAgICAgcmFuZElkICtcbiAgICAgICAgICAnXCIgY2xhc3M9XCJkYXRlcGlja2VyLWNvbnRyb2xzXCIgcm9sZT1cImhlYWRpbmdcIiBhcmlhLWxpdmU9XCJhc3NlcnRpdmVcIj4nLFxuICAgICAgICBtb250aEh0bWwsXG4gICAgICAgIHllYXJIdG1sLFxuICAgICAgICBwcmV2ID0gdHJ1ZSxcbiAgICAgICAgbmV4dCA9IHRydWU7XG5cbiAgICAgIGZvciAoYXJyID0gW10sIGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICBhcnIucHVzaChcbiAgICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cIicgK1xuICAgICAgICAgICAgKHllYXIgPT09IHJlZlllYXIgPyBpIC0gYyA6IDEyICsgaSAtIGMpICtcbiAgICAgICAgICAgICdcIicgK1xuICAgICAgICAgICAgKGkgPT09IG1vbnRoID8gJyBzZWxlY3RlZD1cInNlbGVjdGVkXCInIDogJycpICtcbiAgICAgICAgICAgICgoaXNNaW5ZZWFyICYmIGkgPCBvcHRzLm1pbk1vbnRoKSB8fCAoaXNNYXhZZWFyICYmIGkgPiBvcHRzLm1heE1vbnRoKVxuICAgICAgICAgICAgICA/ICdkaXNhYmxlZD1cImRpc2FibGVkXCInXG4gICAgICAgICAgICAgIDogJycpICtcbiAgICAgICAgICAgICc+JyArXG4gICAgICAgICAgICBvcHRzLmkxOG4ubW9udGhzW2ldICtcbiAgICAgICAgICAgICc8L29wdGlvbj4nXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIG1vbnRoSHRtbCA9XG4gICAgICAgICc8c2VsZWN0IGNsYXNzPVwiZGF0ZXBpY2tlci1zZWxlY3Qgb3JpZy1zZWxlY3QtbW9udGhcIiB0YWJpbmRleD1cIi0xXCI+JyArXG4gICAgICAgIGFyci5qb2luKCcnKSArXG4gICAgICAgICc8L3NlbGVjdD4nO1xuXG4gICAgICBpZiAoJC5pc0FycmF5KG9wdHMueWVhclJhbmdlKSkge1xuICAgICAgICBpID0gb3B0cy55ZWFyUmFuZ2VbMF07XG4gICAgICAgIGogPSBvcHRzLnllYXJSYW5nZVsxXSArIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpID0geWVhciAtIG9wdHMueWVhclJhbmdlO1xuICAgICAgICBqID0gMSArIHllYXIgKyBvcHRzLnllYXJSYW5nZTtcbiAgICAgIH1cblxuICAgICAgZm9yIChhcnIgPSBbXTsgaSA8IGogJiYgaSA8PSBvcHRzLm1heFllYXI7IGkrKykge1xuICAgICAgICBpZiAoaSA+PSBvcHRzLm1pblllYXIpIHtcbiAgICAgICAgICBhcnIucHVzaChgPG9wdGlvbiB2YWx1ZT1cIiR7aX1cIiAke2kgPT09IHllYXIgPyAnc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJyA6ICcnfT4ke2l9PC9vcHRpb24+YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLnllYXJSYW5nZVJldmVyc2UpIHtcbiAgICAgICAgYXJyLnJldmVyc2UoKTtcbiAgICAgIH1cblxuICAgICAgeWVhckh0bWwgPSBgPHNlbGVjdCBjbGFzcz1cImRhdGVwaWNrZXItc2VsZWN0IG9yaWctc2VsZWN0LXllYXJcIiB0YWJpbmRleD1cIi0xXCI+JHthcnIuam9pbihcbiAgICAgICAgJydcbiAgICAgICl9PC9zZWxlY3Q+YDtcblxuICAgICAgbGV0IGxlZnRBcnJvdyA9XG4gICAgICAgICc8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xNS40MSAxNi4wOWwtNC41OC00LjU5IDQuNTgtNC41OUwxNCA1LjVsLTYgNiA2IDZ6XCIvPjxwYXRoIGQ9XCJNMC0uNWgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIvPjwvc3ZnPic7XG4gICAgICBodG1sICs9IGA8YnV0dG9uIGNsYXNzPVwibW9udGgtcHJldiR7XG4gICAgICAgIHByZXYgPyAnJyA6ICcgaXMtZGlzYWJsZWQnXG4gICAgICB9IGJ0bi1mbGF0XCIgdHlwZT1cImJ1dHRvblwiPiR7bGVmdEFycm93fTwvYnV0dG9uPmA7XG5cbiAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJzZWxlY3RzLWNvbnRhaW5lclwiPic7XG4gICAgICBpZiAob3B0cy5zaG93TW9udGhBZnRlclllYXIpIHtcbiAgICAgICAgaHRtbCArPSB5ZWFySHRtbCArIG1vbnRoSHRtbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGh0bWwgKz0gbW9udGhIdG1sICsgeWVhckh0bWw7XG4gICAgICB9XG4gICAgICBodG1sICs9ICc8L2Rpdj4nO1xuXG4gICAgICBpZiAoaXNNaW5ZZWFyICYmIChtb250aCA9PT0gMCB8fCBvcHRzLm1pbk1vbnRoID49IG1vbnRoKSkge1xuICAgICAgICBwcmV2ID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc01heFllYXIgJiYgKG1vbnRoID09PSAxMSB8fCBvcHRzLm1heE1vbnRoIDw9IG1vbnRoKSkge1xuICAgICAgICBuZXh0ID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGxldCByaWdodEFycm93ID1cbiAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTguNTkgMTYuMzRsNC41OC00LjU5LTQuNTgtNC41OUwxMCA1Ljc1bDYgNi02IDZ6XCIvPjxwYXRoIGQ9XCJNMC0uMjVoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiLz48L3N2Zz4nO1xuICAgICAgaHRtbCArPSBgPGJ1dHRvbiBjbGFzcz1cIm1vbnRoLW5leHQke1xuICAgICAgICBuZXh0ID8gJycgOiAnIGlzLWRpc2FibGVkJ1xuICAgICAgfSBidG4tZmxhdFwiIHR5cGU9XCJidXR0b25cIj4ke3JpZ2h0QXJyb3d9PC9idXR0b24+YDtcblxuICAgICAgcmV0dXJuIChodG1sICs9ICc8L2Rpdj4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZWZyZXNoIHRoZSBIVE1MXG4gICAgICovXG4gICAgZHJhdyhmb3JjZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICBpZiAoIXRoaXMuaXNPcGVuICYmICFmb3JjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgb3B0cyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgbWluWWVhciA9IG9wdHMubWluWWVhcixcbiAgICAgICAgbWF4WWVhciA9IG9wdHMubWF4WWVhcixcbiAgICAgICAgbWluTW9udGggPSBvcHRzLm1pbk1vbnRoLFxuICAgICAgICBtYXhNb250aCA9IG9wdHMubWF4TW9udGgsXG4gICAgICAgIGh0bWwgPSAnJyxcbiAgICAgICAgcmFuZElkO1xuXG4gICAgICBpZiAodGhpcy5feSA8PSBtaW5ZZWFyKSB7XG4gICAgICAgIHRoaXMuX3kgPSBtaW5ZZWFyO1xuICAgICAgICBpZiAoIWlzTmFOKG1pbk1vbnRoKSAmJiB0aGlzLl9tIDwgbWluTW9udGgpIHtcbiAgICAgICAgICB0aGlzLl9tID0gbWluTW9udGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl95ID49IG1heFllYXIpIHtcbiAgICAgICAgdGhpcy5feSA9IG1heFllYXI7XG4gICAgICAgIGlmICghaXNOYU4obWF4TW9udGgpICYmIHRoaXMuX20gPiBtYXhNb250aCkge1xuICAgICAgICAgIHRoaXMuX20gPSBtYXhNb250aDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByYW5kSWQgPVxuICAgICAgICAnZGF0ZXBpY2tlci10aXRsZS0nICtcbiAgICAgICAgTWF0aC5yYW5kb20oKVxuICAgICAgICAgIC50b1N0cmluZygzNilcbiAgICAgICAgICAucmVwbGFjZSgvW15hLXpdKy9nLCAnJylcbiAgICAgICAgICAuc3Vic3RyKDAsIDIpO1xuXG4gICAgICBmb3IgKGxldCBjID0gMDsgYyA8IDE7IGMrKykge1xuICAgICAgICB0aGlzLl9yZW5kZXJEYXRlRGlzcGxheSgpO1xuICAgICAgICBodG1sICs9XG4gICAgICAgICAgdGhpcy5yZW5kZXJUaXRsZShcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBjLFxuICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbY10ueWVhcixcbiAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJzW2NdLm1vbnRoLFxuICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ueWVhcixcbiAgICAgICAgICAgIHJhbmRJZFxuICAgICAgICAgICkgKyB0aGlzLnJlbmRlcih0aGlzLmNhbGVuZGFyc1tjXS55ZWFyLCB0aGlzLmNhbGVuZGFyc1tjXS5tb250aCwgcmFuZElkKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kZXN0cm95U2VsZWN0cygpO1xuXG4gICAgICB0aGlzLmNhbGVuZGFyRWwuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgICAgLy8gSW5pdCBNYXRlcmlhbGl6ZSBTZWxlY3RcbiAgICAgIGxldCB5ZWFyU2VsZWN0ID0gdGhpcy5jYWxlbmRhckVsLnF1ZXJ5U2VsZWN0b3IoJy5vcmlnLXNlbGVjdC15ZWFyJyk7XG4gICAgICBsZXQgbW9udGhTZWxlY3QgPSB0aGlzLmNhbGVuZGFyRWwucXVlcnlTZWxlY3RvcignLm9yaWctc2VsZWN0LW1vbnRoJyk7XG4gICAgICBNLkZvcm1TZWxlY3QuaW5pdCh5ZWFyU2VsZWN0LCB7XG4gICAgICAgIGNsYXNzZXM6ICdzZWxlY3QteWVhcicsXG4gICAgICAgIGRyb3Bkb3duT3B0aW9uczogeyBjb250YWluZXI6IGRvY3VtZW50LmJvZHksIGNvbnN0cmFpbldpZHRoOiBmYWxzZSB9XG4gICAgICB9KTtcbiAgICAgIE0uRm9ybVNlbGVjdC5pbml0KG1vbnRoU2VsZWN0LCB7XG4gICAgICAgIGNsYXNzZXM6ICdzZWxlY3QtbW9udGgnLFxuICAgICAgICBkcm9wZG93bk9wdGlvbnM6IHsgY29udGFpbmVyOiBkb2N1bWVudC5ib2R5LCBjb25zdHJhaW5XaWR0aDogZmFsc2UgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFkZCBjaGFuZ2UgaGFuZGxlcnMgZm9yIHNlbGVjdFxuICAgICAgeWVhclNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVZZWFyQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgbW9udGhTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlTW9udGhDaGFuZ2UuYmluZCh0aGlzKSk7XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uRHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25EcmF3KHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICovXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVJbnB1dENsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVJbnB1dENoYW5nZUJvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUNhbGVuZGFyQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUNhbGVuZGFyQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2ZpbmlzaFNlbGVjdGlvbkJvdW5kID0gdGhpcy5fZmluaXNoU2VsZWN0aW9uLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVNb250aENoYW5nZSA9IHRoaXMuX2hhbmRsZU1vbnRoQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9jbG9zZUJvdW5kID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuXG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlSW5wdXRDaGFuZ2VCb3VuZCk7XG4gICAgICB0aGlzLmNhbGVuZGFyRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDYWxlbmRhckNsaWNrQm91bmQpO1xuICAgICAgdGhpcy5kb25lQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fZmluaXNoU2VsZWN0aW9uQm91bmQpO1xuICAgICAgdGhpcy5jYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbG9zZUJvdW5kKTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Q2xlYXJCdG4pIHtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2xlYXJDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlQ2xlYXJDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNsZWFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xlYXJDbGlja0JvdW5kKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0dXBWYXJpYWJsZXMoKSB7XG4gICAgICB0aGlzLiRtb2RhbEVsID0gJChEYXRlcGlja2VyLl90ZW1wbGF0ZSk7XG4gICAgICB0aGlzLm1vZGFsRWwgPSB0aGlzLiRtb2RhbEVsWzBdO1xuXG4gICAgICB0aGlzLmNhbGVuZGFyRWwgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmRhdGVwaWNrZXItY2FsZW5kYXInKTtcblxuICAgICAgdGhpcy55ZWFyVGV4dEVsID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy55ZWFyLXRleHQnKTtcbiAgICAgIHRoaXMuZGF0ZVRleHRFbCA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcuZGF0ZS10ZXh0Jyk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDbGVhckJ0bikge1xuICAgICAgICB0aGlzLmNsZWFyQnRuID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy5kYXRlcGlja2VyLWNsZWFyJyk7XG4gICAgICB9XG4gICAgICB0aGlzLmRvbmVCdG4gPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmRhdGVwaWNrZXItZG9uZScpO1xuICAgICAgdGhpcy5jYW5jZWxCdG4gPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmRhdGVwaWNrZXItY2FuY2VsJyk7XG5cbiAgICAgIHRoaXMuZm9ybWF0cyA9IHtcbiAgICAgICAgZDogKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLmRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBkZDogKCkgPT4ge1xuICAgICAgICAgIGxldCBkID0gdGhpcy5kYXRlLmdldERhdGUoKTtcbiAgICAgICAgICByZXR1cm4gKGQgPCAxMCA/ICcwJyA6ICcnKSArIGQ7XG4gICAgICAgIH0sXG4gICAgICAgIGRkZDogKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaTE4bi53ZWVrZGF5c1Nob3J0W3RoaXMuZGF0ZS5nZXREYXkoKV07XG4gICAgICAgIH0sXG4gICAgICAgIGRkZGQ6ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmkxOG4ud2Vla2RheXNbdGhpcy5kYXRlLmdldERheSgpXTtcbiAgICAgICAgfSxcbiAgICAgICAgbTogKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLmRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgICAgIH0sXG4gICAgICAgIG1tOiAoKSA9PiB7XG4gICAgICAgICAgbGV0IG0gPSB0aGlzLmRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgICAgICAgcmV0dXJuIChtIDwgMTAgPyAnMCcgOiAnJykgKyBtO1xuICAgICAgICB9LFxuICAgICAgICBtbW06ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmkxOG4ubW9udGhzU2hvcnRbdGhpcy5kYXRlLmdldE1vbnRoKCldO1xuICAgICAgICB9LFxuICAgICAgICBtbW1tOiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pMThuLm1vbnRoc1t0aGlzLmRhdGUuZ2V0TW9udGgoKV07XG4gICAgICAgIH0sXG4gICAgICAgIHl5OiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuICgnJyArIHRoaXMuZGF0ZS5nZXRGdWxsWWVhcigpKS5zbGljZSgyKTtcbiAgICAgICAgfSxcbiAgICAgICAgeXl5eTogKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgRXZlbnQgSGFuZGxlcnNcbiAgICAgKi9cbiAgICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVJbnB1dENoYW5nZUJvdW5kKTtcbiAgICAgIHRoaXMuY2FsZW5kYXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhbGVuZGFyQ2xpY2tCb3VuZCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUlucHV0Q2xpY2soKSB7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlSW5wdXRLZXlkb3duKGUpIHtcbiAgICAgIGlmIChlLndoaWNoID09PSBNLmtleXMuRU5URVIpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlQ2FsZW5kYXJDbGljayhlKSB7XG4gICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0ICR0YXJnZXQgPSAkKGUudGFyZ2V0KTtcbiAgICAgIGlmICghJHRhcmdldC5oYXNDbGFzcygnaXMtZGlzYWJsZWQnKSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgJHRhcmdldC5oYXNDbGFzcygnZGF0ZXBpY2tlci1kYXktYnV0dG9uJykgJiZcbiAgICAgICAgICAhJHRhcmdldC5oYXNDbGFzcygnaXMtZW1wdHknKSAmJlxuICAgICAgICAgICEkdGFyZ2V0LnBhcmVudCgpLmhhc0NsYXNzKCdpcy1kaXNhYmxlZCcpXG4gICAgICAgICkgeyAgICAgICAgICBcbiAgICAgICAgICB0aGlzLnNldERhdGUoXG4gICAgICAgICAgICBuZXcgRGF0ZShcbiAgICAgICAgICAgICAgZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXllYXInKSxcbiAgICAgICAgICAgICAgZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLW1vbnRoJyksXG4gICAgICAgICAgICAgIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1kYXknKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvQ2xvc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbmlzaFNlbGVjdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICgkdGFyZ2V0LmNsb3Nlc3QoJy5tb250aC1wcmV2JykubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5wcmV2TW9udGgoKTtcbiAgICAgICAgfSBlbHNlIGlmICgkdGFyZ2V0LmNsb3Nlc3QoJy5tb250aC1uZXh0JykubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5uZXh0TW9udGgoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVDbGVhckNsaWNrKCkge1xuICAgICAgdGhpcy5kYXRlID0gbnVsbDtcbiAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIF9oYW5kbGVNb250aENoYW5nZShlKSB7XG4gICAgICB0aGlzLmdvdG9Nb250aChlLnRhcmdldC52YWx1ZSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZVllYXJDaGFuZ2UoZSkge1xuICAgICAgdGhpcy5nb3RvWWVhcihlLnRhcmdldC52YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2hhbmdlIHZpZXcgdG8gYSBzcGVjaWZpYyBtb250aCAoemVyby1pbmRleCwgZS5nLiAwOiBKYW51YXJ5KVxuICAgICAqL1xuICAgIGdvdG9Nb250aChtb250aCkge1xuICAgICAgaWYgKCFpc05hTihtb250aCkpIHtcbiAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGggPSBwYXJzZUludChtb250aCwgMTApO1xuICAgICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNoYW5nZSB2aWV3IHRvIGEgc3BlY2lmaWMgZnVsbCB5ZWFyIChlLmcuIFwiMjAxMlwiKVxuICAgICAqL1xuICAgIGdvdG9ZZWFyKHllYXIpIHtcbiAgICAgIGlmICghaXNOYU4oeWVhcikpIHtcbiAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ueWVhciA9IHBhcnNlSW50KHllYXIsIDEwKTtcbiAgICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlSW5wdXRDaGFuZ2UoZSkge1xuICAgICAgbGV0IGRhdGU7XG5cbiAgICAgIC8vIFByZXZlbnQgY2hhbmdlIGV2ZW50IGZyb20gYmVpbmcgZmlyZWQgd2hlbiB0cmlnZ2VyZWQgYnkgdGhlIHBsdWdpblxuICAgICAgaWYgKGUuZmlyZWRCeSA9PT0gdGhpcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBhcnNlKSB7XG4gICAgICAgIGRhdGUgPSB0aGlzLm9wdGlvbnMucGFyc2UoKHRoaXMuZWwgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUsIHRoaXMub3B0aW9ucy5mb3JtYXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UoKHRoaXMuZWwgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKERhdGVwaWNrZXIuX2lzRGF0ZShkYXRlKSkge1xuICAgICAgICB0aGlzLnNldERhdGUoZGF0ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyRGF5TmFtZShvcHRzLCBkYXksIGFiYnI6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgZGF5ICs9IG9wdHMuZmlyc3REYXk7XG4gICAgICB3aGlsZSAoZGF5ID49IDcpIHtcbiAgICAgICAgZGF5IC09IDc7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWJiciA/IG9wdHMuaTE4bi53ZWVrZGF5c0FiYnJldltkYXldIDogb3B0cy5pMThuLndlZWtkYXlzW2RheV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGlucHV0IHZhbHVlIHRvIHRoZSBzZWxlY3RlZCBkYXRlIGFuZCBjbG9zZSBEYXRlcGlja2VyXG4gICAgICovXG4gICAgX2ZpbmlzaFNlbGVjdGlvbigpIHtcbiAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9wZW4gRGF0ZXBpY2tlclxuICAgICAqL1xuICAgIG9wZW4oKSB7XG4gICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uT3Blbi5jYWxsKHRoaXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICB0aGlzLm1vZGFsLm9wZW4oKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb3NlIERhdGVwaWNrZXJcbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZS5jYWxsKHRoaXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5tb2RhbC5jbG9zZSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3RhdGljXG4gICAge1xuICAgICAgRGF0ZXBpY2tlci5fdGVtcGxhdGUgPSBbXG4gICAgICAgICc8ZGl2IGNsYXNzPSBcIm1vZGFsIGRhdGVwaWNrZXItbW9kYWxcIj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnQgZGF0ZXBpY2tlci1jb250YWluZXJcIj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItZGF0ZS1kaXNwbGF5XCI+JyxcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwieWVhci10ZXh0XCI+PC9zcGFuPicsXG4gICAgICAgICc8c3BhbiBjbGFzcz1cImRhdGUtdGV4dFwiPjwvc3Bhbj4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWNhbGVuZGFyLWNvbnRhaW5lclwiPicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1jYWxlbmRhclwiPjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1mb290ZXJcIj4nLFxuICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImJ0bi1mbGF0IGRhdGVwaWNrZXItY2xlYXIgd2F2ZXMtZWZmZWN0XCIgc3R5bGU9XCJ2aXNpYmlsaXR5OiBoaWRkZW47XCIgdHlwZT1cImJ1dHRvblwiPjwvYnV0dG9uPicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29uZmlybWF0aW9uLWJ0bnNcIj4nLFxuICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImJ0bi1mbGF0IGRhdGVwaWNrZXItY2FuY2VsIHdhdmVzLWVmZmVjdFwiIHR5cGU9XCJidXR0b25cIj48L2J1dHRvbj4nLFxuICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImJ0bi1mbGF0IGRhdGVwaWNrZXItZG9uZSB3YXZlcy1lZmZlY3RcIiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgICBdLmpvaW4oJycpO1xuXG4gICAgfVxuICB9XG5cbiAgXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///457\n")},123:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Dropdown = void 0;\nconst component_1 = __webpack_require__(999);\nconst global_1 = __webpack_require__(238);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst animejs_1 = __importDefault(__webpack_require__(30));\nlet _defaults = {\n    alignment: 'left',\n    autoFocus: true,\n    constrainWidth: true,\n    container: null,\n    coverTrigger: true,\n    closeOnClick: true,\n    hover: false,\n    inDuration: 150,\n    outDuration: 250,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    onItemClick: null\n};\n/**\n * @class\n */\nclass Dropdown extends component_1.Component {\n    constructor(el, options) {\n        super(Dropdown, el, options);\n        this.el.M_Dropdown = this;\n        Dropdown._dropdowns.push(this);\n        this.id = global_1.M.getIdFromTrigger(el);\n        this.dropdownEl = document.getElementById(this.id);\n        this.$dropdownEl = (0, cash_dom_1.default)(this.dropdownEl);\n        /**\n         * Options for the dropdown\n         * @member Dropdown#options\n         * @prop {String} [alignment='left'] - Edge which the dropdown is aligned to\n         * @prop {Boolean} [autoFocus=true] - Automatically focus dropdown el for keyboard\n         * @prop {Boolean} [constrainWidth=true] - Constrain width to width of the button\n         * @prop {Element} container - Container element to attach dropdown to (optional)\n         * @prop {Boolean} [coverTrigger=true] - Place dropdown over trigger\n         * @prop {Boolean} [closeOnClick=true] - Close on click of dropdown item\n         * @prop {Boolean} [hover=false] - Open dropdown on hover\n         * @prop {Number} [inDuration=150] - Duration of open animation in ms\n         * @prop {Number} [outDuration=250] - Duration of close animation in ms\n         * @prop {Function} onOpenStart - Function called when dropdown starts opening\n         * @prop {Function} onOpenEnd - Function called when dropdown finishes opening\n         * @prop {Function} onCloseStart - Function called when dropdown starts closing\n         * @prop {Function} onCloseEnd - Function called when dropdown finishes closing\n         */\n        this.options = cash_dom_1.default.extend({}, Dropdown.defaults, options);\n        /**\n         * Describes open/close state of dropdown\n         * @type {Boolean}\n         */\n        this.isOpen = false;\n        /**\n         * Describes if dropdown content is scrollable\n         * @type {Boolean}\n         */\n        this.isScrollable = false;\n        /**\n         * Describes if touch moving on dropdown content\n         * @type {Boolean}\n         */\n        this.isTouchMoving = false;\n        this.focusedIndex = -1;\n        this.filterQuery = [];\n        // Move dropdown-content after dropdown-trigger\n        this._moveDropdown();\n        this._makeDropdownFocusable();\n        this._resetFilterQueryBound = this._resetFilterQuery.bind(this);\n        this._handleDocumentClickBound = this._handleDocumentClick.bind(this);\n        this._handleDocumentTouchmoveBound = this._handleDocumentTouchmove.bind(this);\n        this._handleDropdownClickBound = this._handleDropdownClick.bind(this);\n        this._handleDropdownKeydownBound = this._handleDropdownKeydown.bind(this);\n        this._handleTriggerKeydownBound = this._handleTriggerKeydown.bind(this);\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    /**\n     * Get Instance\n     */\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Dropdown;\n    }\n    /**\n     * Teardown component\n     */\n    destroy() {\n        this._resetDropdownStyles();\n        this._removeEventHandlers();\n        Dropdown._dropdowns.splice(Dropdown._dropdowns.indexOf(this), 1);\n        this.el.M_Dropdown = undefined;\n    }\n    /**\n     * Setup Event Handlers\n     */\n    _setupEventHandlers() {\n        // Trigger keydown handler\n        this.el.addEventListener('keydown', this._handleTriggerKeydownBound);\n        // Item click handler\n        this.dropdownEl.addEventListener('click', this._handleDropdownClickBound);\n        // Hover event handlers\n        if (this.options.hover) {\n            this._handleMouseEnterBound = this._handleMouseEnter.bind(this);\n            this.el.addEventListener('mouseenter', this._handleMouseEnterBound);\n            this._handleMouseLeaveBound = this._handleMouseLeave.bind(this);\n            this.el.addEventListener('mouseleave', this._handleMouseLeaveBound);\n            this.dropdownEl.addEventListener('mouseleave', this._handleMouseLeaveBound);\n            // Click event handlers\n        }\n        else {\n            this._handleClickBound = this._handleClick.bind(this);\n            this.el.addEventListener('click', this._handleClickBound);\n        }\n    }\n    /**\n     * Remove Event Handlers\n     */\n    _removeEventHandlers() {\n        this.el.removeEventListener('keydown', this._handleTriggerKeydownBound);\n        this.dropdownEl.removeEventListener('click', this._handleDropdownClickBound);\n        if (this.options.hover) {\n            this.el.removeEventListener('mouseenter', this._handleMouseEnterBound);\n            this.el.removeEventListener('mouseleave', this._handleMouseLeaveBound);\n            this.dropdownEl.removeEventListener('mouseleave', this._handleMouseLeaveBound);\n        }\n        else {\n            this.el.removeEventListener('click', this._handleClickBound);\n        }\n    }\n    _setupTemporaryEventHandlers() {\n        // Use capture phase event handler to prevent click\n        document.body.addEventListener('click', this._handleDocumentClickBound, true);\n        document.body.addEventListener('touchmove', this._handleDocumentTouchmoveBound);\n        this.dropdownEl.addEventListener('keydown', this._handleDropdownKeydownBound);\n    }\n    _removeTemporaryEventHandlers() {\n        // Use capture phase event handler to prevent click\n        document.body.removeEventListener('click', this._handleDocumentClickBound, true);\n        document.body.removeEventListener('touchmove', this._handleDocumentTouchmoveBound);\n        this.dropdownEl.removeEventListener('keydown', this._handleDropdownKeydownBound);\n    }\n    _handleClick(e) {\n        e.preventDefault();\n        this.open();\n    }\n    _handleMouseEnter() {\n        this.open();\n    }\n    _handleMouseLeave(e) {\n        let toEl = e.toElement || e.relatedTarget;\n        let leaveToDropdownContent = !!(0, cash_dom_1.default)(toEl).closest('.dropdown-content').length;\n        let leaveToActiveDropdownTrigger = false;\n        let $closestTrigger = (0, cash_dom_1.default)(toEl).closest('.dropdown-trigger');\n        if ($closestTrigger.length &&\n            !!$closestTrigger[0].M_Dropdown &&\n            $closestTrigger[0].M_Dropdown.isOpen) {\n            leaveToActiveDropdownTrigger = true;\n        }\n        // Close hover dropdown if mouse did not leave to either active dropdown-trigger or dropdown-content\n        if (!leaveToActiveDropdownTrigger && !leaveToDropdownContent) {\n            this.close();\n        }\n    }\n    _handleDocumentClick(e) {\n        let $target = (0, cash_dom_1.default)(e.target);\n        if (this.options.closeOnClick &&\n            $target.closest('.dropdown-content').length &&\n            !this.isTouchMoving) {\n            // isTouchMoving to check if scrolling on mobile.\n            setTimeout(() => {\n                this.close();\n            }, 0);\n        }\n        else if ($target.closest('.dropdown-trigger').length ||\n            !$target.closest('.dropdown-content').length) {\n            setTimeout(() => {\n                this.close();\n            }, 0);\n        }\n        this.isTouchMoving = false;\n    }\n    _handleTriggerKeydown(e) {\n        // ARROW DOWN OR ENTER WHEN SELECT IS CLOSED - open Dropdown\n        if ((e.which === global_1.M.keys.ARROW_DOWN || e.which === global_1.M.keys.ENTER) && !this.isOpen) {\n            e.preventDefault();\n            this.open();\n        }\n    }\n    /**\n     * Handle Document Touchmove\n     * @param {Event} e\n     */\n    _handleDocumentTouchmove(e) {\n        let $target = (0, cash_dom_1.default)(e.target);\n        if ($target.closest('.dropdown-content').length) {\n            this.isTouchMoving = true;\n        }\n    }\n    /**\n     * Handle Dropdown Click\n     * @param {Event} e\n     */\n    _handleDropdownClick(e) {\n        // onItemClick callback\n        if (typeof this.options.onItemClick === 'function') {\n            let itemEl = (0, cash_dom_1.default)(e.target).closest('li')[0];\n            this.options.onItemClick.call(this, itemEl);\n        }\n    }\n    /**\n     * Handle Dropdown Keydown\n     * @param {Event} e\n     */\n    _handleDropdownKeydown(e) {\n        if (e.which === global_1.M.keys.TAB) {\n            e.preventDefault();\n            this.close();\n            // Navigate down dropdown list\n        }\n        else if ((e.which === global_1.M.keys.ARROW_DOWN || e.which === global_1.M.keys.ARROW_UP) && this.isOpen) {\n            e.preventDefault();\n            let direction = e.which === global_1.M.keys.ARROW_DOWN ? 1 : -1;\n            let newFocusedIndex = this.focusedIndex;\n            let foundNewIndex = false;\n            do {\n                newFocusedIndex = newFocusedIndex + direction;\n                if (!!this.dropdownEl.children[newFocusedIndex] &&\n                    this.dropdownEl.children[newFocusedIndex].tabIndex !== -1) {\n                    foundNewIndex = true;\n                    break;\n                }\n            } while (newFocusedIndex < this.dropdownEl.children.length && newFocusedIndex >= 0);\n            if (foundNewIndex) {\n                // Remove active class from old element\n                if (this.focusedIndex >= 0)\n                    this.dropdownEl.children[this.focusedIndex].classList.remove('active');\n                this.focusedIndex = newFocusedIndex;\n                this._focusFocusedItem();\n            }\n            // ENTER selects choice on focused item\n        }\n        else if (e.which === global_1.M.keys.ENTER && this.isOpen) {\n            // Search for <a> and <button>\n            let focusedElement = this.dropdownEl.children[this.focusedIndex];\n            let $activatableElement = (0, cash_dom_1.default)(focusedElement)\n                .find('a, button')\n                .first();\n            // Click a or button tag if exists, otherwise click li tag\n            if (!!$activatableElement.length) {\n                $activatableElement[0].click();\n            }\n            else if (!!focusedElement) {\n                if (focusedElement instanceof HTMLElement) {\n                    focusedElement.click();\n                }\n            }\n            // Close dropdown on ESC\n        }\n        else if (e.which === global_1.M.keys.ESC && this.isOpen) {\n            e.preventDefault();\n            this.close();\n        }\n        // CASE WHEN USER TYPE LETTERS\n        let letter = String.fromCharCode(e.which).toLowerCase(), nonLetters = [9, 13, 27, 38, 40];\n        if (letter && nonLetters.indexOf(e.which) === -1) {\n            this.filterQuery.push(letter);\n            let string = this.filterQuery.join(''), newOptionEl = (0, cash_dom_1.default)(this.dropdownEl)\n                .find('li')\n                .filter((i, el) => {\n                return ((0, cash_dom_1.default)(el)\n                    .text()\n                    .toLowerCase()\n                    .indexOf(string) === 0);\n            })[0];\n            if (newOptionEl) {\n                this.focusedIndex = (0, cash_dom_1.default)(newOptionEl).index();\n                this._focusFocusedItem();\n            }\n        }\n        this.filterTimeout = setTimeout(this._resetFilterQueryBound, 1000);\n    }\n    /**\n     * Setup dropdown\n     */\n    _resetFilterQuery() {\n        this.filterQuery = [];\n    }\n    _resetDropdownStyles() {\n        this.$dropdownEl.css({\n            display: '',\n            width: '',\n            height: '',\n            left: '',\n            top: '',\n            'transform-origin': '',\n            transform: '',\n            opacity: ''\n        });\n    }\n    // Move dropdown after container or trigger\n    _moveDropdown(containerEl = null) {\n        if (!!this.options.container) {\n            (0, cash_dom_1.default)(this.options.container).append(this.dropdownEl);\n        }\n        else if (containerEl) {\n            if (!containerEl.contains(this.dropdownEl)) {\n                (0, cash_dom_1.default)(containerEl).append(this.dropdownEl);\n            }\n        }\n        else {\n            this.$el.after(this.dropdownEl);\n        }\n    }\n    _makeDropdownFocusable() {\n        // Needed for arrow key navigation\n        this.dropdownEl.tabIndex = 0;\n        // Only set tabindex if it hasn't been set by user\n        (0, cash_dom_1.default)(this.dropdownEl)\n            .children()\n            .each((i, el) => {\n            if (!el.getAttribute('tabindex')) {\n                el.setAttribute('tabindex', '0');\n            }\n        });\n    }\n    _focusFocusedItem() {\n        if (this.focusedIndex >= 0 &&\n            this.focusedIndex < this.dropdownEl.children.length &&\n            this.options.autoFocus) {\n            this.dropdownEl.children[this.focusedIndex].focus({\n                preventScroll: true\n            });\n            this.dropdownEl.children[this.focusedIndex].scrollIntoView({\n                behavior: 'smooth',\n                block: 'nearest',\n                inline: 'nearest'\n            });\n        }\n    }\n    _getDropdownPosition(closestOverflowParent) {\n        let offsetParentBRect = this.el.offsetParent.getBoundingClientRect();\n        let triggerBRect = this.el.getBoundingClientRect();\n        let dropdownBRect = this.dropdownEl.getBoundingClientRect();\n        let idealHeight = dropdownBRect.height;\n        let idealWidth = dropdownBRect.width;\n        let idealXPos = triggerBRect.left - dropdownBRect.left;\n        let idealYPos = triggerBRect.top - dropdownBRect.top;\n        let dropdownBounds = {\n            left: idealXPos,\n            top: idealYPos,\n            height: idealHeight,\n            width: idealWidth\n        };\n        let alignments = global_1.M.checkPossibleAlignments(this.el, closestOverflowParent, dropdownBounds, this.options.coverTrigger ? 0 : triggerBRect.height);\n        let verticalAlignment = 'top';\n        let horizontalAlignment = this.options.alignment;\n        idealYPos += this.options.coverTrigger ? 0 : triggerBRect.height;\n        // Reset isScrollable\n        this.isScrollable = false;\n        if (!alignments.top) {\n            if (alignments.bottom) {\n                verticalAlignment = 'bottom';\n                if (!this.options.coverTrigger) {\n                    idealYPos -= triggerBRect.height;\n                }\n            }\n            else {\n                this.isScrollable = true;\n                // Determine which side has most space and cutoff at correct height\n                idealHeight -= 20; // Add padding when cutoff\n                if (alignments.spaceOnTop > alignments.spaceOnBottom) {\n                    verticalAlignment = 'bottom';\n                    idealHeight += alignments.spaceOnTop;\n                    idealYPos -= this.options.coverTrigger\n                        ? alignments.spaceOnTop - 20\n                        : alignments.spaceOnTop - 20 + triggerBRect.height;\n                }\n                else {\n                    idealHeight += alignments.spaceOnBottom;\n                }\n            }\n        }\n        // If preferred horizontal alignment is possible\n        if (!alignments[horizontalAlignment]) {\n            let oppositeAlignment = horizontalAlignment === 'left' ? 'right' : 'left';\n            if (alignments[oppositeAlignment]) {\n                horizontalAlignment = oppositeAlignment;\n            }\n            else {\n                // Determine which side has most space and cutoff at correct height\n                if (alignments.spaceOnLeft > alignments.spaceOnRight) {\n                    horizontalAlignment = 'right';\n                    idealWidth += alignments.spaceOnLeft;\n                    idealXPos -= alignments.spaceOnLeft;\n                }\n                else {\n                    horizontalAlignment = 'left';\n                    idealWidth += alignments.spaceOnRight;\n                }\n            }\n        }\n        if (verticalAlignment === 'bottom') {\n            idealYPos =\n                idealYPos - dropdownBRect.height + (this.options.coverTrigger ? triggerBRect.height : 0);\n        }\n        if (horizontalAlignment === 'right') {\n            idealXPos = idealXPos - dropdownBRect.width + triggerBRect.width;\n        }\n        return {\n            x: idealXPos,\n            y: idealYPos,\n            verticalAlignment: verticalAlignment,\n            horizontalAlignment: horizontalAlignment,\n            height: idealHeight,\n            width: idealWidth\n        };\n    }\n    /**\n     * Animate in dropdown\n     */\n    _animateIn() {\n        animejs_1.default.remove(this.dropdownEl);\n        (0, animejs_1.default)({\n            targets: this.dropdownEl,\n            opacity: {\n                value: [0, 1],\n                easing: 'easeOutQuad'\n            },\n            scaleX: [0.3, 1],\n            scaleY: [0.3, 1],\n            duration: this.options.inDuration,\n            easing: 'easeOutQuint',\n            complete: (anim) => {\n                if (this.options.autoFocus) {\n                    this.dropdownEl.focus();\n                }\n                // onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    /**\n     * Animate out dropdown\n     */\n    _animateOut() {\n        animejs_1.default.remove(this.dropdownEl);\n        (0, animejs_1.default)({\n            targets: this.dropdownEl,\n            opacity: {\n                value: 0,\n                easing: 'easeOutQuint'\n            },\n            scaleX: 0.3,\n            scaleY: 0.3,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuint',\n            complete: (anim) => {\n                this._resetDropdownStyles();\n                // onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    /**\n     * Place dropdown\n     */\n    _placeDropdown() {\n        /**\n         * Get closest ancestor that satisfies the condition\n         * @param {Element} el  Element to find ancestors on\n         * @param {Function} condition  Function that given an ancestor element returns true or false\n         * @returns {Element} Return closest ancestor or null if none satisfies the condition\n         */\n        const getClosestAncestor = function (el, condition) {\n            let ancestor = el.parentNode;\n            while (ancestor !== null && !(0, cash_dom_1.default)(ancestor).is(document)) {\n                if (condition(ancestor)) {\n                    return ancestor;\n                }\n                ancestor = ancestor.parentNode;\n            }\n            return null;\n        };\n        // Container here will be closest ancestor with overflow: hidden\n        let closestOverflowParent = getClosestAncestor(this.dropdownEl, (ancestor) => {\n            return !(0, cash_dom_1.default)(ancestor).is('html,body') && (0, cash_dom_1.default)(ancestor).css('overflow') !== 'visible';\n        });\n        // Fallback\n        if (!closestOverflowParent) {\n            closestOverflowParent = !!this.dropdownEl.offsetParent\n                ? this.dropdownEl.offsetParent\n                : this.dropdownEl.parentNode;\n        }\n        if ((0, cash_dom_1.default)(closestOverflowParent).css('position') === 'static')\n            (0, cash_dom_1.default)(closestOverflowParent).css('position', 'relative');\n        this._moveDropdown(closestOverflowParent);\n        // Set width before calculating positionInfo\n        let idealWidth = this.options.constrainWidth\n            ? this.el.getBoundingClientRect().width\n            : this.dropdownEl.getBoundingClientRect().width;\n        this.dropdownEl.style.width = idealWidth + 'px';\n        let positionInfo = this._getDropdownPosition(closestOverflowParent);\n        this.dropdownEl.style.left = positionInfo.x + 'px';\n        this.dropdownEl.style.top = positionInfo.y + 'px';\n        this.dropdownEl.style.height = positionInfo.height + 'px';\n        this.dropdownEl.style.width = positionInfo.width + 'px';\n        this.dropdownEl.style.transformOrigin = `${positionInfo.horizontalAlignment === 'left' ? '0' : '100%'} ${positionInfo.verticalAlignment === 'top' ? '0' : '100%'}`;\n    }\n    /**\n     * Open Dropdown\n     */\n    open() {\n        if (this.isOpen) {\n            return;\n        }\n        this.isOpen = true;\n        // onOpenStart callback\n        if (typeof this.options.onOpenStart === 'function') {\n            this.options.onOpenStart.call(this, this.el);\n        }\n        // Reset styles\n        this._resetDropdownStyles();\n        this.dropdownEl.style.display = 'block';\n        this._placeDropdown();\n        this._animateIn();\n        this._setupTemporaryEventHandlers();\n    }\n    /**\n     * Close Dropdown\n     */\n    close() {\n        if (!this.isOpen) {\n            return;\n        }\n        this.isOpen = false;\n        this.focusedIndex = -1;\n        // onCloseStart callback\n        if (typeof this.options.onCloseStart === 'function') {\n            this.options.onCloseStart.call(this, this.el);\n        }\n        this._animateOut();\n        this._removeTemporaryEventHandlers();\n        if (this.options.autoFocus) {\n            this.el.focus();\n        }\n    }\n    /**\n     * Recalculate dimensions\n     */\n    recalculateDimensions() {\n        if (this.isOpen) {\n            this.$dropdownEl.css({\n                width: '',\n                height: '',\n                left: '',\n                top: '',\n                'transform-origin': ''\n            });\n            this._placeDropdown();\n        }\n    }\n}\nexports.Dropdown = Dropdown;\nDropdown._dropdowns = [];\n(() => {\n    /**\n     * @static\n     * @memberof Dropdown\n     */\n    Dropdown._dropdowns = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcbmltcG9ydCAkIGZyb20gXCJjYXNoLWRvbVwiO1xuaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxuICBsZXQgX2RlZmF1bHRzID0ge1xuICAgIGFsaWdubWVudDogJ2xlZnQnLFxuICAgIGF1dG9Gb2N1czogdHJ1ZSxcbiAgICBjb25zdHJhaW5XaWR0aDogdHJ1ZSxcbiAgICBjb250YWluZXI6IG51bGwsXG4gICAgY292ZXJUcmlnZ2VyOiB0cnVlLFxuICAgIGNsb3NlT25DbGljazogdHJ1ZSxcbiAgICBob3ZlcjogZmFsc2UsXG4gICAgaW5EdXJhdGlvbjogMTUwLFxuICAgIG91dER1cmF0aW9uOiAyNTAsXG4gICAgb25PcGVuU3RhcnQ6IG51bGwsXG4gICAgb25PcGVuRW5kOiBudWxsLFxuICAgIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgICBvbkNsb3NlRW5kOiBudWxsLFxuICAgIG9uSXRlbUNsaWNrOiBudWxsXG4gIH07XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKi9cbiAgZXhwb3J0IGNsYXNzIERyb3Bkb3duIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgX2Ryb3Bkb3duczogRHJvcGRvd25bXSA9IFtdO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZHJvcGRvd25FbDogSFRNTEVsZW1lbnQ7XG4gICAgJGRyb3Bkb3duRWw6IGFueTtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgaXNTY3JvbGxhYmxlOiBib29sZWFuO1xuICAgIGlzVG91Y2hNb3Zpbmc6IGJvb2xlYW47XG4gICAgZm9jdXNlZEluZGV4OiBudW1iZXI7XG4gICAgZmlsdGVyUXVlcnk6IGFueVtdO1xuICAgIHByaXZhdGUgX3Jlc2V0RmlsdGVyUXVlcnlCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZURvY3VtZW50VG91Y2htb3ZlQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVEcm9wZG93bkNsaWNrQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVEcm9wZG93bktleWRvd25Cb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZVRyaWdnZXJLZXlkb3duQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVNb3VzZUVudGVyQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVNb3VzZUxlYXZlQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVDbGlja0JvdW5kOiBhbnk7XG4gICAgZmlsdGVyVGltZW91dDogTm9kZUpTLlRpbWVvdXQ7XG4gICAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKERyb3Bkb3duLCBlbCwgb3B0aW9ucyk7XG5cbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9Ecm9wZG93biA9IHRoaXM7XG4gICAgICBEcm9wZG93bi5fZHJvcGRvd25zLnB1c2godGhpcyk7XG5cbiAgICAgIHRoaXMuaWQgPSBNLmdldElkRnJvbVRyaWdnZXIoZWwpO1xuICAgICAgdGhpcy5kcm9wZG93bkVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCk7XG4gICAgICB0aGlzLiRkcm9wZG93bkVsID0gJCh0aGlzLmRyb3Bkb3duRWwpO1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBkcm9wZG93blxuICAgICAgICogQG1lbWJlciBEcm9wZG93biNvcHRpb25zXG4gICAgICAgKiBAcHJvcCB7U3RyaW5nfSBbYWxpZ25tZW50PSdsZWZ0J10gLSBFZGdlIHdoaWNoIHRoZSBkcm9wZG93biBpcyBhbGlnbmVkIHRvXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gW2F1dG9Gb2N1cz10cnVlXSAtIEF1dG9tYXRpY2FsbHkgZm9jdXMgZHJvcGRvd24gZWwgZm9yIGtleWJvYXJkXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gW2NvbnN0cmFpbldpZHRoPXRydWVdIC0gQ29uc3RyYWluIHdpZHRoIHRvIHdpZHRoIG9mIHRoZSBidXR0b25cbiAgICAgICAqIEBwcm9wIHtFbGVtZW50fSBjb250YWluZXIgLSBDb250YWluZXIgZWxlbWVudCB0byBhdHRhY2ggZHJvcGRvd24gdG8gKG9wdGlvbmFsKVxuICAgICAgICogQHByb3Age0Jvb2xlYW59IFtjb3ZlclRyaWdnZXI9dHJ1ZV0gLSBQbGFjZSBkcm9wZG93biBvdmVyIHRyaWdnZXJcbiAgICAgICAqIEBwcm9wIHtCb29sZWFufSBbY2xvc2VPbkNsaWNrPXRydWVdIC0gQ2xvc2Ugb24gY2xpY2sgb2YgZHJvcGRvd24gaXRlbVxuICAgICAgICogQHByb3Age0Jvb2xlYW59IFtob3Zlcj1mYWxzZV0gLSBPcGVuIGRyb3Bkb3duIG9uIGhvdmVyXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbaW5EdXJhdGlvbj0xNTBdIC0gRHVyYXRpb24gb2Ygb3BlbiBhbmltYXRpb24gaW4gbXNcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IFtvdXREdXJhdGlvbj0yNTBdIC0gRHVyYXRpb24gb2YgY2xvc2UgYW5pbWF0aW9uIGluIG1zXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uT3BlblN0YXJ0IC0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gZHJvcGRvd24gc3RhcnRzIG9wZW5pbmdcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25PcGVuRW5kIC0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gZHJvcGRvd24gZmluaXNoZXMgb3BlbmluZ1xuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbkNsb3NlU3RhcnQgLSBGdW5jdGlvbiBjYWxsZWQgd2hlbiBkcm9wZG93biBzdGFydHMgY2xvc2luZ1xuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbkNsb3NlRW5kIC0gRnVuY3Rpb24gY2FsbGVkIHdoZW4gZHJvcGRvd24gZmluaXNoZXMgY2xvc2luZ1xuICAgICAgICovXG4gICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgRHJvcGRvd24uZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAvKipcbiAgICAgICAqIERlc2NyaWJlcyBvcGVuL2Nsb3NlIHN0YXRlIG9mIGRyb3Bkb3duXG4gICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcblxuICAgICAgLyoqXG4gICAgICAgKiBEZXNjcmliZXMgaWYgZHJvcGRvd24gY29udGVudCBpcyBzY3JvbGxhYmxlXG4gICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgdGhpcy5pc1Njcm9sbGFibGUgPSBmYWxzZTtcblxuICAgICAgLyoqXG4gICAgICAgKiBEZXNjcmliZXMgaWYgdG91Y2ggbW92aW5nIG9uIGRyb3Bkb3duIGNvbnRlbnRcbiAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICovXG4gICAgICB0aGlzLmlzVG91Y2hNb3ZpbmcgPSBmYWxzZTtcblxuICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPSAtMTtcbiAgICAgIHRoaXMuZmlsdGVyUXVlcnkgPSBbXTtcblxuICAgICAgLy8gTW92ZSBkcm9wZG93bi1jb250ZW50IGFmdGVyIGRyb3Bkb3duLXRyaWdnZXJcbiAgICAgIHRoaXMuX21vdmVEcm9wZG93bigpO1xuXG4gICAgICB0aGlzLl9tYWtlRHJvcGRvd25Gb2N1c2FibGUoKTtcbiAgICAgIHRoaXMuX3Jlc2V0RmlsdGVyUXVlcnlCb3VuZCA9IHRoaXMuX3Jlc2V0RmlsdGVyUXVlcnkuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2suYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZURvY3VtZW50VG91Y2htb3ZlQm91bmQgPSB0aGlzLl9oYW5kbGVEb2N1bWVudFRvdWNobW92ZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlRHJvcGRvd25DbGlja0JvdW5kID0gdGhpcy5faGFuZGxlRHJvcGRvd25DbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlRHJvcGRvd25LZXlkb3duQm91bmQgPSB0aGlzLl9oYW5kbGVEcm9wZG93bktleWRvd24uYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZVRyaWdnZXJLZXlkb3duQm91bmQgPSB0aGlzLl9oYW5kbGVUcmlnZ2VyS2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX0Ryb3Bkb3duO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICB0aGlzLl9yZXNldERyb3Bkb3duU3R5bGVzKCk7XG4gICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICBEcm9wZG93bi5fZHJvcGRvd25zLnNwbGljZShEcm9wZG93bi5fZHJvcGRvd25zLmluZGV4T2YodGhpcyksIDEpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX0Ryb3Bkb3duID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICovXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIC8vIFRyaWdnZXIga2V5ZG93biBoYW5kbGVyXG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVUcmlnZ2VyS2V5ZG93bkJvdW5kKTtcblxuICAgICAgLy8gSXRlbSBjbGljayBoYW5kbGVyXG4gICAgICB0aGlzLmRyb3Bkb3duRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEcm9wZG93bkNsaWNrQm91bmQpO1xuXG4gICAgICAvLyBIb3ZlciBldmVudCBoYW5kbGVyc1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ob3Zlcikge1xuICAgICAgICB0aGlzLl9oYW5kbGVNb3VzZUVudGVyQm91bmQgPSB0aGlzLl9oYW5kbGVNb3VzZUVudGVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXJCb3VuZCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmVCb3VuZCA9IHRoaXMuX2hhbmRsZU1vdXNlTGVhdmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZUJvdW5kKTtcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlQm91bmQpO1xuXG4gICAgICAgIC8vIENsaWNrIGV2ZW50IGhhbmRsZXJzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oYW5kbGVDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrQm91bmQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBFdmVudCBIYW5kbGVyc1xuICAgICAqL1xuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlVHJpZ2dlcktleWRvd25Cb3VuZCk7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEcm9wZG93bkNsaWNrQm91bmQpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmhvdmVyKSB7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXJCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmVCb3VuZCk7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZUJvdW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbGlja0JvdW5kKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0dXBUZW1wb3JhcnlFdmVudEhhbmRsZXJzKCkge1xuICAgICAgLy8gVXNlIGNhcHR1cmUgcGhhc2UgZXZlbnQgaGFuZGxlciB0byBwcmV2ZW50IGNsaWNrXG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kLCB0cnVlKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRG9jdW1lbnRUb3VjaG1vdmVCb3VuZCk7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZURyb3Bkb3duS2V5ZG93bkJvdW5kKTtcbiAgICB9XG5cbiAgICBfcmVtb3ZlVGVtcG9yYXJ5RXZlbnRIYW5kbGVycygpIHtcbiAgICAgIC8vIFVzZSBjYXB0dXJlIHBoYXNlIGV2ZW50IGhhbmRsZXIgdG8gcHJldmVudCBjbGlja1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCwgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50VG91Y2htb3ZlQm91bmQpO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVEcm9wZG93bktleWRvd25Cb3VuZCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUNsaWNrKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cblxuICAgIF9oYW5kbGVNb3VzZUVudGVyKCkge1xuICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZU1vdXNlTGVhdmUoZSkge1xuICAgICAgbGV0IHRvRWwgPSBlLnRvRWxlbWVudCB8fCBlLnJlbGF0ZWRUYXJnZXQ7XG4gICAgICBsZXQgbGVhdmVUb0Ryb3Bkb3duQ29udGVudCA9ICEhJCh0b0VsKS5jbG9zZXN0KCcuZHJvcGRvd24tY29udGVudCcpLmxlbmd0aDtcbiAgICAgIGxldCBsZWF2ZVRvQWN0aXZlRHJvcGRvd25UcmlnZ2VyID0gZmFsc2U7XG5cbiAgICAgIGxldCAkY2xvc2VzdFRyaWdnZXIgPSAkKHRvRWwpLmNsb3Nlc3QoJy5kcm9wZG93bi10cmlnZ2VyJyk7XG4gICAgICBpZiAoXG4gICAgICAgICRjbG9zZXN0VHJpZ2dlci5sZW5ndGggJiZcbiAgICAgICAgISEoPGFueT4gJGNsb3Nlc3RUcmlnZ2VyWzBdKS5NX0Ryb3Bkb3duICYmXG4gICAgICAgICg8YW55PiAkY2xvc2VzdFRyaWdnZXJbMF0pLk1fRHJvcGRvd24uaXNPcGVuXG4gICAgICApIHtcbiAgICAgICAgbGVhdmVUb0FjdGl2ZURyb3Bkb3duVHJpZ2dlciA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENsb3NlIGhvdmVyIGRyb3Bkb3duIGlmIG1vdXNlIGRpZCBub3QgbGVhdmUgdG8gZWl0aGVyIGFjdGl2ZSBkcm9wZG93bi10cmlnZ2VyIG9yIGRyb3Bkb3duLWNvbnRlbnRcbiAgICAgIGlmICghbGVhdmVUb0FjdGl2ZURyb3Bkb3duVHJpZ2dlciAmJiAhbGVhdmVUb0Ryb3Bkb3duQ29udGVudCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZURvY3VtZW50Q2xpY2soZSkge1xuICAgICAgbGV0ICR0YXJnZXQgPSAkKGUudGFyZ2V0KTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5vcHRpb25zLmNsb3NlT25DbGljayAmJlxuICAgICAgICAkdGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bi1jb250ZW50JykubGVuZ3RoICYmXG4gICAgICAgICF0aGlzLmlzVG91Y2hNb3ZpbmdcbiAgICAgICkge1xuICAgICAgICAvLyBpc1RvdWNoTW92aW5nIHRvIGNoZWNrIGlmIHNjcm9sbGluZyBvbiBtb2JpbGUuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAkdGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bi10cmlnZ2VyJykubGVuZ3RoIHx8XG4gICAgICAgICEkdGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bi1jb250ZW50JykubGVuZ3RoXG4gICAgICApIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNUb3VjaE1vdmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9oYW5kbGVUcmlnZ2VyS2V5ZG93bihlKSB7XG4gICAgICAvLyBBUlJPVyBET1dOIE9SIEVOVEVSIFdIRU4gU0VMRUNUIElTIENMT1NFRCAtIG9wZW4gRHJvcGRvd25cbiAgICAgIGlmICgoZS53aGljaCA9PT0gTS5rZXlzLkFSUk9XX0RPV04gfHwgZS53aGljaCA9PT0gTS5rZXlzLkVOVEVSKSAmJiAhdGhpcy5pc09wZW4pIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgRG9jdW1lbnQgVG91Y2htb3ZlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqL1xuICAgIF9oYW5kbGVEb2N1bWVudFRvdWNobW92ZShlKSB7XG4gICAgICBsZXQgJHRhcmdldCA9ICQoZS50YXJnZXQpO1xuICAgICAgaWYgKCR0YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5pc1RvdWNoTW92aW5nID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgRHJvcGRvd24gQ2xpY2tcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgX2hhbmRsZURyb3Bkb3duQ2xpY2soZSkge1xuICAgICAgLy8gb25JdGVtQ2xpY2sgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uSXRlbUNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGxldCBpdGVtRWwgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCdsaScpWzBdO1xuICAgICAgICB0aGlzLm9wdGlvbnMub25JdGVtQ2xpY2suY2FsbCh0aGlzLCBpdGVtRWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBEcm9wZG93biBLZXlkb3duXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqL1xuICAgIF9oYW5kbGVEcm9wZG93bktleWRvd24oZSkge1xuICAgICAgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5UQUIpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICAgICAgLy8gTmF2aWdhdGUgZG93biBkcm9wZG93biBsaXN0XG4gICAgICB9IGVsc2UgaWYgKChlLndoaWNoID09PSBNLmtleXMuQVJST1dfRE9XTiB8fCBlLndoaWNoID09PSBNLmtleXMuQVJST1dfVVApICYmIHRoaXMuaXNPcGVuKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IGRpcmVjdGlvbiA9IGUud2hpY2ggPT09IE0ua2V5cy5BUlJPV19ET1dOID8gMSA6IC0xO1xuICAgICAgICBsZXQgbmV3Rm9jdXNlZEluZGV4ID0gdGhpcy5mb2N1c2VkSW5kZXg7XG4gICAgICAgIGxldCBmb3VuZE5ld0luZGV4ID0gZmFsc2U7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBuZXdGb2N1c2VkSW5kZXggPSBuZXdGb2N1c2VkSW5kZXggKyBkaXJlY3Rpb247XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhIXRoaXMuZHJvcGRvd25FbC5jaGlsZHJlbltuZXdGb2N1c2VkSW5kZXhdICYmXG4gICAgICAgICAgICAoPGFueT50aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bbmV3Rm9jdXNlZEluZGV4XSkudGFiSW5kZXggIT09IC0xXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBmb3VuZE5ld0luZGV4ID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAobmV3Rm9jdXNlZEluZGV4IDwgdGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuLmxlbmd0aCAmJiBuZXdGb2N1c2VkSW5kZXggPj0gMCk7XG5cbiAgICAgICAgaWYgKGZvdW5kTmV3SW5kZXgpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgYWN0aXZlIGNsYXNzIGZyb20gb2xkIGVsZW1lbnRcbiAgICAgICAgICBpZiAodGhpcy5mb2N1c2VkSW5kZXggPj0gMClcbiAgICAgICAgICAgIHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlblt0aGlzLmZvY3VzZWRJbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPSBuZXdGb2N1c2VkSW5kZXg7XG4gICAgICAgICAgdGhpcy5fZm9jdXNGb2N1c2VkSXRlbSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRU5URVIgc2VsZWN0cyBjaG9pY2Ugb24gZm9jdXNlZCBpdGVtXG4gICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5FTlRFUiAmJiB0aGlzLmlzT3Blbikge1xuICAgICAgICAvLyBTZWFyY2ggZm9yIDxhPiBhbmQgPGJ1dHRvbj5cbiAgICAgICAgbGV0IGZvY3VzZWRFbGVtZW50ID0gdGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuW3RoaXMuZm9jdXNlZEluZGV4XTtcbiAgICAgICAgbGV0ICRhY3RpdmF0YWJsZUVsZW1lbnQgPSAkKGZvY3VzZWRFbGVtZW50KVxuICAgICAgICAgIC5maW5kKCdhLCBidXR0b24nKVxuICAgICAgICAgIC5maXJzdCgpO1xuXG4gICAgICAgIC8vIENsaWNrIGEgb3IgYnV0dG9uIHRhZyBpZiBleGlzdHMsIG90aGVyd2lzZSBjbGljayBsaSB0YWdcbiAgICAgICAgaWYgKCEhJGFjdGl2YXRhYmxlRWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAkYWN0aXZhdGFibGVFbGVtZW50WzBdLmNsaWNrKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoISFmb2N1c2VkRWxlbWVudCkge1xuICAgICAgICAgIGlmIChmb2N1c2VkRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICBmb2N1c2VkRWxlbWVudC5jbGljaygpO1xuICAgICAgICAgIH0gICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDbG9zZSBkcm9wZG93biBvbiBFU0NcbiAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PT0gTS5rZXlzLkVTQyAmJiB0aGlzLmlzT3Blbikge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ0FTRSBXSEVOIFVTRVIgVFlQRSBMRVRURVJTXG4gICAgICBsZXQgbGV0dGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICBub25MZXR0ZXJzID0gWzksIDEzLCAyNywgMzgsIDQwXTtcbiAgICAgIGlmIChsZXR0ZXIgJiYgbm9uTGV0dGVycy5pbmRleE9mKGUud2hpY2gpID09PSAtMSkge1xuICAgICAgICB0aGlzLmZpbHRlclF1ZXJ5LnB1c2gobGV0dGVyKTtcblxuICAgICAgICBsZXQgc3RyaW5nID0gdGhpcy5maWx0ZXJRdWVyeS5qb2luKCcnKSxcbiAgICAgICAgICBuZXdPcHRpb25FbCA9ICQodGhpcy5kcm9wZG93bkVsKVxuICAgICAgICAgICAgLmZpbmQoJ2xpJylcbiAgICAgICAgICAgIC5maWx0ZXIoKGksZWwpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAkKGVsKVxuICAgICAgICAgICAgICAgICAgLnRleHQoKVxuICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgIC5pbmRleE9mKHN0cmluZykgPT09IDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pWzBdO1xuXG4gICAgICAgIGlmIChuZXdPcHRpb25FbCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNlZEluZGV4ID0gJChuZXdPcHRpb25FbCkuaW5kZXgoKTtcbiAgICAgICAgICB0aGlzLl9mb2N1c0ZvY3VzZWRJdGVtKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5maWx0ZXJUaW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLl9yZXNldEZpbHRlclF1ZXJ5Qm91bmQsIDEwMDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHVwIGRyb3Bkb3duXG4gICAgICovXG4gICAgX3Jlc2V0RmlsdGVyUXVlcnkoKSB7XG4gICAgICB0aGlzLmZpbHRlclF1ZXJ5ID0gW107XG4gICAgfVxuXG4gICAgX3Jlc2V0RHJvcGRvd25TdHlsZXMoKSB7XG4gICAgICB0aGlzLiRkcm9wZG93bkVsLmNzcyh7XG4gICAgICAgIGRpc3BsYXk6ICcnLFxuICAgICAgICB3aWR0aDogJycsXG4gICAgICAgIGhlaWdodDogJycsXG4gICAgICAgIGxlZnQ6ICcnLFxuICAgICAgICB0b3A6ICcnLFxuICAgICAgICAndHJhbnNmb3JtLW9yaWdpbic6ICcnLFxuICAgICAgICB0cmFuc2Zvcm06ICcnLFxuICAgICAgICBvcGFjaXR5OiAnJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gTW92ZSBkcm9wZG93biBhZnRlciBjb250YWluZXIgb3IgdHJpZ2dlclxuICAgIF9tb3ZlRHJvcGRvd24oY29udGFpbmVyRWwgPSBudWxsKSB7XG4gICAgICBpZiAoISF0aGlzLm9wdGlvbnMuY29udGFpbmVyKSB7XG4gICAgICAgICQodGhpcy5vcHRpb25zLmNvbnRhaW5lcikuYXBwZW5kKHRoaXMuZHJvcGRvd25FbCk7XG4gICAgICB9IGVsc2UgaWYgKGNvbnRhaW5lckVsKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyRWwuY29udGFpbnModGhpcy5kcm9wZG93bkVsKSkge1xuICAgICAgICAgICQoY29udGFpbmVyRWwpLmFwcGVuZCh0aGlzLmRyb3Bkb3duRWwpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRlbC5hZnRlcih0aGlzLmRyb3Bkb3duRWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9tYWtlRHJvcGRvd25Gb2N1c2FibGUoKSB7XG4gICAgICAvLyBOZWVkZWQgZm9yIGFycm93IGtleSBuYXZpZ2F0aW9uXG4gICAgICB0aGlzLmRyb3Bkb3duRWwudGFiSW5kZXggPSAwO1xuXG4gICAgICAvLyBPbmx5IHNldCB0YWJpbmRleCBpZiBpdCBoYXNuJ3QgYmVlbiBzZXQgYnkgdXNlclxuICAgICAgJCh0aGlzLmRyb3Bkb3duRWwpXG4gICAgICAgIC5jaGlsZHJlbigpXG4gICAgICAgIC5lYWNoKChpLCBlbCk9PiB7XG4gICAgICAgICAgaWYgKCFlbC5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JykpIHtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2ZvY3VzRm9jdXNlZEl0ZW0oKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuZm9jdXNlZEluZGV4ID49IDAgJiZcbiAgICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPCB0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW4ubGVuZ3RoICYmXG4gICAgICAgIHRoaXMub3B0aW9ucy5hdXRvRm9jdXNcbiAgICAgICkge1xuICAgICAgICAodGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuW3RoaXMuZm9jdXNlZEluZGV4XSBhcyBIVE1MRWxlbWVudCkuZm9jdXMoe1xuICAgICAgICAgIHByZXZlbnRTY3JvbGw6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlblt0aGlzLmZvY3VzZWRJbmRleF0uc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcbiAgICAgICAgICBibG9jazogJ25lYXJlc3QnLFxuICAgICAgICAgIGlubGluZTogJ25lYXJlc3QnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9nZXREcm9wZG93blBvc2l0aW9uKGNsb3Nlc3RPdmVyZmxvd1BhcmVudCkge1xuICAgICAgbGV0IG9mZnNldFBhcmVudEJSZWN0ID0gKDxIVE1MRWxlbWVudD4gdGhpcy5lbCkub2Zmc2V0UGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgbGV0IHRyaWdnZXJCUmVjdCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBsZXQgZHJvcGRvd25CUmVjdCA9IHRoaXMuZHJvcGRvd25FbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgbGV0IGlkZWFsSGVpZ2h0ID0gZHJvcGRvd25CUmVjdC5oZWlnaHQ7XG4gICAgICBsZXQgaWRlYWxXaWR0aCA9IGRyb3Bkb3duQlJlY3Qud2lkdGg7XG4gICAgICBsZXQgaWRlYWxYUG9zID0gdHJpZ2dlckJSZWN0LmxlZnQgLSBkcm9wZG93bkJSZWN0LmxlZnQ7XG4gICAgICBsZXQgaWRlYWxZUG9zID0gdHJpZ2dlckJSZWN0LnRvcCAtIGRyb3Bkb3duQlJlY3QudG9wO1xuXG4gICAgICBsZXQgZHJvcGRvd25Cb3VuZHMgPSB7XG4gICAgICAgIGxlZnQ6IGlkZWFsWFBvcyxcbiAgICAgICAgdG9wOiBpZGVhbFlQb3MsXG4gICAgICAgIGhlaWdodDogaWRlYWxIZWlnaHQsXG4gICAgICAgIHdpZHRoOiBpZGVhbFdpZHRoXG4gICAgICB9O1xuXG4gICAgICBsZXQgYWxpZ25tZW50cyA9IE0uY2hlY2tQb3NzaWJsZUFsaWdubWVudHMoXG4gICAgICAgIHRoaXMuZWwsXG4gICAgICAgIGNsb3Nlc3RPdmVyZmxvd1BhcmVudCxcbiAgICAgICAgZHJvcGRvd25Cb3VuZHMsXG4gICAgICAgIHRoaXMub3B0aW9ucy5jb3ZlclRyaWdnZXIgPyAwIDogdHJpZ2dlckJSZWN0LmhlaWdodFxuICAgICAgKTtcblxuICAgICAgbGV0IHZlcnRpY2FsQWxpZ25tZW50ID0gJ3RvcCc7XG4gICAgICBsZXQgaG9yaXpvbnRhbEFsaWdubWVudCA9IHRoaXMub3B0aW9ucy5hbGlnbm1lbnQ7XG4gICAgICBpZGVhbFlQb3MgKz0gdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlciA/IDAgOiB0cmlnZ2VyQlJlY3QuaGVpZ2h0O1xuXG4gICAgICAvLyBSZXNldCBpc1Njcm9sbGFibGVcbiAgICAgIHRoaXMuaXNTY3JvbGxhYmxlID0gZmFsc2U7XG5cbiAgICAgIGlmICghYWxpZ25tZW50cy50b3ApIHtcbiAgICAgICAgaWYgKGFsaWdubWVudHMuYm90dG9tKSB7XG4gICAgICAgICAgdmVydGljYWxBbGlnbm1lbnQgPSAnYm90dG9tJztcblxuICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlcikge1xuICAgICAgICAgICAgaWRlYWxZUG9zIC09IHRyaWdnZXJCUmVjdC5oZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaXNTY3JvbGxhYmxlID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIERldGVybWluZSB3aGljaCBzaWRlIGhhcyBtb3N0IHNwYWNlIGFuZCBjdXRvZmYgYXQgY29ycmVjdCBoZWlnaHRcbiAgICAgICAgICBpZGVhbEhlaWdodCAtPSAyMDsgLy8gQWRkIHBhZGRpbmcgd2hlbiBjdXRvZmZcbiAgICAgICAgICBpZiAoYWxpZ25tZW50cy5zcGFjZU9uVG9wID4gYWxpZ25tZW50cy5zcGFjZU9uQm90dG9tKSB7XG4gICAgICAgICAgICB2ZXJ0aWNhbEFsaWdubWVudCA9ICdib3R0b20nO1xuICAgICAgICAgICAgaWRlYWxIZWlnaHQgKz0gYWxpZ25tZW50cy5zcGFjZU9uVG9wO1xuICAgICAgICAgICAgaWRlYWxZUG9zIC09IHRoaXMub3B0aW9ucy5jb3ZlclRyaWdnZXJcbiAgICAgICAgICAgICAgPyBhbGlnbm1lbnRzLnNwYWNlT25Ub3AgLSAyMFxuICAgICAgICAgICAgICA6IGFsaWdubWVudHMuc3BhY2VPblRvcCAtIDIwICsgdHJpZ2dlckJSZWN0LmhlaWdodDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWRlYWxIZWlnaHQgKz0gYWxpZ25tZW50cy5zcGFjZU9uQm90dG9tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiBwcmVmZXJyZWQgaG9yaXpvbnRhbCBhbGlnbm1lbnQgaXMgcG9zc2libGVcbiAgICAgIGlmICghYWxpZ25tZW50c1tob3Jpem9udGFsQWxpZ25tZW50XSkge1xuICAgICAgICBsZXQgb3Bwb3NpdGVBbGlnbm1lbnQgPSBob3Jpem9udGFsQWxpZ25tZW50ID09PSAnbGVmdCcgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgICBpZiAoYWxpZ25tZW50c1tvcHBvc2l0ZUFsaWdubWVudF0pIHtcbiAgICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50ID0gb3Bwb3NpdGVBbGlnbm1lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHNpZGUgaGFzIG1vc3Qgc3BhY2UgYW5kIGN1dG9mZiBhdCBjb3JyZWN0IGhlaWdodFxuICAgICAgICAgIGlmIChhbGlnbm1lbnRzLnNwYWNlT25MZWZ0ID4gYWxpZ25tZW50cy5zcGFjZU9uUmlnaHQpIHtcbiAgICAgICAgICAgIGhvcml6b250YWxBbGlnbm1lbnQgPSAncmlnaHQnO1xuICAgICAgICAgICAgaWRlYWxXaWR0aCArPSBhbGlnbm1lbnRzLnNwYWNlT25MZWZ0O1xuICAgICAgICAgICAgaWRlYWxYUG9zIC09IGFsaWdubWVudHMuc3BhY2VPbkxlZnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhvcml6b250YWxBbGlnbm1lbnQgPSAnbGVmdCc7XG4gICAgICAgICAgICBpZGVhbFdpZHRoICs9IGFsaWdubWVudHMuc3BhY2VPblJpZ2h0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodmVydGljYWxBbGlnbm1lbnQgPT09ICdib3R0b20nKSB7XG4gICAgICAgIGlkZWFsWVBvcyA9XG4gICAgICAgICAgaWRlYWxZUG9zIC0gZHJvcGRvd25CUmVjdC5oZWlnaHQgKyAodGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlciA/IHRyaWdnZXJCUmVjdC5oZWlnaHQgOiAwKTtcbiAgICAgIH1cbiAgICAgIGlmIChob3Jpem9udGFsQWxpZ25tZW50ID09PSAncmlnaHQnKSB7XG4gICAgICAgIGlkZWFsWFBvcyA9IGlkZWFsWFBvcyAtIGRyb3Bkb3duQlJlY3Qud2lkdGggKyB0cmlnZ2VyQlJlY3Qud2lkdGg7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBpZGVhbFhQb3MsXG4gICAgICAgIHk6IGlkZWFsWVBvcyxcbiAgICAgICAgdmVydGljYWxBbGlnbm1lbnQ6IHZlcnRpY2FsQWxpZ25tZW50LFxuICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50OiBob3Jpem9udGFsQWxpZ25tZW50LFxuICAgICAgICBoZWlnaHQ6IGlkZWFsSGVpZ2h0LFxuICAgICAgICB3aWR0aDogaWRlYWxXaWR0aFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbmltYXRlIGluIGRyb3Bkb3duXG4gICAgICovXG4gICAgX2FuaW1hdGVJbigpIHtcbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZHJvcGRvd25FbCk7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5kcm9wZG93bkVsLFxuICAgICAgICBvcGFjaXR5OiB7XG4gICAgICAgICAgdmFsdWU6IFswLCAxXSxcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgfSxcbiAgICAgICAgc2NhbGVYOiBbMC4zLCAxXSxcbiAgICAgICAgc2NhbGVZOiBbMC4zLCAxXSxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVpbnQnLFxuICAgICAgICBjb21wbGV0ZTogKGFuaW0pID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9Gb2N1cykge1xuICAgICAgICAgICAgdGhpcy5kcm9wZG93bkVsLmZvY3VzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuRW5kLmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbmltYXRlIG91dCBkcm9wZG93blxuICAgICAqL1xuICAgIF9hbmltYXRlT3V0KCkge1xuICAgICAgYW5pbS5yZW1vdmUodGhpcy5kcm9wZG93bkVsKTtcbiAgICAgIGFuaW0oe1xuICAgICAgICB0YXJnZXRzOiB0aGlzLmRyb3Bkb3duRWwsXG4gICAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVpbnQnXG4gICAgICAgIH0sXG4gICAgICAgIHNjYWxlWDogMC4zLFxuICAgICAgICBzY2FsZVk6IDAuMyxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1aW50JyxcbiAgICAgICAgY29tcGxldGU6IChhbmltKSA9PiB7XG4gICAgICAgICAgdGhpcy5fcmVzZXREcm9wZG93blN0eWxlcygpO1xuXG4gICAgICAgICAgLy8gb25DbG9zZUVuZCBjYWxsYmFja1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kLmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQbGFjZSBkcm9wZG93blxuICAgICAqL1xuICAgIF9wbGFjZURyb3Bkb3duKCkge1xuICAgICAgLyoqXG4gICAgICAgKiBHZXQgY2xvc2VzdCBhbmNlc3RvciB0aGF0IHNhdGlzZmllcyB0aGUgY29uZGl0aW9uXG4gICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsICBFbGVtZW50IHRvIGZpbmQgYW5jZXN0b3JzIG9uXG4gICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25kaXRpb24gIEZ1bmN0aW9uIHRoYXQgZ2l2ZW4gYW4gYW5jZXN0b3IgZWxlbWVudCByZXR1cm5zIHRydWUgb3IgZmFsc2VcbiAgICAgICAqIEByZXR1cm5zIHtFbGVtZW50fSBSZXR1cm4gY2xvc2VzdCBhbmNlc3RvciBvciBudWxsIGlmIG5vbmUgc2F0aXNmaWVzIHRoZSBjb25kaXRpb25cbiAgICAgICAqLyAgICAgIFxuICAgICAgY29uc3QgZ2V0Q2xvc2VzdEFuY2VzdG9yID0gZnVuY3Rpb24oZWwsIGNvbmRpdGlvbik6RWxlbWVudCB7XG4gICAgICAgIGxldCBhbmNlc3RvciA9IGVsLnBhcmVudE5vZGU7XG4gICAgICAgIHdoaWxlIChhbmNlc3RvciAhPT0gbnVsbCAmJiAhJChhbmNlc3RvcikuaXMoZG9jdW1lbnQpKSB7XG4gICAgICAgICAgaWYgKGNvbmRpdGlvbihhbmNlc3RvcikpIHtcbiAgICAgICAgICAgIHJldHVybiBhbmNlc3RvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfTtcblxuICAgICAgLy8gQ29udGFpbmVyIGhlcmUgd2lsbCBiZSBjbG9zZXN0IGFuY2VzdG9yIHdpdGggb3ZlcmZsb3c6IGhpZGRlblxuICAgICAgbGV0IGNsb3Nlc3RPdmVyZmxvd1BhcmVudCA9IGdldENsb3Nlc3RBbmNlc3Rvcih0aGlzLmRyb3Bkb3duRWwsIChhbmNlc3RvcikgPT4ge1xuICAgICAgICByZXR1cm4gISQoYW5jZXN0b3IpLmlzKCdodG1sLGJvZHknKSAmJiAkKGFuY2VzdG9yKS5jc3MoJ292ZXJmbG93JykgIT09ICd2aXNpYmxlJztcbiAgICAgIH0pO1xuICAgICAgLy8gRmFsbGJhY2tcbiAgICAgIGlmICghY2xvc2VzdE92ZXJmbG93UGFyZW50KSB7XG4gICAgICAgIGNsb3Nlc3RPdmVyZmxvd1BhcmVudCA9ICEhdGhpcy5kcm9wZG93bkVsLm9mZnNldFBhcmVudFxuICAgICAgICAgID8gdGhpcy5kcm9wZG93bkVsLm9mZnNldFBhcmVudFxuICAgICAgICAgIDogKHRoaXMuZHJvcGRvd25FbC5wYXJlbnROb2RlIGFzIEVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaWYgKCQoY2xvc2VzdE92ZXJmbG93UGFyZW50KS5jc3MoJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnKVxuICAgICAgICAkKGNsb3Nlc3RPdmVyZmxvd1BhcmVudCkuY3NzKCdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xuXG4gICAgICB0aGlzLl9tb3ZlRHJvcGRvd24oY2xvc2VzdE92ZXJmbG93UGFyZW50KTtcblxuICAgICAgLy8gU2V0IHdpZHRoIGJlZm9yZSBjYWxjdWxhdGluZyBwb3NpdGlvbkluZm9cbiAgICAgIGxldCBpZGVhbFdpZHRoID0gdGhpcy5vcHRpb25zLmNvbnN0cmFpbldpZHRoXG4gICAgICAgID8gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aFxuICAgICAgICA6IHRoaXMuZHJvcGRvd25FbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS53aWR0aCA9IGlkZWFsV2lkdGggKyAncHgnO1xuXG4gICAgICBsZXQgcG9zaXRpb25JbmZvID0gdGhpcy5fZ2V0RHJvcGRvd25Qb3NpdGlvbihjbG9zZXN0T3ZlcmZsb3dQYXJlbnQpO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLmxlZnQgPSBwb3NpdGlvbkluZm8ueCArICdweCc7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUudG9wID0gcG9zaXRpb25JbmZvLnkgKyAncHgnO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLmhlaWdodCA9IHBvc2l0aW9uSW5mby5oZWlnaHQgKyAncHgnO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLndpZHRoID0gcG9zaXRpb25JbmZvLndpZHRoICsgJ3B4JztcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBgJHtcbiAgICAgICAgcG9zaXRpb25JbmZvLmhvcml6b250YWxBbGlnbm1lbnQgPT09ICdsZWZ0JyA/ICcwJyA6ICcxMDAlJ1xuICAgICAgfSAke3Bvc2l0aW9uSW5mby52ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ3RvcCcgPyAnMCcgOiAnMTAwJSd9YDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPcGVuIERyb3Bkb3duXG4gICAgICovXG4gICAgb3BlbigpIHtcbiAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG5cbiAgICAgIC8vIG9uT3BlblN0YXJ0IGNhbGxiYWNrXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVzZXQgc3R5bGVzXG4gICAgICB0aGlzLl9yZXNldERyb3Bkb3duU3R5bGVzKCk7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgIHRoaXMuX3BsYWNlRHJvcGRvd24oKTtcbiAgICAgIHRoaXMuX2FuaW1hdGVJbigpO1xuICAgICAgdGhpcy5fc2V0dXBUZW1wb3JhcnlFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2UgRHJvcGRvd25cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPSAtMTtcblxuICAgICAgLy8gb25DbG9zZVN0YXJ0IGNhbGxiYWNrXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9hbmltYXRlT3V0KCk7XG4gICAgICB0aGlzLl9yZW1vdmVUZW1wb3JhcnlFdmVudEhhbmRsZXJzKCk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzKSB7XG4gICAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlIGRpbWVuc2lvbnNcbiAgICAgKi9cbiAgICByZWNhbGN1bGF0ZURpbWVuc2lvbnMoKSB7XG4gICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgdGhpcy4kZHJvcGRvd25FbC5jc3Moe1xuICAgICAgICAgIHdpZHRoOiAnJyxcbiAgICAgICAgICBoZWlnaHQ6ICcnLFxuICAgICAgICAgIGxlZnQ6ICcnLFxuICAgICAgICAgIHRvcDogJycsXG4gICAgICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiAnJ1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcGxhY2VEcm9wZG93bigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyB7XG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBEcm9wZG93blxuICAgKi9cbiAgRHJvcGRvd24uX2Ryb3Bkb3ducyA9IFtdO1xuICAgIFxuICAgIH1cblxuXG4gIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///123\n")},241:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Forms = void 0;\nconst global_1 = __webpack_require__(238);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst TEXT_BASED_INPUT_SELECTOR = [\n    'input:not([type])',\n    'input[type=text]',\n    'input[type=password]',\n    'input[type=email]',\n    'input[type=url]',\n    'input[type=tel]',\n    'input[type=number]',\n    'input[type=search]',\n    'input[type=date]',\n    'input[type=time]',\n    'input[type=month]',\n    'input[type=datetime-local]',\n    'textarea'\n].join(',');\nclass Forms {\n    // Function to update labels of text fields\n    static updateTextFields() {\n        (0, cash_dom_1.default)(TEXT_BASED_INPUT_SELECTOR).each(function (index, element) {\n            let $this = (0, cash_dom_1.default)(this);\n            if (element.value.length > 0 ||\n                (0, cash_dom_1.default)(element).is(':focus') ||\n                element.autofocus ||\n                $this.attr('placeholder') !== undefined) {\n                $this.siblings('label').addClass('active');\n            }\n            else if (element.validity) {\n                $this.siblings('label').toggleClass('active', element.validity.badInput === true);\n            }\n            else {\n                $this.siblings('label').removeClass('active');\n            }\n        });\n    }\n    ;\n    static validate_field(object) {\n        let hasLength = object.attr('data-length') !== undefined;\n        let lenAttr = parseInt(object.attr('data-length'));\n        let len = object[0].value.length;\n        if (len === 0 && object[0].validity.badInput === false && !object.is(':required')) {\n            if (object.hasClass('validate')) {\n                object.removeClass('valid');\n                object.removeClass('invalid');\n            }\n        }\n        else {\n            if (object.hasClass('validate')) {\n                // Check for character counter attributes\n                if ((object.is(':valid') && hasLength && len <= lenAttr) ||\n                    (object.is(':valid') && !hasLength)) {\n                    object.removeClass('invalid');\n                    object.addClass('valid');\n                }\n                else {\n                    object.removeClass('valid');\n                    object.addClass('invalid');\n                }\n            }\n        }\n    }\n    ;\n    static textareaAutoResize($textarea) {\n        // Wrap if native element\n        if ($textarea instanceof Element) {\n            $textarea = (0, cash_dom_1.default)($textarea);\n        }\n        if (!$textarea.length) {\n            console.error('No textarea element found');\n            return;\n        }\n        // Textarea Auto Resize\n        let hiddenDiv = (0, cash_dom_1.default)('.hiddendiv').first();\n        if (!hiddenDiv.length) {\n            hiddenDiv = (0, cash_dom_1.default)('<div class=\"hiddendiv common\"></div>');\n            (0, cash_dom_1.default)('body').append(hiddenDiv);\n        }\n        // Set font properties of hiddenDiv\n        let fontFamily = $textarea.css('font-family');\n        let fontSize = $textarea.css('font-size');\n        let lineHeight = $textarea.css('line-height');\n        // Firefox can't handle padding shorthand.\n        let paddingTop = $textarea.css('padding-top');\n        let paddingRight = $textarea.css('padding-right');\n        let paddingBottom = $textarea.css('padding-bottom');\n        let paddingLeft = $textarea.css('padding-left');\n        if (fontSize) {\n            hiddenDiv.css('font-size', fontSize);\n        }\n        if (fontFamily) {\n            hiddenDiv.css('font-family', fontFamily);\n        }\n        if (lineHeight) {\n            hiddenDiv.css('line-height', lineHeight);\n        }\n        if (paddingTop) {\n            hiddenDiv.css('padding-top', paddingTop);\n        }\n        if (paddingRight) {\n            hiddenDiv.css('padding-right', paddingRight);\n        }\n        if (paddingBottom) {\n            hiddenDiv.css('padding-bottom', paddingBottom);\n        }\n        if (paddingLeft) {\n            hiddenDiv.css('padding-left', paddingLeft);\n        }\n        // Set original-height, if none\n        if (!$textarea.data('original-height')) {\n            $textarea.data('original-height', $textarea.height());\n        }\n        if ($textarea.attr('wrap') === 'off') {\n            hiddenDiv.css('overflow-wrap', 'normal').css('white-space', 'pre');\n        }\n        hiddenDiv.text($textarea[0].value + '\\n');\n        let content = hiddenDiv.html().replace(/\\n/g, '<br>');\n        hiddenDiv.html(content);\n        // When textarea is hidden, width goes crazy.\n        // Approximate with half of window size\n        if ($textarea[0].offsetWidth > 0 && $textarea[0].offsetHeight > 0) {\n            hiddenDiv.css('width', $textarea.width() + 'px');\n        }\n        else {\n            hiddenDiv.css('width', window.innerWidth / 2 + 'px');\n        }\n        /**\n         * Resize if the new height is greater than the\n         * original height of the textarea\n         */\n        if ($textarea.data('original-height') <= hiddenDiv.innerHeight()) {\n            $textarea.css('height', hiddenDiv.innerHeight() + 'px');\n        }\n        else if ($textarea[0].value.length < $textarea.data('previous-length')) {\n            /**\n             * In case the new height is less than original height, it\n             * means the textarea has less text than before\n             * So we set the height to the original one\n             */\n            $textarea.css('height', $textarea.data('original-height') + 'px');\n        }\n        $textarea.data('previous-length', $textarea[0].value.length);\n    }\n    ;\n    static Init() {\n        (0, cash_dom_1.default)(document).ready(function () {\n            // Add active if form auto complete\n            (0, cash_dom_1.default)(document).on('change', TEXT_BASED_INPUT_SELECTOR, function () {\n                if (this.value.length !== 0 || (0, cash_dom_1.default)(this).attr('placeholder') != undefined) {\n                    (0, cash_dom_1.default)(this)\n                        .siblings('label')\n                        .addClass('active');\n                }\n                Forms.validate_field((0, cash_dom_1.default)(this));\n            });\n            // Add active if input element has been pre-populated on document ready\n            (0, cash_dom_1.default)(document).ready(function () {\n                Forms.updateTextFields();\n            });\n            // HTML DOM FORM RESET handling\n            (0, cash_dom_1.default)(document).on('reset', function (e) {\n                let formReset = (0, cash_dom_1.default)(e.target);\n                if (formReset.is('form')) {\n                    formReset\n                        .find(TEXT_BASED_INPUT_SELECTOR)\n                        .removeClass('valid')\n                        .removeClass('invalid');\n                    formReset.find(TEXT_BASED_INPUT_SELECTOR).each(function (e) {\n                        if (this.value.length) {\n                            (0, cash_dom_1.default)(this)\n                                .siblings('label')\n                                .removeClass('active');\n                        }\n                    });\n                    // Reset select (after native reset)\n                    setTimeout(function () {\n                        formReset.find('select').each(function () {\n                            // check if initialized\n                            if (this.M_FormSelect) {\n                                (0, cash_dom_1.default)(this).trigger('change');\n                            }\n                        });\n                    }, 0);\n                }\n            });\n            /**\n             * Add active when element has focus\n             * @param {Event} e\n             */\n            document.addEventListener('focus', function (e) {\n                if ((0, cash_dom_1.default)(e.target).is(TEXT_BASED_INPUT_SELECTOR)) {\n                    (0, cash_dom_1.default)(e.target)\n                        .siblings('label, .prefix')\n                        .addClass('active');\n                }\n            }, true);\n            /**\n             * Remove active when element is blurred\n             * @param {Event} e\n             */\n            document.addEventListener('blur', function (e) {\n                let $inputElement = (0, cash_dom_1.default)(e.target);\n                if ($inputElement.is(TEXT_BASED_INPUT_SELECTOR)) {\n                    let selector = '.prefix';\n                    if ($inputElement[0].value.length === 0 &&\n                        $inputElement[0].validity.badInput !== true &&\n                        $inputElement.attr('placeholder') === undefined) {\n                        selector += ', label';\n                    }\n                    $inputElement.siblings(selector).removeClass('active');\n                    Forms.validate_field($inputElement);\n                }\n            }, true);\n            // Radio and Checkbox focus class\n            let radio_checkbox = 'input[type=radio], input[type=checkbox]';\n            (0, cash_dom_1.default)(document).on('keyup', radio_checkbox, function (e) {\n                // TAB, check if tabbing to radio or checkbox.\n                if (e.which === global_1.M.keys.TAB) {\n                    (0, cash_dom_1.default)(this).addClass('tabbed');\n                    let $this = (0, cash_dom_1.default)(this);\n                    $this.one('blur', function (e) {\n                        (0, cash_dom_1.default)(this).removeClass('tabbed');\n                    });\n                    return;\n                }\n            });\n            let text_area_selector = '.materialize-textarea';\n            (0, cash_dom_1.default)(text_area_selector).each(function () {\n                let $textarea = (0, cash_dom_1.default)(this);\n                /**\n                 * Resize textarea on document load after storing\n                 * the original height and the original length\n                 */\n                $textarea.data('original-height', $textarea.height());\n                $textarea.data('previous-length', this.value.length);\n                Forms.textareaAutoResize($textarea);\n            });\n            (0, cash_dom_1.default)(document).on('keyup', text_area_selector, function () {\n                Forms.textareaAutoResize((0, cash_dom_1.default)(this));\n            });\n            (0, cash_dom_1.default)(document).on('keydown', text_area_selector, function () {\n                Forms.textareaAutoResize((0, cash_dom_1.default)(this));\n            });\n            // File Input Path\n            (0, cash_dom_1.default)(document).on('change', '.file-field input[type=\"file\"]', function () {\n                let file_field = (0, cash_dom_1.default)(this).closest('.file-field');\n                let path_input = file_field.find('input.file-path');\n                let files = (0, cash_dom_1.default)(this)[0].files;\n                let file_names = [];\n                for (let i = 0; i < files.length; i++) {\n                    file_names.push(files[i].name);\n                }\n                path_input[0].value = file_names.join(', ');\n                path_input.trigger('change');\n            });\n        }); // End of $(document).ready\n    }\n}\nexports.Forms = Forms;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDckMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7aUJBQ2hDO2dCQUNBLFVBQVUsQ0FBQyxDQUFDLENBQXNCLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2xFLFVBQVUsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDL0IsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQyxDQUFDLDJCQUEyQjtJQUdqQyxDQUFDO0NBQ0Y7QUFoUkQsc0JBZ1JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTS8uL3NyYy9mb3Jtcy50cz81MGI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcbmltcG9ydCAkIGZyb20gXCJjYXNoLWRvbVwiO1xuXG4gIGNvbnN0IFRFWFRfQkFTRURfSU5QVVRfU0VMRUNUT1IgPSBbXG4gICAgJ2lucHV0Om5vdChbdHlwZV0pJyxcbiAgICAnaW5wdXRbdHlwZT10ZXh0XScsXG4gICAgJ2lucHV0W3R5cGU9cGFzc3dvcmRdJyxcbiAgICAnaW5wdXRbdHlwZT1lbWFpbF0nLFxuICAgICdpbnB1dFt0eXBlPXVybF0nLFxuICAgICdpbnB1dFt0eXBlPXRlbF0nLFxuICAgICdpbnB1dFt0eXBlPW51bWJlcl0nLFxuICAgICdpbnB1dFt0eXBlPXNlYXJjaF0nLFxuICAgICdpbnB1dFt0eXBlPWRhdGVdJyxcbiAgICAnaW5wdXRbdHlwZT10aW1lXScsXG4gICAgJ2lucHV0W3R5cGU9bW9udGhdJyxcbiAgICAnaW5wdXRbdHlwZT1kYXRldGltZS1sb2NhbF0nLFxuICAgICd0ZXh0YXJlYSdcbiAgXS5qb2luKCcsJyk7XG5cbmV4cG9ydCBjbGFzcyBGb3JtcyB7ICAgXG4gIC8vIEZ1bmN0aW9uIHRvIHVwZGF0ZSBsYWJlbHMgb2YgdGV4dCBmaWVsZHNcbiAgc3RhdGljIHVwZGF0ZVRleHRGaWVsZHMgKCkge1xuICAgICQoVEVYVF9CQVNFRF9JTlBVVF9TRUxFQ1RPUikuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgICAgbGV0ICR0aGlzID0gJCh0aGlzKTtcbiAgICAgIGlmIChcbiAgICAgICAgKGVsZW1lbnQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUubGVuZ3RoID4gMCB8fFxuICAgICAgICAkKGVsZW1lbnQpLmlzKCc6Zm9jdXMnKSB8fFxuICAgICAgICBlbGVtZW50LmF1dG9mb2N1cyB8fFxuICAgICAgICAkdGhpcy5hdHRyKCdwbGFjZWhvbGRlcicpICE9PSB1bmRlZmluZWRcbiAgICAgICkge1xuICAgICAgICAkdGhpcy5zaWJsaW5ncygnbGFiZWwnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9IGVsc2UgaWYgKChlbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbGlkaXR5KSB7XG4gICAgICAgICR0aGlzLnNpYmxpbmdzKCdsYWJlbCcpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnLCAoZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWxpZGl0eS5iYWRJbnB1dCA9PT0gdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkdGhpcy5zaWJsaW5ncygnbGFiZWwnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgc3RhdGljIHZhbGlkYXRlX2ZpZWxkIChvYmplY3QpIHtcbiAgICBsZXQgaGFzTGVuZ3RoID0gb2JqZWN0LmF0dHIoJ2RhdGEtbGVuZ3RoJykgIT09IHVuZGVmaW5lZDtcbiAgICBsZXQgbGVuQXR0ciA9IHBhcnNlSW50KG9iamVjdC5hdHRyKCdkYXRhLWxlbmd0aCcpKTtcbiAgICBsZXQgbGVuID0gb2JqZWN0WzBdLnZhbHVlLmxlbmd0aDtcblxuICAgIGlmIChsZW4gPT09IDAgJiYgb2JqZWN0WzBdLnZhbGlkaXR5LmJhZElucHV0ID09PSBmYWxzZSAmJiAhb2JqZWN0LmlzKCc6cmVxdWlyZWQnKSkge1xuICAgICAgaWYgKG9iamVjdC5oYXNDbGFzcygndmFsaWRhdGUnKSkge1xuICAgICAgICBvYmplY3QucmVtb3ZlQ2xhc3MoJ3ZhbGlkJyk7XG4gICAgICAgIG9iamVjdC5yZW1vdmVDbGFzcygnaW52YWxpZCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob2JqZWN0Lmhhc0NsYXNzKCd2YWxpZGF0ZScpKSB7XG4gICAgICAgIC8vIENoZWNrIGZvciBjaGFyYWN0ZXIgY291bnRlciBhdHRyaWJ1dGVzXG4gICAgICAgIGlmIChcbiAgICAgICAgICAob2JqZWN0LmlzKCc6dmFsaWQnKSAmJiBoYXNMZW5ndGggJiYgbGVuIDw9IGxlbkF0dHIpIHx8XG4gICAgICAgICAgKG9iamVjdC5pcygnOnZhbGlkJykgJiYgIWhhc0xlbmd0aClcbiAgICAgICAgKSB7XG4gICAgICAgICAgb2JqZWN0LnJlbW92ZUNsYXNzKCdpbnZhbGlkJyk7XG4gICAgICAgICAgb2JqZWN0LmFkZENsYXNzKCd2YWxpZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9iamVjdC5yZW1vdmVDbGFzcygndmFsaWQnKTtcbiAgICAgICAgICBvYmplY3QuYWRkQ2xhc3MoJ2ludmFsaWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBzdGF0aWMgdGV4dGFyZWFBdXRvUmVzaXplICgkdGV4dGFyZWEpIHtcbiAgICAvLyBXcmFwIGlmIG5hdGl2ZSBlbGVtZW50XG4gICAgaWYgKCR0ZXh0YXJlYSBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICR0ZXh0YXJlYSA9ICQoJHRleHRhcmVhKTtcbiAgICB9XG5cbiAgICBpZiAoISR0ZXh0YXJlYS5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHRleHRhcmVhIGVsZW1lbnQgZm91bmQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUZXh0YXJlYSBBdXRvIFJlc2l6ZVxuICAgIGxldCBoaWRkZW5EaXYgPSAkKCcuaGlkZGVuZGl2JykuZmlyc3QoKTtcbiAgICBpZiAoIWhpZGRlbkRpdi5sZW5ndGgpIHtcbiAgICAgIGhpZGRlbkRpdiA9ICQoJzxkaXYgY2xhc3M9XCJoaWRkZW5kaXYgY29tbW9uXCI+PC9kaXY+Jyk7XG4gICAgICAkKCdib2R5JykuYXBwZW5kKGhpZGRlbkRpdik7XG4gICAgfVxuXG4gICAgLy8gU2V0IGZvbnQgcHJvcGVydGllcyBvZiBoaWRkZW5EaXZcbiAgICBsZXQgZm9udEZhbWlseSA9ICR0ZXh0YXJlYS5jc3MoJ2ZvbnQtZmFtaWx5Jyk7XG4gICAgbGV0IGZvbnRTaXplID0gJHRleHRhcmVhLmNzcygnZm9udC1zaXplJyk7XG4gICAgbGV0IGxpbmVIZWlnaHQgPSAkdGV4dGFyZWEuY3NzKCdsaW5lLWhlaWdodCcpO1xuXG4gICAgLy8gRmlyZWZveCBjYW4ndCBoYW5kbGUgcGFkZGluZyBzaG9ydGhhbmQuXG4gICAgbGV0IHBhZGRpbmdUb3AgPSAkdGV4dGFyZWEuY3NzKCdwYWRkaW5nLXRvcCcpO1xuICAgIGxldCBwYWRkaW5nUmlnaHQgPSAkdGV4dGFyZWEuY3NzKCdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgbGV0IHBhZGRpbmdCb3R0b20gPSAkdGV4dGFyZWEuY3NzKCdwYWRkaW5nLWJvdHRvbScpO1xuICAgIGxldCBwYWRkaW5nTGVmdCA9ICR0ZXh0YXJlYS5jc3MoJ3BhZGRpbmctbGVmdCcpO1xuXG4gICAgaWYgKGZvbnRTaXplKSB7XG4gICAgICBoaWRkZW5EaXYuY3NzKCdmb250LXNpemUnLCBmb250U2l6ZSk7XG4gICAgfVxuICAgIGlmIChmb250RmFtaWx5KSB7XG4gICAgICBoaWRkZW5EaXYuY3NzKCdmb250LWZhbWlseScsIGZvbnRGYW1pbHkpO1xuICAgIH1cbiAgICBpZiAobGluZUhlaWdodCkge1xuICAgICAgaGlkZGVuRGl2LmNzcygnbGluZS1oZWlnaHQnLCBsaW5lSGVpZ2h0KTtcbiAgICB9XG4gICAgaWYgKHBhZGRpbmdUb3ApIHtcbiAgICAgIGhpZGRlbkRpdi5jc3MoJ3BhZGRpbmctdG9wJywgcGFkZGluZ1RvcCk7XG4gICAgfVxuICAgIGlmIChwYWRkaW5nUmlnaHQpIHtcbiAgICAgIGhpZGRlbkRpdi5jc3MoJ3BhZGRpbmctcmlnaHQnLCBwYWRkaW5nUmlnaHQpO1xuICAgIH1cbiAgICBpZiAocGFkZGluZ0JvdHRvbSkge1xuICAgICAgaGlkZGVuRGl2LmNzcygncGFkZGluZy1ib3R0b20nLCBwYWRkaW5nQm90dG9tKTtcbiAgICB9XG4gICAgaWYgKHBhZGRpbmdMZWZ0KSB7XG4gICAgICBoaWRkZW5EaXYuY3NzKCdwYWRkaW5nLWxlZnQnLCBwYWRkaW5nTGVmdCk7XG4gICAgfVxuXG4gICAgLy8gU2V0IG9yaWdpbmFsLWhlaWdodCwgaWYgbm9uZVxuICAgIGlmICghJHRleHRhcmVhLmRhdGEoJ29yaWdpbmFsLWhlaWdodCcpKSB7XG4gICAgICAkdGV4dGFyZWEuZGF0YSgnb3JpZ2luYWwtaGVpZ2h0JywgJHRleHRhcmVhLmhlaWdodCgpKTtcbiAgICB9XG5cbiAgICBpZiAoJHRleHRhcmVhLmF0dHIoJ3dyYXAnKSA9PT0gJ29mZicpIHtcbiAgICAgIGhpZGRlbkRpdi5jc3MoJ292ZXJmbG93LXdyYXAnLCAnbm9ybWFsJykuY3NzKCd3aGl0ZS1zcGFjZScsICdwcmUnKTtcbiAgICB9XG5cbiAgICBoaWRkZW5EaXYudGV4dCgkdGV4dGFyZWFbMF0udmFsdWUgKyAnXFxuJyk7XG4gICAgbGV0IGNvbnRlbnQgPSBoaWRkZW5EaXYuaHRtbCgpLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpO1xuICAgIGhpZGRlbkRpdi5odG1sKGNvbnRlbnQpO1xuXG4gICAgLy8gV2hlbiB0ZXh0YXJlYSBpcyBoaWRkZW4sIHdpZHRoIGdvZXMgY3JhenkuXG4gICAgLy8gQXBwcm94aW1hdGUgd2l0aCBoYWxmIG9mIHdpbmRvdyBzaXplXG5cbiAgICBpZiAoJHRleHRhcmVhWzBdLm9mZnNldFdpZHRoID4gMCAmJiAkdGV4dGFyZWFbMF0ub2Zmc2V0SGVpZ2h0ID4gMCkge1xuICAgICAgaGlkZGVuRGl2LmNzcygnd2lkdGgnLCAkdGV4dGFyZWEud2lkdGgoKSArICdweCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWRkZW5EaXYuY3NzKCd3aWR0aCcsIHdpbmRvdy5pbm5lcldpZHRoIC8gMiArICdweCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZSBpZiB0aGUgbmV3IGhlaWdodCBpcyBncmVhdGVyIHRoYW4gdGhlXG4gICAgICogb3JpZ2luYWwgaGVpZ2h0IG9mIHRoZSB0ZXh0YXJlYVxuICAgICAqL1xuICAgIGlmICgkdGV4dGFyZWEuZGF0YSgnb3JpZ2luYWwtaGVpZ2h0JykgPD0gaGlkZGVuRGl2LmlubmVySGVpZ2h0KCkpIHtcbiAgICAgICR0ZXh0YXJlYS5jc3MoJ2hlaWdodCcsIGhpZGRlbkRpdi5pbm5lckhlaWdodCgpICsgJ3B4Jyk7XG4gICAgfSBlbHNlIGlmICgkdGV4dGFyZWFbMF0udmFsdWUubGVuZ3RoIDwgJHRleHRhcmVhLmRhdGEoJ3ByZXZpb3VzLWxlbmd0aCcpKSB7XG4gICAgICAvKipcbiAgICAgICAqIEluIGNhc2UgdGhlIG5ldyBoZWlnaHQgaXMgbGVzcyB0aGFuIG9yaWdpbmFsIGhlaWdodCwgaXRcbiAgICAgICAqIG1lYW5zIHRoZSB0ZXh0YXJlYSBoYXMgbGVzcyB0ZXh0IHRoYW4gYmVmb3JlXG4gICAgICAgKiBTbyB3ZSBzZXQgdGhlIGhlaWdodCB0byB0aGUgb3JpZ2luYWwgb25lXG4gICAgICAgKi9cbiAgICAgICR0ZXh0YXJlYS5jc3MoJ2hlaWdodCcsICR0ZXh0YXJlYS5kYXRhKCdvcmlnaW5hbC1oZWlnaHQnKSArICdweCcpO1xuICAgIH1cbiAgICAkdGV4dGFyZWEuZGF0YSgncHJldmlvdXMtbGVuZ3RoJywgJHRleHRhcmVhWzBdLnZhbHVlLmxlbmd0aCk7XG4gIH07XG5cbiAgc3RhdGljIEluaXQoKXtcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgIC8vIEFkZCBhY3RpdmUgaWYgZm9ybSBhdXRvIGNvbXBsZXRlXG4gICAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgVEVYVF9CQVNFRF9JTlBVVF9TRUxFQ1RPUiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCAhPT0gMCB8fCAkKHRoaXMpLmF0dHIoJ3BsYWNlaG9sZGVyJykgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgLnNpYmxpbmdzKCdsYWJlbCcpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIEZvcm1zLnZhbGlkYXRlX2ZpZWxkKCQodGhpcykpO1xuICAgICAgfSk7XG4gIFxuICAgICAgLy8gQWRkIGFjdGl2ZSBpZiBpbnB1dCBlbGVtZW50IGhhcyBiZWVuIHByZS1wb3B1bGF0ZWQgb24gZG9jdW1lbnQgcmVhZHlcbiAgICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICBGb3Jtcy51cGRhdGVUZXh0RmllbGRzKCk7XG4gICAgICB9KTtcbiAgXG4gICAgICAvLyBIVE1MIERPTSBGT1JNIFJFU0VUIGhhbmRsaW5nXG4gICAgICAkKGRvY3VtZW50KS5vbigncmVzZXQnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGxldCBmb3JtUmVzZXQgPSAkKGUudGFyZ2V0KTtcbiAgICAgICAgaWYgKGZvcm1SZXNldC5pcygnZm9ybScpKSB7XG4gICAgICAgICAgZm9ybVJlc2V0XG4gICAgICAgICAgICAuZmluZChURVhUX0JBU0VEX0lOUFVUX1NFTEVDVE9SKVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCd2YWxpZCcpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2ludmFsaWQnKTtcbiAgICAgICAgICBmb3JtUmVzZXQuZmluZChURVhUX0JBU0VEX0lOUFVUX1NFTEVDVE9SKS5lYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICgodGhpcyBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgICAgIC5zaWJsaW5ncygnbGFiZWwnKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gIFxuICAgICAgICAgIC8vIFJlc2V0IHNlbGVjdCAoYWZ0ZXIgbmF0aXZlIHJlc2V0KVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmb3JtUmVzZXQuZmluZCgnc2VsZWN0JykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaW5pdGlhbGl6ZWRcbiAgICAgICAgICAgICAgaWYgKCh0aGlzIGFzIGFueSkuTV9Gb3JtU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICBcbiAgICAgIC8qKlxuICAgICAgICogQWRkIGFjdGl2ZSB3aGVuIGVsZW1lbnQgaGFzIGZvY3VzXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICAgKi9cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdmb2N1cycsXG4gICAgICAgIGZ1bmN0aW9uKGU6IGFueSkge1xuICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyhURVhUX0JBU0VEX0lOUFVUX1NFTEVDVE9SKSkge1xuICAgICAgICAgICAgJChlLnRhcmdldClcbiAgICAgICAgICAgICAgLnNpYmxpbmdzKCdsYWJlbCwgLnByZWZpeCcpXG4gICAgICAgICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICBcbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIGFjdGl2ZSB3aGVuIGVsZW1lbnQgaXMgYmx1cnJlZFxuICAgICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAgICovXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAnYmx1cicsXG4gICAgICAgIGZ1bmN0aW9uKGU6IGFueSkge1xuICAgICAgICAgIGxldCAkaW5wdXRFbGVtZW50ID0gJChlLnRhcmdldCk7XG4gICAgICAgICAgaWYgKCRpbnB1dEVsZW1lbnQuaXMoVEVYVF9CQVNFRF9JTlBVVF9TRUxFQ1RPUikpIHtcbiAgICAgICAgICAgIGxldCBzZWxlY3RvciA9ICcucHJlZml4JztcbiAgXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgkaW5wdXRFbGVtZW50WzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAoJGlucHV0RWxlbWVudFswXSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWxpZGl0eS5iYWRJbnB1dCAhPT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAkaW5wdXRFbGVtZW50LmF0dHIoJ3BsYWNlaG9sZGVyJykgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHNlbGVjdG9yICs9ICcsIGxhYmVsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRpbnB1dEVsZW1lbnQuc2libGluZ3Moc2VsZWN0b3IpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIEZvcm1zLnZhbGlkYXRlX2ZpZWxkKCRpbnB1dEVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgXG4gICAgICAvLyBSYWRpbyBhbmQgQ2hlY2tib3ggZm9jdXMgY2xhc3NcbiAgICAgIGxldCByYWRpb19jaGVja2JveCA9ICdpbnB1dFt0eXBlPXJhZGlvXSwgaW5wdXRbdHlwZT1jaGVja2JveF0nO1xuICAgICAgJChkb2N1bWVudCkub24oJ2tleXVwJywgcmFkaW9fY2hlY2tib3gsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy8gVEFCLCBjaGVjayBpZiB0YWJiaW5nIHRvIHJhZGlvIG9yIGNoZWNrYm94LlxuICAgICAgICBpZiAoZS53aGljaCA9PT0gTS5rZXlzLlRBQikge1xuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3RhYmJlZCcpO1xuICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgJHRoaXMub25lKCdibHVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygndGFiYmVkJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgXG4gICAgICBsZXQgdGV4dF9hcmVhX3NlbGVjdG9yID0gJy5tYXRlcmlhbGl6ZS10ZXh0YXJlYSc7XG4gICAgICAkKHRleHRfYXJlYV9zZWxlY3RvcikuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0ICR0ZXh0YXJlYSA9ICQodGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNpemUgdGV4dGFyZWEgb24gZG9jdW1lbnQgbG9hZCBhZnRlciBzdG9yaW5nXG4gICAgICAgICAqIHRoZSBvcmlnaW5hbCBoZWlnaHQgYW5kIHRoZSBvcmlnaW5hbCBsZW5ndGhcbiAgICAgICAgICovXG4gICAgICAgICR0ZXh0YXJlYS5kYXRhKCdvcmlnaW5hbC1oZWlnaHQnLCAkdGV4dGFyZWEuaGVpZ2h0KCkpO1xuICAgICAgICAkdGV4dGFyZWEuZGF0YSgncHJldmlvdXMtbGVuZ3RoJywgKHRoaXMgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUubGVuZ3RoKTtcbiAgICAgICAgRm9ybXMudGV4dGFyZWFBdXRvUmVzaXplKCR0ZXh0YXJlYSk7XG4gICAgICB9KTtcbiAgXG4gICAgICAkKGRvY3VtZW50KS5vbigna2V5dXAnLCB0ZXh0X2FyZWFfc2VsZWN0b3IsIGZ1bmN0aW9uKCkge1xuICAgICAgICBGb3Jtcy50ZXh0YXJlYUF1dG9SZXNpemUoJCh0aGlzKSk7XG4gICAgICB9KTtcbiAgICAgICQoZG9jdW1lbnQpLm9uKCdrZXlkb3duJywgdGV4dF9hcmVhX3NlbGVjdG9yLCBmdW5jdGlvbigpIHtcbiAgICAgICAgRm9ybXMudGV4dGFyZWFBdXRvUmVzaXplKCQodGhpcykpO1xuICAgICAgfSk7XG4gIFxuICAgICAgLy8gRmlsZSBJbnB1dCBQYXRoXG4gICAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJy5maWxlLWZpZWxkIGlucHV0W3R5cGU9XCJmaWxlXCJdJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBmaWxlX2ZpZWxkID0gJCh0aGlzKS5jbG9zZXN0KCcuZmlsZS1maWVsZCcpO1xuICAgICAgICBsZXQgcGF0aF9pbnB1dCA9IGZpbGVfZmllbGQuZmluZCgnaW5wdXQuZmlsZS1wYXRoJyk7XG4gICAgICAgIGxldCBmaWxlcyA9ICgkKHRoaXMpWzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzO1xuICAgICAgICBsZXQgZmlsZV9uYW1lcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgZmlsZV9uYW1lcy5wdXNoKGZpbGVzW2ldLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIChwYXRoX2lucHV0WzBdIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlID0gZmlsZV9uYW1lcy5qb2luKCcsICcpO1xuICAgICAgICBwYXRoX2lucHV0LnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgfSk7XG4gICAgfSk7IC8vIEVuZCBvZiAkKGRvY3VtZW50KS5yZWFkeVxuICBcbiAgXG4gIH1cbn1cblxuICAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///241\n")},238:(module,exports,__webpack_require__)=>{"use strict";eval("\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.M = void 0;\nconst autocomplete_1 = __webpack_require__(357);\nconst buttons_1 = __webpack_require__(379);\nconst cards_1 = __webpack_require__(137);\nconst carousel_1 = __webpack_require__(476);\nconst characterCounter_1 = __webpack_require__(283);\nconst chips_1 = __webpack_require__(359);\nconst collapsible_1 = __webpack_require__(995);\nconst datepicker_1 = __webpack_require__(457);\nconst dropdown_1 = __webpack_require__(123);\nconst forms_1 = __webpack_require__(241);\nconst materialbox_1 = __webpack_require__(709);\nconst modal_1 = __webpack_require__(799);\nconst parallax_1 = __webpack_require__(324);\nconst pushpin_1 = __webpack_require__(696);\nconst scrollspy_1 = __webpack_require__(185);\nconst select_1 = __webpack_require__(375);\nconst sidenav_1 = __webpack_require__(288);\nconst slider_1 = __webpack_require__(943);\nconst tabs_1 = __webpack_require__(649);\nconst tapTarget_1 = __webpack_require__(968);\nconst timepicker_1 = __webpack_require__(707);\nconst toasts_1 = __webpack_require__(620);\nconst tooltip_1 = __webpack_require__(713);\nclass M {\n    static docHandleKeydown(e) {\n        M.keyDown = true;\n        if (e.which === M.keys.TAB || e.which === M.keys.ARROW_DOWN || e.which === M.keys.ARROW_UP) {\n            M.tabPressed = true;\n        }\n    }\n    ;\n    static docHandleKeyup(e) {\n        M.keyDown = false;\n        if (e.which === M.keys.TAB || e.which === M.keys.ARROW_DOWN || e.which === M.keys.ARROW_UP) {\n            M.tabPressed = false;\n        }\n    }\n    ;\n    static docHandleFocus(e) {\n        if (M.keyDown) {\n            document.body.classList.add('keyboard-focused');\n        }\n    }\n    ;\n    static docHandleBlur(e) {\n        document.body.classList.remove('keyboard-focused');\n    }\n    ;\n    static jQueryLoaded() {\n        return !!window.jQuery;\n    }\n    /**\n     * Initialize jQuery wrapper for plugin\n     * @param {Class} plugin  javascript class\n     * @param {string} pluginName  jQuery plugin name\n     * @param {string} classRef  Class reference name\n     */\n    static initializeJqueryWrapper(plugin, pluginName, classRef) {\n        if (!this.jQueryLoaded())\n            return;\n        var jq = window.jQuery;\n        jq.fn[pluginName] = function (methodOrOptions) {\n            // Call plugin method if valid method name is passed in\n            if (plugin.prototype[methodOrOptions]) {\n                let params = Array.prototype.slice.call(arguments, 1);\n                // Getter methods\n                if (methodOrOptions.slice(0, 3) === 'get') {\n                    let instance = this.first()[0][classRef];\n                    return instance[methodOrOptions].apply(instance, params);\n                }\n                // Void methods\n                return this.each(function () {\n                    let instance = this[classRef];\n                    instance[methodOrOptions].apply(instance, params);\n                });\n                // Initialize plugin if options or no argument is passed in\n            }\n            else if (typeof methodOrOptions === 'object' || !methodOrOptions) {\n                plugin.init(this, arguments[0]);\n                return this;\n            }\n            // Return error if an unrecognized  method name is passed in\n            jq.error(`Method ${methodOrOptions} does not exist on jQuery.${pluginName}`);\n        };\n    }\n    ;\n    static AutoInit(context = null) {\n        let root = !!context ? context : document.body;\n        let registry = {\n            Autocomplete: root.querySelectorAll('.autocomplete:not(.no-autoinit)'),\n            Carousel: root.querySelectorAll('.carousel:not(.no-autoinit)'),\n            Chips: root.querySelectorAll('.chips:not(.no-autoinit)'),\n            Collapsible: root.querySelectorAll('.collapsible:not(.no-autoinit)'),\n            Datepicker: root.querySelectorAll('.datepicker:not(.no-autoinit)'),\n            Dropdown: root.querySelectorAll('.dropdown-trigger:not(.no-autoinit)'),\n            Materialbox: root.querySelectorAll('.materialboxed:not(.no-autoinit)'),\n            Modal: root.querySelectorAll('.modal:not(.no-autoinit)'),\n            Parallax: root.querySelectorAll('.parallax:not(.no-autoinit)'),\n            Pushpin: root.querySelectorAll('.pushpin:not(.no-autoinit)'),\n            ScrollSpy: root.querySelectorAll('.scrollspy:not(.no-autoinit)'),\n            FormSelect: root.querySelectorAll('select:not(.no-autoinit)'),\n            Sidenav: root.querySelectorAll('.sidenav:not(.no-autoinit)'),\n            Tabs: root.querySelectorAll('.tabs:not(.no-autoinit)'),\n            TapTarget: root.querySelectorAll('.tap-target:not(.no-autoinit)'),\n            Timepicker: root.querySelectorAll('.timepicker:not(.no-autoinit)'),\n            Tooltip: root.querySelectorAll('.tooltipped:not(.no-autoinit)'),\n            FloatingActionButton: root.querySelectorAll('.fixed-action-btn:not(.no-autoinit)')\n        };\n        M.Autocomplete.init(registry.Autocomplete, null);\n        M.Carousel.init(registry.Carousel, null);\n        M.Chips.init(registry.Chips, null);\n        M.Collapsible.init(registry.Collapsible, null);\n        M.Datepicker.init(registry.Datepicker, null);\n        M.Dropdown.init(registry.Dropdown, null);\n        M.Materialbox.init(registry.Materialbox, null);\n        M.Modal.init(registry.Modal, null);\n        M.Parallax.init(registry.Parallax, null);\n        M.Pushpin.init(registry.Pushpin, null);\n        M.ScrollSpy.init(registry.ScrollSpy, null);\n        M.FormSelect.init(registry.FormSelect, null);\n        M.Sidenav.init(registry.Sidenav, null);\n        M.Tabs.init(registry.Tabs, null);\n        M.TapTarget.init(registry.TapTarget, null);\n        M.Timepicker.init(registry.Timepicker, null);\n        M.Tooltip.init(registry.Tooltip, null);\n        M.FloatingActionButton.init(registry.FloatingActionButton, null);\n    }\n    ;\n    /**\n     * Generate approximated selector string for a jQuery object\n     * @param {jQuery} obj  jQuery object to be parsed\n     * @returns {string}\n     */\n    static objectSelectorString(obj) {\n        let tagStr = obj.prop('tagName') || '';\n        let idStr = obj.attr('id') || '';\n        let classStr = obj.attr('class') || '';\n        return (tagStr + idStr + classStr).replace(/\\s/g, '');\n    }\n    ;\n    // Unique Random ID\n    static guid() {\n        function s4() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        }\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n    }\n    /**\n     * Escapes hash from special characters\n     * @param {Element} container  Container element that acts as the boundary\n     * @param {Bounding} bounding  element bounding that is being checked\n     * @param {Number} offset  offset from edge that counts as exceeding\n     * @returns {Edges}\n     */\n    static checkWithinContainer(container, bounding, offset) {\n        let edges = {\n            top: false,\n            right: false,\n            bottom: false,\n            left: false\n        };\n        let containerRect = container.getBoundingClientRect();\n        // If body element is smaller than viewport, use viewport height instead.\n        let containerBottom = container === document.body\n            ? Math.max(containerRect.bottom, window.innerHeight)\n            : containerRect.bottom;\n        let scrollLeft = container.scrollLeft;\n        let scrollTop = container.scrollTop;\n        let scrolledX = bounding.left - scrollLeft;\n        let scrolledY = bounding.top - scrollTop;\n        // Check for container and viewport for each edge\n        if (scrolledX < containerRect.left + offset || scrolledX < offset) {\n            edges.left = true;\n        }\n        if (scrolledX + bounding.width > containerRect.right - offset ||\n            scrolledX + bounding.width > window.innerWidth - offset) {\n            edges.right = true;\n        }\n        if (scrolledY < containerRect.top + offset || scrolledY < offset) {\n            edges.top = true;\n        }\n        if (scrolledY + bounding.height > containerBottom - offset ||\n            scrolledY + bounding.height > window.innerHeight - offset) {\n            edges.bottom = true;\n        }\n        return edges;\n    }\n    ;\n    static checkPossibleAlignments(el, container, bounding, offset) {\n        let canAlign = {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true,\n            spaceOnTop: null,\n            spaceOnRight: null,\n            spaceOnBottom: null,\n            spaceOnLeft: null\n        };\n        let containerAllowsOverflow = getComputedStyle(container).overflow === 'visible';\n        let containerRect = container.getBoundingClientRect();\n        let containerHeight = Math.min(containerRect.height, window.innerHeight);\n        let containerWidth = Math.min(containerRect.width, window.innerWidth);\n        let elOffsetRect = el.getBoundingClientRect();\n        let scrollLeft = container.scrollLeft;\n        let scrollTop = container.scrollTop;\n        let scrolledX = bounding.left - scrollLeft;\n        let scrolledYTopEdge = bounding.top - scrollTop;\n        let scrolledYBottomEdge = bounding.top + elOffsetRect.height - scrollTop;\n        // Check for container and viewport for left\n        canAlign.spaceOnRight = !containerAllowsOverflow\n            ? containerWidth - (scrolledX + bounding.width)\n            : window.innerWidth - (elOffsetRect.left + bounding.width);\n        if (canAlign.spaceOnRight < 0) {\n            canAlign.left = false;\n        }\n        // Check for container and viewport for Right\n        canAlign.spaceOnLeft = !containerAllowsOverflow\n            ? scrolledX - bounding.width + elOffsetRect.width\n            : elOffsetRect.right - bounding.width;\n        if (canAlign.spaceOnLeft < 0) {\n            canAlign.right = false;\n        }\n        // Check for container and viewport for Top\n        canAlign.spaceOnBottom = !containerAllowsOverflow\n            ? containerHeight - (scrolledYTopEdge + bounding.height + offset)\n            : window.innerHeight - (elOffsetRect.top + bounding.height + offset);\n        if (canAlign.spaceOnBottom < 0) {\n            canAlign.top = false;\n        }\n        // Check for container and viewport for Bottom\n        canAlign.spaceOnTop = !containerAllowsOverflow\n            ? scrolledYBottomEdge - (bounding.height - offset)\n            : elOffsetRect.bottom - (bounding.height + offset);\n        if (canAlign.spaceOnTop < 0) {\n            canAlign.bottom = false;\n        }\n        return canAlign;\n    }\n    ;\n    static getOverflowParent(element) {\n        if (element == null) {\n            return null;\n        }\n        if (element === document.body || getComputedStyle(element).overflow !== 'visible') {\n            return element;\n        }\n        return this.getOverflowParent(element.parentElement);\n    }\n    ;\n    /**\n     * Gets id of component from a trigger\n     * @param {Element} trigger  trigger\n     * @returns {string}\n     */\n    static getIdFromTrigger(trigger) {\n        let id = trigger.getAttribute('data-target');\n        if (!id) {\n            id = trigger.getAttribute('href');\n            if (id) {\n                id = id.slice(1);\n            }\n            else {\n                id = '';\n            }\n        }\n        return id;\n    }\n    ;\n    /**\n     * Multi browser support for document scroll top\n     * @returns {Number}\n     */\n    static getDocumentScrollTop() {\n        return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n    }\n    ;\n    /**\n     * Multi browser support for document scroll left\n     * @returns {Number}\n     */\n    static getDocumentScrollLeft() {\n        return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n    }\n    ;\n    /**\n     * @typedef {Object} Edges\n     * @property {Boolean} top  If the top edge was exceeded\n     * @property {Boolean} right  If the right edge was exceeded\n     * @property {Boolean} bottom  If the bottom edge was exceeded\n     * @property {Boolean} left  If the left edge was exceeded\n     */\n    /**\n     * @typedef {Object} Bounding\n     * @property {Number} left  left offset coordinate\n     * @property {Number} top  top offset coordinate\n     * @property {Number} width\n     * @property {Number} height\n     */\n    static throttle(func, wait, options = null) {\n        let context, args, result;\n        let timeout = null;\n        let previous = 0;\n        options || (options = {});\n        let later = function () {\n            previous = options.leading === false ? 0 : new Date().getTime();\n            timeout = null;\n            result = func.apply(context, args);\n            context = args = null;\n        };\n        return function () {\n            let now = new Date().getTime();\n            if (!previous && options.leading === false)\n                previous = now;\n            let remaining = wait - (now - previous);\n            context = this;\n            args = arguments;\n            if (remaining <= 0) {\n                clearTimeout(timeout);\n                timeout = null;\n                previous = now;\n                result = func.apply(context, args);\n                context = args = null;\n            }\n            else if (!timeout && options.trailing !== false) {\n                timeout = setTimeout(later, remaining);\n            }\n            return result;\n        };\n    }\n    getTime() {\n        return new Date().getTime();\n    }\n    ;\n}\nexports.M = M;\n_a = M;\nM.version = '1.2.2';\nM.keys = {\n    TAB: 9,\n    ENTER: 13,\n    ESC: 27,\n    ARROW_UP: 38,\n    ARROW_DOWN: 40\n};\nM.Autocomplete = autocomplete_1.Autocomplete;\nM.Tabs = tabs_1.Tabs;\nM.Carousel = carousel_1.Carousel;\nM.Dropdown = dropdown_1.Dropdown;\nM.FloatingActionButton = buttons_1.FloatingActionButton;\nM.Chips = chips_1.Chips;\nM.Collapsible = collapsible_1.Collapsible;\nM.Datepicker = datepicker_1.Datepicker;\nM.CharacterCounter = characterCounter_1.CharacterCounter;\nM.FormSelect = select_1.FormSelect;\nM.Modal = modal_1.Modal;\nM.Pushpin = pushpin_1.Pushpin;\nM.Materialbox = materialbox_1.Materialbox;\nM.Parallax = parallax_1.Parallax;\nM.Slider = slider_1.Slider;\nM.Timepicker = timepicker_1.Timepicker;\nM.toast = (opt) => new toasts_1.Toast(opt);\nM.Tooltip = tooltip_1.Tooltip;\nM.Sidenav = sidenav_1.Sidenav;\nM.TapTarget = tapTarget_1.TapTarget;\nM.ScrollSpy = scrollspy_1.ScrollSpy;\nM.Range = Range;\n/**\n * TabPress Keydown handler\n */\nM.tabPressed = false;\nM.keyDown = false;\n(() => {\n    document.addEventListener('keydown', _a.docHandleKeydown, true);\n    document.addEventListener('keyup', _a.docHandleKeyup, true);\n    document.addEventListener('focus', _a.docHandleFocus, true);\n    document.addEventListener('blur', _a.docHandleBlur, true);\n    _a.initializeJqueryWrapper(tabs_1.Tabs, 'tabs', 'M_Tabs');\n    _a.initializeJqueryWrapper(carousel_1.Carousel, 'carousel', 'M_Carousel');\n    _a.initializeJqueryWrapper(autocomplete_1.Autocomplete, 'autocomplete', 'M_Autocomplete');\n    _a.initializeJqueryWrapper(dropdown_1.Dropdown, 'dropdown', 'M_Dropdown');\n    _a.initializeJqueryWrapper(buttons_1.FloatingActionButton, 'floatingActionButton', 'M_FloatingActionButton');\n    M.initializeJqueryWrapper(collapsible_1.Collapsible, 'collapsible', 'M_Collapsible');\n    M.initializeJqueryWrapper(characterCounter_1.CharacterCounter, 'characterCounter', 'M_CharacterCounter');\n    M.initializeJqueryWrapper(datepicker_1.Datepicker, 'datepicker', 'M_Datepicker');\n    M.initializeJqueryWrapper(select_1.FormSelect, 'formSelect', 'M_FormSelect');\n    M.initializeJqueryWrapper(modal_1.Modal, 'modal', 'M_Modal');\n    M.initializeJqueryWrapper(pushpin_1.Pushpin, 'pushpin', 'M_Pushpin');\n    M.initializeJqueryWrapper(materialbox_1.Materialbox, 'materialbox', 'M_Materialbox');\n    M.initializeJqueryWrapper(parallax_1.Parallax, 'parallax', 'M_Parallax');\n    M.initializeJqueryWrapper(slider_1.Slider, 'slider', 'M_Slider');\n    M.initializeJqueryWrapper(timepicker_1.Timepicker, 'timepicker', 'M_Timepicker');\n    M.initializeJqueryWrapper(tooltip_1.Tooltip, 'tooltip', 'M_Tooltip');\n    M.initializeJqueryWrapper(tapTarget_1.TapTarget, 'tapTarget', 'M_TapTarget');\n    M.initializeJqueryWrapper(sidenav_1.Sidenav, 'sidenav', 'M_Sidenav');\n    M.initializeJqueryWrapper(scrollspy_1.ScrollSpy, 'scrollSpy', 'M_ScrollSpy');\n    M.initializeJqueryWrapper(Range, 'range', 'M_Range');\n    M.initializeJqueryWrapper(chips_1.Chips, 'chips', 'M_Chips');\n    cards_1.Cards.Init();\n    forms_1.Forms.Init();\n    chips_1.Chips.Init();\n})();\nmodule.exports = M;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9DLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDN0MsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6QyxDQUFDLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9DLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbkMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6QyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3ZDLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDM0MsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM3QyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3ZDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDakMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMzQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLElBQUks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b3J0IHsgQXV0b2NvbXBsZXRlIH0gZnJvbSAnLi9hdXRvY29tcGxldGUnO1xuaW1wb3J0IHsgQm91bmRpbmcgfSBmcm9tICcuL2JvdW5kaW5nJztcbmltcG9ydCB7IEZsb2F0aW5nQWN0aW9uQnV0dG9uIH0gZnJvbSAnLi9idXR0b25zJztcbmltcG9ydCB7IENhcmRzIH0gZnJvbSAnLi9jYXJkcyc7XG5pbXBvcnQgeyBDYXJvdXNlbCB9IGZyb20gJy4vY2Fyb3VzZWwnO1xuaW1wb3J0IHsgQ2hhcmFjdGVyQ291bnRlciB9IGZyb20gJy4vY2hhcmFjdGVyQ291bnRlcic7XG5pbXBvcnQgeyBDaGlwcyB9IGZyb20gJy4vY2hpcHMnO1xuaW1wb3J0IHsgQ29sbGFwc2libGUgfSBmcm9tICcuL2NvbGxhcHNpYmxlJztcbmltcG9ydCB7IERhdGVwaWNrZXIgfSBmcm9tICcuL2RhdGVwaWNrZXInO1xuaW1wb3J0IHsgRHJvcGRvd24gfSBmcm9tICcuL2Ryb3Bkb3duJztcbmltcG9ydCB7IEVkZ2VzIH0gZnJvbSAnLi9lZGdlcyc7XG5pbXBvcnQgeyBGb3JtcyB9IGZyb20gJy4vZm9ybXMnO1xuaW1wb3J0IHsgTWF0ZXJpYWxib3ggfSBmcm9tICcuL21hdGVyaWFsYm94JztcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnLi9tb2RhbCc7XG5pbXBvcnQgeyBQYXJhbGxheCB9IGZyb20gJy4vcGFyYWxsYXgnO1xuaW1wb3J0IHsgUHVzaHBpbiB9IGZyb20gJy4vcHVzaHBpbic7XG5pbXBvcnQgeyBTY3JvbGxTcHkgfSBmcm9tICcuL3Njcm9sbHNweSc7XG5pbXBvcnQgeyBGb3JtU2VsZWN0IH0gZnJvbSAnLi9zZWxlY3QnO1xuaW1wb3J0IHsgU2lkZW5hdiB9IGZyb20gJy4vc2lkZW5hdic7XG5pbXBvcnQgeyBTbGlkZXIgfSBmcm9tICcuL3NsaWRlcic7XG5pbXBvcnQgeyBUYWJzIH0gZnJvbSAnLi90YWJzJztcbmltcG9ydCB7IFRhcFRhcmdldCB9IGZyb20gJy4vdGFwVGFyZ2V0JztcbmltcG9ydCB7IFRpbWVwaWNrZXIgfSBmcm9tICcuL3RpbWVwaWNrZXInO1xuaW1wb3J0IHsgVG9hc3QgfSBmcm9tICcuL3RvYXN0cyc7XG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnLi90b29sdGlwJztcblxuXG5leHBvcnQgY2xhc3MgTSB7ICAgXG4gICAgc3RhdGljIHZlcnNpb24gPSAnMS4yLjInO1xuICAgIHN0YXRpYyBrZXlzID0ge1xuICAgICAgVEFCOiA5LFxuICAgICAgRU5URVI6IDEzLFxuICAgICAgRVNDOiAyNyxcbiAgICAgIEFSUk9XX1VQOiAzOCxcbiAgICAgIEFSUk9XX0RPV046IDQwXG4gICAgfTtcblxuICBzdGF0aWMgQXV0b2NvbXBsZXRlOiB0eXBlb2YgQXV0b2NvbXBsZXRlID0gQXV0b2NvbXBsZXRlOyBcbiAgc3RhdGljIFRhYnM6IHR5cGVvZiBUYWJzID0gVGFiczsgXG4gIHN0YXRpYyBDYXJvdXNlbDogdHlwZW9mIENhcm91c2VsID0gQ2Fyb3VzZWw7IFxuICBzdGF0aWMgRHJvcGRvd246IHR5cGVvZiBEcm9wZG93biA9IERyb3Bkb3duO1xuICBzdGF0aWMgRmxvYXRpbmdBY3Rpb25CdXR0b246IHR5cGVvZiBGbG9hdGluZ0FjdGlvbkJ1dHRvbiA9IEZsb2F0aW5nQWN0aW9uQnV0dG9uO1xuICBzdGF0aWMgQ2hpcHM6IHR5cGVvZiBDaGlwcyA9IENoaXBzO1xuICBzdGF0aWMgQ29sbGFwc2libGU6IHR5cGVvZiBDb2xsYXBzaWJsZSA9IENvbGxhcHNpYmxlO1xuICBzdGF0aWMgRGF0ZXBpY2tlcjogdHlwZW9mIERhdGVwaWNrZXIgPSBEYXRlcGlja2VyO1xuICBzdGF0aWMgQ2hhcmFjdGVyQ291bnRlcjogdHlwZW9mIENoYXJhY3RlckNvdW50ZXIgPSBDaGFyYWN0ZXJDb3VudGVyO1xuICBzdGF0aWMgRm9ybVNlbGVjdDogdHlwZW9mIEZvcm1TZWxlY3QgPSBGb3JtU2VsZWN0O1xuICBzdGF0aWMgTW9kYWw6IHR5cGVvZiBNb2RhbCA9IE1vZGFsO1xuICBzdGF0aWMgUHVzaHBpbjogdHlwZW9mIFB1c2hwaW4gPSBQdXNocGluO1xuICBzdGF0aWMgTWF0ZXJpYWxib3g6IHR5cGVvZiBNYXRlcmlhbGJveCA9IE1hdGVyaWFsYm94O1xuICBzdGF0aWMgUGFyYWxsYXg6IHR5cGVvZiBQYXJhbGxheCA9IFBhcmFsbGF4O1xuICBzdGF0aWMgU2xpZGVyOiB0eXBlb2YgU2xpZGVyID0gU2xpZGVyO1xuICBzdGF0aWMgVGltZXBpY2tlcjogdHlwZW9mIFRpbWVwaWNrZXIgPSBUaW1lcGlja2VyO1xuICBzdGF0aWMgdG9hc3Q6IChvcHQ6IGFueSkgPT4gVG9hc3QgPSAob3B0KSA9PiBuZXcgVG9hc3Qob3B0KSA7XG4gIHN0YXRpYyBUb29sdGlwOiB0eXBlb2YgVG9vbHRpcCA9IFRvb2x0aXA7XG4gIHN0YXRpYyBTaWRlbmF2OiB0eXBlb2YgU2lkZW5hdiA9IFNpZGVuYXY7XG4gIHN0YXRpYyBUYXBUYXJnZXQ6IHR5cGVvZiBUYXBUYXJnZXQgPSBUYXBUYXJnZXQ7XG4gIHN0YXRpYyBTY3JvbGxTcHk6IHR5cGVvZiBTY3JvbGxTcHkgPSBTY3JvbGxTcHk7XG4gIHN0YXRpYyBSYW5nZTogdHlwZW9mIFJhbmdlID0gUmFuZ2U7XG5cbi8qKlxuICogVGFiUHJlc3MgS2V5ZG93biBoYW5kbGVyXG4gKi9cbnN0YXRpYyB0YWJQcmVzc2VkOmJvb2xlYW4gPSBmYWxzZTtcbnN0YXRpYyBrZXlEb3duOmJvb2xlYW4gPSBmYWxzZTtcbnN0YXRpYyBkb2NIYW5kbGVLZXlkb3duKGUpIHtcbiAgTS5rZXlEb3duID0gdHJ1ZTtcbiAgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5UQUIgfHwgZS53aGljaCA9PT0gTS5rZXlzLkFSUk9XX0RPV04gfHwgZS53aGljaCA9PT0gTS5rZXlzLkFSUk9XX1VQKSB7XG4gICAgTS50YWJQcmVzc2VkID0gdHJ1ZTtcbiAgfVxufTtcbnN0YXRpYyBkb2NIYW5kbGVLZXl1cChlKSB7XG4gIE0ua2V5RG93biA9IGZhbHNlO1xuICBpZiAoZS53aGljaCA9PT0gTS5rZXlzLlRBQiB8fCBlLndoaWNoID09PSBNLmtleXMuQVJST1dfRE9XTiB8fCBlLndoaWNoID09PSBNLmtleXMuQVJST1dfVVApIHtcbiAgICBNLnRhYlByZXNzZWQgPSBmYWxzZTtcbiAgfVxufTtcbnN0YXRpYyBkb2NIYW5kbGVGb2N1cyhlKSB7XG4gIGlmIChNLmtleURvd24pIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2tleWJvYXJkLWZvY3VzZWQnKTtcbiAgfVxufTtcbnN0YXRpYyBkb2NIYW5kbGVCbHVyKGUpIHtcbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdrZXlib2FyZC1mb2N1c2VkJyk7XG59O1xuXG5zdGF0aWMge1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5kb2NIYW5kbGVLZXlkb3duLCB0cnVlKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmRvY0hhbmRsZUtleXVwLCB0cnVlKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLmRvY0hhbmRsZUZvY3VzLCB0cnVlKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuZG9jSGFuZGxlQmx1ciwgdHJ1ZSk7ICBcbiBcbiAgdGhpcy5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihUYWJzLCAndGFicycsICdNX1RhYnMnKTsgIFxuICB0aGlzLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKENhcm91c2VsLCAnY2Fyb3VzZWwnLCAnTV9DYXJvdXNlbCcpO1xuICB0aGlzLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKEF1dG9jb21wbGV0ZSwgJ2F1dG9jb21wbGV0ZScsICdNX0F1dG9jb21wbGV0ZScpO1xuICB0aGlzLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKERyb3Bkb3duLCAnZHJvcGRvd24nLCAnTV9Ecm9wZG93bicpO1xuICB0aGlzLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFxuICAgIEZsb2F0aW5nQWN0aW9uQnV0dG9uLFxuICAgICdmbG9hdGluZ0FjdGlvbkJ1dHRvbicsXG4gICAgJ01fRmxvYXRpbmdBY3Rpb25CdXR0b24nXG4gICk7XG4gIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoQ29sbGFwc2libGUsICdjb2xsYXBzaWJsZScsICdNX0NvbGxhcHNpYmxlJyk7XG4gIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoQ2hhcmFjdGVyQ291bnRlciwgJ2NoYXJhY3RlckNvdW50ZXInLCAnTV9DaGFyYWN0ZXJDb3VudGVyJyk7XG4gIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoRGF0ZXBpY2tlciwgJ2RhdGVwaWNrZXInLCAnTV9EYXRlcGlja2VyJyk7ICBcbiAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihGb3JtU2VsZWN0LCAnZm9ybVNlbGVjdCcsICdNX0Zvcm1TZWxlY3QnKTsgXG4gIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoTW9kYWwsICdtb2RhbCcsICdNX01vZGFsJyk7XG4gIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoUHVzaHBpbiwgJ3B1c2hwaW4nLCAnTV9QdXNocGluJyk7XG4gIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoTWF0ZXJpYWxib3gsICdtYXRlcmlhbGJveCcsICdNX01hdGVyaWFsYm94Jyk7IFxuICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFBhcmFsbGF4LCAncGFyYWxsYXgnLCAnTV9QYXJhbGxheCcpO1xuICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFNsaWRlciwgJ3NsaWRlcicsICdNX1NsaWRlcicpO1xuICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFRpbWVwaWNrZXIsICd0aW1lcGlja2VyJywgJ01fVGltZXBpY2tlcicpO1xuICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFRvb2x0aXAsICd0b29sdGlwJywgJ01fVG9vbHRpcCcpO1xuICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFRhcFRhcmdldCwgJ3RhcFRhcmdldCcsICdNX1RhcFRhcmdldCcpO1xuICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFNpZGVuYXYsICdzaWRlbmF2JywgJ01fU2lkZW5hdicpO1xuICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFNjcm9sbFNweSwgJ3Njcm9sbFNweScsICdNX1Njcm9sbFNweScpO1xuICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFJhbmdlLCAncmFuZ2UnLCAnTV9SYW5nZScpO1xuICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKENoaXBzLCAnY2hpcHMnLCAnTV9DaGlwcycpO1xuICBDYXJkcy5Jbml0KCk7XG4gIEZvcm1zLkluaXQoKTtcbiAgQ2hpcHMuSW5pdCgpO1xufVxuXG5zdGF0aWMgalF1ZXJ5TG9hZGVkKCk6IGJvb2xlYW5cbntcbiAgcmV0dXJuICEhKDxhbnk+d2luZG93KS5qUXVlcnk7ICAgICAgXG59XG4gXG5cbi8qKlxuICogSW5pdGlhbGl6ZSBqUXVlcnkgd3JhcHBlciBmb3IgcGx1Z2luXG4gKiBAcGFyYW0ge0NsYXNzfSBwbHVnaW4gIGphdmFzY3JpcHQgY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5OYW1lICBqUXVlcnkgcGx1Z2luIG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1JlZiAgQ2xhc3MgcmVmZXJlbmNlIG5hbWVcbiAqL1xuc3RhdGljIGluaXRpYWxpemVKcXVlcnlXcmFwcGVyKHBsdWdpbiwgcGx1Z2luTmFtZSwgY2xhc3NSZWYpIHtcbiAgaWYgKCF0aGlzLmpRdWVyeUxvYWRlZCgpKVxuICAgIHJldHVybjtcbiAgdmFyIGpxID0gKDxhbnk+d2luZG93KS5qUXVlcnk7XG4gIFxuICBqcS5mbltwbHVnaW5OYW1lXSA9IGZ1bmN0aW9uKG1ldGhvZE9yT3B0aW9ucykge1xuICAgIC8vIENhbGwgcGx1Z2luIG1ldGhvZCBpZiB2YWxpZCBtZXRob2QgbmFtZSBpcyBwYXNzZWQgaW5cbiAgICBpZiAocGx1Z2luLnByb3RvdHlwZVttZXRob2RPck9wdGlvbnNdKSB7XG4gICAgICBsZXQgcGFyYW1zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblxuICAgICAgLy8gR2V0dGVyIG1ldGhvZHNcbiAgICAgIGlmIChtZXRob2RPck9wdGlvbnMuc2xpY2UoMCwgMykgPT09ICdnZXQnKSB7XG4gICAgICAgIGxldCBpbnN0YW5jZSA9IHRoaXMuZmlyc3QoKVswXVtjbGFzc1JlZl07XG4gICAgICAgIHJldHVybiBpbnN0YW5jZVttZXRob2RPck9wdGlvbnNdLmFwcGx5KGluc3RhbmNlLCBwYXJhbXMpO1xuICAgICAgfVxuXG4gICAgICAvLyBWb2lkIG1ldGhvZHNcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBpbnN0YW5jZSA9IHRoaXNbY2xhc3NSZWZdO1xuICAgICAgICBpbnN0YW5jZVttZXRob2RPck9wdGlvbnNdLmFwcGx5KGluc3RhbmNlLCBwYXJhbXMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEluaXRpYWxpemUgcGx1Z2luIGlmIG9wdGlvbnMgb3Igbm8gYXJndW1lbnQgaXMgcGFzc2VkIGluXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbWV0aG9kT3JPcHRpb25zID09PSAnb2JqZWN0JyB8fCAhbWV0aG9kT3JPcHRpb25zKSB7XG4gICAgICBwbHVnaW4uaW5pdCh0aGlzLCBhcmd1bWVudHNbMF0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGVycm9yIGlmIGFuIHVucmVjb2duaXplZCAgbWV0aG9kIG5hbWUgaXMgcGFzc2VkIGluXG4gICAganEuZXJyb3IoYE1ldGhvZCAke21ldGhvZE9yT3B0aW9uc30gZG9lcyBub3QgZXhpc3Qgb24galF1ZXJ5LiR7cGx1Z2luTmFtZX1gKTtcbiAgfTtcbn07XG5cbnN0YXRpYyBBdXRvSW5pdChjb250ZXh0OkVsZW1lbnQgPSBudWxsKSB7ICAgICAgICBcbiAgbGV0IHJvb3QgPSAhIWNvbnRleHQgPyBjb250ZXh0IDogZG9jdW1lbnQuYm9keTtcbiAgXG4gIGxldCByZWdpc3RyeSA9IHtcbiAgICBBdXRvY29tcGxldGU6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmF1dG9jb21wbGV0ZTpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIENhcm91c2VsOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIENoaXBzOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGlwczpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIENvbGxhcHNpYmxlOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2xsYXBzaWJsZTpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIERhdGVwaWNrZXI6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmRhdGVwaWNrZXI6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBEcm9wZG93bjogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcGRvd24tdHJpZ2dlcjpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIE1hdGVyaWFsYm94OiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYXRlcmlhbGJveGVkOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgTW9kYWw6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgUGFyYWxsYXg6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnBhcmFsbGF4Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgUHVzaHBpbjogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcucHVzaHBpbjpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIFNjcm9sbFNweTogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuc2Nyb2xsc3B5Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgRm9ybVNlbGVjdDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCdzZWxlY3Q6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBTaWRlbmF2OiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaWRlbmF2Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgVGFiczogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiczpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIFRhcFRhcmdldDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcudGFwLXRhcmdldDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIFRpbWVwaWNrZXI6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnRpbWVwaWNrZXI6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICBUb29sdGlwOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b29sdGlwcGVkOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgRmxvYXRpbmdBY3Rpb25CdXR0b246IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmZpeGVkLWFjdGlvbi1idG46bm90KC5uby1hdXRvaW5pdCknKVxuICB9O1xuICBNLkF1dG9jb21wbGV0ZS5pbml0KHJlZ2lzdHJ5LkF1dG9jb21wbGV0ZSwgbnVsbCk7XG4gIE0uQ2Fyb3VzZWwuaW5pdChyZWdpc3RyeS5DYXJvdXNlbCwgbnVsbCk7ICBcbiAgTS5DaGlwcy5pbml0KHJlZ2lzdHJ5LkNoaXBzLCBudWxsKTsgIFxuICBNLkNvbGxhcHNpYmxlLmluaXQocmVnaXN0cnkuQ29sbGFwc2libGUsIG51bGwpO1xuICBNLkRhdGVwaWNrZXIuaW5pdChyZWdpc3RyeS5EYXRlcGlja2VyLCBudWxsKTtcbiAgTS5Ecm9wZG93bi5pbml0KHJlZ2lzdHJ5LkRyb3Bkb3duLCBudWxsKTsgIFxuICBNLk1hdGVyaWFsYm94LmluaXQocmVnaXN0cnkuTWF0ZXJpYWxib3gsIG51bGwpO1xuICBNLk1vZGFsLmluaXQocmVnaXN0cnkuTW9kYWwsIG51bGwpO1xuICBNLlBhcmFsbGF4LmluaXQocmVnaXN0cnkuUGFyYWxsYXgsIG51bGwpO1xuICBNLlB1c2hwaW4uaW5pdChyZWdpc3RyeS5QdXNocGluLCBudWxsKTtcbiAgTS5TY3JvbGxTcHkuaW5pdChyZWdpc3RyeS5TY3JvbGxTcHksIG51bGwpO1xuICBNLkZvcm1TZWxlY3QuaW5pdChyZWdpc3RyeS5Gb3JtU2VsZWN0LCBudWxsKTtcbiAgTS5TaWRlbmF2LmluaXQocmVnaXN0cnkuU2lkZW5hdiwgbnVsbCk7XG4gIE0uVGFicy5pbml0KHJlZ2lzdHJ5LlRhYnMsIG51bGwpO1xuICBNLlRhcFRhcmdldC5pbml0KHJlZ2lzdHJ5LlRhcFRhcmdldCwgbnVsbCk7XG4gIE0uVGltZXBpY2tlci5pbml0KHJlZ2lzdHJ5LlRpbWVwaWNrZXIsIG51bGwpO1xuICBNLlRvb2x0aXAuaW5pdChyZWdpc3RyeS5Ub29sdGlwLCBudWxsKTtcbiAgTS5GbG9hdGluZ0FjdGlvbkJ1dHRvbi5pbml0KHJlZ2lzdHJ5LkZsb2F0aW5nQWN0aW9uQnV0dG9uLCBudWxsKTsgICAgICAgICBcblxufTtcblxuXG4vKipcbiAqIEdlbmVyYXRlIGFwcHJveGltYXRlZCBzZWxlY3RvciBzdHJpbmcgZm9yIGEgalF1ZXJ5IG9iamVjdFxuICogQHBhcmFtIHtqUXVlcnl9IG9iaiAgalF1ZXJ5IG9iamVjdCB0byBiZSBwYXJzZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbnN0YXRpYyBvYmplY3RTZWxlY3RvclN0cmluZyhvYmopIHtcbiAgbGV0IHRhZ1N0ciA9IG9iai5wcm9wKCd0YWdOYW1lJykgfHwgJyc7XG4gIGxldCBpZFN0ciA9IG9iai5hdHRyKCdpZCcpIHx8ICcnO1xuICBsZXQgY2xhc3NTdHIgPSBvYmouYXR0cignY2xhc3MnKSB8fCAnJztcbiAgcmV0dXJuICh0YWdTdHIgKyBpZFN0ciArIGNsYXNzU3RyKS5yZXBsYWNlKC9cXHMvZywgJycpO1xufTtcblxuLy8gVW5pcXVlIFJhbmRvbSBJRFxuc3RhdGljIGd1aWQoKTpzdHJpbmcge1xuICBmdW5jdGlvbiBzNCgpOnN0cmluZyB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApXG4gICAgICAudG9TdHJpbmcoMTYpXG4gICAgICAuc3Vic3RyaW5nKDEpO1xuICB9XG4gIFxuICByZXR1cm4gczQoKSArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArIHM0KCkgKyAnLScgKyBzNCgpICsgczQoKSArIHM0KCk7ICAgICAgXG59XG5cblxuLyoqXG4gKiBFc2NhcGVzIGhhc2ggZnJvbSBzcGVjaWFsIGNoYXJhY3RlcnNcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGFpbmVyICBDb250YWluZXIgZWxlbWVudCB0aGF0IGFjdHMgYXMgdGhlIGJvdW5kYXJ5XG4gKiBAcGFyYW0ge0JvdW5kaW5nfSBib3VuZGluZyAgZWxlbWVudCBib3VuZGluZyB0aGF0IGlzIGJlaW5nIGNoZWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgIG9mZnNldCBmcm9tIGVkZ2UgdGhhdCBjb3VudHMgYXMgZXhjZWVkaW5nXG4gKiBAcmV0dXJucyB7RWRnZXN9XG4gKi9cbnN0YXRpYyBjaGVja1dpdGhpbkNvbnRhaW5lcihjb250YWluZXI6IEVsZW1lbnQsIGJvdW5kaW5nOiBCb3VuZGluZywgb2Zmc2V0OiBudW1iZXIpOkVkZ2VzICB7XG4gIGxldCBlZGdlcyA9IHtcbiAgICB0b3A6IGZhbHNlLFxuICAgIHJpZ2h0OiBmYWxzZSxcbiAgICBib3R0b206IGZhbHNlLFxuICAgIGxlZnQ6IGZhbHNlXG4gIH07XG5cbiAgbGV0IGNvbnRhaW5lclJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIC8vIElmIGJvZHkgZWxlbWVudCBpcyBzbWFsbGVyIHRoYW4gdmlld3BvcnQsIHVzZSB2aWV3cG9ydCBoZWlnaHQgaW5zdGVhZC5cbiAgbGV0IGNvbnRhaW5lckJvdHRvbSA9XG4gICAgY29udGFpbmVyID09PSBkb2N1bWVudC5ib2R5XG4gICAgICA/IE1hdGgubWF4KGNvbnRhaW5lclJlY3QuYm90dG9tLCB3aW5kb3cuaW5uZXJIZWlnaHQpXG4gICAgICA6IGNvbnRhaW5lclJlY3QuYm90dG9tO1xuXG4gIGxldCBzY3JvbGxMZWZ0ID0gY29udGFpbmVyLnNjcm9sbExlZnQ7XG4gIGxldCBzY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsVG9wO1xuXG4gIGxldCBzY3JvbGxlZFggPSBib3VuZGluZy5sZWZ0IC0gc2Nyb2xsTGVmdDtcbiAgbGV0IHNjcm9sbGVkWSA9IGJvdW5kaW5nLnRvcCAtIHNjcm9sbFRvcDtcblxuICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgZWFjaCBlZGdlXG4gIGlmIChzY3JvbGxlZFggPCBjb250YWluZXJSZWN0LmxlZnQgKyBvZmZzZXQgfHwgc2Nyb2xsZWRYIDwgb2Zmc2V0KSB7XG4gICAgZWRnZXMubGVmdCA9IHRydWU7XG4gIH1cblxuICBpZiAoXG4gICAgc2Nyb2xsZWRYICsgYm91bmRpbmcud2lkdGggPiBjb250YWluZXJSZWN0LnJpZ2h0IC0gb2Zmc2V0IHx8XG4gICAgc2Nyb2xsZWRYICsgYm91bmRpbmcud2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIG9mZnNldFxuICApIHtcbiAgICBlZGdlcy5yaWdodCA9IHRydWU7XG4gIH1cblxuICBpZiAoc2Nyb2xsZWRZIDwgY29udGFpbmVyUmVjdC50b3AgKyBvZmZzZXQgfHwgc2Nyb2xsZWRZIDwgb2Zmc2V0KSB7XG4gICAgZWRnZXMudG9wID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChcbiAgICBzY3JvbGxlZFkgKyBib3VuZGluZy5oZWlnaHQgPiBjb250YWluZXJCb3R0b20gLSBvZmZzZXQgfHxcbiAgICBzY3JvbGxlZFkgKyBib3VuZGluZy5oZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQgLSBvZmZzZXRcbiAgKSB7XG4gICAgZWRnZXMuYm90dG9tID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBlZGdlcztcbn07XG5cbnN0YXRpYyBjaGVja1Bvc3NpYmxlQWxpZ25tZW50cyhlbCwgY29udGFpbmVyLCBib3VuZGluZywgb2Zmc2V0KSB7XG4gIGxldCBjYW5BbGlnbiA9IHtcbiAgICB0b3A6IHRydWUsXG4gICAgcmlnaHQ6IHRydWUsXG4gICAgYm90dG9tOiB0cnVlLFxuICAgIGxlZnQ6IHRydWUsXG4gICAgc3BhY2VPblRvcDogbnVsbCxcbiAgICBzcGFjZU9uUmlnaHQ6IG51bGwsXG4gICAgc3BhY2VPbkJvdHRvbTogbnVsbCxcbiAgICBzcGFjZU9uTGVmdDogbnVsbFxuICB9O1xuXG4gIGxldCBjb250YWluZXJBbGxvd3NPdmVyZmxvdyA9IGdldENvbXB1dGVkU3R5bGUoY29udGFpbmVyKS5vdmVyZmxvdyA9PT0gJ3Zpc2libGUnO1xuICBsZXQgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgbGV0IGNvbnRhaW5lckhlaWdodCA9IE1hdGgubWluKGNvbnRhaW5lclJlY3QuaGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICBsZXQgY29udGFpbmVyV2lkdGggPSBNYXRoLm1pbihjb250YWluZXJSZWN0LndpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCk7XG4gIGxldCBlbE9mZnNldFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICBsZXQgc2Nyb2xsTGVmdCA9IGNvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICBsZXQgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDtcblxuICBsZXQgc2Nyb2xsZWRYID0gYm91bmRpbmcubGVmdCAtIHNjcm9sbExlZnQ7XG4gIGxldCBzY3JvbGxlZFlUb3BFZGdlID0gYm91bmRpbmcudG9wIC0gc2Nyb2xsVG9wO1xuICBsZXQgc2Nyb2xsZWRZQm90dG9tRWRnZSA9IGJvdW5kaW5nLnRvcCArIGVsT2Zmc2V0UmVjdC5oZWlnaHQgLSBzY3JvbGxUb3A7XG5cbiAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIGxlZnRcbiAgY2FuQWxpZ24uc3BhY2VPblJpZ2h0ID0gIWNvbnRhaW5lckFsbG93c092ZXJmbG93XG4gICAgPyBjb250YWluZXJXaWR0aCAtIChzY3JvbGxlZFggKyBib3VuZGluZy53aWR0aClcbiAgICA6IHdpbmRvdy5pbm5lcldpZHRoIC0gKGVsT2Zmc2V0UmVjdC5sZWZ0ICsgYm91bmRpbmcud2lkdGgpO1xuICBpZiAoY2FuQWxpZ24uc3BhY2VPblJpZ2h0IDwgMCkge1xuICAgIGNhbkFsaWduLmxlZnQgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIENoZWNrIGZvciBjb250YWluZXIgYW5kIHZpZXdwb3J0IGZvciBSaWdodFxuICBjYW5BbGlnbi5zcGFjZU9uTGVmdCA9ICFjb250YWluZXJBbGxvd3NPdmVyZmxvd1xuICAgID8gc2Nyb2xsZWRYIC0gYm91bmRpbmcud2lkdGggKyBlbE9mZnNldFJlY3Qud2lkdGhcbiAgICA6IGVsT2Zmc2V0UmVjdC5yaWdodCAtIGJvdW5kaW5nLndpZHRoO1xuICBpZiAoY2FuQWxpZ24uc3BhY2VPbkxlZnQgPCAwKSB7XG4gICAgY2FuQWxpZ24ucmlnaHQgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIENoZWNrIGZvciBjb250YWluZXIgYW5kIHZpZXdwb3J0IGZvciBUb3BcbiAgY2FuQWxpZ24uc3BhY2VPbkJvdHRvbSA9ICFjb250YWluZXJBbGxvd3NPdmVyZmxvd1xuICAgID8gY29udGFpbmVySGVpZ2h0IC0gKHNjcm9sbGVkWVRvcEVkZ2UgKyBib3VuZGluZy5oZWlnaHQgKyBvZmZzZXQpXG4gICAgOiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAoZWxPZmZzZXRSZWN0LnRvcCArIGJvdW5kaW5nLmhlaWdodCArIG9mZnNldCk7XG4gIGlmIChjYW5BbGlnbi5zcGFjZU9uQm90dG9tIDwgMCkge1xuICAgIGNhbkFsaWduLnRvcCA9IGZhbHNlO1xuICB9XG5cbiAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIEJvdHRvbVxuICBjYW5BbGlnbi5zcGFjZU9uVG9wID0gIWNvbnRhaW5lckFsbG93c092ZXJmbG93XG4gICAgPyBzY3JvbGxlZFlCb3R0b21FZGdlIC0gKGJvdW5kaW5nLmhlaWdodCAtIG9mZnNldClcbiAgICA6IGVsT2Zmc2V0UmVjdC5ib3R0b20gLSAoYm91bmRpbmcuaGVpZ2h0ICsgb2Zmc2V0KTtcbiAgaWYgKGNhbkFsaWduLnNwYWNlT25Ub3AgPCAwKSB7XG4gICAgY2FuQWxpZ24uYm90dG9tID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gY2FuQWxpZ247XG59O1xuXG5zdGF0aWMgZ2V0T3ZlcmZsb3dQYXJlbnQoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoZWxlbWVudCA9PT0gZG9jdW1lbnQuYm9keSB8fCBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLm92ZXJmbG93ICE9PSAndmlzaWJsZScpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmdldE92ZXJmbG93UGFyZW50KGVsZW1lbnQucGFyZW50RWxlbWVudCk7XG59O1xuXG4vKipcbiAqIEdldHMgaWQgb2YgY29tcG9uZW50IGZyb20gYSB0cmlnZ2VyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRyaWdnZXIgIHRyaWdnZXJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbnN0YXRpYyBnZXRJZEZyb21UcmlnZ2VyKHRyaWdnZXI6IEVsZW1lbnQpOnN0cmluZyB7XG4gIGxldCBpZCA9IHRyaWdnZXIuZ2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcpO1xuICBpZiAoIWlkKSB7XG4gICAgaWQgPSB0cmlnZ2VyLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgIGlmIChpZCkge1xuICAgICAgaWQgPSBpZC5zbGljZSgxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWQgPSAnJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGlkO1xufTtcblxuLyoqXG4gKiBNdWx0aSBicm93c2VyIHN1cHBvcnQgZm9yIGRvY3VtZW50IHNjcm9sbCB0b3BcbiAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gKi9cbnN0YXRpYyBnZXREb2N1bWVudFNjcm9sbFRvcCgpOm51bWJlciB7XG4gIHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwO1xufTtcblxuLyoqXG4gKiBNdWx0aSBicm93c2VyIHN1cHBvcnQgZm9yIGRvY3VtZW50IHNjcm9sbCBsZWZ0XG4gKiBAcmV0dXJucyB7TnVtYmVyfVxuICovXG5zdGF0aWMgZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCk6bnVtYmVyIHtcbiAgcmV0dXJuIHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgfHwgMDtcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRWRnZXNcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gdG9wICBJZiB0aGUgdG9wIGVkZ2Ugd2FzIGV4Y2VlZGVkXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IHJpZ2h0ICBJZiB0aGUgcmlnaHQgZWRnZSB3YXMgZXhjZWVkZWRcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gYm90dG9tICBJZiB0aGUgYm90dG9tIGVkZ2Ugd2FzIGV4Y2VlZGVkXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGxlZnQgIElmIHRoZSBsZWZ0IGVkZ2Ugd2FzIGV4Y2VlZGVkXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBCb3VuZGluZ1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IGxlZnQgIGxlZnQgb2Zmc2V0IGNvb3JkaW5hdGVcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSB0b3AgIHRvcCBvZmZzZXQgY29vcmRpbmF0ZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHdpZHRoXG4gKiBAcHJvcGVydHkge051bWJlcn0gaGVpZ2h0XG4gKi9cblxuXG4gICAgcHVibGljIHN0YXRpYyB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zID0gbnVsbCkge1xuICAgICAgbGV0IGNvbnRleHQsIGFyZ3MsIHJlc3VsdDtcbiAgICAgIGxldCB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIGxldCBwcmV2aW91cyA9IDA7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgICAgbGV0IGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgIH07XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgaWYgKCFwcmV2aW91cyAmJiBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlKSBwcmV2aW91cyA9IG5vdztcbiAgICAgICAgbGV0IHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0VGltZSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH07XG5cbiAgICAgICAgICBcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IE0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///238\n")},709:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Materialbox = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst animejs_1 = __importDefault(__webpack_require__(30));\nconst global_1 = __webpack_require__(238);\nlet _defaults = {\n    inDuration: 275,\n    outDuration: 200,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null\n};\n/**\n * @class\n *\n */\nclass Materialbox extends component_1.Component {\n    /**\n     * Construct Materialbox instance\n     * @constructor\n     * @param {Element} el\n     * @param {Object} options\n     */\n    constructor(el, options) {\n        super(Materialbox, el, options);\n        this.el.M_Materialbox = this;\n        /**\n         * Options for the modal\n         * @member Materialbox#options\n         * @prop {Number} [inDuration=275] - Length in ms of enter transition\n         * @prop {Number} [outDuration=200] - Length in ms of exit transition\n         * @prop {Function} onOpenStart - Callback function called before materialbox is opened\n         * @prop {Function} onOpenEnd - Callback function called after materialbox is opened\n         * @prop {Function} onCloseStart - Callback function called before materialbox is closed\n         * @prop {Function} onCloseEnd - Callback function called after materialbox is closed\n         */\n        this.options = cash_dom_1.default.extend({}, Materialbox.defaults, options);\n        this.overlayActive = false;\n        this.doneAnimating = true;\n        this.placeholder = (0, cash_dom_1.default)('<div></div>').addClass('material-placeholder');\n        this.originalWidth = 0;\n        this.originalHeight = 0;\n        this.originInlineStyles = this.$el.attr('style');\n        this.caption = this.el.getAttribute('data-caption') || '';\n        // Wrap\n        this.$el.before(this.placeholder);\n        this.placeholder.append(this.$el);\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    /**\n     * Get Instance\n     */\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Materialbox;\n    }\n    /**\n     * Teardown component\n     */\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Materialbox = undefined;\n        // Unwrap image\n        (0, cash_dom_1.default)(this.placeholder)\n            .after(this.el)\n            .remove();\n        this.$el.removeAttr('style');\n    }\n    /**\n     * Setup Event Handlers\n     */\n    _setupEventHandlers() {\n        this._handleMaterialboxClickBound = this._handleMaterialboxClick.bind(this);\n        this.el.addEventListener('click', this._handleMaterialboxClickBound);\n    }\n    /**\n     * Remove Event Handlers\n     */\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleMaterialboxClickBound);\n    }\n    /**\n     * Handle Materialbox Click\n     * @param {Event} e\n     */\n    _handleMaterialboxClick(e) {\n        // If already modal, return to original\n        if (this.doneAnimating === false || (this.overlayActive && this.doneAnimating)) {\n            this.close();\n        }\n        else {\n            this.open();\n        }\n    }\n    /**\n     * Handle Window Scroll\n     */\n    _handleWindowScroll() {\n        if (this.overlayActive) {\n            this.close();\n        }\n    }\n    /**\n     * Handle Window Resize\n     */\n    _handleWindowResize() {\n        if (this.overlayActive) {\n            this.close();\n        }\n    }\n    /**\n     * Handle Window Resize\n     * @param {Event} e\n     */\n    _handleWindowEscape(e) {\n        // ESC key\n        if (e.keyCode === 27 && this.doneAnimating && this.overlayActive) {\n            this.close();\n        }\n    }\n    /**\n     * Find ancestors with overflow: hidden; and make visible\n     */\n    _makeAncestorsOverflowVisible() {\n        this.ancestorsChanged = (0, cash_dom_1.default)();\n        let ancestor = this.placeholder[0].parentNode;\n        while (ancestor !== null && !(0, cash_dom_1.default)(ancestor).is(document)) {\n            let curr = (0, cash_dom_1.default)(ancestor);\n            if (curr.css('overflow') !== 'visible') {\n                curr.css('overflow', 'visible');\n                if (this.ancestorsChanged === undefined) {\n                    this.ancestorsChanged = curr;\n                }\n                else {\n                    this.ancestorsChanged = this.ancestorsChanged.add(curr);\n                }\n            }\n            ancestor = ancestor.parentNode;\n        }\n    }\n    /**\n     * Animate image in\n     */\n    _animateImageIn() {\n        let animOptions = {\n            targets: this.el,\n            height: [this.originalHeight, this.newHeight],\n            width: [this.originalWidth, this.newWidth],\n            maxHeight: this.newHeight,\n            maxWidth: this.newWidth,\n            left: global_1.M.getDocumentScrollLeft() +\n                this.windowWidth / 2 -\n                this.placeholder.offset().left -\n                this.newWidth / 2,\n            top: global_1.M.getDocumentScrollTop() +\n                this.windowHeight / 2 -\n                this.placeholder.offset().top -\n                this.newHeight / 2,\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this.doneAnimating = true;\n                // onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el);\n                }\n            }\n        };\n        // Override max-width or max-height if needed\n        this.maxWidth = this.$el.css('max-width');\n        this.maxHeight = this.$el.css('max-height');\n        if (this.maxWidth !== 'none') {\n            animOptions.maxWidth = this.newWidth;\n        }\n        if (this.maxHeight !== 'none') {\n            animOptions.maxHeight = this.newHeight;\n        }\n        (0, animejs_1.default)(animOptions);\n    }\n    /**\n     * Animate image out\n     */\n    _animateImageOut() {\n        let animOptions = {\n            targets: this.el,\n            width: this.originalWidth,\n            height: this.originalHeight,\n            left: 0,\n            top: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this.placeholder.css({\n                    height: '',\n                    width: '',\n                    position: '',\n                    top: '',\n                    left: ''\n                });\n                // Revert to width or height attribute\n                if (this.attrWidth) {\n                    this.$el.attr('width', this.attrWidth);\n                }\n                if (this.attrHeight) {\n                    this.$el.attr('height', this.attrHeight);\n                }\n                this.$el.removeAttr('style');\n                this.originInlineStyles && this.$el.attr('style', this.originInlineStyles);\n                // Remove class\n                this.$el.removeClass('active');\n                this.doneAnimating = true;\n                // Remove overflow overrides on ancestors\n                if (this.ancestorsChanged.length) {\n                    this.ancestorsChanged.css('overflow', '');\n                }\n                // onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        };\n        (0, animejs_1.default)(animOptions);\n    }\n    /**\n     * Update open and close vars\n     */\n    _updateVars() {\n        this.windowWidth = window.innerWidth;\n        this.windowHeight = window.innerHeight;\n        this.caption = this.el.getAttribute('data-caption') || '';\n    }\n    /**\n     * Open Materialbox\n     */\n    open() {\n        this._updateVars();\n        this.originalWidth = this.el.getBoundingClientRect().width;\n        this.originalHeight = this.el.getBoundingClientRect().height;\n        // Set states\n        this.doneAnimating = false;\n        this.$el.addClass('active');\n        this.overlayActive = true;\n        // onOpenStart callback\n        if (typeof this.options.onOpenStart === 'function') {\n            this.options.onOpenStart.call(this, this.el);\n        }\n        // Set positioning for placeholder\n        this.placeholder.css({\n            width: this.placeholder[0].getBoundingClientRect().width + 'px',\n            height: this.placeholder[0].getBoundingClientRect().height + 'px',\n            position: 'relative',\n            top: 0,\n            left: 0\n        });\n        this._makeAncestorsOverflowVisible();\n        // Set css on origin\n        this.$el.css({\n            position: 'absolute',\n            'z-index': 1000,\n            'will-change': 'left, top, width, height'\n        });\n        // Change from width or height attribute to css\n        this.attrWidth = this.$el.attr('width');\n        this.attrHeight = this.$el.attr('height');\n        if (this.attrWidth) {\n            this.$el.css('width', this.attrWidth + 'px');\n            this.$el.removeAttr('width');\n        }\n        if (this.attrHeight) {\n            this.$el.css('width', this.attrHeight + 'px');\n            this.$el.removeAttr('height');\n        }\n        // Add overlay\n        this.$overlay = (0, cash_dom_1.default)('<div id=\"materialbox-overlay\"></div>')\n            .css({\n            opacity: 0\n        })\n            .one('click', () => {\n            if (this.doneAnimating) {\n                this.close();\n            }\n        });\n        // Put before in origin image to preserve z-index layering.\n        this.$el.before(this.$overlay);\n        // Set dimensions if needed\n        let overlayOffset = this.$overlay[0].getBoundingClientRect();\n        this.$overlay.css({\n            width: this.windowWidth + 'px',\n            height: this.windowHeight + 'px',\n            left: -1 * overlayOffset.left + 'px',\n            top: -1 * overlayOffset.top + 'px'\n        });\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this.$overlay[0]);\n        // Animate Overlay\n        (0, animejs_1.default)({\n            targets: this.$overlay[0],\n            opacity: 1,\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad'\n        });\n        // Add and animate caption if it exists\n        if (this.caption !== '') {\n            if (this.$photoCaption) {\n                animejs_1.default.remove(this.$photoCaption[0]);\n            }\n            this.$photoCaption = (0, cash_dom_1.default)('<div class=\"materialbox-caption\"></div>');\n            this.$photoCaption.text(this.caption);\n            (0, cash_dom_1.default)('body').append(this.$photoCaption);\n            this.$photoCaption.css({ display: 'inline' });\n            (0, animejs_1.default)({\n                targets: this.$photoCaption[0],\n                opacity: 1,\n                duration: this.options.inDuration,\n                easing: 'easeOutQuad'\n            });\n        }\n        // Resize Image\n        let ratio = 0;\n        let widthPercent = this.originalWidth / this.windowWidth;\n        let heightPercent = this.originalHeight / this.windowHeight;\n        this.newWidth = 0;\n        this.newHeight = 0;\n        if (widthPercent > heightPercent) {\n            ratio = this.originalHeight / this.originalWidth;\n            this.newWidth = this.windowWidth * 0.9;\n            this.newHeight = this.windowWidth * 0.9 * ratio;\n        }\n        else {\n            ratio = this.originalWidth / this.originalHeight;\n            this.newWidth = this.windowHeight * 0.9 * ratio;\n            this.newHeight = this.windowHeight * 0.9;\n        }\n        this._animateImageIn();\n        // Handle Exit triggers\n        this._handleWindowScrollBound = this._handleWindowScroll.bind(this);\n        this._handleWindowResizeBound = this._handleWindowResize.bind(this);\n        this._handleWindowEscapeBound = this._handleWindowEscape.bind(this);\n        window.addEventListener('scroll', this._handleWindowScrollBound);\n        window.addEventListener('resize', this._handleWindowResizeBound);\n        window.addEventListener('keyup', this._handleWindowEscapeBound);\n    }\n    /**\n     * Close Materialbox\n     */\n    close() {\n        this._updateVars();\n        this.doneAnimating = false;\n        // onCloseStart callback\n        if (typeof this.options.onCloseStart === 'function') {\n            this.options.onCloseStart.call(this, this.el);\n        }\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this.$overlay[0]);\n        if (this.caption !== '') {\n            animejs_1.default.remove(this.$photoCaption[0]);\n        }\n        // disable exit handlers\n        window.removeEventListener('scroll', this._handleWindowScrollBound);\n        window.removeEventListener('resize', this._handleWindowResizeBound);\n        window.removeEventListener('keyup', this._handleWindowEscapeBound);\n        (0, animejs_1.default)({\n            targets: this.$overlay[0],\n            opacity: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this.overlayActive = false;\n                this.$overlay.remove();\n            }\n        });\n        this._animateImageOut();\n        // Remove Caption + reset css settings on image\n        if (this.caption !== '') {\n            (0, animejs_1.default)({\n                targets: this.$photoCaption[0],\n                opacity: 0,\n                duration: this.options.outDuration,\n                easing: 'easeOutQuad',\n                complete: () => {\n                    this.$photoCaption.remove();\n                }\n            });\n        }\n    }\n}\nexports.Materialbox = Materialbox;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNiLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDO2dCQUMzQixJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ3pCLENBQUM7U0FDRixDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUV4QiwrQ0FBK0M7UUFDL0MsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLEVBQUUsRUFBRTtZQUN2QixxQkFBSSxFQUFDO2dCQUNILE9BQU8sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztnQkFDOUIsT0FBTyxFQUFFLENBQUM7Z0JBQ1YsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVztnQkFDbEMsTUFBTSxFQUFFLGFBQWE7Z0JBQ3JCLFFBQVEsRUFBRSxHQUFHLEVBQUU7b0JBQ2IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDOUIsQ0FBQzthQUNGLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQztDQUNGO0FBcmNELGtDQXFjQyIsInNvdXJjZXMiOlsid2VicGFjazovL00vLi9zcmMvbWF0ZXJpYWxib3gudHM/OTdmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCAkIGZyb20gXCJjYXNoLWRvbVwiO1xuaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcblxuICBsZXQgX2RlZmF1bHRzID0ge1xuICAgIGluRHVyYXRpb246IDI3NSxcbiAgICBvdXREdXJhdGlvbjogMjAwLFxuICAgIG9uT3BlblN0YXJ0OiBudWxsLFxuICAgIG9uT3BlbkVuZDogbnVsbCxcbiAgICBvbkNsb3NlU3RhcnQ6IG51bGwsXG4gICAgb25DbG9zZUVuZDogbnVsbFxuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBNYXRlcmlhbGJveCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgb3ZlcmxheUFjdGl2ZTogYm9vbGVhbjtcbiAgICBkb25lQW5pbWF0aW5nOiBib29sZWFuO1xuICAgIHBsYWNlaG9sZGVyOiBhbnk7XG4gICAgb3JpZ2luYWxXaWR0aDogbnVtYmVyO1xuICAgIG9yaWdpbmFsSGVpZ2h0OiBudW1iZXI7XG4gICAgb3JpZ2luSW5saW5lU3R5bGVzOiBhbnk7XG4gICAgY2FwdGlvbjogc3RyaW5nO1xuICAgIHByaXZhdGUgX2hhbmRsZU1hdGVyaWFsYm94Q2xpY2tCb3VuZDogYW55O1xuICAgIGFuY2VzdG9yc0NoYW5nZWQ6IGFueTtcbiAgICBuZXdIZWlnaHQ6IGFueTtcbiAgICBuZXdXaWR0aDogYW55O1xuICAgIHdpbmRvd1dpZHRoOiBudW1iZXI7XG4gICAgd2luZG93SGVpZ2h0OiBudW1iZXI7XG4gICAgbWF4V2lkdGg6IGFueTtcbiAgICBtYXhIZWlnaHQ6IGFueTtcbiAgICBhdHRyV2lkdGg6IGFueTtcbiAgICBhdHRySGVpZ2h0OiBhbnk7XG4gICAgJG92ZXJsYXk6IGFueTtcbiAgICAkcGhvdG9DYXB0aW9uOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlV2luZG93U2Nyb2xsQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZVdpbmRvd0VzY2FwZUJvdW5kOiBhbnk7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IE1hdGVyaWFsYm94IGluc3RhbmNlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKE1hdGVyaWFsYm94LCBlbCwgb3B0aW9ucyk7XG5cbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9NYXRlcmlhbGJveCA9IHRoaXM7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIG1vZGFsXG4gICAgICAgKiBAbWVtYmVyIE1hdGVyaWFsYm94I29wdGlvbnNcbiAgICAgICAqIEBwcm9wIHtOdW1iZXJ9IFtpbkR1cmF0aW9uPTI3NV0gLSBMZW5ndGggaW4gbXMgb2YgZW50ZXIgdHJhbnNpdGlvblxuICAgICAgICogQHByb3Age051bWJlcn0gW291dER1cmF0aW9uPTIwMF0gLSBMZW5ndGggaW4gbXMgb2YgZXhpdCB0cmFuc2l0aW9uXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uT3BlblN0YXJ0IC0gQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGJlZm9yZSBtYXRlcmlhbGJveCBpcyBvcGVuZWRcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25PcGVuRW5kIC0gQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIG1hdGVyaWFsYm94IGlzIG9wZW5lZFxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbkNsb3NlU3RhcnQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYmVmb3JlIG1hdGVyaWFsYm94IGlzIGNsb3NlZFxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbkNsb3NlRW5kIC0gQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIG1hdGVyaWFsYm94IGlzIGNsb3NlZFxuICAgICAgICovXG4gICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgTWF0ZXJpYWxib3guZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICB0aGlzLm92ZXJsYXlBY3RpdmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZG9uZUFuaW1hdGluZyA9IHRydWU7XG4gICAgICB0aGlzLnBsYWNlaG9sZGVyID0gJCgnPGRpdj48L2Rpdj4nKS5hZGRDbGFzcygnbWF0ZXJpYWwtcGxhY2Vob2xkZXInKTtcbiAgICAgIHRoaXMub3JpZ2luYWxXaWR0aCA9IDA7XG4gICAgICB0aGlzLm9yaWdpbmFsSGVpZ2h0ID0gMDtcbiAgICAgIHRoaXMub3JpZ2luSW5saW5lU3R5bGVzID0gdGhpcy4kZWwuYXR0cignc3R5bGUnKTtcbiAgICAgIHRoaXMuY2FwdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNhcHRpb24nKSB8fCAnJztcblxuICAgICAgLy8gV3JhcFxuICAgICAgdGhpcy4kZWwuYmVmb3JlKHRoaXMucGxhY2Vob2xkZXIpO1xuICAgICAgdGhpcy5wbGFjZWhvbGRlci5hcHBlbmQodGhpcy4kZWwpO1xuXG4gICAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEluc3RhbmNlXG4gICAgICovXG4gICAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICBsZXQgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fTWF0ZXJpYWxib3g7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9NYXRlcmlhbGJveCA9IHVuZGVmaW5lZDtcblxuICAgICAgLy8gVW53cmFwIGltYWdlXG4gICAgICAkKHRoaXMucGxhY2Vob2xkZXIpXG4gICAgICAgIC5hZnRlcih0aGlzLmVsKVxuICAgICAgICAucmVtb3ZlKCk7XG5cbiAgICAgIHRoaXMuJGVsLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgKi9cbiAgICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5faGFuZGxlTWF0ZXJpYWxib3hDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlTWF0ZXJpYWxib3hDbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU1hdGVyaWFsYm94Q2xpY2tCb3VuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICovXG4gICAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTWF0ZXJpYWxib3hDbGlja0JvdW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgTWF0ZXJpYWxib3ggQ2xpY2tcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgX2hhbmRsZU1hdGVyaWFsYm94Q2xpY2soZSkge1xuICAgICAgLy8gSWYgYWxyZWFkeSBtb2RhbCwgcmV0dXJuIHRvIG9yaWdpbmFsXG4gICAgICBpZiAodGhpcy5kb25lQW5pbWF0aW5nID09PSBmYWxzZSB8fCAodGhpcy5vdmVybGF5QWN0aXZlICYmIHRoaXMuZG9uZUFuaW1hdGluZykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIFdpbmRvdyBTY3JvbGxcbiAgICAgKi9cbiAgICBfaGFuZGxlV2luZG93U2Nyb2xsKCkge1xuICAgICAgaWYgKHRoaXMub3ZlcmxheUFjdGl2ZSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIFdpbmRvdyBSZXNpemVcbiAgICAgKi9cbiAgICBfaGFuZGxlV2luZG93UmVzaXplKCkge1xuICAgICAgaWYgKHRoaXMub3ZlcmxheUFjdGl2ZSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIFdpbmRvdyBSZXNpemVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgX2hhbmRsZVdpbmRvd0VzY2FwZShlKSB7XG4gICAgICAvLyBFU0Mga2V5XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSAyNyAmJiB0aGlzLmRvbmVBbmltYXRpbmcgJiYgdGhpcy5vdmVybGF5QWN0aXZlKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGFuY2VzdG9ycyB3aXRoIG92ZXJmbG93OiBoaWRkZW47IGFuZCBtYWtlIHZpc2libGVcbiAgICAgKi9cbiAgICBfbWFrZUFuY2VzdG9yc092ZXJmbG93VmlzaWJsZSgpIHtcbiAgICAgIHRoaXMuYW5jZXN0b3JzQ2hhbmdlZCA9ICQoKTtcbiAgICAgIGxldCBhbmNlc3RvciA9IHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZTtcbiAgICAgIHdoaWxlIChhbmNlc3RvciAhPT0gbnVsbCAmJiAhJChhbmNlc3RvcikuaXMoZG9jdW1lbnQpKSB7XG4gICAgICAgIGxldCBjdXJyID0gJChhbmNlc3Rvcik7XG4gICAgICAgIGlmIChjdXJyLmNzcygnb3ZlcmZsb3cnKSAhPT0gJ3Zpc2libGUnKSB7XG4gICAgICAgICAgY3Vyci5jc3MoJ292ZXJmbG93JywgJ3Zpc2libGUnKTtcbiAgICAgICAgICBpZiAodGhpcy5hbmNlc3RvcnNDaGFuZ2VkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYW5jZXN0b3JzQ2hhbmdlZCA9IGN1cnI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYW5jZXN0b3JzQ2hhbmdlZCA9IHRoaXMuYW5jZXN0b3JzQ2hhbmdlZC5hZGQoY3Vycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbmltYXRlIGltYWdlIGluXG4gICAgICovXG4gICAgX2FuaW1hdGVJbWFnZUluKCkge1xuICAgICAgbGV0IGFuaW1PcHRpb25zID0ge1xuICAgICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgICBoZWlnaHQ6IFt0aGlzLm9yaWdpbmFsSGVpZ2h0LCB0aGlzLm5ld0hlaWdodF0sXG4gICAgICAgIHdpZHRoOiBbdGhpcy5vcmlnaW5hbFdpZHRoLCB0aGlzLm5ld1dpZHRoXSxcbiAgICAgICAgbWF4SGVpZ2h0OiB0aGlzLm5ld0hlaWdodCxcbiAgICAgICAgbWF4V2lkdGg6IHRoaXMubmV3V2lkdGgsXG4gICAgICAgIGxlZnQ6XG4gICAgICAgICAgTS5nZXREb2N1bWVudFNjcm9sbExlZnQoKSArXG4gICAgICAgICAgdGhpcy53aW5kb3dXaWR0aCAvIDIgLVxuICAgICAgICAgIHRoaXMucGxhY2Vob2xkZXIub2Zmc2V0KCkubGVmdCAtXG4gICAgICAgICAgdGhpcy5uZXdXaWR0aCAvIDIsXG4gICAgICAgIHRvcDpcbiAgICAgICAgICBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCkgK1xuICAgICAgICAgIHRoaXMud2luZG93SGVpZ2h0IC8gMiAtXG4gICAgICAgICAgdGhpcy5wbGFjZWhvbGRlci5vZmZzZXQoKS50b3AgLVxuICAgICAgICAgIHRoaXMubmV3SGVpZ2h0IC8gMixcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kb25lQW5pbWF0aW5nID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIG9uT3BlbkVuZCBjYWxsYmFja1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlbkVuZC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gT3ZlcnJpZGUgbWF4LXdpZHRoIG9yIG1heC1oZWlnaHQgaWYgbmVlZGVkXG4gICAgICB0aGlzLm1heFdpZHRoID0gdGhpcy4kZWwuY3NzKCdtYXgtd2lkdGgnKTtcbiAgICAgIHRoaXMubWF4SGVpZ2h0ID0gdGhpcy4kZWwuY3NzKCdtYXgtaGVpZ2h0Jyk7XG4gICAgICBpZiAodGhpcy5tYXhXaWR0aCAhPT0gJ25vbmUnKSB7XG4gICAgICAgIGFuaW1PcHRpb25zLm1heFdpZHRoID0gdGhpcy5uZXdXaWR0aDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm1heEhlaWdodCAhPT0gJ25vbmUnKSB7XG4gICAgICAgIGFuaW1PcHRpb25zLm1heEhlaWdodCA9IHRoaXMubmV3SGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBhbmltKGFuaW1PcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbmltYXRlIGltYWdlIG91dFxuICAgICAqL1xuICAgIF9hbmltYXRlSW1hZ2VPdXQoKSB7XG4gICAgICBsZXQgYW5pbU9wdGlvbnMgPSB7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICAgIHdpZHRoOiB0aGlzLm9yaWdpbmFsV2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpcy5vcmlnaW5hbEhlaWdodCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbGFjZWhvbGRlci5jc3Moe1xuICAgICAgICAgICAgaGVpZ2h0OiAnJyxcbiAgICAgICAgICAgIHdpZHRoOiAnJyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnJyxcbiAgICAgICAgICAgIHRvcDogJycsXG4gICAgICAgICAgICBsZWZ0OiAnJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gUmV2ZXJ0IHRvIHdpZHRoIG9yIGhlaWdodCBhdHRyaWJ1dGVcbiAgICAgICAgICBpZiAodGhpcy5hdHRyV2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmF0dHIoJ3dpZHRoJywgdGhpcy5hdHRyV2lkdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5hdHRySGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5hdHRyKCdoZWlnaHQnLCB0aGlzLmF0dHJIZWlnaHQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgdGhpcy5vcmlnaW5JbmxpbmVTdHlsZXMgJiYgdGhpcy4kZWwuYXR0cignc3R5bGUnLCB0aGlzLm9yaWdpbklubGluZVN0eWxlcyk7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgY2xhc3NcbiAgICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgdGhpcy5kb25lQW5pbWF0aW5nID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFJlbW92ZSBvdmVyZmxvdyBvdmVycmlkZXMgb24gYW5jZXN0b3JzXG4gICAgICAgICAgaWYgKHRoaXMuYW5jZXN0b3JzQ2hhbmdlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYW5jZXN0b3JzQ2hhbmdlZC5jc3MoJ292ZXJmbG93JywgJycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIG9uQ2xvc2VFbmQgY2FsbGJhY2tcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYW5pbShhbmltT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIG9wZW4gYW5kIGNsb3NlIHZhcnNcbiAgICAgKi9cbiAgICBfdXBkYXRlVmFycygpIHtcbiAgICAgIHRoaXMud2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMud2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdGhpcy5jYXB0aW9uID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2FwdGlvbicpIHx8ICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9wZW4gTWF0ZXJpYWxib3hcbiAgICAgKi9cbiAgICBvcGVuKCkge1xuICAgICAgdGhpcy5fdXBkYXRlVmFycygpO1xuICAgICAgdGhpcy5vcmlnaW5hbFdpZHRoID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgIHRoaXMub3JpZ2luYWxIZWlnaHQgPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcblxuICAgICAgLy8gU2V0IHN0YXRlc1xuICAgICAgdGhpcy5kb25lQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLiRlbC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICB0aGlzLm92ZXJsYXlBY3RpdmUgPSB0cnVlO1xuXG4gICAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCBwb3NpdGlvbmluZyBmb3IgcGxhY2Vob2xkZXJcbiAgICAgIHRoaXMucGxhY2Vob2xkZXIuY3NzKHtcbiAgICAgICAgd2lkdGg6IHRoaXMucGxhY2Vob2xkZXJbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnLFxuICAgICAgICBoZWlnaHQ6IHRoaXMucGxhY2Vob2xkZXJbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ICsgJ3B4JyxcbiAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMFxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX21ha2VBbmNlc3RvcnNPdmVyZmxvd1Zpc2libGUoKTtcblxuICAgICAgLy8gU2V0IGNzcyBvbiBvcmlnaW5cbiAgICAgIHRoaXMuJGVsLmNzcyh7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAnei1pbmRleCc6IDEwMDAsXG4gICAgICAgICd3aWxsLWNoYW5nZSc6ICdsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQnXG4gICAgICB9KTtcblxuICAgICAgLy8gQ2hhbmdlIGZyb20gd2lkdGggb3IgaGVpZ2h0IGF0dHJpYnV0ZSB0byBjc3NcbiAgICAgIHRoaXMuYXR0cldpZHRoID0gdGhpcy4kZWwuYXR0cignd2lkdGgnKTtcbiAgICAgIHRoaXMuYXR0ckhlaWdodCA9IHRoaXMuJGVsLmF0dHIoJ2hlaWdodCcpO1xuICAgICAgaWYgKHRoaXMuYXR0cldpZHRoKSB7XG4gICAgICAgIHRoaXMuJGVsLmNzcygnd2lkdGgnLCB0aGlzLmF0dHJXaWR0aCArICdweCcpO1xuICAgICAgICB0aGlzLiRlbC5yZW1vdmVBdHRyKCd3aWR0aCcpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuYXR0ckhlaWdodCkge1xuICAgICAgICB0aGlzLiRlbC5jc3MoJ3dpZHRoJywgdGhpcy5hdHRySGVpZ2h0ICsgJ3B4Jyk7XG4gICAgICAgIHRoaXMuJGVsLnJlbW92ZUF0dHIoJ2hlaWdodCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgb3ZlcmxheVxuICAgICAgdGhpcy4kb3ZlcmxheSA9ICQoJzxkaXYgaWQ9XCJtYXRlcmlhbGJveC1vdmVybGF5XCI+PC9kaXY+JylcbiAgICAgICAgLmNzcyh7XG4gICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9KVxuICAgICAgICAub25lKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5kb25lQW5pbWF0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgLy8gUHV0IGJlZm9yZSBpbiBvcmlnaW4gaW1hZ2UgdG8gcHJlc2VydmUgei1pbmRleCBsYXllcmluZy5cbiAgICAgIHRoaXMuJGVsLmJlZm9yZSh0aGlzLiRvdmVybGF5KTtcblxuICAgICAgLy8gU2V0IGRpbWVuc2lvbnMgaWYgbmVlZGVkXG4gICAgICBsZXQgb3ZlcmxheU9mZnNldCA9IHRoaXMuJG92ZXJsYXlbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0aGlzLiRvdmVybGF5LmNzcyh7XG4gICAgICAgIHdpZHRoOiB0aGlzLndpbmRvd1dpZHRoICsgJ3B4JyxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLndpbmRvd0hlaWdodCArICdweCcsXG4gICAgICAgIGxlZnQ6IC0xICogb3ZlcmxheU9mZnNldC5sZWZ0ICsgJ3B4JyxcbiAgICAgICAgdG9wOiAtMSAqIG92ZXJsYXlPZmZzZXQudG9wICsgJ3B4J1xuICAgICAgfSk7XG5cbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgICAgYW5pbS5yZW1vdmUodGhpcy4kb3ZlcmxheVswXSk7XG5cbiAgICAgIC8vIEFuaW1hdGUgT3ZlcmxheVxuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuJG92ZXJsYXlbMF0sXG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICB9KTtcblxuICAgICAgLy8gQWRkIGFuZCBhbmltYXRlIGNhcHRpb24gaWYgaXQgZXhpc3RzXG4gICAgICBpZiAodGhpcy5jYXB0aW9uICE9PSAnJykge1xuICAgICAgICBpZiAodGhpcy4kcGhvdG9DYXB0aW9uKSB7XG4gICAgICAgICAgYW5pbS5yZW1vdmUodGhpcy4kcGhvdG9DYXB0aW9uWzBdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRwaG90b0NhcHRpb24gPSAkKCc8ZGl2IGNsYXNzPVwibWF0ZXJpYWxib3gtY2FwdGlvblwiPjwvZGl2PicpO1xuICAgICAgICB0aGlzLiRwaG90b0NhcHRpb24udGV4dCh0aGlzLmNhcHRpb24pO1xuICAgICAgICAkKCdib2R5JykuYXBwZW5kKHRoaXMuJHBob3RvQ2FwdGlvbik7XG4gICAgICAgIHRoaXMuJHBob3RvQ2FwdGlvbi5jc3MoeyBkaXNwbGF5OiAnaW5saW5lJyB9KTtcblxuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLiRwaG90b0NhcHRpb25bMF0sXG4gICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXNpemUgSW1hZ2VcbiAgICAgIGxldCByYXRpbyA9IDA7XG4gICAgICBsZXQgd2lkdGhQZXJjZW50ID0gdGhpcy5vcmlnaW5hbFdpZHRoIC8gdGhpcy53aW5kb3dXaWR0aDtcbiAgICAgIGxldCBoZWlnaHRQZXJjZW50ID0gdGhpcy5vcmlnaW5hbEhlaWdodCAvIHRoaXMud2luZG93SGVpZ2h0O1xuICAgICAgdGhpcy5uZXdXaWR0aCA9IDA7XG4gICAgICB0aGlzLm5ld0hlaWdodCA9IDA7XG5cbiAgICAgIGlmICh3aWR0aFBlcmNlbnQgPiBoZWlnaHRQZXJjZW50KSB7XG4gICAgICAgIHJhdGlvID0gdGhpcy5vcmlnaW5hbEhlaWdodCAvIHRoaXMub3JpZ2luYWxXaWR0aDtcbiAgICAgICAgdGhpcy5uZXdXaWR0aCA9IHRoaXMud2luZG93V2lkdGggKiAwLjk7XG4gICAgICAgIHRoaXMubmV3SGVpZ2h0ID0gdGhpcy53aW5kb3dXaWR0aCAqIDAuOSAqIHJhdGlvO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmF0aW8gPSB0aGlzLm9yaWdpbmFsV2lkdGggLyB0aGlzLm9yaWdpbmFsSGVpZ2h0O1xuICAgICAgICB0aGlzLm5ld1dpZHRoID0gdGhpcy53aW5kb3dIZWlnaHQgKiAwLjkgKiByYXRpbztcbiAgICAgICAgdGhpcy5uZXdIZWlnaHQgPSB0aGlzLndpbmRvd0hlaWdodCAqIDAuOTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fYW5pbWF0ZUltYWdlSW4oKTtcblxuICAgICAgLy8gSGFuZGxlIEV4aXQgdHJpZ2dlcnNcbiAgICAgIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbEJvdW5kID0gdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCA9IHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlV2luZG93RXNjYXBlQm91bmQgPSB0aGlzLl9oYW5kbGVXaW5kb3dFc2NhcGUuYmluZCh0aGlzKTtcblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbEJvdW5kKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVXaW5kb3dFc2NhcGVCb3VuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2UgTWF0ZXJpYWxib3hcbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVZhcnMoKTtcbiAgICAgIHRoaXMuZG9uZUFuaW1hdGluZyA9IGZhbHNlO1xuXG4gICAgICAvLyBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICB9XG5cbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgICAgYW5pbS5yZW1vdmUodGhpcy4kb3ZlcmxheVswXSk7XG5cbiAgICAgIGlmICh0aGlzLmNhcHRpb24gIT09ICcnKSB7XG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuJHBob3RvQ2FwdGlvblswXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGRpc2FibGUgZXhpdCBoYW5kbGVyc1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbEJvdW5kKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVXaW5kb3dFc2NhcGVCb3VuZCk7XG5cbiAgICAgIGFuaW0oe1xuICAgICAgICB0YXJnZXRzOiB0aGlzLiRvdmVybGF5WzBdLFxuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5vdmVybGF5QWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy4kb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX2FuaW1hdGVJbWFnZU91dCgpO1xuXG4gICAgICAvLyBSZW1vdmUgQ2FwdGlvbiArIHJlc2V0IGNzcyBzZXR0aW5ncyBvbiBpbWFnZVxuICAgICAgaWYgKHRoaXMuY2FwdGlvbiAhPT0gJycpIHtcbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy4kcGhvdG9DYXB0aW9uWzBdLFxuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJHBob3RvQ2FwdGlvbi5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///709\n")},799:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Modal = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst animejs_1 = __importDefault(__webpack_require__(30));\nconst global_1 = __webpack_require__(238);\nlet _defaults = {\n    opacity: 0.5,\n    inDuration: 250,\n    outDuration: 250,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    preventScrolling: true,\n    dismissible: true,\n    startingTop: '4%',\n    endingTop: '10%'\n};\n/**\n * @class\n *\n */\nclass Modal extends component_1.Component {\n    /**\n     * Construct Modal instance and set up overlay\n     * @constructor\n     * @param {Element} el\n     * @param {Object} options\n     */\n    constructor(el, options) {\n        super(Modal, el, options);\n        this.el.M_Modal = this;\n        /**\n         * Options for the modal\n         * @member Modal#options\n         * @prop {Number} [opacity=0.5] - Opacity of the modal overlay\n         * @prop {Number} [inDuration=250] - Length in ms of enter transition\n         * @prop {Number} [outDuration=250] - Length in ms of exit transition\n         * @prop {Function} onOpenStart - Callback function called before modal is opened\n         * @prop {Function} onOpenEnd - Callback function called after modal is opened\n         * @prop {Function} onCloseStart - Callback function called before modal is closed\n         * @prop {Function} onCloseEnd - Callback function called after modal is closed\n         * @prop {Boolean} [dismissible=true] - Allow modal to be dismissed by keyboard or overlay click\n         * @prop {String} [startingTop='4%'] - startingTop\n         * @prop {String} [endingTop='10%'] - endingTop\n         */\n        this.options = cash_dom_1.default.extend({}, Modal.defaults, options);\n        /**\n         * Describes open/close state of modal\n         * @type {Boolean}\n         */\n        this.isOpen = false;\n        this.id = this.$el.attr('id');\n        this._openingTrigger = undefined;\n        this.$overlay = (0, cash_dom_1.default)('<div class=\"modal-overlay\"></div>');\n        this.el.tabIndex = 0;\n        this._nthModalOpened = 0;\n        Modal._count++;\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    /**\n     * Get Instance\n     */\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Modal;\n    }\n    /**\n     * Teardown component\n     */\n    destroy() {\n        Modal._count--;\n        this._removeEventHandlers();\n        this.el.removeAttribute('style');\n        this.$overlay.remove();\n        this.el.M_Modal = undefined;\n    }\n    /**\n     * Setup Event Handlers\n     */\n    _setupEventHandlers() {\n        this._handleOverlayClickBound = this._handleOverlayClick.bind(this);\n        this._handleModalCloseClickBound = this._handleModalCloseClick.bind(this);\n        if (Modal._count === 1) {\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n        this.$overlay[0].addEventListener('click', this._handleOverlayClickBound);\n        this.el.addEventListener('click', this._handleModalCloseClickBound);\n    }\n    /**\n     * Remove Event Handlers\n     */\n    _removeEventHandlers() {\n        if (Modal._count === 0) {\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n        this.$overlay[0].removeEventListener('click', this._handleOverlayClickBound);\n        this.el.removeEventListener('click', this._handleModalCloseClickBound);\n    }\n    /**\n     * Handle Trigger Click\n     * @param {Event} e\n     */\n    _handleTriggerClick(e) {\n        let $trigger = (0, cash_dom_1.default)(e.target).closest('.modal-trigger');\n        if ($trigger.length) {\n            let modalId = global_1.M.getIdFromTrigger($trigger[0]);\n            let modalInstance = document.getElementById(modalId).M_Modal;\n            if (modalInstance) {\n                modalInstance.open($trigger);\n            }\n            e.preventDefault();\n        }\n    }\n    /**\n     * Handle Overlay Click\n     */\n    _handleOverlayClick() {\n        if (this.options.dismissible) {\n            this.close();\n        }\n    }\n    /**\n     * Handle Modal Close Click\n     * @param {Event} e\n     */\n    _handleModalCloseClick(e) {\n        let $closeTrigger = (0, cash_dom_1.default)(e.target).closest('.modal-close');\n        if ($closeTrigger.length) {\n            this.close();\n        }\n    }\n    /**\n     * Handle Keydown\n     * @param {Event} e\n     */\n    _handleKeydown(e) {\n        // ESC key\n        if (e.keyCode === 27 && this.options.dismissible) {\n            this.close();\n        }\n    }\n    /**\n     * Handle Focus\n     * @param {Event} e\n     */\n    _handleFocus(e) {\n        // Only trap focus if this modal is the last model opened (prevents loops in nested modals).\n        if (!this.el.contains(e.target) && this._nthModalOpened === Modal._modalsOpen) {\n            this.el.focus();\n        }\n    }\n    /**\n     * Animate in modal\n     */\n    _animateIn() {\n        // Set initial styles\n        cash_dom_1.default.extend(this.el.style, {\n            display: 'block',\n            opacity: 0\n        });\n        cash_dom_1.default.extend(this.$overlay[0].style, {\n            display: 'block',\n            opacity: 0\n        });\n        // Animate overlay\n        (0, animejs_1.default)({\n            targets: this.$overlay[0],\n            opacity: this.options.opacity,\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad'\n        });\n        // Define modal animation options\n        let enterAnimOptions = {\n            targets: this.el,\n            duration: this.options.inDuration,\n            easing: 'easeOutCubic',\n            // Handle modal onOpenEnd callback\n            complete: () => {\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el, this._openingTrigger);\n                }\n            }\n        };\n        // Bottom sheet animation\n        if (this.el.classList.contains('bottom-sheet')) {\n            cash_dom_1.default.extend(enterAnimOptions, {\n                bottom: 0,\n                opacity: 1\n            });\n            (0, animejs_1.default)(enterAnimOptions);\n            // Normal modal animation\n        }\n        else {\n            cash_dom_1.default.extend(enterAnimOptions, {\n                top: [this.options.startingTop, this.options.endingTop],\n                opacity: 1,\n                scaleX: [0.8, 1],\n                scaleY: [0.8, 1]\n            });\n            (0, animejs_1.default)(enterAnimOptions);\n        }\n    }\n    /**\n     * Animate out modal\n     */\n    _animateOut() {\n        // Animate overlay\n        (0, animejs_1.default)({\n            targets: this.$overlay[0],\n            opacity: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuart'\n        });\n        // Define modal animation options\n        let exitAnimOptions = {\n            targets: this.el,\n            duration: this.options.outDuration,\n            easing: 'easeOutCubic',\n            // Handle modal ready callback\n            complete: () => {\n                this.el.style.display = 'none';\n                this.$overlay.remove();\n                // Call onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        };\n        // Bottom sheet animation\n        if (this.el.classList.contains('bottom-sheet')) {\n            cash_dom_1.default.extend(exitAnimOptions, {\n                bottom: '-100%',\n                opacity: 0\n            });\n            (0, animejs_1.default)(exitAnimOptions);\n            // Normal modal animation\n        }\n        else {\n            cash_dom_1.default.extend(exitAnimOptions, {\n                top: [this.options.endingTop, this.options.startingTop],\n                opacity: 0,\n                scaleX: 0.8,\n                scaleY: 0.8\n            });\n            (0, animejs_1.default)(exitAnimOptions);\n        }\n    }\n    /**\n     * Open Modal\n     * @param {cash} [$trigger]\n     */\n    open($trigger) {\n        if (this.isOpen) {\n            return;\n        }\n        this.isOpen = true;\n        Modal._modalsOpen++;\n        this._nthModalOpened = Modal._modalsOpen;\n        // Set Z-Index based on number of currently open modals\n        this.$overlay[0].style.zIndex = 1000 + Modal._modalsOpen * 2;\n        this.el.style.zIndex = (1000 + Modal._modalsOpen * 2 + 1).toString();\n        // Set opening trigger, undefined indicates modal was opened by javascript\n        this._openingTrigger = !!$trigger ? $trigger[0] : undefined;\n        // onOpenStart callback\n        if (typeof this.options.onOpenStart === 'function') {\n            this.options.onOpenStart.call(this, this.el, this._openingTrigger);\n        }\n        if (this.options.preventScrolling) {\n            document.body.style.overflow = 'hidden';\n        }\n        this.el.classList.add('open');\n        this.el.insertAdjacentElement('afterend', this.$overlay[0]);\n        if (this.options.dismissible) {\n            this._handleKeydownBound = this._handleKeydown.bind(this);\n            this._handleFocusBound = this._handleFocus.bind(this);\n            document.addEventListener('keydown', this._handleKeydownBound);\n            document.addEventListener('focus', this._handleFocusBound, true);\n        }\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this.$overlay[0]);\n        this._animateIn();\n        // Focus modal\n        this.el.focus();\n        return this;\n    }\n    /**\n     * Close Modal\n     */\n    close() {\n        if (!this.isOpen) {\n            return;\n        }\n        this.isOpen = false;\n        Modal._modalsOpen--;\n        this._nthModalOpened = 0;\n        // Call onCloseStart callback\n        if (typeof this.options.onCloseStart === 'function') {\n            this.options.onCloseStart.call(this, this.el);\n        }\n        this.el.classList.remove('open');\n        // Enable body scrolling only if there are no more modals open.\n        if (Modal._modalsOpen === 0) {\n            document.body.style.overflow = '';\n        }\n        if (this.options.dismissible) {\n            document.removeEventListener('keydown', this._handleKeydownBound);\n            document.removeEventListener('focus', this._handleFocusBound, true);\n        }\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this.$overlay[0]);\n        this._animateOut();\n        return this;\n    }\n}\nexports.Modal = Modal;\n(() => {\n    /**\n       * @static\n       * @memberof Modal\n       */\n    Modal._modalsOpen = 0;\n    /**\n      * @static\n      * @memberof Modal\n      */\n    Modal._count = 0;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzk5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDZDQUF3QztBQUN4Qyw2REFBeUI7QUFDekIsMkRBQTJCO0FBQzNCLDBDQUE2QjtBQUUzQixJQUFJLFNBQVMsR0FBRztJQUNkLE9BQU8sRUFBRSxHQUFHO0lBQ1osVUFBVSxFQUFFLEdBQUc7SUFDZixXQUFXLEVBQUUsR0FBRztJQUNoQixXQUFXLEVBQUUsSUFBSTtJQUNqQixTQUFTLEVBQUUsSUFBSTtJQUNmLFlBQVksRUFBRSxJQUFJO0lBQ2xCLFVBQVUsRUFBRSxJQUFJO0lBQ2hCLGdCQUFnQixFQUFFLElBQUk7SUFDdEIsV0FBVyxFQUFFLElBQUk7SUFDakIsV0FBVyxFQUFFLElBQUk7SUFDakIsU0FBUyxFQUFFLEtBQUs7Q0FDakIsQ0FBQztBQUVGOzs7R0FHRztBQUNILE1BQWEsS0FBTSxTQUFRLHFCQUFTO0lBWWxDOzs7OztPQUtHO0lBQ0gsWUFBWSxFQUFFLEVBQUUsT0FBTztRQUNyQixLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUV6QixJQUFJLENBQUMsRUFBVSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFFaEM7Ozs7Ozs7Ozs7Ozs7V0FhRztRQUNILElBQUksQ0FBQyxPQUFPLEdBQUcsa0JBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFFckQ7OztXQUdHO1FBQ0gsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFFcEIsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsZUFBZSxHQUFHLFNBQVMsQ0FBQztRQUNqQyxJQUFJLENBQUMsUUFBUSxHQUFHLHNCQUFDLEVBQUMsbUNBQW1DLENBQUMsQ0FBQztRQUN0RCxJQUFJLENBQUMsRUFBa0IsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxDQUFDO1FBRXpCLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFRCxNQUFNLEtBQUssUUFBUTtRQUNqQixPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0lBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsT0FBTztRQUN0QixPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQ7O09BRUc7SUFDSCxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7UUFDbkIsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ3ZDLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQztJQUN6QixDQUFDO0lBRUQ7O09BRUc7SUFDSCxPQUFPO1FBQ0wsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2YsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsRUFBVSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUM7SUFDdkMsQ0FBQztJQUVEOztPQUVHO0lBQ0gsbUJBQW1CO1FBQ2pCLElBQUksQ0FBQyx3QkFBd0IsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BFLElBQUksQ0FBQywyQkFBMkIsR0FBRyxJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRTFFLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDdEIsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUMxRSxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsMkJBQTJCLENBQUMsQ0FBQztJQUN0RSxDQUFDO0lBRUQ7O09BRUc7SUFDSCxvQkFBb0I7UUFDbEIsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN0QixRQUFRLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztTQUN0RTtRQUNELElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBQzdFLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0lBQ3pFLENBQUM7SUFFRDs7O09BR0c7SUFDSCxtQkFBbUIsQ0FBQyxDQUFDO1FBQ25CLElBQUksUUFBUSxHQUFHLHNCQUFDLEVBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3JELElBQUksUUFBUSxDQUFDLE1BQU0sRUFBRTtZQUNuQixJQUFJLE9BQU8sR0FBRyxVQUFDLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUMsSUFBSSxhQUFhLEdBQUksUUFBUSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQVMsQ0FBQyxPQUFPLENBQUM7WUFDdEUsSUFBSSxhQUFhLEVBQUU7Z0JBQ2pCLGFBQWEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDOUI7WUFDRCxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7U0FDcEI7SUFDSCxDQUFDO0lBRUQ7O09BRUc7SUFDSCxtQkFBbUI7UUFDakIsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRTtZQUM1QixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDZDtJQUNILENBQUM7SUFFRDs7O09BR0c7SUFDSCxzQkFBc0IsQ0FBQyxDQUFDO1FBQ3RCLElBQUksYUFBYSxHQUFHLHNCQUFDLEVBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUN4RCxJQUFJLGFBQWEsQ0FBQyxNQUFNLEVBQUU7WUFDeEIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ2Q7SUFDSCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsY0FBYyxDQUFDLENBQUM7UUFDZCxVQUFVO1FBQ1YsSUFBSSxDQUFDLENBQUMsT0FBTyxLQUFLLEVBQUUsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRTtZQUNoRCxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDZDtJQUNILENBQUM7SUFFRDs7O09BR0c7SUFDSCxZQUFZLENBQUMsQ0FBQztRQUNaLDRGQUE0RjtRQUM1RixJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLEtBQUssS0FBSyxDQUFDLFdBQVcsRUFBRTtZQUM1RSxJQUFJLENBQUMsRUFBa0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUNsQztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNILFVBQVU7UUFDUixxQkFBcUI7UUFDckIsa0JBQUMsQ0FBQyxNQUFNLENBQUUsSUFBSSxDQUFDLEVBQWtCLENBQUMsS0FBSyxFQUFFO1lBQ3ZDLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLE9BQU8sRUFBRSxDQUFDO1NBQ1gsQ0FBQyxDQUFDO1FBQ0gsa0JBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUU7WUFDL0IsT0FBTyxFQUFFLE9BQU87WUFDaEIsT0FBTyxFQUFFLENBQUM7U0FDWCxDQUFDLENBQUM7UUFFSCxrQkFBa0I7UUFDbEIscUJBQUksRUFBQztZQUNILE9BQU8sRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUN6QixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPO1lBQzdCLFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVU7WUFDakMsTUFBTSxFQUFFLGFBQWE7U0FDdEIsQ0FBQyxDQUFDO1FBRUgsaUNBQWlDO1FBQ2pDLElBQUksZ0JBQWdCLEdBQUc7WUFDckIsT0FBTyxFQUFFLElBQUksQ0FBQyxFQUFFO1lBQ2hCLFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVU7WUFDakMsTUFBTSxFQUFFLGNBQWM7WUFDdEIsa0NBQWtDO1lBQ2xDLFFBQVEsRUFBRSxHQUFHLEVBQUU7Z0JBQ2IsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxLQUFLLFVBQVUsRUFBRTtvQkFDaEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztpQkFDbEU7WUFDSCxDQUFDO1NBQ0YsQ0FBQztRQUVGLHlCQUF5QjtRQUN6QixJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUM5QyxrQkFBQyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRTtnQkFDekIsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsT0FBTyxFQUFFLENBQUM7YUFDWCxDQUFDLENBQUM7WUFDSCxxQkFBSSxFQUFDLGdCQUFnQixDQUFDLENBQUM7WUFFdkIseUJBQXlCO1NBQzFCO2FBQU07WUFDTCxrQkFBQyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRTtnQkFDekIsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUM7Z0JBQ3ZELE9BQU8sRUFBRSxDQUFDO2dCQUNWLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7Z0JBQ2hCLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7YUFDakIsQ0FBQyxDQUFDO1lBQ0gscUJBQUksRUFBQyxnQkFBZ0IsQ0FBQyxDQUFDO1NBQ3hCO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0gsV0FBVztRQUNULGtCQUFrQjtRQUNsQixxQkFBSSxFQUFDO1lBQ0gsT0FBTyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLE9BQU8sRUFBRSxDQUFDO1lBQ1YsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVztZQUNsQyxNQUFNLEVBQUUsY0FBYztTQUN2QixDQUFDLENBQUM7UUFFSCxpQ0FBaUM7UUFDakMsSUFBSSxlQUFlLEdBQUc7WUFDcEIsT0FBTyxFQUFFLElBQUksQ0FBQyxFQUFFO1lBQ2hCLFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVc7WUFDbEMsTUFBTSxFQUFFLGNBQWM7WUFDdEIsOEJBQThCO1lBQzlCLFFBQVEsRUFBRSxHQUFHLEVBQUU7Z0JBQ1osSUFBSSxDQUFDLEVBQWtCLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7Z0JBQ2hELElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBRXZCLDJCQUEyQjtnQkFDM0IsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxLQUFLLFVBQVUsRUFBRTtvQkFDakQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7aUJBQzdDO1lBQ0gsQ0FBQztTQUNGLENBQUM7UUFFRix5QkFBeUI7UUFDekIsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFDOUMsa0JBQUMsQ0FBQyxNQUFNLENBQUMsZUFBZSxFQUFFO2dCQUN4QixNQUFNLEVBQUUsT0FBTztnQkFDZixPQUFPLEVBQUUsQ0FBQzthQUNYLENBQUMsQ0FBQztZQUNILHFCQUFJLEVBQUMsZUFBZSxDQUFDLENBQUM7WUFFdEIseUJBQXlCO1NBQzFCO2FBQU07WUFDTCxrQkFBQyxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUU7Z0JBQ3hCLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO2dCQUN2RCxPQUFPLEVBQUUsQ0FBQztnQkFDVixNQUFNLEVBQUUsR0FBRztnQkFDWCxNQUFNLEVBQUUsR0FBRzthQUNaLENBQUMsQ0FBQztZQUNILHFCQUFJLEVBQUMsZUFBZSxDQUFDLENBQUM7U0FDdkI7SUFDSCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsSUFBSSxDQUFDLFFBQVE7UUFDWCxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDZixPQUFPO1NBQ1I7UUFFRCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNuQixLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDO1FBRXpDLHVEQUF1RDtRQUN2RCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxHQUFHLEtBQUssQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQzVELElBQUksQ0FBQyxFQUFrQixDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLFdBQVcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFFdEYsMEVBQTBFO1FBQzFFLElBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFFNUQsdUJBQXVCO1FBQ3ZCLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsS0FBSyxVQUFVLEVBQUU7WUFDbEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUNwRTtRQUVELElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRTtZQUNqQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1NBQ3pDO1FBRUQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxFQUFFLENBQUMscUJBQXFCLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUU1RCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFO1lBQzVCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMxRCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdEQsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUMvRCxRQUFRLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNsRTtRQUVELGlCQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNyQixpQkFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBRWxCLGNBQWM7UUFDYixJQUFJLENBQUMsRUFBa0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUVqQyxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRDs7T0FFRztJQUNILEtBQUs7UUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNoQixPQUFPO1NBQ1I7UUFFRCxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUM7UUFFekIsNkJBQTZCO1FBQzdCLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksS0FBSyxVQUFVLEVBQUU7WUFDbkQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDL0M7UUFFRCxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFakMsK0RBQStEO1FBQy9ELElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxDQUFDLEVBQUU7WUFDM0IsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztTQUNuQztRQUVELElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUU7WUFDNUIsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUNsRSxRQUFRLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNyRTtRQUVELGlCQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNyQixpQkFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25CLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztDQWdCRjtBQS9XRCxzQkErV0M7QUFkQztJQUNJOzs7U0FHSztJQUNMLEtBQUssQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0lBRXRCOzs7UUFHSTtJQUNKLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBQ3JCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL21vZGFsLnRzPzBlNTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgJCBmcm9tIFwiY2FzaC1kb21cIjtcbmltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5cbiAgbGV0IF9kZWZhdWx0cyA9IHtcbiAgICBvcGFjaXR5OiAwLjUsXG4gICAgaW5EdXJhdGlvbjogMjUwLFxuICAgIG91dER1cmF0aW9uOiAyNTAsXG4gICAgb25PcGVuU3RhcnQ6IG51bGwsXG4gICAgb25PcGVuRW5kOiBudWxsLFxuICAgIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgICBvbkNsb3NlRW5kOiBudWxsLFxuICAgIHByZXZlbnRTY3JvbGxpbmc6IHRydWUsXG4gICAgZGlzbWlzc2libGU6IHRydWUsXG4gICAgc3RhcnRpbmdUb3A6ICc0JScsXG4gICAgZW5kaW5nVG9wOiAnMTAlJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBNb2RhbCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIF9tb2RhbHNPcGVuOiBudW1iZXI7XG4gICAgc3RhdGljIF9jb3VudDogbnVtYmVyO1xuICAgIGlzT3BlbjogYm9vbGVhbjtcbiAgICBpZDogYW55O1xuICAgIHByaXZhdGUgX29wZW5pbmdUcmlnZ2VyOiBhbnk7XG4gICAgJG92ZXJsYXk6IGFueTtcbiAgICBwcml2YXRlIF9udGhNb2RhbE9wZW5lZDogbnVtYmVyO1xuICAgIHByaXZhdGUgX2hhbmRsZU92ZXJsYXlDbGlja0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlTW9kYWxDbG9zZUNsaWNrQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVLZXlkb3duQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVGb2N1c0JvdW5kOiBhbnk7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IE1vZGFsIGluc3RhbmNlIGFuZCBzZXQgdXAgb3ZlcmxheVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgICBzdXBlcihNb2RhbCwgZWwsIG9wdGlvbnMpO1xuXG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fTW9kYWwgPSB0aGlzO1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBtb2RhbFxuICAgICAgICogQG1lbWJlciBNb2RhbCNvcHRpb25zXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbb3BhY2l0eT0wLjVdIC0gT3BhY2l0eSBvZiB0aGUgbW9kYWwgb3ZlcmxheVxuICAgICAgICogQHByb3Age051bWJlcn0gW2luRHVyYXRpb249MjUwXSAtIExlbmd0aCBpbiBtcyBvZiBlbnRlciB0cmFuc2l0aW9uXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbb3V0RHVyYXRpb249MjUwXSAtIExlbmd0aCBpbiBtcyBvZiBleGl0IHRyYW5zaXRpb25cbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25PcGVuU3RhcnQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYmVmb3JlIG1vZGFsIGlzIG9wZW5lZFxuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbk9wZW5FbmQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgbW9kYWwgaXMgb3BlbmVkXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uQ2xvc2VTdGFydCAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBiZWZvcmUgbW9kYWwgaXMgY2xvc2VkXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uQ2xvc2VFbmQgLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgbW9kYWwgaXMgY2xvc2VkXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gW2Rpc21pc3NpYmxlPXRydWVdIC0gQWxsb3cgbW9kYWwgdG8gYmUgZGlzbWlzc2VkIGJ5IGtleWJvYXJkIG9yIG92ZXJsYXkgY2xpY2tcbiAgICAgICAqIEBwcm9wIHtTdHJpbmd9IFtzdGFydGluZ1RvcD0nNCUnXSAtIHN0YXJ0aW5nVG9wXG4gICAgICAgKiBAcHJvcCB7U3RyaW5nfSBbZW5kaW5nVG9wPScxMCUnXSAtIGVuZGluZ1RvcFxuICAgICAgICovXG4gICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgTW9kYWwuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAvKipcbiAgICAgICAqIERlc2NyaWJlcyBvcGVuL2Nsb3NlIHN0YXRlIG9mIG1vZGFsXG4gICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcblxuICAgICAgdGhpcy5pZCA9IHRoaXMuJGVsLmF0dHIoJ2lkJyk7XG4gICAgICB0aGlzLl9vcGVuaW5nVHJpZ2dlciA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuJG92ZXJsYXkgPSAkKCc8ZGl2IGNsYXNzPVwibW9kYWwtb3ZlcmxheVwiPjwvZGl2PicpO1xuICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnRhYkluZGV4ID0gMDtcbiAgICAgIHRoaXMuX250aE1vZGFsT3BlbmVkID0gMDtcblxuICAgICAgTW9kYWwuX2NvdW50Kys7XG4gICAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEluc3RhbmNlXG4gICAgICovXG4gICAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICBsZXQgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fTW9kYWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVhcmRvd24gY29tcG9uZW50XG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIE1vZGFsLl9jb3VudC0tO1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICB0aGlzLiRvdmVybGF5LnJlbW92ZSgpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX01vZGFsID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHVwIEV2ZW50IEhhbmRsZXJzXG4gICAgICovXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZU92ZXJsYXlDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlT3ZlcmxheUNsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVNb2RhbENsb3NlQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZU1vZGFsQ2xvc2VDbGljay5iaW5kKHRoaXMpO1xuXG4gICAgICBpZiAoTW9kYWwuX2NvdW50ID09PSAxKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xuICAgICAgfVxuICAgICAgdGhpcy4kb3ZlcmxheVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbGlja0JvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVNb2RhbENsb3NlQ2xpY2tCb3VuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICovXG4gICAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICBpZiAoTW9kYWwuX2NvdW50ID09PSAwKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xuICAgICAgfVxuICAgICAgdGhpcy4kb3ZlcmxheVswXS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbGlja0JvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVNb2RhbENsb3NlQ2xpY2tCb3VuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIFRyaWdnZXIgQ2xpY2tcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgX2hhbmRsZVRyaWdnZXJDbGljayhlKSB7XG4gICAgICBsZXQgJHRyaWdnZXIgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcubW9kYWwtdHJpZ2dlcicpO1xuICAgICAgaWYgKCR0cmlnZ2VyLmxlbmd0aCkge1xuICAgICAgICBsZXQgbW9kYWxJZCA9IE0uZ2V0SWRGcm9tVHJpZ2dlcigkdHJpZ2dlclswXSk7XG4gICAgICAgIGxldCBtb2RhbEluc3RhbmNlID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpIGFzIGFueSkuTV9Nb2RhbDtcbiAgICAgICAgaWYgKG1vZGFsSW5zdGFuY2UpIHtcbiAgICAgICAgICBtb2RhbEluc3RhbmNlLm9wZW4oJHRyaWdnZXIpO1xuICAgICAgICB9XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgT3ZlcmxheSBDbGlja1xuICAgICAqL1xuICAgIF9oYW5kbGVPdmVybGF5Q2xpY2soKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRpc21pc3NpYmxlKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgTW9kYWwgQ2xvc2UgQ2xpY2tcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgX2hhbmRsZU1vZGFsQ2xvc2VDbGljayhlKSB7XG4gICAgICBsZXQgJGNsb3NlVHJpZ2dlciA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5tb2RhbC1jbG9zZScpO1xuICAgICAgaWYgKCRjbG9zZVRyaWdnZXIubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgS2V5ZG93blxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgKi9cbiAgICBfaGFuZGxlS2V5ZG93bihlKSB7XG4gICAgICAvLyBFU0Mga2V5XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSAyNyAmJiB0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBGb2N1c1xuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgKi9cbiAgICBfaGFuZGxlRm9jdXMoZSkge1xuICAgICAgLy8gT25seSB0cmFwIGZvY3VzIGlmIHRoaXMgbW9kYWwgaXMgdGhlIGxhc3QgbW9kZWwgb3BlbmVkIChwcmV2ZW50cyBsb29wcyBpbiBuZXN0ZWQgbW9kYWxzKS5cbiAgICAgIGlmICghdGhpcy5lbC5jb250YWlucyhlLnRhcmdldCkgJiYgdGhpcy5fbnRoTW9kYWxPcGVuZWQgPT09IE1vZGFsLl9tb2RhbHNPcGVuKSB7XG4gICAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuaW1hdGUgaW4gbW9kYWxcbiAgICAgKi9cbiAgICBfYW5pbWF0ZUluKCkge1xuICAgICAgLy8gU2V0IGluaXRpYWwgc3R5bGVzXG4gICAgICAkLmV4dGVuZCgodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUsIHtcbiAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgb3BhY2l0eTogMFxuICAgICAgfSk7XG4gICAgICAkLmV4dGVuZCh0aGlzLiRvdmVybGF5WzBdLnN0eWxlLCB7XG4gICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgIG9wYWNpdHk6IDBcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBbmltYXRlIG92ZXJsYXlcbiAgICAgIGFuaW0oe1xuICAgICAgICB0YXJnZXRzOiB0aGlzLiRvdmVybGF5WzBdLFxuICAgICAgICBvcGFjaXR5OiB0aGlzLm9wdGlvbnMub3BhY2l0eSxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgIH0pO1xuXG4gICAgICAvLyBEZWZpbmUgbW9kYWwgYW5pbWF0aW9uIG9wdGlvbnNcbiAgICAgIGxldCBlbnRlckFuaW1PcHRpb25zID0ge1xuICAgICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYycsXG4gICAgICAgIC8vIEhhbmRsZSBtb2RhbCBvbk9wZW5FbmQgY2FsbGJhY2tcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQuY2FsbCh0aGlzLCB0aGlzLmVsLCB0aGlzLl9vcGVuaW5nVHJpZ2dlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBCb3R0b20gc2hlZXQgYW5pbWF0aW9uXG4gICAgICBpZiAodGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2JvdHRvbS1zaGVldCcpKSB7XG4gICAgICAgICQuZXh0ZW5kKGVudGVyQW5pbU9wdGlvbnMsIHtcbiAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9KTtcbiAgICAgICAgYW5pbShlbnRlckFuaW1PcHRpb25zKTtcblxuICAgICAgICAvLyBOb3JtYWwgbW9kYWwgYW5pbWF0aW9uXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkLmV4dGVuZChlbnRlckFuaW1PcHRpb25zLCB7XG4gICAgICAgICAgdG9wOiBbdGhpcy5vcHRpb25zLnN0YXJ0aW5nVG9wLCB0aGlzLm9wdGlvbnMuZW5kaW5nVG9wXSxcbiAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgIHNjYWxlWDogWzAuOCwgMV0sXG4gICAgICAgICAgc2NhbGVZOiBbMC44LCAxXVxuICAgICAgICB9KTtcbiAgICAgICAgYW5pbShlbnRlckFuaW1PcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbmltYXRlIG91dCBtb2RhbFxuICAgICAqL1xuICAgIF9hbmltYXRlT3V0KCkge1xuICAgICAgLy8gQW5pbWF0ZSBvdmVybGF5XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy4kb3ZlcmxheVswXSxcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YXJ0J1xuICAgICAgfSk7XG5cbiAgICAgIC8vIERlZmluZSBtb2RhbCBhbmltYXRpb24gb3B0aW9uc1xuICAgICAgbGV0IGV4aXRBbmltT3B0aW9ucyA9IHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJyxcbiAgICAgICAgLy8gSGFuZGxlIG1vZGFsIHJlYWR5IGNhbGxiYWNrXG4gICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgdGhpcy4kb3ZlcmxheS5yZW1vdmUoKTtcblxuICAgICAgICAgIC8vIENhbGwgb25DbG9zZUVuZCBjYWxsYmFja1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kLmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBCb3R0b20gc2hlZXQgYW5pbWF0aW9uXG4gICAgICBpZiAodGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2JvdHRvbS1zaGVldCcpKSB7XG4gICAgICAgICQuZXh0ZW5kKGV4aXRBbmltT3B0aW9ucywge1xuICAgICAgICAgIGJvdHRvbTogJy0xMDAlJyxcbiAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0pO1xuICAgICAgICBhbmltKGV4aXRBbmltT3B0aW9ucyk7XG5cbiAgICAgICAgLy8gTm9ybWFsIG1vZGFsIGFuaW1hdGlvblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJC5leHRlbmQoZXhpdEFuaW1PcHRpb25zLCB7XG4gICAgICAgICAgdG9wOiBbdGhpcy5vcHRpb25zLmVuZGluZ1RvcCwgdGhpcy5vcHRpb25zLnN0YXJ0aW5nVG9wXSxcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIHNjYWxlWDogMC44LFxuICAgICAgICAgIHNjYWxlWTogMC44XG4gICAgICAgIH0pO1xuICAgICAgICBhbmltKGV4aXRBbmltT3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbiBNb2RhbFxuICAgICAqIEBwYXJhbSB7Y2FzaH0gWyR0cmlnZ2VyXVxuICAgICAqL1xuICAgIG9wZW4oJHRyaWdnZXIpIHtcbiAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgIE1vZGFsLl9tb2RhbHNPcGVuKys7XG4gICAgICB0aGlzLl9udGhNb2RhbE9wZW5lZCA9IE1vZGFsLl9tb2RhbHNPcGVuO1xuXG4gICAgICAvLyBTZXQgWi1JbmRleCBiYXNlZCBvbiBudW1iZXIgb2YgY3VycmVudGx5IG9wZW4gbW9kYWxzXG4gICAgICB0aGlzLiRvdmVybGF5WzBdLnN0eWxlLnpJbmRleCA9IDEwMDAgKyBNb2RhbC5fbW9kYWxzT3BlbiAqIDI7XG4gICAgICAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUuekluZGV4ID0gKDEwMDAgKyBNb2RhbC5fbW9kYWxzT3BlbiAqIDIgKyAxKS50b1N0cmluZygpO1xuXG4gICAgICAvLyBTZXQgb3BlbmluZyB0cmlnZ2VyLCB1bmRlZmluZWQgaW5kaWNhdGVzIG1vZGFsIHdhcyBvcGVuZWQgYnkgamF2YXNjcmlwdFxuICAgICAgdGhpcy5fb3BlbmluZ1RyaWdnZXIgPSAhISR0cmlnZ2VyID8gJHRyaWdnZXJbMF0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIC8vIG9uT3BlblN0YXJ0IGNhbGxiYWNrXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsLCB0aGlzLl9vcGVuaW5nVHJpZ2dlcik7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucHJldmVudFNjcm9sbGluZykge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuICAgICAgdGhpcy5lbC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgdGhpcy4kb3ZlcmxheVswXSk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlS2V5ZG93bkJvdW5kID0gdGhpcy5faGFuZGxlS2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9oYW5kbGVGb2N1c0JvdW5kID0gdGhpcy5faGFuZGxlRm9jdXMuYmluZCh0aGlzKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd25Cb3VuZCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXNCb3VuZCwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgICAgYW5pbS5yZW1vdmUodGhpcy4kb3ZlcmxheVswXSk7XG4gICAgICB0aGlzLl9hbmltYXRlSW4oKTtcblxuICAgICAgLy8gRm9jdXMgbW9kYWxcbiAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5mb2N1cygpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZSBNb2RhbFxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgaWYgKCF0aGlzLmlzT3Blbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICBNb2RhbC5fbW9kYWxzT3Blbi0tO1xuICAgICAgdGhpcy5fbnRoTW9kYWxPcGVuZWQgPSAwO1xuXG4gICAgICAvLyBDYWxsIG9uQ2xvc2VTdGFydCBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG5cbiAgICAgIC8vIEVuYWJsZSBib2R5IHNjcm9sbGluZyBvbmx5IGlmIHRoZXJlIGFyZSBubyBtb3JlIG1vZGFscyBvcGVuLlxuICAgICAgaWYgKE1vZGFsLl9tb2RhbHNPcGVuID09PSAwKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSkge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93bkJvdW5kKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVGb2N1c0JvdW5kLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XG4gICAgICBhbmltLnJlbW92ZSh0aGlzLiRvdmVybGF5WzBdKTtcbiAgICAgIHRoaXMuX2FuaW1hdGVPdXQoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBcbiAgICBzdGF0aWN7XG4gICAgICAgIC8qKlxuICAgICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICAgKiBAbWVtYmVyb2YgTW9kYWxcbiAgICAgICAgICAgKi9cbiAgICAgICAgTW9kYWwuX21vZGFsc09wZW4gPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICogQG1lbWJlcm9mIE1vZGFsXG4gICAgICAgICAgKi9cbiAgICAgICAgTW9kYWwuX2NvdW50ID0gMDtcbiAgICB9XG5cbiAgfVxuXG4gXG5cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///799\n")},324:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Parallax = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst global_1 = __webpack_require__(238);\nlet _defaults = {\n    responsiveThreshold: 0 // breakpoint for swipeable\n};\nclass Parallax extends component_1.Component {\n    constructor(el, options) {\n        super(Parallax, el, options);\n        this.el.M_Parallax = this;\n        this.options = cash_dom_1.default.extend({}, Parallax.defaults, options);\n        this._enabled = window.innerWidth > this.options.responsiveThreshold;\n        this.$img = this.$el.find('img').first();\n        this.$img.each(function () {\n            let el = this;\n            if (el.complete)\n                (0, cash_dom_1.default)(el).trigger('load');\n        });\n        this._updateParallax();\n        this._setupEventHandlers();\n        this._setupStyles();\n        Parallax._parallaxes.push(this);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Parallax;\n    }\n    destroy() {\n        Parallax._parallaxes.splice(Parallax._parallaxes.indexOf(this), 1);\n        this.$img[0].style.transform = '';\n        this._removeEventHandlers();\n        this.$el[0].M_Parallax = undefined;\n    }\n    static _handleScroll() {\n        for (let i = 0; i < Parallax._parallaxes.length; i++) {\n            let parallaxInstance = Parallax._parallaxes[i];\n            parallaxInstance._updateParallax.call(parallaxInstance);\n        }\n    }\n    static _handleWindowResize() {\n        for (let i = 0; i < Parallax._parallaxes.length; i++) {\n            let parallaxInstance = Parallax._parallaxes[i];\n            parallaxInstance._enabled =\n                window.innerWidth > parallaxInstance.options.responsiveThreshold;\n        }\n    }\n    _setupEventHandlers() {\n        this._handleImageLoadBound = this._handleImageLoad.bind(this);\n        this.$img[0].addEventListener('load', this._handleImageLoadBound);\n        if (Parallax._parallaxes.length === 0) {\n            Parallax._handleScrollThrottled = global_1.M.throttle(Parallax._handleScroll, 5);\n            window.addEventListener('scroll', Parallax._handleScrollThrottled);\n            Parallax._handleWindowResizeThrottled = global_1.M.throttle(Parallax._handleWindowResize, 5);\n            window.addEventListener('resize', Parallax._handleWindowResizeThrottled);\n        }\n    }\n    _removeEventHandlers() {\n        this.$img[0].removeEventListener('load', this._handleImageLoadBound);\n        if (Parallax._parallaxes.length === 0) {\n            window.removeEventListener('scroll', Parallax._handleScrollThrottled);\n            window.removeEventListener('resize', Parallax._handleWindowResizeThrottled);\n        }\n    }\n    _setupStyles() {\n        this.$img[0].style.opacity = 1;\n    }\n    _handleImageLoad() {\n        this._updateParallax();\n    }\n    _updateParallax() {\n        let containerHeight = this.$el.height() > 0 ? this.el.parentNode.offsetHeight : 500;\n        let imgHeight = this.$img[0].offsetHeight;\n        let parallaxDist = imgHeight - containerHeight;\n        let bottom = this.$el.offset().top + containerHeight;\n        let top = this.$el.offset().top;\n        let scrollTop = global_1.M.getDocumentScrollTop();\n        let windowHeight = window.innerHeight;\n        let windowBottom = scrollTop + windowHeight;\n        let percentScrolled = (windowBottom - top) / (containerHeight + windowHeight);\n        let parallax = parallaxDist * percentScrolled;\n        if (!this._enabled) {\n            this.$img[0].style.transform = '';\n        }\n        else if (bottom > scrollTop && top < scrollTop + windowHeight) {\n            this.$img[0].style.transform = `translate3D(-50%, ${parallax}px, 0)`;\n        }\n    }\n}\nexports.Parallax = Parallax;\n(() => {\n    Parallax._parallaxes = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDZDQUF3QztBQUN4Qyw2REFBeUI7QUFDekIsMENBQTZCO0FBRTNCLElBQUksU0FBUyxHQUFHO0lBQ2QsbUJBQW1CLEVBQUUsQ0FBQyxDQUFDLDJCQUEyQjtDQUNuRCxDQUFDO0FBRUYsTUFBYSxRQUFTLFNBQVEscUJBQVM7SUFPckMsWUFBWSxFQUFFLEVBQUUsT0FBTztRQUNyQixLQUFLLENBQUMsUUFBUSxFQUFFLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUU1QixJQUFJLENBQUMsRUFBVSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFFbkMsSUFBSSxDQUFDLE9BQU8sR0FBRyxrQkFBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN4RCxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztRQUVyRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3pDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQ2IsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDO1lBQ2QsSUFBSSxFQUFFLENBQUMsUUFBUTtnQkFBRSxzQkFBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN6QyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFFcEIsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVELE1BQU0sS0FBSyxRQUFRO1FBQ2pCLE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7SUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxPQUFPO1FBQ3RCLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFRCxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7UUFDbkIsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ3ZDLE9BQU8sT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUM1QixDQUFDO0lBRUQsT0FBTztRQUNMLFFBQVEsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFDbEMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFFNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO0lBQ3JDLENBQUM7SUFFRCxNQUFNLENBQUMsYUFBYTtRQUNsQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDcEQsSUFBSSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9DLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztTQUN6RDtJQUNILENBQUM7SUFFRCxNQUFNLENBQUMsbUJBQW1CO1FBQ3hCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNwRCxJQUFJLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0MsZ0JBQWdCLENBQUMsUUFBUTtnQkFDdkIsTUFBTSxDQUFDLFVBQVUsR0FBRyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUM7U0FDcEU7SUFDSCxDQUFDO0lBRUQsbUJBQW1CO1FBQ2pCLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlELElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBRWxFLElBQUksUUFBUSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3JDLFFBQVEsQ0FBQyxzQkFBc0IsR0FBRyxVQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDeEUsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUVuRSxRQUFRLENBQUMsNEJBQTRCLEdBQUcsVUFBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDcEYsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsNEJBQTRCLENBQUMsQ0FBQztTQUMxRTtJQUNILENBQUM7SUFFRCxvQkFBb0I7UUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFFckUsSUFBSSxRQUFRLENBQUMsV0FBVyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDckMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUN0RSxNQUFNLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO1NBQzdFO0lBQ0gsQ0FBQztJQUVELFlBQVk7UUFDVixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxnQkFBZ0I7UUFDZCxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUVELGVBQWU7UUFDYixJQUFJLGVBQWUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFrQixDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1FBQzdGLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDO1FBQzFDLElBQUksWUFBWSxHQUFHLFNBQVMsR0FBRyxlQUFlLENBQUM7UUFDL0MsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsZUFBZSxDQUFDO1FBQ3JELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDO1FBQ2hDLElBQUksU0FBUyxHQUFHLFVBQUMsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQ3pDLElBQUksWUFBWSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUM7UUFDdEMsSUFBSSxZQUFZLEdBQUcsU0FBUyxHQUFHLFlBQVksQ0FBQztRQUM1QyxJQUFJLGVBQWUsR0FBRyxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLGVBQWUsR0FBRyxZQUFZLENBQUMsQ0FBQztRQUM5RSxJQUFJLFFBQVEsR0FBRyxZQUFZLEdBQUcsZUFBZSxDQUFDO1FBRTlDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7U0FDbkM7YUFBTSxJQUFJLE1BQU0sR0FBRyxTQUFTLElBQUksR0FBRyxHQUFHLFNBQVMsR0FBRyxZQUFZLEVBQUU7WUFDL0QsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLHFCQUFxQixRQUFRLFFBQVEsQ0FBQztTQUN0RTtJQUNILENBQUM7Q0FLRjtBQXBIRCw0QkFvSEM7QUFIQztJQUNFLFFBQVEsQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO0FBQzVCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL3BhcmFsbGF4LnRzP2MzYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgJCBmcm9tIFwiY2FzaC1kb21cIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcblxuICBsZXQgX2RlZmF1bHRzID0ge1xuICAgIHJlc3BvbnNpdmVUaHJlc2hvbGQ6IDAgLy8gYnJlYWtwb2ludCBmb3Igc3dpcGVhYmxlXG4gIH07XG5cbiAgZXhwb3J0IGNsYXNzIFBhcmFsbGF4IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBfZW5hYmxlZDogYm9vbGVhbjtcbiAgICAkaW1nOiBhbnk7XG4gICAgc3RhdGljIF9wYXJhbGxheGVzOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlSW1hZ2VMb2FkQm91bmQ6IGFueTtcbiAgICBzdGF0aWMgX2hhbmRsZVNjcm9sbFRocm90dGxlZDogYW55O1xuICAgIHN0YXRpYyBfaGFuZGxlV2luZG93UmVzaXplVGhyb3R0bGVkOiAoKSA9PiBhbnk7XG4gICAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKFBhcmFsbGF4LCBlbCwgb3B0aW9ucyk7XG5cbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9QYXJhbGxheCA9IHRoaXM7XG5cbiAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBQYXJhbGxheC5kZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9lbmFibGVkID0gd2luZG93LmlubmVyV2lkdGggPiB0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZVRocmVzaG9sZDtcblxuICAgICAgdGhpcy4kaW1nID0gdGhpcy4kZWwuZmluZCgnaW1nJykuZmlyc3QoKTtcbiAgICAgIHRoaXMuJGltZy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgZWwgPSB0aGlzO1xuICAgICAgICBpZiAoZWwuY29tcGxldGUpICQoZWwpLnRyaWdnZXIoJ2xvYWQnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl91cGRhdGVQYXJhbGxheCgpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICB0aGlzLl9zZXR1cFN0eWxlcygpO1xuXG4gICAgICBQYXJhbGxheC5fcGFyYWxsYXhlcy5wdXNoKHRoaXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgIGxldCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgcmV0dXJuIGRvbUVsZW0uTV9QYXJhbGxheDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgUGFyYWxsYXguX3BhcmFsbGF4ZXMuc3BsaWNlKFBhcmFsbGF4Ll9wYXJhbGxheGVzLmluZGV4T2YodGhpcyksIDEpO1xuICAgICAgdGhpcy4kaW1nWzBdLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuXG4gICAgICB0aGlzLiRlbFswXS5NX1BhcmFsbGF4ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHN0YXRpYyBfaGFuZGxlU2Nyb2xsKCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBQYXJhbGxheC5fcGFyYWxsYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcGFyYWxsYXhJbnN0YW5jZSA9IFBhcmFsbGF4Ll9wYXJhbGxheGVzW2ldO1xuICAgICAgICBwYXJhbGxheEluc3RhbmNlLl91cGRhdGVQYXJhbGxheC5jYWxsKHBhcmFsbGF4SW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBfaGFuZGxlV2luZG93UmVzaXplKCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBQYXJhbGxheC5fcGFyYWxsYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcGFyYWxsYXhJbnN0YW5jZSA9IFBhcmFsbGF4Ll9wYXJhbGxheGVzW2ldO1xuICAgICAgICBwYXJhbGxheEluc3RhbmNlLl9lbmFibGVkID1cbiAgICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCA+IHBhcmFsbGF4SW5zdGFuY2Uub3B0aW9ucy5yZXNwb25zaXZlVGhyZXNob2xkO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUxvYWRCb3VuZCA9IHRoaXMuX2hhbmRsZUltYWdlTG9hZC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy4kaW1nWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9oYW5kbGVJbWFnZUxvYWRCb3VuZCk7XG5cbiAgICAgIGlmIChQYXJhbGxheC5fcGFyYWxsYXhlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgUGFyYWxsYXguX2hhbmRsZVNjcm9sbFRocm90dGxlZCA9IE0udGhyb3R0bGUoUGFyYWxsYXguX2hhbmRsZVNjcm9sbCwgNSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBQYXJhbGxheC5faGFuZGxlU2Nyb2xsVGhyb3R0bGVkKTtcblxuICAgICAgICBQYXJhbGxheC5faGFuZGxlV2luZG93UmVzaXplVGhyb3R0bGVkID0gTS50aHJvdHRsZShQYXJhbGxheC5faGFuZGxlV2luZG93UmVzaXplLCA1KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIFBhcmFsbGF4Ll9oYW5kbGVXaW5kb3dSZXNpemVUaHJvdHRsZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy4kaW1nWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9oYW5kbGVJbWFnZUxvYWRCb3VuZCk7XG5cbiAgICAgIGlmIChQYXJhbGxheC5fcGFyYWxsYXhlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFBhcmFsbGF4Ll9oYW5kbGVTY3JvbGxUaHJvdHRsZWQpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgUGFyYWxsYXguX2hhbmRsZVdpbmRvd1Jlc2l6ZVRocm90dGxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldHVwU3R5bGVzKCkge1xuICAgICAgdGhpcy4kaW1nWzBdLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgIH1cblxuICAgIF9oYW5kbGVJbWFnZUxvYWQoKSB7XG4gICAgICB0aGlzLl91cGRhdGVQYXJhbGxheCgpO1xuICAgIH1cblxuICAgIF91cGRhdGVQYXJhbGxheCgpIHtcbiAgICAgIGxldCBjb250YWluZXJIZWlnaHQgPSB0aGlzLiRlbC5oZWlnaHQoKSA+IDAgPyAodGhpcy5lbC5wYXJlbnROb2RlIGFzIGFueSkub2Zmc2V0SGVpZ2h0IDogNTAwO1xuICAgICAgbGV0IGltZ0hlaWdodCA9IHRoaXMuJGltZ1swXS5vZmZzZXRIZWlnaHQ7XG4gICAgICBsZXQgcGFyYWxsYXhEaXN0ID0gaW1nSGVpZ2h0IC0gY29udGFpbmVySGVpZ2h0O1xuICAgICAgbGV0IGJvdHRvbSA9IHRoaXMuJGVsLm9mZnNldCgpLnRvcCArIGNvbnRhaW5lckhlaWdodDtcbiAgICAgIGxldCB0b3AgPSB0aGlzLiRlbC5vZmZzZXQoKS50b3A7XG4gICAgICBsZXQgc2Nyb2xsVG9wID0gTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgICAgbGV0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIGxldCB3aW5kb3dCb3R0b20gPSBzY3JvbGxUb3AgKyB3aW5kb3dIZWlnaHQ7XG4gICAgICBsZXQgcGVyY2VudFNjcm9sbGVkID0gKHdpbmRvd0JvdHRvbSAtIHRvcCkgLyAoY29udGFpbmVySGVpZ2h0ICsgd2luZG93SGVpZ2h0KTtcbiAgICAgIGxldCBwYXJhbGxheCA9IHBhcmFsbGF4RGlzdCAqIHBlcmNlbnRTY3JvbGxlZDtcblxuICAgICAgaWYgKCF0aGlzLl9lbmFibGVkKSB7XG4gICAgICAgIHRoaXMuJGltZ1swXS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgIH0gZWxzZSBpZiAoYm90dG9tID4gc2Nyb2xsVG9wICYmIHRvcCA8IHNjcm9sbFRvcCArIHdpbmRvd0hlaWdodCkge1xuICAgICAgICB0aGlzLiRpbWdbMF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNEKC01MCUsICR7cGFyYWxsYXh9cHgsIDApYDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMge1xuICAgICAgUGFyYWxsYXguX3BhcmFsbGF4ZXMgPSBbXTtcbiAgICB9XG4gIH1cblxuICBcblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///324\n")},696:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Pushpin = void 0;\nconst component_1 = __webpack_require__(999);\nconst global_1 = __webpack_require__(238);\nlet _defaults = {\n    top: 0,\n    bottom: Infinity,\n    offset: 0,\n    onPositionChange: null\n};\nclass Pushpin extends component_1.Component {\n    constructor(el, options) {\n        super(Pushpin, el, options);\n        this.el.M_Pushpin = this;\n        this.options = Object.assign(Object.assign({}, Pushpin.defaults), options);\n        this.originalOffset = this.el.offsetTop;\n        Pushpin._pushpins.push(this);\n        this._setupEventHandlers();\n        this._updatePosition();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Pushpin;\n    }\n    destroy() {\n        this.el.style.top = null;\n        this._removePinClasses();\n        // Remove pushpin Inst\n        let index = Pushpin._pushpins.indexOf(this);\n        Pushpin._pushpins.splice(index, 1);\n        if (Pushpin._pushpins.length === 0) {\n            this._removeEventHandlers();\n        }\n        this.el.M_Pushpin = undefined;\n    }\n    static _updateElements() {\n        for (let elIndex in Pushpin._pushpins) {\n            let pInstance = Pushpin._pushpins[elIndex];\n            pInstance._updatePosition();\n        }\n    }\n    _setupEventHandlers() {\n        document.addEventListener('scroll', Pushpin._updateElements);\n    }\n    _removeEventHandlers() {\n        document.removeEventListener('scroll', Pushpin._updateElements);\n    }\n    _updatePosition() {\n        let scrolled = global_1.M.getDocumentScrollTop() + this.options.offset;\n        if (this.options.top <= scrolled &&\n            this.options.bottom >= scrolled &&\n            !this.el.classList.contains('pinned')) {\n            this._removePinClasses();\n            this.el.style.top = `${this.options.offset}px`;\n            this.el.classList.add('pinned');\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pinned');\n            }\n        }\n        // Add pin-top (when scrolled position is above top)\n        if (scrolled < this.options.top && !this.el.classList.contains('pin-top')) {\n            this._removePinClasses();\n            this.el.style.top = '0';\n            this.el.classList.add('pin-top');\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pin-top');\n            }\n        }\n        // Add pin-bottom (when scrolled position is below bottom)\n        if (scrolled > this.options.bottom && !this.el.classList.contains('pin-bottom')) {\n            this._removePinClasses();\n            this.el.classList.add('pin-bottom');\n            this.el.style.top = `${this.options.bottom - this.originalOffset}px`;\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pin-bottom');\n            }\n        }\n    }\n    _removePinClasses() {\n        // IE 11 bug (can't remove multiple classes in one line)\n        this.el.classList.remove('pin-top');\n        this.el.classList.remove('pinned');\n        this.el.classList.remove('pin-bottom');\n    }\n}\nexports.Pushpin = Pushpin;\n(() => {\n    Pushpin._pushpins = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU8sQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEVBQUU7WUFDL0UsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDekIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ25DLElBQUksQ0FBQyxFQUFrQixDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsY0FBYyxJQUFJLENBQUM7WUFFdEYsNEJBQTRCO1lBQzVCLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixLQUFLLFVBQVUsRUFBRTtnQkFDdkQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxDQUFDO2FBQ3hEO1NBQ0Y7SUFDSCxDQUFDO0lBRUQsaUJBQWlCO1FBQ2Ysd0RBQXdEO1FBQ3hELElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3pDLENBQUM7Q0FLRjtBQTNHRCwwQkEyR0M7QUFIQztJQUNFLE9BQU8sQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0FBQ3pCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL3B1c2hwaW4udHM/MmZiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcblxuICBsZXQgX2RlZmF1bHRzID0ge1xuICAgIHRvcDogMCxcbiAgICBib3R0b206IEluZmluaXR5LFxuICAgIG9mZnNldDogMCxcbiAgICBvblBvc2l0aW9uQ2hhbmdlOiBudWxsXG4gIH07XG5cbiAgZXhwb3J0IGNsYXNzIFB1c2hwaW4gZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBfcHVzaHBpbnM6IGFueVtdO1xuICAgIG9yaWdpbmFsT2Zmc2V0OiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoUHVzaHBpbiwgZWwsIG9wdGlvbnMpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX1B1c2hwaW4gPSB0aGlzO1xuICAgICAgdGhpcy5vcHRpb25zID0gey4uLlB1c2hwaW4uZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuICAgICAgdGhpcy5vcmlnaW5hbE9mZnNldCA9ICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5vZmZzZXRUb3A7XG4gICAgICBQdXNocGluLl9wdXNocGlucy5wdXNoKHRoaXMpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgIGxldCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgcmV0dXJuIGRvbUVsZW0uTV9QdXNocGluO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUudG9wID0gbnVsbDtcbiAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcbiAgICAgIC8vIFJlbW92ZSBwdXNocGluIEluc3RcbiAgICAgIGxldCBpbmRleCA9IFB1c2hwaW4uX3B1c2hwaW5zLmluZGV4T2YodGhpcyk7XG4gICAgICBQdXNocGluLl9wdXNocGlucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgaWYgKFB1c2hwaW4uX3B1c2hwaW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICB9XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fUHVzaHBpbiA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBzdGF0aWMgX3VwZGF0ZUVsZW1lbnRzKCkge1xuICAgICAgZm9yIChsZXQgZWxJbmRleCBpbiBQdXNocGluLl9wdXNocGlucykge1xuICAgICAgICBsZXQgcEluc3RhbmNlID0gUHVzaHBpbi5fcHVzaHBpbnNbZWxJbmRleF07XG4gICAgICAgIHBJbnN0YW5jZS5fdXBkYXRlUG9zaXRpb24oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgUHVzaHBpbi5fdXBkYXRlRWxlbWVudHMpO1xuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgUHVzaHBpbi5fdXBkYXRlRWxlbWVudHMpO1xuICAgIH1cblxuICAgIF91cGRhdGVQb3NpdGlvbigpIHtcbiAgICAgIGxldCBzY3JvbGxlZCA9IE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKSArIHRoaXMub3B0aW9ucy5vZmZzZXQ7XG5cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5vcHRpb25zLnRvcCA8PSBzY3JvbGxlZCAmJlxuICAgICAgICB0aGlzLm9wdGlvbnMuYm90dG9tID49IHNjcm9sbGVkICYmXG4gICAgICAgICF0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygncGlubmVkJylcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9yZW1vdmVQaW5DbGFzc2VzKCk7XG4gICAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50b3AgPSBgJHt0aGlzLm9wdGlvbnMub2Zmc2V0fXB4YDtcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdwaW5uZWQnKTtcblxuICAgICAgICAvLyBvblBvc2l0aW9uQ2hhbmdlIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZS5jYWxsKHRoaXMsICdwaW5uZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBZGQgcGluLXRvcCAod2hlbiBzY3JvbGxlZCBwb3NpdGlvbiBpcyBhYm92ZSB0b3ApXG4gICAgICBpZiAoc2Nyb2xsZWQgPCB0aGlzLm9wdGlvbnMudG9wICYmICF0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygncGluLXRvcCcpKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcbiAgICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRvcCA9ICcwJztcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdwaW4tdG9wJyk7XG5cbiAgICAgICAgLy8gb25Qb3NpdGlvbkNoYW5nZSBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UuY2FsbCh0aGlzLCAncGluLXRvcCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBwaW4tYm90dG9tICh3aGVuIHNjcm9sbGVkIHBvc2l0aW9uIGlzIGJlbG93IGJvdHRvbSlcbiAgICAgIGlmIChzY3JvbGxlZCA+IHRoaXMub3B0aW9ucy5ib3R0b20gJiYgIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwaW4tYm90dG9tJykpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlUGluQ2xhc3NlcygpO1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3Bpbi1ib3R0b20nKTtcbiAgICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRvcCA9IGAke3RoaXMub3B0aW9ucy5ib3R0b20gLSB0aGlzLm9yaWdpbmFsT2Zmc2V0fXB4YDtcblxuICAgICAgICAvLyBvblBvc2l0aW9uQ2hhbmdlIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZS5jYWxsKHRoaXMsICdwaW4tYm90dG9tJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVtb3ZlUGluQ2xhc3NlcygpIHtcbiAgICAgIC8vIElFIDExIGJ1ZyAoY2FuJ3QgcmVtb3ZlIG11bHRpcGxlIGNsYXNzZXMgaW4gb25lIGxpbmUpXG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Bpbi10b3AnKTtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncGlubmVkJyk7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Bpbi1ib3R0b20nKTtcbiAgICB9XG5cbiAgICBzdGF0aWMge1xuICAgICAgUHVzaHBpbi5fcHVzaHBpbnMgPSBbXTtcbiAgICB9XG4gIH0gIFxuXG4gICJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///696\n")},185:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ScrollSpy = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst global_1 = __webpack_require__(238);\nconst animejs_1 = __importDefault(__webpack_require__(30));\nlet _defaults = {\n    throttle: 100,\n    scrollOffset: 200,\n    activeClass: 'active',\n    getActiveElement: function (id) {\n        return 'a[href=\"#' + id + '\"]';\n    }\n};\n/**\n * @class\n *\n */\nclass ScrollSpy extends component_1.Component {\n    /**\n     * Construct ScrollSpy instance\n     * @constructor\n     * @param {Element} el\n     * @param {Object} options\n     */\n    constructor(el, options) {\n        super(ScrollSpy, el, options);\n        this.el.M_ScrollSpy = this;\n        /**\n         * Options for the modal\n         * @member Modal#options\n         * @prop {Number} [throttle=100] - Throttle of scroll handler\n         * @prop {Number} [scrollOffset=200] - Offset for centering element when scrolled to\n         * @prop {String} [activeClass='active'] - Class applied to active elements\n         * @prop {Function} [getActiveElement] - Used to find active element\n         */\n        this.options = cash_dom_1.default.extend({}, ScrollSpy.defaults, options);\n        // setup\n        ScrollSpy._elements.push(this);\n        ScrollSpy._count++;\n        ScrollSpy._increment++;\n        this.tickId = -1;\n        this.id = ScrollSpy._increment;\n        this._setupEventHandlers();\n        this._handleWindowScroll();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    /**\n     * Get Instance\n     */\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_ScrollSpy;\n    }\n    /**\n     * Teardown component\n     */\n    destroy() {\n        ScrollSpy._elements.splice(ScrollSpy._elements.indexOf(this), 1);\n        ScrollSpy._elementsInView.splice(ScrollSpy._elementsInView.indexOf(this), 1);\n        ScrollSpy._visibleElements.splice(ScrollSpy._visibleElements.indexOf(this.$el), 1);\n        ScrollSpy._count--;\n        this._removeEventHandlers();\n        (0, cash_dom_1.default)(this.options.getActiveElement(this.$el.attr('id'))).removeClass(this.options.activeClass);\n        this.el.M_ScrollSpy = undefined;\n    }\n    /**\n     * Setup Event Handlers\n     */\n    _setupEventHandlers() {\n        let throttledResize = global_1.M.throttle(this._handleWindowScroll, 200);\n        this._handleThrottledResizeBound = throttledResize.bind(this);\n        this._handleWindowScrollBound = this._handleWindowScroll.bind(this);\n        if (ScrollSpy._count === 1) {\n            window.addEventListener('scroll', this._handleWindowScrollBound);\n            window.addEventListener('resize', this._handleThrottledResizeBound);\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n    }\n    /**\n     * Remove Event Handlers\n     */\n    _removeEventHandlers() {\n        if (ScrollSpy._count === 0) {\n            window.removeEventListener('scroll', this._handleWindowScrollBound);\n            window.removeEventListener('resize', this._handleThrottledResizeBound);\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n    }\n    /**\n     * Handle Trigger Click\n     * @param {Event} e\n     */\n    _handleTriggerClick(e) {\n        let $trigger = (0, cash_dom_1.default)(e.target);\n        for (let i = ScrollSpy._elements.length - 1; i >= 0; i--) {\n            let scrollspy = ScrollSpy._elements[i];\n            if ($trigger.is('a[href=\"#' + scrollspy.$el.attr('id') + '\"]')) {\n                e.preventDefault();\n                let offset = scrollspy.$el.offset().top + 1;\n                (0, animejs_1.default)({\n                    targets: [document.documentElement, document.body],\n                    scrollTop: offset - scrollspy.options.scrollOffset,\n                    duration: 400,\n                    easing: 'easeOutCubic'\n                });\n                break;\n            }\n        }\n    }\n    /**\n     * Handle Window Scroll\n     */\n    _handleWindowScroll() {\n        // unique tick id\n        ScrollSpy._ticks++;\n        // viewport rectangle\n        let top = global_1.M.getDocumentScrollTop(), left = global_1.M.getDocumentScrollLeft(), right = left + window.innerWidth, bottom = top + window.innerHeight;\n        // determine which elements are in view\n        let intersections = ScrollSpy._findElements(top, right, bottom, left);\n        for (let i = 0; i < intersections.length; i++) {\n            let scrollspy = intersections[i];\n            let lastTick = scrollspy.tickId;\n            if (lastTick < 0) {\n                // entered into view\n                scrollspy._enter();\n            }\n            // update tick id\n            scrollspy.tickId = ScrollSpy._ticks;\n        }\n        for (let i = 0; i < ScrollSpy._elementsInView.length; i++) {\n            let scrollspy = ScrollSpy._elementsInView[i];\n            let lastTick = scrollspy.tickId;\n            if (lastTick >= 0 && lastTick !== ScrollSpy._ticks) {\n                // exited from view\n                scrollspy._exit();\n                scrollspy.tickId = -1;\n            }\n        }\n        // remember elements in view for next tick\n        ScrollSpy._elementsInView = intersections;\n    }\n    /**\n     * Find elements that are within the boundary\n     * @param {number} top\n     * @param {number} right\n     * @param {number} bottom\n     * @param {number} left\n     * @return {Array.<ScrollSpy>}   A collection of elements\n     */\n    static _findElements(top, right, bottom, left) {\n        let hits = [];\n        for (let i = 0; i < ScrollSpy._elements.length; i++) {\n            let scrollspy = ScrollSpy._elements[i];\n            let currTop = top + scrollspy.options.scrollOffset || 200;\n            if (scrollspy.$el.height() > 0) {\n                let elTop = scrollspy.$el.offset().top, elLeft = scrollspy.$el.offset().left, elRight = elLeft + scrollspy.$el.width(), elBottom = elTop + scrollspy.$el.height();\n                let isIntersect = !(elLeft > right ||\n                    elRight < left ||\n                    elTop > bottom ||\n                    elBottom < currTop);\n                if (isIntersect) {\n                    hits.push(scrollspy);\n                }\n            }\n        }\n        return hits;\n    }\n    _enter() {\n        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(function (value) {\n            return value.height() != 0;\n        });\n        if (ScrollSpy._visibleElements[0]) {\n            (0, cash_dom_1.default)(this.options.getActiveElement(ScrollSpy._visibleElements[0].attr('id'))).removeClass(this.options.activeClass);\n            if (ScrollSpy._visibleElements[0][0].M_ScrollSpy &&\n                this.id < ScrollSpy._visibleElements[0][0].M_ScrollSpy.id) {\n                ScrollSpy._visibleElements.unshift(this.$el);\n            }\n            else {\n                ScrollSpy._visibleElements.push(this.$el);\n            }\n        }\n        else {\n            ScrollSpy._visibleElements.push(this.$el);\n        }\n        (0, cash_dom_1.default)(this.options.getActiveElement(ScrollSpy._visibleElements[0].attr('id'))).addClass(this.options.activeClass);\n    }\n    _exit() {\n        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(function (value) {\n            return value.height() != 0;\n        });\n        if (ScrollSpy._visibleElements[0]) {\n            (0, cash_dom_1.default)(this.options.getActiveElement(ScrollSpy._visibleElements[0].attr('id'))).removeClass(this.options.activeClass);\n            ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter((el) => {\n                return el.attr('id') != this.$el.attr('id');\n            });\n            if (ScrollSpy._visibleElements[0]) {\n                // Check if empty\n                (0, cash_dom_1.default)(this.options.getActiveElement(ScrollSpy._visibleElements[0].attr('id'))).addClass(this.options.activeClass);\n            }\n        }\n    }\n}\nexports.ScrollSpy = ScrollSpy;\n(() => {\n    /**\n       * @static\n       * @memberof ScrollSpy\n       * @type {Array.<ScrollSpy>}\n       */\n    ScrollSpy._elements = [];\n    /**\n     * @static\n     * @memberof ScrollSpy\n     * @type {Array.<ScrollSpy>}\n     */\n    ScrollSpy._elementsInView = [];\n    /**\n     * @static\n     * @memberof ScrollSpy\n     * @type {Array.<cash>}\n     */\n    ScrollSpy._visibleElements = [];\n    /**\n     * @static\n     * @memberof ScrollSpy\n     */\n    ScrollSpy._count = 0;\n    /**\n     * @static\n     * @memberof ScrollSpy\n     */\n    ScrollSpy._increment = 0;\n    /**\n     * @static\n     * @memberof ScrollSpy\n     */\n    ScrollSpy._ticks = 0;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxHQUFHLENBQUMsQ0FBQztBQUV2QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTS8uL3NyYy9zY3JvbGxzcHkudHM/NWYyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCAkIGZyb20gXCJjYXNoLWRvbVwiO1xuaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxuICBsZXQgX2RlZmF1bHRzID0ge1xuICAgIHRocm90dGxlOiAxMDAsXG4gICAgc2Nyb2xsT2Zmc2V0OiAyMDAsIC8vIG9mZnNldCAtIDIwMCBhbGxvd3MgZWxlbWVudHMgbmVhciBib3R0b20gb2YgcGFnZSB0byBzY3JvbGxcbiAgICBhY3RpdmVDbGFzczogJ2FjdGl2ZScsXG4gICAgZ2V0QWN0aXZlRWxlbWVudDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiAnYVtocmVmPVwiIycgKyBpZCArICdcIl0nO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuICBleHBvcnQgY2xhc3MgU2Nyb2xsU3B5IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgX2VsZW1lbnRzOiBhbnk7XG4gICAgc3RhdGljIF9jb3VudDogYW55O1xuICAgIHN0YXRpYyBfaW5jcmVtZW50OiBhbnk7XG4gICAgdGlja0lkOiBudW1iZXI7XG4gICAgaWQ6IGFueTtcbiAgICBzdGF0aWMgX2VsZW1lbnRzSW5WaWV3OiBhbnk7XG4gICAgc3RhdGljIF92aXNpYmxlRWxlbWVudHM6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZVdpbmRvd1Njcm9sbEJvdW5kOiBhbnk7XG4gICAgc3RhdGljIF90aWNrczogYW55O1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBTY3JvbGxTcHkgaW5zdGFuY2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoU2Nyb2xsU3B5LCBlbCwgb3B0aW9ucyk7XG5cbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9TY3JvbGxTcHkgPSB0aGlzO1xuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSBtb2RhbFxuICAgICAgICogQG1lbWJlciBNb2RhbCNvcHRpb25zXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbdGhyb3R0bGU9MTAwXSAtIFRocm90dGxlIG9mIHNjcm9sbCBoYW5kbGVyXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbc2Nyb2xsT2Zmc2V0PTIwMF0gLSBPZmZzZXQgZm9yIGNlbnRlcmluZyBlbGVtZW50IHdoZW4gc2Nyb2xsZWQgdG9cbiAgICAgICAqIEBwcm9wIHtTdHJpbmd9IFthY3RpdmVDbGFzcz0nYWN0aXZlJ10gLSBDbGFzcyBhcHBsaWVkIHRvIGFjdGl2ZSBlbGVtZW50c1xuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBbZ2V0QWN0aXZlRWxlbWVudF0gLSBVc2VkIHRvIGZpbmQgYWN0aXZlIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIFNjcm9sbFNweS5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIC8vIHNldHVwXG4gICAgICBTY3JvbGxTcHkuX2VsZW1lbnRzLnB1c2godGhpcyk7XG4gICAgICBTY3JvbGxTcHkuX2NvdW50Kys7XG4gICAgICBTY3JvbGxTcHkuX2luY3JlbWVudCsrO1xuICAgICAgdGhpcy50aWNrSWQgPSAtMTtcbiAgICAgIHRoaXMuaWQgPSBTY3JvbGxTcHkuX2luY3JlbWVudDtcbiAgICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX1Njcm9sbFNweTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgU2Nyb2xsU3B5Ll9lbGVtZW50cy5zcGxpY2UoU2Nyb2xsU3B5Ll9lbGVtZW50cy5pbmRleE9mKHRoaXMpLCAxKTtcbiAgICAgIFNjcm9sbFNweS5fZWxlbWVudHNJblZpZXcuc3BsaWNlKFNjcm9sbFNweS5fZWxlbWVudHNJblZpZXcuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5zcGxpY2UoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMuaW5kZXhPZih0aGlzLiRlbCksIDEpO1xuICAgICAgU2Nyb2xsU3B5Ll9jb3VudC0tO1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgJCh0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudCh0aGlzLiRlbC5hdHRyKCdpZCcpKSkucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9TY3JvbGxTcHkgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgKi9cbiAgICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgbGV0IHRocm90dGxlZFJlc2l6ZSA9IE0udGhyb3R0bGUodGhpcy5faGFuZGxlV2luZG93U2Nyb2xsLCAyMDApO1xuICAgICAgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQgPSB0aHJvdHRsZWRSZXNpemUuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbEJvdW5kID0gdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsLmJpbmQodGhpcyk7XG4gICAgICBpZiAoU2Nyb2xsU3B5Ll9jb3VudCA9PT0gMSkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsQm91bmQpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgRXZlbnQgSGFuZGxlcnNcbiAgICAgKi9cbiAgICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIGlmIChTY3JvbGxTcHkuX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGxCb3VuZCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBUcmlnZ2VyIENsaWNrXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqL1xuICAgIF9oYW5kbGVUcmlnZ2VyQ2xpY2soZSkge1xuICAgICAgbGV0ICR0cmlnZ2VyID0gJChlLnRhcmdldCk7XG4gICAgICBmb3IgKGxldCBpID0gU2Nyb2xsU3B5Ll9lbGVtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgc2Nyb2xsc3B5ID0gU2Nyb2xsU3B5Ll9lbGVtZW50c1tpXTtcbiAgICAgICAgaWYgKCR0cmlnZ2VyLmlzKCdhW2hyZWY9XCIjJyArIHNjcm9sbHNweS4kZWwuYXR0cignaWQnKSArICdcIl0nKSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBsZXQgb2Zmc2V0ID0gc2Nyb2xsc3B5LiRlbC5vZmZzZXQoKS50b3AgKyAxO1xuXG4gICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICB0YXJnZXRzOiBbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBkb2N1bWVudC5ib2R5XSxcbiAgICAgICAgICAgIHNjcm9sbFRvcDogb2Zmc2V0IC0gc2Nyb2xsc3B5Lm9wdGlvbnMuc2Nyb2xsT2Zmc2V0LFxuICAgICAgICAgICAgZHVyYXRpb246IDQwMCxcbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYydcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBXaW5kb3cgU2Nyb2xsXG4gICAgICovXG4gICAgX2hhbmRsZVdpbmRvd1Njcm9sbCgpIHtcbiAgICAgIC8vIHVuaXF1ZSB0aWNrIGlkXG4gICAgICBTY3JvbGxTcHkuX3RpY2tzKys7XG5cbiAgICAgIC8vIHZpZXdwb3J0IHJlY3RhbmdsZVxuICAgICAgbGV0IHRvcCA9IE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKSxcbiAgICAgICAgbGVmdCA9IE0uZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCksXG4gICAgICAgIHJpZ2h0ID0gbGVmdCArIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICBib3R0b20gPSB0b3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgIC8vIGRldGVybWluZSB3aGljaCBlbGVtZW50cyBhcmUgaW4gdmlld1xuICAgICAgbGV0IGludGVyc2VjdGlvbnMgPSBTY3JvbGxTcHkuX2ZpbmRFbGVtZW50cyh0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnRlcnNlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBzY3JvbGxzcHkgPSBpbnRlcnNlY3Rpb25zW2ldO1xuICAgICAgICBsZXQgbGFzdFRpY2sgPSBzY3JvbGxzcHkudGlja0lkO1xuICAgICAgICBpZiAobGFzdFRpY2sgPCAwKSB7XG4gICAgICAgICAgLy8gZW50ZXJlZCBpbnRvIHZpZXdcbiAgICAgICAgICBzY3JvbGxzcHkuX2VudGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgdGljayBpZFxuICAgICAgICBzY3JvbGxzcHkudGlja0lkID0gU2Nyb2xsU3B5Ll90aWNrcztcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBzY3JvbGxzcHkgPSBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3W2ldO1xuICAgICAgICBsZXQgbGFzdFRpY2sgPSBzY3JvbGxzcHkudGlja0lkO1xuICAgICAgICBpZiAobGFzdFRpY2sgPj0gMCAmJiBsYXN0VGljayAhPT0gU2Nyb2xsU3B5Ll90aWNrcykge1xuICAgICAgICAgIC8vIGV4aXRlZCBmcm9tIHZpZXdcbiAgICAgICAgICBzY3JvbGxzcHkuX2V4aXQoKTtcbiAgICAgICAgICBzY3JvbGxzcHkudGlja0lkID0gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gcmVtZW1iZXIgZWxlbWVudHMgaW4gdmlldyBmb3IgbmV4dCB0aWNrXG4gICAgICBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3ID0gaW50ZXJzZWN0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGVsZW1lbnRzIHRoYXQgYXJlIHdpdGhpbiB0aGUgYm91bmRhcnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9wXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0XG4gICAgICogQHJldHVybiB7QXJyYXkuPFNjcm9sbFNweT59ICAgQSBjb2xsZWN0aW9uIG9mIGVsZW1lbnRzXG4gICAgICovXG4gICAgc3RhdGljIF9maW5kRWxlbWVudHModG9wLCByaWdodCwgYm90dG9tLCBsZWZ0KSB7XG4gICAgICBsZXQgaGl0cyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTY3JvbGxTcHkuX2VsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBzY3JvbGxzcHkgPSBTY3JvbGxTcHkuX2VsZW1lbnRzW2ldO1xuICAgICAgICBsZXQgY3VyclRvcCA9IHRvcCArIHNjcm9sbHNweS5vcHRpb25zLnNjcm9sbE9mZnNldCB8fCAyMDA7XG5cbiAgICAgICAgaWYgKHNjcm9sbHNweS4kZWwuaGVpZ2h0KCkgPiAwKSB7XG4gICAgICAgICAgbGV0IGVsVG9wID0gc2Nyb2xsc3B5LiRlbC5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICBlbExlZnQgPSBzY3JvbGxzcHkuJGVsLm9mZnNldCgpLmxlZnQsXG4gICAgICAgICAgICBlbFJpZ2h0ID0gZWxMZWZ0ICsgc2Nyb2xsc3B5LiRlbC53aWR0aCgpLFxuICAgICAgICAgICAgZWxCb3R0b20gPSBlbFRvcCArIHNjcm9sbHNweS4kZWwuaGVpZ2h0KCk7XG5cbiAgICAgICAgICBsZXQgaXNJbnRlcnNlY3QgPSAhKFxuICAgICAgICAgICAgZWxMZWZ0ID4gcmlnaHQgfHxcbiAgICAgICAgICAgIGVsUmlnaHQgPCBsZWZ0IHx8XG4gICAgICAgICAgICBlbFRvcCA+IGJvdHRvbSB8fFxuICAgICAgICAgICAgZWxCb3R0b20gPCBjdXJyVG9wXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChpc0ludGVyc2VjdCkge1xuICAgICAgICAgICAgaGl0cy5wdXNoKHNjcm9sbHNweSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaGl0cztcbiAgICB9XG5cbiAgICBfZW50ZXIoKSB7XG4gICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cyA9IFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLmZpbHRlcihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUuaGVpZ2h0KCkgIT0gMDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0pIHtcbiAgICAgICAgJCh0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5hdHRyKCdpZCcpKSkucmVtb3ZlQ2xhc3MoXG4gICAgICAgICAgdGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzXG4gICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXVswXS5NX1Njcm9sbFNweSAmJlxuICAgICAgICAgIHRoaXMuaWQgPCBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXVswXS5NX1Njcm9sbFNweS5pZFxuICAgICAgICApIHtcbiAgICAgICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy51bnNoaWZ0KHRoaXMuJGVsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5wdXNoKHRoaXMuJGVsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMucHVzaCh0aGlzLiRlbCk7XG4gICAgICB9XG5cbiAgICAgICQodGhpcy5vcHRpb25zLmdldEFjdGl2ZUVsZW1lbnQoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0uYXR0cignaWQnKSkpLmFkZENsYXNzKFxuICAgICAgICB0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3NcbiAgICAgICk7XG4gICAgfVxuXG4gICAgX2V4aXQoKSB7XG4gICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cyA9IFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLmZpbHRlcihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUuaGVpZ2h0KCkgIT0gMDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0pIHtcbiAgICAgICAgJCh0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5hdHRyKCdpZCcpKSkucmVtb3ZlQ2xhc3MoXG4gICAgICAgICAgdGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzXG4gICAgICAgICk7XG5cbiAgICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMgPSBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5maWx0ZXIoKGVsKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGVsLmF0dHIoJ2lkJykgIT0gdGhpcy4kZWwuYXR0cignaWQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXSkge1xuICAgICAgICAgIC8vIENoZWNrIGlmIGVtcHR5XG4gICAgICAgICAgJCh0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5hdHRyKCdpZCcpKSkuYWRkQ2xhc3MoXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3NcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHtcbiAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBtZW1iZXJvZiBTY3JvbGxTcHlcbiAgICAgICAgICogQHR5cGUge0FycmF5LjxTY3JvbGxTcHk+fVxuICAgICAgICAgKi9cbiAgICAgIFNjcm9sbFNweS5fZWxlbWVudHMgPSBbXTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAc3RhdGljXG4gICAgICAgKiBAbWVtYmVyb2YgU2Nyb2xsU3B5XG4gICAgICAgKiBAdHlwZSB7QXJyYXkuPFNjcm9sbFNweT59XG4gICAgICAgKi9cbiAgICAgIFNjcm9sbFNweS5fZWxlbWVudHNJblZpZXcgPSBbXTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAc3RhdGljXG4gICAgICAgKiBAbWVtYmVyb2YgU2Nyb2xsU3B5XG4gICAgICAgKiBAdHlwZSB7QXJyYXkuPGNhc2g+fVxuICAgICAgICovXG4gICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cyA9IFtdO1xuXG4gICAgICAvKipcbiAgICAgICAqIEBzdGF0aWNcbiAgICAgICAqIEBtZW1iZXJvZiBTY3JvbGxTcHlcbiAgICAgICAqL1xuICAgICAgU2Nyb2xsU3B5Ll9jb3VudCA9IDA7XG5cbiAgICAgIC8qKlxuICAgICAgICogQHN0YXRpY1xuICAgICAgICogQG1lbWJlcm9mIFNjcm9sbFNweVxuICAgICAgICovXG4gICAgICBTY3JvbGxTcHkuX2luY3JlbWVudCA9IDA7XG5cbiAgICAgIC8qKlxuICAgICAgICogQHN0YXRpY1xuICAgICAgICogQG1lbWJlcm9mIFNjcm9sbFNweVxuICAgICAgICovXG4gICAgICBTY3JvbGxTcHkuX3RpY2tzID0gMDtcblxuICAgIH1cbiAgfVxuXG4gIFxuXG4gIFxuXG4gICJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///185\n")},375:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FormSelect = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst global_1 = __webpack_require__(238);\nlet _defaults = {\n    classes: '',\n    dropdownOptions: {}\n};\nclass FormSelect extends component_1.Component {\n    constructor(el, options) {\n        super(FormSelect, el, options);\n        if (this.$el.hasClass('browser-default'))\n            return;\n        this.el.M_FormSelect = this;\n        this.options = cash_dom_1.default.extend({}, FormSelect.defaults, options);\n        this.isMultiple = this.$el.prop('multiple');\n        this.el.tabIndex = -1;\n        this._values = [];\n        this.labelEl = null;\n        this._labelFor = false;\n        this._setupDropdown();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_FormSelect;\n    }\n    destroy() {\n        // Returns label to its original owner\n        if (this._labelFor)\n            this.labelEl.setAttribute(\"for\", this.el.id);\n        this._removeEventHandlers();\n        this._removeDropdown();\n        this.el.M_FormSelect = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleSelectChangeBound = this._handleSelectChange.bind(this);\n        this._handleOptionClickBound = this._handleOptionClick.bind(this);\n        this._handleInputClickBound = this._handleInputClick.bind(this);\n        (0, cash_dom_1.default)(this.dropdownOptions)\n            .find('li:not(.optgroup)')\n            .each((i, el) => {\n            el.addEventListener('click', this._handleOptionClickBound);\n            el.addEventListener('keydown', (e) => {\n                if (e.key === \" \" || e.key === \"Enter\")\n                    this._handleOptionClickBound(e);\n            });\n        });\n        this.el.addEventListener('change', this._handleSelectChangeBound);\n        this.input.addEventListener('click', this._handleInputClickBound);\n    }\n    _removeEventHandlers() {\n        (0, cash_dom_1.default)(this.dropdownOptions)\n            .find('li:not(.optgroup)')\n            .each((i, el) => {\n            el.removeEventListener('click', this._handleOptionClickBound);\n        });\n        this.el.removeEventListener('change', this._handleSelectChangeBound);\n        this.input.removeEventListener('click', this._handleInputClickBound);\n    }\n    _handleSelectChange(e) {\n        this._setValueToInput();\n    }\n    _handleOptionClick(e) {\n        e.preventDefault();\n        let virtualOption = (0, cash_dom_1.default)(e.target).closest('li')[0];\n        this._selectOptionElement(virtualOption);\n        e.stopPropagation();\n    }\n    _arraysEqual(a, b) {\n        if (a === b)\n            return true;\n        if (a == null || b == null)\n            return false;\n        if (a.length !== b.length)\n            return false;\n        for (let i = 0; i < a.length; ++i)\n            if (a[i] !== b[i])\n                return false;\n        return true;\n    }\n    _selectOptionElement(virtualOption) {\n        if (!(0, cash_dom_1.default)(virtualOption).hasClass('disabled') && !(0, cash_dom_1.default)(virtualOption).hasClass('optgroup')) {\n            const value = this._values.filter((value) => value.optionEl === virtualOption)[0];\n            const previousSelectedValues = this.getSelectedValues();\n            if (this.isMultiple) {\n                // Multi-Select\n                this._toggleEntryFromArray(value);\n            }\n            else {\n                // Single-Select\n                this._deselectAll();\n                this._selectValue(value);\n            }\n            // Refresh Input-Text\n            this._setValueToInput();\n            // Trigger Change-Event only when data is different\n            const actualSelectedValues = this.getSelectedValues();\n            const selectionHasChanged = !this._arraysEqual(previousSelectedValues, actualSelectedValues);\n            if (selectionHasChanged)\n                this.$el.trigger('change');\n        }\n        if (!this.isMultiple)\n            this.dropdown.close();\n    }\n    _handleInputClick() {\n        if (this.dropdown && this.dropdown.isOpen) {\n            this._setValueToInput();\n            this._setSelectedStates();\n        }\n    }\n    _setupDropdown() {\n        this.wrapper = document.createElement('div');\n        this.wrapper.classList.add('select-wrapper');\n        this.wrapper.classList.add('input-field');\n        if (this.options.classes.length > 0) {\n            const customClasses = this.options.classes.split(' ') || [];\n            customClasses.forEach(customClass => this.wrapper.classList.add(customClass));\n        }\n        this.$el.before((0, cash_dom_1.default)(this.wrapper));\n        // Move actual select element into overflow hidden wrapper\n        let $hideSelect = (0, cash_dom_1.default)('<div class=\"hide-select\"></div>');\n        (0, cash_dom_1.default)(this.wrapper).append($hideSelect);\n        $hideSelect[0].appendChild(this.el);\n        if (this.el.disabled)\n            this.wrapper.classList.add('disabled');\n        // Create dropdown\n        this.$selectOptions = this.$el.children('option, optgroup');\n        this.dropdownOptions = document.createElement('ul');\n        this.dropdownOptions.id = `select-options-${global_1.M.guid()}`;\n        (0, cash_dom_1.default)(this.dropdownOptions).addClass('dropdown-content select-dropdown ' + (this.isMultiple ? 'multiple-select-dropdown' : ''));\n        this.dropdownOptions.setAttribute(\"role\", \"listbox\");\n        this.dropdownOptions.setAttribute(\"aria-multiselectable\", this.isMultiple);\n        // Create dropdown structure\n        if (this.$selectOptions.length) {\n            this.$selectOptions.each((i, realOption) => {\n                if ((0, cash_dom_1.default)(realOption).is('option')) {\n                    // Option\n                    const virtualOption = this._createAndAppendOptionWithIcon(realOption, this.isMultiple ? 'multiple' : undefined);\n                    this._addOptionToValues(realOption, virtualOption);\n                }\n                else if ((0, cash_dom_1.default)(realOption).is('optgroup')) {\n                    // Optgroup\n                    const selectOptions = (0, cash_dom_1.default)(realOption).children('option');\n                    let lId = \"opt-group-\" + global_1.M.guid();\n                    let groupParent = (0, cash_dom_1.default)(`<li class=\"optgroup\" role=\"group\" aria-labelledby=\"${lId}\" tabindex=\"-1\"><span id=\"${lId}\" role=\"presentation\">${realOption.getAttribute('label')}</span></li>`)[0];\n                    let groupChildren = [];\n                    (0, cash_dom_1.default)(this.dropdownOptions).append(groupParent);\n                    selectOptions.each((i, realOption) => {\n                        const virtualOption = this._createAndAppendOptionWithIcon(realOption, 'optgroup-option');\n                        let cId = \"opt-child-\" + global_1.M.guid();\n                        virtualOption.id = cId;\n                        groupChildren.push(cId);\n                        this._addOptionToValues(realOption, virtualOption);\n                    });\n                    groupParent.setAttribute(\"aria-owns\", groupChildren.join(\" \"));\n                }\n            });\n        }\n        (0, cash_dom_1.default)(this.wrapper).append(this.dropdownOptions);\n        // Add input dropdown\n        this.input = document.createElement('input');\n        this.input.id = \"m_select-input-\" + global_1.M.guid();\n        (0, cash_dom_1.default)(this.input).addClass('select-dropdown dropdown-trigger');\n        this.input.setAttribute('type', 'text');\n        this.input.setAttribute('readonly', 'true');\n        this.input.setAttribute('data-target', this.dropdownOptions.id);\n        this.input.setAttribute('aria-readonly', 'true');\n        this.input.setAttribute(\"aria-required\", this.el.hasAttribute(\"required\"));\n        if (this.el.disabled)\n            (0, cash_dom_1.default)(this.input).prop('disabled', 'true');\n        // Makes new element to assume HTML's select label and\n        //   aria-attributes, if exists\n        if (this.el.hasAttribute(\"aria-labelledby\")) {\n            this.labelEl = document.getElementById(this.el.getAttribute(\"aria-labelledby\"));\n        }\n        else if (this.el.id != \"\") {\n            let lbl = (0, cash_dom_1.default)(`label[for='${this.el.id}']`);\n            if (lbl.length) {\n                this.labelEl = lbl[0];\n                this.labelEl.removeAttribute(\"for\");\n                this._labelFor = true;\n            }\n        }\n        // Tries to find a valid label in parent element\n        if (!this.labelEl) {\n            this.labelEl = this.el.parentElement.querySelector('label');\n        }\n        if (this.labelEl && this.labelEl.id == \"\") {\n            this.labelEl.id = \"m_select-label-\" + global_1.M.guid();\n        }\n        if (this.labelEl) {\n            this.labelEl.setAttribute(\"for\", this.input.id);\n            this.dropdownOptions.setAttribute(\"aria-labelledby\", this.labelEl.id);\n        }\n        else\n            this.dropdownOptions.setAttribute(\"aria-label\", \"\");\n        let attrs = this.el.attributes;\n        for (let i = 0; i < attrs.length; ++i) {\n            const attr = attrs[i];\n            if (attr.name.startsWith(\"aria-\"))\n                this.input.setAttribute(attr.name, attr.value);\n        }\n        // Adds aria-attributes to input element\n        this.input.setAttribute(\"role\", \"combobox\");\n        this.input.setAttribute(\"aria-owns\", this.dropdownOptions.id);\n        this.input.setAttribute(\"aria-controls\", this.dropdownOptions.id);\n        this.input.setAttribute(\"aria-expanded\", false);\n        this.input.placeholder = \" \";\n        (0, cash_dom_1.default)(this.wrapper).prepend(this.input);\n        this._setValueToInput();\n        // Add caret\n        let dropdownIcon = (0, cash_dom_1.default)('<svg class=\"caret\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\"><path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>');\n        (0, cash_dom_1.default)(this.wrapper).prepend(dropdownIcon[0]);\n        // Initialize dropdown\n        if (!this.el.disabled) {\n            let dropdownOptions = cash_dom_1.default.extend({}, this.options.dropdownOptions);\n            dropdownOptions.coverTrigger = false;\n            let userOnOpenEnd = dropdownOptions.onOpenEnd;\n            let userOnCloseEnd = dropdownOptions.onCloseEnd;\n            // Add callback for centering selected option when dropdown content is scrollable\n            dropdownOptions.onOpenEnd = (el) => {\n                let selectedOption = (0, cash_dom_1.default)(this.dropdownOptions)\n                    .find('.selected')\n                    .first();\n                if (selectedOption.length) {\n                    // Focus selected option in dropdown\n                    global_1.M.keyDown = true;\n                    this.dropdown.focusedIndex = selectedOption.index();\n                    this.dropdown._focusFocusedItem();\n                    global_1.M.keyDown = false;\n                    // Handle scrolling to selected option\n                    if (this.dropdown.isScrollable) {\n                        let scrollOffset = selectedOption[0].getBoundingClientRect().top -\n                            this.dropdownOptions.getBoundingClientRect().top; // scroll to selected option\n                        scrollOffset -= this.dropdownOptions.clientHeight / 2; // center in dropdown\n                        this.dropdownOptions.scrollTop = scrollOffset;\n                    }\n                }\n                // Sets \"aria-expanded\" to \"true\"\n                this.input.setAttribute(\"aria-expanded\", true);\n                // Handle user declared onOpenEnd if needed\n                if (userOnOpenEnd && typeof userOnOpenEnd === 'function')\n                    userOnOpenEnd.call(this.dropdown, this.el);\n            };\n            // Add callback for reseting \"expanded\" state\n            dropdownOptions.onCloseEnd = (el) => {\n                // Sets \"aria-expanded\" to \"false\"\n                this.input.setAttribute(\"aria-expanded\", false);\n                // Handle user declared onOpenEnd if needed\n                if (userOnCloseEnd && typeof userOnCloseEnd === 'function')\n                    userOnCloseEnd.call(this.dropdown, this.el);\n            };\n            // Prevent dropdown from closing too early\n            dropdownOptions.closeOnClick = false;\n            this.dropdown = global_1.M.Dropdown.init(this.input, dropdownOptions);\n        }\n        // Add initial selections\n        this._setSelectedStates();\n        // ! Workaround for Label: move label up again\n        if (this.labelEl)\n            this.input.after(this.labelEl);\n    }\n    _addOptionToValues(realOption, virtualOption) {\n        this._values.push({ el: realOption, optionEl: virtualOption });\n    }\n    _removeDropdown() {\n        (0, cash_dom_1.default)(this.wrapper)\n            .find('.caret')\n            .remove();\n        (0, cash_dom_1.default)(this.input).remove();\n        (0, cash_dom_1.default)(this.dropdownOptions).remove();\n        (0, cash_dom_1.default)(this.wrapper).before(this.$el);\n        (0, cash_dom_1.default)(this.wrapper).remove();\n    }\n    _createAndAppendOptionWithIcon(realOption, type) {\n        const li = document.createElement('li');\n        li.setAttribute(\"role\", \"option\");\n        if (realOption.disabled) {\n            li.classList.add('disabled');\n            li.setAttribute(\"aria-disabled\", 'true');\n        }\n        if (type === 'optgroup-option')\n            li.classList.add(type);\n        // Text / Checkbox\n        const span = document.createElement('span');\n        if (this.isMultiple)\n            span.innerHTML = `<label><input type=\"checkbox\"${realOption.disabled ? ' disabled=\"disabled\"' : ''}><span>${realOption.innerHTML}</span></label>`;\n        else\n            span.innerHTML = realOption.innerHTML;\n        li.appendChild(span);\n        // add Icon\n        const iconUrl = realOption.getAttribute('data-icon');\n        const classes = realOption.getAttribute('class');\n        if (iconUrl) {\n            const img = (0, cash_dom_1.default)(`<img alt=\"\" class=\"${classes}\" src=\"${iconUrl}\">`);\n            img[0].setAttribute(\"aria-hidden\", 'true');\n            li.prepend(img[0]);\n        }\n        // Check for multiple type\n        (0, cash_dom_1.default)(this.dropdownOptions).append(li);\n        return li;\n    }\n    _selectValue(value) {\n        value.el.selected = true;\n        value.optionEl.classList.add('selected');\n        value.optionEl.setAttribute(\"aria-selected\", true);\n        const checkbox = value.optionEl.querySelector('input[type=\"checkbox\"]');\n        if (checkbox)\n            checkbox.checked = true;\n    }\n    _deselectValue(value) {\n        value.el.selected = false;\n        value.optionEl.classList.remove('selected');\n        value.optionEl.setAttribute(\"aria-selected\", false);\n        const checkbox = value.optionEl.querySelector('input[type=\"checkbox\"]');\n        if (checkbox)\n            checkbox.checked = false;\n    }\n    _deselectAll() {\n        this._values.forEach((value) => {\n            this._deselectValue(value);\n        });\n    }\n    _isValueSelected(value) {\n        const realValues = this.getSelectedValues();\n        return realValues.some((realValue) => realValue === value.el.value);\n    }\n    _toggleEntryFromArray(value) {\n        const isSelected = this._isValueSelected(value);\n        if (isSelected)\n            this._deselectValue(value);\n        else\n            this._selectValue(value);\n    }\n    _getSelectedOptions() {\n        return Array.prototype.filter.call(this.el.selectedOptions, (realOption) => realOption);\n    }\n    _setValueToInput() {\n        const realOptions = this._getSelectedOptions();\n        const values = this._values.filter((value) => realOptions.indexOf(value.el) >= 0);\n        const texts = values.map((value) => value.optionEl.querySelector('span').innerText.trim());\n        // Set input-text to first Option with empty value which indicates a description like \"choose your option\"\n        if (texts.length === 0) {\n            const firstDisabledOption = this.$el.find('option:disabled').eq(0);\n            if (firstDisabledOption.length > 0 && firstDisabledOption[0].value === '') {\n                this.input.value = firstDisabledOption.text();\n                return;\n            }\n        }\n        this.input.value = texts.join(', ');\n    }\n    _setSelectedStates() {\n        this._values.forEach((value) => {\n            const optionIsSelected = (0, cash_dom_1.default)(value.el).prop('selected');\n            (0, cash_dom_1.default)(value.optionEl)\n                .find('input[type=\"checkbox\"]')\n                .prop('checked', optionIsSelected);\n            if (optionIsSelected) {\n                this._activateOption((0, cash_dom_1.default)(this.dropdownOptions), (0, cash_dom_1.default)(value.optionEl));\n            }\n            else {\n                (0, cash_dom_1.default)(value.optionEl).removeClass('selected');\n                (0, cash_dom_1.default)(value.optionEl).attr(\"aria-selected\", 'false');\n            }\n        });\n    }\n    _activateOption(ul, li) {\n        if (!li)\n            return;\n        if (!this.isMultiple)\n            ul.find('li.selected').removeClass('selected');\n        (0, cash_dom_1.default)(li).addClass('selected');\n        (0, cash_dom_1.default)(li).attr(\"aria-selected\", 'true');\n    }\n    getSelectedValues() {\n        return this._getSelectedOptions().map((realOption) => realOption.value);\n    }\n}\nexports.FormSelect = FormSelect;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc1LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDZDQUF3QztBQUN4Qyw2REFBdUM7QUFDdkMsMENBQTZCO0FBRTNCLElBQUksU0FBUyxHQUFHO0lBQ2QsT0FBTyxFQUFFLEVBQUU7SUFDWCxlQUFlLEVBQUUsRUFBRTtDQUNwQixDQUFDO0FBRUYsTUFBYSxVQUFXLFNBQVEscUJBQVM7SUFhdkMsWUFBWSxFQUFFLEVBQUUsT0FBTztRQUNyQixLQUFLLENBQUMsVUFBVSxFQUFFLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUMvQixJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDO1lBQUUsT0FBTztRQUNoRCxJQUFJLENBQUMsRUFBVSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7UUFDckMsSUFBSSxDQUFDLE9BQU8sR0FBRyxrQkFBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxFQUFrQixDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNsQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNwQixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUN2QixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUNELE1BQU0sS0FBSyxRQUFRO1FBQ2pCLE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7SUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxPQUFPO1FBQ3RCLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFDRCxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7UUFDbkIsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ3ZDLE9BQU8sT0FBTyxDQUFDLFlBQVksQ0FBQztJQUM5QixDQUFDO0lBQ0QsT0FBTztRQUNMLHNDQUFzQztRQUN0QyxJQUFJLElBQUksQ0FBQyxTQUFTO1lBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxFQUFVLENBQUMsWUFBWSxHQUFHLFNBQVMsQ0FBQztJQUM1QyxDQUFDO0lBQ0QsbUJBQW1CO1FBQ2pCLElBQUksQ0FBQyx3QkFBd0IsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BFLElBQUksQ0FBQyx1QkFBdUIsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hFLHNCQUFDLEVBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQzthQUNwQixJQUFJLENBQUMsbUJBQW1CLENBQUM7YUFDekIsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO1lBQ2QsRUFBRSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQztZQUMzRCxFQUFFLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7Z0JBQ25DLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxPQUFPO29CQUFFLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxRSxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0wsSUFBSSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUM7UUFDbEUsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUNELG9CQUFvQjtRQUNsQixzQkFBQyxFQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7YUFDcEIsSUFBSSxDQUFDLG1CQUFtQixDQUFDO2FBQ3pCLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRTtZQUNkLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUM7UUFDaEUsQ0FBQyxDQUFDLENBQUM7UUFDTCxJQUFJLENBQUMsRUFBRSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUNyRSxJQUFJLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBQ0QsbUJBQW1CLENBQUMsQ0FBQztRQUNuQixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUMxQixDQUFDO0lBQ0Qsa0JBQWtCLENBQUMsQ0FBQztRQUNsQixDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDbkIsSUFBSSxhQUFhLEdBQUcsc0JBQUMsRUFBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pELElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN6QyxDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUNELFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyxLQUFLLENBQUM7WUFBRSxPQUFPLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUk7WUFBRSxPQUFPLEtBQUssQ0FBQztRQUN6QyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLE1BQU07WUFBRSxPQUFPLEtBQUssQ0FBQztRQUN4QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7WUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUFFLE9BQU8sS0FBSyxDQUFDO1FBQ25FLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUNELG9CQUFvQixDQUFDLGFBQWE7UUFDaEMsSUFBSSxDQUFDLHNCQUFDLEVBQUMsYUFBYSxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsc0JBQUMsRUFBQyxhQUFhLENBQUMsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFDcEYsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLEtBQUssYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEYsTUFBTSxzQkFBc0IsR0FBRyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN4RCxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQ25CLGVBQWU7Z0JBQ2YsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ25DO2lCQUFNO2dCQUNMLGdCQUFnQjtnQkFDaEIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO2dCQUNwQixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQzFCO1lBQ0QscUJBQXFCO1lBQ3JCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1lBQ3hCLG1EQUFtRDtZQUNuRCxNQUFNLG9CQUFvQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3RELE1BQU0sbUJBQW1CLEdBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUM1QyxzQkFBc0IsRUFDdEIsb0JBQW9CLENBQ3JCLENBQUM7WUFDRixJQUFJLG1CQUFtQjtnQkFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUNyRDtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVTtZQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDOUMsQ0FBQztJQUNELGlCQUFpQjtRQUNmLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRTtZQUN6QyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUN4QixJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztTQUMzQjtJQUNILENBQUM7SUFDRCxjQUFjO1FBQ1osSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUUxQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDbkMsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUM1RCxhQUFhLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7U0FDL0U7UUFFRCxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxzQkFBQyxFQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBRWpDLDBEQUEwRDtRQUMxRCxJQUFJLFdBQVcsR0FBRyxzQkFBQyxFQUFDLGlDQUFpQyxDQUFDLENBQUM7UUFDdkQsc0JBQUMsRUFBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3BDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRXBDLElBQUssSUFBSSxDQUFDLEVBQVUsQ0FBQyxRQUFRO1lBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRXRFLGtCQUFrQjtRQUNsQixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLGVBQWUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25ELElBQUksQ0FBQyxlQUF1QixDQUFDLEVBQUUsR0FBRyxrQkFBa0IsVUFBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUM7UUFDaEUsc0JBQUMsRUFBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsUUFBUSxDQUM5QixtQ0FBbUMsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLDBCQUEwQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FDMUYsQ0FBQztRQUNGLElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxzQkFBc0IsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFM0UsNEJBQTRCO1FBQzVCLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUU7WUFDOUIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsVUFBVSxFQUFFLEVBQUU7Z0JBQ3pDLElBQUksc0JBQUMsRUFBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUU7b0JBQzlCLFNBQVM7b0JBQ1QsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLDhCQUE4QixDQUN2RCxVQUFVLEVBQ1YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQ3pDLENBQUM7b0JBQ0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFVBQVUsRUFBRSxhQUFhLENBQUMsQ0FBQztpQkFDcEQ7cUJBQU0sSUFBSSxzQkFBQyxFQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRTtvQkFDdkMsV0FBVztvQkFDWCxNQUFNLGFBQWEsR0FBRyxzQkFBQyxFQUFDLFVBQVUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDdkQsSUFBSSxHQUFHLEdBQUcsWUFBWSxHQUFHLFVBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztvQkFDbEMsSUFBSSxXQUFXLEdBQUcsc0JBQUMsRUFDakIsc0RBQXNELEdBQUcsNkJBQTZCLEdBQUcseUJBQXlCLFVBQVUsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FDakssQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDTCxJQUFJLGFBQWEsR0FBRyxFQUFFLENBQUM7b0JBQ3ZCLHNCQUFDLEVBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztvQkFDNUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxVQUFVLEVBQUUsRUFBRTt3QkFDbkMsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLDhCQUE4QixDQUN2RCxVQUFVLEVBQ1YsaUJBQWlCLENBQ2xCLENBQUM7d0JBQ0YsSUFBSSxHQUFHLEdBQUcsWUFBWSxHQUFHLFVBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQzt3QkFDbEMsYUFBYSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUM7d0JBQ3ZCLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQ3hCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLENBQUM7b0JBQ3JELENBQUMsQ0FBQyxDQUFDO29CQUNILFdBQVcsQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztpQkFDaEU7WUFDSCxDQUFDLENBQUMsQ0FBQztTQUNKO1FBQ0Qsc0JBQUMsRUFBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUU3QyxxQkFBcUI7UUFDckIsSUFBSSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLGlCQUFpQixHQUFHLFVBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUM3QyxzQkFBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsa0NBQWtDLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzVDLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLGFBQWEsRUFBRyxJQUFJLENBQUMsZUFBdUIsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN6RSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxlQUFlLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDM0UsSUFBSyxJQUFJLENBQUMsRUFBVSxDQUFDLFFBQVE7WUFBRSxzQkFBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRXRFLHNEQUFzRDtRQUN0RCwrQkFBK0I7UUFDL0IsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxFQUFDO1lBQzFDLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7U0FDakY7YUFDSSxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBQztZQUN4QixJQUFJLEdBQUcsR0FBRyxzQkFBQyxFQUFDLGNBQWMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQzFDLElBQUksR0FBRyxDQUFDLE1BQU0sRUFBQztnQkFDYixJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3BDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO2FBQ3ZCO1NBQ0Y7UUFFRCxnREFBZ0Q7UUFDaEQsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUM7WUFDaEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDN0Q7UUFDRCxJQUFJLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFDO1lBQ3hDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxHQUFHLGlCQUFpQixHQUFHLFVBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNoRDtRQUVELElBQUksSUFBSSxDQUFDLE9BQU8sRUFBQztZQUNmLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2hELElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDdkU7O1lBQ0ksSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRXpELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDO1FBQy9CLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFDO1lBQ3BDLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0QixJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQztnQkFDL0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDbEQ7UUFFRCx3Q0FBd0M7UUFDeEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzVDLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRyxJQUFJLENBQUMsZUFBdUIsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxlQUFlLEVBQUcsSUFBSSxDQUFDLGVBQXVCLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDM0UsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsZUFBZSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztRQUU3QixzQkFBQyxFQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBRXhCLFlBQVk7UUFDWixJQUFJLFlBQVksR0FBRyxzQkFBQyxFQUNsQiwyTEFBMkwsQ0FDNUwsQ0FBQztRQUNGLHNCQUFDLEVBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QyxzQkFBc0I7UUFDdEIsSUFBSSxDQUFFLElBQUksQ0FBQyxFQUFVLENBQUMsUUFBUSxFQUFFO1lBQzlCLElBQUksZUFBZSxHQUFHLGtCQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ2pFLGVBQWUsQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1lBQ3JDLElBQUksYUFBYSxHQUFHLGVBQWUsQ0FBQyxTQUFTLENBQUM7WUFDOUMsSUFBSSxjQUFjLEdBQUcsZUFBZSxDQUFDLFVBQVUsQ0FBQztZQUNoRCxpRkFBaUY7WUFDakYsZUFBZSxDQUFDLFNBQVMsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFO2dCQUNqQyxJQUFJLGNBQWMsR0FBRyxzQkFBQyxFQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7cUJBQ3pDLElBQUksQ0FBQyxXQUFXLENBQUM7cUJBQ2pCLEtBQUssRUFBRSxDQUFDO2dCQUNYLElBQUksY0FBYyxDQUFDLE1BQU0sRUFBRTtvQkFDekIsb0NBQW9DO29CQUNwQyxVQUFDLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztvQkFDakIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLEdBQUcsY0FBYyxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUNwRCxJQUFJLENBQUMsUUFBUSxDQUFDLGlCQUFpQixFQUFFLENBQUM7b0JBQ2xDLFVBQUMsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO29CQUNsQixzQ0FBc0M7b0JBQ3RDLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUU7d0JBQzlCLElBQUksWUFBWSxHQUNkLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLEdBQUc7NEJBQzVDLElBQUksQ0FBQyxlQUErQixDQUFDLHFCQUFxQixFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsNEJBQTRCO3dCQUNqRyxZQUFZLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUMscUJBQXFCO3dCQUM1RSxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUM7cUJBQy9DO2lCQUNGO2dCQUNELGlDQUFpQztnQkFDakMsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUMvQywyQ0FBMkM7Z0JBQzNDLElBQUksYUFBYSxJQUFJLE9BQU8sYUFBYSxLQUFLLFVBQVU7b0JBQ3RELGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDL0MsQ0FBQyxDQUFDO1lBQ0YsNkNBQTZDO1lBQzdDLGVBQWUsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRTtnQkFDbEMsa0NBQWtDO2dCQUNsQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxlQUFlLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ2hELDJDQUEyQztnQkFDM0MsSUFBSSxjQUFjLElBQUksT0FBTyxjQUFjLEtBQUssVUFBVTtvQkFDeEQsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNoRCxDQUFDLENBQUM7WUFDRiwwQ0FBMEM7WUFDMUMsZUFBZSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7WUFDckMsSUFBSSxDQUFDLFFBQVEsR0FBRyxVQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLGVBQWUsQ0FBQyxDQUFDO1NBQzlEO1FBQ0QseUJBQXlCO1FBQ3pCLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBRTFCLDhDQUE4QztRQUM5QyxJQUFJLElBQUksQ0FBQyxPQUFPO1lBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFDRCxrQkFBa0IsQ0FBQyxVQUFVLEVBQUUsYUFBYTtRQUMxQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLGFBQWEsRUFBRSxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUNELGVBQWU7UUFDYixzQkFBQyxFQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7YUFDWixJQUFJLENBQUMsUUFBUSxDQUFDO2FBQ2QsTUFBTSxFQUFFLENBQUM7UUFDWixzQkFBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUN2QixzQkFBQyxFQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNqQyxzQkFBQyxFQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pDLHNCQUFDLEVBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFDRCw4QkFBOEIsQ0FBQyxVQUFVLEVBQUUsSUFBSTtRQUM3QyxNQUFNLEVBQUUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hDLEVBQUUsQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ2xDLElBQUksVUFBVSxDQUFDLFFBQVEsRUFBQztZQUN0QixFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUM3QixFQUFFLENBQUMsWUFBWSxDQUFDLGVBQWUsRUFBRSxNQUFNLENBQUMsQ0FBQztTQUMxQztRQUNELElBQUksSUFBSSxLQUFLLGlCQUFpQjtZQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZELGtCQUFrQjtRQUNsQixNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzVDLElBQUksSUFBSSxDQUFDLFVBQVU7WUFDakIsSUFBSSxDQUFDLFNBQVMsR0FBRyxnQ0FDZixVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsRUFDakQsVUFBVSxVQUFVLENBQUMsU0FBUyxpQkFBaUIsQ0FBQzs7WUFDN0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxVQUFVLENBQUMsU0FBUyxDQUFDO1FBQzNDLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckIsV0FBVztRQUNYLE1BQU0sT0FBTyxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDckQsTUFBTSxPQUFPLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNqRCxJQUFJLE9BQU8sRUFBRTtZQUNYLE1BQU0sR0FBRyxHQUFHLHNCQUFDLEVBQUMsc0JBQXNCLE9BQU8sVUFBVSxPQUFPLElBQUksQ0FBQyxDQUFDO1lBQ2xFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQzNDLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDcEI7UUFDRCwwQkFBMEI7UUFDMUIsc0JBQUMsRUFBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25DLE9BQU8sRUFBRSxDQUFDO0lBQ1osQ0FBQztJQUVELFlBQVksQ0FBQyxLQUFLO1FBQ2hCLEtBQUssQ0FBQyxFQUFFLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUN6QixLQUFLLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDekMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ25ELE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLHdCQUF3QixDQUFDLENBQUM7UUFDeEUsSUFBSSxRQUFRO1lBQUUsUUFBUSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDeEMsQ0FBQztJQUNELGNBQWMsQ0FBQyxLQUFLO1FBQ2xCLEtBQUssQ0FBQyxFQUFFLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUMxQixLQUFLLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDNUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsZUFBZSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3BELE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLHdCQUF3QixDQUFDLENBQUM7UUFDeEUsSUFBSSxRQUFRO1lBQUUsUUFBUSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7SUFDekMsQ0FBQztJQUNELFlBQVk7UUFDVixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQzdCLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDN0IsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0QsZ0JBQWdCLENBQUMsS0FBSztRQUNwQixNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUM1QyxPQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLFNBQVMsS0FBSyxLQUFLLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFDRCxxQkFBcUIsQ0FBQyxLQUFLO1FBQ3pCLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoRCxJQUFJLFVBQVU7WUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDOztZQUN0QyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFDRCxtQkFBbUI7UUFDakIsT0FBTyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFDLEVBQVUsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ25HLENBQUM7SUFFRCxnQkFBZ0I7UUFDZCxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUMvQyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDbEYsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7UUFDM0YsMEdBQTBHO1FBQzFHLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDdEIsTUFBTSxtQkFBbUIsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuRSxJQUFJLG1CQUFtQixDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLEVBQUUsRUFBRTtnQkFDekUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsbUJBQW1CLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQzlDLE9BQU87YUFDUjtTQUNGO1FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBQ0Qsa0JBQWtCO1FBQ2hCLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7WUFDN0IsTUFBTSxnQkFBZ0IsR0FBRyxzQkFBQyxFQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDdEQsc0JBQUMsRUFBQyxLQUFLLENBQUMsUUFBUSxDQUFDO2lCQUNkLElBQUksQ0FBQyx3QkFBd0IsQ0FBQztpQkFDOUIsSUFBSSxDQUFDLFNBQVMsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3JDLElBQUksZ0JBQWdCLEVBQUU7Z0JBQ3BCLElBQUksQ0FBQyxlQUFlLENBQUMsc0JBQUMsRUFBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUUsc0JBQUMsRUFBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQzthQUNsRTtpQkFBTTtnQkFDTCxzQkFBQyxFQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQzFDLHNCQUFDLEVBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsT0FBTyxDQUFDLENBQUM7YUFDbEQ7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFDRCxlQUFlLENBQUMsRUFBRSxFQUFFLEVBQUU7UUFDcEIsSUFBSSxDQUFDLEVBQUU7WUFBRSxPQUFPO1FBQ2hCLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVTtZQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3JFLHNCQUFDLEVBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzNCLHNCQUFDLEVBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsaUJBQWlCO1FBQ2YsT0FBTyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMxRSxDQUFDO0NBQ0Y7QUEvWUQsZ0NBK1lDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTS8uL3NyYy9zZWxlY3QudHM/NWFkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCAkLCB7IFNlbGVjdG9yIH0gZnJvbSBcImNhc2gtZG9tXCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5cbiAgbGV0IF9kZWZhdWx0cyA9IHtcbiAgICBjbGFzc2VzOiAnJyxcbiAgICBkcm9wZG93bk9wdGlvbnM6IHt9XG4gIH07XG5cbiAgZXhwb3J0IGNsYXNzIEZvcm1TZWxlY3QgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGlzTXVsdGlwbGU6IGFueTtcbiAgICBwcml2YXRlIF92YWx1ZXM6IGFueVtdO1xuICAgIGxhYmVsRWw6IGFueTtcbiAgICBwcml2YXRlIF9sYWJlbEZvcjogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9oYW5kbGVTZWxlY3RDaGFuZ2VCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZU9wdGlvbkNsaWNrQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVJbnB1dENsaWNrQm91bmQ6IGFueTtcbiAgICBkcm9wZG93bk9wdGlvbnM6IEhUTUxFbGVtZW50O1xuICAgIGlucHV0OiBhbnk7XG4gICAgZHJvcGRvd246IGFueTtcbiAgICB3cmFwcGVyOiBIVE1MRGl2RWxlbWVudDtcbiAgICAkc2VsZWN0T3B0aW9uczogYW55O1xuICAgIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgICBzdXBlcihGb3JtU2VsZWN0LCBlbCwgb3B0aW9ucyk7XG4gICAgICBpZiAodGhpcy4kZWwuaGFzQ2xhc3MoJ2Jyb3dzZXItZGVmYXVsdCcpKSByZXR1cm47XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fRm9ybVNlbGVjdCA9IHRoaXM7XG4gICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgRm9ybVNlbGVjdC5kZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICB0aGlzLmlzTXVsdGlwbGUgPSB0aGlzLiRlbC5wcm9wKCdtdWx0aXBsZScpO1xuICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnRhYkluZGV4ID0gLTE7XG4gICAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICAgIHRoaXMubGFiZWxFbCA9IG51bGw7XG4gICAgICB0aGlzLl9sYWJlbEZvciA9IGZhbHNlO1xuICAgICAgdGhpcy5fc2V0dXBEcm9wZG93bigpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cbiAgICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX0Zvcm1TZWxlY3Q7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAvLyBSZXR1cm5zIGxhYmVsIHRvIGl0cyBvcmlnaW5hbCBvd25lclxuICAgICAgaWYgKHRoaXMuX2xhYmVsRm9yKSB0aGlzLmxhYmVsRWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIHRoaXMuZWwuaWQpO1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgdGhpcy5fcmVtb3ZlRHJvcGRvd24oKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9Gb3JtU2VsZWN0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5faGFuZGxlU2VsZWN0Q2hhbmdlQm91bmQgPSB0aGlzLl9oYW5kbGVTZWxlY3RDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZU9wdGlvbkNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVPcHRpb25DbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRDbGljay5iaW5kKHRoaXMpO1xuICAgICAgJCh0aGlzLmRyb3Bkb3duT3B0aW9ucylcbiAgICAgICAgLmZpbmQoJ2xpOm5vdCgub3B0Z3JvdXApJylcbiAgICAgICAgLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPcHRpb25DbGlja0JvdW5kKTtcbiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gXCIgXCIgfHwgZS5rZXkgPT09IFwiRW50ZXJcIikgdGhpcy5faGFuZGxlT3B0aW9uQ2xpY2tCb3VuZChlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZVNlbGVjdENoYW5nZUJvdW5kKTtcbiAgICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQpO1xuICAgIH1cbiAgICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgICQodGhpcy5kcm9wZG93bk9wdGlvbnMpXG4gICAgICAgIC5maW5kKCdsaTpub3QoLm9wdGdyb3VwKScpXG4gICAgICAgIC5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlT3B0aW9uQ2xpY2tCb3VuZCk7XG4gICAgICAgIH0pO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVTZWxlY3RDaGFuZ2VCb3VuZCk7XG4gICAgICB0aGlzLmlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kKTtcbiAgICB9XG4gICAgX2hhbmRsZVNlbGVjdENoYW5nZShlKSB7XG4gICAgICB0aGlzLl9zZXRWYWx1ZVRvSW5wdXQoKTtcbiAgICB9XG4gICAgX2hhbmRsZU9wdGlvbkNsaWNrKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxldCB2aXJ0dWFsT3B0aW9uID0gJChlLnRhcmdldCkuY2xvc2VzdCgnbGknKVswXTtcbiAgICAgIHRoaXMuX3NlbGVjdE9wdGlvbkVsZW1lbnQodmlydHVhbE9wdGlvbik7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgICBfYXJyYXlzRXF1YWwoYSwgYikge1xuICAgICAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkgaWYgKGFbaV0gIT09IGJbaV0pIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBfc2VsZWN0T3B0aW9uRWxlbWVudCh2aXJ0dWFsT3B0aW9uKSB7XG4gICAgICBpZiAoISQodmlydHVhbE9wdGlvbikuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgJiYgISQodmlydHVhbE9wdGlvbikuaGFzQ2xhc3MoJ29wdGdyb3VwJykpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl92YWx1ZXMuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUub3B0aW9uRWwgPT09IHZpcnR1YWxPcHRpb24pWzBdO1xuICAgICAgICBjb25zdCBwcmV2aW91c1NlbGVjdGVkVmFsdWVzID0gdGhpcy5nZXRTZWxlY3RlZFZhbHVlcygpO1xuICAgICAgICBpZiAodGhpcy5pc011bHRpcGxlKSB7XG4gICAgICAgICAgLy8gTXVsdGktU2VsZWN0XG4gICAgICAgICAgdGhpcy5fdG9nZ2xlRW50cnlGcm9tQXJyYXkodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFNpbmdsZS1TZWxlY3RcbiAgICAgICAgICB0aGlzLl9kZXNlbGVjdEFsbCgpO1xuICAgICAgICAgIHRoaXMuX3NlbGVjdFZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWZyZXNoIElucHV0LVRleHRcbiAgICAgICAgdGhpcy5fc2V0VmFsdWVUb0lucHV0KCk7XG4gICAgICAgIC8vIFRyaWdnZXIgQ2hhbmdlLUV2ZW50IG9ubHkgd2hlbiBkYXRhIGlzIGRpZmZlcmVudFxuICAgICAgICBjb25zdCBhY3R1YWxTZWxlY3RlZFZhbHVlcyA9IHRoaXMuZ2V0U2VsZWN0ZWRWYWx1ZXMoKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uSGFzQ2hhbmdlZCA9ICF0aGlzLl9hcnJheXNFcXVhbChcbiAgICAgICAgICBwcmV2aW91c1NlbGVjdGVkVmFsdWVzLFxuICAgICAgICAgIGFjdHVhbFNlbGVjdGVkVmFsdWVzXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzZWxlY3Rpb25IYXNDaGFuZ2VkKSB0aGlzLiRlbC50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5pc011bHRpcGxlKSB0aGlzLmRyb3Bkb3duLmNsb3NlKCk7XG4gICAgfVxuICAgIF9oYW5kbGVJbnB1dENsaWNrKCkge1xuICAgICAgaWYgKHRoaXMuZHJvcGRvd24gJiYgdGhpcy5kcm9wZG93bi5pc09wZW4pIHsgIFxuICAgICAgICB0aGlzLl9zZXRWYWx1ZVRvSW5wdXQoKTtcbiAgICAgICAgdGhpcy5fc2V0U2VsZWN0ZWRTdGF0ZXMoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgX3NldHVwRHJvcGRvd24oKSB7XG4gICAgICB0aGlzLndyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKCdzZWxlY3Qtd3JhcHBlcicpO1xuICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2lucHV0LWZpZWxkJyk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbUNsYXNzZXMgPSB0aGlzLm9wdGlvbnMuY2xhc3Nlcy5zcGxpdCgnICcpIHx8IFtdO1xuICAgICAgICBjdXN0b21DbGFzc2VzLmZvckVhY2goY3VzdG9tQ2xhc3MgPT4gdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoY3VzdG9tQ2xhc3MpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy4kZWwuYmVmb3JlKCQodGhpcy53cmFwcGVyKSk7XG5cbiAgICAgIC8vIE1vdmUgYWN0dWFsIHNlbGVjdCBlbGVtZW50IGludG8gb3ZlcmZsb3cgaGlkZGVuIHdyYXBwZXJcbiAgICAgIGxldCAkaGlkZVNlbGVjdCA9ICQoJzxkaXYgY2xhc3M9XCJoaWRlLXNlbGVjdFwiPjwvZGl2PicpO1xuICAgICAgJCh0aGlzLndyYXBwZXIpLmFwcGVuZCgkaGlkZVNlbGVjdCk7XG4gICAgICAkaGlkZVNlbGVjdFswXS5hcHBlbmRDaGlsZCh0aGlzLmVsKTtcblxuICAgICAgaWYgKCh0aGlzLmVsIGFzIGFueSkuZGlzYWJsZWQpIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuXG4gICAgICAvLyBDcmVhdGUgZHJvcGRvd25cbiAgICAgIHRoaXMuJHNlbGVjdE9wdGlvbnMgPSB0aGlzLiRlbC5jaGlsZHJlbignb3B0aW9uLCBvcHRncm91cCcpO1xuICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgKHRoaXMuZHJvcGRvd25PcHRpb25zIGFzIGFueSkuaWQgPSBgc2VsZWN0LW9wdGlvbnMtJHtNLmd1aWQoKX1gO1xuICAgICAgJCh0aGlzLmRyb3Bkb3duT3B0aW9ucykuYWRkQ2xhc3MoXG4gICAgICAgICdkcm9wZG93bi1jb250ZW50IHNlbGVjdC1kcm9wZG93biAnICsgKHRoaXMuaXNNdWx0aXBsZSA/ICdtdWx0aXBsZS1zZWxlY3QtZHJvcGRvd24nIDogJycpXG4gICAgICApO1xuICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImxpc3Rib3hcIik7XG4gICAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5zZXRBdHRyaWJ1dGUoXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiLCB0aGlzLmlzTXVsdGlwbGUpO1xuXG4gICAgICAvLyBDcmVhdGUgZHJvcGRvd24gc3RydWN0dXJlXG4gICAgICBpZiAodGhpcy4kc2VsZWN0T3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy4kc2VsZWN0T3B0aW9ucy5lYWNoKChpLCByZWFsT3B0aW9uKSA9PiB7XG4gICAgICAgICAgaWYgKCQocmVhbE9wdGlvbikuaXMoJ29wdGlvbicpKSB7XG4gICAgICAgICAgICAvLyBPcHRpb25cbiAgICAgICAgICAgIGNvbnN0IHZpcnR1YWxPcHRpb24gPSB0aGlzLl9jcmVhdGVBbmRBcHBlbmRPcHRpb25XaXRoSWNvbihcbiAgICAgICAgICAgICAgcmVhbE9wdGlvbixcbiAgICAgICAgICAgICAgdGhpcy5pc011bHRpcGxlID8gJ211bHRpcGxlJyA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuX2FkZE9wdGlvblRvVmFsdWVzKHJlYWxPcHRpb24sIHZpcnR1YWxPcHRpb24pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJChyZWFsT3B0aW9uKS5pcygnb3B0Z3JvdXAnKSkge1xuICAgICAgICAgICAgLy8gT3B0Z3JvdXBcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdE9wdGlvbnMgPSAkKHJlYWxPcHRpb24pLmNoaWxkcmVuKCdvcHRpb24nKTtcbiAgICAgICAgICAgIGxldCBsSWQgPSBcIm9wdC1ncm91cC1cIiArIE0uZ3VpZCgpO1xuICAgICAgICAgICAgbGV0IGdyb3VwUGFyZW50ID0gJChcbiAgICAgICAgICAgICAgYDxsaSBjbGFzcz1cIm9wdGdyb3VwXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbGxlZGJ5PVwiJHtsSWR9XCIgdGFiaW5kZXg9XCItMVwiPjxzcGFuIGlkPVwiJHtsSWR9XCIgcm9sZT1cInByZXNlbnRhdGlvblwiPiR7cmVhbE9wdGlvbi5nZXRBdHRyaWJ1dGUoJ2xhYmVsJyl9PC9zcGFuPjwvbGk+YFxuICAgICAgICAgICAgKVswXTtcbiAgICAgICAgICAgIGxldCBncm91cENoaWxkcmVuID0gW107XG4gICAgICAgICAgICAkKHRoaXMuZHJvcGRvd25PcHRpb25zKS5hcHBlbmQoZ3JvdXBQYXJlbnQpO1xuICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5lYWNoKChpLCByZWFsT3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHZpcnR1YWxPcHRpb24gPSB0aGlzLl9jcmVhdGVBbmRBcHBlbmRPcHRpb25XaXRoSWNvbihcbiAgICAgICAgICAgICAgICByZWFsT3B0aW9uLFxuICAgICAgICAgICAgICAgICdvcHRncm91cC1vcHRpb24nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGxldCBjSWQgPSBcIm9wdC1jaGlsZC1cIiArIE0uZ3VpZCgpO1xuICAgICAgICAgICAgICB2aXJ0dWFsT3B0aW9uLmlkID0gY0lkO1xuICAgICAgICAgICAgICBncm91cENoaWxkcmVuLnB1c2goY0lkKTtcbiAgICAgICAgICAgICAgdGhpcy5fYWRkT3B0aW9uVG9WYWx1ZXMocmVhbE9wdGlvbiwgdmlydHVhbE9wdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdyb3VwUGFyZW50LnNldEF0dHJpYnV0ZShcImFyaWEtb3duc1wiLCBncm91cENoaWxkcmVuLmpvaW4oXCIgXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgJCh0aGlzLndyYXBwZXIpLmFwcGVuZCh0aGlzLmRyb3Bkb3duT3B0aW9ucyk7XG5cbiAgICAgIC8vIEFkZCBpbnB1dCBkcm9wZG93blxuICAgICAgdGhpcy5pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICB0aGlzLmlucHV0LmlkID0gXCJtX3NlbGVjdC1pbnB1dC1cIiArIE0uZ3VpZCgpO1xuICAgICAgJCh0aGlzLmlucHV0KS5hZGRDbGFzcygnc2VsZWN0LWRyb3Bkb3duIGRyb3Bkb3duLXRyaWdnZXInKTtcbiAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdyZWFkb25seScsICd0cnVlJyk7XG4gICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnLCAodGhpcy5kcm9wZG93bk9wdGlvbnMgYXMgYW55KS5pZCk7XG4gICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWFkb25seScsICd0cnVlJyk7XG4gICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZShcImFyaWEtcmVxdWlyZWRcIiwgdGhpcy5lbC5oYXNBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiKSk7XG4gICAgICBpZiAoKHRoaXMuZWwgYXMgYW55KS5kaXNhYmxlZCkgJCh0aGlzLmlucHV0KS5wcm9wKCdkaXNhYmxlZCcsICd0cnVlJyk7XG5cbiAgICAgIC8vIE1ha2VzIG5ldyBlbGVtZW50IHRvIGFzc3VtZSBIVE1MJ3Mgc2VsZWN0IGxhYmVsIGFuZFxuICAgICAgLy8gICBhcmlhLWF0dHJpYnV0ZXMsIGlmIGV4aXN0c1xuICAgICAgaWYgKHRoaXMuZWwuaGFzQXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIpKXtcbiAgICAgICAgdGhpcy5sYWJlbEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIikpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5lbC5pZCAhPSBcIlwiKXtcbiAgICAgICAgbGV0IGxibCA9ICQoYGxhYmVsW2Zvcj0nJHt0aGlzLmVsLmlkfSddYCk7XG4gICAgICAgIGlmIChsYmwubGVuZ3RoKXtcbiAgICAgICAgICB0aGlzLmxhYmVsRWwgPSBsYmxbMF07XG4gICAgICAgICAgdGhpcy5sYWJlbEVsLnJlbW92ZUF0dHJpYnV0ZShcImZvclwiKTtcbiAgICAgICAgICB0aGlzLl9sYWJlbEZvciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVHJpZXMgdG8gZmluZCBhIHZhbGlkIGxhYmVsIGluIHBhcmVudCBlbGVtZW50XG4gICAgICBpZiAoIXRoaXMubGFiZWxFbCl7XG4gICAgICAgIHRoaXMubGFiZWxFbCA9IHRoaXMuZWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMubGFiZWxFbCAmJiB0aGlzLmxhYmVsRWwuaWQgPT0gXCJcIil7XG4gICAgICAgIHRoaXMubGFiZWxFbC5pZCA9IFwibV9zZWxlY3QtbGFiZWwtXCIgKyBNLmd1aWQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubGFiZWxFbCl7XG4gICAgICAgIHRoaXMubGFiZWxFbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgdGhpcy5pbnB1dC5pZCk7XG4gICAgICAgIHRoaXMuZHJvcGRvd25PcHRpb25zLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiLCB0aGlzLmxhYmVsRWwuaWQpO1xuICAgICAgfVxuICAgICAgZWxzZSB0aGlzLmRyb3Bkb3duT3B0aW9ucy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwiXCIpO1xuXG4gICAgICBsZXQgYXR0cnMgPSB0aGlzLmVsLmF0dHJpYnV0ZXM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgKytpKXtcbiAgICAgICAgY29uc3QgYXR0ciA9IGF0dHJzW2ldO1xuICAgICAgICBpZiAoYXR0ci5uYW1lLnN0YXJ0c1dpdGgoXCJhcmlhLVwiKSlcbiAgICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZShhdHRyLm5hbWUsIGF0dHIudmFsdWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGRzIGFyaWEtYXR0cmlidXRlcyB0byBpbnB1dCBlbGVtZW50XG4gICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJjb21ib2JveFwiKTtcbiAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKFwiYXJpYS1vd25zXCIsICh0aGlzLmRyb3Bkb3duT3B0aW9ucyBhcyBhbnkpLmlkKTtcbiAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKFwiYXJpYS1jb250cm9sc1wiLCAodGhpcy5kcm9wZG93bk9wdGlvbnMgYXMgYW55KS5pZCk7XG4gICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgZmFsc2UpO1xuICAgICAgdGhpcy5pbnB1dC5wbGFjZWhvbGRlciA9IFwiIFwiO1xuXG4gICAgICAkKHRoaXMud3JhcHBlcikucHJlcGVuZCh0aGlzLmlucHV0KTsgICAgICBcbiAgICAgIHRoaXMuX3NldFZhbHVlVG9JbnB1dCgpO1xuXG4gICAgICAvLyBBZGQgY2FyZXRcbiAgICAgIGxldCBkcm9wZG93bkljb24gPSAkKFxuICAgICAgICAnPHN2ZyBjbGFzcz1cImNhcmV0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48cGF0aCBkPVwiTTcgMTBsNSA1IDUtNXpcIi8+PHBhdGggZD1cIk0wIDBoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiLz48L3N2Zz4nXG4gICAgICApO1xuICAgICAgJCh0aGlzLndyYXBwZXIpLnByZXBlbmQoZHJvcGRvd25JY29uWzBdKTtcbiAgICAgIC8vIEluaXRpYWxpemUgZHJvcGRvd25cbiAgICAgIGlmICghKHRoaXMuZWwgYXMgYW55KS5kaXNhYmxlZCkge1xuICAgICAgICBsZXQgZHJvcGRvd25PcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMub3B0aW9ucy5kcm9wZG93bk9wdGlvbnMpO1xuICAgICAgICBkcm9wZG93bk9wdGlvbnMuY292ZXJUcmlnZ2VyID0gZmFsc2U7XG4gICAgICAgIGxldCB1c2VyT25PcGVuRW5kID0gZHJvcGRvd25PcHRpb25zLm9uT3BlbkVuZDtcbiAgICAgICAgbGV0IHVzZXJPbkNsb3NlRW5kID0gZHJvcGRvd25PcHRpb25zLm9uQ2xvc2VFbmQ7XG4gICAgICAgIC8vIEFkZCBjYWxsYmFjayBmb3IgY2VudGVyaW5nIHNlbGVjdGVkIG9wdGlvbiB3aGVuIGRyb3Bkb3duIGNvbnRlbnQgaXMgc2Nyb2xsYWJsZVxuICAgICAgICBkcm9wZG93bk9wdGlvbnMub25PcGVuRW5kID0gKGVsKSA9PiB7XG4gICAgICAgICAgbGV0IHNlbGVjdGVkT3B0aW9uID0gJCh0aGlzLmRyb3Bkb3duT3B0aW9ucylcbiAgICAgICAgICAgIC5maW5kKCcuc2VsZWN0ZWQnKVxuICAgICAgICAgICAgLmZpcnN0KCk7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkT3B0aW9uLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gRm9jdXMgc2VsZWN0ZWQgb3B0aW9uIGluIGRyb3Bkb3duXG4gICAgICAgICAgICBNLmtleURvd24gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kcm9wZG93bi5mb2N1c2VkSW5kZXggPSBzZWxlY3RlZE9wdGlvbi5pbmRleCgpO1xuICAgICAgICAgICAgdGhpcy5kcm9wZG93bi5fZm9jdXNGb2N1c2VkSXRlbSgpO1xuICAgICAgICAgICAgTS5rZXlEb3duID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBIYW5kbGUgc2Nyb2xsaW5nIHRvIHNlbGVjdGVkIG9wdGlvblxuICAgICAgICAgICAgaWYgKHRoaXMuZHJvcGRvd24uaXNTY3JvbGxhYmxlKSB7XG4gICAgICAgICAgICAgIGxldCBzY3JvbGxPZmZzZXQgPVxuICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtXG4gICAgICAgICAgICAgICAgKHRoaXMuZHJvcGRvd25PcHRpb25zIGFzIEhUTUxFbGVtZW50KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7IC8vIHNjcm9sbCB0byBzZWxlY3RlZCBvcHRpb25cbiAgICAgICAgICAgICAgc2Nyb2xsT2Zmc2V0IC09IHRoaXMuZHJvcGRvd25PcHRpb25zLmNsaWVudEhlaWdodCAvIDI7IC8vIGNlbnRlciBpbiBkcm9wZG93blxuICAgICAgICAgICAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5zY3JvbGxUb3AgPSBzY3JvbGxPZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFNldHMgXCJhcmlhLWV4cGFuZGVkXCIgdG8gXCJ0cnVlXCJcbiAgICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgLy8gSGFuZGxlIHVzZXIgZGVjbGFyZWQgb25PcGVuRW5kIGlmIG5lZWRlZFxuICAgICAgICAgIGlmICh1c2VyT25PcGVuRW5kICYmIHR5cGVvZiB1c2VyT25PcGVuRW5kID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgdXNlck9uT3BlbkVuZC5jYWxsKHRoaXMuZHJvcGRvd24sIHRoaXMuZWwpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBBZGQgY2FsbGJhY2sgZm9yIHJlc2V0aW5nIFwiZXhwYW5kZWRcIiBzdGF0ZVxuICAgICAgICBkcm9wZG93bk9wdGlvbnMub25DbG9zZUVuZCA9IChlbCkgPT4ge1xuICAgICAgICAgIC8vIFNldHMgXCJhcmlhLWV4cGFuZGVkXCIgdG8gXCJmYWxzZVwiXG4gICAgICAgICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIGZhbHNlKTtcbiAgICAgICAgICAvLyBIYW5kbGUgdXNlciBkZWNsYXJlZCBvbk9wZW5FbmQgaWYgbmVlZGVkXG4gICAgICAgICAgaWYgKHVzZXJPbkNsb3NlRW5kICYmIHR5cGVvZiB1c2VyT25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHVzZXJPbkNsb3NlRW5kLmNhbGwodGhpcy5kcm9wZG93biwgdGhpcy5lbCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFByZXZlbnQgZHJvcGRvd24gZnJvbSBjbG9zaW5nIHRvbyBlYXJseVxuICAgICAgICBkcm9wZG93bk9wdGlvbnMuY2xvc2VPbkNsaWNrID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZHJvcGRvd24gPSBNLkRyb3Bkb3duLmluaXQodGhpcy5pbnB1dCwgZHJvcGRvd25PcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIC8vIEFkZCBpbml0aWFsIHNlbGVjdGlvbnNcbiAgICAgIHRoaXMuX3NldFNlbGVjdGVkU3RhdGVzKCk7XG5cbiAgICAgIC8vICEgV29ya2Fyb3VuZCBmb3IgTGFiZWw6IG1vdmUgbGFiZWwgdXAgYWdhaW5cbiAgICAgIGlmICh0aGlzLmxhYmVsRWwpIHRoaXMuaW5wdXQuYWZ0ZXIodGhpcy5sYWJlbEVsKTtcbiAgICB9XG4gICAgX2FkZE9wdGlvblRvVmFsdWVzKHJlYWxPcHRpb24sIHZpcnR1YWxPcHRpb24pIHtcbiAgICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHsgZWw6IHJlYWxPcHRpb24sIG9wdGlvbkVsOiB2aXJ0dWFsT3B0aW9uIH0pO1xuICAgIH1cbiAgICBfcmVtb3ZlRHJvcGRvd24oKSB7XG4gICAgICAkKHRoaXMud3JhcHBlcilcbiAgICAgICAgLmZpbmQoJy5jYXJldCcpXG4gICAgICAgIC5yZW1vdmUoKTtcbiAgICAgICQodGhpcy5pbnB1dCkucmVtb3ZlKCk7XG4gICAgICAkKHRoaXMuZHJvcGRvd25PcHRpb25zKS5yZW1vdmUoKTtcbiAgICAgICQodGhpcy53cmFwcGVyKS5iZWZvcmUodGhpcy4kZWwpO1xuICAgICAgJCh0aGlzLndyYXBwZXIpLnJlbW92ZSgpO1xuICAgIH1cbiAgICBfY3JlYXRlQW5kQXBwZW5kT3B0aW9uV2l0aEljb24ocmVhbE9wdGlvbiwgdHlwZSkge1xuICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgbGkuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm9wdGlvblwiKTtcbiAgICAgIGlmIChyZWFsT3B0aW9uLmRpc2FibGVkKXtcbiAgICAgICAgbGkuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgICAgbGkuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLCAndHJ1ZScpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgPT09ICdvcHRncm91cC1vcHRpb24nKSBsaS5jbGFzc0xpc3QuYWRkKHR5cGUpO1xuICAgICAgLy8gVGV4dCAvIENoZWNrYm94XG4gICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsZSlcbiAgICAgICAgc3Bhbi5pbm5lckhUTUwgPSBgPGxhYmVsPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiR7XG4gICAgICAgICAgcmVhbE9wdGlvbi5kaXNhYmxlZCA/ICcgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiJyA6ICcnXG4gICAgICAgIH0+PHNwYW4+JHtyZWFsT3B0aW9uLmlubmVySFRNTH08L3NwYW4+PC9sYWJlbD5gO1xuICAgICAgZWxzZSBzcGFuLmlubmVySFRNTCA9IHJlYWxPcHRpb24uaW5uZXJIVE1MO1xuICAgICAgbGkuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAvLyBhZGQgSWNvblxuICAgICAgY29uc3QgaWNvblVybCA9IHJlYWxPcHRpb24uZ2V0QXR0cmlidXRlKCdkYXRhLWljb24nKTtcbiAgICAgIGNvbnN0IGNsYXNzZXMgPSByZWFsT3B0aW9uLmdldEF0dHJpYnV0ZSgnY2xhc3MnKTtcbiAgICAgIGlmIChpY29uVXJsKSB7XG4gICAgICAgIGNvbnN0IGltZyA9ICQoYDxpbWcgYWx0PVwiXCIgY2xhc3M9XCIke2NsYXNzZXN9XCIgc3JjPVwiJHtpY29uVXJsfVwiPmApO1xuICAgICAgICBpbWdbMF0uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgJ3RydWUnKTtcbiAgICAgICAgbGkucHJlcGVuZChpbWdbMF0pO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgZm9yIG11bHRpcGxlIHR5cGVcbiAgICAgICQodGhpcy5kcm9wZG93bk9wdGlvbnMpLmFwcGVuZChsaSk7XG4gICAgICByZXR1cm4gbGk7XG4gICAgfVxuXG4gICAgX3NlbGVjdFZhbHVlKHZhbHVlKSB7XG4gICAgICB2YWx1ZS5lbC5zZWxlY3RlZCA9IHRydWU7XG4gICAgICB2YWx1ZS5vcHRpb25FbC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgdmFsdWUub3B0aW9uRWwuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCB0cnVlKTtcbiAgICAgIGNvbnN0IGNoZWNrYm94ID0gdmFsdWUub3B0aW9uRWwucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgICBpZiAoY2hlY2tib3gpIGNoZWNrYm94LmNoZWNrZWQgPSB0cnVlO1xuICAgIH1cbiAgICBfZGVzZWxlY3RWYWx1ZSh2YWx1ZSkge1xuICAgICAgdmFsdWUuZWwuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIHZhbHVlLm9wdGlvbkVsLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICB2YWx1ZS5vcHRpb25FbC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIGZhbHNlKTtcbiAgICAgIGNvbnN0IGNoZWNrYm94ID0gdmFsdWUub3B0aW9uRWwucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgICBpZiAoY2hlY2tib3gpIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgX2Rlc2VsZWN0QWxsKCkge1xuICAgICAgdGhpcy5fdmFsdWVzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgIHRoaXMuX2Rlc2VsZWN0VmFsdWUodmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIF9pc1ZhbHVlU2VsZWN0ZWQodmFsdWUpIHtcbiAgICAgIGNvbnN0IHJlYWxWYWx1ZXMgPSB0aGlzLmdldFNlbGVjdGVkVmFsdWVzKCk7XG4gICAgICByZXR1cm4gcmVhbFZhbHVlcy5zb21lKChyZWFsVmFsdWUpID0+IHJlYWxWYWx1ZSA9PT0gdmFsdWUuZWwudmFsdWUpO1xuICAgIH1cbiAgICBfdG9nZ2xlRW50cnlGcm9tQXJyYXkodmFsdWUpIHtcbiAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSB0aGlzLl9pc1ZhbHVlU2VsZWN0ZWQodmFsdWUpO1xuICAgICAgaWYgKGlzU2VsZWN0ZWQpIHRoaXMuX2Rlc2VsZWN0VmFsdWUodmFsdWUpO1xuICAgICAgZWxzZSB0aGlzLl9zZWxlY3RWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuICAgIF9nZXRTZWxlY3RlZE9wdGlvbnMoKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKCh0aGlzLmVsIGFzIGFueSkuc2VsZWN0ZWRPcHRpb25zLCAocmVhbE9wdGlvbikgPT4gcmVhbE9wdGlvbik7XG4gICAgfVxuXG4gICAgX3NldFZhbHVlVG9JbnB1dCgpIHtcbiAgICAgIGNvbnN0IHJlYWxPcHRpb25zID0gdGhpcy5fZ2V0U2VsZWN0ZWRPcHRpb25zKCk7XG4gICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLl92YWx1ZXMuZmlsdGVyKCh2YWx1ZSkgPT4gcmVhbE9wdGlvbnMuaW5kZXhPZih2YWx1ZS5lbCkgPj0gMCk7XG4gICAgICBjb25zdCB0ZXh0cyA9IHZhbHVlcy5tYXAoKHZhbHVlKSA9PiB2YWx1ZS5vcHRpb25FbC5xdWVyeVNlbGVjdG9yKCdzcGFuJykuaW5uZXJUZXh0LnRyaW0oKSk7XG4gICAgICAvLyBTZXQgaW5wdXQtdGV4dCB0byBmaXJzdCBPcHRpb24gd2l0aCBlbXB0eSB2YWx1ZSB3aGljaCBpbmRpY2F0ZXMgYSBkZXNjcmlwdGlvbiBsaWtlIFwiY2hvb3NlIHlvdXIgb3B0aW9uXCJcbiAgICAgIGlmICh0ZXh0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgZmlyc3REaXNhYmxlZE9wdGlvbiA9IHRoaXMuJGVsLmZpbmQoJ29wdGlvbjpkaXNhYmxlZCcpLmVxKDApO1xuICAgICAgICBpZiAoZmlyc3REaXNhYmxlZE9wdGlvbi5sZW5ndGggPiAwICYmIGZpcnN0RGlzYWJsZWRPcHRpb25bMF0udmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IGZpcnN0RGlzYWJsZWRPcHRpb24udGV4dCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IHRleHRzLmpvaW4oJywgJyk7XG4gICAgfVxuICAgIF9zZXRTZWxlY3RlZFN0YXRlcygpIHtcbiAgICAgIHRoaXMuX3ZhbHVlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb25Jc1NlbGVjdGVkID0gJCh2YWx1ZS5lbCkucHJvcCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgJCh2YWx1ZS5vcHRpb25FbClcbiAgICAgICAgICAuZmluZCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJylcbiAgICAgICAgICAucHJvcCgnY2hlY2tlZCcsIG9wdGlvbklzU2VsZWN0ZWQpO1xuICAgICAgICBpZiAob3B0aW9uSXNTZWxlY3RlZCkge1xuICAgICAgICAgIHRoaXMuX2FjdGl2YXRlT3B0aW9uKCQodGhpcy5kcm9wZG93bk9wdGlvbnMpLCAkKHZhbHVlLm9wdGlvbkVsKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCh2YWx1ZS5vcHRpb25FbCkucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgJCh2YWx1ZS5vcHRpb25FbCkuYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwgJ2ZhbHNlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBfYWN0aXZhdGVPcHRpb24odWwsIGxpKSB7XG4gICAgICBpZiAoIWxpKSByZXR1cm47XG4gICAgICBpZiAoIXRoaXMuaXNNdWx0aXBsZSkgdWwuZmluZCgnbGkuc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICQobGkpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgJChsaSkuYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwgJ3RydWUnKTtcbiAgICB9XG5cbiAgICBnZXRTZWxlY3RlZFZhbHVlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRTZWxlY3RlZE9wdGlvbnMoKS5tYXAoKHJlYWxPcHRpb24pID0+IHJlYWxPcHRpb24udmFsdWUpO1xuICAgIH1cbiAgfVxuICBcblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///375\n")},288:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Sidenav = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst global_1 = __webpack_require__(238);\nconst animejs_1 = __importDefault(__webpack_require__(30));\nlet _defaults = {\n    edge: 'left',\n    draggable: true,\n    dragTargetWidth: '10px',\n    inDuration: 250,\n    outDuration: 200,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    preventScrolling: true\n};\n/**\n * @class\n */\nclass Sidenav extends component_1.Component {\n    /**\n     * Construct Sidenav instance and set up overlay\n     * @constructor\n     * @param {Element} el\n     * @param {Object} options\n     */\n    constructor(el, options) {\n        super(Sidenav, el, options);\n        this.el.M_Sidenav = this;\n        this.id = this.$el.attr('id');\n        /**\n         * Options for the Sidenav\n         * @member Sidenav#options\n         * @prop {String} [edge='left'] - Side of screen on which Sidenav appears\n         * @prop {Boolean} [draggable=true] - Allow swipe gestures to open/close Sidenav\n         * @prop {String} [dragTargetWidth='10px'] - Width of the area where you can start dragging\n         * @prop {Number} [inDuration=250] - Length in ms of enter transition\n         * @prop {Number} [outDuration=200] - Length in ms of exit transition\n         * @prop {Function} onOpenStart - Function called when sidenav starts entering\n         * @prop {Function} onOpenEnd - Function called when sidenav finishes entering\n         * @prop {Function} onCloseStart - Function called when sidenav starts exiting\n         * @prop {Function} onCloseEnd - Function called when sidenav finishes exiting\n         */\n        this.options = cash_dom_1.default.extend({}, Sidenav.defaults, options);\n        /**\n         * Describes open/close state of Sidenav\n         * @type {Boolean}\n         */\n        this.isOpen = false;\n        /**\n         * Describes if Sidenav is fixed\n         * @type {Boolean}\n         */\n        this.isFixed = this.el.classList.contains('sidenav-fixed');\n        /**\n         * Describes if Sidenav is being draggeed\n         * @type {Boolean}\n         */\n        this.isDragged = false;\n        // Window size variables for window resize checks\n        this.lastWindowWidth = window.innerWidth;\n        this.lastWindowHeight = window.innerHeight;\n        this._createOverlay();\n        this._createDragTarget();\n        this._setupEventHandlers();\n        this._setupClasses();\n        this._setupFixed();\n        Sidenav._sidenavs.push(this);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    /**\n     * Get Instance\n     */\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Sidenav;\n    }\n    /**\n     * Teardown component\n     */\n    destroy() {\n        this._removeEventHandlers();\n        this._enableBodyScrolling();\n        this._overlay.parentNode.removeChild(this._overlay);\n        this.dragTarget.parentNode.removeChild(this.dragTarget);\n        this.el.M_Sidenav = undefined;\n        this.el.style.transform = '';\n        let index = Sidenav._sidenavs.indexOf(this);\n        if (index >= 0) {\n            Sidenav._sidenavs.splice(index, 1);\n        }\n    }\n    _createOverlay() {\n        let overlay = document.createElement('div');\n        this._closeBound = this.close.bind(this);\n        overlay.classList.add('sidenav-overlay');\n        overlay.addEventListener('click', this._closeBound);\n        document.body.appendChild(overlay);\n        this._overlay = overlay;\n    }\n    _setupEventHandlers() {\n        if (Sidenav._sidenavs.length === 0) {\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n        this._handleDragTargetDragBound = this._handleDragTargetDrag.bind(this);\n        this._handleDragTargetReleaseBound = this._handleDragTargetRelease.bind(this);\n        this._handleCloseDragBound = this._handleCloseDrag.bind(this);\n        this._handleCloseReleaseBound = this._handleCloseRelease.bind(this);\n        this._handleCloseTriggerClickBound = this._handleCloseTriggerClick.bind(this);\n        var passiveIfSupported = null;\n        this.dragTarget.addEventListener('touchmove', this._handleDragTargetDragBound, passiveIfSupported);\n        this.dragTarget.addEventListener('touchend', this._handleDragTargetReleaseBound);\n        this._overlay.addEventListener('touchmove', this._handleCloseDragBound, passiveIfSupported);\n        this._overlay.addEventListener('touchend', this._handleCloseReleaseBound);\n        this.el.addEventListener('touchmove', this._handleCloseDragBound, passiveIfSupported);\n        this.el.addEventListener('touchend', this._handleCloseReleaseBound);\n        this.el.addEventListener('click', this._handleCloseTriggerClickBound);\n        // Add resize for side nav fixed\n        if (this.isFixed) {\n            this._handleWindowResizeBound = this._handleWindowResize.bind(this);\n            window.addEventListener('resize', this._handleWindowResizeBound);\n        }\n    }\n    _removeEventHandlers() {\n        if (Sidenav._sidenavs.length === 1) {\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n        this.dragTarget.removeEventListener('touchmove', this._handleDragTargetDragBound);\n        this.dragTarget.removeEventListener('touchend', this._handleDragTargetReleaseBound);\n        this._overlay.removeEventListener('touchmove', this._handleCloseDragBound);\n        this._overlay.removeEventListener('touchend', this._handleCloseReleaseBound);\n        this.el.removeEventListener('touchmove', this._handleCloseDragBound);\n        this.el.removeEventListener('touchend', this._handleCloseReleaseBound);\n        this.el.removeEventListener('click', this._handleCloseTriggerClickBound);\n        // Remove resize for side nav fixed\n        if (this.isFixed) {\n            window.removeEventListener('resize', this._handleWindowResizeBound);\n        }\n    }\n    /**\n     * Handle Trigger Click\n     * @param {Event} e\n     */\n    _handleTriggerClick(e) {\n        let $trigger = (0, cash_dom_1.default)(e.target).closest('.sidenav-trigger');\n        if (e.target && $trigger.length) {\n            let sidenavId = global_1.M.getIdFromTrigger($trigger[0]);\n            let sidenavInstance = document.getElementById(sidenavId).M_Sidenav;\n            if (sidenavInstance) {\n                sidenavInstance.open($trigger);\n            }\n            e.preventDefault();\n        }\n    }\n    /**\n     * Set variables needed at the beginning of drag\n     * and stop any current transition.\n     * @param {Event} e\n     */\n    _startDrag(e) {\n        let clientX = e.targetTouches[0].clientX;\n        this.isDragged = true;\n        this._startingXpos = clientX;\n        this._xPos = this._startingXpos;\n        this._time = Date.now();\n        this._width = this.el.getBoundingClientRect().width;\n        this._overlay.style.display = 'block';\n        this._initialScrollTop = this.isOpen ? this.el.scrollTop : global_1.M.getDocumentScrollTop();\n        this._verticallyScrolling = false;\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this._overlay);\n    }\n    /**\n     * Set variables needed at each drag move update tick\n     * @param {Event} e\n     */\n    _dragMoveUpdate(e) {\n        let clientX = e.targetTouches[0].clientX;\n        let currentScrollTop = this.isOpen ? this.el.scrollTop : global_1.M.getDocumentScrollTop();\n        this.deltaX = Math.abs(this._xPos - clientX);\n        this._xPos = clientX;\n        this.velocityX = this.deltaX / (Date.now() - this._time);\n        this._time = Date.now();\n        if (this._initialScrollTop !== currentScrollTop) {\n            this._verticallyScrolling = true;\n        }\n    }\n    /**\n     * Handles Dragging of Sidenav\n     * @param {Event} e\n     */\n    _handleDragTargetDrag(e) {\n        // Check if draggable\n        if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\n            return;\n        }\n        // If not being dragged, set initial drag start variables\n        if (!this.isDragged) {\n            this._startDrag(e);\n        }\n        // Run touchmove updates\n        this._dragMoveUpdate(e);\n        // Calculate raw deltaX\n        let totalDeltaX = this._xPos - this._startingXpos;\n        // dragDirection is the attempted user drag direction\n        let dragDirection = totalDeltaX > 0 ? 'right' : 'left';\n        // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\n        totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\n        if (this.options.edge === dragDirection) {\n            totalDeltaX = 0;\n        }\n        /**\n         * transformX is the drag displacement\n         * transformPrefix is the initial transform placement\n         * Invert values if Sidenav is right edge\n         */\n        let transformX = totalDeltaX;\n        let transformPrefix = 'translateX(-100%)';\n        if (this.options.edge === 'right') {\n            transformPrefix = 'translateX(100%)';\n            transformX = -transformX;\n        }\n        // Calculate open/close percentage of sidenav, with open = 1 and close = 0\n        this.percentOpen = Math.min(1, totalDeltaX / this._width);\n        // Set transform and opacity styles\n        this.el.style.transform = `${transformPrefix} translateX(${transformX}px)`;\n        this._overlay.style.opacity = this.percentOpen;\n    }\n    /**\n     * Handle Drag Target Release\n     */\n    _handleDragTargetRelease() {\n        if (this.isDragged) {\n            if (this.percentOpen > 0.2) {\n                this.open();\n            }\n            else {\n                this._animateOut();\n            }\n            this.isDragged = false;\n            this._verticallyScrolling = false;\n        }\n    }\n    /**\n     * Handle Close Drag\n     * @param {Event} e\n     */\n    _handleCloseDrag(e) {\n        if (this.isOpen) {\n            // Check if draggable\n            if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\n                return;\n            }\n            // If not being dragged, set initial drag start variables\n            if (!this.isDragged) {\n                this._startDrag(e);\n            }\n            // Run touchmove updates\n            this._dragMoveUpdate(e);\n            // Calculate raw deltaX\n            let totalDeltaX = this._xPos - this._startingXpos;\n            // dragDirection is the attempted user drag direction\n            let dragDirection = totalDeltaX > 0 ? 'right' : 'left';\n            // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\n            totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\n            if (this.options.edge !== dragDirection) {\n                totalDeltaX = 0;\n            }\n            let transformX = -totalDeltaX;\n            if (this.options.edge === 'right') {\n                transformX = -transformX;\n            }\n            // Calculate open/close percentage of sidenav, with open = 1 and close = 0\n            this.percentOpen = Math.min(1, 1 - totalDeltaX / this._width);\n            // Set transform and opacity styles\n            this.el.style.transform = `translateX(${transformX}px)`;\n            this._overlay.style.opacity = this.percentOpen;\n        }\n    }\n    /**\n     * Handle Close Release\n     */\n    _handleCloseRelease() {\n        if (this.isOpen && this.isDragged) {\n            if (this.percentOpen > 0.8) {\n                this._animateIn();\n            }\n            else {\n                this.close();\n            }\n            this.isDragged = false;\n            this._verticallyScrolling = false;\n        }\n    }\n    /**\n     * Handles closing of Sidenav when element with class .sidenav-close\n     */\n    _handleCloseTriggerClick(e) {\n        let $closeTrigger = (0, cash_dom_1.default)(e.target).closest('.sidenav-close');\n        if ($closeTrigger.length && !this._isCurrentlyFixed()) {\n            this.close();\n        }\n    }\n    /**\n     * Handle Window Resize\n     */\n    _handleWindowResize() {\n        // Only handle horizontal resizes\n        if (this.lastWindowWidth !== window.innerWidth) {\n            if (window.innerWidth > 992) {\n                this.open();\n            }\n            else {\n                this.close();\n            }\n        }\n        this.lastWindowWidth = window.innerWidth;\n        this.lastWindowHeight = window.innerHeight;\n    }\n    _setupClasses() {\n        if (this.options.edge === 'right') {\n            this.el.classList.add('right-aligned');\n            this.dragTarget.classList.add('right-aligned');\n        }\n    }\n    _removeClasses() {\n        this.el.classList.remove('right-aligned');\n        this.dragTarget.classList.remove('right-aligned');\n    }\n    _setupFixed() {\n        if (this._isCurrentlyFixed()) {\n            this.open();\n        }\n    }\n    _isCurrentlyFixed() {\n        return this.isFixed && window.innerWidth > 992;\n    }\n    _createDragTarget() {\n        let dragTarget = document.createElement('div');\n        dragTarget.classList.add('drag-target');\n        dragTarget.style.width = this.options.dragTargetWidth;\n        document.body.appendChild(dragTarget);\n        this.dragTarget = dragTarget;\n    }\n    _preventBodyScrolling() {\n        let body = document.body;\n        body.style.overflow = 'hidden';\n    }\n    _enableBodyScrolling() {\n        let body = document.body;\n        body.style.overflow = '';\n    }\n    open() {\n        if (this.isOpen === true) {\n            return;\n        }\n        this.isOpen = true;\n        // Run onOpenStart callback\n        if (typeof this.options.onOpenStart === 'function') {\n            this.options.onOpenStart.call(this, this.el);\n        }\n        // Handle fixed Sidenav\n        if (this._isCurrentlyFixed()) {\n            animejs_1.default.remove(this.el);\n            (0, animejs_1.default)({\n                targets: this.el,\n                translateX: 0,\n                duration: 0,\n                easing: 'easeOutQuad'\n            });\n            this._enableBodyScrolling();\n            this._overlay.style.display = 'none';\n            // Handle non-fixed Sidenav\n        }\n        else {\n            if (this.options.preventScrolling) {\n                this._preventBodyScrolling();\n            }\n            if (!this.isDragged || this.percentOpen != 1) {\n                this._animateIn();\n            }\n        }\n    }\n    close() {\n        if (this.isOpen === false) {\n            return;\n        }\n        this.isOpen = false;\n        // Run onCloseStart callback\n        if (typeof this.options.onCloseStart === 'function') {\n            this.options.onCloseStart.call(this, this.el);\n        }\n        // Handle fixed Sidenav\n        if (this._isCurrentlyFixed()) {\n            let transformX = this.options.edge === 'left' ? '-105%' : '105%';\n            this.el.style.transform = `translateX(${transformX})`;\n            // Handle non-fixed Sidenav\n        }\n        else {\n            this._enableBodyScrolling();\n            if (!this.isDragged || this.percentOpen != 0) {\n                this._animateOut();\n            }\n            else {\n                this._overlay.style.display = 'none';\n            }\n        }\n    }\n    _animateIn() {\n        this._animateSidenavIn();\n        this._animateOverlayIn();\n    }\n    _animateSidenavIn() {\n        let slideOutPercent = this.options.edge === 'left' ? -1 : 1;\n        if (this.isDragged) {\n            slideOutPercent =\n                this.options.edge === 'left'\n                    ? slideOutPercent + this.percentOpen\n                    : slideOutPercent - this.percentOpen;\n        }\n        animejs_1.default.remove(this.el);\n        (0, animejs_1.default)({\n            targets: this.el,\n            translateX: [`${slideOutPercent * 100}%`, 0],\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                // Run onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _animateOverlayIn() {\n        let start = 0;\n        if (this.isDragged) {\n            start = this.percentOpen;\n        }\n        else {\n            (0, cash_dom_1.default)(this._overlay).css({\n                display: 'block'\n            });\n        }\n        animejs_1.default.remove(this._overlay);\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: [start, 1],\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad'\n        });\n    }\n    _animateOut() {\n        this._animateSidenavOut();\n        this._animateOverlayOut();\n    }\n    _animateSidenavOut() {\n        let endPercent = this.options.edge === 'left' ? -1 : 1;\n        let slideOutPercent = 0;\n        if (this.isDragged) {\n            slideOutPercent =\n                this.options.edge === 'left'\n                    ? endPercent + this.percentOpen\n                    : endPercent - this.percentOpen;\n        }\n        animejs_1.default.remove(this.el);\n        (0, animejs_1.default)({\n            targets: this.el,\n            translateX: [`${slideOutPercent * 100}%`, `${endPercent * 105}%`],\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                // Run onOpenEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _animateOverlayOut() {\n        animejs_1.default.remove(this._overlay);\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                (0, cash_dom_1.default)(this._overlay).css('display', 'none');\n            }\n        });\n    }\n}\nexports.Sidenav = Sidenav;\n(() => {\n    Sidenav._sidenavs = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVEsRUFBRSxHQUFHLEVBQUU7Z0JBQ2Isc0JBQUMsRUFBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztZQUMxQyxDQUFDO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUtGO0FBbmtCRCwwQkFta0JDO0FBSEM7SUFDRSxPQUFPLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztBQUN6QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTS8uL3NyYy9zaWRlbmF2LnRzPzgyYjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgJCBmcm9tIFwiY2FzaC1kb21cIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcbmltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5cbiAgbGV0IF9kZWZhdWx0cyA9IHtcbiAgICBlZGdlOiAnbGVmdCcsXG4gICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgIGRyYWdUYXJnZXRXaWR0aDogJzEwcHgnLFxuICAgIGluRHVyYXRpb246IDI1MCxcbiAgICBvdXREdXJhdGlvbjogMjAwLFxuICAgIG9uT3BlblN0YXJ0OiBudWxsLFxuICAgIG9uT3BlbkVuZDogbnVsbCxcbiAgICBvbkNsb3NlU3RhcnQ6IG51bGwsXG4gICAgb25DbG9zZUVuZDogbnVsbCxcbiAgICBwcmV2ZW50U2Nyb2xsaW5nOiB0cnVlXG4gIH07XG5cbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKi9cbiAgZXhwb3J0IGNsYXNzIFNpZGVuYXYgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGlkOiBhbnk7XG4gICAgaXNPcGVuOiBib29sZWFuO1xuICAgIGlzRml4ZWQ6IGJvb2xlYW47XG4gICAgaXNEcmFnZ2VkOiBib29sZWFuO1xuICAgIGxhc3RXaW5kb3dXaWR0aDogbnVtYmVyO1xuICAgIGxhc3RXaW5kb3dIZWlnaHQ6IG51bWJlcjtcbiAgICBzdGF0aWMgX3NpZGVuYXZzOiBhbnk7XG4gICAgcHJpdmF0ZSBfb3ZlcmxheTogYW55O1xuICAgIGRyYWdUYXJnZXQ6IEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfY2xvc2VCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZURyYWdUYXJnZXREcmFnQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVEcmFnVGFyZ2V0UmVsZWFzZUJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlQ2xvc2VEcmFnQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVDbG9zZVJlbGVhc2VCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUNsb3NlVHJpZ2dlckNsaWNrQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZDogYW55O1xuICAgIF9zdGFydGluZ1hwb3M6IGFueTtcbiAgICBwcml2YXRlIF94UG9zOiBhbnk7XG4gICAgcHJpdmF0ZSBfdGltZTogbnVtYmVyO1xuICAgIHByaXZhdGUgX3dpZHRoOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbFNjcm9sbFRvcDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3ZlcnRpY2FsbHlTY3JvbGxpbmc6IGJvb2xlYW47XG4gICAgZGVsdGFYOiBudW1iZXI7ICAgIFxuICAgIHZlbG9jaXR5WDogbnVtYmVyO1xuICAgIHBlcmNlbnRPcGVuOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IFNpZGVuYXYgaW5zdGFuY2UgYW5kIHNldCB1cCBvdmVybGF5XG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKFNpZGVuYXYsIGVsLCBvcHRpb25zKTtcblxuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX1NpZGVuYXYgPSB0aGlzO1xuICAgICAgdGhpcy5pZCA9IHRoaXMuJGVsLmF0dHIoJ2lkJyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIFNpZGVuYXZcbiAgICAgICAqIEBtZW1iZXIgU2lkZW5hdiNvcHRpb25zXG4gICAgICAgKiBAcHJvcCB7U3RyaW5nfSBbZWRnZT0nbGVmdCddIC0gU2lkZSBvZiBzY3JlZW4gb24gd2hpY2ggU2lkZW5hdiBhcHBlYXJzXG4gICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gW2RyYWdnYWJsZT10cnVlXSAtIEFsbG93IHN3aXBlIGdlc3R1cmVzIHRvIG9wZW4vY2xvc2UgU2lkZW5hdlxuICAgICAgICogQHByb3Age1N0cmluZ30gW2RyYWdUYXJnZXRXaWR0aD0nMTBweCddIC0gV2lkdGggb2YgdGhlIGFyZWEgd2hlcmUgeW91IGNhbiBzdGFydCBkcmFnZ2luZ1xuICAgICAgICogQHByb3Age051bWJlcn0gW2luRHVyYXRpb249MjUwXSAtIExlbmd0aCBpbiBtcyBvZiBlbnRlciB0cmFuc2l0aW9uXG4gICAgICAgKiBAcHJvcCB7TnVtYmVyfSBbb3V0RHVyYXRpb249MjAwXSAtIExlbmd0aCBpbiBtcyBvZiBleGl0IHRyYW5zaXRpb25cbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25PcGVuU3RhcnQgLSBGdW5jdGlvbiBjYWxsZWQgd2hlbiBzaWRlbmF2IHN0YXJ0cyBlbnRlcmluZ1xuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbk9wZW5FbmQgLSBGdW5jdGlvbiBjYWxsZWQgd2hlbiBzaWRlbmF2IGZpbmlzaGVzIGVudGVyaW5nXG4gICAgICAgKiBAcHJvcCB7RnVuY3Rpb259IG9uQ2xvc2VTdGFydCAtIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHNpZGVuYXYgc3RhcnRzIGV4aXRpbmdcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25DbG9zZUVuZCAtIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHNpZGVuYXYgZmluaXNoZXMgZXhpdGluZ1xuICAgICAgICovXG4gICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgU2lkZW5hdi5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGVzY3JpYmVzIG9wZW4vY2xvc2Ugc3RhdGUgb2YgU2lkZW5hdlxuICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG5cbiAgICAgIC8qKlxuICAgICAgICogRGVzY3JpYmVzIGlmIFNpZGVuYXYgaXMgZml4ZWRcbiAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICovXG4gICAgICB0aGlzLmlzRml4ZWQgPSB0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygnc2lkZW5hdi1maXhlZCcpO1xuXG4gICAgICAvKipcbiAgICAgICAqIERlc2NyaWJlcyBpZiBTaWRlbmF2IGlzIGJlaW5nIGRyYWdnZWVkXG4gICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgdGhpcy5pc0RyYWdnZWQgPSBmYWxzZTtcblxuICAgICAgLy8gV2luZG93IHNpemUgdmFyaWFibGVzIGZvciB3aW5kb3cgcmVzaXplIGNoZWNrc1xuICAgICAgdGhpcy5sYXN0V2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMubGFzdFdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgICAgdGhpcy5fY3JlYXRlT3ZlcmxheSgpO1xuICAgICAgdGhpcy5fY3JlYXRlRHJhZ1RhcmdldCgpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICB0aGlzLl9zZXR1cENsYXNzZXMoKTtcbiAgICAgIHRoaXMuX3NldHVwRml4ZWQoKTtcblxuICAgICAgU2lkZW5hdi5fc2lkZW5hdnMucHVzaCh0aGlzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEluc3RhbmNlXG4gICAgICovXG4gICAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICBsZXQgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fU2lkZW5hdjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgdGhpcy5fZW5hYmxlQm9keVNjcm9sbGluZygpO1xuICAgICAgdGhpcy5fb3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX292ZXJsYXkpO1xuICAgICAgdGhpcy5kcmFnVGFyZ2V0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kcmFnVGFyZ2V0KTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9TaWRlbmF2ID0gdW5kZWZpbmVkO1xuICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuXG4gICAgICBsZXQgaW5kZXggPSBTaWRlbmF2Ll9zaWRlbmF2cy5pbmRleE9mKHRoaXMpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgU2lkZW5hdi5fc2lkZW5hdnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlT3ZlcmxheSgpIHtcbiAgICAgIGxldCBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLl9jbG9zZUJvdW5kID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdzaWRlbmF2LW92ZXJsYXknKTtcblxuICAgICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2Nsb3NlQm91bmQpO1xuXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuICAgICAgdGhpcy5fb3ZlcmxheSA9IG92ZXJsYXk7XG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIGlmIChTaWRlbmF2Ll9zaWRlbmF2cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyaWdnZXJDbGljayk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2hhbmRsZURyYWdUYXJnZXREcmFnQm91bmQgPSB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0RHJhZy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlRHJhZ1RhcmdldFJlbGVhc2VCb3VuZCA9IHRoaXMuX2hhbmRsZURyYWdUYXJnZXRSZWxlYXNlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVDbG9zZURyYWdCb3VuZCA9IHRoaXMuX2hhbmRsZUNsb3NlRHJhZy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlQ2xvc2VSZWxlYXNlQm91bmQgPSB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2UuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUNsb3NlVHJpZ2dlckNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVDbG9zZVRyaWdnZXJDbGljay5iaW5kKHRoaXMpO1xuICAgICAgdmFyIHBhc3NpdmVJZlN1cHBvcnRlZDogYm9vbGVhbiA9IG51bGw7XG5cbiAgICAgIHRoaXMuZHJhZ1RhcmdldC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0RHJhZ0JvdW5kLCBwYXNzaXZlSWZTdXBwb3J0ZWQpO1xuICAgICAgdGhpcy5kcmFnVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRHJhZ1RhcmdldFJlbGVhc2VCb3VuZCk7XG4gICAgICB0aGlzLl9vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUNsb3NlRHJhZ0JvdW5kLCBwYXNzaXZlSWZTdXBwb3J0ZWQpO1xuICAgICAgdGhpcy5fb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZUNsb3NlUmVsZWFzZUJvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2xvc2VEcmFnQm91bmQsIHBhc3NpdmVJZlN1cHBvcnRlZCk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ2xvc2VSZWxlYXNlQm91bmQpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsb3NlVHJpZ2dlckNsaWNrQm91bmQpO1xuXG4gICAgICAvLyBBZGQgcmVzaXplIGZvciBzaWRlIG5hdiBmaXhlZFxuICAgICAgaWYgKHRoaXMuaXNGaXhlZCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCA9IHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplQm91bmQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgaWYgKFNpZGVuYXYuX3NpZGVuYXZzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kcmFnVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURyYWdUYXJnZXREcmFnQm91bmQpO1xuICAgICAgdGhpcy5kcmFnVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRHJhZ1RhcmdldFJlbGVhc2VCb3VuZCk7XG4gICAgICB0aGlzLl9vdmVybGF5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUNsb3NlRHJhZ0JvdW5kKTtcbiAgICAgIHRoaXMuX292ZXJsYXkucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2VCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUNsb3NlRHJhZ0JvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2VCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xvc2VUcmlnZ2VyQ2xpY2tCb3VuZCk7XG5cbiAgICAgIC8vIFJlbW92ZSByZXNpemUgZm9yIHNpZGUgbmF2IGZpeGVkXG4gICAgICBpZiAodGhpcy5pc0ZpeGVkKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIFRyaWdnZXIgQ2xpY2tcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgX2hhbmRsZVRyaWdnZXJDbGljayhlKSB7XG4gICAgICBsZXQgJHRyaWdnZXIgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuc2lkZW5hdi10cmlnZ2VyJyk7XG4gICAgICBpZiAoZS50YXJnZXQgJiYgJHRyaWdnZXIubGVuZ3RoKSB7XG4gICAgICAgIGxldCBzaWRlbmF2SWQgPSBNLmdldElkRnJvbVRyaWdnZXIoJHRyaWdnZXJbMF0pO1xuXG4gICAgICAgIGxldCBzaWRlbmF2SW5zdGFuY2UgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2lkZW5hdklkKSBhcyBhbnkpLk1fU2lkZW5hdjtcbiAgICAgICAgaWYgKHNpZGVuYXZJbnN0YW5jZSkge1xuICAgICAgICAgIHNpZGVuYXZJbnN0YW5jZS5vcGVuKCR0cmlnZ2VyKTtcbiAgICAgICAgfVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHZhcmlhYmxlcyBuZWVkZWQgYXQgdGhlIGJlZ2lubmluZyBvZiBkcmFnXG4gICAgICogYW5kIHN0b3AgYW55IGN1cnJlbnQgdHJhbnNpdGlvbi5cbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgX3N0YXJ0RHJhZyhlKSB7XG4gICAgICBsZXQgY2xpZW50WCA9IGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgdGhpcy5pc0RyYWdnZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fc3RhcnRpbmdYcG9zID0gY2xpZW50WDtcbiAgICAgIHRoaXMuX3hQb3MgPSB0aGlzLl9zdGFydGluZ1hwb3M7XG4gICAgICB0aGlzLl90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIHRoaXMuX3dpZHRoID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB0aGlzLl9pbml0aWFsU2Nyb2xsVG9wID0gdGhpcy5pc09wZW4gPyB0aGlzLmVsLnNjcm9sbFRvcCA6IE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKTtcbiAgICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgICAgYW5pbS5yZW1vdmUodGhpcy5fb3ZlcmxheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHZhcmlhYmxlcyBuZWVkZWQgYXQgZWFjaCBkcmFnIG1vdmUgdXBkYXRlIHRpY2tcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgX2RyYWdNb3ZlVXBkYXRlKGUpIHtcbiAgICAgIGxldCBjbGllbnRYID0gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICBsZXQgY3VycmVudFNjcm9sbFRvcCA9IHRoaXMuaXNPcGVuID8gdGhpcy5lbC5zY3JvbGxUb3AgOiBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCk7XG4gICAgICB0aGlzLmRlbHRhWCA9IE1hdGguYWJzKHRoaXMuX3hQb3MgLSBjbGllbnRYKTtcbiAgICAgIHRoaXMuX3hQb3MgPSBjbGllbnRYO1xuICAgICAgdGhpcy52ZWxvY2l0eVggPSB0aGlzLmRlbHRhWCAvIChEYXRlLm5vdygpIC0gdGhpcy5fdGltZSk7XG4gICAgICB0aGlzLl90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGlmICh0aGlzLl9pbml0aWFsU2Nyb2xsVG9wICE9PSBjdXJyZW50U2Nyb2xsVG9wKSB7XG4gICAgICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgRHJhZ2dpbmcgb2YgU2lkZW5hdlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgKi9cbiAgICBfaGFuZGxlRHJhZ1RhcmdldERyYWcoZSkge1xuICAgICAgLy8gQ2hlY2sgaWYgZHJhZ2dhYmxlXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5kcmFnZ2FibGUgfHwgdGhpcy5faXNDdXJyZW50bHlGaXhlZCgpIHx8IHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBub3QgYmVpbmcgZHJhZ2dlZCwgc2V0IGluaXRpYWwgZHJhZyBzdGFydCB2YXJpYWJsZXNcbiAgICAgIGlmICghdGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgICAgdGhpcy5fc3RhcnREcmFnKGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBSdW4gdG91Y2htb3ZlIHVwZGF0ZXNcbiAgICAgIHRoaXMuX2RyYWdNb3ZlVXBkYXRlKGUpO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgcmF3IGRlbHRhWFxuICAgICAgbGV0IHRvdGFsRGVsdGFYID0gdGhpcy5feFBvcyAtIHRoaXMuX3N0YXJ0aW5nWHBvcztcblxuICAgICAgLy8gZHJhZ0RpcmVjdGlvbiBpcyB0aGUgYXR0ZW1wdGVkIHVzZXIgZHJhZyBkaXJlY3Rpb25cbiAgICAgIGxldCBkcmFnRGlyZWN0aW9uID0gdG90YWxEZWx0YVggPiAwID8gJ3JpZ2h0JyA6ICdsZWZ0JztcblxuICAgICAgLy8gRG9uJ3QgYWxsb3cgdG90YWxEZWx0YVggdG8gZXhjZWVkIFNpZGVuYXYgd2lkdGggb3IgYmUgZHJhZ2dlZCBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uXG4gICAgICB0b3RhbERlbHRhWCA9IE1hdGgubWluKHRoaXMuX3dpZHRoLCBNYXRoLmFicyh0b3RhbERlbHRhWCkpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lZGdlID09PSBkcmFnRGlyZWN0aW9uKSB7XG4gICAgICAgIHRvdGFsRGVsdGFYID0gMDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiB0cmFuc2Zvcm1YIGlzIHRoZSBkcmFnIGRpc3BsYWNlbWVudFxuICAgICAgICogdHJhbnNmb3JtUHJlZml4IGlzIHRoZSBpbml0aWFsIHRyYW5zZm9ybSBwbGFjZW1lbnRcbiAgICAgICAqIEludmVydCB2YWx1ZXMgaWYgU2lkZW5hdiBpcyByaWdodCBlZGdlXG4gICAgICAgKi9cbiAgICAgIGxldCB0cmFuc2Zvcm1YID0gdG90YWxEZWx0YVg7XG4gICAgICBsZXQgdHJhbnNmb3JtUHJlZml4ID0gJ3RyYW5zbGF0ZVgoLTEwMCUpJztcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICB0cmFuc2Zvcm1QcmVmaXggPSAndHJhbnNsYXRlWCgxMDAlKSc7XG4gICAgICAgIHRyYW5zZm9ybVggPSAtdHJhbnNmb3JtWDtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsY3VsYXRlIG9wZW4vY2xvc2UgcGVyY2VudGFnZSBvZiBzaWRlbmF2LCB3aXRoIG9wZW4gPSAxIGFuZCBjbG9zZSA9IDBcbiAgICAgIHRoaXMucGVyY2VudE9wZW4gPSBNYXRoLm1pbigxLCB0b3RhbERlbHRhWCAvIHRoaXMuX3dpZHRoKTtcblxuICAgICAgLy8gU2V0IHRyYW5zZm9ybSBhbmQgb3BhY2l0eSBzdHlsZXNcbiAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50cmFuc2Zvcm0gPSBgJHt0cmFuc2Zvcm1QcmVmaXh9IHRyYW5zbGF0ZVgoJHt0cmFuc2Zvcm1YfXB4KWA7XG4gICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLm9wYWNpdHkgPSB0aGlzLnBlcmNlbnRPcGVuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBEcmFnIFRhcmdldCBSZWxlYXNlXG4gICAgICovXG4gICAgX2hhbmRsZURyYWdUYXJnZXRSZWxlYXNlKCkge1xuICAgICAgaWYgKHRoaXMuaXNEcmFnZ2VkKSB7XG4gICAgICAgIGlmICh0aGlzLnBlcmNlbnRPcGVuID4gMC4yKSB7XG4gICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0RyYWdnZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdmVydGljYWxseVNjcm9sbGluZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBDbG9zZSBEcmFnXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqL1xuICAgIF9oYW5kbGVDbG9zZURyYWcoZSkge1xuICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGRyYWdnYWJsZVxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kcmFnZ2FibGUgfHwgdGhpcy5faXNDdXJyZW50bHlGaXhlZCgpIHx8IHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBub3QgYmVpbmcgZHJhZ2dlZCwgc2V0IGluaXRpYWwgZHJhZyBzdGFydCB2YXJpYWJsZXNcbiAgICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICAgIHRoaXMuX3N0YXJ0RHJhZyhlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1biB0b3VjaG1vdmUgdXBkYXRlc1xuICAgICAgICB0aGlzLl9kcmFnTW92ZVVwZGF0ZShlKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgcmF3IGRlbHRhWFxuICAgICAgICBsZXQgdG90YWxEZWx0YVggPSB0aGlzLl94UG9zIC0gdGhpcy5fc3RhcnRpbmdYcG9zO1xuXG4gICAgICAgIC8vIGRyYWdEaXJlY3Rpb24gaXMgdGhlIGF0dGVtcHRlZCB1c2VyIGRyYWcgZGlyZWN0aW9uXG4gICAgICAgIGxldCBkcmFnRGlyZWN0aW9uID0gdG90YWxEZWx0YVggPiAwID8gJ3JpZ2h0JyA6ICdsZWZ0JztcblxuICAgICAgICAvLyBEb24ndCBhbGxvdyB0b3RhbERlbHRhWCB0byBleGNlZWQgU2lkZW5hdiB3aWR0aCBvciBiZSBkcmFnZ2VkIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb25cbiAgICAgICAgdG90YWxEZWx0YVggPSBNYXRoLm1pbih0aGlzLl93aWR0aCwgTWF0aC5hYnModG90YWxEZWx0YVgpKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5lZGdlICE9PSBkcmFnRGlyZWN0aW9uKSB7XG4gICAgICAgICAgdG90YWxEZWx0YVggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRyYW5zZm9ybVggPSAtdG90YWxEZWx0YVg7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIHRyYW5zZm9ybVggPSAtdHJhbnNmb3JtWDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBvcGVuL2Nsb3NlIHBlcmNlbnRhZ2Ugb2Ygc2lkZW5hdiwgd2l0aCBvcGVuID0gMSBhbmQgY2xvc2UgPSAwXG4gICAgICAgIHRoaXMucGVyY2VudE9wZW4gPSBNYXRoLm1pbigxLCAxIC0gdG90YWxEZWx0YVggLyB0aGlzLl93aWR0aCk7XG5cbiAgICAgICAgLy8gU2V0IHRyYW5zZm9ybSBhbmQgb3BhY2l0eSBzdHlsZXNcbiAgICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dHJhbnNmb3JtWH1weClgO1xuICAgICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLm9wYWNpdHkgPSB0aGlzLnBlcmNlbnRPcGVuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBDbG9zZSBSZWxlYXNlXG4gICAgICovXG4gICAgX2hhbmRsZUNsb3NlUmVsZWFzZSgpIHtcbiAgICAgIGlmICh0aGlzLmlzT3BlbiAmJiB0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICBpZiAodGhpcy5wZXJjZW50T3BlbiA+IDAuOCkge1xuICAgICAgICAgIHRoaXMuX2FuaW1hdGVJbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNEcmFnZ2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGNsb3Npbmcgb2YgU2lkZW5hdiB3aGVuIGVsZW1lbnQgd2l0aCBjbGFzcyAuc2lkZW5hdi1jbG9zZVxuICAgICAqL1xuICAgIF9oYW5kbGVDbG9zZVRyaWdnZXJDbGljayhlKSB7XG4gICAgICBsZXQgJGNsb3NlVHJpZ2dlciA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5zaWRlbmF2LWNsb3NlJyk7XG4gICAgICBpZiAoJGNsb3NlVHJpZ2dlci5sZW5ndGggJiYgIXRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIFdpbmRvdyBSZXNpemVcbiAgICAgKi9cbiAgICBfaGFuZGxlV2luZG93UmVzaXplKCkge1xuICAgICAgLy8gT25seSBoYW5kbGUgaG9yaXpvbnRhbCByZXNpemVzXG4gICAgICBpZiAodGhpcy5sYXN0V2luZG93V2lkdGggIT09IHdpbmRvdy5pbm5lcldpZHRoKSB7XG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDk5Mikge1xuICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmxhc3RXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy5sYXN0V2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH1cblxuICAgIF9zZXR1cENsYXNzZXMoKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgPT09ICdyaWdodCcpIHtcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdyaWdodC1hbGlnbmVkJyk7XG4gICAgICAgIHRoaXMuZHJhZ1RhcmdldC5jbGFzc0xpc3QuYWRkKCdyaWdodC1hbGlnbmVkJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3JlbW92ZUNsYXNzZXMoKSB7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3JpZ2h0LWFsaWduZWQnKTtcbiAgICAgIHRoaXMuZHJhZ1RhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyaWdodC1hbGlnbmVkJyk7XG4gICAgfVxuXG4gICAgX3NldHVwRml4ZWQoKSB7XG4gICAgICBpZiAodGhpcy5faXNDdXJyZW50bHlGaXhlZCgpKSB7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9pc0N1cnJlbnRseUZpeGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNGaXhlZCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IDk5MjtcbiAgICB9XG5cbiAgICBfY3JlYXRlRHJhZ1RhcmdldCgpIHtcbiAgICAgIGxldCBkcmFnVGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkcmFnVGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2RyYWctdGFyZ2V0Jyk7XG4gICAgICBkcmFnVGFyZ2V0LnN0eWxlLndpZHRoID0gdGhpcy5vcHRpb25zLmRyYWdUYXJnZXRXaWR0aDtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZHJhZ1RhcmdldCk7XG4gICAgICB0aGlzLmRyYWdUYXJnZXQgPSBkcmFnVGFyZ2V0O1xuICAgIH1cblxuICAgIF9wcmV2ZW50Qm9keVNjcm9sbGluZygpIHtcbiAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICB9XG5cbiAgICBfZW5hYmxlQm9keVNjcm9sbGluZygpIHtcbiAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgaWYgKHRoaXMuaXNPcGVuID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuXG4gICAgICAvLyBSdW4gb25PcGVuU3RhcnQgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgZml4ZWQgU2lkZW5hdlxuICAgICAgaWYgKHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSkge1xuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZW5hYmxlQm9keVNjcm9sbGluZygpO1xuICAgICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgLy8gSGFuZGxlIG5vbi1maXhlZCBTaWRlbmF2XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByZXZlbnRTY3JvbGxpbmcpIHtcbiAgICAgICAgICB0aGlzLl9wcmV2ZW50Qm9keVNjcm9sbGluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dlZCB8fCB0aGlzLnBlcmNlbnRPcGVuICE9IDEpIHtcbiAgICAgICAgICB0aGlzLl9hbmltYXRlSW4oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgaWYgKHRoaXMuaXNPcGVuID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG5cbiAgICAgIC8vIFJ1biBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEhhbmRsZSBmaXhlZCBTaWRlbmF2XG4gICAgICBpZiAodGhpcy5faXNDdXJyZW50bHlGaXhlZCgpKSB7XG4gICAgICAgIGxldCB0cmFuc2Zvcm1YID0gdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0JyA/ICctMTA1JScgOiAnMTA1JSc7XG4gICAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3RyYW5zZm9ybVh9KWA7XG5cbiAgICAgICAgLy8gSGFuZGxlIG5vbi1maXhlZCBTaWRlbmF2XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9lbmFibGVCb2R5U2Nyb2xsaW5nKCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dlZCB8fCB0aGlzLnBlcmNlbnRPcGVuICE9IDApIHtcbiAgICAgICAgICB0aGlzLl9hbmltYXRlT3V0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2FuaW1hdGVJbigpIHtcbiAgICAgIHRoaXMuX2FuaW1hdGVTaWRlbmF2SW4oKTtcbiAgICAgIHRoaXMuX2FuaW1hdGVPdmVybGF5SW4oKTtcbiAgICB9XG5cbiAgICBfYW5pbWF0ZVNpZGVuYXZJbigpIHtcbiAgICAgIGxldCBzbGlkZU91dFBlcmNlbnQgPSB0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ2xlZnQnID8gLTEgOiAxO1xuICAgICAgaWYgKHRoaXMuaXNEcmFnZ2VkKSB7XG4gICAgICAgIHNsaWRlT3V0UGVyY2VudCA9XG4gICAgICAgICAgdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0J1xuICAgICAgICAgICAgPyBzbGlkZU91dFBlcmNlbnQgKyB0aGlzLnBlcmNlbnRPcGVuXG4gICAgICAgICAgICA6IHNsaWRlT3V0UGVyY2VudCAtIHRoaXMucGVyY2VudE9wZW47XG4gICAgICB9XG5cbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICAgIHRyYW5zbGF0ZVg6IFtgJHtzbGlkZU91dFBlcmNlbnQgKiAxMDB9JWAsIDBdLFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAvLyBSdW4gb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuRW5kLmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfYW5pbWF0ZU92ZXJsYXlJbigpIHtcbiAgICAgIGxldCBzdGFydCA9IDA7XG4gICAgICBpZiAodGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgICAgc3RhcnQgPSB0aGlzLnBlcmNlbnRPcGVuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCh0aGlzLl9vdmVybGF5KS5jc3Moe1xuICAgICAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuX292ZXJsYXksXG4gICAgICAgIG9wYWNpdHk6IFtzdGFydCwgMV0sXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfYW5pbWF0ZU91dCgpIHtcbiAgICAgIHRoaXMuX2FuaW1hdGVTaWRlbmF2T3V0KCk7XG4gICAgICB0aGlzLl9hbmltYXRlT3ZlcmxheU91dCgpO1xuICAgIH1cblxuICAgIF9hbmltYXRlU2lkZW5hdk91dCgpIHtcbiAgICAgIGxldCBlbmRQZXJjZW50ID0gdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0JyA/IC0xIDogMTtcbiAgICAgIGxldCBzbGlkZU91dFBlcmNlbnQgPSAwO1xuICAgICAgaWYgKHRoaXMuaXNEcmFnZ2VkKSB7XG4gICAgICAgIHNsaWRlT3V0UGVyY2VudCA9XG4gICAgICAgICAgdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0J1xuICAgICAgICAgICAgPyBlbmRQZXJjZW50ICsgdGhpcy5wZXJjZW50T3BlblxuICAgICAgICAgICAgOiBlbmRQZXJjZW50IC0gdGhpcy5wZXJjZW50T3BlbjtcbiAgICAgIH1cblxuICAgICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgdHJhbnNsYXRlWDogW2Ake3NsaWRlT3V0UGVyY2VudCAqIDEwMH0lYCwgYCR7ZW5kUGVyY2VudCAqIDEwNX0lYF0sXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAvLyBSdW4gb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9hbmltYXRlT3ZlcmxheU91dCgpIHtcbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuX292ZXJsYXksXG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAkKHRoaXMuX292ZXJsYXkpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyAge1xuICAgICAgU2lkZW5hdi5fc2lkZW5hdnMgPSBbXTtcbiAgICB9XG4gIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///288\n")},943:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Slider = void 0;\nconst component_1 = __webpack_require__(999);\nconst global_1 = __webpack_require__(238);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst animejs_1 = __importDefault(__webpack_require__(30));\nlet _defaults = {\n    indicators: true,\n    height: 400,\n    duration: 500,\n    interval: 6000,\n    pauseOnFocus: true,\n    pauseOnHover: true,\n    indicatorLabelFunc: null // Function which will generate a label for the indicators (ARIA)\n};\nclass Slider extends component_1.Component {\n    constructor(el, options) {\n        super(Slider, el, options);\n        this.el.M_Slider = this;\n        this.options = Object.assign(Object.assign({}, Slider.defaults), options);\n        // init props\n        this.interval = null;\n        this.eventPause = false;\n        this._hovered = false;\n        this._focused = false;\n        this._focusCurrent = false;\n        // setup\n        this.$slider = this.$el.find('.slides');\n        this.$slides = this.$slider.children('li');\n        this.activeIndex = this.$slides\n            .filter(function (item) {\n            return (0, cash_dom_1.default)(item).hasClass('active');\n        })\n            .first()\n            .index();\n        if (this.activeIndex != -1) {\n            this.$active = this.$slides.eq(this.activeIndex);\n        }\n        this._setSliderHeight();\n        // Sets element id if it does not have one\n        if (this.$slider.attr('id'))\n            this._sliderId = this.$slider.attr('id');\n        else {\n            this._sliderId = 'slider-' + global_1.M.guid();\n            this.$slider.attr('id', this._sliderId);\n        }\n        // Set initial positions of captions\n        this.$slides.find('.caption').each((i, el) => {\n            this._animateCaptionIn(el, 0);\n        });\n        // Move img src into background-image\n        this.$slides.find('img').each((i, el) => {\n            let placeholderBase64 = 'data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n            if ((0, cash_dom_1.default)(el).attr('src') !== placeholderBase64) {\n                (0, cash_dom_1.default)(el).css('background-image', 'url(\"' + (0, cash_dom_1.default)(el).attr('src') + '\")');\n                (0, cash_dom_1.default)(el).attr('src', placeholderBase64);\n            }\n        });\n        this.$slides.each((el) => {\n            // Sets slide as focusable by code\n            if (!el.hasAttribute('tabindex'))\n                el.setAttribute('tabindex', -1);\n            // Removes initial visibility from \"inactive\" slides\n            el.style.visibility = 'hidden';\n        });\n        this._setupIndicators();\n        // Show active slide\n        if (this.$active) {\n            this.$active.css('display', 'block').css('visibility', 'visible');\n        }\n        else {\n            this.$slides.first().addClass('active');\n            (0, animejs_1.default)({\n                targets: this.$slides.first()[0],\n                opacity: 1,\n                duration: this.options.duration,\n                easing: 'easeOutQuad'\n            });\n            this.$slides.first().css('visibility', 'visible');\n            this.activeIndex = 0;\n            this.$active = this.$slides.eq(this.activeIndex);\n            // Update indicators\n            if (this.options.indicators) {\n                this.$indicators.eq(this.activeIndex).children().first().addClass('active');\n            }\n        }\n        // Adjust height to current slide\n        this.$active.find('img').each((el) => {\n            (0, animejs_1.default)({\n                targets: this.$active.find('.caption')[0],\n                opacity: 1,\n                translateX: 0,\n                translateY: 0,\n                duration: this.options.duration,\n                easing: 'easeOutQuad'\n            });\n        });\n        this._setupEventHandlers();\n        // auto scroll\n        this.start();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Slider;\n    }\n    destroy() {\n        this.pause();\n        this._removeIndicators();\n        this._removeEventHandlers();\n        this.el.M_Slider = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleIntervalBound = this._handleInterval.bind(this);\n        this._handleIndicatorClickBound = this._handleIndicatorClick.bind(this);\n        this._handleAutoPauseFocusBound = this._handleAutoPauseFocus.bind(this);\n        this._handleAutoStartFocusBound = this._handleAutoStartFocus.bind(this);\n        this._handleAutoPauseHoverBound = this._handleAutoPauseHover.bind(this);\n        this._handleAutoStartHoverBound = this._handleAutoStartHover.bind(this);\n        if (this.options.pauseOnFocus) {\n            this.el.addEventListener('focusin', this._handleAutoPauseFocusBound);\n            this.el.addEventListener('focusout', this._handleAutoStartFocusBound);\n        }\n        if (this.options.pauseOnHover) {\n            this.el.addEventListener('mouseenter', this._handleAutoPauseHoverBound);\n            this.el.addEventListener('mouseleave', this._handleAutoStartHoverBound);\n        }\n        if (this.options.indicators) {\n            this.$indicators.each((i, el) => {\n                el.addEventListener('click', this._handleIndicatorClickBound);\n            });\n        }\n    }\n    _removeEventHandlers() {\n        if (this.options.pauseOnFocus) {\n            this.el.removeEventListener('focusin', this._handleAutoPauseFocusBound);\n            this.el.removeEventListener('focusout', this._handleAutoStartFocusBound);\n        }\n        if (this.options.pauseOnHover) {\n            this.el.removeEventListener('mouseenter', this._handleAutoPauseHoverBound);\n            this.el.removeEventListener('mouseleave', this._handleAutoStartHoverBound);\n        }\n        if (this.options.indicators) {\n            this.$indicators.each((i, el) => {\n                el.removeEventListener('click', this._handleIndicatorClickBound);\n            });\n        }\n    }\n    _handleIndicatorClick(e) {\n        let currIndex = (0, cash_dom_1.default)(e.target).parent().index();\n        this._focusCurrent = true;\n        this.set(currIndex);\n    }\n    _handleAutoPauseHover() {\n        this._hovered = true;\n        if (this.interval != null) {\n            this._pause(true);\n        }\n    }\n    _handleAutoPauseFocus() {\n        this._focused = true;\n        if (this.interval != null) {\n            this._pause(true);\n        }\n    }\n    _handleAutoStartHover() {\n        this._hovered = false;\n        if (!(this.options.pauseOnFocus && this._focused) && this.eventPause) {\n            this.start();\n        }\n    }\n    _handleAutoStartFocus() {\n        this._focused = false;\n        if (!(this.options.pauseOnHover && this._hovered) && this.eventPause) {\n            this.start();\n        }\n    }\n    _handleInterval() {\n        let newActiveIndex = this.$slider.find('.active').index();\n        if (this.$slides.length === newActiveIndex + 1)\n            newActiveIndex = 0;\n        // loop to start\n        else\n            newActiveIndex += 1;\n        this.set(newActiveIndex);\n    }\n    _animateCaptionIn(caption, duration) {\n        let animOptions = {\n            targets: caption,\n            opacity: 0,\n            duration: duration,\n            translateX: null,\n            translateY: null,\n            easing: 'easeOutQuad'\n        };\n        if ((0, cash_dom_1.default)(caption).hasClass('center-align')) {\n            animOptions.translateY = -100;\n        }\n        else if ((0, cash_dom_1.default)(caption).hasClass('right-align')) {\n            animOptions.translateX = 100;\n        }\n        else if ((0, cash_dom_1.default)(caption).hasClass('left-align')) {\n            animOptions.translateX = -100;\n        }\n        (0, animejs_1.default)(animOptions);\n    }\n    _setSliderHeight() {\n        // If fullscreen, do nothing\n        if (!this.$el.hasClass('fullscreen')) {\n            if (this.options.indicators) {\n                // Add height if indicators are present\n                this.$el.css('height', this.options.height + 40 + 'px');\n            }\n            else {\n                this.$el.css('height', this.options.height + 'px');\n            }\n            this.$slider.css('height', this.options.height + 'px');\n        }\n    }\n    _setupIndicators() {\n        if (this.options.indicators) {\n            this.$indicators = (0, cash_dom_1.default)('<ul class=\"indicators\"></ul>');\n            this.$slides.each((el, i) => {\n                let label = this.options.indicatorLabelFunc\n                    ? this.options.indicatorLabelFunc.call(this, i + 1, i === 0)\n                    : `${i + 1}`;\n                let $indicator = (0, cash_dom_1.default)(`<li class=\"indicator-item\">\n            <button type=\"button\" class=\"indicator-item-btn\" aria-label=\"${label}\" aria-controls=\"${this._sliderId}\"></button>\n          </li>`);\n                this.$indicators.append($indicator[0]);\n            });\n            this.$el.append(this.$indicators[0]);\n            this.$indicators = this.$indicators.children('li.indicator-item');\n        }\n    }\n    _removeIndicators() {\n        this.$el.find('ul.indicators').remove();\n    }\n    set(index) {\n        // Wrap around indices.\n        if (index >= this.$slides.length)\n            index = 0;\n        else if (index < 0)\n            index = this.$slides.length - 1;\n        // Only do if index changes\n        if (this.activeIndex != index) {\n            this.$active = this.$slides.eq(this.activeIndex);\n            let $caption = this.$active.find('.caption');\n            this.$active.removeClass('active');\n            // Enables every slide\n            this.$slides.css('visibility', 'visible');\n            (0, animejs_1.default)({\n                targets: this.$active[0],\n                opacity: 0,\n                duration: this.options.duration,\n                easing: 'easeOutQuad',\n                complete: () => {\n                    this.$slides.not('.active').each((i, el) => {\n                        (0, animejs_1.default)({\n                            targets: el,\n                            opacity: 0,\n                            translateX: 0,\n                            translateY: 0,\n                            duration: 0,\n                            easing: 'easeOutQuad'\n                        });\n                        // Disables invisible slides (for assistive technologies)\n                        el.style.visibility = 'hidden';\n                    });\n                }\n            });\n            this._animateCaptionIn($caption[0], this.options.duration);\n            // Update indicators\n            if (this.options.indicators) {\n                let activeIndicator = this.$indicators\n                    .eq(this.activeIndex)\n                    .children()\n                    .first();\n                let nextIndicator = this.$indicators\n                    .eq(index)\n                    .children()\n                    .first();\n                activeIndicator.removeClass('active');\n                nextIndicator.addClass('active');\n                if (typeof this.options.indicatorLabelFunc === \"function\") {\n                    activeIndicator.attr('aria-label', this.options.indicatorLabelFunc.call(this, this.$indicators.eq(this.activeIndex).index(), false));\n                    nextIndicator.attr('aria-label', this.options.indicatorLabelFunc.call(this, this.$indicators.eq(index).index(), true));\n                }\n            }\n            (0, animejs_1.default)({\n                targets: this.$slides.eq(index)[0],\n                opacity: 1,\n                duration: this.options.duration,\n                easing: 'easeOutQuad'\n            });\n            (0, animejs_1.default)({\n                targets: this.$slides.eq(index).find('.caption')[0],\n                opacity: 1,\n                translateX: 0,\n                translateY: 0,\n                duration: this.options.duration,\n                delay: this.options.duration,\n                easing: 'easeOutQuad'\n            });\n            this.$slides.eq(index).addClass('active');\n            if (this._focusCurrent) {\n                this.$slides.eq(index)[0].focus();\n                this._focusCurrent = false;\n            }\n            this.activeIndex = index;\n            // Reset interval, if allowed. This check prevents autostart\n            // when slider is paused, since it can be changed though indicators.\n            if (this.interval != null) {\n                this.start();\n            }\n        }\n    }\n    _pause(fromEvent) {\n        clearInterval(this.interval);\n        this.eventPause = fromEvent;\n        this.interval = null;\n    }\n    pause() {\n        this._pause(false);\n    }\n    start() {\n        clearInterval(this.interval);\n        this.interval = setInterval(this._handleIntervalBound, this.options.duration + this.options.interval);\n        this.eventPause = false;\n    }\n    next() {\n        let newIndex = this.activeIndex + 1;\n        // Wrap around indices.\n        if (newIndex >= this.$slides.length)\n            newIndex = 0;\n        else if (newIndex < 0)\n            newIndex = this.$slides.length - 1;\n        this.set(newIndex);\n    }\n    prev() {\n        let newIndex = this.activeIndex - 1;\n        // Wrap around indices.\n        if (newIndex >= this.$slides.length)\n            newIndex = 0;\n        else if (newIndex < 0)\n            newIndex = this.$slides.length - 1;\n        this.set(newIndex);\n    }\n}\nexports.Slider = Slider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLENBQUM7UUFDN0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxXQUFXLENBQ3pCLElBQUksQ0FBQyxvQkFBb0IsRUFDekIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQzlDLENBQUM7UUFDRixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSTtRQUNGLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQ3BDLHVCQUF1QjtRQUN2QixJQUFJLFFBQVEsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU07WUFBRSxRQUFRLEdBQUcsQ0FBQyxDQUFDO2FBQzdDLElBQUksUUFBUSxHQUFHLENBQUM7WUFBRSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckIsQ0FBQztJQUVELElBQUk7UUFDRixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQztRQUNwQyx1QkFBdUI7UUFDdkIsSUFBSSxRQUFRLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNO1lBQUUsUUFBUSxHQUFHLENBQUMsQ0FBQzthQUM3QyxJQUFJLFFBQVEsR0FBRyxDQUFDO1lBQUUsUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7Q0FDRjtBQXhaRCx3QkF3WkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL3NsaWRlci50cz9jYWM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuaW1wb3J0ICQgZnJvbSBcImNhc2gtZG9tXCI7XG5pbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG4gIGxldCBfZGVmYXVsdHMgPSB7XG4gICAgaW5kaWNhdG9yczogdHJ1ZSxcbiAgICBoZWlnaHQ6IDQwMCxcbiAgICBkdXJhdGlvbjogNTAwLFxuICAgIGludGVydmFsOiA2MDAwLFxuICAgIHBhdXNlT25Gb2N1czogdHJ1ZSxcbiAgICBwYXVzZU9uSG92ZXI6IHRydWUsXG4gICAgaW5kaWNhdG9yTGFiZWxGdW5jOiBudWxsIC8vIEZ1bmN0aW9uIHdoaWNoIHdpbGwgZ2VuZXJhdGUgYSBsYWJlbCBmb3IgdGhlIGluZGljYXRvcnMgKEFSSUEpXG4gIH07XG5cbiAgZXhwb3J0IGNsYXNzIFNsaWRlciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgJHNsaWRlcjogYW55O1xuICAgICRzbGlkZXM6IGFueTtcbiAgICBhY3RpdmVJbmRleDogYW55O1xuICAgICRhY3RpdmU6IGFueTtcbiAgICAkaW5kaWNhdG9yczogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUludGVydmFsQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVJbmRpY2F0b3JDbGlja0JvdW5kOiBhbnk7XG4gICAgaW50ZXJ2YWw6IHN0cmluZyB8IG51bWJlciB8IE5vZGVKUy5UaW1lb3V0O1xuICAgIGV2ZW50UGF1c2U6IGFueTtcbiAgICBfaG92ZXJlZDogYW55O1xuICAgIF9mb2N1c2VkOiBhbnk7XG4gICAgX2ZvY3VzQ3VycmVudDogYW55O1xuICAgIF9zbGlkZXJJZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUF1dG9QYXVzZUZvY3VzQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVBdXRvU3RhcnRGb2N1c0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlQXV0b1BhdXNlSG92ZXJCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUF1dG9TdGFydEhvdmVyQm91bmQ6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgICBzdXBlcihTbGlkZXIsIGVsLCBvcHRpb25zKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9TbGlkZXIgPSB0aGlzO1xuICAgICAgdGhpcy5vcHRpb25zID0gey4uLlNsaWRlci5kZWZhdWx0cywgLi4ub3B0aW9uc307XG5cbiAgICAgIC8vIGluaXQgcHJvcHNcbiAgICAgIHRoaXMuaW50ZXJ2YWwgPSBudWxsO1xuICAgICAgdGhpcy5ldmVudFBhdXNlID0gZmFsc2U7XG4gICAgICB0aGlzLl9ob3ZlcmVkID0gZmFsc2U7XG4gICAgICB0aGlzLl9mb2N1c2VkID0gZmFsc2U7XG4gICAgICB0aGlzLl9mb2N1c0N1cnJlbnQgPSBmYWxzZTtcblxuICAgICAgLy8gc2V0dXBcbiAgICAgIHRoaXMuJHNsaWRlciA9IHRoaXMuJGVsLmZpbmQoJy5zbGlkZXMnKTtcbiAgICAgIHRoaXMuJHNsaWRlcyA9IHRoaXMuJHNsaWRlci5jaGlsZHJlbignbGknKTtcbiAgICAgIFxuICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IHRoaXMuJHNsaWRlc1xuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gJChpdGVtKS5oYXNDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5maXJzdCgpXG4gICAgICAgIC5pbmRleCgpO1xuXG4gICAgICBpZiAodGhpcy5hY3RpdmVJbmRleCAhPSAtMSkge1xuICAgICAgICB0aGlzLiRhY3RpdmUgPSB0aGlzLiRzbGlkZXMuZXEodGhpcy5hY3RpdmVJbmRleCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3NldFNsaWRlckhlaWdodCgpO1xuXG4gICAgICAvLyBTZXRzIGVsZW1lbnQgaWQgaWYgaXQgZG9lcyBub3QgaGF2ZSBvbmVcbiAgICAgIGlmICh0aGlzLiRzbGlkZXIuYXR0cignaWQnKSkgdGhpcy5fc2xpZGVySWQgPSB0aGlzLiRzbGlkZXIuYXR0cignaWQnKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9zbGlkZXJJZCA9ICdzbGlkZXItJyArIE0uZ3VpZCgpO1xuICAgICAgICB0aGlzLiRzbGlkZXIuYXR0cignaWQnLCB0aGlzLl9zbGlkZXJJZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCBpbml0aWFsIHBvc2l0aW9ucyBvZiBjYXB0aW9uc1xuICAgICAgdGhpcy4kc2xpZGVzLmZpbmQoJy5jYXB0aW9uJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZUNhcHRpb25JbihlbCwgMCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gTW92ZSBpbWcgc3JjIGludG8gYmFja2dyb3VuZC1pbWFnZVxuICAgICAgdGhpcy4kc2xpZGVzLmZpbmQoJ2ltZycpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgIGxldCBwbGFjZWhvbGRlckJhc2U2NCA9XG4gICAgICAgICAgJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFCQVAvLy93QUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT0nO1xuICAgICAgICBpZiAoJChlbCkuYXR0cignc3JjJykgIT09IHBsYWNlaG9sZGVyQmFzZTY0KSB7XG4gICAgICAgICAgJChlbCkuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ3VybChcIicgKyAkKGVsKS5hdHRyKCdzcmMnKSArICdcIiknKTtcbiAgICAgICAgICAkKGVsKS5hdHRyKCdzcmMnLCBwbGFjZWhvbGRlckJhc2U2NCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLiRzbGlkZXMuZWFjaCgoZWwpID0+IHtcbiAgICAgICAgLy8gU2V0cyBzbGlkZSBhcyBmb2N1c2FibGUgYnkgY29kZVxuICAgICAgICBpZiAoIWVsLmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKSkgZWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIC0xKTtcbiAgICAgICAgLy8gUmVtb3ZlcyBpbml0aWFsIHZpc2liaWxpdHkgZnJvbSBcImluYWN0aXZlXCIgc2xpZGVzXG4gICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9zZXR1cEluZGljYXRvcnMoKTtcblxuICAgICAgLy8gU2hvdyBhY3RpdmUgc2xpZGVcbiAgICAgIGlmICh0aGlzLiRhY3RpdmUpIHtcbiAgICAgICAgdGhpcy4kYWN0aXZlLmNzcygnZGlzcGxheScsICdibG9jaycpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRzbGlkZXMuZmlyc3QoKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuJHNsaWRlcy5maXJzdCgpWzBdLFxuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuJHNsaWRlcy5maXJzdCgpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XG5cbiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuJGFjdGl2ZSA9IHRoaXMuJHNsaWRlcy5lcSh0aGlzLmFjdGl2ZUluZGV4KTtcblxuICAgICAgICAvLyBVcGRhdGUgaW5kaWNhdG9yc1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgICAgICB0aGlzLiRpbmRpY2F0b3JzLmVxKHRoaXMuYWN0aXZlSW5kZXgpLmNoaWxkcmVuKCkuZmlyc3QoKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWRqdXN0IGhlaWdodCB0byBjdXJyZW50IHNsaWRlXG4gICAgICB0aGlzLiRhY3RpdmUuZmluZCgnaW1nJykuZWFjaCgoZWwpID0+IHtcbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy4kYWN0aXZlLmZpbmQoJy5jYXB0aW9uJylbMF0sXG4gICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgICAgIHRyYW5zbGF0ZVk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICAvLyBhdXRvIHNjcm9sbFxuICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgIGxldCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgcmV0dXJuIGRvbUVsZW0uTV9TbGlkZXI7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgIHRoaXMuX3JlbW92ZUluZGljYXRvcnMoKTtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9TbGlkZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUludGVydmFsQm91bmQgPSB0aGlzLl9oYW5kbGVJbnRlcnZhbC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlSW5kaWNhdG9yQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUluZGljYXRvckNsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVBdXRvUGF1c2VGb2N1c0JvdW5kID0gdGhpcy5faGFuZGxlQXV0b1BhdXNlRm9jdXMuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUF1dG9TdGFydEZvY3VzQm91bmQgPSB0aGlzLl9oYW5kbGVBdXRvU3RhcnRGb2N1cy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlQXV0b1BhdXNlSG92ZXJCb3VuZCA9IHRoaXMuX2hhbmRsZUF1dG9QYXVzZUhvdmVyLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVBdXRvU3RhcnRIb3ZlckJvdW5kID0gdGhpcy5faGFuZGxlQXV0b1N0YXJ0SG92ZXIuYmluZCh0aGlzKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucGF1c2VPbkZvY3VzKSB7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRoaXMuX2hhbmRsZUF1dG9QYXVzZUZvY3VzQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5faGFuZGxlQXV0b1N0YXJ0Rm9jdXNCb3VuZCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBhdXNlT25Ib3Zlcikge1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVBdXRvUGF1c2VIb3ZlckJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlQXV0b1N0YXJ0SG92ZXJCb3VuZCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgICAgdGhpcy4kaW5kaWNhdG9ycy5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5kaWNhdG9yQ2xpY2tCb3VuZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wYXVzZU9uRm9jdXMpIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdGhpcy5faGFuZGxlQXV0b1BhdXNlRm9jdXNCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0aGlzLl9oYW5kbGVBdXRvU3RhcnRGb2N1c0JvdW5kKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucGF1c2VPbkhvdmVyKSB7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZUF1dG9QYXVzZUhvdmVyQm91bmQpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVBdXRvU3RhcnRIb3ZlckJvdW5kKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5kaWNhdG9ycykge1xuICAgICAgICB0aGlzLiRpbmRpY2F0b3JzLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbmRpY2F0b3JDbGlja0JvdW5kKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZUluZGljYXRvckNsaWNrKGUpIHtcbiAgICAgIGxldCBjdXJySW5kZXggPSAkKGUudGFyZ2V0KS5wYXJlbnQoKS5pbmRleCgpO1xuICAgICAgdGhpcy5fZm9jdXNDdXJyZW50ID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2V0KGN1cnJJbmRleCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUF1dG9QYXVzZUhvdmVyKCkge1xuICAgICAgdGhpcy5faG92ZXJlZCA9IHRydWU7XG4gICAgICBpZiAodGhpcy5pbnRlcnZhbCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3BhdXNlKHRydWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVBdXRvUGF1c2VGb2N1cygpIHtcbiAgICAgIHRoaXMuX2ZvY3VzZWQgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMuaW50ZXJ2YWwgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9wYXVzZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlQXV0b1N0YXJ0SG92ZXIoKSB7XG4gICAgICB0aGlzLl9ob3ZlcmVkID0gZmFsc2U7XG4gICAgICBpZiAoISh0aGlzLm9wdGlvbnMucGF1c2VPbkZvY3VzICYmIHRoaXMuX2ZvY3VzZWQpICYmIHRoaXMuZXZlbnRQYXVzZSkge1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZUF1dG9TdGFydEZvY3VzKCkge1xuICAgICAgdGhpcy5fZm9jdXNlZCA9IGZhbHNlO1xuICAgICAgaWYgKCEodGhpcy5vcHRpb25zLnBhdXNlT25Ib3ZlciAmJiB0aGlzLl9ob3ZlcmVkKSAmJiB0aGlzLmV2ZW50UGF1c2UpIHtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVJbnRlcnZhbCgpIHtcbiAgICAgIGxldCBuZXdBY3RpdmVJbmRleCA9IHRoaXMuJHNsaWRlci5maW5kKCcuYWN0aXZlJykuaW5kZXgoKTtcbiAgICAgIGlmICh0aGlzLiRzbGlkZXMubGVuZ3RoID09PSBuZXdBY3RpdmVJbmRleCArIDEpIG5ld0FjdGl2ZUluZGV4ID0gMDtcbiAgICAgIC8vIGxvb3AgdG8gc3RhcnRcbiAgICAgIGVsc2UgbmV3QWN0aXZlSW5kZXggKz0gMTtcblxuICAgICAgdGhpcy5zZXQobmV3QWN0aXZlSW5kZXgpO1xuICAgIH1cblxuICAgIF9hbmltYXRlQ2FwdGlvbkluKGNhcHRpb246IEVsZW1lbnQsIGR1cmF0aW9uOiBudW1iZXIpIHtcbiAgICAgIGxldCBhbmltT3B0aW9ucyA9IHtcbiAgICAgICAgdGFyZ2V0czogY2FwdGlvbixcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICB0cmFuc2xhdGVYOiBudWxsLFxuICAgICAgICB0cmFuc2xhdGVZOiBudWxsLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgIH07XG4gICAgICBpZiAoJChjYXB0aW9uKS5oYXNDbGFzcygnY2VudGVyLWFsaWduJykpIHtcbiAgICAgICAgYW5pbU9wdGlvbnMudHJhbnNsYXRlWSA9IC0xMDA7XG4gICAgICB9IGVsc2UgaWYgKCQoY2FwdGlvbikuaGFzQ2xhc3MoJ3JpZ2h0LWFsaWduJykpIHtcbiAgICAgICAgYW5pbU9wdGlvbnMudHJhbnNsYXRlWCA9IDEwMDtcbiAgICAgIH0gZWxzZSBpZiAoJChjYXB0aW9uKS5oYXNDbGFzcygnbGVmdC1hbGlnbicpKSB7XG4gICAgICAgIGFuaW1PcHRpb25zLnRyYW5zbGF0ZVggPSAtMTAwO1xuICAgICAgfVxuICAgICAgYW5pbShhbmltT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgX3NldFNsaWRlckhlaWdodCgpIHtcbiAgICAgIC8vIElmIGZ1bGxzY3JlZW4sIGRvIG5vdGhpbmdcbiAgICAgIGlmICghdGhpcy4kZWwuaGFzQ2xhc3MoJ2Z1bGxzY3JlZW4nKSkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgICAgICAvLyBBZGQgaGVpZ2h0IGlmIGluZGljYXRvcnMgYXJlIHByZXNlbnRcbiAgICAgICAgICB0aGlzLiRlbC5jc3MoJ2hlaWdodCcsIHRoaXMub3B0aW9ucy5oZWlnaHQgKyA0MCArICdweCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuJGVsLmNzcygnaGVpZ2h0JywgdGhpcy5vcHRpb25zLmhlaWdodCArICdweCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHNsaWRlci5jc3MoJ2hlaWdodCcsIHRoaXMub3B0aW9ucy5oZWlnaHQgKyAncHgnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0dXBJbmRpY2F0b3JzKCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XG4gICAgICAgIHRoaXMuJGluZGljYXRvcnMgPSAkKCc8dWwgY2xhc3M9XCJpbmRpY2F0b3JzXCI+PC91bD4nKTtcblxuICAgICAgICB0aGlzLiRzbGlkZXMuZWFjaCgoZWwsIGkpID0+IHtcbiAgICAgICAgICBsZXQgbGFiZWwgPSB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yTGFiZWxGdW5jXG4gICAgICAgICAgICA/IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JMYWJlbEZ1bmMuY2FsbCh0aGlzLCBpICsgMSwgaSA9PT0gMClcbiAgICAgICAgICAgIDogYCR7aSArIDF9YDtcbiAgICAgICAgICBsZXQgJGluZGljYXRvciA9ICQoYDxsaSBjbGFzcz1cImluZGljYXRvci1pdGVtXCI+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImluZGljYXRvci1pdGVtLWJ0blwiIGFyaWEtbGFiZWw9XCIke2xhYmVsfVwiIGFyaWEtY29udHJvbHM9XCIke3RoaXMuX3NsaWRlcklkfVwiPjwvYnV0dG9uPlxuICAgICAgICAgIDwvbGk+YCk7XG5cbiAgICAgICAgICB0aGlzLiRpbmRpY2F0b3JzLmFwcGVuZCgkaW5kaWNhdG9yWzBdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuJGVsLmFwcGVuZCh0aGlzLiRpbmRpY2F0b3JzWzBdKTtcbiAgICAgICAgdGhpcy4kaW5kaWNhdG9ycyA9IHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oJ2xpLmluZGljYXRvci1pdGVtJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3JlbW92ZUluZGljYXRvcnMoKSB7XG4gICAgICB0aGlzLiRlbC5maW5kKCd1bC5pbmRpY2F0b3JzJykucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgc2V0KGluZGV4OiBudW1iZXIpIHtcbiAgICAgIC8vIFdyYXAgYXJvdW5kIGluZGljZXMuXG4gICAgICBpZiAoaW5kZXggPj0gdGhpcy4kc2xpZGVzLmxlbmd0aCkgaW5kZXggPSAwO1xuICAgICAgZWxzZSBpZiAoaW5kZXggPCAwKSBpbmRleCA9IHRoaXMuJHNsaWRlcy5sZW5ndGggLSAxO1xuXG4gICAgICAvLyBPbmx5IGRvIGlmIGluZGV4IGNoYW5nZXNcbiAgICAgIGlmICh0aGlzLmFjdGl2ZUluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgIHRoaXMuJGFjdGl2ZSA9IHRoaXMuJHNsaWRlcy5lcSh0aGlzLmFjdGl2ZUluZGV4KTtcbiAgICAgICAgbGV0ICRjYXB0aW9uID0gdGhpcy4kYWN0aXZlLmZpbmQoJy5jYXB0aW9uJyk7XG4gICAgICAgIHRoaXMuJGFjdGl2ZS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIC8vIEVuYWJsZXMgZXZlcnkgc2xpZGVcbiAgICAgICAgdGhpcy4kc2xpZGVzLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XG5cbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy4kYWN0aXZlWzBdLFxuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJHNsaWRlcy5ub3QoJy5hY3RpdmUnKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiBlbCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVg6IDAsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMCxcbiAgICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIC8vIERpc2FibGVzIGludmlzaWJsZSBzbGlkZXMgKGZvciBhc3Npc3RpdmUgdGVjaG5vbG9naWVzKVxuICAgICAgICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2FuaW1hdGVDYXB0aW9uSW4oJGNhcHRpb25bMF0sIHRoaXMub3B0aW9ucy5kdXJhdGlvbik7XG5cbiAgICAgICAgLy8gVXBkYXRlIGluZGljYXRvcnNcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XG4gICAgICAgICAgbGV0IGFjdGl2ZUluZGljYXRvciA9IHRoaXMuJGluZGljYXRvcnNcbiAgICAgICAgICAgIC5lcSh0aGlzLmFjdGl2ZUluZGV4KVxuICAgICAgICAgICAgLmNoaWxkcmVuKClcbiAgICAgICAgICAgIC5maXJzdCgpO1xuICAgICAgICAgIGxldCBuZXh0SW5kaWNhdG9yID0gdGhpcy4kaW5kaWNhdG9yc1xuICAgICAgICAgICAgLmVxKGluZGV4KVxuICAgICAgICAgICAgLmNoaWxkcmVuKClcbiAgICAgICAgICAgIC5maXJzdCgpO1xuICAgICAgICAgIGFjdGl2ZUluZGljYXRvci5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgbmV4dEluZGljYXRvci5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yTGFiZWxGdW5jID09PSBcImZ1bmN0aW9uXCIpe1xuICAgICAgICAgICAgYWN0aXZlSW5kaWNhdG9yLmF0dHIoXG4gICAgICAgICAgICAgICdhcmlhLWxhYmVsJyxcbiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmluZGljYXRvckxhYmVsRnVuYy5jYWxsKFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgdGhpcy4kaW5kaWNhdG9ycy5lcSh0aGlzLmFjdGl2ZUluZGV4KS5pbmRleCgpLFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBuZXh0SW5kaWNhdG9yLmF0dHIoXG4gICAgICAgICAgICAgICdhcmlhLWxhYmVsJyxcbiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmluZGljYXRvckxhYmVsRnVuYy5jYWxsKFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgdGhpcy4kaW5kaWNhdG9ycy5lcShpbmRleCkuaW5kZXgoKSxcbiAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy4kc2xpZGVzLmVxKGluZGV4KVswXSxcbiAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuJHNsaWRlcy5lcShpbmRleCkuZmluZCgnLmNhcHRpb24nKVswXSxcbiAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgIHRyYW5zbGF0ZVg6IDAsXG4gICAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgIGRlbGF5OiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJHNsaWRlcy5lcShpbmRleCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICBpZiAodGhpcy5fZm9jdXNDdXJyZW50KSB7XG4gICAgICAgICAgdGhpcy4kc2xpZGVzLmVxKGluZGV4KVswXS5mb2N1cygpO1xuICAgICAgICAgIHRoaXMuX2ZvY3VzQ3VycmVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleDtcblxuICAgICAgICAvLyBSZXNldCBpbnRlcnZhbCwgaWYgYWxsb3dlZC4gVGhpcyBjaGVjayBwcmV2ZW50cyBhdXRvc3RhcnRcbiAgICAgICAgLy8gd2hlbiBzbGlkZXIgaXMgcGF1c2VkLCBzaW5jZSBpdCBjYW4gYmUgY2hhbmdlZCB0aG91Z2ggaW5kaWNhdG9ycy5cbiAgICAgICAgaWYgKHRoaXMuaW50ZXJ2YWwgIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIF9wYXVzZShmcm9tRXZlbnQ6IGJvb2xlYW4pIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgICB0aGlzLmV2ZW50UGF1c2UgPSBmcm9tRXZlbnQ7XG4gICAgICB0aGlzLmludGVydmFsID0gbnVsbDtcbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgIHRoaXMuX3BhdXNlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoXG4gICAgICAgIHRoaXMuX2hhbmRsZUludGVydmFsQm91bmQsXG4gICAgICAgIHRoaXMub3B0aW9ucy5kdXJhdGlvbiArIHRoaXMub3B0aW9ucy5pbnRlcnZhbFxuICAgICAgKTtcbiAgICAgIHRoaXMuZXZlbnRQYXVzZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIG5leHQoKSB7XG4gICAgICBsZXQgbmV3SW5kZXggPSB0aGlzLmFjdGl2ZUluZGV4ICsgMTtcbiAgICAgIC8vIFdyYXAgYXJvdW5kIGluZGljZXMuXG4gICAgICBpZiAobmV3SW5kZXggPj0gdGhpcy4kc2xpZGVzLmxlbmd0aCkgbmV3SW5kZXggPSAwO1xuICAgICAgZWxzZSBpZiAobmV3SW5kZXggPCAwKSBuZXdJbmRleCA9IHRoaXMuJHNsaWRlcy5sZW5ndGggLSAxO1xuICAgICAgdGhpcy5zZXQobmV3SW5kZXgpO1xuICAgIH1cblxuICAgIHByZXYoKSB7XG4gICAgICBsZXQgbmV3SW5kZXggPSB0aGlzLmFjdGl2ZUluZGV4IC0gMTtcbiAgICAgIC8vIFdyYXAgYXJvdW5kIGluZGljZXMuXG4gICAgICBpZiAobmV3SW5kZXggPj0gdGhpcy4kc2xpZGVzLmxlbmd0aCkgbmV3SW5kZXggPSAwO1xuICAgICAgZWxzZSBpZiAobmV3SW5kZXggPCAwKSBuZXdJbmRleCA9IHRoaXMuJHNsaWRlcy5sZW5ndGggLSAxO1xuICAgICAgdGhpcy5zZXQobmV3SW5kZXgpO1xuICAgIH1cbiAgfVxuICBcblxuICBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///943\n")},649:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Tabs = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst animejs_1 = __importDefault(__webpack_require__(30));\nconst carousel_1 = __webpack_require__(476);\nlet _defaults = {\n    duration: 300,\n    onShow: null,\n    swipeable: false,\n    responsiveThreshold: Infinity, // breakpoint for swipeable\n};\nclass Tabs extends component_1.Component {\n    constructor(el, options) {\n        super(Tabs, el, options);\n        this.el.M_Tabs = this;\n        this.options = cash_dom_1.default.extend({}, Tabs.defaults, options);\n        this._tabLinks = this.$el[0].querySelectorAll('li.tab > a');\n        this._index = 0;\n        this._setupActiveTabLink();\n        if (this.options.swipeable) {\n            this._setupSwipeableTabs();\n        }\n        else {\n            this._setupNormalTabs();\n        }\n        // Setup tabs indicator after content to ensure accurate widths\n        this._setTabsAndTabWidth();\n        this._createIndicator();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Tabs;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._indicator.parentNode.removeChild(this._indicator);\n        if (this.options.swipeable) {\n            this._teardownSwipeableTabs();\n        }\n        else {\n            this._teardownNormalTabs();\n        }\n        this.$el[0].M_Tabs = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleWindowResizeBound = this._handleWindowResize.bind(this);\n        window.addEventListener('resize', this._handleWindowResizeBound);\n        this._handleTabClickBound = this._handleTabClick.bind(this);\n        this.el.addEventListener('click', this._handleTabClickBound);\n    }\n    _removeEventHandlers() {\n        window.removeEventListener('resize', this._handleWindowResizeBound);\n        this.el.removeEventListener('click', this._handleTabClickBound);\n    }\n    _handleWindowResize() {\n        this._setTabsAndTabWidth();\n        if (this._tabWidth !== 0 && this._tabsWidth !== 0) {\n            this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\n            this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\n        }\n    }\n    _handleTabClick(e) {\n        const tabLink = e.target;\n        const tab = tabLink.parentElement;\n        // Handle click on tab link only\n        if (!tabLink || !tab.classList.contains('tab'))\n            return;\n        // is disabled?\n        if (tab.classList.contains('disabled')) {\n            e.preventDefault();\n            return;\n        }\n        // Act as regular link if target attribute is specified.\n        if (tabLink.hasAttribute('target'))\n            return;\n        // Make the old tab inactive.\n        this._activeTabLink.classList.remove('active');\n        const _oldContent = this._content;\n        // Update the variables with the new link and content\n        this._activeTabLink = tabLink;\n        this._content = document.querySelector(tabLink.hash);\n        this._tabLinks = this.$el[0].querySelectorAll('li.tab > a');\n        // Make the tab active\n        this._activeTabLink.classList.add('active');\n        const prevIndex = this._index;\n        this._index = Math.max(Array.from(this._tabLinks).indexOf(tabLink), 0);\n        // Swap content\n        if (this.options.swipeable) {\n            if (this._tabsCarousel) {\n                this._tabsCarousel.set(this._index, () => {\n                    if (typeof this.options.onShow === 'function')\n                        this.options.onShow.call(this, this._content);\n                });\n            }\n        }\n        else {\n            if (this._content) {\n                this._content.style.display = 'block';\n                this._content.classList.add('active');\n                if (typeof this.options.onShow === 'function')\n                    this.options.onShow.call(this, this._content);\n                if (_oldContent && _oldContent !== this._content) {\n                    _oldContent.style.display = 'none';\n                    _oldContent.classList.remove('active');\n                }\n            }\n        }\n        // Update widths after content is swapped (scrollbar bugfix)\n        this._setTabsAndTabWidth();\n        this._animateIndicator(prevIndex);\n        e.preventDefault();\n    }\n    _createIndicator() {\n        const indicator = document.createElement('li');\n        indicator.classList.add('indicator');\n        this.el.appendChild(indicator);\n        this._indicator = indicator;\n        this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\n        this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\n    }\n    _setupActiveTabLink() {\n        // If the location.hash matches one of the links, use that as the active tab.\n        this._activeTabLink = Array.from(this._tabLinks).find((a) => a.getAttribute('href') === location.hash);\n        // If no match is found, use the first link or any with class 'active' as the initial active tab.\n        if (!this._activeTabLink) {\n            this._activeTabLink = this.$el[0].querySelector('li.tab a.active');\n        }\n        if (this._activeTabLink.length === 0) {\n            this._activeTabLink = this.$el[0].querySelector('li.tab a');\n        }\n        Array.from(this._tabLinks).forEach((a) => a.classList.remove('active'));\n        this._activeTabLink.classList.add('active');\n        this._index = Math.max(Array.from(this._tabLinks).indexOf(this._activeTabLink), 0);\n        if (this._activeTabLink) {\n            this._content = document.querySelector(this._activeTabLink.hash);\n            this._content.classList.add('active');\n        }\n    }\n    _setupSwipeableTabs() {\n        // Change swipeable according to responsive threshold\n        if (window.innerWidth > this.options.responsiveThreshold)\n            this.options.swipeable = false;\n        const tabsContent = [];\n        this._tabLinks.forEach(a => {\n            const currContent = document.querySelector(a.hash);\n            currContent.classList.add('carousel-item');\n            tabsContent.push(currContent);\n        });\n        // Create Carousel-Wrapper around Tab-Contents\n        const tabsWrapper = document.createElement('div');\n        tabsWrapper.classList.add('tabs-content', 'carousel', 'carousel-slider');\n        // Wrap around\n        tabsContent[0].parentElement.insertBefore(tabsWrapper, tabsContent[0]);\n        tabsContent.forEach(tabContent => {\n            tabsWrapper.appendChild(tabContent);\n            tabContent.style.display = '';\n        });\n        // Keep active tab index to set initial carousel slide\n        const tab = this._activeTabLink.parentElement;\n        const activeTabIndex = Array.from(tab.parentNode.children).indexOf(tab);\n        this._tabsCarousel = carousel_1.Carousel.init(tabsWrapper, {\n            fullWidth: true,\n            noWrap: true,\n            onCycleTo: (item) => {\n                const prevIndex = this._index;\n                this._index = Array.from(item.parentNode.children).indexOf(item);\n                this._activeTabLink.classList.remove('active');\n                this._activeTabLink = Array.from(this._tabLinks)[this._index];\n                this._activeTabLink.classList.add('active');\n                this._animateIndicator(prevIndex);\n                if (typeof this.options.onShow === 'function')\n                    this.options.onShow.call(this, this._content);\n            }\n        });\n        // Set initial carousel slide to active tab\n        this._tabsCarousel.set(activeTabIndex);\n    }\n    _teardownSwipeableTabs() {\n        const $tabsWrapper = this._tabsCarousel.$el;\n        this._tabsCarousel.destroy();\n        // Unwrap\n        $tabsWrapper.after($tabsWrapper.children());\n        $tabsWrapper.remove();\n    }\n    _setupNormalTabs() {\n        // Hide Tabs Content\n        Array.from(this._tabLinks).forEach(a => {\n            if (a === this._activeTabLink)\n                return;\n            if (a.hash) {\n                const currContent = document.querySelector(a.hash);\n                if (currContent)\n                    currContent.style.display = 'none';\n            }\n        });\n    }\n    _teardownNormalTabs() {\n        // show Tabs Content\n        this._tabLinks.forEach(a => {\n            if (a.hash) {\n                const currContent = document.querySelector(a.hash);\n                if (currContent)\n                    currContent.style.display = '';\n            }\n        });\n    }\n    _setTabsAndTabWidth() {\n        this._tabsWidth = this.$el[0].getBoundingClientRect().width;\n        this._tabWidth = Math.max(this._tabsWidth, this.el.scrollWidth) / this._tabLinks.length;\n    }\n    _calcRightPos(el) {\n        return Math.ceil(this._tabsWidth - el.offsetLeft - el.getBoundingClientRect().width);\n    }\n    _calcLeftPos(el) {\n        return Math.floor(el.offsetLeft);\n    }\n    updateTabIndicator() {\n        this._setTabsAndTabWidth();\n        this._animateIndicator(this._index);\n    }\n    _animateIndicator(prevIndex) {\n        let leftDelay = 0, rightDelay = 0;\n        if (this._index - prevIndex >= 0)\n            leftDelay = 90;\n        else\n            rightDelay = 90;\n        const animOptions = {\n            targets: this._indicator,\n            left: {\n                value: this._calcLeftPos(this._activeTabLink),\n                delay: leftDelay\n            },\n            right: {\n                value: this._calcRightPos(this._activeTabLink),\n                delay: rightDelay\n            },\n            duration: this.options.duration,\n            easing: 'easeOutQuad'\n        };\n        animejs_1.default.remove(this._indicator);\n        (0, animejs_1.default)(animOptions);\n    }\n    select(tabId) {\n        const tab = Array.from(this._tabLinks).find((a) => a.getAttribute('href') === '#' + tabId);\n        if (tab)\n            tab.click();\n    }\n}\nexports.Tabs = Tabs;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDO2dCQUM3QyxLQUFLLEVBQUUsU0FBUzthQUNqQjtZQUNELEtBQUssRUFBRTtnQkFDTCxLQUFLLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDO2dCQUM5QyxLQUFLLEVBQUUsVUFBVTthQUNsQjtZQUNELFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVE7WUFDL0IsTUFBTSxFQUFFLGFBQWE7U0FDdEIsQ0FBQztRQUNGLGlCQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM3QixxQkFBSSxFQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3BCLENBQUM7SUFFRCxNQUFNLENBQUMsS0FBSztRQUNWLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQW9CLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxHQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzVHLElBQUksR0FBRztZQUFzQixHQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDNUMsQ0FBQztDQUNGO0FBclJILG9CQXFSRyIsInNvdXJjZXMiOlsid2VicGFjazovL00vLi9zcmMvdGFicy50cz9mZjM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0ICQgZnJvbSBcImNhc2gtZG9tXCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5pbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuaW1wb3J0IHsgQ2Fyb3VzZWwgfSBmcm9tIFwiLi9jYXJvdXNlbFwiO1xuXG5sZXQgX2RlZmF1bHRzID0ge1xuICBkdXJhdGlvbjogMzAwLFxuICBvblNob3c6IG51bGwsXG4gIHN3aXBlYWJsZTogZmFsc2UsXG4gIHJlc3BvbnNpdmVUaHJlc2hvbGQ6IEluZmluaXR5LCAvLyBicmVha3BvaW50IGZvciBzd2lwZWFibGVcbn07XG5cbmV4cG9ydCBjbGFzcyBUYWJzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgX3RhYkxpbmtzOiBhbnk7XG4gIF9pbmRleDogbnVtYmVyO1xuICBfaW5kaWNhdG9yOiBhbnk7XG4gIF9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZDogKHRoaXM6IFdpbmRvdywgZXY6IFVJRXZlbnQpID0+IGFueTtcbiAgX2hhbmRsZVRhYkNsaWNrQm91bmQ6ICh0aGlzOiBXaW5kb3csIGV2OiBVSUV2ZW50KSA9PiBhbnk7XG4gIF90YWJXaWR0aDogbnVtYmVyO1xuICBfdGFic1dpZHRoOiBudW1iZXI7XG4gIF90YWJzQ2Fyb3VzZWw6IGFueTtcbiAgX2FjdGl2ZVRhYkxpbms6IGFueTtcbiAgX2NvbnRlbnQ6IGFueTtcblxuICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9uczogYW55KSB7XG4gICAgc3VwZXIoVGFicywgZWwsIG9wdGlvbnMpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX1RhYnMgPSB0aGlzO1xuXG4gICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgVGFicy5kZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICB0aGlzLl90YWJMaW5rcyA9IHRoaXMuJGVsWzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpLnRhYiA+IGEnKTtcbiAgICAgIHRoaXMuX2luZGV4ID0gMDtcbiAgICAgIHRoaXMuX3NldHVwQWN0aXZlVGFiTGluaygpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zd2lwZWFibGUpIHtcbiAgICAgICAgdGhpcy5fc2V0dXBTd2lwZWFibGVUYWJzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZXR1cE5vcm1hbFRhYnMoKTtcbiAgICAgIH1cbiAgICAgIC8vIFNldHVwIHRhYnMgaW5kaWNhdG9yIGFmdGVyIGNvbnRlbnQgdG8gZW5zdXJlIGFjY3VyYXRlIHdpZHRoc1xuICAgICAgdGhpcy5fc2V0VGFic0FuZFRhYldpZHRoKCk7XG4gICAgICB0aGlzLl9jcmVhdGVJbmRpY2F0b3IoKTtcbiAgICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgIGNvbnN0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX1RhYnM7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHRoaXMuX2luZGljYXRvci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2luZGljYXRvcik7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnN3aXBlYWJsZSkge1xuICAgICAgICB0aGlzLl90ZWFyZG93blN3aXBlYWJsZVRhYnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3RlYXJkb3duTm9ybWFsVGFicygpO1xuICAgICAgfVxuICAgICAgdGhpcy4kZWxbMF0uTV9UYWJzID0gdW5kZWZpbmVkO1xuXG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZUJvdW5kID0gdGhpcy5faGFuZGxlV2luZG93UmVzaXplLmJpbmQodGhpcyk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplQm91bmQpO1xuICAgICAgdGhpcy5faGFuZGxlVGFiQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZVRhYkNsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVGFiQ2xpY2tCb3VuZCk7XG4gICAgfVxuXG4gICAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplQm91bmQpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRhYkNsaWNrQm91bmQpO1xuICAgIH1cblxuICAgIF9oYW5kbGVXaW5kb3dSZXNpemUoKSB7XG4gICAgICB0aGlzLl9zZXRUYWJzQW5kVGFiV2lkdGgoKTtcbiAgICAgIGlmICh0aGlzLl90YWJXaWR0aCAhPT0gMCAmJiB0aGlzLl90YWJzV2lkdGggIT09IDApIHtcbiAgICAgICAgdGhpcy5faW5kaWNhdG9yLnN0eWxlLmxlZnQgPSB0aGlzLl9jYWxjTGVmdFBvcyh0aGlzLl9hY3RpdmVUYWJMaW5rKSsncHgnO1xuICAgICAgICB0aGlzLl9pbmRpY2F0b3Iuc3R5bGUucmlnaHQgPSB0aGlzLl9jYWxjUmlnaHRQb3ModGhpcy5fYWN0aXZlVGFiTGluaykrJ3B4JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlVGFiQ2xpY2soZSkge1xuICAgICAgY29uc3QgdGFiTGluayA9IGUudGFyZ2V0O1xuICAgICAgY29uc3QgdGFiID0gdGFiTGluay5wYXJlbnRFbGVtZW50OyAgXG4gICAgICAvLyBIYW5kbGUgY2xpY2sgb24gdGFiIGxpbmsgb25seVxuICAgICAgaWYgKCF0YWJMaW5rIHx8ICF0YWIuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWInKSkgcmV0dXJuO1xuICAgICAgLy8gaXMgZGlzYWJsZWQ/XG4gICAgICBpZiAodGFiLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEFjdCBhcyByZWd1bGFyIGxpbmsgaWYgdGFyZ2V0IGF0dHJpYnV0ZSBpcyBzcGVjaWZpZWQuXG4gICAgICBpZiAodGFiTGluay5oYXNBdHRyaWJ1dGUoJ3RhcmdldCcpKSByZXR1cm47XG4gICAgICAvLyBNYWtlIHRoZSBvbGQgdGFiIGluYWN0aXZlLlxuICAgICAgdGhpcy5fYWN0aXZlVGFiTGluay5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGNvbnN0IF9vbGRDb250ZW50ID0gdGhpcy5fY29udGVudDsgICAgICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgdmFyaWFibGVzIHdpdGggdGhlIG5ldyBsaW5rIGFuZCBjb250ZW50XG5cbiAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsgPSB0YWJMaW5rO1xuICAgICAgdGhpcy5fY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFiTGluay5oYXNoKTtcbiAgICAgIHRoaXMuX3RhYkxpbmtzID0gdGhpcy4kZWxbMF0ucXVlcnlTZWxlY3RvckFsbCgnbGkudGFiID4gYScpO1xuICAgICAgLy8gTWFrZSB0aGUgdGFiIGFjdGl2ZVxuICAgICAgdGhpcy5fYWN0aXZlVGFiTGluay5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGNvbnN0IHByZXZJbmRleCA9IHRoaXMuX2luZGV4O1xuICAgICAgdGhpcy5faW5kZXggPSBNYXRoLm1heChBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5pbmRleE9mKHRhYkxpbmspLCAwKTtcblxuICAgICAgLy8gU3dhcCBjb250ZW50XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnN3aXBlYWJsZSkge1xuICAgICAgICBpZiAodGhpcy5fdGFic0Nhcm91c2VsKSB7XG4gICAgICAgICAgdGhpcy5fdGFic0Nhcm91c2VsLnNldCh0aGlzLl9pbmRleCwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TaG93ID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMub25TaG93LmNhbGwodGhpcywgdGhpcy5fY29udGVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgdGhpcy5fY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICB0aGlzLl9jb250ZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uU2hvdyA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vblNob3cuY2FsbCh0aGlzLCB0aGlzLl9jb250ZW50KTtcbiAgICAgICAgICBpZiAoX29sZENvbnRlbnQgJiYgX29sZENvbnRlbnQgIT09IHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICAgIF9vbGRDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICBfb2xkQ29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFVwZGF0ZSB3aWR0aHMgYWZ0ZXIgY29udGVudCBpcyBzd2FwcGVkIChzY3JvbGxiYXIgYnVnZml4KVxuICAgICAgdGhpcy5fc2V0VGFic0FuZFRhYldpZHRoKCk7XG4gICAgICB0aGlzLl9hbmltYXRlSW5kaWNhdG9yKHByZXZJbmRleCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUluZGljYXRvcigpIHtcbiAgICAgIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBpbmRpY2F0b3IuY2xhc3NMaXN0LmFkZCgnaW5kaWNhdG9yJyk7XG4gICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKGluZGljYXRvcik7XG4gICAgICB0aGlzLl9pbmRpY2F0b3IgPSBpbmRpY2F0b3I7XG4gICAgICB0aGlzLl9pbmRpY2F0b3Iuc3R5bGUubGVmdCA9IHRoaXMuX2NhbGNMZWZ0UG9zKHRoaXMuX2FjdGl2ZVRhYkxpbmspKydweCc7XG4gICAgICB0aGlzLl9pbmRpY2F0b3Iuc3R5bGUucmlnaHQgPSB0aGlzLl9jYWxjUmlnaHRQb3ModGhpcy5fYWN0aXZlVGFiTGluaykrJ3B4JztcbiAgICB9XG5cbiAgICBfc2V0dXBBY3RpdmVUYWJMaW5rKCkge1xuICAgICAgLy8gSWYgdGhlIGxvY2F0aW9uLmhhc2ggbWF0Y2hlcyBvbmUgb2YgdGhlIGxpbmtzLCB1c2UgdGhhdCBhcyB0aGUgYWN0aXZlIHRhYi5cbiAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsgPSBBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5maW5kKChhOiBIVE1MQW5jaG9yRWxlbWVudCkgPT4gYS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA9PT0gbG9jYXRpb24uaGFzaCk7XG4gICAgICAvLyBJZiBubyBtYXRjaCBpcyBmb3VuZCwgdXNlIHRoZSBmaXJzdCBsaW5rIG9yIGFueSB3aXRoIGNsYXNzICdhY3RpdmUnIGFzIHRoZSBpbml0aWFsIGFjdGl2ZSB0YWIuXG4gICAgICBpZiAoIXRoaXMuX2FjdGl2ZVRhYkxpbmspIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlVGFiTGluayA9IHRoaXMuJGVsWzBdLnF1ZXJ5U2VsZWN0b3IoJ2xpLnRhYiBhLmFjdGl2ZScpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX2FjdGl2ZVRhYkxpbmsubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsgPSB0aGlzLiRlbFswXS5xdWVyeVNlbGVjdG9yKCdsaS50YWIgYScpO1xuICAgICAgfVxuICAgICAgQXJyYXkuZnJvbSh0aGlzLl90YWJMaW5rcykuZm9yRWFjaCgoYTogSFRNTEFuY2hvckVsZW1lbnQpID0+IGEuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xuICAgICAgdGhpcy5fYWN0aXZlVGFiTGluay5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgICAgdGhpcy5faW5kZXggPSBNYXRoLm1heChBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5pbmRleE9mKHRoaXMuX2FjdGl2ZVRhYkxpbmspLCAwKTtcbiAgICAgIGlmICh0aGlzLl9hY3RpdmVUYWJMaW5rKSB7XG4gICAgICAgIHRoaXMuX2NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2FjdGl2ZVRhYkxpbmsuaGFzaCk7XG4gICAgICAgIHRoaXMuX2NvbnRlbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldHVwU3dpcGVhYmxlVGFicygpIHtcbiAgICAgIC8vIENoYW5nZSBzd2lwZWFibGUgYWNjb3JkaW5nIHRvIHJlc3BvbnNpdmUgdGhyZXNob2xkXG4gICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPiB0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZVRocmVzaG9sZClcbiAgICAgICAgdGhpcy5vcHRpb25zLnN3aXBlYWJsZSA9IGZhbHNlO1xuXG4gICAgICBjb25zdCB0YWJzQ29udGVudCA9IFtdO1xuICAgICAgdGhpcy5fdGFiTGlua3MuZm9yRWFjaChhID0+IHtcbiAgICAgICAgY29uc3QgY3VyckNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGEuaGFzaCk7XG4gICAgICAgIGN1cnJDb250ZW50LmNsYXNzTGlzdC5hZGQoJ2Nhcm91c2VsLWl0ZW0nKTtcbiAgICAgICAgdGFic0NvbnRlbnQucHVzaChjdXJyQ29udGVudCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ3JlYXRlIENhcm91c2VsLVdyYXBwZXIgYXJvdW5kIFRhYi1Db250ZW50c1xuICAgICAgY29uc3QgdGFic1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgXG4gICAgICB0YWJzV3JhcHBlci5jbGFzc0xpc3QuYWRkKCd0YWJzLWNvbnRlbnQnLCAnY2Fyb3VzZWwnLCAnY2Fyb3VzZWwtc2xpZGVyJyk7XG5cbiAgICAgIC8vIFdyYXAgYXJvdW5kXG4gICAgICB0YWJzQ29udGVudFswXS5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZSh0YWJzV3JhcHBlciwgdGFic0NvbnRlbnRbMF0pO1xuICAgICAgdGFic0NvbnRlbnQuZm9yRWFjaCh0YWJDb250ZW50ID0+IHtcbiAgICAgICAgdGFic1dyYXBwZXIuYXBwZW5kQ2hpbGQodGFiQ29udGVudCk7XG4gICAgICAgIHRhYkNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEtlZXAgYWN0aXZlIHRhYiBpbmRleCB0byBzZXQgaW5pdGlhbCBjYXJvdXNlbCBzbGlkZVxuICAgICAgY29uc3QgdGFiID0gdGhpcy5fYWN0aXZlVGFiTGluay5wYXJlbnRFbGVtZW50O1xuICAgICAgY29uc3QgYWN0aXZlVGFiSW5kZXggPSBBcnJheS5mcm9tKHRhYi5wYXJlbnROb2RlLmNoaWxkcmVuKS5pbmRleE9mKHRhYik7XG5cbiAgICAgIHRoaXMuX3RhYnNDYXJvdXNlbCA9IENhcm91c2VsLmluaXQodGFic1dyYXBwZXIsIHtcbiAgICAgICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgICAgICBub1dyYXA6IHRydWUsXG4gICAgICAgIG9uQ3ljbGVUbzogKGl0ZW0pID0+IHtcbiAgICAgICAgICBjb25zdCBwcmV2SW5kZXggPSB0aGlzLl9pbmRleDtcbiAgICAgICAgICB0aGlzLl9pbmRleCA9IEFycmF5LmZyb20oaXRlbS5wYXJlbnROb2RlLmNoaWxkcmVuKS5pbmRleE9mKGl0ZW0pO1xuICAgICAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgdGhpcy5fYWN0aXZlVGFiTGluayA9IEFycmF5LmZyb20odGhpcy5fdGFiTGlua3MpW3RoaXMuX2luZGV4XTtcbiAgICAgICAgICB0aGlzLl9hY3RpdmVUYWJMaW5rLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgIHRoaXMuX2FuaW1hdGVJbmRpY2F0b3IocHJldkluZGV4KTtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblNob3cgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25TaG93LmNhbGwodGhpcywgdGhpcy5fY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gU2V0IGluaXRpYWwgY2Fyb3VzZWwgc2xpZGUgdG8gYWN0aXZlIHRhYlxuICAgICAgdGhpcy5fdGFic0Nhcm91c2VsLnNldChhY3RpdmVUYWJJbmRleCk7XG4gICAgfVxuXG4gICAgX3RlYXJkb3duU3dpcGVhYmxlVGFicygpIHtcbiAgICAgIGNvbnN0ICR0YWJzV3JhcHBlciA9IHRoaXMuX3RhYnNDYXJvdXNlbC4kZWw7XG4gICAgICB0aGlzLl90YWJzQ2Fyb3VzZWwuZGVzdHJveSgpO1xuICAgICAgLy8gVW53cmFwXG4gICAgICAkdGFic1dyYXBwZXIuYWZ0ZXIoJHRhYnNXcmFwcGVyLmNoaWxkcmVuKCkpO1xuICAgICAgJHRhYnNXcmFwcGVyLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIF9zZXR1cE5vcm1hbFRhYnMoKSB7XG4gICAgICAvLyBIaWRlIFRhYnMgQ29udGVudFxuICAgICAgQXJyYXkuZnJvbSh0aGlzLl90YWJMaW5rcykuZm9yRWFjaChhID0+IHtcbiAgICAgICAgaWYgKGEgPT09IHRoaXMuX2FjdGl2ZVRhYkxpbmspIHJldHVybjtcbiAgICAgICAgaWYgKCg8SFRNTEFuY2hvckVsZW1lbnQ+YSkuaGFzaCkge1xuICAgICAgICAgIGNvbnN0IGN1cnJDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigoPEhUTUxBbmNob3JFbGVtZW50PmEpLmhhc2gpO1xuICAgICAgICAgIGlmIChjdXJyQ29udGVudCkgKDxIVE1MRWxlbWVudD5jdXJyQ29udGVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3RlYXJkb3duTm9ybWFsVGFicygpIHtcbiAgICAgIC8vIHNob3cgVGFicyBDb250ZW50XG4gICAgICB0aGlzLl90YWJMaW5rcy5mb3JFYWNoKGEgPT4ge1xuICAgICAgICBpZiAoYS5oYXNoKSB7XG4gICAgICAgICAgY29uc3QgY3VyckNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGEuaGFzaCk7XG4gICAgICAgICAgaWYgKGN1cnJDb250ZW50KSBjdXJyQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9zZXRUYWJzQW5kVGFiV2lkdGgoKSB7XG4gICAgICB0aGlzLl90YWJzV2lkdGggPSB0aGlzLiRlbFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgIHRoaXMuX3RhYldpZHRoID0gTWF0aC5tYXgodGhpcy5fdGFic1dpZHRoLCB0aGlzLmVsLnNjcm9sbFdpZHRoKSAvIHRoaXMuX3RhYkxpbmtzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBfY2FsY1JpZ2h0UG9zKGVsKSB7XG4gICAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuX3RhYnNXaWR0aCAtIGVsLm9mZnNldExlZnQgLSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk7XG4gICAgfVxuXG4gICAgX2NhbGNMZWZ0UG9zKGVsKSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihlbC5vZmZzZXRMZWZ0KTtcbiAgICB9XG5cbiAgICB1cGRhdGVUYWJJbmRpY2F0b3IoKSB7XG4gICAgICB0aGlzLl9zZXRUYWJzQW5kVGFiV2lkdGgoKTtcbiAgICAgIHRoaXMuX2FuaW1hdGVJbmRpY2F0b3IodGhpcy5faW5kZXgpO1xuICAgIH1cblxuICAgIF9hbmltYXRlSW5kaWNhdG9yKHByZXZJbmRleCkge1xuICAgICAgbGV0IGxlZnREZWxheSA9IDAsIHJpZ2h0RGVsYXkgPSAwO1xuXG4gICAgICBpZiAodGhpcy5faW5kZXggLSBwcmV2SW5kZXggPj0gMClcbiAgICAgICAgbGVmdERlbGF5ID0gOTA7XG4gICAgICBlbHNlXG4gICAgICAgIHJpZ2h0RGVsYXkgPSA5MDtcblxuICAgICAgY29uc3QgYW5pbU9wdGlvbnMgPSB7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuX2luZGljYXRvcixcbiAgICAgICAgbGVmdDoge1xuICAgICAgICAgIHZhbHVlOiB0aGlzLl9jYWxjTGVmdFBvcyh0aGlzLl9hY3RpdmVUYWJMaW5rKSxcbiAgICAgICAgICBkZWxheTogbGVmdERlbGF5XG4gICAgICAgIH0sXG4gICAgICAgIHJpZ2h0OiB7XG4gICAgICAgICAgdmFsdWU6IHRoaXMuX2NhbGNSaWdodFBvcyh0aGlzLl9hY3RpdmVUYWJMaW5rKSxcbiAgICAgICAgICBkZWxheTogcmlnaHREZWxheVxuICAgICAgICB9LFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgIH07XG4gICAgICBhbmltLnJlbW92ZSh0aGlzLl9pbmRpY2F0b3IpO1xuICAgICAgYW5pbShhbmltT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc2VsZWN0KHRhYklkKSB7XG4gICAgICBjb25zdCB0YWIgPSBBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5maW5kKChhOiBIVE1MQW5jaG9yRWxlbWVudCkgPT4gYS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA9PT0gJyMnK3RhYklkKTtcbiAgICAgIGlmICh0YWIpICg8SFRNTEFuY2hvckVsZW1lbnQ+dGFiKS5jbGljaygpO1xuICAgIH1cbiAgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///649\n")},968:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TapTarget = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst global_1 = __webpack_require__(238);\nlet _defaults = {\n    onOpen: undefined,\n    onClose: undefined\n};\n/**\n * @class\n *\n */\nclass TapTarget extends component_1.Component {\n    /**\n     * Construct TapTarget instance\n     * @constructor\n     * @param {Element} el\n     * @param {Object} options\n     */\n    constructor(el, options) {\n        super(TapTarget, el, options);\n        this.el.M_TapTarget = this;\n        /**\n         * Options for the select\n         * @member TapTarget#options\n         * @prop {Function} onOpen - Callback function called when feature discovery is opened\n         * @prop {Function} onClose - Callback function called when feature discovery is closed\n         */\n        this.options = cash_dom_1.default.extend({}, TapTarget.defaults, options);\n        this.isOpen = false;\n        // setup\n        this.$origin = (0, cash_dom_1.default)('#' + this.$el.attr('data-target'));\n        this._setup();\n        this._calculatePositioning();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    /**\n     * Get Instance\n     */\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_TapTarget;\n    }\n    /**\n     * Teardown component\n     */\n    destroy() {\n        this._removeEventHandlers();\n        this.el.TapTarget = undefined;\n    }\n    /**\n     * Setup Event Handlers\n     */\n    _setupEventHandlers() {\n        this._handleDocumentClickBound = this._handleDocumentClick.bind(this);\n        this._handleTargetClickBound = this._handleTargetClick.bind(this);\n        this._handleOriginClickBound = this._handleOriginClick.bind(this);\n        this.el.addEventListener('click', this._handleTargetClickBound);\n        this.originEl.addEventListener('click', this._handleOriginClickBound);\n        // Resize\n        let throttledResize = global_1.M.throttle(this._handleResize, 200);\n        this._handleThrottledResizeBound = throttledResize.bind(this);\n        window.addEventListener('resize', this._handleThrottledResizeBound);\n    }\n    /**\n     * Remove Event Handlers\n     */\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleTargetClickBound);\n        this.originEl.removeEventListener('click', this._handleOriginClickBound);\n        window.removeEventListener('resize', this._handleThrottledResizeBound);\n    }\n    /**\n     * Handle Target Click\n     * @param {Event} e\n     */\n    _handleTargetClick(e) {\n        this.open();\n    }\n    /**\n     * Handle Origin Click\n     * @param {Event} e\n     */\n    _handleOriginClick(e) {\n        this.close();\n    }\n    /**\n     * Handle Resize\n     * @param {Event} e\n     */\n    _handleResize(e) {\n        this._calculatePositioning();\n    }\n    /**\n     * Handle Resize\n     * @param {Event} e\n     */\n    _handleDocumentClick(e) {\n        if (!(0, cash_dom_1.default)(e.target).closest('.tap-target-wrapper').length) {\n            this.close();\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    }\n    /**\n     * Setup Tap Target\n     */\n    _setup() {\n        // Creating tap target\n        this.wrapper = this.$el.parent()[0];\n        this.waveEl = (0, cash_dom_1.default)(this.wrapper).find('.tap-target-wave')[0];\n        this.originEl = (0, cash_dom_1.default)(this.wrapper).find('.tap-target-origin')[0];\n        this.contentEl = this.$el.find('.tap-target-content')[0];\n        // Creating wrapper\n        if (!(0, cash_dom_1.default)(this.wrapper).hasClass('.tap-target-wrapper')) {\n            this.wrapper = document.createElement('div');\n            this.wrapper.classList.add('tap-target-wrapper');\n            this.$el.before((0, cash_dom_1.default)(this.wrapper));\n            this.wrapper.append(this.el);\n        }\n        // Creating content\n        if (!this.contentEl) {\n            this.contentEl = document.createElement('div');\n            this.contentEl.classList.add('tap-target-content');\n            this.$el.append(this.contentEl);\n        }\n        // Creating foreground wave\n        if (!this.waveEl) {\n            this.waveEl = document.createElement('div');\n            this.waveEl.classList.add('tap-target-wave');\n            // Creating origin\n            if (!this.originEl) {\n                this.originEl = this.$origin.clone(true, true);\n                this.originEl.addClass('tap-target-origin');\n                this.originEl.removeAttr('id');\n                this.originEl.removeAttr('style');\n                this.originEl = this.originEl[0];\n                this.waveEl.append(this.originEl);\n            }\n            this.wrapper.append(this.waveEl);\n        }\n    }\n    /**\n     * Calculate positioning\n     */\n    _calculatePositioning() {\n        // Element or parent is fixed position?\n        let isFixed = this.$origin.css('position') === 'fixed';\n        if (!isFixed) {\n            let parents = this.$origin.parents();\n            for (let i = 0; i < parents.length; i++) {\n                isFixed = (0, cash_dom_1.default)(parents[i]).css('position') == 'fixed';\n                if (isFixed) {\n                    break;\n                }\n            }\n        }\n        // Calculating origin\n        let originWidth = this.$origin.outerWidth();\n        let originHeight = this.$origin.outerHeight();\n        let originTop = isFixed\n            ? this.$origin.offset().top - global_1.M.getDocumentScrollTop()\n            : this.$origin.offset().top;\n        let originLeft = isFixed\n            ? this.$origin.offset().left - global_1.M.getDocumentScrollLeft()\n            : this.$origin.offset().left;\n        // Calculating screen\n        let windowWidth = window.innerWidth;\n        let windowHeight = window.innerHeight;\n        let scrollBarWidth = windowWidth - document.documentElement.clientWidth;\n        let centerX = windowWidth / 2;\n        let centerY = windowHeight / 2;\n        let isLeft = originLeft <= centerX;\n        let isRight = originLeft > centerX;\n        let isTop = originTop <= centerY;\n        let isBottom = originTop > centerY;\n        let isCenterX = originLeft >= windowWidth * 0.25 && originLeft <= windowWidth * 0.75;\n        // Calculating tap target\n        let tapTargetWidth = this.$el.outerWidth();\n        let tapTargetHeight = this.$el.outerHeight();\n        let tapTargetTop = originTop + originHeight / 2 - tapTargetHeight / 2;\n        let tapTargetLeft = originLeft + originWidth / 2 - tapTargetWidth / 2;\n        let tapTargetPosition = isFixed ? 'fixed' : 'absolute';\n        // Calculating content\n        let tapTargetTextWidth = isCenterX ? tapTargetWidth : tapTargetWidth / 2 + originWidth;\n        let tapTargetTextHeight = tapTargetHeight / 2;\n        let tapTargetTextTop = isTop ? tapTargetHeight / 2 : 0;\n        let tapTargetTextBottom = 0;\n        let tapTargetTextLeft = isLeft && !isCenterX ? tapTargetWidth / 2 - originWidth : 0;\n        let tapTargetTextRight = 0;\n        let tapTargetTextPadding = originWidth;\n        let tapTargetTextAlign = isBottom ? 'bottom' : 'top';\n        // Calculating wave\n        let tapTargetWaveWidth = originWidth > originHeight ? originWidth * 2 : originWidth * 2;\n        let tapTargetWaveHeight = tapTargetWaveWidth;\n        let tapTargetWaveTop = tapTargetHeight / 2 - tapTargetWaveHeight / 2;\n        let tapTargetWaveLeft = tapTargetWidth / 2 - tapTargetWaveWidth / 2;\n        // Setting tap target\n        let tapTargetWrapperCssObj = {\n            top: isTop ? tapTargetTop + 'px' : '',\n            right: isRight\n                ? windowWidth - tapTargetLeft - tapTargetWidth - scrollBarWidth + 'px'\n                : '',\n            bottom: isBottom\n                ? windowHeight - tapTargetTop - tapTargetHeight + 'px'\n                : '',\n            left: isLeft ? tapTargetLeft + 'px' : '',\n            position: tapTargetPosition\n        };\n        (0, cash_dom_1.default)(this.wrapper).css(tapTargetWrapperCssObj);\n        // Setting content\n        (0, cash_dom_1.default)(this.contentEl).css({\n            width: tapTargetTextWidth + 'px',\n            height: tapTargetTextHeight + 'px',\n            top: tapTargetTextTop + 'px',\n            right: tapTargetTextRight + 'px',\n            bottom: tapTargetTextBottom + 'px',\n            left: tapTargetTextLeft + 'px',\n            padding: tapTargetTextPadding + 'px',\n            verticalAlign: tapTargetTextAlign\n        });\n        // Setting wave\n        (0, cash_dom_1.default)(this.waveEl).css({\n            top: tapTargetWaveTop + 'px',\n            left: tapTargetWaveLeft + 'px',\n            width: tapTargetWaveWidth + 'px',\n            height: tapTargetWaveHeight + 'px'\n        });\n    }\n    /**\n     * Open TapTarget\n     */\n    open() {\n        if (this.isOpen) {\n            return;\n        }\n        // onOpen callback\n        if (typeof this.options.onOpen === 'function') {\n            this.options.onOpen.call(this, this.$origin[0]);\n        }\n        this.isOpen = true;\n        this.wrapper.classList.add('open');\n        document.body.addEventListener('click', this._handleDocumentClickBound, true);\n        document.body.addEventListener('touchend', this._handleDocumentClickBound);\n    }\n    /**\n     * Close Tap Target\n     */\n    close() {\n        if (!this.isOpen) {\n            return;\n        }\n        // onClose callback\n        if (typeof this.options.onClose === 'function') {\n            this.options.onClose.call(this, this.$origin[0]);\n        }\n        this.isOpen = false;\n        this.wrapper.classList.remove('open');\n        document.body.removeEventListener('click', this._handleDocumentClickBound, true);\n        document.body.removeEventListener('touchend', this._handleDocumentClickBound);\n    }\n}\nexports.TapTarget = TapTarget;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM5RSxRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMseUJBQXlCLENBQUMsQ0FBQztJQUM3RSxDQUFDO0lBRUQ7O09BRUc7SUFDSCxLQUFLO1FBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDaEIsT0FBTztTQUNSO1FBRUQsbUJBQW1CO1FBQ25CLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sS0FBSyxVQUFVLEVBQUU7WUFDOUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbEQ7UUFFRCxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFdEMsUUFBUSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLHlCQUF5QixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pGLFFBQVEsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQ2hGLENBQUM7Q0FDRjtBQW5URCw4QkFtVEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL3RhcFRhcmdldC50cz9mYjI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0ICQgZnJvbSBcImNhc2gtZG9tXCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5cbiAgbGV0IF9kZWZhdWx0cyA9IHtcbiAgICBvbk9wZW46IHVuZGVmaW5lZCxcbiAgICBvbkNsb3NlOiB1bmRlZmluZWRcbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuICBleHBvcnQgY2xhc3MgVGFwVGFyZ2V0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBpc09wZW46IGFueTtcbiAgICB3cmFwcGVyOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kOiAodGhpczogSFRNTEVsZW1lbnQsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnk7XG4gICAgJG9yaWdpbjogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZVRhcmdldENsaWNrQm91bmQ6IEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3Q7XG4gICAgb3JpZ2luRWw6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVPcmlnaW5DbGlja0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQ6IGFueTtcbiAgICB3YXZlRWw6IEhUTUxFbGVtZW50ICYgRWxlbWVudCAmIE5vZGU7XG4gICAgY29udGVudEVsOiBhbnk7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IFRhcFRhcmdldCBpbnN0YW5jZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgICBzdXBlcihUYXBUYXJnZXQsIGVsLCBvcHRpb25zKTtcblxuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX1RhcFRhcmdldCA9IHRoaXM7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBmb3IgdGhlIHNlbGVjdFxuICAgICAgICogQG1lbWJlciBUYXBUYXJnZXQjb3B0aW9uc1xuICAgICAgICogQHByb3Age0Z1bmN0aW9ufSBvbk9wZW4gLSBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgd2hlbiBmZWF0dXJlIGRpc2NvdmVyeSBpcyBvcGVuZWRcbiAgICAgICAqIEBwcm9wIHtGdW5jdGlvbn0gb25DbG9zZSAtIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCB3aGVuIGZlYXR1cmUgZGlzY292ZXJ5IGlzIGNsb3NlZFxuICAgICAgICovXG4gICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgVGFwVGFyZ2V0LmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcblxuICAgICAgLy8gc2V0dXBcbiAgICAgIHRoaXMuJG9yaWdpbiA9ICQoJyMnICsgdGhpcy4kZWwuYXR0cignZGF0YS10YXJnZXQnKSk7XG4gICAgICB0aGlzLl9zZXR1cCgpO1xuXG4gICAgICB0aGlzLl9jYWxjdWxhdGVQb3NpdGlvbmluZygpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX1RhcFRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5UYXBUYXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgRXZlbnQgSGFuZGxlcnNcbiAgICAgKi9cbiAgICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlRG9jdW1lbnRDbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlVGFyZ2V0Q2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZVRhcmdldENsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVPcmlnaW5DbGlja0JvdW5kID0gdGhpcy5faGFuZGxlT3JpZ2luQ2xpY2suYmluZCh0aGlzKTtcblxuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRhcmdldENsaWNrQm91bmQpO1xuICAgICAgdGhpcy5vcmlnaW5FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9yaWdpbkNsaWNrQm91bmQpO1xuXG4gICAgICAvLyBSZXNpemVcbiAgICAgIGxldCB0aHJvdHRsZWRSZXNpemUgPSBNLnRocm90dGxlKHRoaXMuX2hhbmRsZVJlc2l6ZSwgMjAwKTtcbiAgICAgIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kID0gdGhyb3R0bGVkUmVzaXplLmJpbmQodGhpcyk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIEV2ZW50IEhhbmRsZXJzXG4gICAgICovXG4gICAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVGFyZ2V0Q2xpY2tCb3VuZCk7XG4gICAgICB0aGlzLm9yaWdpbkVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlT3JpZ2luQ2xpY2tCb3VuZCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBUYXJnZXQgQ2xpY2tcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgX2hhbmRsZVRhcmdldENsaWNrKGUpIHtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBPcmlnaW4gQ2xpY2tcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgX2hhbmRsZU9yaWdpbkNsaWNrKGUpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgUmVzaXplXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqL1xuICAgIF9oYW5kbGVSZXNpemUoZSkge1xuICAgICAgdGhpcy5fY2FsY3VsYXRlUG9zaXRpb25pbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgUmVzaXplXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqL1xuICAgIF9oYW5kbGVEb2N1bWVudENsaWNrKGUpIHtcbiAgICAgIGlmICghJChlLnRhcmdldCkuY2xvc2VzdCgnLnRhcC10YXJnZXQtd3JhcHBlcicpLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR1cCBUYXAgVGFyZ2V0XG4gICAgICovXG4gICAgX3NldHVwKCkge1xuICAgICAgLy8gQ3JlYXRpbmcgdGFwIHRhcmdldFxuICAgICAgdGhpcy53cmFwcGVyID0gdGhpcy4kZWwucGFyZW50KClbMF07XG4gICAgICB0aGlzLndhdmVFbCA9ICQodGhpcy53cmFwcGVyKS5maW5kKCcudGFwLXRhcmdldC13YXZlJylbMF07XG4gICAgICB0aGlzLm9yaWdpbkVsID0gJCh0aGlzLndyYXBwZXIpLmZpbmQoJy50YXAtdGFyZ2V0LW9yaWdpbicpWzBdO1xuICAgICAgdGhpcy5jb250ZW50RWwgPSB0aGlzLiRlbC5maW5kKCcudGFwLXRhcmdldC1jb250ZW50JylbMF07XG5cbiAgICAgIC8vIENyZWF0aW5nIHdyYXBwZXJcbiAgICAgIGlmICghJCh0aGlzLndyYXBwZXIpLmhhc0NsYXNzKCcudGFwLXRhcmdldC13cmFwcGVyJykpIHtcbiAgICAgICAgdGhpcy53cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKCd0YXAtdGFyZ2V0LXdyYXBwZXInKTtcbiAgICAgICAgdGhpcy4kZWwuYmVmb3JlKCQodGhpcy53cmFwcGVyKSk7XG4gICAgICAgIHRoaXMud3JhcHBlci5hcHBlbmQodGhpcy5lbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0aW5nIGNvbnRlbnRcbiAgICAgIGlmICghdGhpcy5jb250ZW50RWwpIHtcbiAgICAgICAgdGhpcy5jb250ZW50RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5jb250ZW50RWwuY2xhc3NMaXN0LmFkZCgndGFwLXRhcmdldC1jb250ZW50Jyk7XG4gICAgICAgIHRoaXMuJGVsLmFwcGVuZCh0aGlzLmNvbnRlbnRFbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0aW5nIGZvcmVncm91bmQgd2F2ZVxuICAgICAgaWYgKCF0aGlzLndhdmVFbCkge1xuICAgICAgICB0aGlzLndhdmVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLndhdmVFbC5jbGFzc0xpc3QuYWRkKCd0YXAtdGFyZ2V0LXdhdmUnKTtcblxuICAgICAgICAvLyBDcmVhdGluZyBvcmlnaW5cbiAgICAgICAgaWYgKCF0aGlzLm9yaWdpbkVsKSB7XG4gICAgICAgICAgdGhpcy5vcmlnaW5FbCA9IHRoaXMuJG9yaWdpbi5jbG9uZSh0cnVlLCB0cnVlKTtcbiAgICAgICAgICB0aGlzLm9yaWdpbkVsLmFkZENsYXNzKCd0YXAtdGFyZ2V0LW9yaWdpbicpO1xuICAgICAgICAgIHRoaXMub3JpZ2luRWwucmVtb3ZlQXR0cignaWQnKTtcbiAgICAgICAgICB0aGlzLm9yaWdpbkVsLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgdGhpcy5vcmlnaW5FbCA9IHRoaXMub3JpZ2luRWxbMF07XG4gICAgICAgICAgdGhpcy53YXZlRWwuYXBwZW5kKHRoaXMub3JpZ2luRWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZCh0aGlzLndhdmVFbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHBvc2l0aW9uaW5nXG4gICAgICovXG4gICAgX2NhbGN1bGF0ZVBvc2l0aW9uaW5nKCkge1xuICAgICAgLy8gRWxlbWVudCBvciBwYXJlbnQgaXMgZml4ZWQgcG9zaXRpb24/XG4gICAgICBsZXQgaXNGaXhlZCA9IHRoaXMuJG9yaWdpbi5jc3MoJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCc7XG4gICAgICBpZiAoIWlzRml4ZWQpIHtcbiAgICAgICAgbGV0IHBhcmVudHMgPSB0aGlzLiRvcmlnaW4ucGFyZW50cygpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpc0ZpeGVkID0gJChwYXJlbnRzW2ldKS5jc3MoJ3Bvc2l0aW9uJykgPT0gJ2ZpeGVkJztcbiAgICAgICAgICBpZiAoaXNGaXhlZCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENhbGN1bGF0aW5nIG9yaWdpblxuICAgICAgbGV0IG9yaWdpbldpZHRoID0gdGhpcy4kb3JpZ2luLm91dGVyV2lkdGgoKTtcbiAgICAgIGxldCBvcmlnaW5IZWlnaHQgPSB0aGlzLiRvcmlnaW4ub3V0ZXJIZWlnaHQoKTtcbiAgICAgIGxldCBvcmlnaW5Ub3AgPSBpc0ZpeGVkXG4gICAgICAgID8gdGhpcy4kb3JpZ2luLm9mZnNldCgpLnRvcCAtIE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKVxuICAgICAgICA6IHRoaXMuJG9yaWdpbi5vZmZzZXQoKS50b3A7XG4gICAgICBsZXQgb3JpZ2luTGVmdCA9IGlzRml4ZWRcbiAgICAgICAgPyB0aGlzLiRvcmlnaW4ub2Zmc2V0KCkubGVmdCAtIE0uZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KClcbiAgICAgICAgOiB0aGlzLiRvcmlnaW4ub2Zmc2V0KCkubGVmdDtcblxuICAgICAgLy8gQ2FsY3VsYXRpbmcgc2NyZWVuXG4gICAgICBsZXQgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGxldCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICBsZXQgc2Nyb2xsQmFyV2lkdGggPSB3aW5kb3dXaWR0aCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICAgIGxldCBjZW50ZXJYID0gd2luZG93V2lkdGggLyAyO1xuICAgICAgbGV0IGNlbnRlclkgPSB3aW5kb3dIZWlnaHQgLyAyO1xuICAgICAgbGV0IGlzTGVmdCA9IG9yaWdpbkxlZnQgPD0gY2VudGVyWDtcbiAgICAgIGxldCBpc1JpZ2h0ID0gb3JpZ2luTGVmdCA+IGNlbnRlclg7XG4gICAgICBsZXQgaXNUb3AgPSBvcmlnaW5Ub3AgPD0gY2VudGVyWTtcbiAgICAgIGxldCBpc0JvdHRvbSA9IG9yaWdpblRvcCA+IGNlbnRlclk7XG4gICAgICBsZXQgaXNDZW50ZXJYID0gb3JpZ2luTGVmdCA+PSB3aW5kb3dXaWR0aCAqIDAuMjUgJiYgb3JpZ2luTGVmdCA8PSB3aW5kb3dXaWR0aCAqIDAuNzU7XG5cbiAgICAgIC8vIENhbGN1bGF0aW5nIHRhcCB0YXJnZXRcbiAgICAgIGxldCB0YXBUYXJnZXRXaWR0aCA9IHRoaXMuJGVsLm91dGVyV2lkdGgoKTtcbiAgICAgIGxldCB0YXBUYXJnZXRIZWlnaHQgPSB0aGlzLiRlbC5vdXRlckhlaWdodCgpO1xuICAgICAgbGV0IHRhcFRhcmdldFRvcCA9IG9yaWdpblRvcCArIG9yaWdpbkhlaWdodCAvIDIgLSB0YXBUYXJnZXRIZWlnaHQgLyAyO1xuICAgICAgbGV0IHRhcFRhcmdldExlZnQgPSBvcmlnaW5MZWZ0ICsgb3JpZ2luV2lkdGggLyAyIC0gdGFwVGFyZ2V0V2lkdGggLyAyO1xuICAgICAgbGV0IHRhcFRhcmdldFBvc2l0aW9uID0gaXNGaXhlZCA/ICdmaXhlZCcgOiAnYWJzb2x1dGUnO1xuXG4gICAgICAvLyBDYWxjdWxhdGluZyBjb250ZW50XG4gICAgICBsZXQgdGFwVGFyZ2V0VGV4dFdpZHRoID0gaXNDZW50ZXJYID8gdGFwVGFyZ2V0V2lkdGggOiB0YXBUYXJnZXRXaWR0aCAvIDIgKyBvcmlnaW5XaWR0aDtcbiAgICAgIGxldCB0YXBUYXJnZXRUZXh0SGVpZ2h0ID0gdGFwVGFyZ2V0SGVpZ2h0IC8gMjtcbiAgICAgIGxldCB0YXBUYXJnZXRUZXh0VG9wID0gaXNUb3AgPyB0YXBUYXJnZXRIZWlnaHQgLyAyIDogMDtcbiAgICAgIGxldCB0YXBUYXJnZXRUZXh0Qm90dG9tID0gMDtcbiAgICAgIGxldCB0YXBUYXJnZXRUZXh0TGVmdCA9IGlzTGVmdCAmJiAhaXNDZW50ZXJYID8gdGFwVGFyZ2V0V2lkdGggLyAyIC0gb3JpZ2luV2lkdGggOiAwO1xuICAgICAgbGV0IHRhcFRhcmdldFRleHRSaWdodCA9IDA7XG4gICAgICBsZXQgdGFwVGFyZ2V0VGV4dFBhZGRpbmcgPSBvcmlnaW5XaWR0aDtcbiAgICAgIGxldCB0YXBUYXJnZXRUZXh0QWxpZ24gPSBpc0JvdHRvbSA/ICdib3R0b20nIDogJ3RvcCc7XG5cbiAgICAgIC8vIENhbGN1bGF0aW5nIHdhdmVcbiAgICAgIGxldCB0YXBUYXJnZXRXYXZlV2lkdGggPSBvcmlnaW5XaWR0aCA+IG9yaWdpbkhlaWdodCA/IG9yaWdpbldpZHRoICogMiA6IG9yaWdpbldpZHRoICogMjtcbiAgICAgIGxldCB0YXBUYXJnZXRXYXZlSGVpZ2h0ID0gdGFwVGFyZ2V0V2F2ZVdpZHRoO1xuICAgICAgbGV0IHRhcFRhcmdldFdhdmVUb3AgPSB0YXBUYXJnZXRIZWlnaHQgLyAyIC0gdGFwVGFyZ2V0V2F2ZUhlaWdodCAvIDI7XG4gICAgICBsZXQgdGFwVGFyZ2V0V2F2ZUxlZnQgPSB0YXBUYXJnZXRXaWR0aCAvIDIgLSB0YXBUYXJnZXRXYXZlV2lkdGggLyAyO1xuXG4gICAgICAvLyBTZXR0aW5nIHRhcCB0YXJnZXRcbiAgICAgIGxldCB0YXBUYXJnZXRXcmFwcGVyQ3NzT2JqID0ge1xuICAgICAgICB0b3A6IGlzVG9wID8gdGFwVGFyZ2V0VG9wICsgJ3B4JyA6ICcnLFxuICAgICAgICByaWdodDogaXNSaWdodFxuICAgICAgICAgID8gd2luZG93V2lkdGggLSB0YXBUYXJnZXRMZWZ0IC0gdGFwVGFyZ2V0V2lkdGggLSBzY3JvbGxCYXJXaWR0aCArICdweCdcbiAgICAgICAgICA6ICcnLFxuICAgICAgICBib3R0b206IGlzQm90dG9tXG4gICAgICAgICAgPyB3aW5kb3dIZWlnaHQgLSB0YXBUYXJnZXRUb3AgLSB0YXBUYXJnZXRIZWlnaHQgKyAncHgnXG4gICAgICAgICAgOiAnJyxcbiAgICAgICAgbGVmdDogaXNMZWZ0ID8gdGFwVGFyZ2V0TGVmdCArICdweCcgOiAnJyxcbiAgICAgICAgcG9zaXRpb246IHRhcFRhcmdldFBvc2l0aW9uXG4gICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAkKHRoaXMud3JhcHBlcikuY3NzKHRhcFRhcmdldFdyYXBwZXJDc3NPYmopO1xuXG4gICAgICAvLyBTZXR0aW5nIGNvbnRlbnRcbiAgICAgICQodGhpcy5jb250ZW50RWwpLmNzcyh7XG4gICAgICAgIHdpZHRoOiB0YXBUYXJnZXRUZXh0V2lkdGggKyAncHgnLFxuICAgICAgICBoZWlnaHQ6IHRhcFRhcmdldFRleHRIZWlnaHQgKyAncHgnLFxuICAgICAgICB0b3A6IHRhcFRhcmdldFRleHRUb3AgKyAncHgnLFxuICAgICAgICByaWdodDogdGFwVGFyZ2V0VGV4dFJpZ2h0ICsgJ3B4JyxcbiAgICAgICAgYm90dG9tOiB0YXBUYXJnZXRUZXh0Qm90dG9tICsgJ3B4JyxcbiAgICAgICAgbGVmdDogdGFwVGFyZ2V0VGV4dExlZnQgKyAncHgnLFxuICAgICAgICBwYWRkaW5nOiB0YXBUYXJnZXRUZXh0UGFkZGluZyArICdweCcsXG4gICAgICAgIHZlcnRpY2FsQWxpZ246IHRhcFRhcmdldFRleHRBbGlnblxuICAgICAgfSk7XG5cbiAgICAgIC8vIFNldHRpbmcgd2F2ZVxuICAgICAgJCh0aGlzLndhdmVFbCkuY3NzKHtcbiAgICAgICAgdG9wOiB0YXBUYXJnZXRXYXZlVG9wICsgJ3B4JyxcbiAgICAgICAgbGVmdDogdGFwVGFyZ2V0V2F2ZUxlZnQgKyAncHgnLFxuICAgICAgICB3aWR0aDogdGFwVGFyZ2V0V2F2ZVdpZHRoICsgJ3B4JyxcbiAgICAgICAgaGVpZ2h0OiB0YXBUYXJnZXRXYXZlSGVpZ2h0ICsgJ3B4J1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbiBUYXBUYXJnZXRcbiAgICAgKi9cbiAgICBvcGVuKCkge1xuICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gb25PcGVuIGNhbGxiYWNrXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uT3Blbi5jYWxsKHRoaXMsIHRoaXMuJG9yaWdpblswXSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XG5cbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQsIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2UgVGFwIFRhcmdldFxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgaWYgKCF0aGlzLmlzT3Blbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIG9uQ2xvc2UgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2UuY2FsbCh0aGlzLCB0aGlzLiRvcmlnaW5bMF0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcblxuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCwgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kKTtcbiAgICB9XG4gIH1cblxuICBcblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///968\n")},707:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Timepicker = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst global_1 = __webpack_require__(238);\nlet _defaults = {\n    dialRadius: 135,\n    outerRadius: 105,\n    innerRadius: 70,\n    tickRadius: 20,\n    duration: 350,\n    container: null,\n    defaultTime: 'now',\n    fromNow: 0,\n    showClearBtn: false,\n    // internationalization\n    i18n: {\n        cancel: 'Cancel',\n        clear: 'Clear',\n        done: 'Ok'\n    },\n    autoClose: false,\n    twelveHour: true,\n    vibrate: true,\n    // Callbacks\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    onSelect: null\n};\n/**\n * @class\n *\n */\nclass Timepicker extends component_1.Component {\n    constructor(el, options) {\n        super(Timepicker, el, options);\n        this.el.M_Timepicker = this;\n        this.options = cash_dom_1.default.extend({}, Timepicker.defaults, options);\n        this.id = global_1.M.guid();\n        this._insertHTMLIntoDOM();\n        this._setupModal();\n        this._setupVariables();\n        this._setupEventHandlers();\n        this._clockSetup();\n        this._pickerSetup();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static _addLeadingZero(num) {\n        return (num < 10 ? '0' : '') + num;\n    }\n    static _createSVGEl(name) {\n        let svgNS = 'http://www.w3.org/2000/svg';\n        return document.createElementNS(svgNS, name);\n    }\n    /**\n     * @typedef {Object} Point\n     * @property {number} x The X Coordinate\n     * @property {number} y The Y Coordinate\n     */\n    /**\n     * Get x position of mouse or touch event\n     * @param {Event} e\n     * @return {Point} x and y location\n     */\n    static _Pos(e) {\n        if (e.targetTouches && e.targetTouches.length >= 1) {\n            return { x: e.targetTouches[0].clientX, y: e.targetTouches[0].clientY };\n        }\n        // mouse event\n        return { x: e.clientX, y: e.clientY };\n    }\n    /**\n     * Get Instance\n     */\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Timepicker;\n    }\n    /**\n     * Teardown component\n     */\n    destroy() {\n        this._removeEventHandlers();\n        this.modal.destroy();\n        (0, cash_dom_1.default)(this.modalEl).remove();\n        this.el.M_Timepicker = undefined;\n    }\n    /**\n     * Setup Event Handlers\n     */\n    _setupEventHandlers() {\n        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);\n        this._handleInputClickBound = this._handleInputClick.bind(this);\n        this._handleClockClickStartBound = this._handleClockClickStart.bind(this);\n        this._handleDocumentClickMoveBound = this._handleDocumentClickMove.bind(this);\n        this._handleDocumentClickEndBound = this._handleDocumentClickEnd.bind(this);\n        this._inputFromTextFieldBound = this._handleTimeInputEnterKey.bind(this);\n        this.el.addEventListener('click', this._handleInputClickBound);\n        this.el.addEventListener('keydown', this._handleInputKeydownBound);\n        this.plate.addEventListener('mousedown', this._handleClockClickStartBound);\n        this.plate.addEventListener('touchstart', this._handleClockClickStartBound);\n        this.digitalClock.addEventListener('keyup', this._inputFromTextFieldBound);\n        (0, cash_dom_1.default)(this.inputHours).on('click', this.showView.bind(this, 'hours'));\n        (0, cash_dom_1.default)(this.inputMinutes).on('click', this.showView.bind(this, 'minutes'));\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleInputClickBound);\n        this.el.removeEventListener('keydown', this._handleInputKeydownBound);\n    }\n    _handleInputClick() {\n        this.open();\n    }\n    _handleInputKeydown(e) {\n        if (e.which === global_1.M.keys.ENTER) {\n            e.preventDefault();\n            this.open();\n        }\n    }\n    _handleTimeInputEnterKey(e) {\n        if (e.which === global_1.M.keys.ENTER) {\n            e.preventDefault();\n            this._inputFromTextField();\n        }\n    }\n    _handleClockClickStart(e) {\n        e.preventDefault();\n        let clockPlateBR = this.plate.getBoundingClientRect();\n        let offset = { x: clockPlateBR.left, y: clockPlateBR.top };\n        this.x0 = offset.x + this.options.dialRadius;\n        this.y0 = offset.y + this.options.dialRadius;\n        this.moved = false;\n        let clickPos = Timepicker._Pos(e);\n        this.dx = clickPos.x - this.x0;\n        this.dy = clickPos.y - this.y0;\n        // Set clock hands\n        this.setHand(this.dx, this.dy, false);\n        // Mousemove on document\n        document.addEventListener('mousemove', this._handleDocumentClickMoveBound);\n        document.addEventListener('touchmove', this._handleDocumentClickMoveBound);\n        // Mouseup on document\n        document.addEventListener('mouseup', this._handleDocumentClickEndBound);\n        document.addEventListener('touchend', this._handleDocumentClickEndBound);\n    }\n    _handleDocumentClickMove(e) {\n        e.preventDefault();\n        let clickPos = Timepicker._Pos(e);\n        let x = clickPos.x - this.x0;\n        let y = clickPos.y - this.y0;\n        this.moved = true;\n        this.setHand(x, y, false);\n    }\n    _handleDocumentClickEnd(e) {\n        e.preventDefault();\n        document.removeEventListener('mouseup', this._handleDocumentClickEndBound);\n        document.removeEventListener('touchend', this._handleDocumentClickEndBound);\n        let clickPos = Timepicker._Pos(e);\n        let x = clickPos.x - this.x0;\n        let y = clickPos.y - this.y0;\n        if (this.moved && x === this.dx && y === this.dy) {\n            this.setHand(x, y);\n        }\n        if (this.currentView === 'hours') {\n            this.showView('minutes', this.options.duration / 2);\n        }\n        else if (this.options.autoClose) {\n            (0, cash_dom_1.default)(this.minutesView).addClass('timepicker-dial-out');\n            setTimeout(() => {\n                this.done();\n            }, this.options.duration / 2);\n        }\n        if (typeof this.options.onSelect === 'function') {\n            this.options.onSelect.call(this, this.hours, this.minutes);\n        }\n        // Unbind mousemove event\n        document.removeEventListener('mousemove', this._handleDocumentClickMoveBound);\n        document.removeEventListener('touchmove', this._handleDocumentClickMoveBound);\n    }\n    _insertHTMLIntoDOM() {\n        this.$modalEl = (0, cash_dom_1.default)(Timepicker._template);\n        this.modalEl = this.$modalEl[0];\n        this.modalEl.id = 'modal-' + this.id;\n        // Append popover to input by default\n        const optEl = this.options.container;\n        let containerEl = optEl instanceof HTMLElement ? optEl : document.querySelector(optEl);\n        if (this.options.container && !!containerEl) {\n            this.$modalEl.appendTo(containerEl);\n        }\n        else {\n            this.$modalEl.insertBefore(this.el);\n        }\n    }\n    _setupModal() {\n        this.modal = global_1.M.Modal.init(this.modalEl, {\n            onOpenStart: this.options.onOpenStart,\n            onOpenEnd: this.options.onOpenEnd,\n            onCloseStart: this.options.onCloseStart,\n            onCloseEnd: () => {\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this);\n                }\n                this.isOpen = false;\n            }\n        });\n    }\n    _setupVariables() {\n        this.currentView = 'hours';\n        this.vibrate = navigator.vibrate\n            ? 'vibrate'\n            : navigator.webkitVibrate\n                ? 'webkitVibrate'\n                : null;\n        this._canvas = this.modalEl.querySelector('.timepicker-canvas');\n        this.plate = this.modalEl.querySelector('.timepicker-plate');\n        this.digitalClock = this.modalEl.querySelector('.timepicker-display-column');\n        this.hoursView = this.modalEl.querySelector('.timepicker-hours');\n        this.minutesView = this.modalEl.querySelector('.timepicker-minutes');\n        this.inputHours = this.modalEl.querySelector('.timepicker-input-hours');\n        this.inputMinutes = this.modalEl.querySelector('.timepicker-input-minutes');\n        this.spanAmPm = this.modalEl.querySelector('.timepicker-span-am-pm');\n        this.footer = this.modalEl.querySelector('.timepicker-footer');\n        this.amOrPm = 'PM';\n    }\n    _pickerSetup() {\n        let $clearBtn = (0, cash_dom_1.default)(`<button class=\"btn-flat timepicker-clear waves-effect\" style=\"visibility: hidden;\" type=\"button\" tabindex=\"${this.options.twelveHour ? '3' : '1'}\">${this.options.i18n.clear}</button>`)\n            .appendTo(this.footer)\n            .on('click', this.clear.bind(this));\n        if (this.options.showClearBtn) {\n            $clearBtn.css({ visibility: '' });\n        }\n        let confirmationBtnsContainer = (0, cash_dom_1.default)('<div class=\"confirmation-btns\"></div>');\n        (0, cash_dom_1.default)('<button class=\"btn-flat timepicker-close waves-effect\" type=\"button\" tabindex=\"' +\n            (this.options.twelveHour ? '3' : '1') +\n            '\">' +\n            this.options.i18n.cancel +\n            '</button>')\n            .appendTo(confirmationBtnsContainer)\n            .on('click', this.close.bind(this));\n        (0, cash_dom_1.default)('<button class=\"btn-flat timepicker-close waves-effect\" type=\"button\" tabindex=\"' +\n            (this.options.twelveHour ? '3' : '1') +\n            '\">' +\n            this.options.i18n.done +\n            '</button>')\n            .appendTo(confirmationBtnsContainer)\n            .on('click', this.done.bind(this));\n        confirmationBtnsContainer.appendTo(this.footer);\n    }\n    _clockSetup() {\n        if (this.options.twelveHour) {\n            this.$amBtn = (0, cash_dom_1.default)('<div class=\"am-btn\">AM</div>');\n            this.$pmBtn = (0, cash_dom_1.default)('<div class=\"pm-btn\">PM</div>');\n            this.$amBtn.on('click', this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm);\n            this.$pmBtn.on('click', this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm);\n        }\n        this._buildHoursView();\n        this._buildMinutesView();\n        this._buildSVGClock();\n    }\n    _buildSVGClock() {\n        // Draw clock hands and others\n        let dialRadius = this.options.dialRadius;\n        let tickRadius = this.options.tickRadius;\n        let diameter = dialRadius * 2;\n        let svg = Timepicker._createSVGEl('svg');\n        svg.setAttribute('class', 'timepicker-svg');\n        svg.setAttribute('width', diameter.toString());\n        svg.setAttribute('height', diameter.toString());\n        let g = Timepicker._createSVGEl('g');\n        g.setAttribute('transform', 'translate(' + dialRadius + ',' + dialRadius + ')');\n        let bearing = Timepicker._createSVGEl('circle');\n        bearing.setAttribute('class', 'timepicker-canvas-bearing');\n        bearing.setAttribute('cx', '0');\n        bearing.setAttribute('cy', '0');\n        bearing.setAttribute('r', '4');\n        let hand = Timepicker._createSVGEl('line');\n        hand.setAttribute('x1', '0');\n        hand.setAttribute('y1', '0');\n        let bg = Timepicker._createSVGEl('circle');\n        bg.setAttribute('class', 'timepicker-canvas-bg');\n        bg.setAttribute('r', tickRadius);\n        g.appendChild(hand);\n        g.appendChild(bg);\n        g.appendChild(bearing);\n        svg.appendChild(g);\n        this._canvas.appendChild(svg);\n        this.hand = hand;\n        this.bg = bg;\n        this.bearing = bearing;\n        this.g = g;\n    }\n    _buildHoursView() {\n        let $tick = (0, cash_dom_1.default)('<div class=\"timepicker-tick\"></div>');\n        // Hours view\n        if (this.options.twelveHour) {\n            for (let i = 1; i < 13; i += 1) {\n                let tick = $tick.clone();\n                let radian = (i / 6) * Math.PI;\n                let radius = this.options.outerRadius;\n                tick.css({\n                    left: this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px',\n                    top: this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px'\n                });\n                tick.html(i === 0 ? '00' : i.toString());\n                this.hoursView.appendChild(tick[0]);\n                // tick.on(mousedownEvent, mousedown);\n            }\n        }\n        else {\n            for (let i = 0; i < 24; i += 1) {\n                let tick = $tick.clone();\n                let radian = (i / 6) * Math.PI;\n                let inner = i > 0 && i < 13;\n                let radius = inner ? this.options.innerRadius : this.options.outerRadius;\n                tick.css({\n                    left: this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px',\n                    top: this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px'\n                });\n                tick.html(i === 0 ? '00' : i.toString());\n                this.hoursView.appendChild(tick[0]);\n                // tick.on(mousedownEvent, mousedown);\n            }\n        }\n    }\n    _buildMinutesView() {\n        let $tick = (0, cash_dom_1.default)('<div class=\"timepicker-tick\"></div>');\n        // Minutes view\n        for (let i = 0; i < 60; i += 5) {\n            let tick = $tick.clone();\n            let radian = (i / 30) * Math.PI;\n            tick.css({\n                left: this.options.dialRadius +\n                    Math.sin(radian) * this.options.outerRadius -\n                    this.options.tickRadius +\n                    'px',\n                top: this.options.dialRadius -\n                    Math.cos(radian) * this.options.outerRadius -\n                    this.options.tickRadius +\n                    'px'\n            });\n            tick.html(Timepicker._addLeadingZero(i));\n            this.minutesView.appendChild(tick[0]);\n        }\n    }\n    _handleAmPmClick(e) {\n        let $btnClicked = (0, cash_dom_1.default)(e.target);\n        this.amOrPm = $btnClicked.hasClass('am-btn') ? 'AM' : 'PM';\n        this._updateAmPmView();\n    }\n    _updateAmPmView() {\n        if (this.options.twelveHour) {\n            this.$amBtn.toggleClass('text-primary', this.amOrPm === 'AM');\n            this.$pmBtn.toggleClass('text-primary', this.amOrPm === 'PM');\n        }\n    }\n    _updateTimeFromInput() {\n        // Get the time\n        let value = ((this.el.value || this.options.defaultTime || '') + '').split(':');\n        if (this.options.twelveHour && !(typeof value[1] === 'undefined')) {\n            if (value[1].toUpperCase().indexOf('AM') > 0) {\n                this.amOrPm = 'AM';\n            }\n            else {\n                this.amOrPm = 'PM';\n            }\n            value[1] = value[1].replace('AM', '').replace('PM', '');\n        }\n        if (value[0] === 'now') {\n            let now = new Date(+new Date() + this.options.fromNow);\n            value = [now.getHours().toString(), now.getMinutes().toString()];\n            if (this.options.twelveHour) {\n                this.amOrPm = parseInt(value[0]) >= 12 && parseInt(value[0]) < 24 ? 'PM' : 'AM';\n            }\n        }\n        this.hours = +value[0] || 0;\n        this.minutes = +value[1] || 0;\n        this.inputHours.value = this.hours;\n        this.inputMinutes.value = Timepicker._addLeadingZero(this.minutes);\n        this._updateAmPmView();\n    }\n    showView(view, delay = null) {\n        if (view === 'minutes' && (0, cash_dom_1.default)(this.hoursView).css('visibility') === 'visible') {\n            // raiseCallback(this.options.beforeHourSelect);\n        }\n        let isHours = view === 'hours', nextView = isHours ? this.hoursView : this.minutesView, hideView = isHours ? this.minutesView : this.hoursView;\n        this.currentView = view;\n        (0, cash_dom_1.default)(this.inputHours).toggleClass('text-primary', isHours);\n        (0, cash_dom_1.default)(this.inputMinutes).toggleClass('text-primary', !isHours);\n        // Transition view\n        hideView.classList.add('timepicker-dial-out');\n        (0, cash_dom_1.default)(nextView)\n            .css('visibility', 'visible')\n            .removeClass('timepicker-dial-out');\n        // Reset clock hand\n        this.resetClock(delay);\n        // After transitions ended\n        clearTimeout(this.toggleViewTimer);\n        this.toggleViewTimer = setTimeout(() => {\n            (0, cash_dom_1.default)(hideView).css('visibility', 'hidden');\n        }, this.options.duration);\n    }\n    resetClock(delay) {\n        let view = this.currentView, value = this[view], isHours = view === 'hours', unit = Math.PI / (isHours ? 6 : 30), radian = value * unit, radius = isHours && value > 0 && value < 13 ? this.options.innerRadius : this.options.outerRadius, x = Math.sin(radian) * radius, y = -Math.cos(radian) * radius, self = this;\n        if (delay) {\n            (0, cash_dom_1.default)(this.canvas).addClass('timepicker-canvas-out');\n            setTimeout(() => {\n                (0, cash_dom_1.default)(self.canvas).removeClass('timepicker-canvas-out');\n                self.setHand(x, y);\n            }, delay);\n        }\n        else {\n            this.setHand(x, y);\n        }\n    }\n    _inputFromTextField() {\n        const isHours = this.currentView === 'hours';\n        if (isHours) {\n            const value = this['inputHours'].value;\n            if (value > 0 && value < 13) {\n                this.drawClockFromTimeInput(value, isHours);\n                this.showView('minutes', this.options.duration / 2);\n                this.hours = value;\n                this.inputMinutes.focus();\n            }\n            else {\n                const hour = new Date().getHours();\n                this['inputHours'].value = hour % 12;\n            }\n        }\n        else {\n            const value = this['inputMinutes'].value;\n            if (value >= 0 && value < 60) {\n                this['inputMinutes'].value = Timepicker._addLeadingZero(value);\n                this.drawClockFromTimeInput(value, isHours);\n                this.minutes = value;\n                this.modalEl.querySelector('.confirmation-btns :nth-child(2)').focus();\n            }\n            else {\n                const minutes = new Date().getMinutes();\n                this['inputMinutes'].value = Timepicker._addLeadingZero(minutes);\n            }\n        }\n    }\n    drawClockFromTimeInput(value, isHours) {\n        const unit = Math.PI / (isHours ? 6 : 30);\n        const radian = value * unit;\n        let radius;\n        if (this.options.twelveHour) {\n            radius = this.options.outerRadius;\n        }\n        let cx1 = Math.sin(radian) * (radius - this.options.tickRadius), cy1 = -Math.cos(radian) * (radius - this.options.tickRadius), cx2 = Math.sin(radian) * radius, cy2 = -Math.cos(radian) * radius;\n        this.hand.setAttribute('x2', cx1.toString());\n        this.hand.setAttribute('y2', cy1.toString());\n        this.bg.setAttribute('cx', cx2.toString());\n        this.bg.setAttribute('cy', cy2.toString());\n    }\n    setHand(x, y, roundBy5 = false) {\n        let radian = Math.atan2(x, -y), isHours = this.currentView === 'hours', unit = Math.PI / (isHours || roundBy5 ? 6 : 30), z = Math.sqrt(x * x + y * y), inner = isHours && z < (this.options.outerRadius + this.options.innerRadius) / 2, radius = inner ? this.options.innerRadius : this.options.outerRadius;\n        if (this.options.twelveHour) {\n            radius = this.options.outerRadius;\n        }\n        // Radian should in range [0, 2PI]\n        if (radian < 0) {\n            radian = Math.PI * 2 + radian;\n        }\n        // Get the round value\n        let value = Math.round(radian / unit);\n        // Get the round radian\n        radian = value * unit;\n        // Correct the hours or minutes\n        if (this.options.twelveHour) {\n            if (isHours) {\n                if (value === 0)\n                    value = 12;\n            }\n            else {\n                if (roundBy5)\n                    value *= 5;\n                if (value === 60)\n                    value = 0;\n            }\n        }\n        else {\n            if (isHours) {\n                if (value === 12) {\n                    value = 0;\n                }\n                value = inner ? (value === 0 ? 12 : value) : value === 0 ? 0 : value + 12;\n            }\n            else {\n                if (roundBy5) {\n                    value *= 5;\n                }\n                if (value === 60) {\n                    value = 0;\n                }\n            }\n        }\n        // Once hours or minutes changed, vibrate the device\n        if (this[this.currentView] !== value) {\n            if (this.vibrate && this.options.vibrate) {\n                // Do not vibrate too frequently\n                if (!this.vibrateTimer) {\n                    navigator[this.vibrate](10);\n                    this.vibrateTimer = setTimeout(() => {\n                        this.vibrateTimer = null;\n                    }, 100);\n                }\n            }\n        }\n        this[this.currentView] = value;\n        if (isHours) {\n            this['inputHours'].value = value;\n        }\n        else {\n            this['inputMinutes'].value = Timepicker._addLeadingZero(value);\n        }\n        // Set clock hand and others' position\n        let cx1 = Math.sin(radian) * (radius - this.options.tickRadius), cy1 = -Math.cos(radian) * (radius - this.options.tickRadius), cx2 = Math.sin(radian) * radius, cy2 = -Math.cos(radian) * radius;\n        this.hand.setAttribute('x2', cx1.toString());\n        this.hand.setAttribute('y2', cy1.toString());\n        this.bg.setAttribute('cx', cx2.toString());\n        this.bg.setAttribute('cy', cy2.toString());\n    }\n    open() {\n        if (this.isOpen) {\n            return;\n        }\n        this.isOpen = true;\n        this._updateTimeFromInput();\n        this.showView('hours');\n        this.modal.open();\n    }\n    close() {\n        if (!this.isOpen) {\n            return;\n        }\n        this.isOpen = false;\n        this.modal.close();\n    }\n    /**\n     * Finish timepicker selection.\n     */\n    done(e = null, clearValue = null) {\n        // Set input value\n        let last = this.el.value;\n        let value = clearValue\n            ? ''\n            : Timepicker._addLeadingZero(this.hours) + ':' + Timepicker._addLeadingZero(this.minutes);\n        this.time = value;\n        if (!clearValue && this.options.twelveHour) {\n            value = `${value} ${this.amOrPm}`;\n        }\n        this.el.value = value;\n        // Trigger change event\n        if (value !== last) {\n            this.$el.trigger('change');\n        }\n        this.close();\n        this.el.focus();\n    }\n    clear() {\n        this.done(null, true);\n    }\n}\nexports.Timepicker = Timepicker;\n(() => {\n    Timepicker._template = [\n        '<div class= \"modal timepicker-modal\">',\n        '<div class=\"modal-content timepicker-container\">',\n        '<div class=\"timepicker-digital-display\">',\n        '<div class=\"timepicker-text-container\">',\n        '<div class=\"timepicker-display-column\">',\n        '<input type=\"text\" maxlength=\"2\" autofocus class=\"timepicker-input-hours text-primary\" />',\n        ':',\n        '<input type=\"text\" maxlength=\"2\" class=\"timepicker-input-minutes\" />',\n        '</div>',\n        '<div class=\"timepicker-display-column timepicker-display-am-pm\">',\n        '<div class=\"timepicker-span-am-pm\"></div>',\n        '</div>',\n        '</div>',\n        '</div>',\n        '<div class=\"timepicker-analog-display\">',\n        '<div class=\"timepicker-plate\">',\n        '<div class=\"timepicker-canvas\"></div>',\n        '<div class=\"timepicker-dial timepicker-hours\"></div>',\n        '<div class=\"timepicker-dial timepicker-minutes timepicker-dial-out\"></div>',\n        '</div>',\n        '<div class=\"timepicker-footer\"></div>',\n        '</div>',\n        '</div>',\n        '</div>'\n    ].join('');\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzA3LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDZDQUF3QztBQUN4Qyw2REFBeUI7QUFDekIsMENBQTZCO0FBRzNCLElBQUksU0FBUyxHQUFHO0lBQ2QsVUFBVSxFQUFFLEdBQUc7SUFDZixXQUFXLEVBQUUsR0FBRztJQUNoQixXQUFXLEVBQUUsRUFBRTtJQUNmLFVBQVUsRUFBRSxFQUFFO0lBQ2QsUUFBUSxFQUFFLEdBQUc7SUFDYixTQUFTLEVBQUUsSUFBSTtJQUNmLFdBQVcsRUFBRSxLQUFLO0lBQ2xCLE9BQU8sRUFBRSxDQUFDO0lBQ1YsWUFBWSxFQUFFLEtBQUs7SUFFbkIsdUJBQXVCO0lBQ3ZCLElBQUksRUFBRTtRQUNKLE1BQU0sRUFBRSxRQUFRO1FBQ2hCLEtBQUssRUFBRSxPQUFPO1FBQ2QsSUFBSSxFQUFFLElBQUk7S0FDWDtJQUVELFNBQVMsRUFBRSxLQUFLO0lBQ2hCLFVBQVUsRUFBRSxJQUFJO0lBQ2hCLE9BQU8sRUFBRSxJQUFJO0lBRWIsWUFBWTtJQUNaLFdBQVcsRUFBRSxJQUFJO0lBQ2pCLFNBQVMsRUFBRSxJQUFJO0lBQ2YsWUFBWSxFQUFFLElBQUk7SUFDbEIsVUFBVSxFQUFFLElBQUk7SUFDaEIsUUFBUSxFQUFFLElBQUk7Q0FDZixDQUFDO0FBRUY7OztHQUdHO0FBQ0gsTUFBYSxVQUFXLFNBQVEscUJBQVM7SUEwQ3ZDLFlBQVksRUFBRSxFQUFFLE9BQU87UUFDckIsS0FBSyxDQUFDLFVBQVUsRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFFOUIsSUFBSSxDQUFDLEVBQVUsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1FBRXJDLElBQUksQ0FBQyxPQUFPLEdBQUcsa0JBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFFMUQsSUFBSSxDQUFDLEVBQUUsR0FBRyxVQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDbkIsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25CLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUUzQixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFFRCxNQUFNLEtBQUssUUFBUTtRQUNqQixPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0lBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsT0FBTztRQUN0QixPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsTUFBTSxDQUFDLGVBQWUsQ0FBQyxHQUFHO1FBQ3hCLE9BQU8sQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUNyQyxDQUFDO0lBRUQsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJO1FBQ3RCLElBQUksS0FBSyxHQUFHLDRCQUE0QixDQUFDO1FBQ3pDLE9BQU8sUUFBUSxDQUFDLGVBQWUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVEOzs7O09BSUc7SUFFSDs7OztPQUlHO0lBQ0gsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ1gsSUFBSSxDQUFDLENBQUMsYUFBYSxJQUFJLENBQUMsQ0FBQyxhQUFhLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtZQUNsRCxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ3pFO1FBQ0QsY0FBYztRQUNkLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3hDLENBQUM7SUFFRDs7T0FFRztJQUNILE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtRQUNuQixJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDdkMsT0FBTyxPQUFPLENBQUMsWUFBWSxDQUFDO0lBQzlCLENBQUM7SUFFRDs7T0FFRztJQUNILE9BQU87UUFDTCxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUM1QixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3JCLHNCQUFDLEVBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxFQUFVLENBQUMsWUFBWSxHQUFHLFNBQVMsQ0FBQztJQUM1QyxDQUFDO0lBRUQ7O09BRUc7SUFDSCxtQkFBbUI7UUFDakIsSUFBSSxDQUFDLHdCQUF3QixHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEUsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLDJCQUEyQixHQUFHLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUUsSUFBSSxDQUFDLDZCQUE2QixHQUFHLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUUsSUFBSSxDQUFDLDRCQUE0QixHQUFHLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUUsSUFBSSxDQUFDLHdCQUF3QixHQUFHLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFekUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDL0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLDJCQUEyQixDQUFDLENBQUM7UUFDM0UsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLDJCQUEyQixDQUFDLENBQUM7UUFDNUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUM7UUFFM0Usc0JBQUMsRUFBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNsRSxzQkFBQyxFQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ3hFLENBQUM7SUFFRCxvQkFBb0I7UUFDbEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDbEUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUM7SUFDeEUsQ0FBQztJQUVELGlCQUFpQjtRQUNmLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFRCxtQkFBbUIsQ0FBQyxDQUFDO1FBQ25CLElBQUksQ0FBQyxDQUFDLEtBQUssS0FBSyxVQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUM1QixDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDbkIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ2I7SUFDSCxDQUFDO0lBRUQsd0JBQXdCLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssVUFBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDNUIsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ25CLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1NBQzVCO0lBQ0gsQ0FBQztJQUVELHNCQUFzQixDQUFDLENBQUM7UUFDdEIsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ25CLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUN0RCxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxZQUFZLENBQUMsR0FBRyxFQUFFLENBQUM7UUFFM0QsSUFBSSxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDO1FBQzdDLElBQUksQ0FBQyxFQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQztRQUM3QyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxFQUFFLEdBQUcsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQy9CLElBQUksQ0FBQyxFQUFFLEdBQUcsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBRS9CLGtCQUFrQjtRQUNsQixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUV0Qyx3QkFBd0I7UUFDeEIsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsNkJBQTZCLENBQUMsQ0FBQztRQUMzRSxRQUFRLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO1FBRTNFLHNCQUFzQjtRQUN0QixRQUFRLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3hFLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLDRCQUE0QixDQUFDLENBQUM7SUFDM0UsQ0FBQztJQUVELHdCQUF3QixDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ25CLElBQUksUUFBUSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQzdCLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVELHVCQUF1QixDQUFDLENBQUM7UUFDdkIsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ25CLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLDRCQUE0QixDQUFDLENBQUM7UUFDM0UsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsNEJBQTRCLENBQUMsQ0FBQztRQUM1RSxJQUFJLFFBQVEsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7UUFDN0IsSUFBSSxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ2hELElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3BCO1FBRUQsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLE9BQU8sRUFBRTtZQUNoQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUNyRDthQUFNLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUU7WUFDakMsc0JBQUMsRUFBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDcEQsVUFBVSxDQUFDLEdBQUcsRUFBRTtnQkFDZCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDZCxDQUFDLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDL0I7UUFFRCxJQUFJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssVUFBVSxFQUFFO1lBQy9DLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDNUQ7UUFFRCx5QkFBeUI7UUFDekIsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsNkJBQTZCLENBQUMsQ0FBQztRQUM5RSxRQUFRLENBQUMsbUJBQW1CLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0lBQ2hGLENBQUM7SUFFRCxrQkFBa0I7UUFDaEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxzQkFBQyxFQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEdBQUcsUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7UUFFckMscUNBQXFDO1FBQ3JDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDO1FBQ3JDLElBQUksV0FBVyxHQUFHLEtBQUssWUFBWSxXQUFXLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2RixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxJQUFJLENBQUMsQ0FBQyxXQUFXLEVBQUU7WUFDM0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDckM7YUFBTTtZQUNMLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUNyQztJQUNILENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLEtBQUssR0FBRyxVQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ3RDLFdBQVcsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVc7WUFDckMsU0FBUyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUztZQUNqQyxZQUFZLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZO1lBQ3ZDLFVBQVUsRUFBRSxHQUFHLEVBQUU7Z0JBQ2YsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxLQUFLLFVBQVUsRUFBRTtvQkFDakQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNwQztnQkFDRCxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUN0QixDQUFDO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGVBQWU7UUFDYixJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQztRQUMzQixJQUFJLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQyxPQUFPO1lBQzlCLENBQUMsQ0FBQyxTQUFTO1lBQ1gsQ0FBQyxDQUFFLFNBQWlCLENBQUMsYUFBYTtnQkFDbEMsQ0FBQyxDQUFDLGVBQWU7Z0JBQ2pCLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFFVCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQzdELElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsNEJBQTRCLENBQUMsQ0FBQztRQUU3RSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMseUJBQXlCLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLDJCQUEyQixDQUFDLENBQUM7UUFDNUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0lBRUQsWUFBWTtRQUNWLElBQUksU0FBUyxHQUFHLHNCQUFDLEVBQ2YsOEdBQ0UsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FDbEMsS0FBSyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLFdBQVcsQ0FDeEM7YUFDRSxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQzthQUNyQixFQUFFLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDdEMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRTtZQUM3QixTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDbkM7UUFFRCxJQUFJLHlCQUF5QixHQUFHLHNCQUFDLEVBQUMsdUNBQXVDLENBQUMsQ0FBQztRQUMzRSxzQkFBQyxFQUNDLGlGQUFpRjtZQUMvRSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztZQUNyQyxJQUFJO1lBQ0osSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTTtZQUN4QixXQUFXLENBQ2Q7YUFDRSxRQUFRLENBQUMseUJBQXlCLENBQUM7YUFDbkMsRUFBRSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLHNCQUFDLEVBQ0MsaUZBQWlGO1lBQy9FLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1lBQ3JDLElBQUk7WUFDSixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJO1lBQ3RCLFdBQVcsQ0FDZDthQUNFLFFBQVEsQ0FBQyx5QkFBeUIsQ0FBQzthQUNuQyxFQUFFLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDckMseUJBQXlCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQsV0FBVztRQUNULElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUU7WUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxzQkFBQyxFQUFDLDhCQUE4QixDQUFDLENBQUM7WUFDaEQsSUFBSSxDQUFDLE1BQU0sR0FBRyxzQkFBQyxFQUFDLDhCQUE4QixDQUFDLENBQUM7WUFDaEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2xGLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUNuRjtRQUVELElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVELGNBQWM7UUFDWiw4QkFBOEI7UUFDOUIsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUM7UUFDekMsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUM7UUFDekMsSUFBSSxRQUFRLEdBQUcsVUFBVSxHQUFHLENBQUMsQ0FBQztRQUU5QixJQUFJLEdBQUcsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3pDLEdBQUcsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLGdCQUFnQixDQUFDLENBQUM7UUFDNUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDL0MsR0FBRyxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyQyxDQUFDLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxZQUFZLEdBQUcsVUFBVSxHQUFHLEdBQUcsR0FBRyxVQUFVLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDaEYsSUFBSSxPQUFPLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNoRCxPQUFPLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSwyQkFBMkIsQ0FBQyxDQUFDO1FBQzNELE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2hDLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2hDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQy9CLElBQUksSUFBSSxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDN0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDN0IsSUFBSSxFQUFFLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzQyxFQUFFLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO1FBQ2pELEVBQUUsQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQ2pDLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEIsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNsQixDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFOUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNiLENBQUM7SUFFRCxlQUFlO1FBQ2IsSUFBSSxLQUFLLEdBQUcsc0JBQUMsRUFBQyxxQ0FBcUMsQ0FBQyxDQUFDO1FBQ3JELGFBQWE7UUFDYixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFO1lBQzNCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDOUIsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUN6QixJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO2dCQUMvQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQztnQkFDdEMsSUFBSSxDQUFDLEdBQUcsQ0FBQztvQkFDUCxJQUFJLEVBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEdBQUcsSUFBSTtvQkFDdEYsR0FBRyxFQUNELElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxHQUFHLElBQUk7aUJBQ3ZGLENBQUMsQ0FBQztnQkFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7Z0JBQ3pDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNwQyxzQ0FBc0M7YUFDdkM7U0FDRjthQUFNO1lBQ0wsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUM5QixJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ3pCLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7Z0JBQy9CLElBQUksS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztnQkFDNUIsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUM7Z0JBQ3pFLElBQUksQ0FBQyxHQUFHLENBQUM7b0JBQ1AsSUFBSSxFQUNGLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxHQUFHLElBQUk7b0JBQ3RGLEdBQUcsRUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsR0FBRyxJQUFJO2lCQUN2RixDQUFDLENBQUM7Z0JBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO2dCQUN6QyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDcEMsc0NBQXNDO2FBQ3ZDO1NBQ0Y7SUFDSCxDQUFDO0lBRUQsaUJBQWlCO1FBQ2YsSUFBSSxLQUFLLEdBQUcsc0JBQUMsRUFBQyxxQ0FBcUMsQ0FBQyxDQUFDO1FBQ3JELGVBQWU7UUFDZixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDOUIsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ3pCLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDaEMsSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFDUCxJQUFJLEVBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVO29CQUN2QixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVztvQkFDM0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVO29CQUN2QixJQUFJO2dCQUNOLEdBQUcsRUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVU7b0JBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXO29CQUMzQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVU7b0JBQ3ZCLElBQUk7YUFDUCxDQUFDLENBQUM7WUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN2QztJQUNILENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ2hCLElBQUksV0FBVyxHQUFHLHNCQUFDLEVBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDM0QsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxlQUFlO1FBQ2IsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRTtZQUMzQixJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsQ0FBQztZQUM5RCxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsQ0FBQztTQUMvRDtJQUNILENBQUM7SUFFRCxvQkFBb0I7UUFDbEIsZUFBZTtRQUNmLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBRSxJQUFJLENBQUMsRUFBdUIsQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUksQ0FBQyxDQUFDLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxFQUFFO1lBQ2pFLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQzVDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO2FBQ3BCO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO2FBQ3BCO1lBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDekQ7UUFDRCxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLEVBQUU7WUFDdEIsSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDdkQsS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRSxFQUFFLEdBQUcsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1lBQ2pFLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUU7Z0JBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQzthQUNqRjtTQUNGO1FBQ0QsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNuQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUVuRSxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUVELFFBQVEsQ0FBQyxJQUFJLEVBQUUsUUFBZ0IsSUFBSTtRQUNqQyxJQUFJLElBQUksS0FBSyxTQUFTLElBQUksc0JBQUMsRUFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxLQUFLLFNBQVMsRUFBRTtZQUMzRSxnREFBZ0Q7U0FDakQ7UUFDRCxJQUFJLE9BQU8sR0FBRyxJQUFJLEtBQUssT0FBTyxFQUM1QixRQUFRLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUN0RCxRQUFRLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ3pELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBRXhCLHNCQUFDLEVBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDeEQsc0JBQUMsRUFBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsV0FBVyxDQUFDLGNBQWMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTNELGtCQUFrQjtRQUNsQixRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQzlDLHNCQUFDLEVBQUMsUUFBUSxDQUFDO2FBQ1IsR0FBRyxDQUFDLFlBQVksRUFBRSxTQUFTLENBQUM7YUFDNUIsV0FBVyxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFFdEMsbUJBQW1CO1FBQ25CLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFdkIsMEJBQTBCO1FBQzFCLFlBQVksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLGVBQWUsR0FBRyxVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ3JDLHNCQUFDLEVBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxRQUFRLENBQUMsQ0FBQztRQUMxQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQsVUFBVSxDQUFDLEtBQUs7UUFDZCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxFQUN6QixLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUNsQixPQUFPLEdBQUcsSUFBSSxLQUFLLE9BQU8sRUFDMUIsSUFBSSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQ25DLE1BQU0sR0FBRyxLQUFLLEdBQUcsSUFBSSxFQUNyQixNQUFNLEdBQ0osT0FBTyxJQUFJLEtBQUssR0FBRyxDQUFDLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUMxRixDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLEVBQzdCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsTUFBTSxFQUM5QixJQUFJLEdBQUcsSUFBSSxDQUFDO1FBRWQsSUFBSSxLQUFLLEVBQUU7WUFDVCxzQkFBQyxFQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxRQUFRLENBQUMsdUJBQXVCLENBQUMsQ0FBQztZQUNqRCxVQUFVLENBQUMsR0FBRyxFQUFFO2dCQUNkLHNCQUFDLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO2dCQUNwRCxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNyQixDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDWDthQUFNO1lBQ0wsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDcEI7SUFDSCxDQUFDO0lBRUQsbUJBQW1CO1FBQ2pCLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxXQUFXLEtBQUssT0FBTyxDQUFDO1FBRTdDLElBQUksT0FBTyxFQUFFO1lBQ1gsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssQ0FBQztZQUV2QyxJQUFJLEtBQUssR0FBRyxDQUFDLElBQUksS0FBSyxHQUFHLEVBQUUsRUFBRTtnQkFDM0IsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFFNUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBRXBELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO2FBQzNCO2lCQUFNO2dCQUNMLE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQzthQUN0QztTQUNGO2FBQU07WUFDTCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsS0FBSyxDQUFDO1lBRXpDLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxLQUFLLEdBQUcsRUFBRSxFQUFFO2dCQUM1QixJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBRS9ELElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBRTVDLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO2dCQUNyQixJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO2FBQ3hFO2lCQUFNO2dCQUNMLE1BQU0sT0FBTyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsVUFBVSxFQUFFLENBQUM7Z0JBQ3hDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUNsRTtTQUNGO0lBQ0gsQ0FBQztJQUVELHNCQUFzQixDQUFDLEtBQUssRUFBRSxPQUFPO1FBQ25DLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDMUMsTUFBTSxNQUFNLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQztRQUM1QixJQUFJLE1BQU0sQ0FBQztRQUVYLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUU7WUFDM0IsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO1NBQ25DO1FBRUQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUM3RCxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEVBQzVELEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sRUFDL0IsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUM7UUFFbkMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxXQUFvQixLQUFLO1FBQ3JDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQzVCLE9BQU8sR0FBRyxJQUFJLENBQUMsV0FBVyxLQUFLLE9BQU8sRUFDdEMsSUFBSSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxPQUFPLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUMvQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFDNUIsS0FBSyxHQUFHLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsRUFDaEYsTUFBTSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO1FBRXZFLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUU7WUFDM0IsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO1NBQ25DO1FBRUQsa0NBQWtDO1FBQ2xDLElBQUksTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNkLE1BQU0sR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7U0FDL0I7UUFFRCxzQkFBc0I7UUFDdEIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFFdEMsdUJBQXVCO1FBQ3ZCLE1BQU0sR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBRXRCLCtCQUErQjtRQUMvQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFO1lBQzNCLElBQUksT0FBTyxFQUFFO2dCQUNYLElBQUksS0FBSyxLQUFLLENBQUM7b0JBQUUsS0FBSyxHQUFHLEVBQUUsQ0FBQzthQUM3QjtpQkFBTTtnQkFDTCxJQUFJLFFBQVE7b0JBQUUsS0FBSyxJQUFJLENBQUMsQ0FBQztnQkFDekIsSUFBSSxLQUFLLEtBQUssRUFBRTtvQkFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDO2FBQzdCO1NBQ0Y7YUFBTTtZQUNMLElBQUksT0FBTyxFQUFFO2dCQUNYLElBQUksS0FBSyxLQUFLLEVBQUUsRUFBRTtvQkFDaEIsS0FBSyxHQUFHLENBQUMsQ0FBQztpQkFDWDtnQkFDRCxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQzthQUMzRTtpQkFBTTtnQkFDTCxJQUFJLFFBQVEsRUFBRTtvQkFDWixLQUFLLElBQUksQ0FBQyxDQUFDO2lCQUNaO2dCQUNELElBQUksS0FBSyxLQUFLLEVBQUUsRUFBRTtvQkFDaEIsS0FBSyxHQUFHLENBQUMsQ0FBQztpQkFDWDthQUNGO1NBQ0Y7UUFFRCxvREFBb0Q7UUFDcEQsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEtBQUssRUFBRTtZQUNwQyxJQUFJLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7Z0JBQ3hDLGdDQUFnQztnQkFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUU7b0JBQ3RCLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQzVCLElBQUksQ0FBQyxZQUFZLEdBQUcsVUFBVSxDQUFDLEdBQUcsRUFBRTt3QkFDbEMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7b0JBQzNCLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztpQkFDVDthQUNGO1NBQ0Y7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUMvQixJQUFJLE9BQU8sRUFBRTtZQUNYLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1NBQ2xDO2FBQU07WUFDTCxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDaEU7UUFFRCxzQ0FBc0M7UUFDdEMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUM3RCxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEVBQzVELEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sRUFDL0IsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUM7UUFDbkMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCxJQUFJO1FBQ0YsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2YsT0FBTztTQUNSO1FBRUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDbkIsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUV2QixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3BCLENBQUM7SUFFRCxLQUFLO1FBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDaEIsT0FBTztTQUNSO1FBRUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBRUQ7O09BRUc7SUFDSCxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxVQUFVLEdBQUcsSUFBSTtRQUM5QixrQkFBa0I7UUFDbEIsSUFBSSxJQUFJLEdBQUksSUFBSSxDQUFDLEVBQXVCLENBQUMsS0FBSyxDQUFDO1FBQy9DLElBQUksS0FBSyxHQUFHLFVBQVU7WUFDcEIsQ0FBQyxDQUFDLEVBQUU7WUFDSixDQUFDLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLFVBQVUsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzVGLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO1FBQ2xCLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUU7WUFDMUMsS0FBSyxHQUFHLEdBQUcsS0FBSyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUNuQztRQUNBLElBQUksQ0FBQyxFQUF1QixDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFNUMsdUJBQXVCO1FBQ3ZCLElBQUksS0FBSyxLQUFLLElBQUksRUFBRTtZQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUM1QjtRQUVELElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNaLElBQUksQ0FBQyxFQUFrQixDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFFRCxLQUFLO1FBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDeEIsQ0FBQztDQThCRjtBQXRzQkQsZ0NBc3NCQztBQTVCQztJQUNFLFVBQVUsQ0FBQyxTQUFTLEdBQUc7UUFDckIsdUNBQXVDO1FBQ3ZDLGtEQUFrRDtRQUNsRCwwQ0FBMEM7UUFDMUMseUNBQXlDO1FBQ3pDLHlDQUF5QztRQUN6QywyRkFBMkY7UUFDM0YsR0FBRztRQUNILHNFQUFzRTtRQUN0RSxRQUFRO1FBQ1Isa0VBQWtFO1FBQ2xFLDJDQUEyQztRQUMzQyxRQUFRO1FBQ1IsUUFBUTtRQUNSLFFBQVE7UUFDUix5Q0FBeUM7UUFDekMsZ0NBQWdDO1FBQ2hDLHVDQUF1QztRQUN2QyxzREFBc0Q7UUFDdEQsNEVBQTRFO1FBQzVFLFFBQVE7UUFDUix1Q0FBdUM7UUFDdkMsUUFBUTtRQUNSLFFBQVE7UUFDUixRQUFRO0tBQ1QsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDYixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTS8uL3NyYy90aW1lcGlja2VyLnRzPzQwYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgJCBmcm9tIFwiY2FzaC1kb21cIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcblxuXG4gIGxldCBfZGVmYXVsdHMgPSB7XG4gICAgZGlhbFJhZGl1czogMTM1LFxuICAgIG91dGVyUmFkaXVzOiAxMDUsXG4gICAgaW5uZXJSYWRpdXM6IDcwLFxuICAgIHRpY2tSYWRpdXM6IDIwLFxuICAgIGR1cmF0aW9uOiAzNTAsXG4gICAgY29udGFpbmVyOiBudWxsLFxuICAgIGRlZmF1bHRUaW1lOiAnbm93JywgLy8gZGVmYXVsdCB0aW1lLCAnbm93JyBvciAnMTM6MTQnIGUuZy5cbiAgICBmcm9tTm93OiAwLCAvLyBNaWxsaXNlY29uZCBvZmZzZXQgZnJvbSB0aGUgZGVmYXVsdFRpbWVcbiAgICBzaG93Q2xlYXJCdG46IGZhbHNlLFxuXG4gICAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb25cbiAgICBpMThuOiB7XG4gICAgICBjYW5jZWw6ICdDYW5jZWwnLFxuICAgICAgY2xlYXI6ICdDbGVhcicsXG4gICAgICBkb25lOiAnT2snXG4gICAgfSxcblxuICAgIGF1dG9DbG9zZTogZmFsc2UsIC8vIGF1dG8gY2xvc2Ugd2hlbiBtaW51dGUgaXMgc2VsZWN0ZWRcbiAgICB0d2VsdmVIb3VyOiB0cnVlLCAvLyBjaGFuZ2UgdG8gMTIgaG91ciBBTS9QTSBjbG9jayBmcm9tIDI0IGhvdXJcbiAgICB2aWJyYXRlOiB0cnVlLCAvLyB2aWJyYXRlIHRoZSBkZXZpY2Ugd2hlbiBkcmFnZ2luZyBjbG9jayBoYW5kXG5cbiAgICAvLyBDYWxsYmFja3NcbiAgICBvbk9wZW5TdGFydDogbnVsbCxcbiAgICBvbk9wZW5FbmQ6IG51bGwsXG4gICAgb25DbG9zZVN0YXJ0OiBudWxsLFxuICAgIG9uQ2xvc2VFbmQ6IG51bGwsXG4gICAgb25TZWxlY3Q6IG51bGxcbiAgfTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqL1xuICBleHBvcnQgY2xhc3MgVGltZXBpY2tlciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBtb2RhbDogYW55O1xuICAgIG1vZGFsRWw6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUlucHV0Q2xpY2tCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUNsb2NrQ2xpY2tTdGFydEJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlRG9jdW1lbnRDbGlja01vdmVCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZURvY3VtZW50Q2xpY2tFbmRCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2lucHV0RnJvbVRleHRGaWVsZEJvdW5kOiBhbnk7XG4gICAgcGxhdGU6IGFueTtcbiAgICBkaWdpdGFsQ2xvY2s6IGFueTtcbiAgICBpbnB1dEhvdXJzOiBhbnk7XG4gICAgaW5wdXRNaW51dGVzOiBhbnk7XG4gICAgeDA6IGFueTtcbiAgICB5MDogYW55O1xuICAgIG1vdmVkOiBib29sZWFuO1xuICAgIGR4OiBudW1iZXI7XG4gICAgZHk6IG51bWJlcjtcbiAgICBjdXJyZW50Vmlldzogc3RyaW5nO1xuICAgIGhhbmQ6IGFueTtcbiAgICBtaW51dGVzVmlldzogYW55O1xuICAgIGhvdXJzOiBhbnk7XG4gICAgbWludXRlczogYW55O1xuICAgIHRpbWU6IHN0cmluZztcbiAgICBhbU9yUG06IGFueTtcbiAgICAkbW9kYWxFbDogYW55O1xuICAgIHN0YXRpYyBfdGVtcGxhdGU6IGFueTtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgdmlicmF0ZTogc3RyaW5nO1xuICAgIF9jYW52YXM6IGFueTtcbiAgICBob3Vyc1ZpZXc6IGFueTtcbiAgICBzcGFuQW1QbTogYW55O1xuICAgIGZvb3RlcjogYW55O1xuICAgICRhbUJ0bjogYW55O1xuICAgICRwbUJ0bjogYW55O1xuICAgIGJnOiBFbGVtZW50O1xuICAgIGJlYXJpbmc6IEVsZW1lbnQ7XG4gICAgZzogRWxlbWVudDtcbiAgICB0b2dnbGVWaWV3VGltZXI6IHN0cmluZyB8IG51bWJlciB8IE5vZGVKUy5UaW1lb3V0O1xuICAgIGNhbnZhczogYW55O1xuICAgIHZpYnJhdGVUaW1lcjogYW55O1xuICAgIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgICBzdXBlcihUaW1lcGlja2VyLCBlbCwgb3B0aW9ucyk7XG5cbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9UaW1lcGlja2VyID0gdGhpcztcblxuICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIFRpbWVwaWNrZXIuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICB0aGlzLmlkID0gTS5ndWlkKCk7XG4gICAgICB0aGlzLl9pbnNlcnRIVE1MSW50b0RPTSgpO1xuICAgICAgdGhpcy5fc2V0dXBNb2RhbCgpO1xuICAgICAgdGhpcy5fc2V0dXBWYXJpYWJsZXMoKTtcbiAgICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuXG4gICAgICB0aGlzLl9jbG9ja1NldHVwKCk7XG4gICAgICB0aGlzLl9waWNrZXJTZXR1cCgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgX2FkZExlYWRpbmdaZXJvKG51bSkge1xuICAgICAgcmV0dXJuIChudW0gPCAxMCA/ICcwJyA6ICcnKSArIG51bTtcbiAgICB9XG5cbiAgICBzdGF0aWMgX2NyZWF0ZVNWR0VsKG5hbWUpIHtcbiAgICAgIGxldCBzdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCBuYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBQb2ludFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4IFRoZSBYIENvb3JkaW5hdGVcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geSBUaGUgWSBDb29yZGluYXRlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgeCBwb3NpdGlvbiBvZiBtb3VzZSBvciB0b3VjaCBldmVudFxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0geCBhbmQgeSBsb2NhdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBfUG9zKGUpIHtcbiAgICAgIGlmIChlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgIHJldHVybiB7IHg6IGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYLCB5OiBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WSB9O1xuICAgICAgfVxuICAgICAgLy8gbW91c2UgZXZlbnRcbiAgICAgIHJldHVybiB7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEluc3RhbmNlXG4gICAgICovXG4gICAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICBsZXQgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fVGltZXBpY2tlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZWFyZG93biBjb21wb25lbnRcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgdGhpcy5tb2RhbC5kZXN0cm95KCk7XG4gICAgICAkKHRoaXMubW9kYWxFbCkucmVtb3ZlKCk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fVGltZXBpY2tlciA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR1cCBFdmVudCBIYW5kbGVyc1xuICAgICAqL1xuICAgIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRDbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlQ2xvY2tDbGlja1N0YXJ0Qm91bmQgPSB0aGlzLl9oYW5kbGVDbG9ja0NsaWNrU3RhcnQuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlQm91bmQgPSB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0VuZEJvdW5kID0gdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0VuZC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faW5wdXRGcm9tVGV4dEZpZWxkQm91bmQgPSB0aGlzLl9oYW5kbGVUaW1lSW5wdXRFbnRlcktleS5iaW5kKHRoaXMpO1xuXG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kKTtcbiAgICAgIHRoaXMucGxhdGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2xvY2tDbGlja1N0YXJ0Qm91bmQpO1xuICAgICAgdGhpcy5wbGF0ZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlQ2xvY2tDbGlja1N0YXJ0Qm91bmQpO1xuICAgICAgdGhpcy5kaWdpdGFsQ2xvY2suYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9pbnB1dEZyb21UZXh0RmllbGRCb3VuZCk7XG5cbiAgICAgICQodGhpcy5pbnB1dEhvdXJzKS5vbignY2xpY2snLCB0aGlzLnNob3dWaWV3LmJpbmQodGhpcywgJ2hvdXJzJykpO1xuICAgICAgJCh0aGlzLmlucHV0TWludXRlcykub24oJ2NsaWNrJywgdGhpcy5zaG93Vmlldy5iaW5kKHRoaXMsICdtaW51dGVzJykpO1xuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUlucHV0Q2xpY2soKSB7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlSW5wdXRLZXlkb3duKGUpIHtcbiAgICAgIGlmIChlLndoaWNoID09PSBNLmtleXMuRU5URVIpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlVGltZUlucHV0RW50ZXJLZXkoZSkge1xuICAgICAgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5FTlRFUikge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2lucHV0RnJvbVRleHRGaWVsZCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVDbG9ja0NsaWNrU3RhcnQoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbGV0IGNsb2NrUGxhdGVCUiA9IHRoaXMucGxhdGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBsZXQgb2Zmc2V0ID0geyB4OiBjbG9ja1BsYXRlQlIubGVmdCwgeTogY2xvY2tQbGF0ZUJSLnRvcCB9O1xuXG4gICAgICB0aGlzLngwID0gb2Zmc2V0LnggKyB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cztcbiAgICAgIHRoaXMueTAgPSBvZmZzZXQueSArIHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzO1xuICAgICAgdGhpcy5tb3ZlZCA9IGZhbHNlO1xuICAgICAgbGV0IGNsaWNrUG9zID0gVGltZXBpY2tlci5fUG9zKGUpO1xuICAgICAgdGhpcy5keCA9IGNsaWNrUG9zLnggLSB0aGlzLngwO1xuICAgICAgdGhpcy5keSA9IGNsaWNrUG9zLnkgLSB0aGlzLnkwO1xuXG4gICAgICAvLyBTZXQgY2xvY2sgaGFuZHNcbiAgICAgIHRoaXMuc2V0SGFuZCh0aGlzLmR4LCB0aGlzLmR5LCBmYWxzZSk7XG5cbiAgICAgIC8vIE1vdXNlbW92ZSBvbiBkb2N1bWVudFxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja01vdmVCb3VuZCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrTW92ZUJvdW5kKTtcblxuICAgICAgLy8gTW91c2V1cCBvbiBkb2N1bWVudFxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tFbmRCb3VuZCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tFbmRCb3VuZCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxldCBjbGlja1BvcyA9IFRpbWVwaWNrZXIuX1BvcyhlKTtcbiAgICAgIGxldCB4ID0gY2xpY2tQb3MueCAtIHRoaXMueDA7XG4gICAgICBsZXQgeSA9IGNsaWNrUG9zLnkgLSB0aGlzLnkwO1xuICAgICAgdGhpcy5tb3ZlZCA9IHRydWU7XG4gICAgICB0aGlzLnNldEhhbmQoeCwgeSwgZmFsc2UpO1xuICAgIH1cblxuICAgIF9oYW5kbGVEb2N1bWVudENsaWNrRW5kKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrRW5kQm91bmQpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrRW5kQm91bmQpO1xuICAgICAgbGV0IGNsaWNrUG9zID0gVGltZXBpY2tlci5fUG9zKGUpO1xuICAgICAgbGV0IHggPSBjbGlja1Bvcy54IC0gdGhpcy54MDtcbiAgICAgIGxldCB5ID0gY2xpY2tQb3MueSAtIHRoaXMueTA7XG4gICAgICBpZiAodGhpcy5tb3ZlZCAmJiB4ID09PSB0aGlzLmR4ICYmIHkgPT09IHRoaXMuZHkpIHtcbiAgICAgICAgdGhpcy5zZXRIYW5kKHgsIHkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jdXJyZW50VmlldyA9PT0gJ2hvdXJzJykge1xuICAgICAgICB0aGlzLnNob3dWaWV3KCdtaW51dGVzJywgdGhpcy5vcHRpb25zLmR1cmF0aW9uIC8gMik7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5hdXRvQ2xvc2UpIHtcbiAgICAgICAgJCh0aGlzLm1pbnV0ZXNWaWV3KS5hZGRDbGFzcygndGltZXBpY2tlci1kaWFsLW91dCcpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRvbmUoKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uIC8gMik7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uU2VsZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vblNlbGVjdC5jYWxsKHRoaXMsIHRoaXMuaG91cnMsIHRoaXMubWludXRlcyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVuYmluZCBtb3VzZW1vdmUgZXZlbnRcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlQm91bmQpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja01vdmVCb3VuZCk7XG4gICAgfVxuXG4gICAgX2luc2VydEhUTUxJbnRvRE9NKCkge1xuICAgICAgdGhpcy4kbW9kYWxFbCA9ICQoVGltZXBpY2tlci5fdGVtcGxhdGUpO1xuICAgICAgdGhpcy5tb2RhbEVsID0gdGhpcy4kbW9kYWxFbFswXTtcbiAgICAgIHRoaXMubW9kYWxFbC5pZCA9ICdtb2RhbC0nICsgdGhpcy5pZDtcblxuICAgICAgLy8gQXBwZW5kIHBvcG92ZXIgdG8gaW5wdXQgYnkgZGVmYXVsdFxuICAgICAgY29uc3Qgb3B0RWwgPSB0aGlzLm9wdGlvbnMuY29udGFpbmVyO1xuICAgICAgbGV0IGNvbnRhaW5lckVsID0gb3B0RWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IG9wdEVsIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRFbCk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRhaW5lciAmJiAhIWNvbnRhaW5lckVsKSB7XG4gICAgICAgIHRoaXMuJG1vZGFsRWwuYXBwZW5kVG8oY29udGFpbmVyRWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kbW9kYWxFbC5pbnNlcnRCZWZvcmUodGhpcy5lbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldHVwTW9kYWwoKSB7XG4gICAgICB0aGlzLm1vZGFsID0gTS5Nb2RhbC5pbml0KHRoaXMubW9kYWxFbCwge1xuICAgICAgICBvbk9wZW5TdGFydDogdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LFxuICAgICAgICBvbk9wZW5FbmQ6IHRoaXMub3B0aW9ucy5vbk9wZW5FbmQsXG4gICAgICAgIG9uQ2xvc2VTdGFydDogdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCxcbiAgICAgICAgb25DbG9zZUVuZDogKCkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kLmNhbGwodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9zZXR1cFZhcmlhYmxlcygpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpZXcgPSAnaG91cnMnO1xuICAgICAgdGhpcy52aWJyYXRlID0gbmF2aWdhdG9yLnZpYnJhdGVcbiAgICAgICAgPyAndmlicmF0ZSdcbiAgICAgICAgOiAobmF2aWdhdG9yIGFzIGFueSkud2Via2l0VmlicmF0ZVxuICAgICAgICA/ICd3ZWJraXRWaWJyYXRlJ1xuICAgICAgICA6IG51bGw7XG5cbiAgICAgIHRoaXMuX2NhbnZhcyA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1jYW52YXMnKTtcbiAgICAgIHRoaXMucGxhdGUgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItcGxhdGUnKTtcbiAgICAgIHRoaXMuZGlnaXRhbENsb2NrID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLWRpc3BsYXktY29sdW1uJyk7XG5cbiAgICAgIHRoaXMuaG91cnNWaWV3ID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLWhvdXJzJyk7XG4gICAgICB0aGlzLm1pbnV0ZXNWaWV3ID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLW1pbnV0ZXMnKTtcbiAgICAgIHRoaXMuaW5wdXRIb3VycyA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1pbnB1dC1ob3VycycpO1xuICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItaW5wdXQtbWludXRlcycpO1xuICAgICAgdGhpcy5zcGFuQW1QbSA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1zcGFuLWFtLXBtJyk7XG4gICAgICB0aGlzLmZvb3RlciA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1mb290ZXInKTtcbiAgICAgIHRoaXMuYW1PclBtID0gJ1BNJztcbiAgICB9XG5cbiAgICBfcGlja2VyU2V0dXAoKSB7XG4gICAgICBsZXQgJGNsZWFyQnRuID0gJChcbiAgICAgICAgYDxidXR0b24gY2xhc3M9XCJidG4tZmxhdCB0aW1lcGlja2VyLWNsZWFyIHdhdmVzLWVmZmVjdFwiIHN0eWxlPVwidmlzaWJpbGl0eTogaGlkZGVuO1wiIHR5cGU9XCJidXR0b25cIiB0YWJpbmRleD1cIiR7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIgPyAnMycgOiAnMSdcbiAgICAgICAgfVwiPiR7dGhpcy5vcHRpb25zLmkxOG4uY2xlYXJ9PC9idXR0b24+YFxuICAgICAgKVxuICAgICAgICAuYXBwZW5kVG8odGhpcy5mb290ZXIpXG4gICAgICAgIC5vbignY2xpY2snLCB0aGlzLmNsZWFyLmJpbmQodGhpcykpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Q2xlYXJCdG4pIHtcbiAgICAgICAgJGNsZWFyQnRuLmNzcyh7IHZpc2liaWxpdHk6ICcnIH0pO1xuICAgICAgfVxuXG4gICAgICBsZXQgY29uZmlybWF0aW9uQnRuc0NvbnRhaW5lciA9ICQoJzxkaXYgY2xhc3M9XCJjb25maXJtYXRpb24tYnRuc1wiPjwvZGl2PicpO1xuICAgICAgJChcbiAgICAgICAgJzxidXR0b24gY2xhc3M9XCJidG4tZmxhdCB0aW1lcGlja2VyLWNsb3NlIHdhdmVzLWVmZmVjdFwiIHR5cGU9XCJidXR0b25cIiB0YWJpbmRleD1cIicgK1xuICAgICAgICAgICh0aGlzLm9wdGlvbnMudHdlbHZlSG91ciA/ICczJyA6ICcxJykgK1xuICAgICAgICAgICdcIj4nICtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuaTE4bi5jYW5jZWwgK1xuICAgICAgICAgICc8L2J1dHRvbj4nXG4gICAgICApXG4gICAgICAgIC5hcHBlbmRUbyhjb25maXJtYXRpb25CdG5zQ29udGFpbmVyKVxuICAgICAgICAub24oJ2NsaWNrJywgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcbiAgICAgICQoXG4gICAgICAgICc8YnV0dG9uIGNsYXNzPVwiYnRuLWZsYXQgdGltZXBpY2tlci1jbG9zZSB3YXZlcy1lZmZlY3RcIiB0eXBlPVwiYnV0dG9uXCIgdGFiaW5kZXg9XCInICtcbiAgICAgICAgICAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIgPyAnMycgOiAnMScpICtcbiAgICAgICAgICAnXCI+JyArXG4gICAgICAgICAgdGhpcy5vcHRpb25zLmkxOG4uZG9uZSArXG4gICAgICAgICAgJzwvYnV0dG9uPidcbiAgICAgIClcbiAgICAgICAgLmFwcGVuZFRvKGNvbmZpcm1hdGlvbkJ0bnNDb250YWluZXIpXG4gICAgICAgIC5vbignY2xpY2snLCB0aGlzLmRvbmUuYmluZCh0aGlzKSk7XG4gICAgICBjb25maXJtYXRpb25CdG5zQ29udGFpbmVyLmFwcGVuZFRvKHRoaXMuZm9vdGVyKTtcbiAgICB9XG5cbiAgICBfY2xvY2tTZXR1cCgpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgICB0aGlzLiRhbUJ0biA9ICQoJzxkaXYgY2xhc3M9XCJhbS1idG5cIj5BTTwvZGl2PicpO1xuICAgICAgICB0aGlzLiRwbUJ0biA9ICQoJzxkaXYgY2xhc3M9XCJwbS1idG5cIj5QTTwvZGl2PicpO1xuICAgICAgICB0aGlzLiRhbUJ0bi5vbignY2xpY2snLCB0aGlzLl9oYW5kbGVBbVBtQ2xpY2suYmluZCh0aGlzKSkuYXBwZW5kVG8odGhpcy5zcGFuQW1QbSk7XG4gICAgICAgIHRoaXMuJHBtQnRuLm9uKCdjbGljaycsIHRoaXMuX2hhbmRsZUFtUG1DbGljay5iaW5kKHRoaXMpKS5hcHBlbmRUbyh0aGlzLnNwYW5BbVBtKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fYnVpbGRIb3Vyc1ZpZXcoKTtcbiAgICAgIHRoaXMuX2J1aWxkTWludXRlc1ZpZXcoKTtcbiAgICAgIHRoaXMuX2J1aWxkU1ZHQ2xvY2soKTtcbiAgICB9XG5cbiAgICBfYnVpbGRTVkdDbG9jaygpIHtcbiAgICAgIC8vIERyYXcgY2xvY2sgaGFuZHMgYW5kIG90aGVyc1xuICAgICAgbGV0IGRpYWxSYWRpdXMgPSB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cztcbiAgICAgIGxldCB0aWNrUmFkaXVzID0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXM7XG4gICAgICBsZXQgZGlhbWV0ZXIgPSBkaWFsUmFkaXVzICogMjtcblxuICAgICAgbGV0IHN2ZyA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdzdmcnKTtcbiAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpbWVwaWNrZXItc3ZnJyk7XG4gICAgICBzdmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGRpYW1ldGVyLnRvU3RyaW5nKCkpO1xuICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgZGlhbWV0ZXIudG9TdHJpbmcoKSk7XG4gICAgICBsZXQgZyA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdnJyk7XG4gICAgICBnLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgZGlhbFJhZGl1cyArICcsJyArIGRpYWxSYWRpdXMgKyAnKScpO1xuICAgICAgbGV0IGJlYXJpbmcgPSBUaW1lcGlja2VyLl9jcmVhdGVTVkdFbCgnY2lyY2xlJyk7XG4gICAgICBiZWFyaW5nLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGltZXBpY2tlci1jYW52YXMtYmVhcmluZycpO1xuICAgICAgYmVhcmluZy5zZXRBdHRyaWJ1dGUoJ2N4JywgJzAnKTtcbiAgICAgIGJlYXJpbmcuc2V0QXR0cmlidXRlKCdjeScsICcwJyk7XG4gICAgICBiZWFyaW5nLnNldEF0dHJpYnV0ZSgncicsICc0Jyk7XG4gICAgICBsZXQgaGFuZCA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdsaW5lJyk7XG4gICAgICBoYW5kLnNldEF0dHJpYnV0ZSgneDEnLCAnMCcpO1xuICAgICAgaGFuZC5zZXRBdHRyaWJ1dGUoJ3kxJywgJzAnKTtcbiAgICAgIGxldCBiZyA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdjaXJjbGUnKTtcbiAgICAgIGJnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGltZXBpY2tlci1jYW52YXMtYmcnKTtcbiAgICAgIGJnLnNldEF0dHJpYnV0ZSgncicsIHRpY2tSYWRpdXMpO1xuICAgICAgZy5hcHBlbmRDaGlsZChoYW5kKTtcbiAgICAgIGcuYXBwZW5kQ2hpbGQoYmcpO1xuICAgICAgZy5hcHBlbmRDaGlsZChiZWFyaW5nKTtcbiAgICAgIHN2Zy5hcHBlbmRDaGlsZChnKTtcbiAgICAgIHRoaXMuX2NhbnZhcy5hcHBlbmRDaGlsZChzdmcpO1xuXG4gICAgICB0aGlzLmhhbmQgPSBoYW5kO1xuICAgICAgdGhpcy5iZyA9IGJnO1xuICAgICAgdGhpcy5iZWFyaW5nID0gYmVhcmluZztcbiAgICAgIHRoaXMuZyA9IGc7XG4gICAgfVxuXG4gICAgX2J1aWxkSG91cnNWaWV3KCkge1xuICAgICAgbGV0ICR0aWNrID0gJCgnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItdGlja1wiPjwvZGl2PicpO1xuICAgICAgLy8gSG91cnMgdmlld1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTM7IGkgKz0gMSkge1xuICAgICAgICAgIGxldCB0aWNrID0gJHRpY2suY2xvbmUoKTtcbiAgICAgICAgICBsZXQgcmFkaWFuID0gKGkgLyA2KSAqIE1hdGguUEk7XG4gICAgICAgICAgbGV0IHJhZGl1cyA9IHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cztcbiAgICAgICAgICB0aWNrLmNzcyh7XG4gICAgICAgICAgICBsZWZ0OlxuICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyArIE1hdGguc2luKHJhZGlhbikgKiByYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArICdweCcsXG4gICAgICAgICAgICB0b3A6XG4gICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzIC0gTWF0aC5jb3MocmFkaWFuKSAqIHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICsgJ3B4J1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRpY2suaHRtbChpID09PSAwID8gJzAwJyA6IGkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgdGhpcy5ob3Vyc1ZpZXcuYXBwZW5kQ2hpbGQodGlja1swXSk7XG4gICAgICAgICAgLy8gdGljay5vbihtb3VzZWRvd25FdmVudCwgbW91c2Vkb3duKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNDsgaSArPSAxKSB7XG4gICAgICAgICAgbGV0IHRpY2sgPSAkdGljay5jbG9uZSgpO1xuICAgICAgICAgIGxldCByYWRpYW4gPSAoaSAvIDYpICogTWF0aC5QSTtcbiAgICAgICAgICBsZXQgaW5uZXIgPSBpID4gMCAmJiBpIDwgMTM7XG4gICAgICAgICAgbGV0IHJhZGl1cyA9IGlubmVyID8gdGhpcy5vcHRpb25zLmlubmVyUmFkaXVzIDogdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzO1xuICAgICAgICAgIHRpY2suY3NzKHtcbiAgICAgICAgICAgIGxlZnQ6XG4gICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzICsgTWF0aC5zaW4ocmFkaWFuKSAqIHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICsgJ3B4JyxcbiAgICAgICAgICAgIHRvcDpcbiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgLSBNYXRoLmNvcyhyYWRpYW4pICogcmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMgKyAncHgnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGljay5odG1sKGkgPT09IDAgPyAnMDAnIDogaS50b1N0cmluZygpKTtcbiAgICAgICAgICB0aGlzLmhvdXJzVmlldy5hcHBlbmRDaGlsZCh0aWNrWzBdKTtcbiAgICAgICAgICAvLyB0aWNrLm9uKG1vdXNlZG93bkV2ZW50LCBtb3VzZWRvd24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2J1aWxkTWludXRlc1ZpZXcoKSB7XG4gICAgICBsZXQgJHRpY2sgPSAkKCc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci10aWNrXCI+PC9kaXY+Jyk7XG4gICAgICAvLyBNaW51dGVzIHZpZXdcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjA7IGkgKz0gNSkge1xuICAgICAgICBsZXQgdGljayA9ICR0aWNrLmNsb25lKCk7XG4gICAgICAgIGxldCByYWRpYW4gPSAoaSAvIDMwKSAqIE1hdGguUEk7XG4gICAgICAgIHRpY2suY3NzKHtcbiAgICAgICAgICBsZWZ0OlxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgK1xuICAgICAgICAgICAgTWF0aC5zaW4ocmFkaWFuKSAqIHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cyAtXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArXG4gICAgICAgICAgICAncHgnLFxuICAgICAgICAgIHRvcDpcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzIC1cbiAgICAgICAgICAgIE1hdGguY29zKHJhZGlhbikgKiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgLVxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMgK1xuICAgICAgICAgICAgJ3B4J1xuICAgICAgICB9KTtcbiAgICAgICAgdGljay5odG1sKFRpbWVwaWNrZXIuX2FkZExlYWRpbmdaZXJvKGkpKTtcbiAgICAgICAgdGhpcy5taW51dGVzVmlldy5hcHBlbmRDaGlsZCh0aWNrWzBdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlQW1QbUNsaWNrKGUpIHtcbiAgICAgIGxldCAkYnRuQ2xpY2tlZCA9ICQoZS50YXJnZXQpO1xuICAgICAgdGhpcy5hbU9yUG0gPSAkYnRuQ2xpY2tlZC5oYXNDbGFzcygnYW0tYnRuJykgPyAnQU0nIDogJ1BNJztcbiAgICAgIHRoaXMuX3VwZGF0ZUFtUG1WaWV3KCk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUFtUG1WaWV3KCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAgIHRoaXMuJGFtQnRuLnRvZ2dsZUNsYXNzKCd0ZXh0LXByaW1hcnknLCB0aGlzLmFtT3JQbSA9PT0gJ0FNJyk7XG4gICAgICAgIHRoaXMuJHBtQnRuLnRvZ2dsZUNsYXNzKCd0ZXh0LXByaW1hcnknLCB0aGlzLmFtT3JQbSA9PT0gJ1BNJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZVRpbWVGcm9tSW5wdXQoKSB7XG4gICAgICAvLyBHZXQgdGhlIHRpbWVcbiAgICAgIGxldCB2YWx1ZSA9ICgoKHRoaXMuZWwgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgfHwgdGhpcy5vcHRpb25zLmRlZmF1bHRUaW1lIHx8ICcnKSArICcnKS5zcGxpdCgnOicpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyICYmICEodHlwZW9mIHZhbHVlWzFdID09PSAndW5kZWZpbmVkJykpIHtcbiAgICAgICAgaWYgKHZhbHVlWzFdLnRvVXBwZXJDYXNlKCkuaW5kZXhPZignQU0nKSA+IDApIHtcbiAgICAgICAgICB0aGlzLmFtT3JQbSA9ICdBTSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5hbU9yUG0gPSAnUE0nO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlWzFdID0gdmFsdWVbMV0ucmVwbGFjZSgnQU0nLCAnJykucmVwbGFjZSgnUE0nLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWVbMF0gPT09ICdub3cnKSB7XG4gICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgrbmV3IERhdGUoKSArIHRoaXMub3B0aW9ucy5mcm9tTm93KTtcbiAgICAgICAgdmFsdWUgPSBbbm93LmdldEhvdXJzKCkudG9TdHJpbmcoKSwgbm93LmdldE1pbnV0ZXMoKS50b1N0cmluZygpXTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAgICAgdGhpcy5hbU9yUG0gPSBwYXJzZUludCh2YWx1ZVswXSkgPj0gMTIgJiYgcGFyc2VJbnQodmFsdWVbMF0pIDwgMjQgPyAnUE0nIDogJ0FNJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5ob3VycyA9ICt2YWx1ZVswXSB8fCAwO1xuICAgICAgdGhpcy5taW51dGVzID0gK3ZhbHVlWzFdIHx8IDA7XG4gICAgICB0aGlzLmlucHV0SG91cnMudmFsdWUgPSB0aGlzLmhvdXJzO1xuICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMudmFsdWUgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyh0aGlzLm1pbnV0ZXMpO1xuXG4gICAgICB0aGlzLl91cGRhdGVBbVBtVmlldygpO1xuICAgIH1cblxuICAgIHNob3dWaWV3KHZpZXcsIGRlbGF5OiBudW1iZXIgPSBudWxsKSB7XG4gICAgICBpZiAodmlldyA9PT0gJ21pbnV0ZXMnICYmICQodGhpcy5ob3Vyc1ZpZXcpLmNzcygndmlzaWJpbGl0eScpID09PSAndmlzaWJsZScpIHtcbiAgICAgICAgLy8gcmFpc2VDYWxsYmFjayh0aGlzLm9wdGlvbnMuYmVmb3JlSG91clNlbGVjdCk7XG4gICAgICB9XG4gICAgICBsZXQgaXNIb3VycyA9IHZpZXcgPT09ICdob3VycycsXG4gICAgICAgIG5leHRWaWV3ID0gaXNIb3VycyA/IHRoaXMuaG91cnNWaWV3IDogdGhpcy5taW51dGVzVmlldyxcbiAgICAgICAgaGlkZVZpZXcgPSBpc0hvdXJzID8gdGhpcy5taW51dGVzVmlldyA6IHRoaXMuaG91cnNWaWV3O1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IHZpZXc7XG5cbiAgICAgICQodGhpcy5pbnB1dEhvdXJzKS50b2dnbGVDbGFzcygndGV4dC1wcmltYXJ5JywgaXNIb3Vycyk7XG4gICAgICAkKHRoaXMuaW5wdXRNaW51dGVzKS50b2dnbGVDbGFzcygndGV4dC1wcmltYXJ5JywgIWlzSG91cnMpO1xuXG4gICAgICAvLyBUcmFuc2l0aW9uIHZpZXdcbiAgICAgIGhpZGVWaWV3LmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItZGlhbC1vdXQnKTtcbiAgICAgICQobmV4dFZpZXcpXG4gICAgICAgIC5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpXG4gICAgICAgIC5yZW1vdmVDbGFzcygndGltZXBpY2tlci1kaWFsLW91dCcpO1xuXG4gICAgICAvLyBSZXNldCBjbG9jayBoYW5kXG4gICAgICB0aGlzLnJlc2V0Q2xvY2soZGVsYXkpO1xuXG4gICAgICAvLyBBZnRlciB0cmFuc2l0aW9ucyBlbmRlZFxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudG9nZ2xlVmlld1RpbWVyKTtcbiAgICAgIHRoaXMudG9nZ2xlVmlld1RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICQoaGlkZVZpZXcpLmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5kdXJhdGlvbik7XG4gICAgfVxuXG4gICAgcmVzZXRDbG9jayhkZWxheSkge1xuICAgICAgbGV0IHZpZXcgPSB0aGlzLmN1cnJlbnRWaWV3LFxuICAgICAgICB2YWx1ZSA9IHRoaXNbdmlld10sXG4gICAgICAgIGlzSG91cnMgPSB2aWV3ID09PSAnaG91cnMnLFxuICAgICAgICB1bml0ID0gTWF0aC5QSSAvIChpc0hvdXJzID8gNiA6IDMwKSxcbiAgICAgICAgcmFkaWFuID0gdmFsdWUgKiB1bml0LFxuICAgICAgICByYWRpdXMgPVxuICAgICAgICAgIGlzSG91cnMgJiYgdmFsdWUgPiAwICYmIHZhbHVlIDwgMTMgPyB0aGlzLm9wdGlvbnMuaW5uZXJSYWRpdXMgOiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMsXG4gICAgICAgIHggPSBNYXRoLnNpbihyYWRpYW4pICogcmFkaXVzLFxuICAgICAgICB5ID0gLU1hdGguY29zKHJhZGlhbikgKiByYWRpdXMsXG4gICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgJCh0aGlzLmNhbnZhcykuYWRkQ2xhc3MoJ3RpbWVwaWNrZXItY2FudmFzLW91dCcpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAkKHNlbGYuY2FudmFzKS5yZW1vdmVDbGFzcygndGltZXBpY2tlci1jYW52YXMtb3V0Jyk7XG4gICAgICAgICAgc2VsZi5zZXRIYW5kKHgsIHkpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEhhbmQoeCwgeSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2lucHV0RnJvbVRleHRGaWVsZCgpIHtcbiAgICAgIGNvbnN0IGlzSG91cnMgPSB0aGlzLmN1cnJlbnRWaWV3ID09PSAnaG91cnMnO1xuXG4gICAgICBpZiAoaXNIb3Vycykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXNbJ2lucHV0SG91cnMnXS52YWx1ZTtcblxuICAgICAgICBpZiAodmFsdWUgPiAwICYmIHZhbHVlIDwgMTMpIHtcbiAgICAgICAgICB0aGlzLmRyYXdDbG9ja0Zyb21UaW1lSW5wdXQodmFsdWUsIGlzSG91cnMpO1xuXG4gICAgICAgICAgdGhpcy5zaG93VmlldygnbWludXRlcycsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAvIDIpO1xuXG4gICAgICAgICAgdGhpcy5ob3VycyA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMuaW5wdXRNaW51dGVzLmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgaG91ciA9IG5ldyBEYXRlKCkuZ2V0SG91cnMoKTtcbiAgICAgICAgICB0aGlzWydpbnB1dEhvdXJzJ10udmFsdWUgPSBob3VyICUgMTI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1snaW5wdXRNaW51dGVzJ10udmFsdWU7XG5cbiAgICAgICAgaWYgKHZhbHVlID49IDAgJiYgdmFsdWUgPCA2MCkge1xuICAgICAgICAgIHRoaXNbJ2lucHV0TWludXRlcyddLnZhbHVlID0gVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8odmFsdWUpO1xuXG4gICAgICAgICAgdGhpcy5kcmF3Q2xvY2tGcm9tVGltZUlucHV0KHZhbHVlLCBpc0hvdXJzKTtcblxuICAgICAgICAgIHRoaXMubWludXRlcyA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcuY29uZmlybWF0aW9uLWJ0bnMgOm50aC1jaGlsZCgyKScpLmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbWludXRlcyA9IG5ldyBEYXRlKCkuZ2V0TWludXRlcygpO1xuICAgICAgICAgIHRoaXNbJ2lucHV0TWludXRlcyddLnZhbHVlID0gVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8obWludXRlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3Q2xvY2tGcm9tVGltZUlucHV0KHZhbHVlLCBpc0hvdXJzKSB7XG4gICAgICBjb25zdCB1bml0ID0gTWF0aC5QSSAvIChpc0hvdXJzID8gNiA6IDMwKTtcbiAgICAgIGNvbnN0IHJhZGlhbiA9IHZhbHVlICogdW5pdDtcbiAgICAgIGxldCByYWRpdXM7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgICByYWRpdXMgPSB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XG4gICAgICB9XG5cbiAgICAgIGxldCBjeDEgPSBNYXRoLnNpbihyYWRpYW4pICogKHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzKSxcbiAgICAgICAgY3kxID0gLU1hdGguY29zKHJhZGlhbikgKiAocmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMpLFxuICAgICAgICBjeDIgPSBNYXRoLnNpbihyYWRpYW4pICogcmFkaXVzLFxuICAgICAgICBjeTIgPSAtTWF0aC5jb3MocmFkaWFuKSAqIHJhZGl1cztcblxuICAgICAgdGhpcy5oYW5kLnNldEF0dHJpYnV0ZSgneDInLCBjeDEudG9TdHJpbmcoKSk7XG4gICAgICB0aGlzLmhhbmQuc2V0QXR0cmlidXRlKCd5MicsIGN5MS50b1N0cmluZygpKTtcbiAgICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCdjeCcsIGN4Mi50b1N0cmluZygpKTtcbiAgICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCdjeScsIGN5Mi50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICBzZXRIYW5kKHgsIHksIHJvdW5kQnk1OiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgIGxldCByYWRpYW4gPSBNYXRoLmF0YW4yKHgsIC15KSxcbiAgICAgICAgaXNIb3VycyA9IHRoaXMuY3VycmVudFZpZXcgPT09ICdob3VycycsXG4gICAgICAgIHVuaXQgPSBNYXRoLlBJIC8gKGlzSG91cnMgfHwgcm91bmRCeTUgPyA2IDogMzApLFxuICAgICAgICB6ID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpLFxuICAgICAgICBpbm5lciA9IGlzSG91cnMgJiYgeiA8ICh0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgKyB0aGlzLm9wdGlvbnMuaW5uZXJSYWRpdXMpIC8gMixcbiAgICAgICAgcmFkaXVzID0gaW5uZXIgPyB0aGlzLm9wdGlvbnMuaW5uZXJSYWRpdXMgOiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgICByYWRpdXMgPSB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XG4gICAgICB9XG5cbiAgICAgIC8vIFJhZGlhbiBzaG91bGQgaW4gcmFuZ2UgWzAsIDJQSV1cbiAgICAgIGlmIChyYWRpYW4gPCAwKSB7XG4gICAgICAgIHJhZGlhbiA9IE1hdGguUEkgKiAyICsgcmFkaWFuO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIHJvdW5kIHZhbHVlXG4gICAgICBsZXQgdmFsdWUgPSBNYXRoLnJvdW5kKHJhZGlhbiAvIHVuaXQpO1xuXG4gICAgICAvLyBHZXQgdGhlIHJvdW5kIHJhZGlhblxuICAgICAgcmFkaWFuID0gdmFsdWUgKiB1bml0O1xuXG4gICAgICAvLyBDb3JyZWN0IHRoZSBob3VycyBvciBtaW51dGVzXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIpIHtcbiAgICAgICAgaWYgKGlzSG91cnMpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT09IDApIHZhbHVlID0gMTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJvdW5kQnk1KSB2YWx1ZSAqPSA1O1xuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gNjApIHZhbHVlID0gMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzSG91cnMpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT09IDEyKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlID0gaW5uZXIgPyAodmFsdWUgPT09IDAgPyAxMiA6IHZhbHVlKSA6IHZhbHVlID09PSAwID8gMCA6IHZhbHVlICsgMTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJvdW5kQnk1KSB7XG4gICAgICAgICAgICB2YWx1ZSAqPSA1O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodmFsdWUgPT09IDYwKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE9uY2UgaG91cnMgb3IgbWludXRlcyBjaGFuZ2VkLCB2aWJyYXRlIHRoZSBkZXZpY2VcbiAgICAgIGlmICh0aGlzW3RoaXMuY3VycmVudFZpZXddICE9PSB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy52aWJyYXRlICYmIHRoaXMub3B0aW9ucy52aWJyYXRlKSB7XG4gICAgICAgICAgLy8gRG8gbm90IHZpYnJhdGUgdG9vIGZyZXF1ZW50bHlcbiAgICAgICAgICBpZiAoIXRoaXMudmlicmF0ZVRpbWVyKSB7XG4gICAgICAgICAgICBuYXZpZ2F0b3JbdGhpcy52aWJyYXRlXSgxMCk7XG4gICAgICAgICAgICB0aGlzLnZpYnJhdGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnZpYnJhdGVUaW1lciA9IG51bGw7XG4gICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzW3RoaXMuY3VycmVudFZpZXddID0gdmFsdWU7XG4gICAgICBpZiAoaXNIb3Vycykge1xuICAgICAgICB0aGlzWydpbnB1dEhvdXJzJ10udmFsdWUgPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXNbJ2lucHV0TWludXRlcyddLnZhbHVlID0gVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8odmFsdWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgY2xvY2sgaGFuZCBhbmQgb3RoZXJzJyBwb3NpdGlvblxuICAgICAgbGV0IGN4MSA9IE1hdGguc2luKHJhZGlhbikgKiAocmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMpLFxuICAgICAgICBjeTEgPSAtTWF0aC5jb3MocmFkaWFuKSAqIChyYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyksXG4gICAgICAgIGN4MiA9IE1hdGguc2luKHJhZGlhbikgKiByYWRpdXMsXG4gICAgICAgIGN5MiA9IC1NYXRoLmNvcyhyYWRpYW4pICogcmFkaXVzO1xuICAgICAgdGhpcy5oYW5kLnNldEF0dHJpYnV0ZSgneDInLCBjeDEudG9TdHJpbmcoKSk7XG4gICAgICB0aGlzLmhhbmQuc2V0QXR0cmlidXRlKCd5MicsIGN5MS50b1N0cmluZygpKTtcbiAgICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCdjeCcsIGN4Mi50b1N0cmluZygpKTtcbiAgICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCdjeScsIGN5Mi50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgdGhpcy5fdXBkYXRlVGltZUZyb21JbnB1dCgpO1xuICAgICAgdGhpcy5zaG93VmlldygnaG91cnMnKTtcblxuICAgICAgdGhpcy5tb2RhbC5vcGVuKCk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMubW9kYWwuY2xvc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5pc2ggdGltZXBpY2tlciBzZWxlY3Rpb24uXG4gICAgICovXG4gICAgZG9uZShlID0gbnVsbCwgY2xlYXJWYWx1ZSA9IG51bGwpIHtcbiAgICAgIC8vIFNldCBpbnB1dCB2YWx1ZVxuICAgICAgbGV0IGxhc3QgPSAodGhpcy5lbCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICAgIGxldCB2YWx1ZSA9IGNsZWFyVmFsdWVcbiAgICAgICAgPyAnJ1xuICAgICAgICA6IFRpbWVwaWNrZXIuX2FkZExlYWRpbmdaZXJvKHRoaXMuaG91cnMpICsgJzonICsgVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8odGhpcy5taW51dGVzKTtcbiAgICAgIHRoaXMudGltZSA9IHZhbHVlO1xuICAgICAgaWYgKCFjbGVhclZhbHVlICYmIHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAgIHZhbHVlID0gYCR7dmFsdWV9ICR7dGhpcy5hbU9yUG19YDtcbiAgICAgIH1cbiAgICAgICh0aGlzLmVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlID0gdmFsdWU7XG5cbiAgICAgIC8vIFRyaWdnZXIgY2hhbmdlIGV2ZW50XG4gICAgICBpZiAodmFsdWUgIT09IGxhc3QpIHtcbiAgICAgICAgdGhpcy4kZWwudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5mb2N1cygpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgdGhpcy5kb25lKG51bGwsIHRydWUpO1xuICAgIH1cblxuICAgIHN0YXRpYyB7XG4gICAgICBUaW1lcGlja2VyLl90ZW1wbGF0ZSA9IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9IFwibW9kYWwgdGltZXBpY2tlci1tb2RhbFwiPicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudCB0aW1lcGlja2VyLWNvbnRhaW5lclwiPicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaWdpdGFsLWRpc3BsYXlcIj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItdGV4dC1jb250YWluZXJcIj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItZGlzcGxheS1jb2x1bW5cIj4nLFxuICAgICAgICAnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbWF4bGVuZ3RoPVwiMlwiIGF1dG9mb2N1cyBjbGFzcz1cInRpbWVwaWNrZXItaW5wdXQtaG91cnMgdGV4dC1wcmltYXJ5XCIgLz4nLFxuICAgICAgICAnOicsXG4gICAgICAgICc8aW5wdXQgdHlwZT1cInRleHRcIiBtYXhsZW5ndGg9XCIyXCIgY2xhc3M9XCJ0aW1lcGlja2VyLWlucHV0LW1pbnV0ZXNcIiAvPicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItZGlzcGxheS1jb2x1bW4gdGltZXBpY2tlci1kaXNwbGF5LWFtLXBtXCI+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLXNwYW4tYW0tcG1cIj48L2Rpdj4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItYW5hbG9nLWRpc3BsYXlcIj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItcGxhdGVcIj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItY2FudmFzXCI+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWRpYWwgdGltZXBpY2tlci1ob3Vyc1wiPjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaWFsIHRpbWVwaWNrZXItbWludXRlcyB0aW1lcGlja2VyLWRpYWwtb3V0XCI+PC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1mb290ZXJcIj48L2Rpdj4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgICBdLmpvaW4oJycpO1xuICAgIH1cbiAgfVxuXG4gXG5cbiAgIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///707\n")},620:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Toast = void 0;\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst animejs_1 = __importDefault(__webpack_require__(30));\nlet _defaults = {\n    html: '',\n    unsafeHTML: '',\n    text: '',\n    displayLength: 4000,\n    inDuration: 300,\n    outDuration: 375,\n    classes: '',\n    completeCallback: null,\n    activationPercent: 0.8\n};\nclass Toast {\n    constructor(options) {\n        /**\n         * Options for the toast\n         * @member Toast#options\n         */\n        this.options = cash_dom_1.default.extend({}, Toast.defaults, options);\n        this.htmlMessage = this.options.html;\n        // Warn when using html\n        if (!!this.options.html)\n            console.warn('The html option is deprecated and will be removed in the future. See https://github.com/materializecss/materialize/pull/49');\n        // If the new unsafeHTML is used, prefer that\n        if (!!this.options.unsafeHTML) {\n            this.htmlMessage = this.options.unsafeHTML;\n        }\n        this.message = this.options.text;\n        /**\n         * Describes current pan state toast\n         * @type {Boolean}\n         */\n        this.panning = false;\n        /**\n         * Time remaining until toast is removed\n         */\n        this.timeRemaining = this.options.displayLength;\n        if (Toast._toasts.length === 0) {\n            Toast._createContainer();\n        }\n        // Create new toast\n        Toast._toasts.push(this);\n        let toastElement = this._createToast();\n        toastElement.M_Toast = this;\n        this.el = toastElement;\n        this.$el = (0, cash_dom_1.default)(toastElement);\n        this._animateIn();\n        this._setTimer();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Get Instance\n     */\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Toast;\n    }\n    /**\n     * Append toast container and add event handlers\n     */\n    static _createContainer() {\n        let container = document.createElement('div');\n        container.setAttribute('id', 'toast-container');\n        // Add event handler\n        container.addEventListener('touchstart', Toast._onDragStart);\n        container.addEventListener('touchmove', Toast._onDragMove);\n        container.addEventListener('touchend', Toast._onDragEnd);\n        container.addEventListener('mousedown', Toast._onDragStart);\n        document.addEventListener('mousemove', Toast._onDragMove);\n        document.addEventListener('mouseup', Toast._onDragEnd);\n        document.body.appendChild(container);\n        Toast._container = container;\n    }\n    /**\n     * Remove toast container and event handlers\n     */\n    static _removeContainer() {\n        // Add event handler\n        document.removeEventListener('mousemove', Toast._onDragMove);\n        document.removeEventListener('mouseup', Toast._onDragEnd);\n        (0, cash_dom_1.default)(Toast._container).remove();\n        Toast._container = null;\n    }\n    /**\n     * Begin drag handler\n     * @param {Event} e\n     */\n    static _onDragStart(e) {\n        if (e.target && (0, cash_dom_1.default)(e.target).closest('.toast').length) {\n            let $toast = (0, cash_dom_1.default)(e.target).closest('.toast');\n            let toast = $toast[0].M_Toast;\n            toast.panning = true;\n            Toast._draggedToast = toast;\n            toast.el.classList.add('panning');\n            toast.el.style.transition = '';\n            toast.startingXPos = Toast._xPos(e);\n            toast.time = Date.now();\n            toast.xPos = Toast._xPos(e);\n        }\n    }\n    /**\n     * Drag move handler\n     * @param {Event} e\n     */\n    static _onDragMove(e) {\n        if (!!Toast._draggedToast) {\n            e.preventDefault();\n            let toast = Toast._draggedToast;\n            toast.deltaX = Math.abs(toast.xPos - Toast._xPos(e));\n            toast.xPos = Toast._xPos(e);\n            toast.velocityX = toast.deltaX / (Date.now() - toast.time);\n            toast.time = Date.now();\n            let totalDeltaX = toast.xPos - toast.startingXPos;\n            let activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\n            toast.el.style.transform = `translateX(${totalDeltaX}px)`;\n            toast.el.style.opacity = 1 - Math.abs(totalDeltaX / activationDistance);\n        }\n    }\n    /**\n     * End drag handler\n     */\n    static _onDragEnd() {\n        if (!!Toast._draggedToast) {\n            let toast = Toast._draggedToast;\n            toast.panning = false;\n            toast.el.classList.remove('panning');\n            let totalDeltaX = toast.xPos - toast.startingXPos;\n            let activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\n            let shouldBeDismissed = Math.abs(totalDeltaX) > activationDistance || toast.velocityX > 1;\n            // Remove toast\n            if (shouldBeDismissed) {\n                toast.wasSwiped = true;\n                toast.dismiss();\n                // Animate toast back to original position\n            }\n            else {\n                toast.el.style.transition = 'transform .2s, opacity .2s';\n                toast.el.style.transform = '';\n                toast.el.style.opacity = '';\n            }\n            Toast._draggedToast = null;\n        }\n    }\n    /**\n     * Get x position of mouse or touch event\n     * @param {Event} e\n     */\n    static _xPos(e) {\n        if (e.targetTouches && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientX;\n        }\n        // mouse event\n        return e.clientX;\n    }\n    /**\n     * Remove all toasts\n     */\n    static dismissAll() {\n        for (let toastIndex in Toast._toasts) {\n            Toast._toasts[toastIndex].dismiss();\n        }\n    }\n    /**\n     * Create toast and append it to toast container\n     */\n    _createToast() {\n        let toast = document.createElement('div');\n        toast.classList.add('toast');\n        toast.setAttribute('role', 'alert');\n        toast.setAttribute('aria-live', 'assertive');\n        toast.setAttribute('aria-atomic', 'true');\n        // Add custom classes onto toast\n        if (!!this.options.classes.length) {\n            (0, cash_dom_1.default)(toast).addClass(this.options.classes);\n        }\n        // Set safe text content\n        toast.textContent = this.message;\n        if (typeof HTMLElement === 'object'\n            ? this.htmlMessage instanceof HTMLElement\n            : this.htmlMessage &&\n                typeof this.htmlMessage === 'object' &&\n                this.htmlMessage !== null &&\n                this.htmlMessage.nodeType === 1 &&\n                typeof this.htmlMessage.nodeName === 'string') {\n            //if the htmlMessage is an HTML node, append it directly\n            toast.appendChild(this.htmlMessage);\n        }\n        else if (!!this.htmlMessage.jquery) {\n            // Check if it is jQuery object, append the node\n            (0, cash_dom_1.default)(toast).append(this.htmlMessage[0]);\n        }\n        else {\n            // Append as unsanitized html;\n            (0, cash_dom_1.default)(toast).append(this.htmlMessage);\n        }\n        // Append toast\n        Toast._container.appendChild(toast);\n        return toast;\n    }\n    /**\n     * Animate in toast\n     */\n    _animateIn() {\n        // Animate toast in\n        (0, animejs_1.default)({\n            targets: this.el,\n            top: 0,\n            opacity: 1,\n            duration: this.options.inDuration,\n            easing: 'easeOutCubic'\n        });\n    }\n    /**\n     * Create setInterval which automatically removes toast when timeRemaining >= 0\n     * has been reached\n     */\n    _setTimer() {\n        if (this.timeRemaining !== Infinity) {\n            this.counterInterval = setInterval(() => {\n                // If toast is not being dragged, decrease its time remaining\n                if (!this.panning) {\n                    this.timeRemaining -= 20;\n                }\n                // Animate toast out\n                if (this.timeRemaining <= 0) {\n                    this.dismiss();\n                }\n            }, 20);\n        }\n    }\n    /**\n     * Dismiss toast with animation\n     */\n    dismiss() {\n        window.clearInterval(this.counterInterval);\n        let activationDistance = this.el.offsetWidth * this.options.activationPercent;\n        if (this.wasSwiped) {\n            this.el.style.transition = 'transform .05s, opacity .05s';\n            this.el.style.transform = `translateX(${activationDistance}px)`;\n            this.el.style.opacity = '0';\n        }\n        (0, animejs_1.default)({\n            targets: this.el,\n            opacity: 0,\n            marginTop: -40,\n            duration: this.options.outDuration,\n            easing: 'easeOutExpo',\n            complete: () => {\n                // Call the optional callback\n                if (typeof this.options.completeCallback === 'function') {\n                    this.options.completeCallback();\n                }\n                // Remove toast from DOM\n                this.$el.remove();\n                Toast._toasts.splice(Toast._toasts.indexOf(this), 1);\n                if (Toast._toasts.length === 0) {\n                    Toast._removeContainer();\n                }\n            }\n        });\n    }\n}\nexports.Toast = Toast;\n(() => {\n    /**\n     * @static\n     * @memberof Toast\n     * @type {Array.<Toast>}\n     */\n    Toast._toasts = [];\n    /**\n     * @static\n     * @memberof Toast\n     */\n    Toast._container = null;\n    /**\n     * @static\n     * @memberof Toast\n     * @type {Toast}\n     */\n    Toast._draggedToast = null;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLEVBQUU7WUFDaEIsT0FBTyxFQUFFLENBQUM7WUFDVixTQUFTLEVBQUUsQ0FBQyxFQUFFO1lBQ2QsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVztZQUNsQyxNQUFNLEVBQUUsYUFBYTtZQUNyQixRQUFRLEVBQUUsR0FBRyxFQUFFO2dCQUNiLDZCQUE2QjtnQkFDN0IsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEtBQUssVUFBVSxFQUFFO29CQUN2RCxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixFQUFFLENBQUM7aUJBQ2pDO2dCQUNELHdCQUF3QjtnQkFDeEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDbEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JELElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO29CQUM5QixLQUFLLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztpQkFDMUI7WUFDSCxDQUFDO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQXlCRjtBQS9URCxzQkErVEM7QUF2QkM7SUFFRTs7OztPQUlHO0lBQ0gsS0FBSyxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7SUFFbkI7OztPQUdHO0lBQ0gsS0FBSyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7SUFFeEI7Ozs7T0FJRztJQUNILEtBQUssQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO0FBRTdCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL3RvYXN0cy50cz9mOTZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gXCJjYXNoLWRvbVwiO1xuaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxubGV0IF9kZWZhdWx0cyA9IHtcbiAgICBodG1sOiAnJyxcbiAgICB1bnNhZmVIVE1MOiAnJyxcbiAgICB0ZXh0OiAnJyxcbiAgICBkaXNwbGF5TGVuZ3RoOiA0MDAwLFxuICAgIGluRHVyYXRpb246IDMwMCxcbiAgICBvdXREdXJhdGlvbjogMzc1LFxuICAgIGNsYXNzZXM6ICcnLFxuICAgIGNvbXBsZXRlQ2FsbGJhY2s6IG51bGwsXG4gICAgYWN0aXZhdGlvblBlcmNlbnQ6IDAuOFxuICB9O1xuXG4gIGV4cG9ydCBjbGFzcyBUb2FzdCB7XG4gICAgc3RhdGljIF90b2FzdHM6IGFueVtdO1xuICAgIHN0YXRpYyBfY29udGFpbmVyOiBhbnk7XG4gICAgc3RhdGljIF9kcmFnZ2VkVG9hc3Q6IGFueTtcbiAgICBvcHRpb25zOiBhbnk7XG4gICAgaHRtbE1lc3NhZ2U6IGFueTtcbiAgICBtZXNzYWdlOiBhbnk7XG4gICAgcGFubmluZzogYm9vbGVhbjtcbiAgICB0aW1lUmVtYWluaW5nOiBhbnk7XG4gICAgZWw6IEhUTUxEaXZFbGVtZW50O1xuICAgICRlbDogYW55O1xuICAgIGNvdW50ZXJJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQ7XG4gICAgd2FzU3dpcGVkOiBhbnk7XG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogYW55KSB7ICAgICAgXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgZm9yIHRoZSB0b2FzdFxuICAgICAgICogQG1lbWJlciBUb2FzdCNvcHRpb25zXG4gICAgICAgKi9cbiAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBUb2FzdC5kZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICB0aGlzLmh0bWxNZXNzYWdlID0gdGhpcy5vcHRpb25zLmh0bWw7XG4gICAgICAvLyBXYXJuIHdoZW4gdXNpbmcgaHRtbFxuICAgICAgaWYgKCEhdGhpcy5vcHRpb25zLmh0bWwpXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnVGhlIGh0bWwgb3B0aW9uIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplL3B1bGwvNDknXG4gICAgICAgICk7XG4gICAgICAvLyBJZiB0aGUgbmV3IHVuc2FmZUhUTUwgaXMgdXNlZCwgcHJlZmVyIHRoYXRcbiAgICAgIGlmICghIXRoaXMub3B0aW9ucy51bnNhZmVIVE1MKSB7XG4gICAgICAgIHRoaXMuaHRtbE1lc3NhZ2UgPSB0aGlzLm9wdGlvbnMudW5zYWZlSFRNTDtcbiAgICAgIH1cbiAgICAgIHRoaXMubWVzc2FnZSA9IHRoaXMub3B0aW9ucy50ZXh0O1xuXG4gICAgICAvKipcbiAgICAgICAqIERlc2NyaWJlcyBjdXJyZW50IHBhbiBzdGF0ZSB0b2FzdFxuICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIHRoaXMucGFubmluZyA9IGZhbHNlO1xuXG4gICAgICAvKipcbiAgICAgICAqIFRpbWUgcmVtYWluaW5nIHVudGlsIHRvYXN0IGlzIHJlbW92ZWRcbiAgICAgICAqL1xuICAgICAgdGhpcy50aW1lUmVtYWluaW5nID0gdGhpcy5vcHRpb25zLmRpc3BsYXlMZW5ndGg7XG5cbiAgICAgIGlmIChUb2FzdC5fdG9hc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBUb2FzdC5fY3JlYXRlQ29udGFpbmVyKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBuZXcgdG9hc3RcbiAgICAgIFRvYXN0Ll90b2FzdHMucHVzaCh0aGlzKTtcbiAgICAgIGxldCB0b2FzdEVsZW1lbnQgPSB0aGlzLl9jcmVhdGVUb2FzdCgpO1xuICAgICAgKHRvYXN0RWxlbWVudCBhcyBhbnkpLk1fVG9hc3QgPSB0aGlzO1xuICAgICAgdGhpcy5lbCA9IHRvYXN0RWxlbWVudDtcbiAgICAgIHRoaXMuJGVsID0gJCh0b2FzdEVsZW1lbnQpO1xuICAgICAgdGhpcy5fYW5pbWF0ZUluKCk7XG4gICAgICB0aGlzLl9zZXRUaW1lcigpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBJbnN0YW5jZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX1RvYXN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGVuZCB0b2FzdCBjb250YWluZXIgYW5kIGFkZCBldmVudCBoYW5kbGVyc1xuICAgICAqL1xuICAgIHN0YXRpYyBfY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAndG9hc3QtY29udGFpbmVyJyk7XG5cbiAgICAgIC8vIEFkZCBldmVudCBoYW5kbGVyXG4gICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIFRvYXN0Ll9vbkRyYWdTdGFydCk7XG4gICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgVG9hc3QuX29uRHJhZ01vdmUpO1xuICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgVG9hc3QuX29uRHJhZ0VuZCk7XG5cbiAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBUb2FzdC5fb25EcmFnU3RhcnQpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgVG9hc3QuX29uRHJhZ01vdmUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIFRvYXN0Ll9vbkRyYWdFbmQpO1xuXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgICBUb2FzdC5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0b2FzdCBjb250YWluZXIgYW5kIGV2ZW50IGhhbmRsZXJzXG4gICAgICovXG4gICAgc3RhdGljIF9yZW1vdmVDb250YWluZXIoKSB7XG4gICAgICAvLyBBZGQgZXZlbnQgaGFuZGxlclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgVG9hc3QuX29uRHJhZ01vdmUpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIFRvYXN0Ll9vbkRyYWdFbmQpO1xuXG4gICAgICAkKFRvYXN0Ll9jb250YWluZXIpLnJlbW92ZSgpO1xuICAgICAgVG9hc3QuX2NvbnRhaW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmVnaW4gZHJhZyBoYW5kbGVyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqL1xuICAgIHN0YXRpYyBfb25EcmFnU3RhcnQoZSkge1xuICAgICAgaWYgKGUudGFyZ2V0ICYmICQoZS50YXJnZXQpLmNsb3Nlc3QoJy50b2FzdCcpLmxlbmd0aCkge1xuICAgICAgICBsZXQgJHRvYXN0ID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLnRvYXN0Jyk7XG4gICAgICAgIGxldCB0b2FzdCA9ICgkdG9hc3RbMF0gYXMgYW55KS5NX1RvYXN0O1xuICAgICAgICB0b2FzdC5wYW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgVG9hc3QuX2RyYWdnZWRUb2FzdCA9IHRvYXN0O1xuICAgICAgICB0b2FzdC5lbC5jbGFzc0xpc3QuYWRkKCdwYW5uaW5nJyk7XG4gICAgICAgIHRvYXN0LmVsLnN0eWxlLnRyYW5zaXRpb24gPSAnJztcbiAgICAgICAgdG9hc3Quc3RhcnRpbmdYUG9zID0gVG9hc3QuX3hQb3MoZSk7XG4gICAgICAgIHRvYXN0LnRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB0b2FzdC54UG9zID0gVG9hc3QuX3hQb3MoZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhZyBtb3ZlIGhhbmRsZXJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgc3RhdGljIF9vbkRyYWdNb3ZlKGUpIHtcbiAgICAgIGlmICghIVRvYXN0Ll9kcmFnZ2VkVG9hc3QpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsZXQgdG9hc3QgPSBUb2FzdC5fZHJhZ2dlZFRvYXN0O1xuICAgICAgICB0b2FzdC5kZWx0YVggPSBNYXRoLmFicyh0b2FzdC54UG9zIC0gVG9hc3QuX3hQb3MoZSkpO1xuICAgICAgICB0b2FzdC54UG9zID0gVG9hc3QuX3hQb3MoZSk7XG4gICAgICAgIHRvYXN0LnZlbG9jaXR5WCA9IHRvYXN0LmRlbHRhWCAvIChEYXRlLm5vdygpIC0gdG9hc3QudGltZSk7XG4gICAgICAgIHRvYXN0LnRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIGxldCB0b3RhbERlbHRhWCA9IHRvYXN0LnhQb3MgLSB0b2FzdC5zdGFydGluZ1hQb3M7XG4gICAgICAgIGxldCBhY3RpdmF0aW9uRGlzdGFuY2UgPSB0b2FzdC5lbC5vZmZzZXRXaWR0aCAqIHRvYXN0Lm9wdGlvbnMuYWN0aXZhdGlvblBlcmNlbnQ7XG4gICAgICAgIHRvYXN0LmVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dG90YWxEZWx0YVh9cHgpYDtcbiAgICAgICAgdG9hc3QuZWwuc3R5bGUub3BhY2l0eSA9IDEgLSBNYXRoLmFicyh0b3RhbERlbHRhWCAvIGFjdGl2YXRpb25EaXN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5kIGRyYWcgaGFuZGxlclxuICAgICAqL1xuICAgIHN0YXRpYyBfb25EcmFnRW5kKCkge1xuICAgICAgaWYgKCEhVG9hc3QuX2RyYWdnZWRUb2FzdCkge1xuICAgICAgICBsZXQgdG9hc3QgPSBUb2FzdC5fZHJhZ2dlZFRvYXN0O1xuICAgICAgICB0b2FzdC5wYW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHRvYXN0LmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Bhbm5pbmcnKTtcblxuICAgICAgICBsZXQgdG90YWxEZWx0YVggPSB0b2FzdC54UG9zIC0gdG9hc3Quc3RhcnRpbmdYUG9zO1xuICAgICAgICBsZXQgYWN0aXZhdGlvbkRpc3RhbmNlID0gdG9hc3QuZWwub2Zmc2V0V2lkdGggKiB0b2FzdC5vcHRpb25zLmFjdGl2YXRpb25QZXJjZW50O1xuICAgICAgICBsZXQgc2hvdWxkQmVEaXNtaXNzZWQgPSBNYXRoLmFicyh0b3RhbERlbHRhWCkgPiBhY3RpdmF0aW9uRGlzdGFuY2UgfHwgdG9hc3QudmVsb2NpdHlYID4gMTtcblxuICAgICAgICAvLyBSZW1vdmUgdG9hc3RcbiAgICAgICAgaWYgKHNob3VsZEJlRGlzbWlzc2VkKSB7XG4gICAgICAgICAgdG9hc3Qud2FzU3dpcGVkID0gdHJ1ZTtcbiAgICAgICAgICB0b2FzdC5kaXNtaXNzKCk7XG5cbiAgICAgICAgICAvLyBBbmltYXRlIHRvYXN0IGJhY2sgdG8gb3JpZ2luYWwgcG9zaXRpb25cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b2FzdC5lbC5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAuMnMsIG9wYWNpdHkgLjJzJztcbiAgICAgICAgICB0b2FzdC5lbC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgICAgICB0b2FzdC5lbC5zdHlsZS5vcGFjaXR5ID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgVG9hc3QuX2RyYWdnZWRUb2FzdCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHggcG9zaXRpb24gb2YgbW91c2Ugb3IgdG91Y2ggZXZlbnRcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgc3RhdGljIF94UG9zKGUpIHtcbiAgICAgIGlmIChlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgIHJldHVybiBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIH1cbiAgICAgIC8vIG1vdXNlIGV2ZW50XG4gICAgICByZXR1cm4gZS5jbGllbnRYO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgdG9hc3RzXG4gICAgICovXG4gICAgc3RhdGljIGRpc21pc3NBbGwoKSB7XG4gICAgICBmb3IgKGxldCB0b2FzdEluZGV4IGluIFRvYXN0Ll90b2FzdHMpIHtcbiAgICAgICAgVG9hc3QuX3RvYXN0c1t0b2FzdEluZGV4XS5kaXNtaXNzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRvYXN0IGFuZCBhcHBlbmQgaXQgdG8gdG9hc3QgY29udGFpbmVyXG4gICAgICovXG4gICAgX2NyZWF0ZVRvYXN0KCkge1xuICAgICAgbGV0IHRvYXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0b2FzdC5jbGFzc0xpc3QuYWRkKCd0b2FzdCcpO1xuICAgICAgdG9hc3Quc2V0QXR0cmlidXRlKCdyb2xlJywgJ2FsZXJ0Jyk7XG4gICAgICB0b2FzdC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdhc3NlcnRpdmUnKTtcbiAgICAgIHRvYXN0LnNldEF0dHJpYnV0ZSgnYXJpYS1hdG9taWMnLCAndHJ1ZScpO1xuXG4gICAgICAvLyBBZGQgY3VzdG9tIGNsYXNzZXMgb250byB0b2FzdFxuICAgICAgaWYgKCEhdGhpcy5vcHRpb25zLmNsYXNzZXMubGVuZ3RoKSB7XG4gICAgICAgICQodG9hc3QpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHNhZmUgdGV4dCBjb250ZW50XG4gICAgICB0b2FzdC50ZXh0Q29udGVudCA9IHRoaXMubWVzc2FnZTtcbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIEhUTUxFbGVtZW50ID09PSAnb2JqZWN0J1xuICAgICAgICAgID8gdGhpcy5odG1sTWVzc2FnZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XG4gICAgICAgICAgOiB0aGlzLmh0bWxNZXNzYWdlICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5odG1sTWVzc2FnZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIHRoaXMuaHRtbE1lc3NhZ2UgIT09IG51bGwgJiZcbiAgICAgICAgICAgIHRoaXMuaHRtbE1lc3NhZ2Uubm9kZVR5cGUgPT09IDEgJiZcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLmh0bWxNZXNzYWdlLm5vZGVOYW1lID09PSAnc3RyaW5nJ1xuICAgICAgKSB7XG4gICAgICAgIC8vaWYgdGhlIGh0bWxNZXNzYWdlIGlzIGFuIEhUTUwgbm9kZSwgYXBwZW5kIGl0IGRpcmVjdGx5XG4gICAgICAgIHRvYXN0LmFwcGVuZENoaWxkKHRoaXMuaHRtbE1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIGlmICghIXRoaXMuaHRtbE1lc3NhZ2UuanF1ZXJ5KSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGl0IGlzIGpRdWVyeSBvYmplY3QsIGFwcGVuZCB0aGUgbm9kZVxuICAgICAgICAkKHRvYXN0KS5hcHBlbmQodGhpcy5odG1sTWVzc2FnZVswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBcHBlbmQgYXMgdW5zYW5pdGl6ZWQgaHRtbDtcbiAgICAgICAgJCh0b2FzdCkuYXBwZW5kKHRoaXMuaHRtbE1lc3NhZ2UpO1xuICAgICAgfVxuXG4gICAgICAvLyBBcHBlbmQgdG9hc3RcbiAgICAgIFRvYXN0Ll9jb250YWluZXIuYXBwZW5kQ2hpbGQodG9hc3QpO1xuICAgICAgcmV0dXJuIHRvYXN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuaW1hdGUgaW4gdG9hc3RcbiAgICAgKi9cbiAgICBfYW5pbWF0ZUluKCkge1xuICAgICAgLy8gQW5pbWF0ZSB0b2FzdCBpblxuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgc2V0SW50ZXJ2YWwgd2hpY2ggYXV0b21hdGljYWxseSByZW1vdmVzIHRvYXN0IHdoZW4gdGltZVJlbWFpbmluZyA+PSAwXG4gICAgICogaGFzIGJlZW4gcmVhY2hlZFxuICAgICAqL1xuICAgIF9zZXRUaW1lcigpIHtcbiAgICAgIGlmICh0aGlzLnRpbWVSZW1haW5pbmcgIT09IEluZmluaXR5KSB7XG4gICAgICAgIHRoaXMuY291bnRlckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgIC8vIElmIHRvYXN0IGlzIG5vdCBiZWluZyBkcmFnZ2VkLCBkZWNyZWFzZSBpdHMgdGltZSByZW1haW5pbmdcbiAgICAgICAgICBpZiAoIXRoaXMucGFubmluZykge1xuICAgICAgICAgICAgdGhpcy50aW1lUmVtYWluaW5nIC09IDIwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFuaW1hdGUgdG9hc3Qgb3V0XG4gICAgICAgICAgaWYgKHRoaXMudGltZVJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRpc21pc3MoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDIwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNtaXNzIHRvYXN0IHdpdGggYW5pbWF0aW9uXG4gICAgICovXG4gICAgZGlzbWlzcygpIHtcbiAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuY291bnRlckludGVydmFsKTtcbiAgICAgIGxldCBhY3RpdmF0aW9uRGlzdGFuY2UgPSB0aGlzLmVsLm9mZnNldFdpZHRoICogdGhpcy5vcHRpb25zLmFjdGl2YXRpb25QZXJjZW50O1xuXG4gICAgICBpZiAodGhpcy53YXNTd2lwZWQpIHtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAuMDVzLCBvcGFjaXR5IC4wNXMnO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7YWN0aXZhdGlvbkRpc3RhbmNlfXB4KWA7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgIH1cblxuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIG1hcmdpblRvcDogLTQwLFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0RXhwbycsXG4gICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgLy8gQ2FsbCB0aGUgb3B0aW9uYWwgY2FsbGJhY2tcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5jb21wbGV0ZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuY29tcGxldGVDYWxsYmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBSZW1vdmUgdG9hc3QgZnJvbSBET01cbiAgICAgICAgICB0aGlzLiRlbC5yZW1vdmUoKTtcbiAgICAgICAgICBUb2FzdC5fdG9hc3RzLnNwbGljZShUb2FzdC5fdG9hc3RzLmluZGV4T2YodGhpcyksIDEpO1xuICAgICAgICAgIGlmIChUb2FzdC5fdG9hc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgVG9hc3QuX3JlbW92ZUNvbnRhaW5lcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHtcbiAgICAgICAgICBcbiAgICAgIC8qKlxuICAgICAgICogQHN0YXRpY1xuICAgICAgICogQG1lbWJlcm9mIFRvYXN0XG4gICAgICAgKiBAdHlwZSB7QXJyYXkuPFRvYXN0Pn1cbiAgICAgICAqL1xuICAgICAgVG9hc3QuX3RvYXN0cyA9IFtdO1xuXG4gICAgICAvKipcbiAgICAgICAqIEBzdGF0aWNcbiAgICAgICAqIEBtZW1iZXJvZiBUb2FzdFxuICAgICAgICovXG4gICAgICBUb2FzdC5fY29udGFpbmVyID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAc3RhdGljXG4gICAgICAgKiBAbWVtYmVyb2YgVG9hc3RcbiAgICAgICAqIEB0eXBlIHtUb2FzdH1cbiAgICAgICAqL1xuICAgICAgVG9hc3QuX2RyYWdnZWRUb2FzdCA9IG51bGw7XG5cbiAgICB9XG4gIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///620\n")},713:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Tooltip = void 0;\nconst component_1 = __webpack_require__(999);\nconst cash_dom_1 = __importDefault(__webpack_require__(553));\nconst global_1 = __webpack_require__(238);\nconst animejs_1 = __importDefault(__webpack_require__(30));\nlet _defaults = {\n    exitDelay: 200,\n    enterDelay: 0,\n    html: null,\n    text: '',\n    unsafeHTML: null,\n    margin: 5,\n    inDuration: 250,\n    outDuration: 200,\n    position: 'bottom',\n    transitionMovement: 10\n};\n/**\n * @class\n *\n */\nclass Tooltip extends component_1.Component {\n    /**\n     * Construct Tooltip instance\n     * @constructor\n     * @param {Element} el\n     * @param {Object} options\n     */\n    constructor(el, options) {\n        super(Tooltip, el, options);\n        this.el.M_Tooltip = this;\n        this.options = cash_dom_1.default.extend({}, Tooltip.defaults, options);\n        this.isOpen = false;\n        this.isHovered = false;\n        this.isFocused = false;\n        this._appendTooltipEl();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    /**\n     * Get Instance\n     */\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Tooltip;\n    }\n    /**\n     * Teardown component\n     */\n    destroy() {\n        (0, cash_dom_1.default)(this.tooltipEl).remove();\n        this._removeEventHandlers();\n        this.el.M_Tooltip = undefined;\n    }\n    _appendTooltipEl() {\n        let tooltipEl = document.createElement('div');\n        tooltipEl.classList.add('material-tooltip');\n        this.tooltipEl = tooltipEl;\n        let tooltipContentEl = document.createElement('div');\n        tooltipContentEl.classList.add('tooltip-content');\n        this._setTooltipContent(tooltipContentEl);\n        tooltipEl.appendChild(tooltipContentEl);\n        document.body.appendChild(tooltipEl);\n    }\n    _setTooltipContent(tooltipContentEl) {\n        tooltipContentEl.textContent = this.options.text;\n        if (!!this.options.html) {\n            // Warn when using html\n            console.warn('The html option is deprecated and will be removed in the future. See https://github.com/materializecss/materialize/pull/49');\n            (0, cash_dom_1.default)(tooltipContentEl).append(this.options.html);\n        }\n        if (!!this.options.unsafeHTML) {\n            (0, cash_dom_1.default)(tooltipContentEl).append(this.options.unsafeHTML);\n        }\n    }\n    _updateTooltipContent() {\n        this._setTooltipContent(this.tooltipEl.querySelector('.tooltip-content'));\n    }\n    _setupEventHandlers() {\n        this._handleMouseEnterBound = this._handleMouseEnter.bind(this);\n        this._handleMouseLeaveBound = this._handleMouseLeave.bind(this);\n        this._handleFocusBound = this._handleFocus.bind(this);\n        this._handleBlurBound = this._handleBlur.bind(this);\n        this.el.addEventListener('mouseenter', this._handleMouseEnterBound);\n        this.el.addEventListener('mouseleave', this._handleMouseLeaveBound);\n        this.el.addEventListener('focus', this._handleFocusBound, true);\n        this.el.addEventListener('blur', this._handleBlurBound, true);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('mouseenter', this._handleMouseEnterBound);\n        this.el.removeEventListener('mouseleave', this._handleMouseLeaveBound);\n        this.el.removeEventListener('focus', this._handleFocusBound, true);\n        this.el.removeEventListener('blur', this._handleBlurBound, true);\n    }\n    open(isManual) {\n        if (this.isOpen) {\n            return;\n        }\n        isManual = isManual === undefined ? true : undefined; // Default value true\n        this.isOpen = true;\n        // Update tooltip content with HTML attribute options\n        this.options = cash_dom_1.default.extend({}, this.options, this._getAttributeOptions());\n        this._updateTooltipContent();\n        this._setEnterDelayTimeout(isManual);\n    }\n    close() {\n        if (!this.isOpen) {\n            return;\n        }\n        this.isHovered = false;\n        this.isFocused = false;\n        this.isOpen = false;\n        this._setExitDelayTimeout();\n    }\n    /**\n     * Create timeout which delays when the tooltip closes\n     */\n    _setExitDelayTimeout() {\n        clearTimeout(this._exitDelayTimeout);\n        this._exitDelayTimeout = setTimeout(() => {\n            if (this.isHovered || this.isFocused) {\n                return;\n            }\n            this._animateOut();\n        }, this.options.exitDelay);\n    }\n    /**\n     * Create timeout which delays when the toast closes\n     */\n    _setEnterDelayTimeout(isManual) {\n        clearTimeout(this._enterDelayTimeout);\n        this._enterDelayTimeout = setTimeout(() => {\n            if (!this.isHovered && !this.isFocused && !isManual) {\n                return;\n            }\n            this._animateIn();\n        }, this.options.enterDelay);\n    }\n    _positionTooltip() {\n        let origin = this.el, tooltip = this.tooltipEl, originHeight = origin.offsetHeight, originWidth = origin.offsetWidth, tooltipHeight = tooltip.offsetHeight, tooltipWidth = tooltip.offsetWidth, newCoordinates, margin = this.options.margin, targetTop, targetLeft;\n        (this.xMovement = 0), (this.yMovement = 0);\n        targetTop = origin.getBoundingClientRect().top + global_1.M.getDocumentScrollTop();\n        targetLeft = origin.getBoundingClientRect().left + global_1.M.getDocumentScrollLeft();\n        if (this.options.position === 'top') {\n            targetTop += -tooltipHeight - margin;\n            targetLeft += originWidth / 2 - tooltipWidth / 2;\n            this.yMovement = -this.options.transitionMovement;\n        }\n        else if (this.options.position === 'right') {\n            targetTop += originHeight / 2 - tooltipHeight / 2;\n            targetLeft += originWidth + margin;\n            this.xMovement = this.options.transitionMovement;\n        }\n        else if (this.options.position === 'left') {\n            targetTop += originHeight / 2 - tooltipHeight / 2;\n            targetLeft += -tooltipWidth - margin;\n            this.xMovement = -this.options.transitionMovement;\n        }\n        else {\n            targetTop += originHeight + margin;\n            targetLeft += originWidth / 2 - tooltipWidth / 2;\n            this.yMovement = this.options.transitionMovement;\n        }\n        newCoordinates = this._repositionWithinScreen(targetLeft, targetTop, tooltipWidth, tooltipHeight);\n        (0, cash_dom_1.default)(tooltip).css({\n            top: newCoordinates.y + 'px',\n            left: newCoordinates.x + 'px'\n        });\n    }\n    _repositionWithinScreen(x, y, width, height) {\n        let scrollLeft = global_1.M.getDocumentScrollLeft();\n        let scrollTop = global_1.M.getDocumentScrollTop();\n        let newX = x - scrollLeft;\n        let newY = y - scrollTop;\n        let bounding = {\n            left: newX,\n            top: newY,\n            width: width,\n            height: height\n        };\n        let offset = this.options.margin + this.options.transitionMovement;\n        let edges = global_1.M.checkWithinContainer(document.body, bounding, offset);\n        if (edges.left) {\n            newX = offset;\n        }\n        else if (edges.right) {\n            newX -= newX + width - window.innerWidth;\n        }\n        if (edges.top) {\n            newY = offset;\n        }\n        else if (edges.bottom) {\n            newY -= newY + height - window.innerHeight;\n        }\n        return {\n            x: newX + scrollLeft,\n            y: newY + scrollTop\n        };\n    }\n    _animateIn() {\n        this._positionTooltip();\n        this.tooltipEl.style.visibility = 'visible';\n        animejs_1.default.remove(this.tooltipEl);\n        (0, animejs_1.default)({\n            targets: this.tooltipEl,\n            opacity: this.options.opacity || 1,\n            translateX: this.xMovement,\n            translateY: this.yMovement,\n            duration: this.options.inDuration,\n            easing: 'easeOutCubic'\n        });\n    }\n    _animateOut() {\n        animejs_1.default.remove(this.tooltipEl);\n        (0, animejs_1.default)({\n            targets: this.tooltipEl,\n            opacity: 0,\n            translateX: 0,\n            translateY: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutCubic'\n        });\n    }\n    _handleMouseEnter() {\n        this.isHovered = true;\n        this.isFocused = false; // Allows close of tooltip when opened by focus.\n        this.open(false);\n    }\n    _handleMouseLeave() {\n        this.isHovered = false;\n        this.isFocused = false; // Allows close of tooltip when opened by focus.\n        this.close();\n    }\n    _handleFocus() {\n        if (global_1.M.tabPressed) {\n            this.isFocused = true;\n            this.open(false);\n        }\n    }\n    _handleBlur() {\n        this.isFocused = false;\n        this.close();\n    }\n    _getAttributeOptions() {\n        let attributeOptions = {};\n        let tooltipTextOption = this.el.getAttribute('data-tooltip');\n        let positionOption = this.el.getAttribute('data-position');\n        if (tooltipTextOption) {\n            attributeOptions.text = tooltipTextOption;\n        }\n        if (positionOption) {\n            attributeOptions.position = positionOption;\n        }\n        return attributeOptions;\n    }\n}\nexports.Tooltip = Tooltip;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUM3RCxJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUUzRCxJQUFJLGlCQUFpQixFQUFFO1lBQ3BCLGdCQUF3QixDQUFDLElBQUksR0FBRyxpQkFBaUIsQ0FBQztTQUNwRDtRQUVELElBQUksY0FBYyxFQUFFO1lBQ2pCLGdCQUF3QixDQUFDLFFBQVEsR0FBRyxjQUFjLENBQUM7U0FDckQ7UUFDRCxPQUFPLGdCQUFnQixDQUFDO0lBQzFCLENBQUM7Q0FDRjtBQWhURCwwQkFnVEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL3Rvb2x0aXAudHM/Y2M5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCAkIGZyb20gXCJjYXNoLWRvbVwiO1xuaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxuICBsZXQgX2RlZmF1bHRzID0ge1xuICAgIGV4aXREZWxheTogMjAwLFxuICAgIGVudGVyRGVsYXk6IDAsXG4gICAgaHRtbDogbnVsbCxcbiAgICB0ZXh0OiAnJyxcbiAgICB1bnNhZmVIVE1MOiBudWxsLFxuICAgIG1hcmdpbjogNSxcbiAgICBpbkR1cmF0aW9uOiAyNTAsXG4gICAgb3V0RHVyYXRpb246IDIwMCxcbiAgICBwb3NpdGlvbjogJ2JvdHRvbScsXG4gICAgdHJhbnNpdGlvbk1vdmVtZW50OiAxMFxuICB9O1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBUb29sdGlwIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgaXNIb3ZlcmVkOiBib29sZWFuO1xuICAgIGlzRm9jdXNlZDogYm9vbGVhbjtcbiAgICB0b29sdGlwRWw6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVNb3VzZUVudGVyQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVNb3VzZUxlYXZlQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVGb2N1c0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlQmx1ckJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfZXhpdERlbGF5VGltZW91dDogc3RyaW5nIHwgbnVtYmVyIHwgTm9kZUpTLlRpbWVvdXQ7XG4gICAgcHJpdmF0ZSBfZW50ZXJEZWxheVRpbWVvdXQ6IHN0cmluZyB8IG51bWJlciB8IE5vZGVKUy5UaW1lb3V0O1xuICAgIHhNb3ZlbWVudDogbnVtYmVyO1xuICAgIHlNb3ZlbWVudDogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBUb29sdGlwIGluc3RhbmNlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKFRvb2x0aXAsIGVsLCBvcHRpb25zKTtcblxuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX1Rvb2x0aXAgPSB0aGlzO1xuICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIFRvb2x0aXAuZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0hvdmVyZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgICB0aGlzLl9hcHBlbmRUb29sdGlwRWwoKTtcbiAgICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgSW5zdGFuY2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgIGxldCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgcmV0dXJuIGRvbUVsZW0uTV9Ub29sdGlwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlYXJkb3duIGNvbXBvbmVudFxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAkKHRoaXMudG9vbHRpcEVsKS5yZW1vdmUoKTtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9Ub29sdGlwID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIF9hcHBlbmRUb29sdGlwRWwoKSB7XG4gICAgICBsZXQgdG9vbHRpcEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0b29sdGlwRWwuY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWwtdG9vbHRpcCcpO1xuICAgICAgdGhpcy50b29sdGlwRWwgPSB0b29sdGlwRWw7XG5cbiAgICAgIGxldCB0b29sdGlwQ29udGVudEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0b29sdGlwQ29udGVudEVsLmNsYXNzTGlzdC5hZGQoJ3Rvb2x0aXAtY29udGVudCcpO1xuICAgICAgdGhpcy5fc2V0VG9vbHRpcENvbnRlbnQodG9vbHRpcENvbnRlbnRFbCk7XG5cbiAgICAgIHRvb2x0aXBFbC5hcHBlbmRDaGlsZCh0b29sdGlwQ29udGVudEVsKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9vbHRpcEVsKTtcbiAgICB9XG5cbiAgICBfc2V0VG9vbHRpcENvbnRlbnQodG9vbHRpcENvbnRlbnRFbCkge1xuICAgICAgdG9vbHRpcENvbnRlbnRFbC50ZXh0Q29udGVudCA9IHRoaXMub3B0aW9ucy50ZXh0O1xuICAgICAgaWYgKCEhdGhpcy5vcHRpb25zLmh0bWwpIHtcbiAgICAgICAgLy8gV2FybiB3aGVuIHVzaW5nIGh0bWxcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdUaGUgaHRtbCBvcHRpb24gaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvcHVsbC80OSdcbiAgICAgICAgKTtcbiAgICAgICAgJCh0b29sdGlwQ29udGVudEVsKS5hcHBlbmQodGhpcy5vcHRpb25zLmh0bWwpO1xuICAgICAgfVxuICAgICAgaWYgKCEhdGhpcy5vcHRpb25zLnVuc2FmZUhUTUwpIHtcbiAgICAgICAgJCh0b29sdGlwQ29udGVudEVsKS5hcHBlbmQodGhpcy5vcHRpb25zLnVuc2FmZUhUTUwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVUb29sdGlwQ29udGVudCgpIHtcbiAgICAgIHRoaXMuX3NldFRvb2x0aXBDb250ZW50KHRoaXMudG9vbHRpcEVsLnF1ZXJ5U2VsZWN0b3IoJy50b29sdGlwLWNvbnRlbnQnKSk7XG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXJCb3VuZCA9IHRoaXMuX2hhbmRsZU1vdXNlRW50ZXIuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmVCb3VuZCA9IHRoaXMuX2hhbmRsZU1vdXNlTGVhdmUuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvY3VzQm91bmQgPSB0aGlzLl9oYW5kbGVGb2N1cy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlQmx1ckJvdW5kID0gdGhpcy5faGFuZGxlQmx1ci5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlTW91c2VFbnRlckJvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmVCb3VuZCk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXNCb3VuZCwgdHJ1ZSk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVCbHVyQm91bmQsIHRydWUpO1xuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlTW91c2VFbnRlckJvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmVCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXNCb3VuZCwgdHJ1ZSk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVCbHVyQm91bmQsIHRydWUpO1xuICAgIH1cblxuICAgIG9wZW4oaXNNYW51YWwpIHtcbiAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpc01hbnVhbCA9IGlzTWFudWFsID09PSB1bmRlZmluZWQgPyB0cnVlIDogdW5kZWZpbmVkOyAvLyBEZWZhdWx0IHZhbHVlIHRydWVcbiAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgIC8vIFVwZGF0ZSB0b29sdGlwIGNvbnRlbnQgd2l0aCBIVE1MIGF0dHJpYnV0ZSBvcHRpb25zXG4gICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB0aGlzLl9nZXRBdHRyaWJ1dGVPcHRpb25zKCkpO1xuICAgICAgdGhpcy5fdXBkYXRlVG9vbHRpcENvbnRlbnQoKTtcbiAgICAgIHRoaXMuX3NldEVudGVyRGVsYXlUaW1lb3V0KGlzTWFudWFsKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgIGlmICghdGhpcy5pc09wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzSG92ZXJlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICB0aGlzLl9zZXRFeGl0RGVsYXlUaW1lb3V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRpbWVvdXQgd2hpY2ggZGVsYXlzIHdoZW4gdGhlIHRvb2x0aXAgY2xvc2VzXG4gICAgICovXG4gICAgX3NldEV4aXREZWxheVRpbWVvdXQoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fZXhpdERlbGF5VGltZW91dCk7XG5cbiAgICAgIHRoaXMuX2V4aXREZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNIb3ZlcmVkIHx8IHRoaXMuaXNGb2N1c2VkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xuICAgICAgfSwgdGhpcy5vcHRpb25zLmV4aXREZWxheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRpbWVvdXQgd2hpY2ggZGVsYXlzIHdoZW4gdGhlIHRvYXN0IGNsb3Nlc1xuICAgICAqL1xuICAgIF9zZXRFbnRlckRlbGF5VGltZW91dChpc01hbnVhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2VudGVyRGVsYXlUaW1lb3V0KTtcblxuICAgICAgdGhpcy5fZW50ZXJEZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLmlzSG92ZXJlZCAmJiAhdGhpcy5pc0ZvY3VzZWQgJiYgIWlzTWFudWFsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYW5pbWF0ZUluKCk7XG4gICAgICB9LCB0aGlzLm9wdGlvbnMuZW50ZXJEZWxheSk7XG4gICAgfVxuXG4gICAgX3Bvc2l0aW9uVG9vbHRpcCgpIHtcbiAgICAgIGxldCBvcmlnaW4gPSAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCksXG4gICAgICAgIHRvb2x0aXAgPSB0aGlzLnRvb2x0aXBFbCxcbiAgICAgICAgb3JpZ2luSGVpZ2h0ID0gb3JpZ2luLm9mZnNldEhlaWdodCxcbiAgICAgICAgb3JpZ2luV2lkdGggPSBvcmlnaW4ub2Zmc2V0V2lkdGgsXG4gICAgICAgIHRvb2x0aXBIZWlnaHQgPSB0b29sdGlwLm9mZnNldEhlaWdodCxcbiAgICAgICAgdG9vbHRpcFdpZHRoID0gdG9vbHRpcC5vZmZzZXRXaWR0aCxcbiAgICAgICAgbmV3Q29vcmRpbmF0ZXMsXG4gICAgICAgIG1hcmdpbiA9IHRoaXMub3B0aW9ucy5tYXJnaW4sXG4gICAgICAgIHRhcmdldFRvcCxcbiAgICAgICAgdGFyZ2V0TGVmdDtcblxuICAgICAgKHRoaXMueE1vdmVtZW50ID0gMCksICh0aGlzLnlNb3ZlbWVudCA9IDApO1xuXG4gICAgICB0YXJnZXRUb3AgPSBvcmlnaW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgICAgdGFyZ2V0TGVmdCA9IG9yaWdpbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgTS5nZXREb2N1bWVudFNjcm9sbExlZnQoKTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgdGFyZ2V0VG9wICs9IC10b29sdGlwSGVpZ2h0IC0gbWFyZ2luO1xuICAgICAgICB0YXJnZXRMZWZ0ICs9IG9yaWdpbldpZHRoIC8gMiAtIHRvb2x0aXBXaWR0aCAvIDI7XG4gICAgICAgIHRoaXMueU1vdmVtZW50ID0gLXRoaXMub3B0aW9ucy50cmFuc2l0aW9uTW92ZW1lbnQ7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICB0YXJnZXRUb3AgKz0gb3JpZ2luSGVpZ2h0IC8gMiAtIHRvb2x0aXBIZWlnaHQgLyAyO1xuICAgICAgICB0YXJnZXRMZWZ0ICs9IG9yaWdpbldpZHRoICsgbWFyZ2luO1xuICAgICAgICB0aGlzLnhNb3ZlbWVudCA9IHRoaXMub3B0aW9ucy50cmFuc2l0aW9uTW92ZW1lbnQ7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIHRhcmdldFRvcCArPSBvcmlnaW5IZWlnaHQgLyAyIC0gdG9vbHRpcEhlaWdodCAvIDI7XG4gICAgICAgIHRhcmdldExlZnQgKz0gLXRvb2x0aXBXaWR0aCAtIG1hcmdpbjtcbiAgICAgICAgdGhpcy54TW92ZW1lbnQgPSAtdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFRvcCArPSBvcmlnaW5IZWlnaHQgKyBtYXJnaW47XG4gICAgICAgIHRhcmdldExlZnQgKz0gb3JpZ2luV2lkdGggLyAyIC0gdG9vbHRpcFdpZHRoIC8gMjtcbiAgICAgICAgdGhpcy55TW92ZW1lbnQgPSB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbk1vdmVtZW50O1xuICAgICAgfVxuXG4gICAgICBuZXdDb29yZGluYXRlcyA9IHRoaXMuX3JlcG9zaXRpb25XaXRoaW5TY3JlZW4oXG4gICAgICAgIHRhcmdldExlZnQsXG4gICAgICAgIHRhcmdldFRvcCxcbiAgICAgICAgdG9vbHRpcFdpZHRoLFxuICAgICAgICB0b29sdGlwSGVpZ2h0XG4gICAgICApO1xuICAgICAgJCh0b29sdGlwKS5jc3Moe1xuICAgICAgICB0b3A6IG5ld0Nvb3JkaW5hdGVzLnkgKyAncHgnLFxuICAgICAgICBsZWZ0OiBuZXdDb29yZGluYXRlcy54ICsgJ3B4J1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3JlcG9zaXRpb25XaXRoaW5TY3JlZW4oeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgbGV0IHNjcm9sbExlZnQgPSBNLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpO1xuICAgICAgbGV0IHNjcm9sbFRvcCA9IE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKTtcbiAgICAgIGxldCBuZXdYID0geCAtIHNjcm9sbExlZnQ7XG4gICAgICBsZXQgbmV3WSA9IHkgLSBzY3JvbGxUb3A7XG5cbiAgICAgIGxldCBib3VuZGluZyA9IHtcbiAgICAgICAgbGVmdDogbmV3WCxcbiAgICAgICAgdG9wOiBuZXdZLFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICB9O1xuXG4gICAgICBsZXQgb2Zmc2V0ID0gdGhpcy5vcHRpb25zLm1hcmdpbiArIHRoaXMub3B0aW9ucy50cmFuc2l0aW9uTW92ZW1lbnQ7XG4gICAgICBsZXQgZWRnZXMgPSBNLmNoZWNrV2l0aGluQ29udGFpbmVyKGRvY3VtZW50LmJvZHksIGJvdW5kaW5nLCBvZmZzZXQpO1xuXG4gICAgICBpZiAoZWRnZXMubGVmdCkge1xuICAgICAgICBuZXdYID0gb2Zmc2V0O1xuICAgICAgfSBlbHNlIGlmIChlZGdlcy5yaWdodCkge1xuICAgICAgICBuZXdYIC09IG5ld1ggKyB3aWR0aCAtIHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWRnZXMudG9wKSB7XG4gICAgICAgIG5ld1kgPSBvZmZzZXQ7XG4gICAgICB9IGVsc2UgaWYgKGVkZ2VzLmJvdHRvbSkge1xuICAgICAgICBuZXdZIC09IG5ld1kgKyBoZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IG5ld1ggKyBzY3JvbGxMZWZ0LFxuICAgICAgICB5OiBuZXdZICsgc2Nyb2xsVG9wXG4gICAgICB9O1xuICAgIH1cblxuICAgIF9hbmltYXRlSW4oKSB7XG4gICAgICB0aGlzLl9wb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgIHRoaXMudG9vbHRpcEVsLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICBhbmltLnJlbW92ZSh0aGlzLnRvb2x0aXBFbCk7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy50b29sdGlwRWwsXG4gICAgICAgIG9wYWNpdHk6IHRoaXMub3B0aW9ucy5vcGFjaXR5IHx8IDEsXG4gICAgICAgIHRyYW5zbGF0ZVg6IHRoaXMueE1vdmVtZW50LFxuICAgICAgICB0cmFuc2xhdGVZOiB0aGlzLnlNb3ZlbWVudCxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfYW5pbWF0ZU91dCgpIHtcbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMudG9vbHRpcEVsKTtcbiAgICAgIGFuaW0oe1xuICAgICAgICB0YXJnZXRzOiB0aGlzLnRvb2x0aXBFbCxcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgdHJhbnNsYXRlWDogMCxcbiAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgICB0aGlzLmlzSG92ZXJlZCA9IHRydWU7XG4gICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlOyAvLyBBbGxvd3MgY2xvc2Ugb2YgdG9vbHRpcCB3aGVuIG9wZW5lZCBieSBmb2N1cy5cbiAgICAgIHRoaXMub3BlbihmYWxzZSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgICB0aGlzLmlzSG92ZXJlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTsgLy8gQWxsb3dzIGNsb3NlIG9mIHRvb2x0aXAgd2hlbiBvcGVuZWQgYnkgZm9jdXMuXG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUZvY3VzKCkge1xuICAgICAgaWYgKE0udGFiUHJlc3NlZCkge1xuICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMub3BlbihmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZUJsdXIoKSB7XG4gICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIF9nZXRBdHRyaWJ1dGVPcHRpb25zKCkge1xuICAgICAgbGV0IGF0dHJpYnV0ZU9wdGlvbnMgPSB7fTtcbiAgICAgIGxldCB0b29sdGlwVGV4dE9wdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAnKTtcbiAgICAgIGxldCBwb3NpdGlvbk9wdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBvc2l0aW9uJyk7XG5cbiAgICAgIGlmICh0b29sdGlwVGV4dE9wdGlvbikge1xuICAgICAgICAoYXR0cmlidXRlT3B0aW9ucyBhcyBhbnkpLnRleHQgPSB0b29sdGlwVGV4dE9wdGlvbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHBvc2l0aW9uT3B0aW9uKSB7XG4gICAgICAgIChhdHRyaWJ1dGVPcHRpb25zIGFzIGFueSkucG9zaXRpb24gPSBwb3NpdGlvbk9wdGlvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhdHRyaWJ1dGVPcHRpb25zO1xuICAgIH1cbiAgfVxuXG5cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///713\n")}},__webpack_module_cache__={};function __webpack_require__(Q){var F=__webpack_module_cache__[Q];if(void 0!==F)return F.exports;var U=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q].call(U.exports,U,U.exports,__webpack_require__),U.exports}__webpack_require__.d=(Q,F)=>{for(var U in F)__webpack_require__.o(F,U)&&!__webpack_require__.o(Q,U)&&Object.defineProperty(Q,U,{enumerable:!0,get:F[U]})},__webpack_require__.o=(Q,F)=>Object.prototype.hasOwnProperty.call(Q,F),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(238);M=__webpack_exports__})();