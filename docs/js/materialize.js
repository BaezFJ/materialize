/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
var M;
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/animejs/lib/anime.es.js":
/*!**********************************************!*\
  !*** ./node_modules/animejs/lib/anime.es.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*\n * anime.js v3.2.1\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  nil: function (a) { return is.und(a) || a === null; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; },\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright Â© 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n    eases['easeOutIn' + name] = function (a, b) { return function (t) { return t < 0.5 ? (1 - easeIn(a, b)(1 - t * 2)) / 2 : \n      (easeIn(a, b)(t * 2 - 1) + 1) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width,\n    h: height,\n    vW: viewBox[2],\n    vH: viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * scaleX;\n    case 'y': return (p.y - svg.y) * scaleY;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\n\nvar engine = (function () {\n  var raf;\n\n  function play() {\n    if (!raf && (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) && activeInstances.length > 0) {\n      raf = requestAnimationFrame(step);\n    }\n  }\n  function step(t) {\n    // memo on algorithm issue:\n    // dangerous iteration over mutable `activeInstances`\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\n    var activeInstancesLength = activeInstances.length;\n    var i = 0;\n    while (i < activeInstancesLength) {\n      var activeInstance = activeInstances[i];\n      if (!activeInstance.paused) {\n        activeInstance.tick(t);\n        i++;\n      } else {\n        activeInstances.splice(i, 1);\n        activeInstancesLength--;\n      }\n    }\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\n  }\n\n  function handleVisibilityChange() {\n    if (!anime.suspendWhenDocumentHidden) { return; }\n\n    if (isDocumentHidden()) {\n      // suspend ticks\n      raf = cancelAnimationFrame(raf);\n    } else { // is back to active tab\n      // first adjust animations to consider the time that ticks were suspended\n      activeInstances.forEach(\n        function (instance) { return instance ._onDocumentVisibility(); }\n      );\n      engine();\n    }\n  }\n  if (typeof document !== 'undefined') {\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n  }\n\n  return play;\n})();\n\nfunction isDocumentHidden() {\n  return !!document && document.hidden;\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber, tween.isPathTargetInsideSVG);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\n  instance._onDocumentVisibility = resetTime;\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    engine();\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.remove = function(targets) {\n    var targetsArray = parseTargets(targets);\n    removeTargetsFromInstance(targetsArray, instance);\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargetsFromInstance(targetsArray, instance) {\n  var animations = instance.animations;\n  var children = instance.children;\n  removeTargetsFromAnimations(targetsArray, animations);\n  for (var c = children.length; c--;) {\n    var child = children[c];\n    var childAnimations = child.animations;\n    removeTargetsFromAnimations(targetsArray, childAnimations);\n    if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n  }\n  if (!animations.length && !children.length) { instance.pause(); }\n}\n\nfunction removeTargetsFromActiveInstances(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    removeTargetsFromInstance(targetsArray, instance);\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.1';\nanime.speed = 1;\n// TODO:#review: naming, documentation\nanime.suspendWhenDocumentHidden = true;\nanime.running = activeInstances;\nanime.remove = removeTargetsFromActiveInstances;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (anime);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYW5pbWVqcy9saWIvYW5pbWUuZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsMEJBQTBCO0FBQ2hELHNCQUFzQixxRUFBcUU7QUFDM0Ysc0JBQXNCLHNEQUFzRDtBQUM1RSxzQkFBc0IsaUNBQWlDO0FBQ3ZELHNCQUFzQix1Q0FBdUM7QUFDN0Qsc0JBQXNCLGlDQUFpQztBQUN2RCxzQkFBc0IsK0JBQStCO0FBQ3JELHNCQUFzQixpQ0FBaUM7QUFDdkQsc0JBQXNCLGtDQUFrQztBQUN4RCxzQkFBc0IsaUNBQWlDO0FBQ3ZELHNCQUFzQixvQkFBb0IsRUFBRSxlQUFlLEVBQUUsZUFBZTtBQUM1RSxzQkFBc0Isd0JBQXdCO0FBQzlDLHNCQUFzQix3QkFBd0I7QUFDOUMsc0JBQXNCLCtDQUErQztBQUNyRSxzQkFBc0IsdUlBQXVJO0FBQzdKOztBQUVBOztBQUVBO0FBQ0E7QUFDQSx3REFBd0QsdUJBQXVCO0FBQy9FOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLFFBQVE7QUFD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QUk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixzQkFBc0I7QUFDdEIsb0JBQW9CO0FBQ3BCO0FBQ0EsMEJBQTBCLFdBQVc7QUFDckM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5Qiw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscUNBQXFDLDJDQUEyQztBQUNwRyxxQ0FBcUMscUNBQXFDLHVFQUF1RTtBQUNqSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QixnQ0FBZ0M7QUFDaEMsb0JBQW9CLHFCQUFxQixPQUFPO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDOztBQUVyQyxpRUFBZSxLQUFLLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vbm9kZV9tb2R1bGVzL2FuaW1lanMvbGliL2FuaW1lLmVzLmpzPzEyMDkiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIGFuaW1lLmpzIHYzLjIuMVxuICogKGMpIDIwMjAgSnVsaWFuIEdhcm5pZXJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogYW5pbWVqcy5jb21cbiAqL1xuXG4vLyBEZWZhdWx0c1xuXG52YXIgZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MgPSB7XG4gIHVwZGF0ZTogbnVsbCxcbiAgYmVnaW46IG51bGwsXG4gIGxvb3BCZWdpbjogbnVsbCxcbiAgY2hhbmdlQmVnaW46IG51bGwsXG4gIGNoYW5nZTogbnVsbCxcbiAgY2hhbmdlQ29tcGxldGU6IG51bGwsXG4gIGxvb3BDb21wbGV0ZTogbnVsbCxcbiAgY29tcGxldGU6IG51bGwsXG4gIGxvb3A6IDEsXG4gIGRpcmVjdGlvbjogJ25vcm1hbCcsXG4gIGF1dG9wbGF5OiB0cnVlLFxuICB0aW1lbGluZU9mZnNldDogMFxufTtcblxudmFyIGRlZmF1bHRUd2VlblNldHRpbmdzID0ge1xuICBkdXJhdGlvbjogMTAwMCxcbiAgZGVsYXk6IDAsXG4gIGVuZERlbGF5OiAwLFxuICBlYXNpbmc6ICdlYXNlT3V0RWxhc3RpYygxLCAuNSknLFxuICByb3VuZDogMFxufTtcblxudmFyIHZhbGlkVHJhbnNmb3JtcyA9IFsndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgJ3RyYW5zbGF0ZVonLCAncm90YXRlJywgJ3JvdGF0ZVgnLCAncm90YXRlWScsICdyb3RhdGVaJywgJ3NjYWxlJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnc2NhbGVaJywgJ3NrZXcnLCAnc2tld1gnLCAnc2tld1knLCAncGVyc3BlY3RpdmUnLCAnbWF0cml4JywgJ21hdHJpeDNkJ107XG5cbi8vIENhY2hpbmdcblxudmFyIGNhY2hlID0ge1xuICBDU1M6IHt9LFxuICBzcHJpbmdzOiB7fVxufTtcblxuLy8gVXRpbHNcblxuZnVuY3Rpb24gbWluTWF4KHZhbCwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbCwgbWluKSwgbWF4KTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nQ29udGFpbnMoc3RyLCB0ZXh0KSB7XG4gIHJldHVybiBzdHIuaW5kZXhPZih0ZXh0KSA+IC0xO1xufVxuXG5mdW5jdGlvbiBhcHBseUFyZ3VtZW50cyhmdW5jLCBhcmdzKSB7XG4gIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xufVxuXG52YXIgaXMgPSB7XG4gIGFycjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSk7IH0sXG4gIG9iajogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHN0cmluZ0NvbnRhaW5zKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKSwgJ09iamVjdCcpOyB9LFxuICBwdGg6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBpcy5vYmooYSkgJiYgYS5oYXNPd25Qcm9wZXJ0eSgndG90YWxMZW5ndGgnKTsgfSxcbiAgc3ZnOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7IH0sXG4gIGlucDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50OyB9LFxuICBkb206IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLm5vZGVUeXBlIHx8IGlzLnN2ZyhhKTsgfSxcbiAgc3RyOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICdzdHJpbmcnOyB9LFxuICBmbmM6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJzsgfSxcbiAgdW5kOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnOyB9LFxuICBuaWw6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBpcy51bmQoYSkgfHwgYSA9PT0gbnVsbDsgfSxcbiAgaGV4OiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gLyheI1swLTlBLUZdezZ9JCl8KF4jWzAtOUEtRl17M30kKS9pLnRlc3QoYSk7IH0sXG4gIHJnYjogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC9ecmdiLy50ZXN0KGEpOyB9LFxuICBoc2w6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvXmhzbC8udGVzdChhKTsgfSxcbiAgY29sOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gKGlzLmhleChhKSB8fCBpcy5yZ2IoYSkgfHwgaXMuaHNsKGEpKTsgfSxcbiAga2V5OiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gIWRlZmF1bHRJbnN0YW5jZVNldHRpbmdzLmhhc093blByb3BlcnR5KGEpICYmICFkZWZhdWx0VHdlZW5TZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShhKSAmJiBhICE9PSAndGFyZ2V0cycgJiYgYSAhPT0gJ2tleWZyYW1lcyc7IH0sXG59O1xuXG4vLyBFYXNpbmdzXG5cbmZ1bmN0aW9uIHBhcnNlRWFzaW5nUGFyYW1ldGVycyhzdHJpbmcpIHtcbiAgdmFyIG1hdGNoID0gL1xcKChbXildKylcXCkvLmV4ZWMoc3RyaW5nKTtcbiAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHBhcnNlRmxvYXQocCk7IH0pIDogW107XG59XG5cbi8vIFNwcmluZyBzb2x2ZXIgaW5zcGlyZWQgYnkgV2Via2l0IENvcHlyaWdodCDCqSAyMDE2IEFwcGxlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4gaHR0cHM6Ly93ZWJraXQub3JnL2RlbW9zL3NwcmluZy9zcHJpbmcuanNcblxuZnVuY3Rpb24gc3ByaW5nKHN0cmluZywgZHVyYXRpb24pIHtcblxuICB2YXIgcGFyYW1zID0gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKHN0cmluZyk7XG4gIHZhciBtYXNzID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMF0pID8gMSA6IHBhcmFtc1swXSwgLjEsIDEwMCk7XG4gIHZhciBzdGlmZm5lc3MgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1sxXSkgPyAxMDAgOiBwYXJhbXNbMV0sIC4xLCAxMDApO1xuICB2YXIgZGFtcGluZyA9IG1pbk1heChpcy51bmQocGFyYW1zWzJdKSA/IDEwIDogcGFyYW1zWzJdLCAuMSwgMTAwKTtcbiAgdmFyIHZlbG9jaXR5ID0gIG1pbk1heChpcy51bmQocGFyYW1zWzNdKSA/IDAgOiBwYXJhbXNbM10sIC4xLCAxMDApO1xuICB2YXIgdzAgPSBNYXRoLnNxcnQoc3RpZmZuZXNzIC8gbWFzcyk7XG4gIHZhciB6ZXRhID0gZGFtcGluZyAvICgyICogTWF0aC5zcXJ0KHN0aWZmbmVzcyAqIG1hc3MpKTtcbiAgdmFyIHdkID0gemV0YSA8IDEgPyB3MCAqIE1hdGguc3FydCgxIC0gemV0YSAqIHpldGEpIDogMDtcbiAgdmFyIGEgPSAxO1xuICB2YXIgYiA9IHpldGEgPCAxID8gKHpldGEgKiB3MCArIC12ZWxvY2l0eSkgLyB3ZCA6IC12ZWxvY2l0eSArIHcwO1xuXG4gIGZ1bmN0aW9uIHNvbHZlcih0KSB7XG4gICAgdmFyIHByb2dyZXNzID0gZHVyYXRpb24gPyAoZHVyYXRpb24gKiB0KSAvIDEwMDAgOiB0O1xuICAgIGlmICh6ZXRhIDwgMSkge1xuICAgICAgcHJvZ3Jlc3MgPSBNYXRoLmV4cCgtcHJvZ3Jlc3MgKiB6ZXRhICogdzApICogKGEgKiBNYXRoLmNvcyh3ZCAqIHByb2dyZXNzKSArIGIgKiBNYXRoLnNpbih3ZCAqIHByb2dyZXNzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2dyZXNzID0gKGEgKyBiICogcHJvZ3Jlc3MpICogTWF0aC5leHAoLXByb2dyZXNzICogdzApO1xuICAgIH1cbiAgICBpZiAodCA9PT0gMCB8fCB0ID09PSAxKSB7IHJldHVybiB0OyB9XG4gICAgcmV0dXJuIDEgLSBwcm9ncmVzcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldER1cmF0aW9uKCkge1xuICAgIHZhciBjYWNoZWQgPSBjYWNoZS5zcHJpbmdzW3N0cmluZ107XG4gICAgaWYgKGNhY2hlZCkgeyByZXR1cm4gY2FjaGVkOyB9XG4gICAgdmFyIGZyYW1lID0gMS82O1xuICAgIHZhciBlbGFwc2VkID0gMDtcbiAgICB2YXIgcmVzdCA9IDA7XG4gICAgd2hpbGUodHJ1ZSkge1xuICAgICAgZWxhcHNlZCArPSBmcmFtZTtcbiAgICAgIGlmIChzb2x2ZXIoZWxhcHNlZCkgPT09IDEpIHtcbiAgICAgICAgcmVzdCsrO1xuICAgICAgICBpZiAocmVzdCA+PSAxNikgeyBicmVhazsgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdCA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkdXJhdGlvbiA9IGVsYXBzZWQgKiBmcmFtZSAqIDEwMDA7XG4gICAgY2FjaGUuc3ByaW5nc1tzdHJpbmddID0gZHVyYXRpb247XG4gICAgcmV0dXJuIGR1cmF0aW9uO1xuICB9XG5cbiAgcmV0dXJuIGR1cmF0aW9uID8gc29sdmVyIDogZ2V0RHVyYXRpb247XG5cbn1cblxuLy8gQmFzaWMgc3RlcHMgZWFzaW5nIGltcGxlbWVudGF0aW9uIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2ZyL2RvY3MvV2ViL0NTUy90cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblxuXG5mdW5jdGlvbiBzdGVwcyhzdGVwcykge1xuICBpZiAoIHN0ZXBzID09PSB2b2lkIDAgKSBzdGVwcyA9IDEwO1xuXG4gIHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gTWF0aC5jZWlsKChtaW5NYXgodCwgMC4wMDAwMDEsIDEpKSAqIHN0ZXBzKSAqICgxIC8gc3RlcHMpOyB9O1xufVxuXG4vLyBCZXppZXJFYXNpbmcgaHR0cHM6Ly9naXRodWIuY29tL2dyZS9iZXppZXItZWFzaW5nXG5cbnZhciBiZXppZXIgPSAoZnVuY3Rpb24gKCkge1xuXG4gIHZhciBrU3BsaW5lVGFibGVTaXplID0gMTE7XG4gIHZhciBrU2FtcGxlU3RlcFNpemUgPSAxLjAgLyAoa1NwbGluZVRhYmxlU2l6ZSAtIDEuMCk7XG5cbiAgZnVuY3Rpb24gQShhQTEsIGFBMikgeyByZXR1cm4gMS4wIC0gMy4wICogYUEyICsgMy4wICogYUExIH1cbiAgZnVuY3Rpb24gQihhQTEsIGFBMikgeyByZXR1cm4gMy4wICogYUEyIC0gNi4wICogYUExIH1cbiAgZnVuY3Rpb24gQyhhQTEpICAgICAgeyByZXR1cm4gMy4wICogYUExIH1cblxuICBmdW5jdGlvbiBjYWxjQmV6aWVyKGFULCBhQTEsIGFBMikgeyByZXR1cm4gKChBKGFBMSwgYUEyKSAqIGFUICsgQihhQTEsIGFBMikpICogYVQgKyBDKGFBMSkpICogYVQgfVxuICBmdW5jdGlvbiBnZXRTbG9wZShhVCwgYUExLCBhQTIpIHsgcmV0dXJuIDMuMCAqIEEoYUExLCBhQTIpICogYVQgKiBhVCArIDIuMCAqIEIoYUExLCBhQTIpICogYVQgKyBDKGFBMSkgfVxuXG4gIGZ1bmN0aW9uIGJpbmFyeVN1YmRpdmlkZShhWCwgYUEsIGFCLCBtWDEsIG1YMikge1xuICAgIHZhciBjdXJyZW50WCwgY3VycmVudFQsIGkgPSAwO1xuICAgIGRvIHtcbiAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyLjA7XG4gICAgICBjdXJyZW50WCA9IGNhbGNCZXppZXIoY3VycmVudFQsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgaWYgKGN1cnJlbnRYID4gMC4wKSB7IGFCID0gY3VycmVudFQ7IH0gZWxzZSB7IGFBID0gY3VycmVudFQ7IH1cbiAgICB9IHdoaWxlIChNYXRoLmFicyhjdXJyZW50WCkgPiAwLjAwMDAwMDEgJiYgKytpIDwgMTApO1xuICAgIHJldHVybiBjdXJyZW50VDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBhR3Vlc3NULCBtWDEsIG1YMikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICB2YXIgY3VycmVudFNsb3BlID0gZ2V0U2xvcGUoYUd1ZXNzVCwgbVgxLCBtWDIpO1xuICAgICAgaWYgKGN1cnJlbnRTbG9wZSA9PT0gMC4wKSB7IHJldHVybiBhR3Vlc3NUOyB9XG4gICAgICB2YXIgY3VycmVudFggPSBjYWxjQmV6aWVyKGFHdWVzc1QsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgYUd1ZXNzVCAtPSBjdXJyZW50WCAvIGN1cnJlbnRTbG9wZTtcbiAgICB9XG4gICAgcmV0dXJuIGFHdWVzc1Q7XG4gIH1cblxuICBmdW5jdGlvbiBiZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG5cbiAgICBpZiAoISgwIDw9IG1YMSAmJiBtWDEgPD0gMSAmJiAwIDw9IG1YMiAmJiBtWDIgPD0gMSkpIHsgcmV0dXJuOyB9XG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSk7XG5cbiAgICBpZiAobVgxICE9PSBtWTEgfHwgbVgyICE9PSBtWTIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga1NwbGluZVRhYmxlU2l6ZTsgKytpKSB7XG4gICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGNhbGNCZXppZXIoaSAqIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRGb3JYKGFYKSB7XG5cbiAgICAgIHZhciBpbnRlcnZhbFN0YXJ0ID0gMDtcbiAgICAgIHZhciBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgIHZhciBsYXN0U2FtcGxlID0ga1NwbGluZVRhYmxlU2l6ZSAtIDE7XG5cbiAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICAgIGludGVydmFsU3RhcnQgKz0ga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgfVxuXG4gICAgICAtLWN1cnJlbnRTYW1wbGU7XG5cbiAgICAgIHZhciBkaXN0ID0gKGFYIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKSAvIChzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZSArIDFdIC0gc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKTtcbiAgICAgIHZhciBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIGtTYW1wbGVTdGVwU2l6ZTtcbiAgICAgIHZhciBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcblxuICAgICAgaWYgKGluaXRpYWxTbG9wZSA+PSAwLjAwMSkge1xuICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuICAgICAgfSBlbHNlIGlmIChpbml0aWFsU2xvcGUgPT09IDAuMCkge1xuICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh4KSB7XG4gICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHsgcmV0dXJuIHg7IH1cbiAgICAgIGlmICh4ID09PSAwIHx8IHggPT09IDEpIHsgcmV0dXJuIHg7IH1cbiAgICAgIHJldHVybiBjYWxjQmV6aWVyKGdldFRGb3JYKHgpLCBtWTEsIG1ZMik7XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gYmV6aWVyO1xuXG59KSgpO1xuXG52YXIgcGVubmVyID0gKGZ1bmN0aW9uICgpIHtcblxuICAvLyBCYXNlZCBvbiBqUXVlcnkgVUkncyBpbXBsZW1lbmF0aW9uIG9mIGVhc2luZyBlcXVhdGlvbnMgZnJvbSBSb2JlcnQgUGVubmVyIChodHRwOi8vd3d3LnJvYmVydHBlbm5lci5jb20vZWFzaW5nKVxuXG4gIHZhciBlYXNlcyA9IHsgbGluZWFyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdDsgfTsgfSB9O1xuXG4gIHZhciBmdW5jdGlvbkVhc2luZ3MgPSB7XG4gICAgU2luZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBNYXRoLmNvcyh0ICogTWF0aC5QSSAvIDIpOyB9OyB9LFxuICAgIENpcmM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gTWF0aC5zcXJ0KDEgLSB0ICogdCk7IH07IH0sXG4gICAgQmFjazogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgKiB0ICogKDMgKiB0IC0gMik7IH07IH0sXG4gICAgQm91bmNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgdmFyIHBvdzIsIGIgPSA0O1xuICAgICAgd2hpbGUgKHQgPCAoKCBwb3cyID0gTWF0aC5wb3coMiwgLS1iKSkgLSAxKSAvIDExKSB7fVxuICAgICAgcmV0dXJuIDEgLyBNYXRoLnBvdyg0LCAzIC0gYikgLSA3LjU2MjUgKiBNYXRoLnBvdygoIHBvdzIgKiAzIC0gMiApIC8gMjIgLSB0LCAyKVxuICAgIH07IH0sXG4gICAgRWxhc3RpYzogZnVuY3Rpb24gKGFtcGxpdHVkZSwgcGVyaW9kKSB7XG4gICAgICBpZiAoIGFtcGxpdHVkZSA9PT0gdm9pZCAwICkgYW1wbGl0dWRlID0gMTtcbiAgICAgIGlmICggcGVyaW9kID09PSB2b2lkIDAgKSBwZXJpb2QgPSAuNTtcblxuICAgICAgdmFyIGEgPSBtaW5NYXgoYW1wbGl0dWRlLCAxLCAxMCk7XG4gICAgICB2YXIgcCA9IG1pbk1heChwZXJpb2QsIC4xLCAyKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gKHQgPT09IDAgfHwgdCA9PT0gMSkgPyB0IDogXG4gICAgICAgICAgLWEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICogTWF0aC5zaW4oKCgodCAtIDEpIC0gKHAgLyAoTWF0aC5QSSAqIDIpICogTWF0aC5hc2luKDEgLyBhKSkpICogKE1hdGguUEkgKiAyKSkgLyBwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGJhc2VFYXNpbmdzID0gWydRdWFkJywgJ0N1YmljJywgJ1F1YXJ0JywgJ1F1aW50JywgJ0V4cG8nXTtcblxuICBiYXNlRWFzaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCBpKSB7XG4gICAgZnVuY3Rpb25FYXNpbmdzW25hbWVdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE1hdGgucG93KHQsIGkgKyAyKTsgfTsgfTtcbiAgfSk7XG5cbiAgT2JqZWN0LmtleXMoZnVuY3Rpb25FYXNpbmdzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGVhc2VJbiA9IGZ1bmN0aW9uRWFzaW5nc1tuYW1lXTtcbiAgICBlYXNlc1snZWFzZUluJyArIG5hbWVdID0gZWFzZUluO1xuICAgIGVhc2VzWydlYXNlT3V0JyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiAxIC0gZWFzZUluKGEsIGIpKDEgLSB0KTsgfTsgfTtcbiAgICBlYXNlc1snZWFzZUluT3V0JyArIG5hbWVdID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0IDwgMC41ID8gZWFzZUluKGEsIGIpKHQgKiAyKSAvIDIgOiBcbiAgICAgIDEgLSBlYXNlSW4oYSwgYikodCAqIC0yICsgMikgLyAyOyB9OyB9O1xuICAgIGVhc2VzWydlYXNlT3V0SW4nICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgPCAwLjUgPyAoMSAtIGVhc2VJbihhLCBiKSgxIC0gdCAqIDIpKSAvIDIgOiBcbiAgICAgIChlYXNlSW4oYSwgYikodCAqIDIgLSAxKSArIDEpIC8gMjsgfTsgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIGVhc2VzO1xuXG59KSgpO1xuXG5mdW5jdGlvbiBwYXJzZUVhc2luZ3MoZWFzaW5nLCBkdXJhdGlvbikge1xuICBpZiAoaXMuZm5jKGVhc2luZykpIHsgcmV0dXJuIGVhc2luZzsgfVxuICB2YXIgbmFtZSA9IGVhc2luZy5zcGxpdCgnKCcpWzBdO1xuICB2YXIgZWFzZSA9IHBlbm5lcltuYW1lXTtcbiAgdmFyIGFyZ3MgPSBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoZWFzaW5nKTtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSAnc3ByaW5nJyA6IHJldHVybiBzcHJpbmcoZWFzaW5nLCBkdXJhdGlvbik7XG4gICAgY2FzZSAnY3ViaWNCZXppZXInIDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKGJlemllciwgYXJncyk7XG4gICAgY2FzZSAnc3RlcHMnIDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKHN0ZXBzLCBhcmdzKTtcbiAgICBkZWZhdWx0IDogcmV0dXJuIGFwcGx5QXJndW1lbnRzKGVhc2UsIGFyZ3MpO1xuICB9XG59XG5cbi8vIFN0cmluZ3NcblxuZnVuY3Rpb24gc2VsZWN0U3RyaW5nKHN0cikge1xuICB0cnkge1xuICAgIHZhciBub2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc3RyKTtcbiAgICByZXR1cm4gbm9kZXM7XG4gIH0gY2F0Y2goZSkge1xuICAgIHJldHVybjtcbiAgfVxufVxuXG4vLyBBcnJheXNcblxuZnVuY3Rpb24gZmlsdGVyQXJyYXkoYXJyLCBjYWxsYmFjaykge1xuICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoID49IDIgPyBhcmd1bWVudHNbMV0gOiB2b2lkIDA7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChpIGluIGFycikge1xuICAgICAgdmFyIHZhbCA9IGFycltpXTtcbiAgICAgIGlmIChjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHZhbCwgaSwgYXJyKSkge1xuICAgICAgICByZXN1bHQucHVzaCh2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBmbGF0dGVuQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmNvbmNhdChpcy5hcnIoYikgPyBmbGF0dGVuQXJyYXkoYikgOiBiKTsgfSwgW10pO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5KG8pIHtcbiAgaWYgKGlzLmFycihvKSkgeyByZXR1cm4gbzsgfVxuICBpZiAoaXMuc3RyKG8pKSB7IG8gPSBzZWxlY3RTdHJpbmcobykgfHwgbzsgfVxuICBpZiAobyBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8IG8gaW5zdGFuY2VvZiBIVE1MQ29sbGVjdGlvbikgeyByZXR1cm4gW10uc2xpY2UuY2FsbChvKTsgfVxuICByZXR1cm4gW29dO1xufVxuXG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zKGFyciwgdmFsKSB7XG4gIHJldHVybiBhcnIuc29tZShmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSA9PT0gdmFsOyB9KTtcbn1cblxuLy8gT2JqZWN0c1xuXG5mdW5jdGlvbiBjbG9uZU9iamVjdChvKSB7XG4gIHZhciBjbG9uZSA9IHt9O1xuICBmb3IgKHZhciBwIGluIG8pIHsgY2xvbmVbcF0gPSBvW3BdOyB9XG4gIHJldHVybiBjbG9uZTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZU9iamVjdFByb3BzKG8xLCBvMikge1xuICB2YXIgbyA9IGNsb25lT2JqZWN0KG8xKTtcbiAgZm9yICh2YXIgcCBpbiBvMSkgeyBvW3BdID0gbzIuaGFzT3duUHJvcGVydHkocCkgPyBvMltwXSA6IG8xW3BdOyB9XG4gIHJldHVybiBvO1xufVxuXG5mdW5jdGlvbiBtZXJnZU9iamVjdHMobzEsIG8yKSB7XG4gIHZhciBvID0gY2xvbmVPYmplY3QobzEpO1xuICBmb3IgKHZhciBwIGluIG8yKSB7IG9bcF0gPSBpcy51bmQobzFbcF0pID8gbzJbcF0gOiBvMVtwXTsgfVxuICByZXR1cm4gbztcbn1cblxuLy8gQ29sb3JzXG5cbmZ1bmN0aW9uIHJnYlRvUmdiYShyZ2JWYWx1ZSkge1xuICB2YXIgcmdiID0gL3JnYlxcKChcXGQrLFxccypbXFxkXSssXFxzKltcXGRdKylcXCkvZy5leGVjKHJnYlZhbHVlKTtcbiAgcmV0dXJuIHJnYiA/IChcInJnYmEoXCIgKyAocmdiWzFdKSArIFwiLDEpXCIpIDogcmdiVmFsdWU7XG59XG5cbmZ1bmN0aW9uIGhleFRvUmdiYShoZXhWYWx1ZSkge1xuICB2YXIgcmd4ID0gL14jPyhbYS1mXFxkXSkoW2EtZlxcZF0pKFthLWZcXGRdKSQvaTtcbiAgdmFyIGhleCA9IGhleFZhbHVlLnJlcGxhY2Uocmd4LCBmdW5jdGlvbiAobSwgciwgZywgYikgeyByZXR1cm4gciArIHIgKyBnICsgZyArIGIgKyBiOyB9ICk7XG4gIHZhciByZ2IgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KTtcbiAgdmFyIHIgPSBwYXJzZUludChyZ2JbMV0sIDE2KTtcbiAgdmFyIGcgPSBwYXJzZUludChyZ2JbMl0sIDE2KTtcbiAgdmFyIGIgPSBwYXJzZUludChyZ2JbM10sIDE2KTtcbiAgcmV0dXJuIChcInJnYmEoXCIgKyByICsgXCIsXCIgKyBnICsgXCIsXCIgKyBiICsgXCIsMSlcIik7XG59XG5cbmZ1bmN0aW9uIGhzbFRvUmdiYShoc2xWYWx1ZSkge1xuICB2YXIgaHNsID0gL2hzbFxcKChcXGQrKSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspJVxcKS9nLmV4ZWMoaHNsVmFsdWUpIHx8IC9oc2xhXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKylcXCkvZy5leGVjKGhzbFZhbHVlKTtcbiAgdmFyIGggPSBwYXJzZUludChoc2xbMV0sIDEwKSAvIDM2MDtcbiAgdmFyIHMgPSBwYXJzZUludChoc2xbMl0sIDEwKSAvIDEwMDtcbiAgdmFyIGwgPSBwYXJzZUludChoc2xbM10sIDEwKSAvIDEwMDtcbiAgdmFyIGEgPSBoc2xbNF0gfHwgMTtcbiAgZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgaWYgKHQgPCAwKSB7IHQgKz0gMTsgfVxuICAgIGlmICh0ID4gMSkgeyB0IC09IDE7IH1cbiAgICBpZiAodCA8IDEvNikgeyByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDsgfVxuICAgIGlmICh0IDwgMS8yKSB7IHJldHVybiBxOyB9XG4gICAgaWYgKHQgPCAyLzMpIHsgcmV0dXJuIHAgKyAocSAtIHApICogKDIvMyAtIHQpICogNjsgfVxuICAgIHJldHVybiBwO1xuICB9XG4gIHZhciByLCBnLCBiO1xuICBpZiAocyA9PSAwKSB7XG4gICAgciA9IGcgPSBiID0gbDtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgdmFyIHAgPSAyICogbCAtIHE7XG4gICAgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEvMyk7XG4gICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEvMyk7XG4gIH1cbiAgcmV0dXJuIChcInJnYmEoXCIgKyAociAqIDI1NSkgKyBcIixcIiArIChnICogMjU1KSArIFwiLFwiICsgKGIgKiAyNTUpICsgXCIsXCIgKyBhICsgXCIpXCIpO1xufVxuXG5mdW5jdGlvbiBjb2xvclRvUmdiKHZhbCkge1xuICBpZiAoaXMucmdiKHZhbCkpIHsgcmV0dXJuIHJnYlRvUmdiYSh2YWwpOyB9XG4gIGlmIChpcy5oZXgodmFsKSkgeyByZXR1cm4gaGV4VG9SZ2JhKHZhbCk7IH1cbiAgaWYgKGlzLmhzbCh2YWwpKSB7IHJldHVybiBoc2xUb1JnYmEodmFsKTsgfVxufVxuXG4vLyBVbml0c1xuXG5mdW5jdGlvbiBnZXRVbml0KHZhbCkge1xuICB2YXIgc3BsaXQgPSAvWystXT9cXGQqXFwuP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8oJXxweHxwdHxlbXxyZW18aW58Y218bW18ZXh8Y2h8cGN8dnd8dmh8dm1pbnx2bWF4fGRlZ3xyYWR8dHVybik/JC8uZXhlYyh2YWwpO1xuICBpZiAoc3BsaXQpIHsgcmV0dXJuIHNwbGl0WzFdOyB9XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVVuaXQocHJvcE5hbWUpIHtcbiAgaWYgKHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAndHJhbnNsYXRlJykgfHwgcHJvcE5hbWUgPT09ICdwZXJzcGVjdGl2ZScpIHsgcmV0dXJuICdweCc7IH1cbiAgaWYgKHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAncm90YXRlJykgfHwgc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdza2V3JykpIHsgcmV0dXJuICdkZWcnOyB9XG59XG5cbi8vIFZhbHVlc1xuXG5mdW5jdGlvbiBnZXRGdW5jdGlvblZhbHVlKHZhbCwgYW5pbWF0YWJsZSkge1xuICBpZiAoIWlzLmZuYyh2YWwpKSB7IHJldHVybiB2YWw7IH1cbiAgcmV0dXJuIHZhbChhbmltYXRhYmxlLnRhcmdldCwgYW5pbWF0YWJsZS5pZCwgYW5pbWF0YWJsZS50b3RhbCk7XG59XG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZShlbCwgcHJvcCkge1xuICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKHByb3ApO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0UHhUb1VuaXQoZWwsIHZhbHVlLCB1bml0KSB7XG4gIHZhciB2YWx1ZVVuaXQgPSBnZXRVbml0KHZhbHVlKTtcbiAgaWYgKGFycmF5Q29udGFpbnMoW3VuaXQsICdkZWcnLCAncmFkJywgJ3R1cm4nXSwgdmFsdWVVbml0KSkgeyByZXR1cm4gdmFsdWU7IH1cbiAgdmFyIGNhY2hlZCA9IGNhY2hlLkNTU1t2YWx1ZSArIHVuaXRdO1xuICBpZiAoIWlzLnVuZChjYWNoZWQpKSB7IHJldHVybiBjYWNoZWQ7IH1cbiAgdmFyIGJhc2VsaW5lID0gMTAwO1xuICB2YXIgdGVtcEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbC50YWdOYW1lKTtcbiAgdmFyIHBhcmVudEVsID0gKGVsLnBhcmVudE5vZGUgJiYgKGVsLnBhcmVudE5vZGUgIT09IGRvY3VtZW50KSkgPyBlbC5wYXJlbnROb2RlIDogZG9jdW1lbnQuYm9keTtcbiAgcGFyZW50RWwuYXBwZW5kQ2hpbGQodGVtcEVsKTtcbiAgdGVtcEVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgdGVtcEVsLnN0eWxlLndpZHRoID0gYmFzZWxpbmUgKyB1bml0O1xuICB2YXIgZmFjdG9yID0gYmFzZWxpbmUgLyB0ZW1wRWwub2Zmc2V0V2lkdGg7XG4gIHBhcmVudEVsLnJlbW92ZUNoaWxkKHRlbXBFbCk7XG4gIHZhciBjb252ZXJ0ZWRVbml0ID0gZmFjdG9yICogcGFyc2VGbG9hdCh2YWx1ZSk7XG4gIGNhY2hlLkNTU1t2YWx1ZSArIHVuaXRdID0gY29udmVydGVkVW5pdDtcbiAgcmV0dXJuIGNvbnZlcnRlZFVuaXQ7XG59XG5cbmZ1bmN0aW9uIGdldENTU1ZhbHVlKGVsLCBwcm9wLCB1bml0KSB7XG4gIGlmIChwcm9wIGluIGVsLnN0eWxlKSB7XG4gICAgdmFyIHVwcGVyY2FzZVByb3BOYW1lID0gcHJvcC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciB2YWx1ZSA9IGVsLnN0eWxlW3Byb3BdIHx8IGdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUodXBwZXJjYXNlUHJvcE5hbWUpIHx8ICcwJztcbiAgICByZXR1cm4gdW5pdCA/IGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIDogdmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0aW9uVHlwZShlbCwgcHJvcCkge1xuICBpZiAoaXMuZG9tKGVsKSAmJiAhaXMuaW5wKGVsKSAmJiAoIWlzLm5pbChnZXRBdHRyaWJ1dGUoZWwsIHByb3ApKSB8fCAoaXMuc3ZnKGVsKSAmJiBlbFtwcm9wXSkpKSB7IHJldHVybiAnYXR0cmlidXRlJzsgfVxuICBpZiAoaXMuZG9tKGVsKSAmJiBhcnJheUNvbnRhaW5zKHZhbGlkVHJhbnNmb3JtcywgcHJvcCkpIHsgcmV0dXJuICd0cmFuc2Zvcm0nOyB9XG4gIGlmIChpcy5kb20oZWwpICYmIChwcm9wICE9PSAndHJhbnNmb3JtJyAmJiBnZXRDU1NWYWx1ZShlbCwgcHJvcCkpKSB7IHJldHVybiAnY3NzJzsgfVxuICBpZiAoZWxbcHJvcF0gIT0gbnVsbCkgeyByZXR1cm4gJ29iamVjdCc7IH1cbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudFRyYW5zZm9ybXMoZWwpIHtcbiAgaWYgKCFpcy5kb20oZWwpKSB7IHJldHVybjsgfVxuICB2YXIgc3RyID0gZWwuc3R5bGUudHJhbnNmb3JtIHx8ICcnO1xuICB2YXIgcmVnICA9IC8oXFx3KylcXCgoW14pXSopXFwpL2c7XG4gIHZhciB0cmFuc2Zvcm1zID0gbmV3IE1hcCgpO1xuICB2YXIgbTsgd2hpbGUgKG0gPSByZWcuZXhlYyhzdHIpKSB7IHRyYW5zZm9ybXMuc2V0KG1bMV0sIG1bMl0pOyB9XG4gIHJldHVybiB0cmFuc2Zvcm1zO1xufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1WYWx1ZShlbCwgcHJvcE5hbWUsIGFuaW1hdGFibGUsIHVuaXQpIHtcbiAgdmFyIGRlZmF1bHRWYWwgPSBzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3NjYWxlJykgPyAxIDogMCArIGdldFRyYW5zZm9ybVVuaXQocHJvcE5hbWUpO1xuICB2YXIgdmFsdWUgPSBnZXRFbGVtZW50VHJhbnNmb3JtcyhlbCkuZ2V0KHByb3BOYW1lKSB8fCBkZWZhdWx0VmFsO1xuICBpZiAoYW5pbWF0YWJsZSkge1xuICAgIGFuaW1hdGFibGUudHJhbnNmb3Jtcy5saXN0LnNldChwcm9wTmFtZSwgdmFsdWUpO1xuICAgIGFuaW1hdGFibGUudHJhbnNmb3Jtc1snbGFzdCddID0gcHJvcE5hbWU7XG4gIH1cbiAgcmV0dXJuIHVuaXQgPyBjb252ZXJ0UHhUb1VuaXQoZWwsIHZhbHVlLCB1bml0KSA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBnZXRPcmlnaW5hbFRhcmdldFZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHVuaXQsIGFuaW1hdGFibGUpIHtcbiAgc3dpdGNoIChnZXRBbmltYXRpb25UeXBlKHRhcmdldCwgcHJvcE5hbWUpKSB7XG4gICAgY2FzZSAndHJhbnNmb3JtJzogcmV0dXJuIGdldFRyYW5zZm9ybVZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIGFuaW1hdGFibGUsIHVuaXQpO1xuICAgIGNhc2UgJ2Nzcyc6IHJldHVybiBnZXRDU1NWYWx1ZSh0YXJnZXQsIHByb3BOYW1lLCB1bml0KTtcbiAgICBjYXNlICdhdHRyaWJ1dGUnOiByZXR1cm4gZ2V0QXR0cmlidXRlKHRhcmdldCwgcHJvcE5hbWUpO1xuICAgIGRlZmF1bHQ6IHJldHVybiB0YXJnZXRbcHJvcE5hbWVdIHx8IDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UmVsYXRpdmVWYWx1ZSh0bywgZnJvbSkge1xuICB2YXIgb3BlcmF0b3IgPSAvXihcXCo9fFxcKz18LT0pLy5leGVjKHRvKTtcbiAgaWYgKCFvcGVyYXRvcikgeyByZXR1cm4gdG87IH1cbiAgdmFyIHUgPSBnZXRVbml0KHRvKSB8fCAwO1xuICB2YXIgeCA9IHBhcnNlRmxvYXQoZnJvbSk7XG4gIHZhciB5ID0gcGFyc2VGbG9hdCh0by5yZXBsYWNlKG9wZXJhdG9yWzBdLCAnJykpO1xuICBzd2l0Y2ggKG9wZXJhdG9yWzBdWzBdKSB7XG4gICAgY2FzZSAnKyc6IHJldHVybiB4ICsgeSArIHU7XG4gICAgY2FzZSAnLSc6IHJldHVybiB4IC0geSArIHU7XG4gICAgY2FzZSAnKic6IHJldHVybiB4ICogeSArIHU7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVWYWx1ZSh2YWwsIHVuaXQpIHtcbiAgaWYgKGlzLmNvbCh2YWwpKSB7IHJldHVybiBjb2xvclRvUmdiKHZhbCk7IH1cbiAgaWYgKC9cXHMvZy50ZXN0KHZhbCkpIHsgcmV0dXJuIHZhbDsgfVxuICB2YXIgb3JpZ2luYWxVbml0ID0gZ2V0VW5pdCh2YWwpO1xuICB2YXIgdW5pdExlc3MgPSBvcmlnaW5hbFVuaXQgPyB2YWwuc3Vic3RyKDAsIHZhbC5sZW5ndGggLSBvcmlnaW5hbFVuaXQubGVuZ3RoKSA6IHZhbDtcbiAgaWYgKHVuaXQpIHsgcmV0dXJuIHVuaXRMZXNzICsgdW5pdDsgfVxuICByZXR1cm4gdW5pdExlc3M7XG59XG5cbi8vIGdldFRvdGFsTGVuZ3RoKCkgZXF1aXZhbGVudCBmb3IgY2lyY2xlLCByZWN0LCBwb2x5bGluZSwgcG9seWdvbiBhbmQgbGluZSBzaGFwZXNcbi8vIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9TZWJMYW1ibGEvM2UwNTUwYzQ5NmMyMzY3MDk3NDRcblxuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2lyY2xlTGVuZ3RoKGVsKSB7XG4gIHJldHVybiBNYXRoLlBJICogMiAqIGdldEF0dHJpYnV0ZShlbCwgJ3InKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVjdExlbmd0aChlbCkge1xuICByZXR1cm4gKGdldEF0dHJpYnV0ZShlbCwgJ3dpZHRoJykgKiAyKSArIChnZXRBdHRyaWJ1dGUoZWwsICdoZWlnaHQnKSAqIDIpO1xufVxuXG5mdW5jdGlvbiBnZXRMaW5lTGVuZ3RoKGVsKSB7XG4gIHJldHVybiBnZXREaXN0YW5jZShcbiAgICB7eDogZ2V0QXR0cmlidXRlKGVsLCAneDEnKSwgeTogZ2V0QXR0cmlidXRlKGVsLCAneTEnKX0sIFxuICAgIHt4OiBnZXRBdHRyaWJ1dGUoZWwsICd4MicpLCB5OiBnZXRBdHRyaWJ1dGUoZWwsICd5MicpfVxuICApO1xufVxuXG5mdW5jdGlvbiBnZXRQb2x5bGluZUxlbmd0aChlbCkge1xuICB2YXIgcG9pbnRzID0gZWwucG9pbnRzO1xuICB2YXIgdG90YWxMZW5ndGggPSAwO1xuICB2YXIgcHJldmlvdXNQb3M7XG4gIGZvciAodmFyIGkgPSAwIDsgaSA8IHBvaW50cy5udW1iZXJPZkl0ZW1zOyBpKyspIHtcbiAgICB2YXIgY3VycmVudFBvcyA9IHBvaW50cy5nZXRJdGVtKGkpO1xuICAgIGlmIChpID4gMCkgeyB0b3RhbExlbmd0aCArPSBnZXREaXN0YW5jZShwcmV2aW91c1BvcywgY3VycmVudFBvcyk7IH1cbiAgICBwcmV2aW91c1BvcyA9IGN1cnJlbnRQb3M7XG4gIH1cbiAgcmV0dXJuIHRvdGFsTGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBnZXRQb2x5Z29uTGVuZ3RoKGVsKSB7XG4gIHZhciBwb2ludHMgPSBlbC5wb2ludHM7XG4gIHJldHVybiBnZXRQb2x5bGluZUxlbmd0aChlbCkgKyBnZXREaXN0YW5jZShwb2ludHMuZ2V0SXRlbShwb2ludHMubnVtYmVyT2ZJdGVtcyAtIDEpLCBwb2ludHMuZ2V0SXRlbSgwKSk7XG59XG5cbi8vIFBhdGggYW5pbWF0aW9uXG5cbmZ1bmN0aW9uIGdldFRvdGFsTGVuZ3RoKGVsKSB7XG4gIGlmIChlbC5nZXRUb3RhbExlbmd0aCkgeyByZXR1cm4gZWwuZ2V0VG90YWxMZW5ndGgoKTsgfVxuICBzd2l0Y2goZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnY2lyY2xlJzogcmV0dXJuIGdldENpcmNsZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncmVjdCc6IHJldHVybiBnZXRSZWN0TGVuZ3RoKGVsKTtcbiAgICBjYXNlICdsaW5lJzogcmV0dXJuIGdldExpbmVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3BvbHlsaW5lJzogcmV0dXJuIGdldFBvbHlsaW5lTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdwb2x5Z29uJzogcmV0dXJuIGdldFBvbHlnb25MZW5ndGgoZWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldERhc2hvZmZzZXQoZWwpIHtcbiAgdmFyIHBhdGhMZW5ndGggPSBnZXRUb3RhbExlbmd0aChlbCk7XG4gIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hhcnJheScsIHBhdGhMZW5ndGgpO1xuICByZXR1cm4gcGF0aExlbmd0aDtcbn1cblxuLy8gTW90aW9uIHBhdGhcblxuZnVuY3Rpb24gZ2V0UGFyZW50U3ZnRWwoZWwpIHtcbiAgdmFyIHBhcmVudEVsID0gZWwucGFyZW50Tm9kZTtcbiAgd2hpbGUgKGlzLnN2ZyhwYXJlbnRFbCkpIHtcbiAgICBpZiAoIWlzLnN2ZyhwYXJlbnRFbC5wYXJlbnROb2RlKSkgeyBicmVhazsgfVxuICAgIHBhcmVudEVsID0gcGFyZW50RWwucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gcGFyZW50RWw7XG59XG5cbmZ1bmN0aW9uIGdldFBhcmVudFN2ZyhwYXRoRWwsIHN2Z0RhdGEpIHtcbiAgdmFyIHN2ZyA9IHN2Z0RhdGEgfHwge307XG4gIHZhciBwYXJlbnRTdmdFbCA9IHN2Zy5lbCB8fCBnZXRQYXJlbnRTdmdFbChwYXRoRWwpO1xuICB2YXIgcmVjdCA9IHBhcmVudFN2Z0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgdmlld0JveEF0dHIgPSBnZXRBdHRyaWJ1dGUocGFyZW50U3ZnRWwsICd2aWV3Qm94Jyk7XG4gIHZhciB3aWR0aCA9IHJlY3Qud2lkdGg7XG4gIHZhciBoZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgdmFyIHZpZXdCb3ggPSBzdmcudmlld0JveCB8fCAodmlld0JveEF0dHIgPyB2aWV3Qm94QXR0ci5zcGxpdCgnICcpIDogWzAsIDAsIHdpZHRoLCBoZWlnaHRdKTtcbiAgcmV0dXJuIHtcbiAgICBlbDogcGFyZW50U3ZnRWwsXG4gICAgdmlld0JveDogdmlld0JveCxcbiAgICB4OiB2aWV3Qm94WzBdIC8gMSxcbiAgICB5OiB2aWV3Qm94WzFdIC8gMSxcbiAgICB3OiB3aWR0aCxcbiAgICBoOiBoZWlnaHQsXG4gICAgdlc6IHZpZXdCb3hbMl0sXG4gICAgdkg6IHZpZXdCb3hbM11cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYXRoKHBhdGgsIHBlcmNlbnQpIHtcbiAgdmFyIHBhdGhFbCA9IGlzLnN0cihwYXRoKSA/IHNlbGVjdFN0cmluZyhwYXRoKVswXSA6IHBhdGg7XG4gIHZhciBwID0gcGVyY2VudCB8fCAxMDA7XG4gIHJldHVybiBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wZXJ0eTogcHJvcGVydHksXG4gICAgICBlbDogcGF0aEVsLFxuICAgICAgc3ZnOiBnZXRQYXJlbnRTdmcocGF0aEVsKSxcbiAgICAgIHRvdGFsTGVuZ3RoOiBnZXRUb3RhbExlbmd0aChwYXRoRWwpICogKHAgLyAxMDApXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdGhQcm9ncmVzcyhwYXRoLCBwcm9ncmVzcywgaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHKSB7XG4gIGZ1bmN0aW9uIHBvaW50KG9mZnNldCkge1xuICAgIGlmICggb2Zmc2V0ID09PSB2b2lkIDAgKSBvZmZzZXQgPSAwO1xuXG4gICAgdmFyIGwgPSBwcm9ncmVzcyArIG9mZnNldCA+PSAxID8gcHJvZ3Jlc3MgKyBvZmZzZXQgOiAwO1xuICAgIHJldHVybiBwYXRoLmVsLmdldFBvaW50QXRMZW5ndGgobCk7XG4gIH1cbiAgdmFyIHN2ZyA9IGdldFBhcmVudFN2ZyhwYXRoLmVsLCBwYXRoLnN2Zyk7XG4gIHZhciBwID0gcG9pbnQoKTtcbiAgdmFyIHAwID0gcG9pbnQoLTEpO1xuICB2YXIgcDEgPSBwb2ludCgrMSk7XG4gIHZhciBzY2FsZVggPSBpc1BhdGhUYXJnZXRJbnNpZGVTVkcgPyAxIDogc3ZnLncgLyBzdmcudlc7XG4gIHZhciBzY2FsZVkgPSBpc1BhdGhUYXJnZXRJbnNpZGVTVkcgPyAxIDogc3ZnLmggLyBzdmcudkg7XG4gIHN3aXRjaCAocGF0aC5wcm9wZXJ0eSkge1xuICAgIGNhc2UgJ3gnOiByZXR1cm4gKHAueCAtIHN2Zy54KSAqIHNjYWxlWDtcbiAgICBjYXNlICd5JzogcmV0dXJuIChwLnkgLSBzdmcueSkgKiBzY2FsZVk7XG4gICAgY2FzZSAnYW5nbGUnOiByZXR1cm4gTWF0aC5hdGFuMihwMS55IC0gcDAueSwgcDEueCAtIHAwLngpICogMTgwIC8gTWF0aC5QSTtcbiAgfVxufVxuXG4vLyBEZWNvbXBvc2UgdmFsdWVcblxuZnVuY3Rpb24gZGVjb21wb3NlVmFsdWUodmFsLCB1bml0KSB7XG4gIC8vIGNvbnN0IHJneCA9IC8tP1xcZCpcXC4/XFxkKy9nOyAvLyBoYW5kbGVzIGJhc2ljIG51bWJlcnNcbiAgLy8gY29uc3Qgcmd4ID0gL1srLV0/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPy9nOyAvLyBoYW5kbGVzIGV4cG9uZW50cyBub3RhdGlvblxuICB2YXIgcmd4ID0gL1srLV0/XFxkKlxcLj9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/L2c7IC8vIGhhbmRsZXMgZXhwb25lbnRzIG5vdGF0aW9uXG4gIHZhciB2YWx1ZSA9IHZhbGlkYXRlVmFsdWUoKGlzLnB0aCh2YWwpID8gdmFsLnRvdGFsTGVuZ3RoIDogdmFsKSwgdW5pdCkgKyAnJztcbiAgcmV0dXJuIHtcbiAgICBvcmlnaW5hbDogdmFsdWUsXG4gICAgbnVtYmVyczogdmFsdWUubWF0Y2gocmd4KSA/IHZhbHVlLm1hdGNoKHJneCkubWFwKE51bWJlcikgOiBbMF0sXG4gICAgc3RyaW5nczogKGlzLnN0cih2YWwpIHx8IHVuaXQpID8gdmFsdWUuc3BsaXQocmd4KSA6IFtdXG4gIH1cbn1cblxuLy8gQW5pbWF0YWJsZXNcblxuZnVuY3Rpb24gcGFyc2VUYXJnZXRzKHRhcmdldHMpIHtcbiAgdmFyIHRhcmdldHNBcnJheSA9IHRhcmdldHMgPyAoZmxhdHRlbkFycmF5KGlzLmFycih0YXJnZXRzKSA/IHRhcmdldHMubWFwKHRvQXJyYXkpIDogdG9BcnJheSh0YXJnZXRzKSkpIDogW107XG4gIHJldHVybiBmaWx0ZXJBcnJheSh0YXJnZXRzQXJyYXksIGZ1bmN0aW9uIChpdGVtLCBwb3MsIHNlbGYpIHsgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PT0gcG9zOyB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0YWJsZXModGFyZ2V0cykge1xuICB2YXIgcGFyc2VkID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICByZXR1cm4gcGFyc2VkLm1hcChmdW5jdGlvbiAodCwgaSkge1xuICAgIHJldHVybiB7dGFyZ2V0OiB0LCBpZDogaSwgdG90YWw6IHBhcnNlZC5sZW5ndGgsIHRyYW5zZm9ybXM6IHsgbGlzdDogZ2V0RWxlbWVudFRyYW5zZm9ybXModCkgfSB9O1xuICB9KTtcbn1cblxuLy8gUHJvcGVydGllc1xuXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyhwcm9wLCB0d2VlblNldHRpbmdzKSB7XG4gIHZhciBzZXR0aW5ncyA9IGNsb25lT2JqZWN0KHR3ZWVuU2V0dGluZ3MpO1xuICAvLyBPdmVycmlkZSBkdXJhdGlvbiBpZiBlYXNpbmcgaXMgYSBzcHJpbmdcbiAgaWYgKC9ec3ByaW5nLy50ZXN0KHNldHRpbmdzLmVhc2luZykpIHsgc2V0dGluZ3MuZHVyYXRpb24gPSBzcHJpbmcoc2V0dGluZ3MuZWFzaW5nKTsgfVxuICBpZiAoaXMuYXJyKHByb3ApKSB7XG4gICAgdmFyIGwgPSBwcm9wLmxlbmd0aDtcbiAgICB2YXIgaXNGcm9tVG8gPSAobCA9PT0gMiAmJiAhaXMub2JqKHByb3BbMF0pKTtcbiAgICBpZiAoIWlzRnJvbVRvKSB7XG4gICAgICAvLyBEdXJhdGlvbiBkaXZpZGVkIGJ5IHRoZSBudW1iZXIgb2YgdHdlZW5zXG4gICAgICBpZiAoIWlzLmZuYyh0d2VlblNldHRpbmdzLmR1cmF0aW9uKSkgeyBzZXR0aW5ncy5kdXJhdGlvbiA9IHR3ZWVuU2V0dGluZ3MuZHVyYXRpb24gLyBsOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRyYW5zZm9ybSBbZnJvbSwgdG9dIHZhbHVlcyBzaG9ydGhhbmQgdG8gYSB2YWxpZCB0d2VlbiB2YWx1ZVxuICAgICAgcHJvcCA9IHt2YWx1ZTogcHJvcH07XG4gICAgfVxuICB9XG4gIHZhciBwcm9wQXJyYXkgPSBpcy5hcnIocHJvcCkgPyBwcm9wIDogW3Byb3BdO1xuICByZXR1cm4gcHJvcEFycmF5Lm1hcChmdW5jdGlvbiAodiwgaSkge1xuICAgIHZhciBvYmogPSAoaXMub2JqKHYpICYmICFpcy5wdGgodikpID8gdiA6IHt2YWx1ZTogdn07XG4gICAgLy8gRGVmYXVsdCBkZWxheSB2YWx1ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBmaXJzdCB0d2VlblxuICAgIGlmIChpcy51bmQob2JqLmRlbGF5KSkgeyBvYmouZGVsYXkgPSAhaSA/IHR3ZWVuU2V0dGluZ3MuZGVsYXkgOiAwOyB9XG4gICAgLy8gRGVmYXVsdCBlbmREZWxheSB2YWx1ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBsYXN0IHR3ZWVuXG4gICAgaWYgKGlzLnVuZChvYmouZW5kRGVsYXkpKSB7IG9iai5lbmREZWxheSA9IGkgPT09IHByb3BBcnJheS5sZW5ndGggLSAxID8gdHdlZW5TZXR0aW5ncy5lbmREZWxheSA6IDA7IH1cbiAgICByZXR1cm4gb2JqO1xuICB9KS5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIG1lcmdlT2JqZWN0cyhrLCBzZXR0aW5ncyk7IH0pO1xufVxuXG5cbmZ1bmN0aW9uIGZsYXR0ZW5LZXlmcmFtZXMoa2V5ZnJhbWVzKSB7XG4gIHZhciBwcm9wZXJ0eU5hbWVzID0gZmlsdGVyQXJyYXkoZmxhdHRlbkFycmF5KGtleWZyYW1lcy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gT2JqZWN0LmtleXMoa2V5KTsgfSkpLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gaXMua2V5KHApOyB9KVxuICAucmVkdWNlKGZ1bmN0aW9uIChhLGIpIHsgaWYgKGEuaW5kZXhPZihiKSA8IDApIHsgYS5wdXNoKGIpOyB9IHJldHVybiBhOyB9LCBbXSk7XG4gIHZhciBwcm9wZXJ0aWVzID0ge307XG4gIHZhciBsb29wID0gZnVuY3Rpb24gKCBpICkge1xuICAgIHZhciBwcm9wTmFtZSA9IHByb3BlcnR5TmFtZXNbaV07XG4gICAgcHJvcGVydGllc1twcm9wTmFtZV0gPSBrZXlmcmFtZXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBuZXdLZXkgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4ga2V5KSB7XG4gICAgICAgIGlmIChpcy5rZXkocCkpIHtcbiAgICAgICAgICBpZiAocCA9PSBwcm9wTmFtZSkgeyBuZXdLZXkudmFsdWUgPSBrZXlbcF07IH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdLZXlbcF0gPSBrZXlbcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdLZXk7XG4gICAgfSk7XG4gIH07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSBsb29wKCBpICk7XG4gIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0aWVzKHR3ZWVuU2V0dGluZ3MsIHBhcmFtcykge1xuICB2YXIgcHJvcGVydGllcyA9IFtdO1xuICB2YXIga2V5ZnJhbWVzID0gcGFyYW1zLmtleWZyYW1lcztcbiAgaWYgKGtleWZyYW1lcykgeyBwYXJhbXMgPSBtZXJnZU9iamVjdHMoZmxhdHRlbktleWZyYW1lcyhrZXlmcmFtZXMpLCBwYXJhbXMpOyB9XG4gIGZvciAodmFyIHAgaW4gcGFyYW1zKSB7XG4gICAgaWYgKGlzLmtleShwKSkge1xuICAgICAgcHJvcGVydGllcy5wdXNoKHtcbiAgICAgICAgbmFtZTogcCxcbiAgICAgICAgdHdlZW5zOiBub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyhwYXJhbXNbcF0sIHR3ZWVuU2V0dGluZ3MpXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbi8vIFR3ZWVuc1xuXG5mdW5jdGlvbiBub3JtYWxpemVUd2VlblZhbHVlcyh0d2VlbiwgYW5pbWF0YWJsZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHR3ZWVuKSB7XG4gICAgdmFyIHZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZSh0d2VlbltwXSwgYW5pbWF0YWJsZSk7XG4gICAgaWYgKGlzLmFycih2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBnZXRGdW5jdGlvblZhbHVlKHYsIGFuaW1hdGFibGUpOyB9KTtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsgdmFsdWUgPSB2YWx1ZVswXTsgfVxuICAgIH1cbiAgICB0W3BdID0gdmFsdWU7XG4gIH1cbiAgdC5kdXJhdGlvbiA9IHBhcnNlRmxvYXQodC5kdXJhdGlvbik7XG4gIHQuZGVsYXkgPSBwYXJzZUZsb2F0KHQuZGVsYXkpO1xuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVHdlZW5zKHByb3AsIGFuaW1hdGFibGUpIHtcbiAgdmFyIHByZXZpb3VzVHdlZW47XG4gIHJldHVybiBwcm9wLnR3ZWVucy5tYXAoZnVuY3Rpb24gKHQpIHtcbiAgICB2YXIgdHdlZW4gPSBub3JtYWxpemVUd2VlblZhbHVlcyh0LCBhbmltYXRhYmxlKTtcbiAgICB2YXIgdHdlZW5WYWx1ZSA9IHR3ZWVuLnZhbHVlO1xuICAgIHZhciB0byA9IGlzLmFycih0d2VlblZhbHVlKSA/IHR3ZWVuVmFsdWVbMV0gOiB0d2VlblZhbHVlO1xuICAgIHZhciB0b1VuaXQgPSBnZXRVbml0KHRvKTtcbiAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUoYW5pbWF0YWJsZS50YXJnZXQsIHByb3AubmFtZSwgdG9Vbml0LCBhbmltYXRhYmxlKTtcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzVHdlZW4gPyBwcmV2aW91c1R3ZWVuLnRvLm9yaWdpbmFsIDogb3JpZ2luYWxWYWx1ZTtcbiAgICB2YXIgZnJvbSA9IGlzLmFycih0d2VlblZhbHVlKSA/IHR3ZWVuVmFsdWVbMF0gOiBwcmV2aW91c1ZhbHVlO1xuICAgIHZhciBmcm9tVW5pdCA9IGdldFVuaXQoZnJvbSkgfHwgZ2V0VW5pdChvcmlnaW5hbFZhbHVlKTtcbiAgICB2YXIgdW5pdCA9IHRvVW5pdCB8fCBmcm9tVW5pdDtcbiAgICBpZiAoaXMudW5kKHRvKSkgeyB0byA9IHByZXZpb3VzVmFsdWU7IH1cbiAgICB0d2Vlbi5mcm9tID0gZGVjb21wb3NlVmFsdWUoZnJvbSwgdW5pdCk7XG4gICAgdHdlZW4udG8gPSBkZWNvbXBvc2VWYWx1ZShnZXRSZWxhdGl2ZVZhbHVlKHRvLCBmcm9tKSwgdW5pdCk7XG4gICAgdHdlZW4uc3RhcnQgPSBwcmV2aW91c1R3ZWVuID8gcHJldmlvdXNUd2Vlbi5lbmQgOiAwO1xuICAgIHR3ZWVuLmVuZCA9IHR3ZWVuLnN0YXJ0ICsgdHdlZW4uZGVsYXkgKyB0d2Vlbi5kdXJhdGlvbiArIHR3ZWVuLmVuZERlbGF5O1xuICAgIHR3ZWVuLmVhc2luZyA9IHBhcnNlRWFzaW5ncyh0d2Vlbi5lYXNpbmcsIHR3ZWVuLmR1cmF0aW9uKTtcbiAgICB0d2Vlbi5pc1BhdGggPSBpcy5wdGgodHdlZW5WYWx1ZSk7XG4gICAgdHdlZW4uaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHID0gdHdlZW4uaXNQYXRoICYmIGlzLnN2ZyhhbmltYXRhYmxlLnRhcmdldCk7XG4gICAgdHdlZW4uaXNDb2xvciA9IGlzLmNvbCh0d2Vlbi5mcm9tLm9yaWdpbmFsKTtcbiAgICBpZiAodHdlZW4uaXNDb2xvcikgeyB0d2Vlbi5yb3VuZCA9IDE7IH1cbiAgICBwcmV2aW91c1R3ZWVuID0gdHdlZW47XG4gICAgcmV0dXJuIHR3ZWVuO1xuICB9KTtcbn1cblxuLy8gVHdlZW4gcHJvZ3Jlc3NcblxudmFyIHNldFByb2dyZXNzVmFsdWUgPSB7XG4gIGNzczogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHQuc3R5bGVbcF0gPSB2OyB9LFxuICBhdHRyaWJ1dGU6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0LnNldEF0dHJpYnV0ZShwLCB2KTsgfSxcbiAgb2JqZWN0OiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdFtwXSA9IHY7IH0sXG4gIHRyYW5zZm9ybTogZnVuY3Rpb24gKHQsIHAsIHYsIHRyYW5zZm9ybXMsIG1hbnVhbCkge1xuICAgIHRyYW5zZm9ybXMubGlzdC5zZXQocCwgdik7XG4gICAgaWYgKHAgPT09IHRyYW5zZm9ybXMubGFzdCB8fCBtYW51YWwpIHtcbiAgICAgIHZhciBzdHIgPSAnJztcbiAgICAgIHRyYW5zZm9ybXMubGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgcHJvcCkgeyBzdHIgKz0gcHJvcCArIFwiKFwiICsgdmFsdWUgKyBcIikgXCI7IH0pO1xuICAgICAgdC5zdHlsZS50cmFuc2Zvcm0gPSBzdHI7XG4gICAgfVxuICB9XG59O1xuXG4vLyBTZXQgVmFsdWUgaGVscGVyXG5cbmZ1bmN0aW9uIHNldFRhcmdldHNWYWx1ZSh0YXJnZXRzLCBwcm9wZXJ0aWVzKSB7XG4gIHZhciBhbmltYXRhYmxlcyA9IGdldEFuaW1hdGFibGVzKHRhcmdldHMpO1xuICBhbmltYXRhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uIChhbmltYXRhYmxlKSB7XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0RnVuY3Rpb25WYWx1ZShwcm9wZXJ0aWVzW3Byb3BlcnR5XSwgYW5pbWF0YWJsZSk7XG4gICAgICB2YXIgdGFyZ2V0ID0gYW5pbWF0YWJsZS50YXJnZXQ7XG4gICAgICB2YXIgdmFsdWVVbml0ID0gZ2V0VW5pdCh2YWx1ZSk7XG4gICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWVVbml0LCBhbmltYXRhYmxlKTtcbiAgICAgIHZhciB1bml0ID0gdmFsdWVVbml0IHx8IGdldFVuaXQob3JpZ2luYWxWYWx1ZSk7XG4gICAgICB2YXIgdG8gPSBnZXRSZWxhdGl2ZVZhbHVlKHZhbGlkYXRlVmFsdWUodmFsdWUsIHVuaXQpLCBvcmlnaW5hbFZhbHVlKTtcbiAgICAgIHZhciBhbmltVHlwZSA9IGdldEFuaW1hdGlvblR5cGUodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gICAgICBzZXRQcm9ncmVzc1ZhbHVlW2FuaW1UeXBlXSh0YXJnZXQsIHByb3BlcnR5LCB0bywgYW5pbWF0YWJsZS50cmFuc2Zvcm1zLCB0cnVlKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBBbmltYXRpb25zXG5cbmZ1bmN0aW9uIGNyZWF0ZUFuaW1hdGlvbihhbmltYXRhYmxlLCBwcm9wKSB7XG4gIHZhciBhbmltVHlwZSA9IGdldEFuaW1hdGlvblR5cGUoYW5pbWF0YWJsZS50YXJnZXQsIHByb3AubmFtZSk7XG4gIGlmIChhbmltVHlwZSkge1xuICAgIHZhciB0d2VlbnMgPSBub3JtYWxpemVUd2VlbnMocHJvcCwgYW5pbWF0YWJsZSk7XG4gICAgdmFyIGxhc3RUd2VlbiA9IHR3ZWVuc1t0d2VlbnMubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGFuaW1UeXBlLFxuICAgICAgcHJvcGVydHk6IHByb3AubmFtZSxcbiAgICAgIGFuaW1hdGFibGU6IGFuaW1hdGFibGUsXG4gICAgICB0d2VlbnM6IHR3ZWVucyxcbiAgICAgIGR1cmF0aW9uOiBsYXN0VHdlZW4uZW5kLFxuICAgICAgZGVsYXk6IHR3ZWVuc1swXS5kZWxheSxcbiAgICAgIGVuZERlbGF5OiBsYXN0VHdlZW4uZW5kRGVsYXlcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5pbWF0aW9ucyhhbmltYXRhYmxlcywgcHJvcGVydGllcykge1xuICByZXR1cm4gZmlsdGVyQXJyYXkoZmxhdHRlbkFycmF5KGFuaW1hdGFibGVzLm1hcChmdW5jdGlvbiAoYW5pbWF0YWJsZSkge1xuICAgIHJldHVybiBwcm9wZXJ0aWVzLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUFuaW1hdGlvbihhbmltYXRhYmxlLCBwcm9wKTtcbiAgICB9KTtcbiAgfSkpLCBmdW5jdGlvbiAoYSkgeyByZXR1cm4gIWlzLnVuZChhKTsgfSk7XG59XG5cbi8vIENyZWF0ZSBJbnN0YW5jZVxuXG5mdW5jdGlvbiBnZXRJbnN0YW5jZVRpbWluZ3MoYW5pbWF0aW9ucywgdHdlZW5TZXR0aW5ncykge1xuICB2YXIgYW5pbUxlbmd0aCA9IGFuaW1hdGlvbnMubGVuZ3RoO1xuICB2YXIgZ2V0VGxPZmZzZXQgPSBmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gYW5pbS50aW1lbGluZU9mZnNldCA/IGFuaW0udGltZWxpbmVPZmZzZXQgOiAwOyB9O1xuICB2YXIgdGltaW5ncyA9IHt9O1xuICB0aW1pbmdzLmR1cmF0aW9uID0gYW5pbUxlbmd0aCA/IE1hdGgubWF4LmFwcGx5KE1hdGgsIGFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBnZXRUbE9mZnNldChhbmltKSArIGFuaW0uZHVyYXRpb247IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZHVyYXRpb247XG4gIHRpbWluZ3MuZGVsYXkgPSBhbmltTGVuZ3RoID8gTWF0aC5taW4uYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kZWxheTsgfSkpIDogdHdlZW5TZXR0aW5ncy5kZWxheTtcbiAgdGltaW5ncy5lbmREZWxheSA9IGFuaW1MZW5ndGggPyB0aW1pbmdzLmR1cmF0aW9uIC0gTWF0aC5tYXguYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kdXJhdGlvbiAtIGFuaW0uZW5kRGVsYXk7IH0pKSA6IHR3ZWVuU2V0dGluZ3MuZW5kRGVsYXk7XG4gIHJldHVybiB0aW1pbmdzO1xufVxuXG52YXIgaW5zdGFuY2VJRCA9IDA7XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0luc3RhbmNlKHBhcmFtcykge1xuICB2YXIgaW5zdGFuY2VTZXR0aW5ncyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIHR3ZWVuU2V0dGluZ3MgPSByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdFR3ZWVuU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciBwcm9wZXJ0aWVzID0gZ2V0UHJvcGVydGllcyh0d2VlblNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgYW5pbWF0YWJsZXMgPSBnZXRBbmltYXRhYmxlcyhwYXJhbXMudGFyZ2V0cyk7XG4gIHZhciBhbmltYXRpb25zID0gZ2V0QW5pbWF0aW9ucyhhbmltYXRhYmxlcywgcHJvcGVydGllcyk7XG4gIHZhciB0aW1pbmdzID0gZ2V0SW5zdGFuY2VUaW1pbmdzKGFuaW1hdGlvbnMsIHR3ZWVuU2V0dGluZ3MpO1xuICB2YXIgaWQgPSBpbnN0YW5jZUlEO1xuICBpbnN0YW5jZUlEKys7XG4gIHJldHVybiBtZXJnZU9iamVjdHMoaW5zdGFuY2VTZXR0aW5ncywge1xuICAgIGlkOiBpZCxcbiAgICBjaGlsZHJlbjogW10sXG4gICAgYW5pbWF0YWJsZXM6IGFuaW1hdGFibGVzLFxuICAgIGFuaW1hdGlvbnM6IGFuaW1hdGlvbnMsXG4gICAgZHVyYXRpb246IHRpbWluZ3MuZHVyYXRpb24sXG4gICAgZGVsYXk6IHRpbWluZ3MuZGVsYXksXG4gICAgZW5kRGVsYXk6IHRpbWluZ3MuZW5kRGVsYXlcbiAgfSk7XG59XG5cbi8vIENvcmVcblxudmFyIGFjdGl2ZUluc3RhbmNlcyA9IFtdO1xuXG52YXIgZW5naW5lID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJhZjtcblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIGlmICghcmFmICYmICghaXNEb2N1bWVudEhpZGRlbigpIHx8ICFhbmltZS5zdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuKSAmJiBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzdGVwKHQpIHtcbiAgICAvLyBtZW1vIG9uIGFsZ29yaXRobSBpc3N1ZTpcbiAgICAvLyBkYW5nZXJvdXMgaXRlcmF0aW9uIG92ZXIgbXV0YWJsZSBgYWN0aXZlSW5zdGFuY2VzYFxuICAgIC8vICh0aGF0IGNvbGxlY3Rpb24gbWF5IGJlIHVwZGF0ZWQgZnJvbSB3aXRoaW4gY2FsbGJhY2tzIG9mIGB0aWNrYC1lZCBhbmltYXRpb24gaW5zdGFuY2VzKVxuICAgIHZhciBhY3RpdmVJbnN0YW5jZXNMZW5ndGggPSBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGFjdGl2ZUluc3RhbmNlc0xlbmd0aCkge1xuICAgICAgdmFyIGFjdGl2ZUluc3RhbmNlID0gYWN0aXZlSW5zdGFuY2VzW2ldO1xuICAgICAgaWYgKCFhY3RpdmVJbnN0YW5jZS5wYXVzZWQpIHtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2UudGljayh0KTtcbiAgICAgICAgaSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoLS07XG4gICAgICB9XG4gICAgfVxuICAgIHJhZiA9IGkgPiAwID8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICBpZiAoIWFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4pIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoaXNEb2N1bWVudEhpZGRlbigpKSB7XG4gICAgICAvLyBzdXNwZW5kIHRpY2tzXG4gICAgICByYWYgPSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuICAgIH0gZWxzZSB7IC8vIGlzIGJhY2sgdG8gYWN0aXZlIHRhYlxuICAgICAgLy8gZmlyc3QgYWRqdXN0IGFuaW1hdGlvbnMgdG8gY29uc2lkZXIgdGhlIHRpbWUgdGhhdCB0aWNrcyB3ZXJlIHN1c3BlbmRlZFxuICAgICAgYWN0aXZlSW5zdGFuY2VzLmZvckVhY2goXG4gICAgICAgIGZ1bmN0aW9uIChpbnN0YW5jZSkgeyByZXR1cm4gaW5zdGFuY2UgLl9vbkRvY3VtZW50VmlzaWJpbGl0eSgpOyB9XG4gICAgICApO1xuICAgICAgZW5naW5lKCk7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xuICB9XG5cbiAgcmV0dXJuIHBsYXk7XG59KSgpO1xuXG5mdW5jdGlvbiBpc0RvY3VtZW50SGlkZGVuKCkge1xuICByZXR1cm4gISFkb2N1bWVudCAmJiBkb2N1bWVudC5oaWRkZW47XG59XG5cbi8vIFB1YmxpYyBJbnN0YW5jZVxuXG5mdW5jdGlvbiBhbmltZShwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG5cbiAgdmFyIHN0YXJ0VGltZSA9IDAsIGxhc3RUaW1lID0gMCwgbm93ID0gMDtcbiAgdmFyIGNoaWxkcmVuLCBjaGlsZHJlbkxlbmd0aCA9IDA7XG4gIHZhciByZXNvbHZlID0gbnVsbDtcblxuICBmdW5jdGlvbiBtYWtlUHJvbWlzZShpbnN0YW5jZSkge1xuICAgIHZhciBwcm9taXNlID0gd2luZG93LlByb21pc2UgJiYgbmV3IFByb21pc2UoZnVuY3Rpb24gKF9yZXNvbHZlKSB7IHJldHVybiByZXNvbHZlID0gX3Jlc29sdmU7IH0pO1xuICAgIGluc3RhbmNlLmZpbmlzaGVkID0gcHJvbWlzZTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHZhciBpbnN0YW5jZSA9IGNyZWF0ZU5ld0luc3RhbmNlKHBhcmFtcyk7XG4gIHZhciBwcm9taXNlID0gbWFrZVByb21pc2UoaW5zdGFuY2UpO1xuXG4gIGZ1bmN0aW9uIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCkge1xuICAgIHZhciBkaXJlY3Rpb24gPSBpbnN0YW5jZS5kaXJlY3Rpb247XG4gICAgaWYgKGRpcmVjdGlvbiAhPT0gJ2FsdGVybmF0ZScpIHtcbiAgICAgIGluc3RhbmNlLmRpcmVjdGlvbiA9IGRpcmVjdGlvbiAhPT0gJ25vcm1hbCcgPyAnbm9ybWFsJyA6ICdyZXZlcnNlJztcbiAgICB9XG4gICAgaW5zdGFuY2UucmV2ZXJzZWQgPSAhaW5zdGFuY2UucmV2ZXJzZWQ7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIGNoaWxkLnJldmVyc2VkID0gaW5zdGFuY2UucmV2ZXJzZWQ7IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRqdXN0VGltZSh0aW1lKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLnJldmVyc2VkID8gaW5zdGFuY2UuZHVyYXRpb24gLSB0aW1lIDogdGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VGltZSgpIHtcbiAgICBzdGFydFRpbWUgPSAwO1xuICAgIGxhc3RUaW1lID0gYWRqdXN0VGltZShpbnN0YW5jZS5jdXJyZW50VGltZSkgKiAoMSAvIGFuaW1lLnNwZWVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlZWtDaGlsZCh0aW1lLCBjaGlsZCkge1xuICAgIGlmIChjaGlsZCkgeyBjaGlsZC5zZWVrKHRpbWUgLSBjaGlsZC50aW1lbGluZU9mZnNldCk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN5bmNJbnN0YW5jZUNoaWxkcmVuKHRpbWUpIHtcbiAgICBpZiAoIWluc3RhbmNlLnJldmVyc2VQbGF5YmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7IHNlZWtDaGlsZCh0aW1lLCBjaGlsZHJlbltpXSk7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSQxID0gY2hpbGRyZW5MZW5ndGg7IGkkMS0tOykgeyBzZWVrQ2hpbGQodGltZSwgY2hpbGRyZW5baSQxXSk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zVGltZSkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgYW5pbWF0aW9ucyA9IGluc3RhbmNlLmFuaW1hdGlvbnM7XG4gICAgdmFyIGFuaW1hdGlvbnNMZW5ndGggPSBhbmltYXRpb25zLmxlbmd0aDtcbiAgICB3aGlsZSAoaSA8IGFuaW1hdGlvbnNMZW5ndGgpIHtcbiAgICAgIHZhciBhbmltID0gYW5pbWF0aW9uc1tpXTtcbiAgICAgIHZhciBhbmltYXRhYmxlID0gYW5pbS5hbmltYXRhYmxlO1xuICAgICAgdmFyIHR3ZWVucyA9IGFuaW0udHdlZW5zO1xuICAgICAgdmFyIHR3ZWVuTGVuZ3RoID0gdHdlZW5zLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgdHdlZW4gPSB0d2VlbnNbdHdlZW5MZW5ndGhdO1xuICAgICAgLy8gT25seSBjaGVjayBmb3Iga2V5ZnJhbWVzIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgdHdlZW5cbiAgICAgIGlmICh0d2Vlbkxlbmd0aCkgeyB0d2VlbiA9IGZpbHRlckFycmF5KHR3ZWVucywgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIChpbnNUaW1lIDwgdC5lbmQpOyB9KVswXSB8fCB0d2VlbjsgfVxuICAgICAgdmFyIGVsYXBzZWQgPSBtaW5NYXgoaW5zVGltZSAtIHR3ZWVuLnN0YXJ0IC0gdHdlZW4uZGVsYXksIDAsIHR3ZWVuLmR1cmF0aW9uKSAvIHR3ZWVuLmR1cmF0aW9uO1xuICAgICAgdmFyIGVhc2VkID0gaXNOYU4oZWxhcHNlZCkgPyAxIDogdHdlZW4uZWFzaW5nKGVsYXBzZWQpO1xuICAgICAgdmFyIHN0cmluZ3MgPSB0d2Vlbi50by5zdHJpbmdzO1xuICAgICAgdmFyIHJvdW5kID0gdHdlZW4ucm91bmQ7XG4gICAgICB2YXIgbnVtYmVycyA9IFtdO1xuICAgICAgdmFyIHRvTnVtYmVyc0xlbmd0aCA9IHR3ZWVuLnRvLm51bWJlcnMubGVuZ3RoO1xuICAgICAgdmFyIHByb2dyZXNzID0gKHZvaWQgMCk7XG4gICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHRvTnVtYmVyc0xlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICh2b2lkIDApO1xuICAgICAgICB2YXIgdG9OdW1iZXIgPSB0d2Vlbi50by5udW1iZXJzW25dO1xuICAgICAgICB2YXIgZnJvbU51bWJlciA9IHR3ZWVuLmZyb20ubnVtYmVyc1tuXSB8fCAwO1xuICAgICAgICBpZiAoIXR3ZWVuLmlzUGF0aCkge1xuICAgICAgICAgIHZhbHVlID0gZnJvbU51bWJlciArIChlYXNlZCAqICh0b051bWJlciAtIGZyb21OdW1iZXIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGdldFBhdGhQcm9ncmVzcyh0d2Vlbi52YWx1ZSwgZWFzZWQgKiB0b051bWJlciwgdHdlZW4uaXNQYXRoVGFyZ2V0SW5zaWRlU1ZHKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm91bmQpIHtcbiAgICAgICAgICBpZiAoISh0d2Vlbi5pc0NvbG9yICYmIG4gPiAyKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlICogcm91bmQpIC8gcm91bmQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG51bWJlcnMucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBNYW51YWwgQXJyYXkucmVkdWNlIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VzXG4gICAgICB2YXIgc3RyaW5nc0xlbmd0aCA9IHN0cmluZ3MubGVuZ3RoO1xuICAgICAgaWYgKCFzdHJpbmdzTGVuZ3RoKSB7XG4gICAgICAgIHByb2dyZXNzID0gbnVtYmVyc1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2dyZXNzID0gc3RyaW5nc1swXTtcbiAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBzdHJpbmdzTGVuZ3RoOyBzKyspIHtcbiAgICAgICAgICB2YXIgYSA9IHN0cmluZ3Nbc107XG4gICAgICAgICAgdmFyIGIgPSBzdHJpbmdzW3MgKyAxXTtcbiAgICAgICAgICB2YXIgbiQxID0gbnVtYmVyc1tzXTtcbiAgICAgICAgICBpZiAoIWlzTmFOKG4kMSkpIHtcbiAgICAgICAgICAgIGlmICghYikge1xuICAgICAgICAgICAgICBwcm9ncmVzcyArPSBuJDEgKyAnICc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9ncmVzcyArPSBuJDEgKyBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0UHJvZ3Jlc3NWYWx1ZVthbmltLnR5cGVdKGFuaW1hdGFibGUudGFyZ2V0LCBhbmltLnByb3BlcnR5LCBwcm9ncmVzcywgYW5pbWF0YWJsZS50cmFuc2Zvcm1zKTtcbiAgICAgIGFuaW0uY3VycmVudFZhbHVlID0gcHJvZ3Jlc3M7XG4gICAgICBpKys7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0Q2FsbGJhY2soY2IpIHtcbiAgICBpZiAoaW5zdGFuY2VbY2JdICYmICFpbnN0YW5jZS5wYXNzVGhyb3VnaCkgeyBpbnN0YW5jZVtjYl0oaW5zdGFuY2UpOyB9XG4gIH1cblxuICBmdW5jdGlvbiBjb3VudEl0ZXJhdGlvbigpIHtcbiAgICBpZiAoaW5zdGFuY2UucmVtYWluaW5nICYmIGluc3RhbmNlLnJlbWFpbmluZyAhPT0gdHJ1ZSkge1xuICAgICAgaW5zdGFuY2UucmVtYWluaW5nLS07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW5zdGFuY2VQcm9ncmVzcyhlbmdpbmVUaW1lKSB7XG4gICAgdmFyIGluc0R1cmF0aW9uID0gaW5zdGFuY2UuZHVyYXRpb247XG4gICAgdmFyIGluc0RlbGF5ID0gaW5zdGFuY2UuZGVsYXk7XG4gICAgdmFyIGluc0VuZERlbGF5ID0gaW5zRHVyYXRpb24gLSBpbnN0YW5jZS5lbmREZWxheTtcbiAgICB2YXIgaW5zVGltZSA9IGFkanVzdFRpbWUoZW5naW5lVGltZSk7XG4gICAgaW5zdGFuY2UucHJvZ3Jlc3MgPSBtaW5NYXgoKGluc1RpbWUgLyBpbnNEdXJhdGlvbikgKiAxMDAsIDAsIDEwMCk7XG4gICAgaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrID0gaW5zVGltZSA8IGluc3RhbmNlLmN1cnJlbnRUaW1lO1xuICAgIGlmIChjaGlsZHJlbikgeyBzeW5jSW5zdGFuY2VDaGlsZHJlbihpbnNUaW1lKTsgfVxuICAgIGlmICghaW5zdGFuY2UuYmVnYW4gJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICBpbnN0YW5jZS5iZWdhbiA9IHRydWU7XG4gICAgICBzZXRDYWxsYmFjaygnYmVnaW4nKTtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZS5sb29wQmVnYW4gJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSB0cnVlO1xuICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BCZWdpbicpO1xuICAgIH1cbiAgICBpZiAoaW5zVGltZSA8PSBpbnNEZWxheSAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSAhPT0gMCkge1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKDApO1xuICAgIH1cbiAgICBpZiAoKGluc1RpbWUgPj0gaW5zRW5kRGVsYXkgJiYgaW5zdGFuY2UuY3VycmVudFRpbWUgIT09IGluc0R1cmF0aW9uKSB8fCAhaW5zRHVyYXRpb24pIHtcbiAgICAgIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNEdXJhdGlvbik7XG4gICAgfVxuICAgIGlmIChpbnNUaW1lID4gaW5zRGVsYXkgJiYgaW5zVGltZSA8IGluc0VuZERlbGF5KSB7XG4gICAgICBpZiAoIWluc3RhbmNlLmNoYW5nZUJlZ2FuKSB7XG4gICAgICAgIGluc3RhbmNlLmNoYW5nZUJlZ2FuID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHNldENhbGxiYWNrKCdjaGFuZ2VCZWdpbicpO1xuICAgICAgfVxuICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZScpO1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc1RpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5zdGFuY2UuY2hhbmdlQmVnYW4pIHtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSBmYWxzZTtcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZUNvbXBsZXRlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLmN1cnJlbnRUaW1lID0gbWluTWF4KGluc1RpbWUsIDAsIGluc0R1cmF0aW9uKTtcbiAgICBpZiAoaW5zdGFuY2UuYmVnYW4pIHsgc2V0Q2FsbGJhY2soJ3VwZGF0ZScpOyB9XG4gICAgaWYgKGVuZ2luZVRpbWUgPj0gaW5zRHVyYXRpb24pIHtcbiAgICAgIGxhc3RUaW1lID0gMDtcbiAgICAgIGNvdW50SXRlcmF0aW9uKCk7XG4gICAgICBpZiAoIWluc3RhbmNlLnJlbWFpbmluZykge1xuICAgICAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICBpZiAoIWluc3RhbmNlLmNvbXBsZXRlZCkge1xuICAgICAgICAgIGluc3RhbmNlLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BDb21wbGV0ZScpO1xuICAgICAgICAgIHNldENhbGxiYWNrKCdjb21wbGV0ZScpO1xuICAgICAgICAgIGlmICghaW5zdGFuY2UucGFzc1Rocm91Z2ggJiYgJ1Byb21pc2UnIGluIHdpbmRvdykge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcHJvbWlzZSA9IG1ha2VQcm9taXNlKGluc3RhbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IG5vdztcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2xvb3BDb21wbGV0ZScpO1xuICAgICAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKGluc3RhbmNlLmRpcmVjdGlvbiA9PT0gJ2FsdGVybmF0ZScpIHtcbiAgICAgICAgICB0b2dnbGVJbnN0YW5jZURpcmVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW5zdGFuY2UucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gaW5zdGFuY2UuZGlyZWN0aW9uO1xuICAgIGluc3RhbmNlLnBhc3NUaHJvdWdoID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY3VycmVudFRpbWUgPSAwO1xuICAgIGluc3RhbmNlLnByb2dyZXNzID0gMDtcbiAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgIGluc3RhbmNlLmJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UubG9vcEJlZ2FuID0gZmFsc2U7XG4gICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2sgPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlZCA9IGRpcmVjdGlvbiA9PT0gJ3JldmVyc2UnO1xuICAgIGluc3RhbmNlLnJlbWFpbmluZyA9IGluc3RhbmNlLmxvb3A7XG4gICAgY2hpbGRyZW4gPSBpbnN0YW5jZS5jaGlsZHJlbjtcbiAgICBjaGlsZHJlbkxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gY2hpbGRyZW5MZW5ndGg7IGktLTspIHsgaW5zdGFuY2UuY2hpbGRyZW5baV0ucmVzZXQoKTsgfVxuICAgIGlmIChpbnN0YW5jZS5yZXZlcnNlZCAmJiBpbnN0YW5jZS5sb29wICE9PSB0cnVlIHx8IChkaXJlY3Rpb24gPT09ICdhbHRlcm5hdGUnICYmIGluc3RhbmNlLmxvb3AgPT09IDEpKSB7IGluc3RhbmNlLnJlbWFpbmluZysrOyB9XG4gICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc3RhbmNlLnJldmVyc2VkID8gaW5zdGFuY2UuZHVyYXRpb24gOiAwKTtcbiAgfTtcblxuICAvLyBpbnRlcm5hbCBtZXRob2QgKGZvciBlbmdpbmUpIHRvIGFkanVzdCBhbmltYXRpb24gdGltaW5ncyBiZWZvcmUgcmVzdG9yaW5nIGVuZ2luZSB0aWNrcyAockFGKVxuICBpbnN0YW5jZS5fb25Eb2N1bWVudFZpc2liaWxpdHkgPSByZXNldFRpbWU7XG5cbiAgLy8gU2V0IFZhbHVlIGhlbHBlclxuXG4gIGluc3RhbmNlLnNldCA9IGZ1bmN0aW9uKHRhcmdldHMsIHByb3BlcnRpZXMpIHtcbiAgICBzZXRUYXJnZXRzVmFsdWUodGFyZ2V0cywgcHJvcGVydGllcyk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIGluc3RhbmNlLnRpY2sgPSBmdW5jdGlvbih0KSB7XG4gICAgbm93ID0gdDtcbiAgICBpZiAoIXN0YXJ0VGltZSkgeyBzdGFydFRpbWUgPSBub3c7IH1cbiAgICBzZXRJbnN0YW5jZVByb2dyZXNzKChub3cgKyAobGFzdFRpbWUgLSBzdGFydFRpbWUpKSAqIGFuaW1lLnNwZWVkKTtcbiAgfTtcblxuICBpbnN0YW5jZS5zZWVrID0gZnVuY3Rpb24odGltZSkge1xuICAgIHNldEluc3RhbmNlUHJvZ3Jlc3MoYWRqdXN0VGltZSh0aW1lKSk7XG4gIH07XG5cbiAgaW5zdGFuY2UucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICBpbnN0YW5jZS5wYXVzZWQgPSB0cnVlO1xuICAgIHJlc2V0VGltZSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIWluc3RhbmNlLnBhdXNlZCkgeyByZXR1cm47IH1cbiAgICBpZiAoaW5zdGFuY2UuY29tcGxldGVkKSB7IGluc3RhbmNlLnJlc2V0KCk7IH1cbiAgICBpbnN0YW5jZS5wYXVzZWQgPSBmYWxzZTtcbiAgICBhY3RpdmVJbnN0YW5jZXMucHVzaChpbnN0YW5jZSk7XG4gICAgcmVzZXRUaW1lKCk7XG4gICAgZW5naW5lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCk7XG4gICAgaW5zdGFuY2UuY29tcGxldGVkID0gaW5zdGFuY2UucmV2ZXJzZWQgPyBmYWxzZSA6IHRydWU7XG4gICAgcmVzZXRUaW1lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVzdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIGluc3RhbmNlLnJlc2V0KCk7XG4gICAgaW5zdGFuY2UucGxheSgpO1xuICB9O1xuXG4gIGluc3RhbmNlLnJlbW92ZSA9IGZ1bmN0aW9uKHRhcmdldHMpIHtcbiAgICB2YXIgdGFyZ2V0c0FycmF5ID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVzZXQoKTtcblxuICBpZiAoaW5zdGFuY2UuYXV0b3BsYXkpIHsgaW5zdGFuY2UucGxheSgpOyB9XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xuXG59XG5cbi8vIFJlbW92ZSB0YXJnZXRzIGZyb20gYW5pbWF0aW9uXG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnMpIHtcbiAgZm9yICh2YXIgYSA9IGFuaW1hdGlvbnMubGVuZ3RoOyBhLS07KSB7XG4gICAgaWYgKGFycmF5Q29udGFpbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zW2FdLmFuaW1hdGFibGUudGFyZ2V0KSkge1xuICAgICAgYW5pbWF0aW9ucy5zcGxpY2UoYSwgMSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSkge1xuICB2YXIgYW5pbWF0aW9ucyA9IGluc3RhbmNlLmFuaW1hdGlvbnM7XG4gIHZhciBjaGlsZHJlbiA9IGluc3RhbmNlLmNoaWxkcmVuO1xuICByZW1vdmVUYXJnZXRzRnJvbUFuaW1hdGlvbnModGFyZ2V0c0FycmF5LCBhbmltYXRpb25zKTtcbiAgZm9yICh2YXIgYyA9IGNoaWxkcmVuLmxlbmd0aDsgYy0tOykge1xuICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2NdO1xuICAgIHZhciBjaGlsZEFuaW1hdGlvbnMgPSBjaGlsZC5hbmltYXRpb25zO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGNoaWxkQW5pbWF0aW9ucyk7XG4gICAgaWYgKCFjaGlsZEFuaW1hdGlvbnMubGVuZ3RoICYmICFjaGlsZC5jaGlsZHJlbi5sZW5ndGgpIHsgY2hpbGRyZW4uc3BsaWNlKGMsIDEpOyB9XG4gIH1cbiAgaWYgKCFhbmltYXRpb25zLmxlbmd0aCAmJiAhY2hpbGRyZW4ubGVuZ3RoKSB7IGluc3RhbmNlLnBhdXNlKCk7IH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21BY3RpdmVJbnN0YW5jZXModGFyZ2V0cykge1xuICB2YXIgdGFyZ2V0c0FycmF5ID0gcGFyc2VUYXJnZXRzKHRhcmdldHMpO1xuICBmb3IgKHZhciBpID0gYWN0aXZlSW5zdGFuY2VzLmxlbmd0aDsgaS0tOykge1xuICAgIHZhciBpbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlc1tpXTtcbiAgICByZW1vdmVUYXJnZXRzRnJvbUluc3RhbmNlKHRhcmdldHNBcnJheSwgaW5zdGFuY2UpO1xuICB9XG59XG5cbi8vIFN0YWdnZXIgaGVscGVyc1xuXG5mdW5jdGlvbiBzdGFnZ2VyKHZhbCwgcGFyYW1zKSB7XG4gIGlmICggcGFyYW1zID09PSB2b2lkIDAgKSBwYXJhbXMgPSB7fTtcblxuICB2YXIgZGlyZWN0aW9uID0gcGFyYW1zLmRpcmVjdGlvbiB8fCAnbm9ybWFsJztcbiAgdmFyIGVhc2luZyA9IHBhcmFtcy5lYXNpbmcgPyBwYXJzZUVhc2luZ3MocGFyYW1zLmVhc2luZykgOiBudWxsO1xuICB2YXIgZ3JpZCA9IHBhcmFtcy5ncmlkO1xuICB2YXIgYXhpcyA9IHBhcmFtcy5heGlzO1xuICB2YXIgZnJvbUluZGV4ID0gcGFyYW1zLmZyb20gfHwgMDtcbiAgdmFyIGZyb21GaXJzdCA9IGZyb21JbmRleCA9PT0gJ2ZpcnN0JztcbiAgdmFyIGZyb21DZW50ZXIgPSBmcm9tSW5kZXggPT09ICdjZW50ZXInO1xuICB2YXIgZnJvbUxhc3QgPSBmcm9tSW5kZXggPT09ICdsYXN0JztcbiAgdmFyIGlzUmFuZ2UgPSBpcy5hcnIodmFsKTtcbiAgdmFyIHZhbDEgPSBpc1JhbmdlID8gcGFyc2VGbG9hdCh2YWxbMF0pIDogcGFyc2VGbG9hdCh2YWwpO1xuICB2YXIgdmFsMiA9IGlzUmFuZ2UgPyBwYXJzZUZsb2F0KHZhbFsxXSkgOiAwO1xuICB2YXIgdW5pdCA9IGdldFVuaXQoaXNSYW5nZSA/IHZhbFsxXSA6IHZhbCkgfHwgMDtcbiAgdmFyIHN0YXJ0ID0gcGFyYW1zLnN0YXJ0IHx8IDAgKyAoaXNSYW5nZSA/IHZhbDEgOiAwKTtcbiAgdmFyIHZhbHVlcyA9IFtdO1xuICB2YXIgbWF4VmFsdWUgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24gKGVsLCBpLCB0KSB7XG4gICAgaWYgKGZyb21GaXJzdCkgeyBmcm9tSW5kZXggPSAwOyB9XG4gICAgaWYgKGZyb21DZW50ZXIpIHsgZnJvbUluZGV4ID0gKHQgLSAxKSAvIDI7IH1cbiAgICBpZiAoZnJvbUxhc3QpIHsgZnJvbUluZGV4ID0gdCAtIDE7IH1cbiAgICBpZiAoIXZhbHVlcy5sZW5ndGgpIHtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0OyBpbmRleCsrKSB7XG4gICAgICAgIGlmICghZ3JpZCkge1xuICAgICAgICAgIHZhbHVlcy5wdXNoKE1hdGguYWJzKGZyb21JbmRleCAtIGluZGV4KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGZyb21YID0gIWZyb21DZW50ZXIgPyBmcm9tSW5kZXglZ3JpZFswXSA6IChncmlkWzBdLTEpLzI7XG4gICAgICAgICAgdmFyIGZyb21ZID0gIWZyb21DZW50ZXIgPyBNYXRoLmZsb29yKGZyb21JbmRleC9ncmlkWzBdKSA6IChncmlkWzFdLTEpLzI7XG4gICAgICAgICAgdmFyIHRvWCA9IGluZGV4JWdyaWRbMF07XG4gICAgICAgICAgdmFyIHRvWSA9IE1hdGguZmxvb3IoaW5kZXgvZ3JpZFswXSk7XG4gICAgICAgICAgdmFyIGRpc3RhbmNlWCA9IGZyb21YIC0gdG9YO1xuICAgICAgICAgIHZhciBkaXN0YW5jZVkgPSBmcm9tWSAtIHRvWTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBNYXRoLnNxcnQoZGlzdGFuY2VYICogZGlzdGFuY2VYICsgZGlzdGFuY2VZICogZGlzdGFuY2VZKTtcbiAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7IHZhbHVlID0gLWRpc3RhbmNlWDsgfVxuICAgICAgICAgIGlmIChheGlzID09PSAneScpIHsgdmFsdWUgPSAtZGlzdGFuY2VZOyB9XG4gICAgICAgICAgdmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIG1heFZhbHVlID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgdmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIGlmIChlYXNpbmcpIHsgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBlYXNpbmcodmFsIC8gbWF4VmFsdWUpICogbWF4VmFsdWU7IH0pOyB9XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAncmV2ZXJzZScpIHsgdmFsdWVzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBheGlzID8gKHZhbCA8IDApID8gdmFsICogLTEgOiAtdmFsIDogTWF0aC5hYnMobWF4VmFsdWUgLSB2YWwpOyB9KTsgfVxuICAgIH1cbiAgICB2YXIgc3BhY2luZyA9IGlzUmFuZ2UgPyAodmFsMiAtIHZhbDEpIC8gbWF4VmFsdWUgOiB2YWwxO1xuICAgIHJldHVybiBzdGFydCArIChzcGFjaW5nICogKE1hdGgucm91bmQodmFsdWVzW2ldICogMTAwKSAvIDEwMCkpICsgdW5pdDtcbiAgfVxufVxuXG4vLyBUaW1lbGluZVxuXG5mdW5jdGlvbiB0aW1lbGluZShwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG4gIHZhciB0bCA9IGFuaW1lKHBhcmFtcyk7XG4gIHRsLmR1cmF0aW9uID0gMDtcbiAgdGwuYWRkID0gZnVuY3Rpb24oaW5zdGFuY2VQYXJhbXMsIHRpbWVsaW5lT2Zmc2V0KSB7XG4gICAgdmFyIHRsSW5kZXggPSBhY3RpdmVJbnN0YW5jZXMuaW5kZXhPZih0bCk7XG4gICAgdmFyIGNoaWxkcmVuID0gdGwuY2hpbGRyZW47XG4gICAgaWYgKHRsSW5kZXggPiAtMSkgeyBhY3RpdmVJbnN0YW5jZXMuc3BsaWNlKHRsSW5kZXgsIDEpOyB9XG4gICAgZnVuY3Rpb24gcGFzc1Rocm91Z2goaW5zKSB7IGlucy5wYXNzVGhyb3VnaCA9IHRydWU7IH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7IHBhc3NUaHJvdWdoKGNoaWxkcmVuW2ldKTsgfVxuICAgIHZhciBpbnNQYXJhbXMgPSBtZXJnZU9iamVjdHMoaW5zdGFuY2VQYXJhbXMsIHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0VHdlZW5TZXR0aW5ncywgcGFyYW1zKSk7XG4gICAgaW5zUGFyYW1zLnRhcmdldHMgPSBpbnNQYXJhbXMudGFyZ2V0cyB8fCBwYXJhbXMudGFyZ2V0cztcbiAgICB2YXIgdGxEdXJhdGlvbiA9IHRsLmR1cmF0aW9uO1xuICAgIGluc1BhcmFtcy5hdXRvcGxheSA9IGZhbHNlO1xuICAgIGluc1BhcmFtcy5kaXJlY3Rpb24gPSB0bC5kaXJlY3Rpb247XG4gICAgaW5zUGFyYW1zLnRpbWVsaW5lT2Zmc2V0ID0gaXMudW5kKHRpbWVsaW5lT2Zmc2V0KSA/IHRsRHVyYXRpb24gOiBnZXRSZWxhdGl2ZVZhbHVlKHRpbWVsaW5lT2Zmc2V0LCB0bER1cmF0aW9uKTtcbiAgICBwYXNzVGhyb3VnaCh0bCk7XG4gICAgdGwuc2VlayhpbnNQYXJhbXMudGltZWxpbmVPZmZzZXQpO1xuICAgIHZhciBpbnMgPSBhbmltZShpbnNQYXJhbXMpO1xuICAgIHBhc3NUaHJvdWdoKGlucyk7XG4gICAgY2hpbGRyZW4ucHVzaChpbnMpO1xuICAgIHZhciB0aW1pbmdzID0gZ2V0SW5zdGFuY2VUaW1pbmdzKGNoaWxkcmVuLCBwYXJhbXMpO1xuICAgIHRsLmRlbGF5ID0gdGltaW5ncy5kZWxheTtcbiAgICB0bC5lbmREZWxheSA9IHRpbWluZ3MuZW5kRGVsYXk7XG4gICAgdGwuZHVyYXRpb24gPSB0aW1pbmdzLmR1cmF0aW9uO1xuICAgIHRsLnNlZWsoMCk7XG4gICAgdGwucmVzZXQoKTtcbiAgICBpZiAodGwuYXV0b3BsYXkpIHsgdGwucGxheSgpOyB9XG4gICAgcmV0dXJuIHRsO1xuICB9O1xuICByZXR1cm4gdGw7XG59XG5cbmFuaW1lLnZlcnNpb24gPSAnMy4yLjEnO1xuYW5pbWUuc3BlZWQgPSAxO1xuLy8gVE9ETzojcmV2aWV3OiBuYW1pbmcsIGRvY3VtZW50YXRpb25cbmFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4gPSB0cnVlO1xuYW5pbWUucnVubmluZyA9IGFjdGl2ZUluc3RhbmNlcztcbmFuaW1lLnJlbW92ZSA9IHJlbW92ZVRhcmdldHNGcm9tQWN0aXZlSW5zdGFuY2VzO1xuYW5pbWUuZ2V0ID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZTtcbmFuaW1lLnNldCA9IHNldFRhcmdldHNWYWx1ZTtcbmFuaW1lLmNvbnZlcnRQeCA9IGNvbnZlcnRQeFRvVW5pdDtcbmFuaW1lLnBhdGggPSBnZXRQYXRoO1xuYW5pbWUuc2V0RGFzaG9mZnNldCA9IHNldERhc2hvZmZzZXQ7XG5hbmltZS5zdGFnZ2VyID0gc3RhZ2dlcjtcbmFuaW1lLnRpbWVsaW5lID0gdGltZWxpbmU7XG5hbmltZS5lYXNpbmcgPSBwYXJzZUVhc2luZ3M7XG5hbmltZS5wZW5uZXIgPSBwZW5uZXI7XG5hbmltZS5yYW5kb20gPSBmdW5jdGlvbiAobWluLCBtYXgpIHsgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47IH07XG5cbmV4cG9ydCBkZWZhdWx0IGFuaW1lO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/animejs/lib/anime.es.js\n");

/***/ }),

/***/ "./src/autocomplete.ts":
/*!*****************************!*\
  !*** ./src/autocomplete.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Autocomplete = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    data: [],\n    onAutocomplete: null,\n    dropdownOptions: {\n        // Default dropdown options\n        autoFocus: false,\n        closeOnClick: false,\n        coverTrigger: false\n    },\n    minLength: 1,\n    isMultiSelect: false,\n    onSearch: function (text, autocomplete) {\n        const filteredData = autocomplete.options.data.filter(item => {\n            return Object.keys(item)\n                .map(key => item[key].toString().toLowerCase().indexOf(text.toLowerCase()) >= 0)\n                .some(isMatch => isMatch);\n        });\n        autocomplete.setMenuItems(filteredData);\n    },\n    maxDropDownHeight: '300px',\n    allowUnsafeHTML: false\n};\nclass Autocomplete extends component_1.Component {\n    constructor(el, options) {\n        super(Autocomplete, el, options);\n        this.el.M_Autocomplete = this;\n        this.options = Object.assign(Object.assign({}, Autocomplete.defaults), options);\n        this.isOpen = false;\n        this.count = 0;\n        this.activeIndex = -1;\n        this.oldVal;\n        this.selectedValues = [];\n        this.menuItems = [];\n        this.$active = null;\n        this._mousedown = false;\n        this._setupDropdown();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = el.jquery ? el[0] : el;\n        return domElem.M_Autocomplete;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._removeDropdown();\n        this.el.M_Autocomplete = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleInputBlurBound = this._handleInputBlur.bind(this);\n        this._handleInputKeyupAndFocusBound = this._handleInputKeyupAndFocus.bind(this);\n        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);\n        this._handleInputClickBound = this._handleInputClick.bind(this);\n        this._handleContainerMousedownAndTouchstartBound = this._handleContainerMousedownAndTouchstart.bind(this);\n        this._handleContainerMouseupAndTouchendBound = this._handleContainerMouseupAndTouchend.bind(this);\n        this.el.addEventListener('blur', this._handleInputBlurBound);\n        this.el.addEventListener('keyup', this._handleInputKeyupAndFocusBound);\n        this.el.addEventListener('focus', this._handleInputKeyupAndFocusBound);\n        this.el.addEventListener('keydown', this._handleInputKeydownBound);\n        this.el.addEventListener('click', this._handleInputClickBound);\n        this.container.addEventListener('mousedown', this._handleContainerMousedownAndTouchstartBound);\n        this.container.addEventListener('mouseup', this._handleContainerMouseupAndTouchendBound);\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.container.addEventListener('touchstart', this._handleContainerMousedownAndTouchstartBound);\n            this.container.addEventListener('touchend', this._handleContainerMouseupAndTouchendBound);\n        }\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('blur', this._handleInputBlurBound);\n        this.el.removeEventListener('keyup', this._handleInputKeyupAndFocusBound);\n        this.el.removeEventListener('focus', this._handleInputKeyupAndFocusBound);\n        this.el.removeEventListener('keydown', this._handleInputKeydownBound);\n        this.el.removeEventListener('click', this._handleInputClickBound);\n        this.container.removeEventListener('mousedown', this._handleContainerMousedownAndTouchstartBound);\n        this.container.removeEventListener('mouseup', this._handleContainerMouseupAndTouchendBound);\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.container.removeEventListener('touchstart', this._handleContainerMousedownAndTouchstartBound);\n            this.container.removeEventListener('touchend', this._handleContainerMouseupAndTouchendBound);\n        }\n    }\n    _setupDropdown() {\n        this.container = document.createElement('ul');\n        this.container.style.maxHeight = this.options.maxDropDownHeight;\n        this.container.id = `autocomplete-options-${global_1.M.guid()}`;\n        this.container.classList.add('autocomplete-content', 'dropdown-content');\n        this.el.setAttribute('data-target', this.container.id);\n        // ! Issue in Component Dropdown: _placeDropdown moves dom-position\n        this.el.parentElement.appendChild(this.container);\n        // Initialize dropdown\n        let dropdownOptions = Object.assign(Object.assign({}, Autocomplete.defaults.dropdownOptions), this.options.dropdownOptions);\n        let userOnItemClick = dropdownOptions.onItemClick;\n        // Ensuring the select Option call when user passes custom onItemClick function to dropdown\n        dropdownOptions.onItemClick = (li) => {\n            if (!li)\n                return;\n            const entryID = li.getAttribute('data-id');\n            this.selectOption(entryID);\n            // Handle user declared onItemClick if needed\n            if (userOnItemClick && typeof userOnItemClick === 'function')\n                userOnItemClick.call(this.dropdown, this.el);\n        };\n        this.dropdown = global_1.M.Dropdown.init(this.el, dropdownOptions);\n        // ! Workaround for Label: move label up again\n        // TODO: Just use PopperJS in future!\n        const label = this.el.parentElement.querySelector('label');\n        if (label)\n            this.el.after(label);\n        // Sketchy removal of dropdown click handler\n        this.el.removeEventListener('click', this.dropdown._handleClickBound);\n        // Set Value if already set in HTML\n        if (this.el.value)\n            this.selectOption(this.el.value);\n        // Add StatusInfo\n        const div = document.createElement('div');\n        div.classList.add('status-info');\n        div.setAttribute('style', 'position: absolute;right:0;top:0;');\n        this.el.parentElement.appendChild(div);\n        this._updateSelectedInfo();\n    }\n    _removeDropdown() {\n        this.container.parentNode.removeChild(this.container);\n    }\n    _handleInputBlur() {\n        if (!this._mousedown) {\n            this.close();\n            this._resetAutocomplete();\n        }\n    }\n    _handleInputKeyupAndFocus(e) {\n        if (e.type === 'keyup')\n            Autocomplete._keydown = false;\n        this.count = 0;\n        const actualValue = this.el.value.toLowerCase();\n        // Don't capture enter or arrow key usage.\n        if (e.keyCode === 13 || e.keyCode === 38 || e.keyCode === 40)\n            return;\n        // Check if the input isn't empty\n        // Check if focus triggered by tab\n        if (this.oldVal !== actualValue && (global_1.M.tabPressed || e.type !== 'focus')) {\n            this.open();\n        }\n        // Value has changed!\n        if (this.oldVal !== actualValue) {\n            this._setStatusLoading();\n            this.options.onSearch(this.el.value, this);\n        }\n        // Reset Single-Select when Input cleared\n        if (!this.options.isMultiSelect && this.el.value.length === 0) {\n            this.selectedValues = [];\n            this._triggerChanged();\n        }\n        this.oldVal = actualValue;\n    }\n    _handleInputKeydown(e) {\n        var _a, _b;\n        Autocomplete._keydown = true;\n        // Arrow keys and enter key usage\n        const keyCode = e.keyCode;\n        const numItems = this.container.querySelectorAll('li').length;\n        // select element on Enter\n        if (keyCode === global_1.M.keys.ENTER && this.activeIndex >= 0) {\n            const liElement = this.container.querySelectorAll('li')[this.activeIndex];\n            if (liElement) {\n                this.selectOption(liElement.getAttribute('data-id'));\n                e.preventDefault();\n            }\n            return;\n        }\n        // Capture up and down key\n        if (keyCode === global_1.M.keys.ARROW_UP || keyCode === global_1.M.keys.ARROW_DOWN) {\n            e.preventDefault();\n            if (keyCode === global_1.M.keys.ARROW_UP && this.activeIndex > 0)\n                this.activeIndex--;\n            if (keyCode === global_1.M.keys.ARROW_DOWN && this.activeIndex < numItems - 1)\n                this.activeIndex++;\n            (_a = this.$active) === null || _a === void 0 ? void 0 : _a.classList.remove('active');\n            if (this.activeIndex >= 0) {\n                this.$active = this.container.querySelectorAll('li')[this.activeIndex];\n                (_b = this.$active) === null || _b === void 0 ? void 0 : _b.classList.add('active');\n                // Focus selected\n                this.container.children[this.activeIndex].scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'nearest',\n                    inline: 'nearest'\n                });\n            }\n        }\n    }\n    _handleInputClick(e) {\n        this.open();\n    }\n    _handleContainerMousedownAndTouchstart(e) {\n        this._mousedown = true;\n    }\n    _handleContainerMouseupAndTouchend(e) {\n        this._mousedown = false;\n    }\n    _resetCurrentElementPosition() {\n        var _a;\n        this.activeIndex = -1;\n        (_a = this.$active) === null || _a === void 0 ? void 0 : _a.classList.remove('active');\n    }\n    _resetAutocomplete() {\n        this.container.replaceChildren();\n        this._resetCurrentElementPosition();\n        this.oldVal = null;\n        this.isOpen = false;\n        this._mousedown = false;\n    }\n    _highlightPartialText(input, label) {\n        const start = label.toLowerCase().indexOf('' + input.toLowerCase() + '');\n        const end = start + input.length - 1;\n        //custom filters may return results where the string does not match any part\n        if (start == -1 || end == -1) {\n            return [label, '', ''];\n        }\n        return [label.slice(0, start), label.slice(start, end + 1), label.slice(end + 1)];\n    }\n    _createDropdownItem(entry) {\n        const item = document.createElement('li');\n        item.setAttribute('data-id', entry.id);\n        item.setAttribute('style', 'display:grid; grid-auto-flow: column; user-select: none; align-items: center;');\n        // Checkbox\n        if (this.options.isMultiSelect) {\n            item.innerHTML = `\n        <div class=\"item-selection\" style=\"text-align:center;\">\n        <input type=\"checkbox\"${this.selectedValues.some((sel) => sel.id === entry.id) ? ' checked=\"checked\"' : ''}><span style=\"padding-left:21px;\"></span>\n      </div>`;\n        }\n        // Image\n        if (entry.image) {\n            const img = document.createElement('img');\n            img.classList.add('circle');\n            img.src = entry.image;\n            item.appendChild(img);\n        }\n        // Text\n        const inputText = this.el.value.toLowerCase();\n        const parts = this._highlightPartialText(inputText, (entry.text || entry.id).toString());\n        const div = document.createElement('div');\n        div.setAttribute('style', 'line-height:1.2;font-weight:500;');\n        if (this.options.allowUnsafeHTML) {\n            div.innerHTML = parts[0] + '<span class=\"highlight\">' + parts[1] + '</span>' + parts[2];\n        }\n        else {\n            div.appendChild(document.createTextNode(parts[0]));\n            if (parts[1]) {\n                const highlight = document.createElement('span');\n                highlight.textContent = parts[1];\n                highlight.classList.add('highlight');\n                div.appendChild(highlight);\n                div.appendChild(document.createTextNode(parts[2]));\n            }\n        }\n        const itemText = document.createElement('div');\n        itemText.classList.add('item-text');\n        itemText.setAttribute('style', 'padding:5px;overflow:hidden;');\n        item.appendChild(itemText);\n        item.querySelector('.item-text').appendChild(div);\n        // Description\n        if (typeof entry.description === 'string' || (typeof entry.description === 'number' && !isNaN(entry.description))) {\n            const description = document.createElement('small');\n            description.setAttribute('style', 'line-height:1.3;color:grey;white-space:nowrap;text-overflow:ellipsis;display:block;width:90%;overflow:hidden;');\n            description.innerText = entry.description;\n            item.querySelector('.item-text').appendChild(description);\n        }\n        // Set Grid\n        const getGridConfig = () => {\n            if (this.options.isMultiSelect) {\n                if (entry.image)\n                    return '40px min-content auto'; // cb-img-txt\n                return '40px auto'; // cb-txt\n            }\n            if (entry.image)\n                return 'min-content auto'; // img-txt\n            return 'auto'; // txt\n        };\n        item.style.gridTemplateColumns = getGridConfig();\n        return item;\n    }\n    _renderDropdown() {\n        this._resetAutocomplete();\n        // Check if Data is empty\n        if (this.menuItems.length === 0) {\n            this.menuItems = this.selectedValues; // Show selected Items\n        }\n        for (let i = 0; i < this.menuItems.length; i++) {\n            const item = this._createDropdownItem(this.menuItems[i]);\n            this.container.append(item);\n        }\n    }\n    _setStatusLoading() {\n        this.el.parentElement.querySelector('.status-info').innerHTML = `<div style=\"height:100%;width:50px;\"><svg version=\"1.1\" id=\"L4\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\">\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"6\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.1\"/></circle>\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"26\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.2\"/></circle>\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"46\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\"  begin=\"0.3\"/></circle>\n  </svg></div>`;\n    }\n    _updateSelectedInfo() {\n        const statusElement = this.el.parentElement.querySelector('.status-info');\n        if (statusElement) {\n            if (this.options.isMultiSelect)\n                statusElement.innerHTML = this.selectedValues.length.toString();\n            else\n                statusElement.innerHTML = '';\n        }\n    }\n    _refreshInputText() {\n        if (this.selectedValues.length === 1) {\n            const entry = this.selectedValues[0];\n            this.el.value = entry.text || entry.id; // Write Text to Input\n        }\n    }\n    _triggerChanged() {\n        this.el.dispatchEvent(new Event('change'));\n        // Trigger Autocomplete Event\n        if (typeof this.options.onAutocomplete === 'function')\n            this.options.onAutocomplete.call(this, this.selectedValues);\n    }\n    open() {\n        const inputText = this.el.value.toLowerCase();\n        this._resetAutocomplete();\n        if (inputText.length >= this.options.minLength) {\n            this.isOpen = true;\n            this._renderDropdown();\n        }\n        // Open dropdown\n        if (!this.dropdown.isOpen) {\n            setTimeout(() => {\n                this.dropdown.open();\n            }, 100);\n        }\n        else\n            this.dropdown.recalculateDimensions(); // Recalculate dropdown when its already open\n    }\n    close() {\n        this.dropdown.close();\n    }\n    setMenuItems(menuItems) {\n        this.menuItems = menuItems;\n        this.open();\n        this._updateSelectedInfo();\n    }\n    setValues(entries) {\n        this.selectedValues = entries;\n        this._updateSelectedInfo();\n        if (!this.options.isMultiSelect) {\n            this._refreshInputText();\n        }\n        this._triggerChanged();\n    }\n    selectOption(id) {\n        const entry = this.menuItems.find((item) => item.id == id);\n        if (!entry)\n            return;\n        // Toggle Checkbox\n        const li = this.container.querySelector('li[data-id=\"' + id + '\"]');\n        if (!li)\n            return;\n        if (this.options.isMultiSelect) {\n            const checkbox = li.querySelector('input[type=\"checkbox\"]');\n            checkbox.checked = !checkbox.checked;\n            if (checkbox.checked)\n                this.selectedValues.push(entry);\n            else\n                this.selectedValues = this.selectedValues.filter((selectedEntry) => selectedEntry.id !== entry.id);\n            this.el.focus();\n        }\n        else {\n            // Single-Select\n            this.selectedValues = [entry];\n            this._refreshInputText();\n            this._resetAutocomplete();\n            this.close();\n        }\n        this._updateSelectedInfo();\n        this._triggerChanged();\n    }\n}\nexports.Autocomplete = Autocomplete;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXV0b2NvbXBsZXRlLnRzLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBLGlGQUF3QztBQUN4Qyx3RUFBNkI7QUFHN0IsSUFBSSxTQUFTLEdBQUc7SUFDZCxJQUFJLEVBQUUsRUFBRTtJQUNSLGNBQWMsRUFBRSxJQUFJO0lBQ3BCLGVBQWUsRUFBRTtRQUNmLDJCQUEyQjtRQUMzQixTQUFTLEVBQUUsS0FBSztRQUNoQixZQUFZLEVBQUUsS0FBSztRQUNuQixZQUFZLEVBQUUsS0FBSztLQUNwQjtJQUNELFNBQVMsRUFBRSxDQUFDO0lBQ1osYUFBYSxFQUFFLEtBQUs7SUFDcEIsUUFBUSxFQUFFLFVBQVMsSUFBSSxFQUFFLFlBQVk7UUFDbkMsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQzNELE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7aUJBQ3JCLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMvRSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM5QixDQUFDLENBQUMsQ0FBQztRQUNILFlBQVksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUNELGlCQUFpQixFQUFFLE9BQU87SUFDMUIsZUFBZSxFQUFFLEtBQUs7Q0FDdkIsQ0FBQztBQUdGLE1BQWEsWUFBYSxTQUFRLHFCQUFTO0lBc0J6QyxZQUFZLEVBQUUsRUFBRSxPQUFPO1FBQ3JCLEtBQUssQ0FBQyxZQUFZLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxFQUFVLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztRQUN2QyxJQUFJLENBQUMsT0FBTyxtQ0FBTyxZQUFZLENBQUMsUUFBUSxHQUFLLE9BQU8sQ0FBQyxDQUFDO1FBQ3RELElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0QixJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ1osSUFBSSxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFDcEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFDRCxNQUFNLEtBQUssUUFBUTtRQUNqQixPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsT0FBTztRQUN0QixPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBQ0QsTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1FBQ25CLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ3JDLE9BQU8sT0FBTyxDQUFDLGNBQWMsQ0FBQztJQUNoQyxDQUFDO0lBRUQsT0FBTztRQUNMLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQzVCLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsRUFBVSxDQUFDLGNBQWMsR0FBRyxTQUFTLENBQUM7SUFDOUMsQ0FBQztJQUVELG1CQUFtQjtRQUNqQixJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5RCxJQUFJLENBQUMsOEJBQThCLEdBQUcsSUFBSSxDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoRixJQUFJLENBQUMsd0JBQXdCLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoRSxJQUFJLENBQUMsMkNBQTJDLEdBQUcsSUFBSSxDQUFDLHNDQUFzQyxDQUFDLElBQUksQ0FDakcsSUFBSSxDQUNMLENBQUM7UUFDRixJQUFJLENBQUMsdUNBQXVDLEdBQUcsSUFBSSxDQUFDLGtDQUFrQyxDQUFDLElBQUksQ0FDekYsSUFBSSxDQUNMLENBQUM7UUFDRixJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUM3RCxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsOEJBQThCLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsOEJBQThCLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUM3QixXQUFXLEVBQ1gsSUFBSSxDQUFDLDJDQUEyQyxDQUNqRCxDQUFDO1FBQ0YsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLHVDQUF1QyxDQUFDLENBQUM7UUFDekYsSUFBSSxPQUFPLE1BQU0sQ0FBQyxZQUFZLEtBQUssV0FBVyxFQUFFO1lBQzlDLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQzdCLFlBQVksRUFDWixJQUFJLENBQUMsMkNBQTJDLENBQ2pELENBQUM7WUFDRixJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsdUNBQXVDLENBQUMsQ0FBQztTQUMzRjtJQUNILENBQUM7SUFFRCxvQkFBb0I7UUFDbEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLDhCQUE4QixDQUFDLENBQUM7UUFDMUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLDhCQUE4QixDQUFDLENBQUM7UUFDMUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDbEUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FDaEMsV0FBVyxFQUNYLElBQUksQ0FBQywyQ0FBMkMsQ0FDakQsQ0FBQztRQUNGLElBQUksQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyx1Q0FBdUMsQ0FBQyxDQUFDO1FBRTVGLElBQUksT0FBTyxNQUFNLENBQUMsWUFBWSxLQUFLLFdBQVcsRUFBRTtZQUM5QyxJQUFJLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUNoQyxZQUFZLEVBQ1osSUFBSSxDQUFDLDJDQUEyQyxDQUNqRCxDQUFDO1lBQ0YsSUFBSSxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FDaEMsVUFBVSxFQUNWLElBQUksQ0FBQyx1Q0FBdUMsQ0FDN0MsQ0FBQztTQUNIO0lBQ0gsQ0FBQztJQUVELGNBQWM7UUFDWixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUM7UUFDaEUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEdBQUcsd0JBQXdCLFVBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO1FBQ3ZELElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRXZELG1FQUFtRTtRQUNuRSxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRWxELHNCQUFzQjtRQUN0QixJQUFJLGVBQWUsbUNBQ2QsWUFBWSxDQUFDLFFBQVEsQ0FBQyxlQUFlLEdBQ3JDLElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUNoQyxDQUFDO1FBQ0YsSUFBSSxlQUFlLEdBQUcsZUFBZSxDQUFDLFdBQVcsQ0FBQztRQUNsRCwyRkFBMkY7UUFDM0YsZUFBZSxDQUFDLFdBQVcsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ25DLElBQUksQ0FBQyxFQUFFO2dCQUFFLE9BQU87WUFDaEIsTUFBTSxPQUFPLEdBQUcsRUFBRSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMzQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzNCLDZDQUE2QztZQUM3QyxJQUFJLGVBQWUsSUFBSSxPQUFPLGVBQWUsS0FBSyxVQUFVO2dCQUMxRCxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2pELENBQUMsQ0FBQztRQUNGLElBQUksQ0FBQyxRQUFRLEdBQUcsVUFBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxlQUFlLENBQUMsQ0FBQztRQUUxRCw4Q0FBOEM7UUFDOUMscUNBQXFDO1FBQ3JDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMzRCxJQUFJLEtBQUs7WUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVoQyw0Q0FBNEM7UUFDNUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3RFLG1DQUFtQztRQUNuQyxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSztZQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNwRCxpQkFBaUI7UUFDakIsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxQyxHQUFHLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNqQyxHQUFHLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxtQ0FBbUMsQ0FBQyxDQUFDO1FBQy9ELElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBRUQsZUFBZTtRQUNiLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVELGdCQUFnQjtRQUNkLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ3BCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNiLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1NBQzNCO0lBQ0gsQ0FBQztJQUVELHlCQUF5QixDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLE9BQU87WUFBRSxZQUFZLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUN0RCxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ2hELDBDQUEwQztRQUMxQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQyxPQUFPLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQyxPQUFPLEtBQUssRUFBRTtZQUFFLE9BQU87UUFDckUsaUNBQWlDO1FBQ2pDLGtDQUFrQztRQUNsQyxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssV0FBVyxJQUFJLENBQUMsVUFBQyxDQUFDLFVBQVUsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLE9BQU8sQ0FBQyxFQUFFO1lBQ3ZFLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNiO1FBQ0QscUJBQXFCO1FBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxXQUFXLEVBQUU7WUFDL0IsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDekIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDNUM7UUFDRCx5Q0FBeUM7UUFDekMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDN0QsSUFBSSxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUM7WUFDekIsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQ3hCO1FBQ0QsSUFBSSxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUM7SUFDNUIsQ0FBQztJQUVELG1CQUFtQixDQUFDLENBQUM7O1FBQ25CLFlBQVksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQzdCLGlDQUFpQztRQUNqQyxNQUFNLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQzFCLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDO1FBQzlELDBCQUEwQjtRQUMxQixJQUFJLE9BQU8sS0FBSyxVQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsRUFBRTtZQUNyRCxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUMxRSxJQUFJLFNBQVMsRUFBRTtnQkFDYixJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDckQsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO2FBQ3BCO1lBQ0QsT0FBTztTQUNSO1FBQ0QsMEJBQTBCO1FBQzFCLElBQUksT0FBTyxLQUFLLFVBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLE9BQU8sS0FBSyxVQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNoRSxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDbkIsSUFBSSxPQUFPLEtBQUssVUFBQyxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDO2dCQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUM1RSxJQUFJLE9BQU8sS0FBSyxVQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLFFBQVEsR0FBRyxDQUFDO2dCQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUN6RixVQUFJLENBQUMsT0FBTywwQ0FBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3pDLElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSSxDQUFDLEVBQUU7Z0JBQ3pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQ3ZFLFVBQUksQ0FBQyxPQUFPLDBDQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3RDLGlCQUFpQjtnQkFDakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLGNBQWMsQ0FBQztvQkFDdkQsUUFBUSxFQUFFLFFBQVE7b0JBQ2xCLEtBQUssRUFBRSxTQUFTO29CQUNoQixNQUFNLEVBQUUsU0FBUztpQkFDbEIsQ0FBQyxDQUFDO2FBQ0o7U0FDRjtJQUNILENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxDQUFDO1FBQ2pCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFRCxzQ0FBc0MsQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxrQ0FBa0MsQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO0lBQzFCLENBQUM7SUFFRCw0QkFBNEI7O1FBQzFCLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEIsVUFBSSxDQUFDLE9BQU8sMENBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsa0JBQWtCO1FBQ2hCLElBQUksQ0FBQyxTQUFTLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDakMsSUFBSSxDQUFDLDRCQUE0QixFQUFFLENBQUM7UUFDcEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7SUFDMUIsQ0FBQztJQUVELHFCQUFxQixDQUFDLEtBQUssRUFBRSxLQUFLO1FBQ2hDLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxHQUFHLEtBQUssQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUN6RSxNQUFNLEdBQUcsR0FBRyxLQUFLLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDckMsNEVBQTRFO1FBQzVFLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRTtZQUM1QixPQUFPLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUN4QjtRQUNELE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwRixDQUFDO0lBRUQsbUJBQW1CLENBQUMsS0FBSztRQUN2QixNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsWUFBWSxDQUNmLE9BQU8sRUFDUCwrRUFBK0UsQ0FDaEYsQ0FBQztRQUNGLFdBQVc7UUFDWCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFO1lBQzlCLElBQUksQ0FBQyxTQUFTLEdBQUc7O2dDQUdiLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLEVBQ2xGO2FBQ0ssQ0FBQztTQUNUO1FBQ0QsUUFBUTtRQUNSLElBQUksS0FBSyxDQUFDLEtBQUssRUFBRTtZQUNmLE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDMUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDNUIsR0FBRyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDdkI7UUFFRCxPQUFPO1FBQ1AsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDOUMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDekYsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxQyxHQUFHLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxrQ0FBa0MsQ0FBQyxDQUFDO1FBQzlELElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLEVBQUU7WUFDaEMsR0FBRyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsMEJBQTBCLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDekY7YUFBTTtZQUNMLEdBQUcsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25ELElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUNaLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ2pELFNBQVMsQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNqQyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDckMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDM0IsR0FBRyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDcEQ7U0FDRjtRQUVELE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0MsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDcEMsUUFBUSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsOEJBQThCLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2xELGNBQWM7UUFDZCxJQUFJLE9BQU8sS0FBSyxDQUFDLFdBQVcsS0FBSyxRQUFRLElBQUksQ0FBQyxPQUFPLEtBQUssQ0FBQyxXQUFXLEtBQUssUUFBUSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFO1lBQ2pILE1BQU0sV0FBVyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDcEQsV0FBVyxDQUFDLFlBQVksQ0FDdEIsT0FBTyxFQUNQLCtHQUErRyxDQUNoSCxDQUFDO1lBQ0YsV0FBVyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDO1lBQzFDLElBQUksQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQzNEO1FBQ0QsV0FBVztRQUNYLE1BQU0sYUFBYSxHQUFHLEdBQUcsRUFBRTtZQUN6QixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFO2dCQUM5QixJQUFJLEtBQUssQ0FBQyxLQUFLO29CQUFFLE9BQU8sdUJBQXVCLENBQUMsQ0FBQyxhQUFhO2dCQUM5RCxPQUFPLFdBQVcsQ0FBQyxDQUFDLFNBQVM7YUFDOUI7WUFDRCxJQUFJLEtBQUssQ0FBQyxLQUFLO2dCQUFFLE9BQU8sa0JBQWtCLENBQUMsQ0FBQyxVQUFVO1lBQ3RELE9BQU8sTUFBTSxDQUFDLENBQUMsTUFBTTtRQUN2QixDQUFDLENBQUM7UUFDRixJQUFJLENBQUMsS0FBSyxDQUFDLG1CQUFtQixHQUFHLGFBQWEsRUFBRSxDQUFDO1FBQ2pELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELGVBQWU7UUFDYixJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUMxQix5QkFBeUI7UUFDekIsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDL0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsc0JBQXNCO1NBQzdEO1FBQ0QsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzlDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDN0I7SUFDSCxDQUFDO0lBRUQsaUJBQWlCO1FBQ2YsSUFBSSxDQUFDLEVBQUUsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUNqQyxjQUFjLENBQ2YsQ0FBQyxTQUFTLEdBQUc7Ozs7ZUFJSCxDQUFDO0lBQ2QsQ0FBQztJQUVELG1CQUFtQjtRQUNqQixNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDMUUsSUFBSSxhQUFhLEVBQUU7WUFDakIsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWE7Z0JBQUUsYUFBYSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQzs7Z0JBQzNGLGFBQWEsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1NBQ25DO0lBQ0gsQ0FBQztJQUVELGlCQUFpQjtRQUNmLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3BDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsc0JBQXNCO1NBQy9EO0lBQ0gsQ0FBQztJQUVELGVBQWU7UUFDYixJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQzNDLDZCQUE2QjtRQUM3QixJQUFJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLEtBQUssVUFBVTtZQUNuRCxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBRUQsSUFBSTtRQUNGLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzlDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBQzFCLElBQUksU0FBUyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRTtZQUM5QyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNuQixJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7U0FDeEI7UUFDRCxnQkFBZ0I7UUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFO1lBQ3pCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7Z0JBQ2QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUN2QixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDVDs7WUFDSSxJQUFJLENBQUMsUUFBUSxDQUFDLHFCQUFxQixFQUFFLENBQUMsQ0FBQyw2Q0FBNkM7SUFDM0YsQ0FBQztJQUVELEtBQUs7UUFDSCxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFFRCxZQUFZLENBQUMsU0FBUztRQUNwQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDWixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBRUQsU0FBUyxDQUFDLE9BQU87UUFDZixJQUFJLENBQUMsY0FBYyxHQUFHLE9BQU8sQ0FBQztRQUM5QixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUU7WUFDL0IsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7U0FDMUI7UUFDRCxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUVELFlBQVksQ0FBQyxFQUFFO1FBQ2IsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7UUFDM0QsSUFBSSxDQUFDLEtBQUs7WUFBRSxPQUFPO1FBQ25CLGtCQUFrQjtRQUNsQixNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxjQUFjLEdBQUMsRUFBRSxHQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hFLElBQUksQ0FBQyxFQUFFO1lBQUUsT0FBTztRQUNoQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFO1lBQzlCLE1BQU0sUUFBUSxHQUEwQixFQUFFLENBQUMsYUFBYSxDQUFDLHdCQUF3QixDQUFDLENBQUM7WUFDbkYsUUFBUSxDQUFDLE9BQU8sR0FBRyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUM7WUFDckMsSUFBSSxRQUFRLENBQUMsT0FBTztnQkFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzs7Z0JBRXBELElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQzlDLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxhQUFhLENBQUMsRUFBRSxLQUFLLEtBQUssQ0FBQyxFQUFFLENBQ2pELENBQUM7WUFDSixJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ2pCO2FBQU07WUFDTCxnQkFBZ0I7WUFDaEIsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzlCLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3pCLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1lBQzFCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUNkO1FBQ0QsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQ3pCLENBQUM7Q0FDRjtBQTdhRCxvQ0E2YUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL2F1dG9jb21wbGV0ZS50cz9kZWZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuaW1wb3J0IHsgRHJvcGRvd24gfSBmcm9tIFwiLi9kcm9wZG93blwiO1xuXG5sZXQgX2RlZmF1bHRzID0ge1xuICBkYXRhOiBbXSwgLy8gQXV0b2NvbXBsZXRlIGRhdGEgc2V0XG4gIG9uQXV0b2NvbXBsZXRlOiBudWxsLCAvLyBDYWxsYmFjayBmb3Igd2hlbiBhdXRvY29tcGxldGVkXG4gIGRyb3Bkb3duT3B0aW9uczoge1xuICAgIC8vIERlZmF1bHQgZHJvcGRvd24gb3B0aW9uc1xuICAgIGF1dG9Gb2N1czogZmFsc2UsXG4gICAgY2xvc2VPbkNsaWNrOiBmYWxzZSxcbiAgICBjb3ZlclRyaWdnZXI6IGZhbHNlXG4gIH0sXG4gIG1pbkxlbmd0aDogMSwgLy8gTWluIGNoYXJhY3RlcnMgYmVmb3JlIGF1dG9jb21wbGV0ZSBzdGFydHNcbiAgaXNNdWx0aVNlbGVjdDogZmFsc2UsXG4gIG9uU2VhcmNoOiBmdW5jdGlvbih0ZXh0LCBhdXRvY29tcGxldGUpIHtcbiAgICBjb25zdCBmaWx0ZXJlZERhdGEgPSBhdXRvY29tcGxldGUub3B0aW9ucy5kYXRhLmZpbHRlcihpdGVtID0+IHtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhpdGVtKVxuICAgICAgICAubWFwKGtleSA9PiBpdGVtW2tleV0udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGV4dC50b0xvd2VyQ2FzZSgpKSA+PSAwKVxuICAgICAgICAuc29tZShpc01hdGNoID0+IGlzTWF0Y2gpO1xuICAgIH0pO1xuICAgIGF1dG9jb21wbGV0ZS5zZXRNZW51SXRlbXMoZmlsdGVyZWREYXRhKTtcbiAgfSxcbiAgbWF4RHJvcERvd25IZWlnaHQ6ICczMDBweCcsXG4gIGFsbG93VW5zYWZlSFRNTDogZmFsc2Vcbn07XG5cblxuZXhwb3J0IGNsYXNzIEF1dG9jb21wbGV0ZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIGVsOiBIVE1MSW5wdXRFbGVtZW50O1xuICBpc09wZW46IGJvb2xlYW47XG4gIGNvdW50OiBudW1iZXI7XG4gIGFjdGl2ZUluZGV4OiBudW1iZXI7XG4gIHByaXZhdGUgb2xkVmFsOiBhbnk7XG4gIHByaXZhdGUgJGlucHV0RmllbGQ6IGFueTtcbiAgcHJpdmF0ZSAkYWN0aXZlOiBIVE1MRWxlbWVudHxudWxsO1xuICBwcml2YXRlIF9tb3VzZWRvd246IGJvb2xlYW47XG4gIHByaXZhdGUgX2hhbmRsZUlucHV0Qmx1ckJvdW5kOiBhbnk7XG4gIHByaXZhdGUgX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1c0JvdW5kOiBhbnk7XG4gIHByaXZhdGUgX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kOiBhbnk7XG4gIHByaXZhdGUgX2hhbmRsZUlucHV0Q2xpY2tCb3VuZDogYW55O1xuICBwcml2YXRlIF9oYW5kbGVDb250YWluZXJNb3VzZWRvd25BbmRUb3VjaHN0YXJ0Qm91bmQ6IGFueTtcbiAgcHJpdmF0ZSBfaGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kQm91bmQ6IGFueTtcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgZHJvcGRvd246IERyb3Bkb3duO1xuICBzdGF0aWMgX2tleWRvd246IGJvb2xlYW47XG4gIHNlbGVjdGVkVmFsdWVzOiBhbnlbXTtcbiAgbWVudUl0ZW1zOiBhbnlbXTtcblxuXG4gIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgc3VwZXIoQXV0b2NvbXBsZXRlLCBlbCwgb3B0aW9ucyk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0F1dG9jb21wbGV0ZSA9IHRoaXM7XG4gICAgdGhpcy5vcHRpb25zID0gey4uLkF1dG9jb21wbGV0ZS5kZWZhdWx0cywgLi4ub3B0aW9uc307XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgICB0aGlzLmFjdGl2ZUluZGV4ID0gLTE7XG4gICAgdGhpcy5vbGRWYWw7XG4gICAgdGhpcy5zZWxlY3RlZFZhbHVlcyA9IFtdO1xuICAgIHRoaXMubWVudUl0ZW1zID0gW107XG4gICAgdGhpcy4kYWN0aXZlID0gbnVsbDtcbiAgICB0aGlzLl9tb3VzZWRvd24gPSBmYWxzZTtcbiAgICB0aGlzLl9zZXR1cERyb3Bkb3duKCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG4gIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gIH1cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgbGV0IGRvbUVsZW0gPSBlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgIHJldHVybiBkb21FbGVtLk1fQXV0b2NvbXBsZXRlO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5fcmVtb3ZlRHJvcGRvd24oKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQXV0b2NvbXBsZXRlID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLl9oYW5kbGVJbnB1dEJsdXJCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0Qmx1ci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1c0JvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRLZXl1cEFuZEZvY3VzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQgPSB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVJbnB1dENsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydEJvdW5kID0gdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydC5iaW5kKFxuICAgICAgdGhpc1xuICAgICk7XG4gICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kQm91bmQgPSB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmQuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1ckJvdW5kKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlSW5wdXRLZXl1cEFuZEZvY3VzQm91bmQpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXNCb3VuZCk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQpO1xuICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnbW91c2Vkb3duJyxcbiAgICAgIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnRCb3VuZFxuICAgICk7XG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNldXBBbmRUb3VjaGVuZEJvdW5kKTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAndG91Y2hzdGFydCcsXG4gICAgICAgIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnRCb3VuZFxuICAgICAgKTtcbiAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kQm91bmQpO1xuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1ckJvdW5kKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlSW5wdXRLZXl1cEFuZEZvY3VzQm91bmQpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXNCb3VuZCk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQpO1xuICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAnbW91c2Vkb3duJyxcbiAgICAgIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnRCb3VuZFxuICAgICk7XG4gICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNldXBBbmRUb3VjaGVuZEJvdW5kKTtcblxuICAgIGlmICh0eXBlb2Ygd2luZG93Lm9udG91Y2hzdGFydCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICd0b3VjaHN0YXJ0JyxcbiAgICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydEJvdW5kXG4gICAgICApO1xuICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3RvdWNoZW5kJyxcbiAgICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kQm91bmRcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwRHJvcGRvd24oKSB7ICAgICAgXG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLm1heEhlaWdodCA9IHRoaXMub3B0aW9ucy5tYXhEcm9wRG93bkhlaWdodDtcbiAgICB0aGlzLmNvbnRhaW5lci5pZCA9IGBhdXRvY29tcGxldGUtb3B0aW9ucy0ke00uZ3VpZCgpfWA7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYXV0b2NvbXBsZXRlLWNvbnRlbnQnLCAnZHJvcGRvd24tY29udGVudCcpO1xuICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcsIHRoaXMuY29udGFpbmVyLmlkKTtcblxuICAgIC8vICEgSXNzdWUgaW4gQ29tcG9uZW50IERyb3Bkb3duOiBfcGxhY2VEcm9wZG93biBtb3ZlcyBkb20tcG9zaXRpb25cbiAgICB0aGlzLmVsLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpOyBcblxuICAgIC8vIEluaXRpYWxpemUgZHJvcGRvd25cbiAgICBsZXQgZHJvcGRvd25PcHRpb25zID0ge1xuICAgICAgLi4uQXV0b2NvbXBsZXRlLmRlZmF1bHRzLmRyb3Bkb3duT3B0aW9ucyxcbiAgICAgIC4uLnRoaXMub3B0aW9ucy5kcm9wZG93bk9wdGlvbnNcbiAgICB9O1xuICAgIGxldCB1c2VyT25JdGVtQ2xpY2sgPSBkcm9wZG93bk9wdGlvbnMub25JdGVtQ2xpY2s7XG4gICAgLy8gRW5zdXJpbmcgdGhlIHNlbGVjdCBPcHRpb24gY2FsbCB3aGVuIHVzZXIgcGFzc2VzIGN1c3RvbSBvbkl0ZW1DbGljayBmdW5jdGlvbiB0byBkcm9wZG93blxuICAgIGRyb3Bkb3duT3B0aW9ucy5vbkl0ZW1DbGljayA9IChsaSkgPT4ge1xuICAgICAgaWYgKCFsaSkgcmV0dXJuO1xuICAgICAgY29uc3QgZW50cnlJRCA9IGxpLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xuICAgICAgdGhpcy5zZWxlY3RPcHRpb24oZW50cnlJRCk7XG4gICAgICAvLyBIYW5kbGUgdXNlciBkZWNsYXJlZCBvbkl0ZW1DbGljayBpZiBuZWVkZWRcbiAgICAgIGlmICh1c2VyT25JdGVtQ2xpY2sgJiYgdHlwZW9mIHVzZXJPbkl0ZW1DbGljayA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdXNlck9uSXRlbUNsaWNrLmNhbGwodGhpcy5kcm9wZG93biwgdGhpcy5lbCk7XG4gICAgfTtcbiAgICB0aGlzLmRyb3Bkb3duID0gTS5Ecm9wZG93bi5pbml0KHRoaXMuZWwsIGRyb3Bkb3duT3B0aW9ucyk7XG5cbiAgICAvLyAhIFdvcmthcm91bmQgZm9yIExhYmVsOiBtb3ZlIGxhYmVsIHVwIGFnYWluXG4gICAgLy8gVE9ETzogSnVzdCB1c2UgUG9wcGVySlMgaW4gZnV0dXJlIVxuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5lbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJyk7XG4gICAgaWYgKGxhYmVsKSB0aGlzLmVsLmFmdGVyKGxhYmVsKTtcblxuICAgIC8vIFNrZXRjaHkgcmVtb3ZhbCBvZiBkcm9wZG93biBjbGljayBoYW5kbGVyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZHJvcGRvd24uX2hhbmRsZUNsaWNrQm91bmQpO1xuICAgIC8vIFNldCBWYWx1ZSBpZiBhbHJlYWR5IHNldCBpbiBIVE1MXG4gICAgaWYgKHRoaXMuZWwudmFsdWUpIHRoaXMuc2VsZWN0T3B0aW9uKHRoaXMuZWwudmFsdWUpO1xuICAgIC8vIEFkZCBTdGF0dXNJbmZvXG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoJ3N0YXR1cy1pbmZvJyk7XG4gICAgZGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAncG9zaXRpb246IGFic29sdXRlO3JpZ2h0OjA7dG9wOjA7Jyk7XG4gICAgdGhpcy5lbC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGRpdik7ICAgICAgXG4gICAgdGhpcy5fdXBkYXRlU2VsZWN0ZWRJbmZvKCk7XG4gIH1cblxuICBfcmVtb3ZlRHJvcGRvd24oKSB7XG4gICAgdGhpcy5jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gIH1cblxuICBfaGFuZGxlSW5wdXRCbHVyKCkge1xuICAgIGlmICghdGhpcy5fbW91c2Vkb3duKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB0aGlzLl9yZXNldEF1dG9jb21wbGV0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXMoZSkge1xuICAgIGlmIChlLnR5cGUgPT09ICdrZXl1cCcpIEF1dG9jb21wbGV0ZS5fa2V5ZG93biA9IGZhbHNlO1xuICAgIHRoaXMuY291bnQgPSAwO1xuICAgIGNvbnN0IGFjdHVhbFZhbHVlID0gdGhpcy5lbC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgIC8vIERvbid0IGNhcHR1cmUgZW50ZXIgb3IgYXJyb3cga2V5IHVzYWdlLlxuICAgIGlmIChlLmtleUNvZGUgPT09IDEzIHx8IGUua2V5Q29kZSA9PT0gMzggfHwgZS5rZXlDb2RlID09PSA0MCkgcmV0dXJuO1xuICAgIC8vIENoZWNrIGlmIHRoZSBpbnB1dCBpc24ndCBlbXB0eVxuICAgIC8vIENoZWNrIGlmIGZvY3VzIHRyaWdnZXJlZCBieSB0YWJcbiAgICBpZiAodGhpcy5vbGRWYWwgIT09IGFjdHVhbFZhbHVlICYmIChNLnRhYlByZXNzZWQgfHwgZS50eXBlICE9PSAnZm9jdXMnKSkge1xuICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICAgIC8vIFZhbHVlIGhhcyBjaGFuZ2VkIVxuICAgIGlmICh0aGlzLm9sZFZhbCAhPT0gYWN0dWFsVmFsdWUpIHtcbiAgICAgIHRoaXMuX3NldFN0YXR1c0xvYWRpbmcoKTtcbiAgICAgIHRoaXMub3B0aW9ucy5vblNlYXJjaCh0aGlzLmVsLnZhbHVlLCB0aGlzKTtcbiAgICB9XG4gICAgLy8gUmVzZXQgU2luZ2xlLVNlbGVjdCB3aGVuIElucHV0IGNsZWFyZWRcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5pc011bHRpU2VsZWN0ICYmIHRoaXMuZWwudmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gW107XG4gICAgICB0aGlzLl90cmlnZ2VyQ2hhbmdlZCgpO1xuICAgIH1cbiAgICB0aGlzLm9sZFZhbCA9IGFjdHVhbFZhbHVlO1xuICB9XG5cbiAgX2hhbmRsZUlucHV0S2V5ZG93bihlKSB7XG4gICAgQXV0b2NvbXBsZXRlLl9rZXlkb3duID0gdHJ1ZTtcbiAgICAvLyBBcnJvdyBrZXlzIGFuZCBlbnRlciBrZXkgdXNhZ2VcbiAgICBjb25zdCBrZXlDb2RlID0gZS5rZXlDb2RlO1xuICAgIGNvbnN0IG51bUl0ZW1zID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnbGknKS5sZW5ndGg7XG4gICAgLy8gc2VsZWN0IGVsZW1lbnQgb24gRW50ZXJcbiAgICBpZiAoa2V5Q29kZSA9PT0gTS5rZXlzLkVOVEVSICYmIHRoaXMuYWN0aXZlSW5kZXggPj0gMCkge1xuICAgICAgY29uc3QgbGlFbGVtZW50ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnbGknKVt0aGlzLmFjdGl2ZUluZGV4XTtcbiAgICAgIGlmIChsaUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24obGlFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBDYXB0dXJlIHVwIGFuZCBkb3duIGtleVxuICAgIGlmIChrZXlDb2RlID09PSBNLmtleXMuQVJST1dfVVAgfHwga2V5Q29kZSA9PT0gTS5rZXlzLkFSUk9XX0RPV04pIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChrZXlDb2RlID09PSBNLmtleXMuQVJST1dfVVAgJiYgdGhpcy5hY3RpdmVJbmRleCA+IDApIHRoaXMuYWN0aXZlSW5kZXgtLTtcbiAgICAgIGlmIChrZXlDb2RlID09PSBNLmtleXMuQVJST1dfRE9XTiAmJiB0aGlzLmFjdGl2ZUluZGV4IDwgbnVtSXRlbXMgLSAxKSB0aGlzLmFjdGl2ZUluZGV4Kys7XG4gICAgICB0aGlzLiRhY3RpdmU/LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgaWYgKHRoaXMuYWN0aXZlSW5kZXggPj0gMCkge1xuICAgICAgICB0aGlzLiRhY3RpdmUgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdsaScpW3RoaXMuYWN0aXZlSW5kZXhdO1xuICAgICAgICB0aGlzLiRhY3RpdmU/LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAvLyBGb2N1cyBzZWxlY3RlZFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5jaGlsZHJlblt0aGlzLmFjdGl2ZUluZGV4XS5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgICAgICAgIGJsb2NrOiAnbmVhcmVzdCcsXG4gICAgICAgICAgaW5saW5lOiAnbmVhcmVzdCdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUlucHV0Q2xpY2soZSkge1xuICAgIHRoaXMub3BlbigpO1xuICB9XG5cbiAgX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnQoZSkge1xuICAgIHRoaXMuX21vdXNlZG93biA9IHRydWU7XG4gIH1cblxuICBfaGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kKGUpIHtcbiAgICB0aGlzLl9tb3VzZWRvd24gPSBmYWxzZTtcbiAgfVxuXG4gIF9yZXNldEN1cnJlbnRFbGVtZW50UG9zaXRpb24oKSB7XG4gICAgdGhpcy5hY3RpdmVJbmRleCA9IC0xO1xuICAgIHRoaXMuJGFjdGl2ZT8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIH1cblxuICBfcmVzZXRBdXRvY29tcGxldGUoKSB7XG4gICAgdGhpcy5jb250YWluZXIucmVwbGFjZUNoaWxkcmVuKCk7XG4gICAgdGhpcy5fcmVzZXRDdXJyZW50RWxlbWVudFBvc2l0aW9uKCk7XG4gICAgdGhpcy5vbGRWYWwgPSBudWxsO1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5fbW91c2Vkb3duID0gZmFsc2U7XG4gIH1cblxuICBfaGlnaGxpZ2h0UGFydGlhbFRleHQoaW5wdXQsIGxhYmVsKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBsYWJlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJycgKyBpbnB1dC50b0xvd2VyQ2FzZSgpICsgJycpO1xuICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgaW5wdXQubGVuZ3RoIC0gMTtcbiAgICAvL2N1c3RvbSBmaWx0ZXJzIG1heSByZXR1cm4gcmVzdWx0cyB3aGVyZSB0aGUgc3RyaW5nIGRvZXMgbm90IG1hdGNoIGFueSBwYXJ0XG4gICAgaWYgKHN0YXJ0ID09IC0xIHx8IGVuZCA9PSAtMSkge1xuICAgICAgcmV0dXJuIFtsYWJlbCwgJycsICcnXTtcbiAgICB9XG4gICAgcmV0dXJuIFtsYWJlbC5zbGljZSgwLCBzdGFydCksIGxhYmVsLnNsaWNlKHN0YXJ0LCBlbmQgKyAxKSwgbGFiZWwuc2xpY2UoZW5kICsgMSldO1xuICB9XG5cbiAgX2NyZWF0ZURyb3Bkb3duSXRlbShlbnRyeSkge1xuICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgZW50cnkuaWQpO1xuICAgIGl0ZW0uc2V0QXR0cmlidXRlKFxuICAgICAgJ3N0eWxlJyxcbiAgICAgICdkaXNwbGF5OmdyaWQ7IGdyaWQtYXV0by1mbG93OiBjb2x1bW47IHVzZXItc2VsZWN0OiBub25lOyBhbGlnbi1pdGVtczogY2VudGVyOydcbiAgICApO1xuICAgIC8vIENoZWNrYm94XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pc011bHRpU2VsZWN0KSB7XG4gICAgICBpdGVtLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cIml0ZW0tc2VsZWN0aW9uXCIgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlcjtcIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiJHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkVmFsdWVzLnNvbWUoKHNlbCkgPT4gc2VsLmlkID09PSBlbnRyeS5pZCkgPyAnIGNoZWNrZWQ9XCJjaGVja2VkXCInIDogJydcbiAgICAgICAgfT48c3BhbiBzdHlsZT1cInBhZGRpbmctbGVmdDoyMXB4O1wiPjwvc3Bhbj5cbiAgICAgIDwvZGl2PmA7XG4gICAgfVxuICAgIC8vIEltYWdlXG4gICAgaWYgKGVudHJ5LmltYWdlKSB7XG4gICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgIGltZy5jbGFzc0xpc3QuYWRkKCdjaXJjbGUnKTtcbiAgICAgIGltZy5zcmMgPSBlbnRyeS5pbWFnZTtcbiAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICB9XG5cbiAgICAvLyBUZXh0XG4gICAgY29uc3QgaW5wdXRUZXh0ID0gdGhpcy5lbC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHBhcnRzID0gdGhpcy5faGlnaGxpZ2h0UGFydGlhbFRleHQoaW5wdXRUZXh0LCAoZW50cnkudGV4dCB8fCBlbnRyeS5pZCkudG9TdHJpbmcoKSk7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbGluZS1oZWlnaHQ6MS4yO2ZvbnQtd2VpZ2h0OjUwMDsnKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmFsbG93VW5zYWZlSFRNTCkge1xuICAgICAgZGl2LmlubmVySFRNTCA9IHBhcnRzWzBdICsgJzxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0XCI+JyArIHBhcnRzWzFdICsgJzwvc3Bhbj4nICsgcGFydHNbMl07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShwYXJ0c1swXSkpO1xuICAgICAgaWYgKHBhcnRzWzFdKSB7XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgaGlnaGxpZ2h0LnRleHRDb250ZW50ID0gcGFydHNbMV07XG4gICAgICAgIGhpZ2hsaWdodC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQnKTtcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGhpZ2hsaWdodCk7XG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShwYXJ0c1syXSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaXRlbVRleHQuY2xhc3NMaXN0LmFkZCgnaXRlbS10ZXh0Jyk7XG4gICAgaXRlbVRleHQuc2V0QXR0cmlidXRlKCdzdHlsZScsICdwYWRkaW5nOjVweDtvdmVyZmxvdzpoaWRkZW47Jyk7XG4gICAgaXRlbS5hcHBlbmRDaGlsZChpdGVtVGV4dCk7XG4gICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcuaXRlbS10ZXh0JykuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAvLyBEZXNjcmlwdGlvblxuICAgIGlmICh0eXBlb2YgZW50cnkuZGVzY3JpcHRpb24gPT09ICdzdHJpbmcnIHx8ICh0eXBlb2YgZW50cnkuZGVzY3JpcHRpb24gPT09ICdudW1iZXInICYmICFpc05hTihlbnRyeS5kZXNjcmlwdGlvbikpKSB7XG4gICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NtYWxsJyk7XG4gICAgICBkZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICdzdHlsZScsXG4gICAgICAgICdsaW5lLWhlaWdodDoxLjM7Y29sb3I6Z3JleTt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpcztkaXNwbGF5OmJsb2NrO3dpZHRoOjkwJTtvdmVyZmxvdzpoaWRkZW47J1xuICAgICAgKTtcbiAgICAgIGRlc2NyaXB0aW9uLmlubmVyVGV4dCA9IGVudHJ5LmRlc2NyaXB0aW9uO1xuICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcuaXRlbS10ZXh0JykuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xuICAgIH1cbiAgICAvLyBTZXQgR3JpZFxuICAgIGNvbnN0IGdldEdyaWRDb25maWcgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmlzTXVsdGlTZWxlY3QpIHtcbiAgICAgICAgaWYgKGVudHJ5LmltYWdlKSByZXR1cm4gJzQwcHggbWluLWNvbnRlbnQgYXV0byc7IC8vIGNiLWltZy10eHRcbiAgICAgICAgcmV0dXJuICc0MHB4IGF1dG8nOyAvLyBjYi10eHRcbiAgICAgIH1cbiAgICAgIGlmIChlbnRyeS5pbWFnZSkgcmV0dXJuICdtaW4tY29udGVudCBhdXRvJzsgLy8gaW1nLXR4dFxuICAgICAgcmV0dXJuICdhdXRvJzsgLy8gdHh0XG4gICAgfTtcbiAgICBpdGVtLnN0eWxlLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBnZXRHcmlkQ29uZmlnKCk7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cblxuICBfcmVuZGVyRHJvcGRvd24oKSB7XG4gICAgdGhpcy5fcmVzZXRBdXRvY29tcGxldGUoKTtcbiAgICAvLyBDaGVjayBpZiBEYXRhIGlzIGVtcHR5XG4gICAgaWYgKHRoaXMubWVudUl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5tZW51SXRlbXMgPSB0aGlzLnNlbGVjdGVkVmFsdWVzOyAvLyBTaG93IHNlbGVjdGVkIEl0ZW1zXG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZW51SXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLl9jcmVhdGVEcm9wZG93bkl0ZW0odGhpcy5tZW51SXRlbXNbaV0pO1xuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kKGl0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRTdGF0dXNMb2FkaW5nKCkge1xuICAgIHRoaXMuZWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJy5zdGF0dXMtaW5mbydcbiAgICApLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPVwiaGVpZ2h0OjEwMCU7d2lkdGg6NTBweDtcIj48c3ZnIHZlcnNpb249XCIxLjFcIiBpZD1cIkw0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCIgdmlld0JveD1cIjAgMCAxMDAgMTAwXCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDAgMFwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XG4gICAgPGNpcmNsZSBmaWxsPVwiIzg4OGNcIiBzdHJva2U9XCJub25lXCIgY3g9XCI2XCIgY3k9XCI1MFwiIHI9XCI2XCI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cIm9wYWNpdHlcIiBkdXI9XCIxc1wiIHZhbHVlcz1cIjA7MTswXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgYmVnaW49XCIwLjFcIi8+PC9jaXJjbGU+XG4gICAgPGNpcmNsZSBmaWxsPVwiIzg4OGNcIiBzdHJva2U9XCJub25lXCIgY3g9XCIyNlwiIGN5PVwiNTBcIiByPVwiNlwiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgZHVyPVwiMXNcIiB2YWx1ZXM9XCIwOzE7MFwiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiIGJlZ2luPVwiMC4yXCIvPjwvY2lyY2xlPlxuICAgIDxjaXJjbGUgZmlsbD1cIiM4ODhjXCIgc3Ryb2tlPVwibm9uZVwiIGN4PVwiNDZcIiBjeT1cIjUwXCIgcj1cIjZcIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwib3BhY2l0eVwiIGR1cj1cIjFzXCIgdmFsdWVzPVwiMDsxOzBcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiAgYmVnaW49XCIwLjNcIi8+PC9jaXJjbGU+XG4gIDwvc3ZnPjwvZGl2PmA7XG4gIH1cblxuICBfdXBkYXRlU2VsZWN0ZWRJbmZvKCkge1xuICAgIGNvbnN0IHN0YXR1c0VsZW1lbnQgPSB0aGlzLmVsLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN0YXR1cy1pbmZvJyk7XG4gICAgaWYgKHN0YXR1c0VsZW1lbnQpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNNdWx0aVNlbGVjdCkgc3RhdHVzRWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLnNlbGVjdGVkVmFsdWVzLmxlbmd0aC50b1N0cmluZygpO1xuICAgICAgZWxzZSBzdGF0dXNFbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIF9yZWZyZXNoSW5wdXRUZXh0KCkge1xuICAgIGlmICh0aGlzLnNlbGVjdGVkVmFsdWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY29uc3QgZW50cnkgPSB0aGlzLnNlbGVjdGVkVmFsdWVzWzBdO1xuICAgICAgdGhpcy5lbC52YWx1ZSA9IGVudHJ5LnRleHQgfHwgZW50cnkuaWQ7IC8vIFdyaXRlIFRleHQgdG8gSW5wdXRcbiAgICB9XG4gIH1cblxuICBfdHJpZ2dlckNoYW5nZWQoKSB7XG4gICAgdGhpcy5lbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpO1xuICAgIC8vIFRyaWdnZXIgQXV0b2NvbXBsZXRlIEV2ZW50XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25BdXRvY29tcGxldGUgPT09ICdmdW5jdGlvbicpXG4gICAgICB0aGlzLm9wdGlvbnMub25BdXRvY29tcGxldGUuY2FsbCh0aGlzLCB0aGlzLnNlbGVjdGVkVmFsdWVzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgY29uc3QgaW5wdXRUZXh0ID0gdGhpcy5lbC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMuX3Jlc2V0QXV0b2NvbXBsZXRlKCk7XG4gICAgaWYgKGlucHV0VGV4dC5sZW5ndGggPj0gdGhpcy5vcHRpb25zLm1pbkxlbmd0aCkge1xuICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgdGhpcy5fcmVuZGVyRHJvcGRvd24oKTtcbiAgICB9XG4gICAgLy8gT3BlbiBkcm9wZG93blxuICAgIGlmICghdGhpcy5kcm9wZG93bi5pc09wZW4pIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmRyb3Bkb3duLm9wZW4oKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICAgIGVsc2UgdGhpcy5kcm9wZG93bi5yZWNhbGN1bGF0ZURpbWVuc2lvbnMoKTsgLy8gUmVjYWxjdWxhdGUgZHJvcGRvd24gd2hlbiBpdHMgYWxyZWFkeSBvcGVuXG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLmRyb3Bkb3duLmNsb3NlKCk7XG4gIH1cblxuICBzZXRNZW51SXRlbXMobWVudUl0ZW1zKSB7XG4gICAgdGhpcy5tZW51SXRlbXMgPSBtZW51SXRlbXM7XG4gICAgdGhpcy5vcGVuKCk7XG4gICAgdGhpcy5fdXBkYXRlU2VsZWN0ZWRJbmZvKCk7XG4gIH1cblxuICBzZXRWYWx1ZXMoZW50cmllcykge1xuICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBlbnRyaWVzO1xuICAgIHRoaXMuX3VwZGF0ZVNlbGVjdGVkSW5mbygpO1xuICAgIGlmICghdGhpcy5vcHRpb25zLmlzTXVsdGlTZWxlY3QpIHtcbiAgICAgIHRoaXMuX3JlZnJlc2hJbnB1dFRleHQoKTtcbiAgICB9XG4gICAgdGhpcy5fdHJpZ2dlckNoYW5nZWQoKTtcbiAgfVxuXG4gIHNlbGVjdE9wdGlvbihpZCkge1xuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5tZW51SXRlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PSBpZCk7XG4gICAgaWYgKCFlbnRyeSkgcmV0dXJuO1xuICAgIC8vIFRvZ2dsZSBDaGVja2JveFxuICAgIGNvbnN0IGxpID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignbGlbZGF0YS1pZD1cIicraWQrJ1wiXScpO1xuICAgIGlmICghbGkpIHJldHVybjtcbiAgICBpZiAodGhpcy5vcHRpb25zLmlzTXVsdGlTZWxlY3QpIHtcbiAgICAgIGNvbnN0IGNoZWNrYm94ID0gPEhUTUxJbnB1dEVsZW1lbnR8bnVsbD5saS5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSAhY2hlY2tib3guY2hlY2tlZDtcbiAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB0aGlzLnNlbGVjdGVkVmFsdWVzLnB1c2goZW50cnkpO1xuICAgICAgZWxzZVxuICAgICAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gdGhpcy5zZWxlY3RlZFZhbHVlcy5maWx0ZXIoXG4gICAgICAgICAgKHNlbGVjdGVkRW50cnkpID0+IHNlbGVjdGVkRW50cnkuaWQgIT09IGVudHJ5LmlkXG4gICAgICAgICk7XG4gICAgICB0aGlzLmVsLmZvY3VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNpbmdsZS1TZWxlY3RcbiAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBbZW50cnldO1xuICAgICAgdGhpcy5fcmVmcmVzaElucHV0VGV4dCgpO1xuICAgICAgdGhpcy5fcmVzZXRBdXRvY29tcGxldGUoKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlU2VsZWN0ZWRJbmZvKCk7XG4gICAgdGhpcy5fdHJpZ2dlckNoYW5nZWQoKTtcbiAgfVxufVxuICAgXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/autocomplete.ts\n");

/***/ }),

/***/ "./src/buttons.ts":
/*!************************!*\
  !*** ./src/buttons.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FloatingActionButton = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nlet _defaults = {\n    direction: 'top',\n    hoverEnabled: true,\n    toolbarEnabled: false\n};\nclass FloatingActionButton extends component_1.Component {\n    constructor(el, options) {\n        super(FloatingActionButton, el, options);\n        this.el.M_FloatingActionButton = this;\n        this.options = Object.assign(Object.assign({}, FloatingActionButton.defaults), options);\n        this.isOpen = false;\n        this._anchor = this.el.querySelector('a');\n        this._menu = this.el.querySelector('ul');\n        this._floatingBtns = Array.from(this.el.querySelectorAll('ul .btn-floating'));\n        this._floatingBtnsReverse = this._floatingBtns.reverse();\n        this.offsetY = 0;\n        this.offsetX = 0;\n        this.el.classList.add(`direction-${this.options.direction}`);\n        if (this.options.direction === 'top')\n            this.offsetY = 40;\n        else if (this.options.direction === 'right')\n            this.offsetX = -40;\n        else if (this.options.direction === 'bottom')\n            this.offsetY = -40;\n        else\n            this.offsetX = 40;\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_FloatingActionButton;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_FloatingActionButton = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleFABClickBound = this._handleFABClick.bind(this);\n        this._handleOpenBound = this.open.bind(this);\n        this._handleCloseBound = this.close.bind(this);\n        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\n            this.el.addEventListener('mouseenter', this._handleOpenBound);\n            this.el.addEventListener('mouseleave', this._handleCloseBound);\n        }\n        else {\n            this.el.addEventListener('click', this._handleFABClickBound);\n        }\n    }\n    _removeEventHandlers() {\n        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\n            this.el.removeEventListener('mouseenter', this._handleOpenBound);\n            this.el.removeEventListener('mouseleave', this._handleCloseBound);\n        }\n        else {\n            this.el.removeEventListener('click', this._handleFABClickBound);\n        }\n    }\n    _handleFABClick() {\n        if (this.isOpen) {\n            this.close();\n        }\n        else {\n            this.open();\n        }\n    }\n    _handleDocumentClick(e) {\n        const elem = e.target;\n        if (elem !== this._menu)\n            this.close;\n        /*\n        if (!elem.closest(this.$menu)) {\n          this.close();\n        }*/\n    }\n    open() {\n        if (this.isOpen)\n            return;\n        if (this.options.toolbarEnabled)\n            this._animateInToolbar();\n        else\n            this._animateInFAB();\n        this.isOpen = true;\n    }\n    close() {\n        if (!this.isOpen)\n            return;\n        if (this.options.toolbarEnabled) {\n            window.removeEventListener('scroll', this._handleCloseBound, true);\n            document.body.removeEventListener('click', this._handleDocumentClickBound, true);\n            this._animateOutToolbar();\n        }\n        else {\n            this._animateOutFAB();\n        }\n        this.isOpen = false;\n    }\n    _animateInFAB() {\n        this.el.classList.add('active');\n        let time = 0;\n        this._floatingBtnsReverse.forEach((el) => {\n            (0, animejs_1.default)({\n                targets: el,\n                opacity: 1,\n                scale: [0.4, 1],\n                translateY: [this.offsetY, 0],\n                translateX: [this.offsetX, 0],\n                duration: 275,\n                delay: time,\n                easing: 'easeInOutQuad'\n            });\n            time += 40;\n        });\n    }\n    _animateOutFAB() {\n        this._floatingBtnsReverse.forEach((el) => {\n            animejs_1.default.remove(el);\n            (0, animejs_1.default)({\n                targets: el,\n                opacity: 0,\n                scale: 0.4,\n                translateY: this.offsetY,\n                translateX: this.offsetX,\n                duration: 175,\n                easing: 'easeOutQuad',\n                complete: () => {\n                    this.el.classList.remove('active');\n                }\n            });\n        });\n    }\n    _animateInToolbar() {\n        let scaleFactor;\n        let windowWidth = window.innerWidth;\n        let windowHeight = window.innerHeight;\n        let btnRect = this.el.getBoundingClientRect();\n        const backdrop = document.createElement('div');\n        backdrop.classList.add('fab-backdrop'); //  $('<div class=\"fab-backdrop\"></div>');\n        const fabColor = getComputedStyle(this._anchor).backgroundColor; // css('background-color');\n        this._anchor.append(backdrop);\n        this.offsetX = btnRect.left - windowWidth / 2 + btnRect.width / 2;\n        this.offsetY = windowHeight - btnRect.bottom;\n        scaleFactor = windowWidth / backdrop[0].clientWidth;\n        this.btnBottom = btnRect.bottom;\n        this.btnLeft = btnRect.left;\n        this.btnWidth = btnRect.width;\n        // Set initial state\n        this.el.classList.add('active');\n        this.el.style.textAlign = 'center';\n        this.el.style.width = '100%';\n        this.el.style.bottom = '0';\n        this.el.style.left = '0';\n        this.el.style.transform = 'translateX(' + this.offsetX + 'px)';\n        this.el.style.transition = 'none';\n        this._anchor.style.transform = `translateY(${this.offsetY}px`;\n        this._anchor.style.transition = 'none';\n        backdrop.style.backgroundColor = fabColor;\n        setTimeout(() => {\n            this.el.style.transform = '';\n            this.el.style.transition = 'transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s';\n            this._anchor.style.overflow = 'visible';\n            this._anchor.style.transform = '';\n            this._anchor.style.transition = 'transform .2s';\n            setTimeout(() => {\n                this.el.style.overflow = 'hidden';\n                this.el.style.backgroundColor = fabColor;\n                backdrop.style.transform = 'scale(' + scaleFactor + ')';\n                backdrop.style.transition = 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)';\n                this._menu.querySelectorAll('li > a').forEach((a) => a.style.opacity = '1');\n                // Scroll to close.\n                this._handleDocumentClickBound = this._handleDocumentClick.bind(this);\n                window.addEventListener('scroll', this._handleCloseBound, true);\n                document.body.addEventListener('click', this._handleDocumentClickBound, true);\n            }, 100);\n        }, 0);\n    }\n    _animateOutToolbar() {\n        return;\n        /*\n        let windowWidth = window.innerWidth;\n        let windowHeight = window.innerHeight;\n        let backdrop = this.$el.find('.fab-backdrop');\n        let fabColor = this.$anchor.css('background-color');\n  \n        this.offsetX = this.btnLeft - windowWidth / 2 + this.btnWidth / 2;\n        this.offsetY = windowHeight - this.btnBottom;\n  \n        // Hide backdrop\n        this.$el.removeClass('active');\n        this.$el.css({\n          'background-color': 'transparent',\n          transition: 'none'\n        });\n        // this.$anchor.css({\n        //   transition: 'none'\n        // });\n        backdrop.css({\n          transform: 'scale(0)',\n          'background-color': fabColor\n        });\n  \n        // this.$menu\n        //   .children('li')\n        //   .children('a')\n        //   .css({\n        //     opacity: ''\n        //   });\n  \n        setTimeout(() => {\n          backdrop.remove();\n  \n          // Set initial state.\n          this.$el.css({\n            'text-align': '',\n            width: '',\n            bottom: '',\n            left: '',\n            overflow: '',\n            'background-color': '',\n            transform: 'translate3d(' + -this.offsetX + 'px,0,0)'\n          });\n          // this.$anchor.css({\n          //   overflow: '',\n          //   transform: 'translate3d(0,' + this.offsetY + 'px,0)'\n          // });\n  \n          setTimeout(() => {\n            this.$el.css({\n              transform: 'translate3d(0,0,0)',\n              transition: 'transform .2s'\n            });\n            // this.$anchor.css({\n            //   transform: 'translate3d(0,0,0)',\n            //   transition: 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)'\n            // });\n          }, 20);\n        }, 200);\n        */\n    }\n}\nexports.FloatingActionButton = FloatingActionButton;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUcsd0RBQXdELENBQUM7Z0JBRXJGLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBb0IsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLENBQUM7Z0JBRS9GLG1CQUFtQjtnQkFDbkIsSUFBSSxDQUFDLHlCQUF5QixHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3RFLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUNoRSxRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDaEYsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ1IsQ0FBQztJQUtELGtCQUFrQjtRQUNoQixPQUFPO1FBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1VBMkRFO0lBQ0osQ0FBQztDQUNGO0FBM1JELG9EQTJSQyIsInNvdXJjZXMiOlsid2VicGFjazovL00vLi9zcmMvYnV0dG9ucy50cz8zZmM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxuICBsZXQgX2RlZmF1bHRzID0ge1xuICAgIGRpcmVjdGlvbjogJ3RvcCcsXG4gICAgaG92ZXJFbmFibGVkOiB0cnVlLFxuICAgIHRvb2xiYXJFbmFibGVkOiBmYWxzZVxuICB9O1xuICBcbiAgZXhwb3J0IGNsYXNzIEZsb2F0aW5nQWN0aW9uQnV0dG9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBlbDogSFRNTEVsZW1lbnQ7XG4gICAgaXNPcGVuOiBib29sZWFuO1xuICAgIHByaXZhdGUgX2FuY2hvcjogSFRNTEFuY2hvckVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfbWVudTogSFRNTEVsZW1lbnR8bnVsbDtcbiAgICBwcml2YXRlIF9mbG9hdGluZ0J0bnM6IEhUTUxFbGVtZW50W107XG4gICAgcHJpdmF0ZSBfZmxvYXRpbmdCdG5zUmV2ZXJzZTogSFRNTEVsZW1lbnRbXTtcbiAgICBvZmZzZXRZOiBudW1iZXI7XG4gICAgb2Zmc2V0WDogbnVtYmVyO1xuICAgIHByaXZhdGUgX2hhbmRsZUZBQkNsaWNrQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVPcGVuQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVDbG9zZUJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kOiAodGhpczogSFRNTEVsZW1lbnQsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnk7XG4gICAgYnRuQm90dG9tOiBudW1iZXI7XG4gICAgYnRuTGVmdDogbnVtYmVyO1xuICAgIGJ0bldpZHRoOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoRmxvYXRpbmdBY3Rpb25CdXR0b24sIGVsLCBvcHRpb25zKTtcblxuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX0Zsb2F0aW5nQWN0aW9uQnV0dG9uID0gdGhpcztcblxuICAgICAgdGhpcy5vcHRpb25zID0gey4uLkZsb2F0aW5nQWN0aW9uQnV0dG9uLmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICB0aGlzLl9hbmNob3IgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2EnKTtcbiAgICAgIHRoaXMuX21lbnUgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ3VsJyk7XG4gICAgICB0aGlzLl9mbG9hdGluZ0J0bnMgPSBBcnJheS5mcm9tKHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgndWwgLmJ0bi1mbG9hdGluZycpKTtcbiAgICAgIHRoaXMuX2Zsb2F0aW5nQnRuc1JldmVyc2UgPSB0aGlzLl9mbG9hdGluZ0J0bnMucmV2ZXJzZSgpO1xuICAgICAgdGhpcy5vZmZzZXRZID0gMDtcbiAgICAgIHRoaXMub2Zmc2V0WCA9IDA7XG5cbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZChgZGlyZWN0aW9uLSR7dGhpcy5vcHRpb25zLmRpcmVjdGlvbn1gKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAndG9wJylcbiAgICAgICAgdGhpcy5vZmZzZXRZID0gNDA7XG4gICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAncmlnaHQnKVxuICAgICAgICB0aGlzLm9mZnNldFggPSAtNDA7XG4gICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAnYm90dG9tJylcbiAgICAgICAgdGhpcy5vZmZzZXRZID0gLTQwO1xuICAgICAgZWxzZVxuICAgICAgICB0aGlzLm9mZnNldFggPSA0MDtcbiAgICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgIGxldCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgcmV0dXJuIGRvbUVsZW0uTV9GbG9hdGluZ0FjdGlvbkJ1dHRvbjtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX0Zsb2F0aW5nQWN0aW9uQnV0dG9uID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLl9oYW5kbGVGQUJDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlRkFCQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZU9wZW5Cb3VuZCA9IHRoaXMub3Blbi5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlQ2xvc2VCb3VuZCA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ob3ZlckVuYWJsZWQgJiYgIXRoaXMub3B0aW9ucy50b29sYmFyRW5hYmxlZCkge1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVPcGVuQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVDbG9zZUJvdW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVGQUJDbGlja0JvdW5kKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaG92ZXJFbmFibGVkICYmICF0aGlzLm9wdGlvbnMudG9vbGJhckVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlT3BlbkJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlQ2xvc2VCb3VuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRkFCQ2xpY2tCb3VuZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZUZBQkNsaWNrKCkge1xuICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVEb2N1bWVudENsaWNrKGUpIHtcbiAgICAgIGNvbnN0IGVsZW0gPSA8SFRNTEVsZW1lbnQ+ZS50YXJnZXQ7XG4gICAgICBpZiAoZWxlbSAhPT0gdGhpcy5fbWVudSkgdGhpcy5jbG9zZTtcbiAgICAgIC8qXG4gICAgICBpZiAoIWVsZW0uY2xvc2VzdCh0aGlzLiRtZW51KSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9Ki9cbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgaWYgKHRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRvb2xiYXJFbmFibGVkKVxuICAgICAgICB0aGlzLl9hbmltYXRlSW5Ub29sYmFyKCk7XG4gICAgICBlbHNlXG4gICAgICAgIHRoaXMuX2FuaW1hdGVJbkZBQigpO1xuICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy50b29sYmFyRW5hYmxlZCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5faGFuZGxlQ2xvc2VCb3VuZCwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQsIHRydWUpO1xuICAgICAgICB0aGlzLl9hbmltYXRlT3V0VG9vbGJhcigpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX2FuaW1hdGVPdXRGQUIoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX2FuaW1hdGVJbkZBQigpIHtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBsZXQgdGltZSA9IDA7XG4gICAgICB0aGlzLl9mbG9hdGluZ0J0bnNSZXZlcnNlLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IGVsLFxuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgc2NhbGU6IFswLjQsIDFdLFxuICAgICAgICAgIHRyYW5zbGF0ZVk6IFt0aGlzLm9mZnNldFksIDBdLFxuICAgICAgICAgIHRyYW5zbGF0ZVg6IFt0aGlzLm9mZnNldFgsIDBdLFxuICAgICAgICAgIGR1cmF0aW9uOiAyNzUsXG4gICAgICAgICAgZGVsYXk6IHRpbWUsXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0UXVhZCdcbiAgICAgICAgfSk7XG4gICAgICAgIHRpbWUgKz0gNDA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfYW5pbWF0ZU91dEZBQigpIHtcbiAgICAgIHRoaXMuX2Zsb2F0aW5nQnRuc1JldmVyc2UuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgYW5pbS5yZW1vdmUoZWwpO1xuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiBlbCxcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIHNjYWxlOiAwLjQsXG4gICAgICAgICAgdHJhbnNsYXRlWTogdGhpcy5vZmZzZXRZLFxuICAgICAgICAgIHRyYW5zbGF0ZVg6IHRoaXMub2Zmc2V0WCxcbiAgICAgICAgICBkdXJhdGlvbjogMTc1LFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2FuaW1hdGVJblRvb2xiYXIoKSB7XG4gICAgICBsZXQgc2NhbGVGYWN0b3I7XG4gICAgICBsZXQgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGxldCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICBsZXQgYnRuUmVjdCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIGNvbnN0IGJhY2tkcm9wID0gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgYmFja2Ryb3AuY2xhc3NMaXN0LmFkZCgnZmFiLWJhY2tkcm9wJyk7IC8vICAkKCc8ZGl2IGNsYXNzPVwiZmFiLWJhY2tkcm9wXCI+PC9kaXY+Jyk7XG5cbiAgICAgIGNvbnN0IGZhYkNvbG9yID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9hbmNob3IpLmJhY2tncm91bmRDb2xvcjsgLy8gY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG5cbiAgICAgIHRoaXMuX2FuY2hvci5hcHBlbmQoYmFja2Ryb3ApO1xuXG4gICAgICB0aGlzLm9mZnNldFggPSBidG5SZWN0LmxlZnQgLSB3aW5kb3dXaWR0aCAvIDIgKyBidG5SZWN0LndpZHRoIC8gMjtcbiAgICAgIHRoaXMub2Zmc2V0WSA9IHdpbmRvd0hlaWdodCAtIGJ0blJlY3QuYm90dG9tO1xuICAgICAgc2NhbGVGYWN0b3IgPSB3aW5kb3dXaWR0aCAvIGJhY2tkcm9wWzBdLmNsaWVudFdpZHRoO1xuICAgICAgdGhpcy5idG5Cb3R0b20gPSBidG5SZWN0LmJvdHRvbTtcbiAgICAgIHRoaXMuYnRuTGVmdCA9IGJ0blJlY3QubGVmdDtcbiAgICAgIHRoaXMuYnRuV2lkdGggPSBidG5SZWN0LndpZHRoO1xuXG4gICAgICAvLyBTZXQgaW5pdGlhbCBzdGF0ZVxuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMuZWwuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICB0aGlzLmVsLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgdGhpcy5lbC5zdHlsZS5ib3R0b20gPSAnMCc7XG4gICAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICB0aGlzLmVsLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKCcgKyB0aGlzLm9mZnNldFggKyAncHgpJztcbiAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcblxuICAgICAgdGhpcy5fYW5jaG9yLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7dGhpcy5vZmZzZXRZfXB4YDtcbiAgICAgIHRoaXMuX2FuY2hvci5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuXG4gICAgICAoPEhUTUxFbGVtZW50PmJhY2tkcm9wKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBmYWJDb2xvcjtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNpdGlvbiAgPSAndHJhbnNmb3JtIC4ycyBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDg1LCAwLjY4MCwgMC41MzApLCBiYWNrZ3JvdW5kLWNvbG9yIDBzIGxpbmVhciAuMnMnO1xuXG4gICAgICAgIHRoaXMuX2FuY2hvci5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgICAgdGhpcy5fYW5jaG9yLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICB0aGlzLl9hbmNob3Iuc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gLjJzJztcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBmYWJDb2xvcjtcblxuICAgICAgICAgIGJhY2tkcm9wLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgnICsgc2NhbGVGYWN0b3IgKyAnKSc7XG4gICAgICAgICAgYmFja2Ryb3Auc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gLjJzIGN1YmljLWJlemllcigwLjU1MCwgMC4wNTUsIDAuNjc1LCAwLjE5MCknO1xuXG4gICAgICAgICAgdGhpcy5fbWVudS5xdWVyeVNlbGVjdG9yQWxsKCdsaSA+IGEnKS5mb3JFYWNoKChhOiBIVE1MQW5jaG9yRWxlbWVudCkgPT4gYS5zdHlsZS5vcGFjaXR5ID0gJzEnKTtcblxuICAgICAgICAgIC8vIFNjcm9sbCB0byBjbG9zZS5cbiAgICAgICAgICB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2hhbmRsZUNsb3NlQm91bmQsIHRydWUpO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQsIHRydWUpO1xuICAgICAgICB9LCAxMDApO1xuICAgICAgfSwgMCk7XG4gICAgfVxuXG5cblxuXG4gICAgX2FuaW1hdGVPdXRUb29sYmFyKCkge1xuICAgICAgcmV0dXJuO1xuICAgICAgLypcbiAgICAgIGxldCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgbGV0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIGxldCBiYWNrZHJvcCA9IHRoaXMuJGVsLmZpbmQoJy5mYWItYmFja2Ryb3AnKTtcbiAgICAgIGxldCBmYWJDb2xvciA9IHRoaXMuJGFuY2hvci5jc3MoJ2JhY2tncm91bmQtY29sb3InKTtcblxuICAgICAgdGhpcy5vZmZzZXRYID0gdGhpcy5idG5MZWZ0IC0gd2luZG93V2lkdGggLyAyICsgdGhpcy5idG5XaWR0aCAvIDI7XG4gICAgICB0aGlzLm9mZnNldFkgPSB3aW5kb3dIZWlnaHQgLSB0aGlzLmJ0bkJvdHRvbTtcblxuICAgICAgLy8gSGlkZSBiYWNrZHJvcFxuICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy4kZWwuY3NzKHtcbiAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICB0cmFuc2l0aW9uOiAnbm9uZSdcbiAgICAgIH0pO1xuICAgICAgLy8gdGhpcy4kYW5jaG9yLmNzcyh7XG4gICAgICAvLyAgIHRyYW5zaXRpb246ICdub25lJ1xuICAgICAgLy8gfSk7XG4gICAgICBiYWNrZHJvcC5jc3Moe1xuICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSgwKScsXG4gICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogZmFiQ29sb3JcbiAgICAgIH0pO1xuXG4gICAgICAvLyB0aGlzLiRtZW51XG4gICAgICAvLyAgIC5jaGlsZHJlbignbGknKVxuICAgICAgLy8gICAuY2hpbGRyZW4oJ2EnKVxuICAgICAgLy8gICAuY3NzKHtcbiAgICAgIC8vICAgICBvcGFjaXR5OiAnJ1xuICAgICAgLy8gICB9KTtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGJhY2tkcm9wLnJlbW92ZSgpO1xuXG4gICAgICAgIC8vIFNldCBpbml0aWFsIHN0YXRlLlxuICAgICAgICB0aGlzLiRlbC5jc3Moe1xuICAgICAgICAgICd0ZXh0LWFsaWduJzogJycsXG4gICAgICAgICAgd2lkdGg6ICcnLFxuICAgICAgICAgIGJvdHRvbTogJycsXG4gICAgICAgICAgbGVmdDogJycsXG4gICAgICAgICAgb3ZlcmZsb3c6ICcnLFxuICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJycsXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoJyArIC10aGlzLm9mZnNldFggKyAncHgsMCwwKSdcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHRoaXMuJGFuY2hvci5jc3Moe1xuICAgICAgICAvLyAgIG92ZXJmbG93OiAnJyxcbiAgICAgICAgLy8gICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwLCcgKyB0aGlzLm9mZnNldFkgKyAncHgsMCknXG4gICAgICAgIC8vIH0pO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuJGVsLmNzcyh7XG4gICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwLDAsMCknLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAuMnMnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gdGhpcy4kYW5jaG9yLmNzcyh7XG4gICAgICAgICAgLy8gICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwLDAsMCknLFxuICAgICAgICAgIC8vICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAuMnMgY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwKSdcbiAgICAgICAgICAvLyB9KTtcbiAgICAgICAgfSwgMjApO1xuICAgICAgfSwgMjAwKTtcbiAgICAgICovXG4gICAgfVxuICB9XG5cbiAgIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/buttons.ts\n");

/***/ }),

/***/ "./src/cards.ts":
/*!**********************!*\
  !*** ./src/cards.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Cards = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nclass Cards {\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            document.body.addEventListener('click', e => {\n                const trigger = e.target;\n                const card = trigger.closest('.card');\n                if (!card)\n                    return;\n                const cardReveal = Array.from(card.children).find(elem => elem.classList.contains('card-reveal'));\n                if (!cardReveal)\n                    return;\n                const initialOverflow = getComputedStyle(card).overflow;\n                // Close Card        \n                const closeArea = cardReveal.querySelector('.card-reveal .card-title');\n                if (trigger === closeArea || closeArea.contains(trigger)) {\n                    (0, animejs_1.default)({\n                        targets: cardReveal,\n                        translateY: 0,\n                        duration: 225,\n                        easing: 'easeInOutQuad',\n                        complete: (anim) => {\n                            cardReveal.style.display = 'none';\n                            card.style.overflow = initialOverflow;\n                        }\n                    });\n                }\n                ;\n                // Reveal Card\n                const activators = card.querySelectorAll('.activator');\n                activators.forEach(activator => {\n                    if (trigger === activator || activator.contains(trigger)) {\n                        card.style.overflow = 'hidden';\n                        cardReveal.style.display = 'block';\n                        (0, animejs_1.default)({\n                            targets: cardReveal,\n                            translateY: '-100%',\n                            duration: 300,\n                            easing: 'easeInOutQuad'\n                        });\n                    }\n                });\n            });\n        });\n    }\n}\nexports.Cards = Cards;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2FyZHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsZ0hBQTJCO0FBRTNCLE1BQWEsS0FBSztJQUVoQixNQUFNLENBQUMsSUFBSTtRQUVULFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7WUFDakQsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUU7Z0JBQzFDLE1BQU0sT0FBTyxHQUFnQixDQUFDLENBQUMsTUFBTSxDQUFDO2dCQUV0QyxNQUFNLElBQUksR0FBZ0IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDbkQsSUFBSSxDQUFDLElBQUk7b0JBQUUsT0FBTztnQkFFbEIsTUFBTSxVQUFVLEdBQXFCLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BILElBQUksQ0FBQyxVQUFVO29CQUFFLE9BQU87Z0JBQ3hCLE1BQU0sZUFBZSxHQUFHLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQztnQkFFeEQscUJBQXFCO2dCQUNyQixNQUFNLFNBQVMsR0FBRyxVQUFVLENBQUMsYUFBYSxDQUFDLDBCQUEwQixDQUFDLENBQUM7Z0JBQ3ZFLElBQUksT0FBTyxLQUFLLFNBQVMsSUFBSSxTQUFTLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFO29CQUN4RCxxQkFBSSxFQUFDO3dCQUNILE9BQU8sRUFBRSxVQUFVO3dCQUNuQixVQUFVLEVBQUUsQ0FBQzt3QkFDYixRQUFRLEVBQUUsR0FBRzt3QkFDYixNQUFNLEVBQUUsZUFBZTt3QkFDdkIsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7NEJBQ2pCLFVBQVUsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQzs0QkFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsZUFBZSxDQUFDO3dCQUN4QyxDQUFDO3FCQUNGLENBQUMsQ0FBQztpQkFDSjtnQkFBQSxDQUFDO2dCQUVGLGNBQWM7Z0JBQ2QsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUN2RCxVQUFVLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFO29CQUM3QixJQUFJLE9BQU8sS0FBSyxTQUFTLElBQUksU0FBUyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRTt3QkFDeEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO3dCQUMvQixVQUFVLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7d0JBQ25DLHFCQUFJLEVBQUM7NEJBQ0gsT0FBTyxFQUFFLFVBQVU7NEJBQ25CLFVBQVUsRUFBRSxPQUFPOzRCQUNuQixRQUFRLEVBQUUsR0FBRzs0QkFDYixNQUFNLEVBQUUsZUFBZTt5QkFDeEIsQ0FBQyxDQUFDO3FCQUNKO2dCQUNILENBQUMsQ0FBQyxDQUFDO1lBR0wsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUVMLENBQUM7Q0FDRjtBQWxERCxzQkFrREMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL2NhcmRzLnRzPzEzNjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxuZXhwb3J0IGNsYXNzIENhcmRzIHtcblxuICBzdGF0aWMgSW5pdCgpIHtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IDxIVE1MRWxlbWVudD5lLnRhcmdldDtcblxuICAgICAgICBjb25zdCBjYXJkOiBIVE1MRWxlbWVudCA9IHRyaWdnZXIuY2xvc2VzdCgnLmNhcmQnKTtcbiAgICAgICAgaWYgKCFjYXJkKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY2FyZFJldmVhbCA9IDxIVE1MRWxlbWVudHxudWxsPkFycmF5LmZyb20oY2FyZC5jaGlsZHJlbikuZmluZChlbGVtID0+IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkLXJldmVhbCcpKTtcbiAgICAgICAgaWYgKCFjYXJkUmV2ZWFsKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGluaXRpYWxPdmVyZmxvdyA9IGdldENvbXB1dGVkU3R5bGUoY2FyZCkub3ZlcmZsb3c7XG5cbiAgICAgICAgLy8gQ2xvc2UgQ2FyZCAgICAgICAgXG4gICAgICAgIGNvbnN0IGNsb3NlQXJlYSA9IGNhcmRSZXZlYWwucXVlcnlTZWxlY3RvcignLmNhcmQtcmV2ZWFsIC5jYXJkLXRpdGxlJyk7XG4gICAgICAgIGlmICh0cmlnZ2VyID09PSBjbG9zZUFyZWEgfHwgY2xvc2VBcmVhLmNvbnRhaW5zKHRyaWdnZXIpKSB7XG4gICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICB0YXJnZXRzOiBjYXJkUmV2ZWFsLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMjUsXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRRdWFkJyxcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoYW5pbSkgPT4ge1xuICAgICAgICAgICAgICBjYXJkUmV2ZWFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgIGNhcmQuc3R5bGUub3ZlcmZsb3cgPSBpbml0aWFsT3ZlcmZsb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBSZXZlYWwgQ2FyZFxuICAgICAgICBjb25zdCBhY3RpdmF0b3JzID0gY2FyZC5xdWVyeVNlbGVjdG9yQWxsKCcuYWN0aXZhdG9yJyk7XG4gICAgICAgIGFjdGl2YXRvcnMuZm9yRWFjaChhY3RpdmF0b3IgPT4ge1xuICAgICAgICAgIGlmICh0cmlnZ2VyID09PSBhY3RpdmF0b3IgfHwgYWN0aXZhdG9yLmNvbnRhaW5zKHRyaWdnZXIpKSB7XG4gICAgICAgICAgICBjYXJkLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICBjYXJkUmV2ZWFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICAgIHRhcmdldHM6IGNhcmRSZXZlYWwsXG4gICAgICAgICAgICAgIHRyYW5zbGF0ZVk6ICctMTAwJScsXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VJbk91dFF1YWQnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcblxuICAgICAgfSk7ICAgICBcbiAgICB9KTtcblxuICB9ICBcbn1cbiAgIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cards.ts\n");

/***/ }),

/***/ "./src/carousel.ts":
/*!*************************!*\
  !*** ./src/carousel.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Carousel = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    duration: 200,\n    dist: -100,\n    shift: 0,\n    padding: 0,\n    numVisible: 5,\n    fullWidth: false,\n    indicators: false,\n    noWrap: false,\n    onCycleTo: null // Callback for when a new slide is cycled to.\n};\nclass Carousel extends component_1.Component {\n    constructor(el, options) {\n        var _a;\n        super(Carousel, el, options);\n        this.center = 0;\n        this.el.M_Carousel = this;\n        this.options = Object.assign(Object.assign({}, Carousel.defaults), options);\n        // Setup\n        this.hasMultipleSlides = this.el.querySelectorAll('.carousel-item').length > 1;\n        this.showIndicators = this.options.indicators && this.hasMultipleSlides;\n        this.noWrap = this.options.noWrap || !this.hasMultipleSlides;\n        this.pressed = false;\n        this.dragged = false;\n        this.offset = this.target = 0;\n        this.images = [];\n        this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\n        this.itemHeight = this.el.querySelector('.carousel-item').clientHeight;\n        this.dim = this.itemWidth * 2 + this.options.padding || 1; // Make sure dim is non zero for divisions.\n        this._autoScrollBound = this._autoScroll.bind(this);\n        this._trackBound = this._track.bind(this);\n        // Full Width carousel setup\n        if (this.options.fullWidth) {\n            this.options.dist = 0;\n            this._setCarouselHeight();\n            // Offset fixed items when indicators.\n            if (this.showIndicators) {\n                (_a = this.el.querySelector('.carousel-fixed-item')) === null || _a === void 0 ? void 0 : _a.classList.add('with-indicators');\n            }\n        }\n        // Iterate through slides\n        this._indicators = document.createElement('ul');\n        this._indicators.classList.add('indicators');\n        this.el.querySelectorAll('.carousel-item').forEach((item, i) => {\n            this.images.push(item);\n            if (this.showIndicators) {\n                const indicator = document.createElement('li');\n                indicator.classList.add('indicator-item');\n                if (i === 0) {\n                    indicator.classList.add('active');\n                }\n                this._indicators.appendChild(indicator);\n            }\n        });\n        if (this.showIndicators)\n            this.el.appendChild(this._indicators);\n        this.count = this.images.length;\n        // Cap numVisible at count\n        this.options.numVisible = Math.min(this.count, this.options.numVisible);\n        // Setup cross browser string\n        this.xform = 'transform';\n        ['webkit', 'Moz', 'O', 'ms'].every((prefix) => {\n            var e = prefix + 'Transform';\n            if (typeof document.body.style[e] !== 'undefined') {\n                this.xform = e;\n                return false;\n            }\n            return true;\n        });\n        this._setupEventHandlers();\n        this._scroll(this.offset);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Carousel;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Carousel = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleCarouselTapBound = this._handleCarouselTap.bind(this);\n        this._handleCarouselDragBound = this._handleCarouselDrag.bind(this);\n        this._handleCarouselReleaseBound = this._handleCarouselRelease.bind(this);\n        this._handleCarouselClickBound = this._handleCarouselClick.bind(this);\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.el.addEventListener('touchstart', this._handleCarouselTapBound);\n            this.el.addEventListener('touchmove', this._handleCarouselDragBound);\n            this.el.addEventListener('touchend', this._handleCarouselReleaseBound);\n        }\n        this.el.addEventListener('mousedown', this._handleCarouselTapBound);\n        this.el.addEventListener('mousemove', this._handleCarouselDragBound);\n        this.el.addEventListener('mouseup', this._handleCarouselReleaseBound);\n        this.el.addEventListener('mouseleave', this._handleCarouselReleaseBound);\n        this.el.addEventListener('click', this._handleCarouselClickBound);\n        if (this.showIndicators && this._indicators) {\n            this._handleIndicatorClickBound = this._handleIndicatorClick.bind(this);\n            this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\n                el.addEventListener('click', this._handleIndicatorClickBound);\n            });\n        }\n        // Resize\n        let throttledResize = global_1.M.throttle(this._handleResize, 200, null);\n        this._handleThrottledResizeBound = throttledResize.bind(this);\n        window.addEventListener('resize', this._handleThrottledResizeBound);\n    }\n    _removeEventHandlers() {\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.el.removeEventListener('touchstart', this._handleCarouselTapBound);\n            this.el.removeEventListener('touchmove', this._handleCarouselDragBound);\n            this.el.removeEventListener('touchend', this._handleCarouselReleaseBound);\n        }\n        this.el.removeEventListener('mousedown', this._handleCarouselTapBound);\n        this.el.removeEventListener('mousemove', this._handleCarouselDragBound);\n        this.el.removeEventListener('mouseup', this._handleCarouselReleaseBound);\n        this.el.removeEventListener('mouseleave', this._handleCarouselReleaseBound);\n        this.el.removeEventListener('click', this._handleCarouselClickBound);\n        if (this.showIndicators && this._indicators) {\n            this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\n                el.removeEventListener('click', this._handleIndicatorClickBound);\n            });\n        }\n        window.removeEventListener('resize', this._handleThrottledResizeBound);\n    }\n    _handleCarouselTap(e) {\n        // Fixes firefox draggable image bug\n        if (e.type === 'mousedown' && e.target.tagName === 'IMG') {\n            e.preventDefault();\n        }\n        this.pressed = true;\n        this.dragged = false;\n        this.verticalDragged = false;\n        this.reference = this._xpos(e);\n        this.referenceY = this._ypos(e);\n        this.velocity = this.amplitude = 0;\n        this.frame = this.offset;\n        this.timestamp = Date.now();\n        clearInterval(this.ticker);\n        this.ticker = setInterval(this._trackBound, 100);\n    }\n    _handleCarouselDrag(e) {\n        let x, y, delta, deltaY;\n        if (this.pressed) {\n            x = this._xpos(e);\n            y = this._ypos(e);\n            delta = this.reference - x;\n            deltaY = Math.abs(this.referenceY - y);\n            if (deltaY < 30 && !this.verticalDragged) {\n                // If vertical scrolling don't allow dragging.\n                if (delta > 2 || delta < -2) {\n                    this.dragged = true;\n                    this.reference = x;\n                    this._scroll(this.offset + delta);\n                }\n            }\n            else if (this.dragged) {\n                // If dragging don't allow vertical scroll.\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n            }\n            else {\n                // Vertical scrolling.\n                this.verticalDragged = true;\n            }\n        }\n        if (this.dragged) {\n            // If dragging don't allow vertical scroll.\n            e.preventDefault();\n            e.stopPropagation();\n            return false;\n        }\n    }\n    _handleCarouselRelease(e) {\n        if (this.pressed) {\n            this.pressed = false;\n        }\n        else {\n            return;\n        }\n        clearInterval(this.ticker);\n        this.target = this.offset;\n        if (this.velocity > 10 || this.velocity < -10) {\n            this.amplitude = 0.9 * this.velocity;\n            this.target = this.offset + this.amplitude;\n        }\n        this.target = Math.round(this.target / this.dim) * this.dim;\n        // No wrap of items.\n        if (this.noWrap) {\n            if (this.target >= this.dim * (this.count - 1)) {\n                this.target = this.dim * (this.count - 1);\n            }\n            else if (this.target < 0) {\n                this.target = 0;\n            }\n        }\n        this.amplitude = this.target - this.offset;\n        this.timestamp = Date.now();\n        requestAnimationFrame(this._autoScrollBound);\n        if (this.dragged) {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n        return false;\n    }\n    _handleCarouselClick(e) {\n        // Disable clicks if carousel was dragged.\n        if (this.dragged) {\n            e.preventDefault();\n            e.stopPropagation();\n            return false;\n        }\n        else if (!this.options.fullWidth) {\n            const clickedElem = e.target.closest('.carousel-item');\n            const clickedIndex = [...clickedElem.parentNode.children].indexOf(clickedElem);\n            const diff = this._wrap(this.center) - clickedIndex;\n            // Disable clicks if carousel was shifted by click\n            if (diff !== 0) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            // fixes https://github.com/materializecss/materialize/issues/180\n            if (clickedIndex < 0) {\n                // relative X position > center of carousel = clicked at the right part of the carousel\n                if (e.clientX - e.target.getBoundingClientRect().left > this.el.clientWidth / 2) {\n                    this.next();\n                }\n                else {\n                    this.prev();\n                }\n            }\n            else {\n                this._cycleTo(clickedIndex);\n            }\n        }\n    }\n    _handleIndicatorClick(e) {\n        e.stopPropagation();\n        const indicator = e.target.closest('.indicator-item');\n        if (indicator) {\n            const index = [...indicator.parentNode.children].indexOf(indicator);\n            this._cycleTo(index);\n        }\n    }\n    _handleResize(e) {\n        if (this.options.fullWidth) {\n            this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\n            this.imageHeight = this.el.querySelector('.carousel-item.active').clientHeight;\n            this.dim = this.itemWidth * 2 + this.options.padding;\n            this.offset = this.center * 2 * this.itemWidth;\n            this.target = this.offset;\n            this._setCarouselHeight(true);\n        }\n        else {\n            this._scroll();\n        }\n    }\n    _setCarouselHeight(imageOnly = false) {\n        const firstSlide = this.el.querySelector('.carousel-item.active')\n            ? this.el.querySelector('.carousel-item.active')\n            : this.el.querySelector('.carousel-item');\n        const firstImage = firstSlide.querySelector('img');\n        if (firstImage) {\n            if (firstImage.complete) {\n                // If image won't trigger the load event\n                const imageHeight = firstImage.clientHeight;\n                if (imageHeight > 0) {\n                    this.el.style.height = imageHeight + 'px';\n                }\n                else {\n                    // If image still has no height, use the natural dimensions to calculate\n                    const naturalWidth = firstImage.naturalWidth;\n                    const naturalHeight = firstImage.naturalHeight;\n                    const adjustedHeight = (this.el.clientWidth / naturalWidth) * naturalHeight;\n                    this.el.style.height = adjustedHeight + 'px';\n                }\n            }\n            else {\n                // Get height when image is loaded normally\n                firstImage.addEventListener('load', () => {\n                    this.el.style.height = firstImage.offsetHeight + 'px';\n                });\n            }\n        }\n        else if (!imageOnly) {\n            const slideHeight = firstSlide.clientHeight;\n            this.el.style.height = slideHeight + 'px';\n        }\n    }\n    _xpos(e) {\n        // touch event\n        if (e.targetTouches && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientX;\n        }\n        // mouse event\n        return e.clientX;\n    }\n    _ypos(e) {\n        // touch event\n        if (e.targetTouches && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientY;\n        }\n        // mouse event\n        return e.clientY;\n    }\n    _wrap(x) {\n        return x >= this.count\n            ? x % this.count\n            : x < 0\n                ? this._wrap(this.count + (x % this.count))\n                : x;\n    }\n    _track() {\n        let now, elapsed, delta, v;\n        now = Date.now();\n        elapsed = now - this.timestamp;\n        this.timestamp = now;\n        delta = this.offset - this.frame;\n        this.frame = this.offset;\n        v = (1000 * delta) / (1 + elapsed);\n        this.velocity = 0.8 * v + 0.2 * this.velocity;\n    }\n    _autoScroll() {\n        let elapsed, delta;\n        if (this.amplitude) {\n            elapsed = Date.now() - this.timestamp;\n            delta = this.amplitude * Math.exp(-elapsed / this.options.duration);\n            if (delta > 2 || delta < -2) {\n                this._scroll(this.target - delta);\n                requestAnimationFrame(this._autoScrollBound);\n            }\n            else {\n                this._scroll(this.target);\n            }\n        }\n    }\n    _scroll(x = 0) {\n        // Track scrolling state\n        if (!this.el.classList.contains('scrolling')) {\n            this.el.classList.add('scrolling');\n        }\n        if (this.scrollingTimeout != null) {\n            window.clearTimeout(this.scrollingTimeout);\n        }\n        this.scrollingTimeout = window.setTimeout(() => {\n            this.el.classList.remove('scrolling');\n        }, this.options.duration);\n        // Start actual scroll\n        let i, half, delta, dir, tween, el, alignment, zTranslation, tweenedOpacity, centerTweenedOpacity;\n        let lastCenter = this.center;\n        let numVisibleOffset = 1 / this.options.numVisible;\n        this.offset = typeof x === 'number' ? x : this.offset;\n        this.center = Math.floor((this.offset + this.dim / 2) / this.dim);\n        delta = this.offset - this.center * this.dim;\n        dir = delta < 0 ? 1 : -1;\n        tween = (-dir * delta * 2) / this.dim;\n        half = this.count >> 1;\n        if (this.options.fullWidth) {\n            alignment = 'translateX(0)';\n            centerTweenedOpacity = 1;\n        }\n        else {\n            alignment = 'translateX(' + (this.el.clientWidth - this.itemWidth) / 2 + 'px) ';\n            alignment += 'translateY(' + (this.el.clientHeight - this.itemHeight) / 2 + 'px)';\n            centerTweenedOpacity = 1 - numVisibleOffset * tween;\n        }\n        // Set indicator active\n        if (this.showIndicators) {\n            const diff = this.center % this.count;\n            const activeIndicator = this._indicators.querySelector('.indicator-item.active');\n            const activeIndicatorIndex = [...activeIndicator.parentNode.children].indexOf(activeIndicator);\n            if (activeIndicatorIndex !== diff) {\n                activeIndicator.classList.remove('active');\n                const pos = diff < 0 ? this.count + diff : diff;\n                this._indicators.querySelectorAll('.indicator-item')[pos].classList.add('active');\n            }\n        }\n        // center\n        // Don't show wrapped items.\n        if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\n            el = this.images[this._wrap(this.center)];\n            // Add active class to center item.\n            if (!el.classList.contains('active')) {\n                this.el.querySelector('.carousel-item').classList.remove('active');\n                el.classList.add('active');\n            }\n            let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\n                this.options.shift *\n                tween *\n                i}px) translateZ(${this.options.dist * tween}px)`;\n            this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\n        }\n        for (i = 1; i <= half; ++i) {\n            // right side\n            if (this.options.fullWidth) {\n                zTranslation = this.options.dist;\n                tweenedOpacity = i === half && delta < 0 ? 1 - tween : 1;\n            }\n            else {\n                zTranslation = this.options.dist * (i * 2 + tween * dir);\n                tweenedOpacity = 1 - numVisibleOffset * (i * 2 + tween * dir);\n            }\n            // Don't show wrapped items.\n            if (!this.noWrap || this.center + i < this.count) {\n                el = this.images[this._wrap(this.center + i)];\n                let transformString = `${alignment} translateX(${this.options.shift +\n                    (this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\n                this._updateItemStyle(el, tweenedOpacity, -i, transformString);\n            }\n            // left side\n            if (this.options.fullWidth) {\n                zTranslation = this.options.dist;\n                tweenedOpacity = i === half && delta > 0 ? 1 - tween : 1;\n            }\n            else {\n                zTranslation = this.options.dist * (i * 2 - tween * dir);\n                tweenedOpacity = 1 - numVisibleOffset * (i * 2 - tween * dir);\n            }\n            // Don't show wrapped items.\n            if (!this.noWrap || this.center - i >= 0) {\n                el = this.images[this._wrap(this.center - i)];\n                let transformString = `${alignment} translateX(${-this.options.shift +\n                    (-this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\n                this._updateItemStyle(el, tweenedOpacity, -i, transformString);\n            }\n        }\n        // center\n        // Don't show wrapped items.\n        if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\n            el = this.images[this._wrap(this.center)];\n            let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\n                this.options.shift *\n                tween}px) translateZ(${this.options.dist * tween}px)`;\n            this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\n        }\n        // onCycleTo callback\n        const _currItem = this.el.querySelectorAll('.carousel-item')[this._wrap(this.center)];\n        if (lastCenter !== this.center && typeof this.options.onCycleTo === 'function') {\n            this.options.onCycleTo.call(this, _currItem, this.dragged);\n        }\n        // One time callback\n        if (typeof this.oneTimeCallback === 'function') {\n            this.oneTimeCallback.call(this, _currItem, this.dragged);\n            this.oneTimeCallback = null;\n        }\n    }\n    _updateItemStyle(el, opacity, zIndex, transform) {\n        el.style[this.xform] = transform;\n        el.style.zIndex = zIndex.toString();\n        el.style.opacity = opacity.toString();\n        el.style.visibility = 'visible';\n    }\n    _cycleTo(n, callback = null) {\n        let diff = (this.center % this.count) - n;\n        // Account for wraparound.\n        if (!this.noWrap) {\n            if (diff < 0) {\n                if (Math.abs(diff + this.count) < Math.abs(diff)) {\n                    diff += this.count;\n                }\n            }\n            else if (diff > 0) {\n                if (Math.abs(diff - this.count) < diff) {\n                    diff -= this.count;\n                }\n            }\n        }\n        this.target = this.dim * Math.round(this.offset / this.dim);\n        // Next\n        if (diff < 0) {\n            this.target += this.dim * Math.abs(diff);\n        } // Prev\n        else if (diff > 0) {\n            this.target -= this.dim * diff;\n        }\n        // Set one time callback\n        if (typeof callback === 'function') {\n            this.oneTimeCallback = callback;\n        }\n        // Scroll\n        if (this.offset !== this.target) {\n            this.amplitude = this.target - this.offset;\n            this.timestamp = Date.now();\n            requestAnimationFrame(this._autoScrollBound);\n        }\n    }\n    next(n = 1) {\n        if (n === undefined || isNaN(n)) {\n            n = 1;\n        }\n        let index = this.center + n;\n        if (index >= this.count || index < 0) {\n            if (this.noWrap)\n                return;\n            index = this._wrap(index);\n        }\n        this._cycleTo(index);\n    }\n    prev(n = 1) {\n        if (n === undefined || isNaN(n)) {\n            n = 1;\n        }\n        let index = this.center - n;\n        if (index >= this.count || index < 0) {\n            if (this.noWrap)\n                return;\n            index = this._wrap(index);\n        }\n        this._cycleTo(index);\n    }\n    set(n, callback) {\n        if (n === undefined || isNaN(n)) {\n            n = 0;\n        }\n        if (n > this.count || n < 0) {\n            if (this.noWrap)\n                return;\n            n = this._wrap(n);\n        }\n        this._cycleTo(n, callback);\n    }\n}\nexports.Carousel = Carousel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7U0FDM0I7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxHQUFHLENBQUMsQ0FBUyxFQUFFLFFBQWtCO1FBQy9CLElBQUksQ0FBQyxLQUFLLFNBQVMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDL0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNQO1FBQ0QsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQzNCLElBQUksSUFBSSxDQUFDLE1BQU07Z0JBQUUsT0FBTztZQUN4QixDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNuQjtRQUNELElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzdCLENBQUM7Q0FDRjtBQS9rQkQsNEJBK2tCQyIsInNvdXJjZXMiOlsid2VicGFjazovL00vLi9zcmMvY2Fyb3VzZWwudHM/ZTRjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcblxuICBsZXQgX2RlZmF1bHRzID0ge1xuICAgIGR1cmF0aW9uOiAyMDAsIC8vIG1zXG4gICAgZGlzdDogLTEwMCwgLy8gem9vbSBzY2FsZSBUT0RPOiBtYWtlIHRoaXMgbW9yZSBpbnR1aXRpdmUgYXMgYW4gb3B0aW9uXG4gICAgc2hpZnQ6IDAsIC8vIHNwYWNpbmcgZm9yIGNlbnRlciBpbWFnZVxuICAgIHBhZGRpbmc6IDAsIC8vIFBhZGRpbmcgYmV0d2VlbiBub24gY2VudGVyIGl0ZW1zXG4gICAgbnVtVmlzaWJsZTogNSwgLy8gTnVtYmVyIG9mIHZpc2libGUgaXRlbXMgaW4gY2Fyb3VzZWxcbiAgICBmdWxsV2lkdGg6IGZhbHNlLCAvLyBDaGFuZ2UgdG8gZnVsbCB3aWR0aCBzdHlsZXNcbiAgICBpbmRpY2F0b3JzOiBmYWxzZSwgLy8gVG9nZ2xlIGluZGljYXRvcnNcbiAgICBub1dyYXA6IGZhbHNlLCAvLyBEb24ndCB3cmFwIGFyb3VuZCBhbmQgY3ljbGUgdGhyb3VnaCBpdGVtcy5cbiAgICBvbkN5Y2xlVG86IG51bGwgLy8gQ2FsbGJhY2sgZm9yIHdoZW4gYSBuZXcgc2xpZGUgaXMgY3ljbGVkIHRvLlxuICB9O1xuXG4gIGV4cG9ydCBjbGFzcyBDYXJvdXNlbCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgZWw6IEhUTUxFbGVtZW50O1xuICAgIGhhc011bHRpcGxlU2xpZGVzOiBib29sZWFuO1xuICAgIHNob3dJbmRpY2F0b3JzOiBib29sZWFuO1xuICAgIG5vV3JhcDogYW55O1xuICAgIHByZXNzZWQ6IGJvb2xlYW47XG4gICAgZHJhZ2dlZDogYm9vbGVhbjtcbiAgICBvZmZzZXQ6IG51bWJlcjtcbiAgICB0YXJnZXQ6IG51bWJlcjtcbiAgICBpbWFnZXM6IEhUTUxFbGVtZW50W107XG4gICAgaXRlbVdpZHRoOiBhbnk7XG4gICAgaXRlbUhlaWdodDogYW55O1xuICAgIGRpbTogbnVtYmVyO1xuICAgIF9hdXRvU2Nyb2xsQm91bmQ6IGFueTtcbiAgICBfdHJhY2tCb3VuZDogYW55O1xuICAgIF9pbmRpY2F0b3JzOiBhbnk7XG4gICAgY291bnQ6IG51bWJlcjtcbiAgICB4Zm9ybTogc3RyaW5nO1xuICAgIHByaXZhdGUgX2hhbmRsZUNhcm91c2VsVGFwQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVDYXJvdXNlbERyYWdCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUNhcm91c2VsUmVsZWFzZUJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlQ2Fyb3VzZWxDbGlja0JvdW5kOiBhbnk7XG4gICAgX2hhbmRsZUluZGljYXRvckNsaWNrQm91bmQ6IGFueTtcbiAgICBfaGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQ6IGFueTtcbiAgICB2ZXJ0aWNhbERyYWdnZWQ6IGJvb2xlYW47XG4gICAgcmVmZXJlbmNlOiBhbnk7XG4gICAgcmVmZXJlbmNlWTogYW55O1xuICAgIHZlbG9jaXR5OiBudW1iZXI7XG4gICAgZnJhbWU6IG51bWJlcjtcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgICB0aWNrZXI6IE5vZGVKUy5UaW1lcjtcbiAgICBhbXBsaXR1ZGU6IG51bWJlcjtcbiAgICBjZW50ZXI6IG51bWJlciA9IDA7XG4gICAgaW1hZ2VIZWlnaHQ6IGFueTtcbiAgICBzY3JvbGxpbmdUaW1lb3V0OiBhbnk7XG4gICAgb25lVGltZUNhbGxiYWNrOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihlbDogRWxlbWVudCwgb3B0aW9uczogT2JqZWN0KSB7XG4gICAgICBzdXBlcihDYXJvdXNlbCwgZWwsIG9wdGlvbnMpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX0Nhcm91c2VsID0gdGhpcztcbiAgICAgIHRoaXMub3B0aW9ucyA9IHsuLi5DYXJvdXNlbC5kZWZhdWx0cywgLi4ub3B0aW9uc307XG5cbiAgICAgIC8vIFNldHVwXG4gICAgICB0aGlzLmhhc011bHRpcGxlU2xpZGVzID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwtaXRlbScpLmxlbmd0aCA+IDE7XG4gICAgICB0aGlzLnNob3dJbmRpY2F0b3JzID0gdGhpcy5vcHRpb25zLmluZGljYXRvcnMgJiYgdGhpcy5oYXNNdWx0aXBsZVNsaWRlcztcbiAgICAgIHRoaXMubm9XcmFwID0gdGhpcy5vcHRpb25zLm5vV3JhcCB8fCAhdGhpcy5oYXNNdWx0aXBsZVNsaWRlcztcbiAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5kcmFnZ2VkID0gZmFsc2U7XG4gICAgICB0aGlzLm9mZnNldCA9IHRoaXMudGFyZ2V0ID0gMDtcbiAgICAgIHRoaXMuaW1hZ2VzID0gW107XG4gICAgICB0aGlzLml0ZW1XaWR0aCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWl0ZW0nKS5jbGllbnRXaWR0aDtcbiAgICAgIHRoaXMuaXRlbUhlaWdodCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWl0ZW0nKS5jbGllbnRIZWlnaHQ7XG4gICAgICB0aGlzLmRpbSA9IHRoaXMuaXRlbVdpZHRoICogMiArIHRoaXMub3B0aW9ucy5wYWRkaW5nIHx8IDE7IC8vIE1ha2Ugc3VyZSBkaW0gaXMgbm9uIHplcm8gZm9yIGRpdmlzaW9ucy5cbiAgICAgIHRoaXMuX2F1dG9TY3JvbGxCb3VuZCA9IHRoaXMuX2F1dG9TY3JvbGwuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX3RyYWNrQm91bmQgPSB0aGlzLl90cmFjay5iaW5kKHRoaXMpO1xuXG4gICAgICAvLyBGdWxsIFdpZHRoIGNhcm91c2VsIHNldHVwXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuZGlzdCA9IDA7XG4gICAgICAgIHRoaXMuX3NldENhcm91c2VsSGVpZ2h0KCk7XG5cbiAgICAgICAgLy8gT2Zmc2V0IGZpeGVkIGl0ZW1zIHdoZW4gaW5kaWNhdG9ycy5cbiAgICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMpIHtcbiAgICAgICAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1maXhlZC1pdGVtJyk/LmNsYXNzTGlzdC5hZGQoJ3dpdGgtaW5kaWNhdG9ycycpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBzbGlkZXNcbiAgICAgIHRoaXMuX2luZGljYXRvcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgdGhpcy5faW5kaWNhdG9ycy5jbGFzc0xpc3QuYWRkKCdpbmRpY2F0b3JzJyk7XG5cbiAgICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgnLmNhcm91c2VsLWl0ZW0nKS5mb3JFYWNoKChpdGVtOiBIVE1MRWxlbWVudCwgaSkgPT4ge1xuICAgICAgICB0aGlzLmltYWdlcy5wdXNoKGl0ZW0pO1xuICAgICAgICBpZiAodGhpcy5zaG93SW5kaWNhdG9ycykge1xuICAgICAgICAgIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoJ2luZGljYXRvci1pdGVtJyk7XG4gICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIGluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5faW5kaWNhdG9ycy5hcHBlbmRDaGlsZChpbmRpY2F0b3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMpXG4gICAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5faW5kaWNhdG9ycyk7XG5cbiAgICAgIHRoaXMuY291bnQgPSB0aGlzLmltYWdlcy5sZW5ndGg7XG5cbiAgICAgIC8vIENhcCBudW1WaXNpYmxlIGF0IGNvdW50XG4gICAgICB0aGlzLm9wdGlvbnMubnVtVmlzaWJsZSA9IE1hdGgubWluKHRoaXMuY291bnQsIHRoaXMub3B0aW9ucy5udW1WaXNpYmxlKTtcblxuICAgICAgLy8gU2V0dXAgY3Jvc3MgYnJvd3NlciBzdHJpbmdcbiAgICAgIHRoaXMueGZvcm0gPSAndHJhbnNmb3JtJztcbiAgICAgIFsnd2Via2l0JywgJ01veicsICdPJywgJ21zJ10uZXZlcnkoKHByZWZpeCkgPT4ge1xuICAgICAgICB2YXIgZSA9IHByZWZpeCArICdUcmFuc2Zvcm0nO1xuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50LmJvZHkuc3R5bGVbZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhpcy54Zm9ybSA9IGU7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgdGhpcy5fc2Nyb2xsKHRoaXMub2Zmc2V0KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICBsZXQgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fQ2Fyb3VzZWw7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9DYXJvdXNlbCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXBCb3VuZCA9IHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJvdXNlbERyYWdCb3VuZCA9IHRoaXMuX2hhbmRsZUNhcm91c2VsRHJhZy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlQm91bmQgPSB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2UuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcm91c2VsQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUNhcm91c2VsQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93Lm9udG91Y2hzdGFydCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXBCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlQm91bmQpO1xuICAgICAgfVxuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFRhcEJvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnQm91bmQpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlQm91bmQpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlQm91bmQpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhcm91c2VsQ2xpY2tCb3VuZCk7XG4gICAgICBpZiAodGhpcy5zaG93SW5kaWNhdG9ycyAmJiB0aGlzLl9pbmRpY2F0b3JzKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUluZGljYXRvckNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVJbmRpY2F0b3JDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9pbmRpY2F0b3JzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbmRpY2F0b3ItaXRlbScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbmRpY2F0b3JDbGlja0JvdW5kKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBSZXNpemVcbiAgICAgIGxldCB0aHJvdHRsZWRSZXNpemUgPSBNLnRocm90dGxlKHRoaXMuX2hhbmRsZVJlc2l6ZSwgMjAwLCBudWxsKTtcbiAgICAgIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kID0gdGhyb3R0bGVkUmVzaXplLmJpbmQodGhpcyk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQpO1xuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cub250b3VjaHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFRhcEJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbERyYWdCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2VCb3VuZCk7XG4gICAgICB9XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwQm91bmQpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbERyYWdCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2VCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2VCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxDbGlja0JvdW5kKTtcbiAgICAgIGlmICh0aGlzLnNob3dJbmRpY2F0b3JzICYmIHRoaXMuX2luZGljYXRvcnMpIHtcbiAgICAgICAgdGhpcy5faW5kaWNhdG9ycy5xdWVyeVNlbGVjdG9yQWxsKCcuaW5kaWNhdG9yLWl0ZW0nKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5kaWNhdG9yQ2xpY2tCb3VuZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlQ2Fyb3VzZWxUYXAoZSkge1xuICAgICAgLy8gRml4ZXMgZmlyZWZveCBkcmFnZ2FibGUgaW1hZ2UgYnVnXG4gICAgICBpZiAoZS50eXBlID09PSAnbW91c2Vkb3duJyAmJiAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS50YWdOYW1lID09PSAnSU1HJykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgICAgdGhpcy5kcmFnZ2VkID0gZmFsc2U7XG4gICAgICB0aGlzLnZlcnRpY2FsRHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5yZWZlcmVuY2UgPSB0aGlzLl94cG9zKGUpO1xuICAgICAgdGhpcy5yZWZlcmVuY2VZID0gdGhpcy5feXBvcyhlKTtcblxuICAgICAgdGhpcy52ZWxvY2l0eSA9IHRoaXMuYW1wbGl0dWRlID0gMDtcbiAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLm9mZnNldDtcbiAgICAgIHRoaXMudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aWNrZXIpO1xuICAgICAgdGhpcy50aWNrZXIgPSBzZXRJbnRlcnZhbCh0aGlzLl90cmFja0JvdW5kLCAxMDApO1xuICAgIH1cblxuICAgIF9oYW5kbGVDYXJvdXNlbERyYWcoZSkge1xuICAgICAgbGV0IHgsIHksIGRlbHRhLCBkZWx0YVk7XG4gICAgICBpZiAodGhpcy5wcmVzc2VkKSB7XG4gICAgICAgIHggPSB0aGlzLl94cG9zKGUpO1xuICAgICAgICB5ID0gdGhpcy5feXBvcyhlKTtcbiAgICAgICAgZGVsdGEgPSB0aGlzLnJlZmVyZW5jZSAtIHg7XG4gICAgICAgIGRlbHRhWSA9IE1hdGguYWJzKHRoaXMucmVmZXJlbmNlWSAtIHkpO1xuICAgICAgICBpZiAoZGVsdGFZIDwgMzAgJiYgIXRoaXMudmVydGljYWxEcmFnZ2VkKSB7XG4gICAgICAgICAgLy8gSWYgdmVydGljYWwgc2Nyb2xsaW5nIGRvbid0IGFsbG93IGRyYWdnaW5nLlxuICAgICAgICAgIGlmIChkZWx0YSA+IDIgfHwgZGVsdGEgPCAtMikge1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucmVmZXJlbmNlID0geDtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbCh0aGlzLm9mZnNldCArIGRlbHRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kcmFnZ2VkKSB7XG4gICAgICAgICAgLy8gSWYgZHJhZ2dpbmcgZG9uJ3QgYWxsb3cgdmVydGljYWwgc2Nyb2xsLlxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBWZXJ0aWNhbCBzY3JvbGxpbmcuXG4gICAgICAgICAgdGhpcy52ZXJ0aWNhbERyYWdnZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5kcmFnZ2VkKSB7XG4gICAgICAgIC8vIElmIGRyYWdnaW5nIGRvbid0IGFsbG93IHZlcnRpY2FsIHNjcm9sbC5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZUNhcm91c2VsUmVsZWFzZShlKSB7XG4gICAgICBpZiAodGhpcy5wcmVzc2VkKSB7XG4gICAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpY2tlcik7XG4gICAgICB0aGlzLnRhcmdldCA9IHRoaXMub2Zmc2V0O1xuICAgICAgaWYgKHRoaXMudmVsb2NpdHkgPiAxMCB8fCB0aGlzLnZlbG9jaXR5IDwgLTEwKSB7XG4gICAgICAgIHRoaXMuYW1wbGl0dWRlID0gMC45ICogdGhpcy52ZWxvY2l0eTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm9mZnNldCArIHRoaXMuYW1wbGl0dWRlO1xuICAgICAgfVxuICAgICAgdGhpcy50YXJnZXQgPSBNYXRoLnJvdW5kKHRoaXMudGFyZ2V0IC8gdGhpcy5kaW0pICogdGhpcy5kaW07XG4gICAgICAvLyBObyB3cmFwIG9mIGl0ZW1zLlxuICAgICAgaWYgKHRoaXMubm9XcmFwKSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldCA+PSB0aGlzLmRpbSAqICh0aGlzLmNvdW50IC0gMSkpIHtcbiAgICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuZGltICogKHRoaXMuY291bnQgLSAxKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCA8IDApIHtcbiAgICAgICAgICB0aGlzLnRhcmdldCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuYW1wbGl0dWRlID0gdGhpcy50YXJnZXQgLSB0aGlzLm9mZnNldDtcbiAgICAgIHRoaXMudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9hdXRvU2Nyb2xsQm91bmQpO1xuICAgICAgaWYgKHRoaXMuZHJhZ2dlZCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX2hhbmRsZUNhcm91c2VsQ2xpY2soZSkge1xuICAgICAgLy8gRGlzYWJsZSBjbGlja3MgaWYgY2Fyb3VzZWwgd2FzIGRyYWdnZWQuXG4gICAgICBpZiAodGhpcy5kcmFnZ2VkKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5mdWxsV2lkdGgpIHtcbiAgICAgICAgY29uc3QgY2xpY2tlZEVsZW0gPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuY2Fyb3VzZWwtaXRlbScpO1xuICAgICAgICBjb25zdCBjbGlja2VkSW5kZXggPSBbLi4uY2xpY2tlZEVsZW0ucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihjbGlja2VkRWxlbSk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSB0aGlzLl93cmFwKHRoaXMuY2VudGVyKSAtIGNsaWNrZWRJbmRleDtcbiAgICAgICAgLy8gRGlzYWJsZSBjbGlja3MgaWYgY2Fyb3VzZWwgd2FzIHNoaWZ0ZWQgYnkgY2xpY2tcbiAgICAgICAgaWYgKGRpZmYgIT09IDApIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmaXhlcyBodHRwczovL2dpdGh1Yi5jb20vbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvaXNzdWVzLzE4MFxuICAgICAgICBpZiAoY2xpY2tlZEluZGV4IDwgMCkge1xuICAgICAgICAgIC8vIHJlbGF0aXZlIFggcG9zaXRpb24gPiBjZW50ZXIgb2YgY2Fyb3VzZWwgPSBjbGlja2VkIGF0IHRoZSByaWdodCBwYXJ0IG9mIHRoZSBjYXJvdXNlbFxuICAgICAgICAgIGlmIChlLmNsaWVudFggLSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ID4gdGhpcy5lbC5jbGllbnRXaWR0aCAvIDIpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnByZXYoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fY3ljbGVUbyhjbGlja2VkSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZUluZGljYXRvckNsaWNrKGU6IEV2ZW50KSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgY29uc3QgaW5kaWNhdG9yID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnLmluZGljYXRvci1pdGVtJyk7XG4gICAgICBpZiAoaW5kaWNhdG9yKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gWy4uLmluZGljYXRvci5wYXJlbnROb2RlLmNoaWxkcmVuXS5pbmRleE9mKGluZGljYXRvcik7XG4gICAgICAgIHRoaXMuX2N5Y2xlVG8oaW5kZXgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVSZXNpemUoZSkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsV2lkdGgpIHtcbiAgICAgICAgdGhpcy5pdGVtV2lkdGggPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtJykuY2xpZW50V2lkdGg7XG4gICAgICAgIHRoaXMuaW1hZ2VIZWlnaHQgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtLmFjdGl2ZScpLmNsaWVudEhlaWdodDtcbiAgICAgICAgdGhpcy5kaW0gPSB0aGlzLml0ZW1XaWR0aCAqIDIgKyB0aGlzLm9wdGlvbnMucGFkZGluZztcbiAgICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLmNlbnRlciAqIDIgKiB0aGlzLml0ZW1XaWR0aDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm9mZnNldDtcbiAgICAgICAgdGhpcy5fc2V0Q2Fyb3VzZWxIZWlnaHQodHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fc2Nyb2xsKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldENhcm91c2VsSGVpZ2h0KGltYWdlT25seTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICBjb25zdCBmaXJzdFNsaWRlID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbS5hY3RpdmUnKVxuICAgICAgICA/IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWl0ZW0uYWN0aXZlJylcbiAgICAgICAgOiB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtJyk7XG5cbiAgICAgIGNvbnN0IGZpcnN0SW1hZ2UgPSBmaXJzdFNsaWRlLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgICAgaWYgKGZpcnN0SW1hZ2UpIHtcbiAgICAgICAgaWYgKGZpcnN0SW1hZ2UuY29tcGxldGUpIHtcbiAgICAgICAgICAvLyBJZiBpbWFnZSB3b24ndCB0cmlnZ2VyIHRoZSBsb2FkIGV2ZW50XG4gICAgICAgICAgY29uc3QgaW1hZ2VIZWlnaHQgPSBmaXJzdEltYWdlLmNsaWVudEhlaWdodDtcbiAgICAgICAgICBpZiAoaW1hZ2VIZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IGltYWdlSGVpZ2h0KydweCc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgaW1hZ2Ugc3RpbGwgaGFzIG5vIGhlaWdodCwgdXNlIHRoZSBuYXR1cmFsIGRpbWVuc2lvbnMgdG8gY2FsY3VsYXRlXG4gICAgICAgICAgICBjb25zdCBuYXR1cmFsV2lkdGggPSBmaXJzdEltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IG5hdHVyYWxIZWlnaHQgPSBmaXJzdEltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBhZGp1c3RlZEhlaWdodCA9ICh0aGlzLmVsLmNsaWVudFdpZHRoIC8gbmF0dXJhbFdpZHRoKSAqIG5hdHVyYWxIZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IGFkanVzdGVkSGVpZ2h0KydweCc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEdldCBoZWlnaHQgd2hlbiBpbWFnZSBpcyBsb2FkZWQgbm9ybWFsbHlcbiAgICAgICAgICBmaXJzdEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IGZpcnN0SW1hZ2Uub2Zmc2V0SGVpZ2h0KydweCc7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFpbWFnZU9ubHkpIHtcbiAgICAgICAgY29uc3Qgc2xpZGVIZWlnaHQgPSBmaXJzdFNsaWRlLmNsaWVudEhlaWdodDtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBzbGlkZUhlaWdodCsncHgnO1xuICAgICAgfVxuICAgIH1cblxuICAgIF94cG9zKGUpIHtcbiAgICAgIC8vIHRvdWNoIGV2ZW50XG4gICAgICBpZiAoZS50YXJnZXRUb3VjaGVzICYmIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggPj0gMSkge1xuICAgICAgICByZXR1cm4gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB9XG4gICAgICAvLyBtb3VzZSBldmVudFxuICAgICAgcmV0dXJuIGUuY2xpZW50WDtcbiAgICB9XG5cbiAgICBfeXBvcyhlKSB7XG4gICAgICAvLyB0b3VjaCBldmVudFxuICAgICAgaWYgKGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgcmV0dXJuIGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgfVxuICAgICAgLy8gbW91c2UgZXZlbnRcbiAgICAgIHJldHVybiBlLmNsaWVudFk7XG4gICAgfVxuXG4gICAgX3dyYXAoeDogbnVtYmVyKSB7XG4gICAgICByZXR1cm4geCA+PSB0aGlzLmNvdW50XG4gICAgICAgID8geCAlIHRoaXMuY291bnRcbiAgICAgICAgOiB4IDwgMFxuICAgICAgICA/IHRoaXMuX3dyYXAodGhpcy5jb3VudCArICh4ICUgdGhpcy5jb3VudCkpXG4gICAgICAgIDogeDtcbiAgICB9XG5cbiAgICBfdHJhY2soKSB7XG4gICAgICBsZXQgbm93LCBlbGFwc2VkLCBkZWx0YSwgdjtcbiAgICAgIG5vdyA9IERhdGUubm93KCk7XG4gICAgICBlbGFwc2VkID0gbm93IC0gdGhpcy50aW1lc3RhbXA7XG4gICAgICB0aGlzLnRpbWVzdGFtcCA9IG5vdztcbiAgICAgIGRlbHRhID0gdGhpcy5vZmZzZXQgLSB0aGlzLmZyYW1lO1xuICAgICAgdGhpcy5mcmFtZSA9IHRoaXMub2Zmc2V0O1xuICAgICAgdiA9ICgxMDAwICogZGVsdGEpIC8gKDEgKyBlbGFwc2VkKTtcbiAgICAgIHRoaXMudmVsb2NpdHkgPSAwLjggKiB2ICsgMC4yICogdGhpcy52ZWxvY2l0eTtcbiAgICB9XG5cbiAgICBfYXV0b1Njcm9sbCgpIHtcbiAgICAgIGxldCBlbGFwc2VkLCBkZWx0YTtcbiAgICAgIGlmICh0aGlzLmFtcGxpdHVkZSkge1xuICAgICAgICBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIHRoaXMudGltZXN0YW1wO1xuICAgICAgICBkZWx0YSA9IHRoaXMuYW1wbGl0dWRlICogTWF0aC5leHAoLWVsYXBzZWQgLyB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuICAgICAgICBpZiAoZGVsdGEgPiAyIHx8IGRlbHRhIDwgLTIpIHtcbiAgICAgICAgICB0aGlzLl9zY3JvbGwodGhpcy50YXJnZXQgLSBkZWx0YSk7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2F1dG9TY3JvbGxCb3VuZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIF9zY3JvbGwoeDogbnVtYmVyID0gMCkge1xuICAgICAgLy8gVHJhY2sgc2Nyb2xsaW5nIHN0YXRlXG4gICAgICBpZiAoIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzY3JvbGxpbmcnKSkge1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3Njcm9sbGluZycpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2Nyb2xsaW5nVGltZW91dCAhPSBudWxsKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5zY3JvbGxpbmdUaW1lb3V0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2Nyb2xsaW5nVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGxpbmcnKTtcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5kdXJhdGlvbik7XG5cbiAgICAgIC8vIFN0YXJ0IGFjdHVhbCBzY3JvbGxcbiAgICAgIGxldCBpLFxuICAgICAgICBoYWxmLFxuICAgICAgICBkZWx0YSxcbiAgICAgICAgZGlyLFxuICAgICAgICB0d2VlbixcbiAgICAgICAgZWwsXG4gICAgICAgIGFsaWdubWVudCxcbiAgICAgICAgelRyYW5zbGF0aW9uLFxuICAgICAgICB0d2VlbmVkT3BhY2l0eSxcbiAgICAgICAgY2VudGVyVHdlZW5lZE9wYWNpdHk7XG4gICAgICBsZXQgbGFzdENlbnRlciA9IHRoaXMuY2VudGVyO1xuICAgICAgbGV0IG51bVZpc2libGVPZmZzZXQgPSAxIC8gdGhpcy5vcHRpb25zLm51bVZpc2libGU7XG5cbiAgICAgIHRoaXMub2Zmc2V0ID0gdHlwZW9mIHggPT09ICdudW1iZXInID8geCA6IHRoaXMub2Zmc2V0O1xuICAgICAgdGhpcy5jZW50ZXIgPSBNYXRoLmZsb29yKCh0aGlzLm9mZnNldCArIHRoaXMuZGltIC8gMikgLyB0aGlzLmRpbSk7XG5cbiAgICAgIGRlbHRhID0gdGhpcy5vZmZzZXQgLSB0aGlzLmNlbnRlciAqIHRoaXMuZGltO1xuICAgICAgZGlyID0gZGVsdGEgPCAwID8gMSA6IC0xO1xuICAgICAgdHdlZW4gPSAoLWRpciAqIGRlbHRhICogMikgLyB0aGlzLmRpbTtcbiAgICAgIGhhbGYgPSB0aGlzLmNvdW50ID4+IDE7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbFdpZHRoKSB7XG4gICAgICAgIGFsaWdubWVudCA9ICd0cmFuc2xhdGVYKDApJztcbiAgICAgICAgY2VudGVyVHdlZW5lZE9wYWNpdHkgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGFsaWdubWVudCA9ICd0cmFuc2xhdGVYKCcgKyAodGhpcy5lbC5jbGllbnRXaWR0aCAtIHRoaXMuaXRlbVdpZHRoKSAvIDIgKyAncHgpICc7XG4gICAgICAgIGFsaWdubWVudCArPSAndHJhbnNsYXRlWSgnICsgKHRoaXMuZWwuY2xpZW50SGVpZ2h0IC0gdGhpcy5pdGVtSGVpZ2h0KSAvIDIgKyAncHgpJztcbiAgICAgICAgY2VudGVyVHdlZW5lZE9wYWNpdHkgPSAxIC0gbnVtVmlzaWJsZU9mZnNldCAqIHR3ZWVuO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgaW5kaWNhdG9yIGFjdGl2ZVxuICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMpIHtcbiAgICAgICAgY29uc3QgZGlmZiA9IHRoaXMuY2VudGVyICUgdGhpcy5jb3VudDtcbiAgICAgICAgY29uc3QgYWN0aXZlSW5kaWNhdG9yID0gdGhpcy5faW5kaWNhdG9ycy5xdWVyeVNlbGVjdG9yKCcuaW5kaWNhdG9yLWl0ZW0uYWN0aXZlJyk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUluZGljYXRvckluZGV4ID0gWy4uLmFjdGl2ZUluZGljYXRvci5wYXJlbnROb2RlLmNoaWxkcmVuXS5pbmRleE9mKGFjdGl2ZUluZGljYXRvcik7XG4gICAgICAgIGlmIChhY3RpdmVJbmRpY2F0b3JJbmRleCAhPT0gZGlmZikge1xuICAgICAgICAgIGFjdGl2ZUluZGljYXRvci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICBjb25zdCBwb3MgPSBkaWZmIDwgMCA/IHRoaXMuY291bnQgKyBkaWZmIDogZGlmZjtcbiAgICAgICAgICB0aGlzLl9pbmRpY2F0b3JzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbmRpY2F0b3ItaXRlbScpW3Bvc10uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gY2VudGVyXG4gICAgICAvLyBEb24ndCBzaG93IHdyYXBwZWQgaXRlbXMuXG4gICAgICBpZiAoIXRoaXMubm9XcmFwIHx8ICh0aGlzLmNlbnRlciA+PSAwICYmIHRoaXMuY2VudGVyIDwgdGhpcy5jb3VudCkpIHtcbiAgICAgICAgZWwgPSB0aGlzLmltYWdlc1t0aGlzLl93cmFwKHRoaXMuY2VudGVyKV07XG5cbiAgICAgICAgLy8gQWRkIGFjdGl2ZSBjbGFzcyB0byBjZW50ZXIgaXRlbS5cbiAgICAgICAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRyYW5zZm9ybVN0cmluZyA9IGAke2FsaWdubWVudH0gdHJhbnNsYXRlWCgkey1kZWx0YSAvIDJ9cHgpIHRyYW5zbGF0ZVgoJHtkaXIgKlxuICAgICAgICAgIHRoaXMub3B0aW9ucy5zaGlmdCAqXG4gICAgICAgICAgdHdlZW4gKlxuICAgICAgICAgIGl9cHgpIHRyYW5zbGF0ZVooJHt0aGlzLm9wdGlvbnMuZGlzdCAqIHR3ZWVufXB4KWA7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUl0ZW1TdHlsZShlbCwgY2VudGVyVHdlZW5lZE9wYWNpdHksIDAsIHRyYW5zZm9ybVN0cmluZyk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IDE7IGkgPD0gaGFsZjsgKytpKSB7XG4gICAgICAgIC8vIHJpZ2h0IHNpZGVcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsV2lkdGgpIHtcbiAgICAgICAgICB6VHJhbnNsYXRpb24gPSB0aGlzLm9wdGlvbnMuZGlzdDtcbiAgICAgICAgICB0d2VlbmVkT3BhY2l0eSA9IGkgPT09IGhhbGYgJiYgZGVsdGEgPCAwID8gMSAtIHR3ZWVuIDogMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB6VHJhbnNsYXRpb24gPSB0aGlzLm9wdGlvbnMuZGlzdCAqIChpICogMiArIHR3ZWVuICogZGlyKTtcbiAgICAgICAgICB0d2VlbmVkT3BhY2l0eSA9IDEgLSBudW1WaXNpYmxlT2Zmc2V0ICogKGkgKiAyICsgdHdlZW4gKiBkaXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvbid0IHNob3cgd3JhcHBlZCBpdGVtcy5cbiAgICAgICAgaWYgKCF0aGlzLm5vV3JhcCB8fCB0aGlzLmNlbnRlciArIGkgPCB0aGlzLmNvdW50KSB7XG4gICAgICAgICAgZWwgPSB0aGlzLmltYWdlc1t0aGlzLl93cmFwKHRoaXMuY2VudGVyICsgaSldO1xuICAgICAgICAgIGxldCB0cmFuc2Zvcm1TdHJpbmcgPSBgJHthbGlnbm1lbnR9IHRyYW5zbGF0ZVgoJHt0aGlzLm9wdGlvbnMuc2hpZnQgK1xuICAgICAgICAgICAgKHRoaXMuZGltICogaSAtIGRlbHRhKSAvIDJ9cHgpIHRyYW5zbGF0ZVooJHt6VHJhbnNsYXRpb259cHgpYDtcbiAgICAgICAgICB0aGlzLl91cGRhdGVJdGVtU3R5bGUoZWwsIHR3ZWVuZWRPcGFjaXR5LCAtaSwgdHJhbnNmb3JtU3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsZWZ0IHNpZGVcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsV2lkdGgpIHtcbiAgICAgICAgICB6VHJhbnNsYXRpb24gPSB0aGlzLm9wdGlvbnMuZGlzdDtcbiAgICAgICAgICB0d2VlbmVkT3BhY2l0eSA9IGkgPT09IGhhbGYgJiYgZGVsdGEgPiAwID8gMSAtIHR3ZWVuIDogMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB6VHJhbnNsYXRpb24gPSB0aGlzLm9wdGlvbnMuZGlzdCAqIChpICogMiAtIHR3ZWVuICogZGlyKTtcbiAgICAgICAgICB0d2VlbmVkT3BhY2l0eSA9IDEgLSBudW1WaXNpYmxlT2Zmc2V0ICogKGkgKiAyIC0gdHdlZW4gKiBkaXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvbid0IHNob3cgd3JhcHBlZCBpdGVtcy5cbiAgICAgICAgaWYgKCF0aGlzLm5vV3JhcCB8fCB0aGlzLmNlbnRlciAtIGkgPj0gMCkge1xuICAgICAgICAgIGVsID0gdGhpcy5pbWFnZXNbdGhpcy5fd3JhcCh0aGlzLmNlbnRlciAtIGkpXTtcbiAgICAgICAgICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gYCR7YWxpZ25tZW50fSB0cmFuc2xhdGVYKCR7LXRoaXMub3B0aW9ucy5zaGlmdCArXG4gICAgICAgICAgICAoLXRoaXMuZGltICogaSAtIGRlbHRhKSAvIDJ9cHgpIHRyYW5zbGF0ZVooJHt6VHJhbnNsYXRpb259cHgpYDtcbiAgICAgICAgICB0aGlzLl91cGRhdGVJdGVtU3R5bGUoZWwsIHR3ZWVuZWRPcGFjaXR5LCAtaSwgdHJhbnNmb3JtU3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gY2VudGVyXG4gICAgICAvLyBEb24ndCBzaG93IHdyYXBwZWQgaXRlbXMuXG4gICAgICBpZiAoIXRoaXMubm9XcmFwIHx8ICh0aGlzLmNlbnRlciA+PSAwICYmIHRoaXMuY2VudGVyIDwgdGhpcy5jb3VudCkpIHtcbiAgICAgICAgZWwgPSB0aGlzLmltYWdlc1t0aGlzLl93cmFwKHRoaXMuY2VudGVyKV07XG4gICAgICAgIGxldCB0cmFuc2Zvcm1TdHJpbmcgPSBgJHthbGlnbm1lbnR9IHRyYW5zbGF0ZVgoJHstZGVsdGEgLyAyfXB4KSB0cmFuc2xhdGVYKCR7ZGlyICpcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuc2hpZnQgKlxuICAgICAgICAgIHR3ZWVufXB4KSB0cmFuc2xhdGVaKCR7dGhpcy5vcHRpb25zLmRpc3QgKiB0d2Vlbn1weClgO1xuICAgICAgICB0aGlzLl91cGRhdGVJdGVtU3R5bGUoZWwsIGNlbnRlclR3ZWVuZWRPcGFjaXR5LCAwLCB0cmFuc2Zvcm1TdHJpbmcpO1xuICAgICAgfVxuICAgICAgLy8gb25DeWNsZVRvIGNhbGxiYWNrXG4gICAgICBjb25zdCBfY3Vyckl0ZW0gPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbC1pdGVtJylbdGhpcy5fd3JhcCh0aGlzLmNlbnRlcildO1xuXG4gICAgICBpZiAobGFzdENlbnRlciAhPT0gdGhpcy5jZW50ZXIgJiYgdHlwZW9mIHRoaXMub3B0aW9ucy5vbkN5Y2xlVG8gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uQ3ljbGVUby5jYWxsKHRoaXMsIF9jdXJySXRlbSwgdGhpcy5kcmFnZ2VkKTtcbiAgICAgIH1cbiAgICAgIC8vIE9uZSB0aW1lIGNhbGxiYWNrXG4gICAgICBpZiAodHlwZW9mIHRoaXMub25lVGltZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub25lVGltZUNhbGxiYWNrLmNhbGwodGhpcywgX2N1cnJJdGVtLCB0aGlzLmRyYWdnZWQpO1xuICAgICAgICB0aGlzLm9uZVRpbWVDYWxsYmFjayA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZUl0ZW1TdHlsZShlbDogSFRNTEVsZW1lbnQsIG9wYWNpdHk6IG51bWJlciwgekluZGV4OiBudW1iZXIsIHRyYW5zZm9ybTogc3RyaW5nKSB7XG4gICAgICBlbC5zdHlsZVt0aGlzLnhmb3JtXSA9IHRyYW5zZm9ybTtcbiAgICAgIGVsLnN0eWxlLnpJbmRleCA9IHpJbmRleC50b1N0cmluZygpO1xuICAgICAgZWwuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHkudG9TdHJpbmcoKTtcbiAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgfVxuXG4gICAgX2N5Y2xlVG8objogbnVtYmVyLCBjYWxsYmFjazogRnVuY3Rpb24gPSBudWxsKSB7XG4gICAgICBsZXQgZGlmZiA9ICh0aGlzLmNlbnRlciAlIHRoaXMuY291bnQpIC0gbjtcbiAgICAgIC8vIEFjY291bnQgZm9yIHdyYXBhcm91bmQuXG4gICAgICBpZiAoIXRoaXMubm9XcmFwKSB7XG4gICAgICAgIGlmIChkaWZmIDwgMCkge1xuICAgICAgICAgIGlmIChNYXRoLmFicyhkaWZmICsgdGhpcy5jb3VudCkgPCBNYXRoLmFicyhkaWZmKSkge1xuICAgICAgICAgICAgZGlmZiArPSB0aGlzLmNvdW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkaWZmID4gMCkge1xuICAgICAgICAgIGlmIChNYXRoLmFicyhkaWZmIC0gdGhpcy5jb3VudCkgPCBkaWZmKSB7XG4gICAgICAgICAgICBkaWZmIC09IHRoaXMuY291bnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnRhcmdldCA9IHRoaXMuZGltICogTWF0aC5yb3VuZCh0aGlzLm9mZnNldCAvIHRoaXMuZGltKTtcbiAgICAgIC8vIE5leHRcbiAgICAgIGlmIChkaWZmIDwgMCkge1xuICAgICAgICB0aGlzLnRhcmdldCArPSB0aGlzLmRpbSAqIE1hdGguYWJzKGRpZmYpOyAgICAgICAgXG4gICAgICB9IC8vIFByZXZcbiAgICAgIGVsc2UgaWYgKGRpZmYgPiAwKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0IC09IHRoaXMuZGltICogZGlmZjtcbiAgICAgIH1cbiAgICAgIC8vIFNldCBvbmUgdGltZSBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9uZVRpbWVDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgfVxuICAgICAgLy8gU2Nyb2xsXG4gICAgICBpZiAodGhpcy5vZmZzZXQgIT09IHRoaXMudGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuYW1wbGl0dWRlID0gdGhpcy50YXJnZXQgLSB0aGlzLm9mZnNldDtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYXV0b1Njcm9sbEJvdW5kKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0KG46IG51bWJlciA9IDEpIHtcbiAgICAgIGlmIChuID09PSB1bmRlZmluZWQgfHwgaXNOYU4obikpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9XG4gICAgICBsZXQgaW5kZXggPSB0aGlzLmNlbnRlciArIG47XG4gICAgICBpZiAoaW5kZXggPj0gdGhpcy5jb3VudCB8fCBpbmRleCA8IDApIHtcbiAgICAgICAgaWYgKHRoaXMubm9XcmFwKSByZXR1cm47XG4gICAgICAgIGluZGV4ID0gdGhpcy5fd3JhcChpbmRleCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9jeWNsZVRvKGluZGV4KTtcbiAgICB9XG5cbiAgICBwcmV2KG46IG51bWJlciA9IDEpIHtcbiAgICAgIGlmIChuID09PSB1bmRlZmluZWQgfHwgaXNOYU4obikpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9XG4gICAgICBsZXQgaW5kZXggPSB0aGlzLmNlbnRlciAtIG47XG4gICAgICBpZiAoaW5kZXggPj0gdGhpcy5jb3VudCB8fCBpbmRleCA8IDApIHtcbiAgICAgICAgaWYgKHRoaXMubm9XcmFwKSByZXR1cm47XG4gICAgICAgIGluZGV4ID0gdGhpcy5fd3JhcChpbmRleCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9jeWNsZVRvKGluZGV4KTtcbiAgICB9XG5cbiAgICBzZXQobjogbnVtYmVyLCBjYWxsYmFjazogRnVuY3Rpb24pIHtcbiAgICAgIGlmIChuID09PSB1bmRlZmluZWQgfHwgaXNOYU4obikpIHtcbiAgICAgICAgbiA9IDA7XG4gICAgICB9XG4gICAgICBpZiAobiA+IHRoaXMuY291bnQgfHwgbiA8IDApIHtcbiAgICAgICAgaWYgKHRoaXMubm9XcmFwKSByZXR1cm47XG4gICAgICAgIG4gPSB0aGlzLl93cmFwKG4pO1xuICAgICAgfVxuICAgICAgdGhpcy5fY3ljbGVUbyhuLCBjYWxsYmFjayk7XG4gICAgfVxuICB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/carousel.ts\n");

/***/ }),

/***/ "./src/characterCounter.ts":
/*!*********************************!*\
  !*** ./src/characterCounter.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CharacterCounter = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {};\nclass CharacterCounter extends component_1.Component {\n    constructor(el, options) {\n        super(CharacterCounter, el, options);\n        this.el.M_CharacterCounter = this;\n        this.options = Object.assign(Object.assign({}, CharacterCounter.defaults), options);\n        this.isInvalid = false;\n        this.isValidLength = false;\n        this._setupCounter();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_CharacterCounter;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.CharacterCounter = undefined;\n        this._removeCounter();\n    }\n    _setupEventHandlers() {\n        this._handleUpdateCounterBound = this.updateCounter.bind(this);\n        this.el.addEventListener('focus', this._handleUpdateCounterBound, true);\n        this.el.addEventListener('input', this._handleUpdateCounterBound, true);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('focus', this._handleUpdateCounterBound, true);\n        this.el.removeEventListener('input', this._handleUpdateCounterBound, true);\n    }\n    _setupCounter() {\n        this.counterEl = document.createElement('span');\n        this.counterEl.classList.add('character-counter');\n        this.counterEl.style.float = 'right';\n        this.counterEl.style.fontSize = '12px';\n        this.counterEl.style.height = '1';\n        this.el.parentElement.appendChild(this.counterEl);\n    }\n    _removeCounter() {\n        this.counterEl.remove();\n    }\n    updateCounter() {\n        let maxLength = parseInt(this.el.getAttribute('data-length')), actualLength = this.el.value.length;\n        this.isValidLength = actualLength <= maxLength;\n        let counterString = actualLength.toString();\n        if (maxLength) {\n            counterString += '/' + maxLength;\n            this._validateInput();\n        }\n        this.counterEl.innerHTML = counterString;\n    }\n    _validateInput() {\n        if (this.isValidLength && this.isInvalid) {\n            this.isInvalid = false;\n            this.el.classList.remove('invalid');\n        }\n        else if (!this.isValidLength && !this.isInvalid) {\n            this.isInvalid = true;\n            this.el.classList.remove('valid');\n            this.el.classList.add('invalid');\n        }\n    }\n}\nexports.CharacterCounter = CharacterCounter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dW50ZXIudHM/M2IyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcblxubGV0IF9kZWZhdWx0cyA9IHt9O1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyQ291bnRlciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGlzSW52YWxpZDogYm9vbGVhbjtcbiAgaXNWYWxpZExlbmd0aDogYm9vbGVhbjtcbiAgcHJpdmF0ZSBfaGFuZGxlVXBkYXRlQ291bnRlckJvdW5kOiBhbnk7XG4gIGNvdW50ZXJFbDogSFRNTFNwYW5FbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKGVsOiBFbGVtZW50LCBvcHRpb25zOiBPYmplY3QpIHtcbiAgICBzdXBlcihDaGFyYWN0ZXJDb3VudGVyLCBlbCwgb3B0aW9ucyk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0NoYXJhY3RlckNvdW50ZXIgPSB0aGlzO1xuICAgIHRoaXMub3B0aW9ucyA9IHsuLi5DaGFyYWN0ZXJDb3VudGVyLmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICB0aGlzLmlzSW52YWxpZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNWYWxpZExlbmd0aCA9IGZhbHNlO1xuICAgIHRoaXMuX3NldHVwQ291bnRlcigpO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgIGxldCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgIHJldHVybiBkb21FbGVtLk1fQ2hhcmFjdGVyQ291bnRlcjtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuQ2hhcmFjdGVyQ291bnRlciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9yZW1vdmVDb3VudGVyKCk7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuX2hhbmRsZVVwZGF0ZUNvdW50ZXJCb3VuZCA9IHRoaXMudXBkYXRlQ291bnRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVVcGRhdGVDb3VudGVyQm91bmQsIHRydWUpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9oYW5kbGVVcGRhdGVDb3VudGVyQm91bmQsIHRydWUpO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZVVwZGF0ZUNvdW50ZXJCb3VuZCwgdHJ1ZSk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX2hhbmRsZVVwZGF0ZUNvdW50ZXJCb3VuZCwgdHJ1ZSk7XG4gIH1cblxuICBfc2V0dXBDb3VudGVyKCkge1xuICAgIHRoaXMuY291bnRlckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRoaXMuY291bnRlckVsLmNsYXNzTGlzdC5hZGQoJ2NoYXJhY3Rlci1jb3VudGVyJyk7XG4gICAgdGhpcy5jb3VudGVyRWwuc3R5bGUuZmxvYXQgPSAncmlnaHQnO1xuICAgIHRoaXMuY291bnRlckVsLnN0eWxlLmZvbnRTaXplID0gJzEycHgnO1xuICAgIHRoaXMuY291bnRlckVsLnN0eWxlLmhlaWdodCA9ICcxJztcbiAgICB0aGlzLmVsLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5jb3VudGVyRWwpO1xuICB9XG5cbiAgX3JlbW92ZUNvdW50ZXIoKSB7XG4gICAgdGhpcy5jb3VudGVyRWwucmVtb3ZlKCk7XG4gIH1cblxuICB1cGRhdGVDb3VudGVyKCkge1xuICAgIGxldCBtYXhMZW5ndGggPSBwYXJzZUludCh0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1sZW5ndGgnKSksXG4gICAgICBhY3R1YWxMZW5ndGggPSAodGhpcy5lbCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZS5sZW5ndGg7XG5cbiAgICB0aGlzLmlzVmFsaWRMZW5ndGggPSBhY3R1YWxMZW5ndGggPD0gbWF4TGVuZ3RoO1xuICAgIGxldCBjb3VudGVyU3RyaW5nID0gYWN0dWFsTGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgaWYgKG1heExlbmd0aCkge1xuICAgICAgY291bnRlclN0cmluZyArPSAnLycgKyBtYXhMZW5ndGg7XG4gICAgICB0aGlzLl92YWxpZGF0ZUlucHV0KCk7XG4gICAgfVxuICAgIHRoaXMuY291bnRlckVsLmlubmVySFRNTCA9IGNvdW50ZXJTdHJpbmc7XG4gIH1cblxuICBfdmFsaWRhdGVJbnB1dCgpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkTGVuZ3RoICYmIHRoaXMuaXNJbnZhbGlkKSB7XG4gICAgICB0aGlzLmlzSW52YWxpZCA9IGZhbHNlO1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdpbnZhbGlkJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCF0aGlzLmlzVmFsaWRMZW5ndGggJiYgIXRoaXMuaXNJbnZhbGlkKSB7XG4gICAgICB0aGlzLmlzSW52YWxpZCA9IHRydWU7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3ZhbGlkJyk7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2ludmFsaWQnKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/characterCounter.ts\n");

/***/ }),

/***/ "./src/chips.ts":
/*!**********************!*\
  !*** ./src/chips.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Chips = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst autocomplete_1 = __webpack_require__(/*! ./autocomplete */ \"./src/autocomplete.ts\");\nlet _defaults = {\n    data: [],\n    placeholder: '',\n    secondaryPlaceholder: '',\n    autocompleteOptions: {},\n    autocompleteOnly: false,\n    limit: Infinity,\n    onChipAdd: null,\n    onChipSelect: null,\n    onChipDelete: null\n};\nfunction gGetIndex(el) {\n    return [...el.parentNode.children].indexOf(el);\n}\nclass Chips extends component_1.Component {\n    constructor(el, options) {\n        super(Chips, el, options);\n        this.el.M_Chips = this;\n        this.options = Object.assign(Object.assign({}, Chips.defaults), options);\n        this.el.classList.add('chips', 'input-field');\n        this.chipsData = [];\n        this._chips = [];\n        this._setupInput();\n        this.hasAutocomplete = Object.keys(this.options.autocompleteOptions).length > 0;\n        // Set input id\n        if (!this._input.getAttribute('id'))\n            this._input.setAttribute('id', global_1.M.guid());\n        // Render initial chips\n        if (this.options.data.length) {\n            this.chipsData = this.options.data;\n            this._renderChips();\n        }\n        // Setup autocomplete if needed\n        if (this.hasAutocomplete)\n            this._setupAutocomplete();\n        this._setPlaceholder();\n        this._setupLabel();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Chips;\n    }\n    getData() {\n        return this.chipsData;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._chips.forEach(c => c.remove());\n        this._chips = [];\n        this.el.M_Chips = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleChipClickBound = this._handleChipClick.bind(this);\n        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);\n        this._handleInputFocusBound = this._handleInputFocus.bind(this);\n        this._handleInputBlurBound = this._handleInputBlur.bind(this);\n        this.el.addEventListener('click', this._handleChipClickBound);\n        document.addEventListener('keydown', Chips._handleChipsKeydown);\n        document.addEventListener('keyup', Chips._handleChipsKeyup);\n        this.el.addEventListener('blur', Chips._handleChipsBlur, true);\n        this._input.addEventListener('focus', this._handleInputFocusBound);\n        this._input.addEventListener('blur', this._handleInputBlurBound);\n        this._input.addEventListener('keydown', this._handleInputKeydownBound);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleChipClickBound);\n        document.removeEventListener('keydown', Chips._handleChipsKeydown);\n        document.removeEventListener('keyup', Chips._handleChipsKeyup);\n        this.el.removeEventListener('blur', Chips._handleChipsBlur, true);\n        this._input.removeEventListener('focus', this._handleInputFocusBound);\n        this._input.removeEventListener('blur', this._handleInputBlurBound);\n        this._input.removeEventListener('keydown', this._handleInputKeydownBound);\n    }\n    _handleChipClick(e) {\n        const _chip = e.target.closest('.chip');\n        const clickedClose = e.target.classList.contains('close');\n        if (_chip) {\n            const index = [..._chip.parentNode.children].indexOf(_chip);\n            if (clickedClose) {\n                this.deleteChip(index);\n                this._input.focus();\n            }\n            else {\n                this.selectChip(index);\n            }\n            // Default handle click to focus on input\n        }\n        else {\n            this._input.focus();\n        }\n    }\n    static _handleChipsKeydown(e) {\n        Chips._keydown = true;\n        const chips = e.target.closest('.chips');\n        const chipsKeydown = e.target && chips;\n        // Don't handle keydown inputs on input and textarea\n        const tag = e.target.tagName;\n        if (tag === 'INPUT' || tag === 'TEXTAREA' || !chipsKeydown)\n            return;\n        const currChips = chips.M_Chips;\n        // backspace and delete\n        if (e.keyCode === 8 || e.keyCode === 46) {\n            e.preventDefault();\n            let selectIndex = currChips.chipsData.length;\n            if (currChips._selectedChip) {\n                const index = gGetIndex(currChips._selectedChip);\n                currChips.deleteChip(index);\n                currChips._selectedChip = null;\n                // Make sure selectIndex doesn't go negative\n                selectIndex = Math.max(index - 1, 0);\n            }\n            if (currChips.chipsData.length)\n                currChips.selectChip(selectIndex);\n            else\n                currChips._input.focus();\n        }\n        // left arrow key\n        else if (e.keyCode === 37) {\n            if (currChips._selectedChip) {\n                const selectIndex = gGetIndex(currChips._selectedChip) - 1;\n                if (selectIndex < 0)\n                    return;\n                currChips.selectChip(selectIndex);\n            }\n        }\n        // right arrow key\n        else if (e.keyCode === 39) {\n            if (currChips._selectedChip) {\n                const selectIndex = gGetIndex(currChips._selectedChip) + 1;\n                if (selectIndex >= currChips.chipsData.length)\n                    currChips._input.focus();\n                else\n                    currChips.selectChip(selectIndex);\n            }\n        }\n    }\n    static _handleChipsKeyup(e) {\n        Chips._keydown = false;\n    }\n    static _handleChipsBlur(e) {\n        if (!Chips._keydown && document.hidden) {\n            const chips = e.target.closest('.chips');\n            const currChips = chips.M_Chips;\n            currChips._selectedChip = null;\n        }\n    }\n    _handleInputFocus() {\n        this.el.classList.add('focus');\n    }\n    _handleInputBlur() {\n        this.el.classList.remove('focus');\n    }\n    _handleInputKeydown(e) {\n        Chips._keydown = true;\n        // enter\n        if (e.keyCode === 13) {\n            // Override enter if autocompleting.\n            if (this.hasAutocomplete && this.autocomplete && this.autocomplete.isOpen) {\n                return;\n            }\n            e.preventDefault();\n            if (!this.hasAutocomplete || (this.hasAutocomplete && !this.options.autocompleteOnly)) {\n                this.addChip({ id: this._input.value });\n            }\n            this._input.value = '';\n            // delete or left\n        }\n        else if ((e.keyCode === 8 || e.keyCode === 37) &&\n            this._input.value === '' &&\n            this.chipsData.length) {\n            e.preventDefault();\n            this.selectChip(this.chipsData.length - 1);\n        }\n    }\n    _renderChip(chip) {\n        if (!chip.id)\n            return;\n        const renderedChip = document.createElement('div');\n        renderedChip.classList.add('chip');\n        renderedChip.innerText = chip.text || chip.id;\n        renderedChip.setAttribute('tabindex', \"0\");\n        const closeIcon = document.createElement('i');\n        closeIcon.classList.add('material-icons', 'close');\n        closeIcon.innerText = 'close';\n        // attach image if needed\n        if (chip.image) {\n            const img = document.createElement('img');\n            img.setAttribute('src', chip.image);\n            renderedChip.insertBefore(img, renderedChip.firstChild);\n        }\n        renderedChip.appendChild(closeIcon);\n        return renderedChip;\n    }\n    _renderChips() {\n        this._chips = []; //.remove();\n        for (let i = 0; i < this.chipsData.length; i++) {\n            const chipElem = this._renderChip(this.chipsData[i]);\n            this.el.appendChild(chipElem);\n            this._chips.push(chipElem);\n        }\n        // move input to end\n        this.el.append(this._input);\n    }\n    _setupAutocomplete() {\n        this.options.autocompleteOptions.onAutocomplete = (items) => {\n            if (items.length > 0)\n                this.addChip(items[0]);\n            this._input.value = '';\n            this._input.focus();\n        };\n        this.autocomplete = autocomplete_1.Autocomplete.init(this._input, this.options.autocompleteOptions);\n    }\n    _setupInput() {\n        this._input = this.el.querySelector('input');\n        if (!this._input) {\n            this._input = document.createElement('input');\n            this.el.append(this._input);\n        }\n        this._input.classList.add('input');\n    }\n    _setupLabel() {\n        this._label = this.el.querySelector('label');\n        if (this._label)\n            this._label.setAttribute('for', this._input.getAttribute('id'));\n    }\n    _setPlaceholder() {\n        if (this.chipsData !== undefined && !this.chipsData.length && this.options.placeholder) {\n            this._input.placeholder = this.options.placeholder;\n        }\n        else if ((this.chipsData === undefined || !!this.chipsData.length) &&\n            this.options.secondaryPlaceholder) {\n            this._input.placeholder = this.options.secondaryPlaceholder;\n        }\n    }\n    _isValidAndNotExist(chip) {\n        const isValid = !!chip.id;\n        const doesNotExist = !this.chipsData.some(item => item.id == chip.id);\n        return isValid && doesNotExist;\n    }\n    addChip(chip) {\n        if (!this._isValidAndNotExist(chip) || this.chipsData.length >= this.options.limit)\n            return;\n        const renderedChip = this._renderChip(chip);\n        this._chips.push(renderedChip);\n        this.chipsData.push(chip);\n        //$(this._input).before(renderedChip);\n        this._input.before(renderedChip);\n        this._setPlaceholder();\n        // fire chipAdd callback\n        if (typeof this.options.onChipAdd === 'function') {\n            this.options.onChipAdd(this.el, renderedChip);\n        }\n    }\n    deleteChip(chipIndex) {\n        const chip = this._chips[chipIndex];\n        this._chips[chipIndex].remove();\n        this._chips.splice(chipIndex, 1);\n        this.chipsData.splice(chipIndex, 1);\n        this._setPlaceholder();\n        // fire chipDelete callback\n        if (typeof this.options.onChipDelete === 'function') {\n            this.options.onChipDelete(this.el, chip);\n        }\n    }\n    selectChip(chipIndex) {\n        const chip = this._chips[chipIndex];\n        this._selectedChip = chip;\n        chip.focus();\n        // fire chipSelect callback\n        if (typeof this.options.onChipSelect === 'function') {\n            this.options.onChipSelect(this.el, chip);\n        }\n    }\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            // Handle removal of static chips.\n            document.body.addEventListener('click', e => {\n                if (e.target.closest('.chip .close')) {\n                    const chips = e.target.closest('.chips');\n                    if (chips && chips.M_Chips == undefined)\n                        return;\n                    e.target.closest('.chip').remove();\n                }\n            });\n        });\n    }\n}\nexports.Chips = Chips;\n(() => {\n    Chips._keydown = false;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxFQUFFO29CQUNuRCxNQUFNLEtBQUssR0FBaUIsQ0FBQyxDQUFDLE1BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQ3hELElBQUksS0FBSyxJQUFLLEtBQWEsQ0FBQyxPQUFPLElBQUksU0FBUzt3QkFBRSxPQUFPO29CQUMzQyxDQUFDLENBQUMsTUFBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztpQkFDbkQ7WUFDSCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUtGO0FBbFVELHNCQWtVQztBQUhDO0lBQ0UsS0FBSyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7QUFDekIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL00vLi9zcmMvY2hpcHMudHM/ZTQ4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcbmltcG9ydCB7IEF1dG9jb21wbGV0ZSB9IGZyb20gXCIuL2F1dG9jb21wbGV0ZVwiO1xuXG5sZXQgX2RlZmF1bHRzID0ge1xuICBkYXRhOiBbXSxcbiAgcGxhY2Vob2xkZXI6ICcnLFxuICBzZWNvbmRhcnlQbGFjZWhvbGRlcjogJycsXG4gIGF1dG9jb21wbGV0ZU9wdGlvbnM6IHt9LFxuICBhdXRvY29tcGxldGVPbmx5OiBmYWxzZSxcbiAgbGltaXQ6IEluZmluaXR5LFxuICBvbkNoaXBBZGQ6IG51bGwsXG4gIG9uQ2hpcFNlbGVjdDogbnVsbCxcbiAgb25DaGlwRGVsZXRlOiBudWxsXG59O1xuXG5pbnRlcmZhY2UgRGF0YUJpdCB7XG4gIGlkOiBzdHJpbmcsIC8vIHJlcXVpcmVkXG4gIHRleHQ/OiBzdHJpbmcsXG4gIGltYWdlPzogc3RyaW5nLFxuICBkZXNjcmlwdGlvbj86IHN0cmluZyxcbn1cblxuZnVuY3Rpb24gZ0dldEluZGV4KGVsOiBIVE1MRWxlbWVudCk6IG51bWJlciB7XG4gIHJldHVybiBbLi4uZWwucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihlbCk7XG59XG5cbmV4cG9ydCBjbGFzcyBDaGlwcyBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNoaXBzRGF0YTogRGF0YUJpdFtdO1xuICBoYXNBdXRvY29tcGxldGU6IGJvb2xlYW47XG4gIGF1dG9jb21wbGV0ZTogQXV0b2NvbXBsZXRlO1xuICBfaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIF9sYWJlbDogYW55O1xuICBfY2hpcHM6IEhUTUxFbGVtZW50W107XG4gIHByaXZhdGUgX2hhbmRsZUNoaXBDbGlja0JvdW5kOiBhbnk7XG4gIHByaXZhdGUgX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kOiBhbnk7XG4gIHByaXZhdGUgX2hhbmRsZUlucHV0Rm9jdXNCb3VuZDogYW55O1xuICBwcml2YXRlIF9oYW5kbGVJbnB1dEJsdXJCb3VuZDogYW55O1xuICBzdGF0aWMgX2tleWRvd246IGJvb2xlYW47XG4gIHByaXZhdGUgX3NlbGVjdGVkQ2hpcDogYW55O1xuXG4gIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgc3VwZXIoQ2hpcHMsIGVsLCBvcHRpb25zKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQ2hpcHMgPSB0aGlzO1xuICAgIHRoaXMub3B0aW9ucyA9IHsuLi5DaGlwcy5kZWZhdWx0cywgLi4ub3B0aW9uc307XG5cbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2NoaXBzJywgJ2lucHV0LWZpZWxkJyk7XG4gICAgdGhpcy5jaGlwc0RhdGEgPSBbXTtcbiAgICB0aGlzLl9jaGlwcyA9IFtdO1xuICAgIHRoaXMuX3NldHVwSW5wdXQoKTtcbiAgICB0aGlzLmhhc0F1dG9jb21wbGV0ZSA9IE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5hdXRvY29tcGxldGVPcHRpb25zKS5sZW5ndGggPiAwO1xuXG4gICAgLy8gU2V0IGlucHV0IGlkXG4gICAgaWYgKCF0aGlzLl9pbnB1dC5nZXRBdHRyaWJ1dGUoJ2lkJykpXG4gICAgICB0aGlzLl9pbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywgTS5ndWlkKCkpO1xuXG4gICAgLy8gUmVuZGVyIGluaXRpYWwgY2hpcHNcbiAgICBpZiAodGhpcy5vcHRpb25zLmRhdGEubGVuZ3RoKSB7XG4gICAgICB0aGlzLmNoaXBzRGF0YSA9IHRoaXMub3B0aW9ucy5kYXRhO1xuICAgICAgdGhpcy5fcmVuZGVyQ2hpcHMoKTtcbiAgICB9XG4gICAgLy8gU2V0dXAgYXV0b2NvbXBsZXRlIGlmIG5lZWRlZFxuICAgIGlmICh0aGlzLmhhc0F1dG9jb21wbGV0ZSkgdGhpcy5fc2V0dXBBdXRvY29tcGxldGUoKTtcbiAgICB0aGlzLl9zZXRQbGFjZWhvbGRlcigpO1xuICAgIHRoaXMuX3NldHVwTGFiZWwoKTtcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgfVxuXG4gIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICBjb25zdCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgIHJldHVybiBkb21FbGVtLk1fQ2hpcHM7XG4gIH1cblxuICBnZXREYXRhKCkge1xuICAgIHJldHVybiB0aGlzLmNoaXBzRGF0YTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMuX2NoaXBzLmZvckVhY2goYyA9PiBjLnJlbW92ZSgpKTtcbiAgICB0aGlzLl9jaGlwcyA9IFtdO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9DaGlwcyA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5faGFuZGxlQ2hpcENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVDaGlwQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUlucHV0Rm9jdXNCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0Rm9jdXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVJbnB1dEJsdXJCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0Qmx1ci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDaGlwQ2xpY2tCb3VuZCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIENoaXBzLl9oYW5kbGVDaGlwc0tleWRvd24pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgQ2hpcHMuX2hhbmRsZUNoaXBzS2V5dXApO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIENoaXBzLl9oYW5kbGVDaGlwc0JsdXIsIHRydWUpO1xuICAgIHRoaXMuX2lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlSW5wdXRGb2N1c0JvdW5kKTtcbiAgICB0aGlzLl9pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlSW5wdXRCbHVyQm91bmQpO1xuICAgIHRoaXMuX2lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCk7XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2hpcENsaWNrQm91bmQpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBDaGlwcy5faGFuZGxlQ2hpcHNLZXlkb3duKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIENoaXBzLl9oYW5kbGVDaGlwc0tleXVwKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBDaGlwcy5faGFuZGxlQ2hpcHNCbHVyLCB0cnVlKTtcbiAgICB0aGlzLl9pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUlucHV0Rm9jdXNCb3VuZCk7XG4gICAgdGhpcy5faW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1ckJvdW5kKTtcbiAgICB0aGlzLl9pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duQm91bmQpO1xuICB9XG5cbiAgX2hhbmRsZUNoaXBDbGljayhlKSB7XG4gICAgY29uc3QgX2NoaXAgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuY2hpcCcpO1xuICAgIGNvbnN0IGNsaWNrZWRDbG9zZSA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UnKTtcbiAgICBpZiAoX2NoaXApIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gWy4uLl9jaGlwLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YoX2NoaXApO1xuICAgICAgaWYgKGNsaWNrZWRDbG9zZSkge1xuICAgICAgICB0aGlzLmRlbGV0ZUNoaXAoaW5kZXgpO1xuICAgICAgICB0aGlzLl9pbnB1dC5mb2N1cygpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2VsZWN0Q2hpcChpbmRleCk7XG4gICAgICB9XG4gICAgICAvLyBEZWZhdWx0IGhhbmRsZSBjbGljayB0byBmb2N1cyBvbiBpbnB1dFxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2lucHV0LmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9oYW5kbGVDaGlwc0tleWRvd24oZSkge1xuICAgIENoaXBzLl9rZXlkb3duID0gdHJ1ZTtcbiAgICBjb25zdCBjaGlwcyA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwcycpO1xuICAgIGNvbnN0IGNoaXBzS2V5ZG93biA9IGUudGFyZ2V0ICYmIGNoaXBzO1xuXG4gICAgLy8gRG9uJ3QgaGFuZGxlIGtleWRvd24gaW5wdXRzIG9uIGlucHV0IGFuZCB0ZXh0YXJlYVxuICAgIGNvbnN0IHRhZyA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLnRhZ05hbWU7XG4gICAgaWYgKHRhZyA9PT0gJ0lOUFVUJyB8fCB0YWcgPT09ICdURVhUQVJFQScgfHwgIWNoaXBzS2V5ZG93bikgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGN1cnJDaGlwczogQ2hpcHMgPSAoY2hpcHMgYXMgYW55KS5NX0NoaXBzO1xuICAgIC8vIGJhY2tzcGFjZSBhbmQgZGVsZXRlXG4gICAgaWYgKGUua2V5Q29kZSA9PT0gOCB8fCBlLmtleUNvZGUgPT09IDQ2KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBsZXQgc2VsZWN0SW5kZXggPSBjdXJyQ2hpcHMuY2hpcHNEYXRhLmxlbmd0aDtcbiAgICAgIGlmIChjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IGdHZXRJbmRleChjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCk7XG4gICAgICAgIGN1cnJDaGlwcy5kZWxldGVDaGlwKGluZGV4KTtcbiAgICAgICAgY3VyckNoaXBzLl9zZWxlY3RlZENoaXAgPSBudWxsO1xuICAgICAgICAvLyBNYWtlIHN1cmUgc2VsZWN0SW5kZXggZG9lc24ndCBnbyBuZWdhdGl2ZVxuICAgICAgICBzZWxlY3RJbmRleCA9IE1hdGgubWF4KGluZGV4IC0gMSwgMCk7XG4gICAgICB9XG4gICAgICBpZiAoY3VyckNoaXBzLmNoaXBzRGF0YS5sZW5ndGgpXG4gICAgICAgIGN1cnJDaGlwcy5zZWxlY3RDaGlwKHNlbGVjdEluZGV4KTtcbiAgICAgIGVsc2VcbiAgICAgICAgY3VyckNoaXBzLl9pbnB1dC5mb2N1cygpO1xuICAgIH1cbiAgICAvLyBsZWZ0IGFycm93IGtleVxuICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gMzcpIHtcbiAgICAgIGlmIChjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCkge1xuICAgICAgICBjb25zdCBzZWxlY3RJbmRleCA9IGdHZXRJbmRleChjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCkgLSAxO1xuICAgICAgICBpZiAoc2VsZWN0SW5kZXggPCAwKSByZXR1cm47XG4gICAgICAgIGN1cnJDaGlwcy5zZWxlY3RDaGlwKHNlbGVjdEluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gcmlnaHQgYXJyb3cga2V5XG4gICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzOSkge1xuICAgICAgaWYgKGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdEluZGV4ID0gZ0dldEluZGV4KGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwKSArIDE7XG4gICAgICAgIGlmIChzZWxlY3RJbmRleCA+PSBjdXJyQ2hpcHMuY2hpcHNEYXRhLmxlbmd0aClcbiAgICAgICAgICBjdXJyQ2hpcHMuX2lucHV0LmZvY3VzKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBjdXJyQ2hpcHMuc2VsZWN0Q2hpcChzZWxlY3RJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9oYW5kbGVDaGlwc0tleXVwKGUpIHtcbiAgICBDaGlwcy5fa2V5ZG93biA9IGZhbHNlO1xuICB9XG5cbiAgc3RhdGljIF9oYW5kbGVDaGlwc0JsdXIoZSkge1xuICAgIGlmICghQ2hpcHMuX2tleWRvd24gJiYgZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICBjb25zdCBjaGlwcyA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwcycpO1xuICAgICAgY29uc3QgY3VyckNoaXBzOiBDaGlwcyA9IChjaGlwcyBhcyBhbnkpLk1fQ2hpcHM7XG4gICAgICBjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUlucHV0Rm9jdXMoKSB7XG4gICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdmb2N1cycpO1xuICB9XG5cbiAgX2hhbmRsZUlucHV0Qmx1cigpIHtcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzJyk7XG4gIH1cblxuICBfaGFuZGxlSW5wdXRLZXlkb3duKGUpIHtcbiAgICBDaGlwcy5fa2V5ZG93biA9IHRydWU7XG4gICAgLy8gZW50ZXJcbiAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgLy8gT3ZlcnJpZGUgZW50ZXIgaWYgYXV0b2NvbXBsZXRpbmcuXG4gICAgICBpZiAodGhpcy5oYXNBdXRvY29tcGxldGUgJiYgdGhpcy5hdXRvY29tcGxldGUgJiYgdGhpcy5hdXRvY29tcGxldGUuaXNPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghdGhpcy5oYXNBdXRvY29tcGxldGUgfHwgKHRoaXMuaGFzQXV0b2NvbXBsZXRlICYmICF0aGlzLm9wdGlvbnMuYXV0b2NvbXBsZXRlT25seSkpIHtcbiAgICAgICAgdGhpcy5hZGRDaGlwKHtpZDogdGhpcy5faW5wdXQudmFsdWV9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2lucHV0LnZhbHVlID0gJyc7XG4gICAgICAvLyBkZWxldGUgb3IgbGVmdFxuICAgIH1cbiAgICBlbHNlIGlmIChcbiAgICAgIChlLmtleUNvZGUgPT09IDggfHwgZS5rZXlDb2RlID09PSAzNykgJiZcbiAgICAgIHRoaXMuX2lucHV0LnZhbHVlID09PSAnJyAmJlxuICAgICAgdGhpcy5jaGlwc0RhdGEubGVuZ3RoXG4gICAgKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnNlbGVjdENoaXAodGhpcy5jaGlwc0RhdGEubGVuZ3RoIC0gMSk7XG4gICAgfVxuICB9XG5cbiAgX3JlbmRlckNoaXAoY2hpcDogRGF0YUJpdCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICBpZiAoIWNoaXAuaWQpIHJldHVybjtcbiAgICBjb25zdCByZW5kZXJlZENoaXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByZW5kZXJlZENoaXAuY2xhc3NMaXN0LmFkZCgnY2hpcCcpO1xuICAgIHJlbmRlcmVkQ2hpcC5pbm5lclRleHQgPSBjaGlwLnRleHQgfHwgY2hpcC5pZDtcbiAgICByZW5kZXJlZENoaXAuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIFwiMFwiKTtcbiAgICBjb25zdCBjbG9zZUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgY2xvc2VJY29uLmNsYXNzTGlzdC5hZGQoJ21hdGVyaWFsLWljb25zJywgJ2Nsb3NlJyk7XG4gICAgY2xvc2VJY29uLmlubmVyVGV4dCA9ICdjbG9zZSc7XG4gICAgLy8gYXR0YWNoIGltYWdlIGlmIG5lZWRlZFxuICAgIGlmIChjaGlwLmltYWdlKSB7XG4gICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGNoaXAuaW1hZ2UpO1xuICAgICAgcmVuZGVyZWRDaGlwLmluc2VydEJlZm9yZShpbWcsIHJlbmRlcmVkQ2hpcC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgcmVuZGVyZWRDaGlwLmFwcGVuZENoaWxkKGNsb3NlSWNvbik7XG4gICAgcmV0dXJuIHJlbmRlcmVkQ2hpcDtcbiAgfVxuXG4gIF9yZW5kZXJDaGlwcygpIHtcbiAgICB0aGlzLl9jaGlwcyA9IFtdOyAvLy5yZW1vdmUoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpcHNEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlwRWxlbSA9IHRoaXMuX3JlbmRlckNoaXAodGhpcy5jaGlwc0RhdGFbaV0pO1xuICAgICAgdGhpcy5lbC5hcHBlbmRDaGlsZChjaGlwRWxlbSk7XG4gICAgICB0aGlzLl9jaGlwcy5wdXNoKGNoaXBFbGVtKTtcbiAgICB9XG4gICAgLy8gbW92ZSBpbnB1dCB0byBlbmRcbiAgICB0aGlzLmVsLmFwcGVuZCh0aGlzLl9pbnB1dCk7XG4gIH1cblxuICBfc2V0dXBBdXRvY29tcGxldGUoKSB7XG4gICAgdGhpcy5vcHRpb25zLmF1dG9jb21wbGV0ZU9wdGlvbnMub25BdXRvY29tcGxldGUgPSAoaXRlbXMpID0+IHtcbiAgICAgIGlmIChpdGVtcy5sZW5ndGggPiAwKSB0aGlzLmFkZENoaXAoaXRlbXNbMF0pO1xuICAgICAgdGhpcy5faW5wdXQudmFsdWUgPSAnJztcbiAgICAgIHRoaXMuX2lucHV0LmZvY3VzKCk7XG4gICAgfTtcbiAgICB0aGlzLmF1dG9jb21wbGV0ZSA9IEF1dG9jb21wbGV0ZS5pbml0KHRoaXMuX2lucHV0LCB0aGlzLm9wdGlvbnMuYXV0b2NvbXBsZXRlT3B0aW9ucyk7XG4gIH1cblxuICBfc2V0dXBJbnB1dCgpIHtcbiAgICB0aGlzLl9pbnB1dCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICBpZiAoIXRoaXMuX2lucHV0KSB7XG4gICAgICB0aGlzLl9pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICB0aGlzLmVsLmFwcGVuZCh0aGlzLl9pbnB1dCk7XG4gICAgfVxuICAgIHRoaXMuX2lucHV0LmNsYXNzTGlzdC5hZGQoJ2lucHV0Jyk7XG4gIH1cblxuICBfc2V0dXBMYWJlbCgpIHtcbiAgICB0aGlzLl9sYWJlbCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignbGFiZWwnKTtcbiAgICBpZiAodGhpcy5fbGFiZWwpIHRoaXMuX2xhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgdGhpcy5faW5wdXQuZ2V0QXR0cmlidXRlKCdpZCcpKTtcbiAgfVxuXG4gIF9zZXRQbGFjZWhvbGRlcigpIHtcbiAgICBpZiAodGhpcy5jaGlwc0RhdGEgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5jaGlwc0RhdGEubGVuZ3RoICYmIHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcikge1xuICAgICAgdGhpcy5faW5wdXQucGxhY2Vob2xkZXIgPSB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXI7XG4gICAgfVxuICAgIGVsc2UgaWYgKFxuICAgICAgKHRoaXMuY2hpcHNEYXRhID09PSB1bmRlZmluZWQgfHwgISF0aGlzLmNoaXBzRGF0YS5sZW5ndGgpICYmXG4gICAgICB0aGlzLm9wdGlvbnMuc2Vjb25kYXJ5UGxhY2Vob2xkZXJcbiAgICApIHtcbiAgICAgIHRoaXMuX2lucHV0LnBsYWNlaG9sZGVyID0gdGhpcy5vcHRpb25zLnNlY29uZGFyeVBsYWNlaG9sZGVyO1xuICAgIH1cbiAgfVxuXG4gIF9pc1ZhbGlkQW5kTm90RXhpc3QoY2hpcDogRGF0YUJpdCkge1xuICAgIGNvbnN0IGlzVmFsaWQgPSAhIWNoaXAuaWQ7XG4gICAgY29uc3QgZG9lc05vdEV4aXN0ID0gIXRoaXMuY2hpcHNEYXRhLnNvbWUoaXRlbSA9PiBpdGVtLmlkID09IGNoaXAuaWQpO1xuICAgIHJldHVybiBpc1ZhbGlkICYmIGRvZXNOb3RFeGlzdDtcbiAgfVxuXG4gIGFkZENoaXAoY2hpcDogRGF0YUJpdCkge1xuICAgIGlmICghdGhpcy5faXNWYWxpZEFuZE5vdEV4aXN0KGNoaXApIHx8IHRoaXMuY2hpcHNEYXRhLmxlbmd0aCA+PSB0aGlzLm9wdGlvbnMubGltaXQpIHJldHVybjtcbiAgICBjb25zdCByZW5kZXJlZENoaXAgPSB0aGlzLl9yZW5kZXJDaGlwKGNoaXApO1xuICAgIHRoaXMuX2NoaXBzLnB1c2gocmVuZGVyZWRDaGlwKTtcbiAgICB0aGlzLmNoaXBzRGF0YS5wdXNoKGNoaXApO1xuICAgIC8vJCh0aGlzLl9pbnB1dCkuYmVmb3JlKHJlbmRlcmVkQ2hpcCk7XG4gICAgdGhpcy5faW5wdXQuYmVmb3JlKHJlbmRlcmVkQ2hpcCk7XG4gICAgdGhpcy5fc2V0UGxhY2Vob2xkZXIoKTtcbiAgICAvLyBmaXJlIGNoaXBBZGQgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNoaXBBZGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vbkNoaXBBZGQodGhpcy5lbCwgcmVuZGVyZWRDaGlwKTtcbiAgICB9XG4gIH1cblxuICBkZWxldGVDaGlwKGNoaXBJbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgY2hpcCA9IHRoaXMuX2NoaXBzW2NoaXBJbmRleF07XG4gICAgdGhpcy5fY2hpcHNbY2hpcEluZGV4XS5yZW1vdmUoKTtcbiAgICB0aGlzLl9jaGlwcy5zcGxpY2UoY2hpcEluZGV4LCAxKTtcbiAgICB0aGlzLmNoaXBzRGF0YS5zcGxpY2UoY2hpcEluZGV4LCAxKTtcbiAgICB0aGlzLl9zZXRQbGFjZWhvbGRlcigpO1xuICAgIC8vIGZpcmUgY2hpcERlbGV0ZSBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2hpcERlbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2hpcERlbGV0ZSh0aGlzLmVsLCBjaGlwKTtcbiAgICB9XG4gIH1cblxuICBzZWxlY3RDaGlwKGNoaXBJbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgY2hpcCA9IHRoaXMuX2NoaXBzW2NoaXBJbmRleF07XG4gICAgdGhpcy5fc2VsZWN0ZWRDaGlwID0gY2hpcDtcbiAgICBjaGlwLmZvY3VzKCk7XG4gICAgLy8gZmlyZSBjaGlwU2VsZWN0IGNhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DaGlwU2VsZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25DaGlwU2VsZWN0KHRoaXMuZWwsIGNoaXApO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBJbml0KCl7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgICAgLy8gSGFuZGxlIHJlbW92YWwgb2Ygc3RhdGljIGNoaXBzLlxuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnLmNoaXAgLmNsb3NlJykpIHtcbiAgICAgICAgICBjb25zdCBjaGlwcyA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwcycpO1xuICAgICAgICAgIGlmIChjaGlwcyAmJiAoY2hpcHMgYXMgYW55KS5NX0NoaXBzID09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwJykucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIHtcbiAgICBDaGlwcy5fa2V5ZG93biA9IGZhbHNlO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chips.ts\n");

/***/ }),

/***/ "./src/collapsible.ts":
/*!****************************!*\
  !*** ./src/collapsible.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Collapsible = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst _defaults = {\n    accordion: true,\n    onOpenStart: undefined,\n    onOpenEnd: undefined,\n    onCloseStart: undefined,\n    onCloseEnd: undefined,\n    inDuration: 300,\n    outDuration: 300\n};\nclass Collapsible extends component_1.Component {\n    constructor(el, options) {\n        super(Collapsible, el, options);\n        this.el.M_Collapsible = this;\n        this.options = Object.assign(Object.assign({}, Collapsible.defaults), options);\n        // Setup tab indices\n        this._headers = Array.from(this.el.querySelectorAll('li > .collapsible-header'));\n        this._headers.forEach(el => el.tabIndex = 0);\n        this._setupEventHandlers();\n        // Open first active\n        const activeBodies = Array.from(this.el.querySelectorAll('li.active > .collapsible-body'));\n        if (this.options.accordion)\n            if (activeBodies.length > 0)\n                activeBodies[0].style.display = 'block'; // Accordion\n            else\n                activeBodies.forEach(el => el.style.display = 'block'); // Expandables\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Collapsible;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Collapsible = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleCollapsibleClickBound = this._handleCollapsibleClick.bind(this);\n        this._handleCollapsibleKeydownBound = this._handleCollapsibleKeydown.bind(this);\n        this.el.addEventListener('click', this._handleCollapsibleClickBound);\n        this._headers.forEach(header => header.addEventListener('keydown', this._handleCollapsibleKeydownBound));\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleCollapsibleClickBound);\n        this._headers.forEach(header => header.removeEventListener('keydown', this._handleCollapsibleKeydownBound));\n    }\n    _handleCollapsibleClick(e) {\n        const header = e.target.closest('.collapsible-header');\n        if (e.target && header) {\n            const collapsible = header.closest('.collapsible');\n            if (collapsible !== this.el)\n                return;\n            const li = header.closest('li');\n            const isActive = li.classList.contains('active');\n            const index = [...li.parentNode.children].indexOf(li);\n            if (isActive)\n                this.close(index);\n            else\n                this.open(index);\n        }\n    }\n    _handleCollapsibleKeydown(e) {\n        if (e.keyCode === 13) {\n            this._handleCollapsibleClickBound(e);\n        }\n    }\n    _animateIn(index) {\n        const li = this.el.children[index];\n        if (!li)\n            return;\n        const body = li.querySelector('.collapsible-body');\n        animejs_1.default.remove(body);\n        body.style.display = 'block';\n        body.style.overflow = 'hidden';\n        body.style.height = '0';\n        body.style.paddingTop = '';\n        body.style.paddingBottom = '';\n        const pTop = getComputedStyle(body).paddingTop; //  . css('padding-top');\n        const pBottom = getComputedStyle(body).paddingBottom; //body.css('padding-bottom');\n        const finalHeight = body.scrollHeight;\n        body.style.paddingTop = '0';\n        body.style.paddingBottom = '0';\n        (0, animejs_1.default)({\n            targets: body,\n            height: finalHeight,\n            paddingTop: pTop,\n            paddingBottom: pBottom,\n            duration: this.options.inDuration,\n            easing: 'easeInOutCubic',\n            complete: (anim) => {\n                body.style.overflow = '';\n                body.style.height = '';\n                body.style.paddingTop = '';\n                body.style.paddingBottom = '';\n                // onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, li);\n                }\n            }\n        });\n    }\n    _animateOut(index) {\n        const li = this.el.children[index];\n        if (!li)\n            return;\n        const body = li.querySelector('.collapsible-body');\n        animejs_1.default.remove(body);\n        body.style.overflow = 'hidden';\n        (0, animejs_1.default)({\n            targets: body,\n            height: 0,\n            paddingTop: 0,\n            paddingBottom: 0,\n            duration: this.options.outDuration,\n            easing: 'easeInOutCubic',\n            complete: () => {\n                body.style.overflow = '';\n                body.style.height = '';\n                body.style.padding = '';\n                body.style.display = '';\n                // onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, li);\n                }\n            }\n        });\n    }\n    open(index) {\n        const listItems = Array.from(this.el.children).filter(c => c.tagName === 'LI');\n        const li = listItems[index];\n        if (li && !li.classList.contains('active')) {\n            // onOpenStart callback\n            if (typeof this.options.onOpenStart === 'function') {\n                this.options.onOpenStart.call(this, li);\n            }\n            // Handle accordion behavior\n            if (this.options.accordion) {\n                const activeLis = listItems.filter(li => li.classList.contains('active'));\n                activeLis.forEach(activeLi => {\n                    const index = listItems.indexOf(activeLi);\n                    this.close(index);\n                });\n            }\n            // Animate in\n            li.classList.add('active');\n            this._animateIn(index);\n        }\n    }\n    close(index) {\n        const li = Array.from(this.el.children).filter(c => c.tagName === 'LI')[index];\n        if (li && li.classList.contains('active')) {\n            // onCloseStart callback\n            if (typeof this.options.onCloseStart === 'function') {\n                this.options.onCloseStart.call(this, li);\n            }\n            // Animate out\n            li.classList.remove('active');\n            this._animateOut(index);\n        }\n    }\n}\nexports.Collapsible = Collapsible;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29sbGFwc2libGUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsaUZBQXdDO0FBQ3hDLGdIQUEyQjtBQUUzQixNQUFNLFNBQVMsR0FBRztJQUNoQixTQUFTLEVBQUUsSUFBSTtJQUNmLFdBQVcsRUFBRSxTQUFTO0lBQ3RCLFNBQVMsRUFBRSxTQUFTO0lBQ3BCLFlBQVksRUFBRSxTQUFTO0lBQ3ZCLFVBQVUsRUFBRSxTQUFTO0lBQ3JCLFVBQVUsRUFBRSxHQUFHO0lBQ2YsV0FBVyxFQUFFLEdBQUc7Q0FDakIsQ0FBQztBQUVGLE1BQWEsV0FBWSxTQUFRLHFCQUFTO0lBS3hDLFlBQVksRUFBRSxFQUFFLE9BQU87UUFDckIsS0FBSyxDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLEVBQVUsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxPQUFPLG1DQUFPLFdBQVcsQ0FBQyxRQUFRLEdBQUssT0FBTyxDQUFDLENBQUM7UUFDckQsb0JBQW9CO1FBQ3BCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLDBCQUEwQixDQUFDLENBQUMsQ0FBQztRQUNqRixJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDM0Isb0JBQW9CO1FBQ3BCLE1BQU0sWUFBWSxHQUFrQixLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsK0JBQStCLENBQUMsQ0FBQyxDQUFDO1FBQzFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTO1lBQ3hCLElBQUksWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDO2dCQUN6QixZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsQ0FBQyxZQUFZOztnQkFFdkQsWUFBWSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsY0FBYztJQUMxRSxDQUFDO0lBRUQsTUFBTSxLQUFLLFFBQVE7UUFDakIsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQztJQUVELE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLE9BQU87UUFDdEIsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVELE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRTtRQUNuQixNQUFNLE9BQU8sR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDekMsT0FBTyxPQUFPLENBQUMsYUFBYSxDQUFDO0lBQy9CLENBQUM7SUFFRCxPQUFPO1FBQ0wsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDLEVBQVUsQ0FBQyxhQUFhLEdBQUcsU0FBUyxDQUFDO0lBQzdDLENBQUM7SUFFRCxtQkFBbUI7UUFDakIsSUFBSSxDQUFDLDRCQUE0QixHQUFHLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUUsSUFBSSxDQUFDLDhCQUE4QixHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEYsSUFBSSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLDRCQUE0QixDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDLENBQUM7SUFDM0csQ0FBQztJQUVELG9CQUFvQjtRQUNsQixJQUFJLENBQUMsRUFBRSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsNEJBQTRCLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLDhCQUE4QixDQUFDLENBQUMsQ0FBQztJQUM5RyxDQUFDO0lBRUQsdUJBQXVCLENBQUMsQ0FBQztRQUN2QixNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQ3ZELElBQUksQ0FBQyxDQUFDLE1BQU0sSUFBSSxNQUFNLEVBQUU7WUFDdEIsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUNuRCxJQUFJLFdBQVcsS0FBSyxJQUFJLENBQUMsRUFBRTtnQkFBRSxPQUFPO1lBRXBDLE1BQU0sRUFBRSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEMsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDakQsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBRXRELElBQUksUUFBUTtnQkFDVixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDOztnQkFFbEIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNwQjtJQUNILENBQUM7SUFFRCx5QkFBeUIsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxDQUFDLE9BQU8sS0FBSyxFQUFFLEVBQUU7WUFDcEIsSUFBSSxDQUFDLDRCQUE0QixDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3RDO0lBQ0gsQ0FBQztJQUVELFVBQVUsQ0FBQyxLQUFhO1FBQ3RCLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxFQUFFO1lBQUUsT0FBTztRQUNoQixNQUFNLElBQUksR0FBZ0IsRUFBRSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2hFLGlCQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xCLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUM3QixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDL0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsR0FBRyxFQUFFLENBQUM7UUFDOUIsTUFBTSxJQUFJLEdBQUcsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMseUJBQXlCO1FBQ3pFLE1BQU0sT0FBTyxHQUFHLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLDZCQUE2QjtRQUNuRixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQztRQUM1QixJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsR0FBRyxHQUFHLENBQUM7UUFDL0IscUJBQUksRUFBQztZQUNILE9BQU8sRUFBRSxJQUFJO1lBQ2IsTUFBTSxFQUFFLFdBQVc7WUFDbkIsVUFBVSxFQUFFLElBQUk7WUFDaEIsYUFBYSxFQUFFLE9BQU87WUFDdEIsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVTtZQUNqQyxNQUFNLEVBQUUsZ0JBQWdCO1lBQ3hCLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFO2dCQUNqQixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7Z0JBQ3pCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztnQkFDdkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO2dCQUMzQixJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsR0FBRyxFQUFFLENBQUM7Z0JBQzlCLHFCQUFxQjtnQkFDckIsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxLQUFLLFVBQVUsRUFBRTtvQkFDaEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztpQkFDdkM7WUFDSCxDQUFDO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELFdBQVcsQ0FBQyxLQUFhO1FBQ3ZCLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxFQUFFO1lBQUUsT0FBTztRQUNoQixNQUFNLElBQUksR0FBZ0IsRUFBRSxDQUFDLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2hFLGlCQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xCLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUMvQixxQkFBSSxFQUFDO1lBQ0gsT0FBTyxFQUFFLElBQUk7WUFDYixNQUFNLEVBQUUsQ0FBQztZQUNULFVBQVUsRUFBRSxDQUFDO1lBQ2IsYUFBYSxFQUFFLENBQUM7WUFDaEIsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVztZQUNsQyxNQUFNLEVBQUUsZ0JBQWdCO1lBQ3hCLFFBQVEsRUFBRSxHQUFHLEVBQUU7Z0JBQ2IsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO2dCQUN6QixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztnQkFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO2dCQUN4QixzQkFBc0I7Z0JBQ3RCLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsS0FBSyxVQUFVLEVBQUU7b0JBQ2pELElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7aUJBQ3hDO1lBQ0gsQ0FBQztTQUNGLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxJQUFJLENBQUMsS0FBYTtRQUNoQixNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sS0FBSyxJQUFJLENBQUMsQ0FBQztRQUMvRSxNQUFNLEVBQUUsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUIsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUMxQyx1QkFBdUI7WUFDdkIsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxLQUFLLFVBQVUsRUFBRTtnQkFDbEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQzthQUN6QztZQUNELDRCQUE0QjtZQUM1QixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFO2dCQUMxQixNQUFNLFNBQVMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDMUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRTtvQkFDM0IsTUFBTSxLQUFLLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDMUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDcEIsQ0FBQyxDQUFDLENBQUM7YUFDSjtZQUNELGFBQWE7WUFDYixFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMzQixJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3hCO0lBQ0gsQ0FBQztJQUVELEtBQUssQ0FBQyxLQUFhO1FBQ2pCLE1BQU0sRUFBRSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxLQUFLLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQy9FLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ3pDLHdCQUF3QjtZQUN4QixJQUFJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEtBQUssVUFBVSxFQUFFO2dCQUNuRCxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2FBQzFDO1lBQ0QsY0FBYztZQUNkLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzlCLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDekI7SUFDSCxDQUFDO0NBQ0Y7QUExS0Qsa0NBMEtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTS8uL3NyYy9jb2xsYXBzaWJsZS50cz8xZDU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxuY29uc3QgX2RlZmF1bHRzID0ge1xuICBhY2NvcmRpb246IHRydWUsXG4gIG9uT3BlblN0YXJ0OiB1bmRlZmluZWQsXG4gIG9uT3BlbkVuZDogdW5kZWZpbmVkLFxuICBvbkNsb3NlU3RhcnQ6IHVuZGVmaW5lZCxcbiAgb25DbG9zZUVuZDogdW5kZWZpbmVkLFxuICBpbkR1cmF0aW9uOiAzMDAsXG4gIG91dER1cmF0aW9uOiAzMDBcbn07XG5cbmV4cG9ydCBjbGFzcyBDb2xsYXBzaWJsZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIHByaXZhdGUgX2hlYWRlcnM6IEhUTUxFbGVtZW50W107XG4gIHByaXZhdGUgX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2tCb3VuZDogYW55O1xuICBwcml2YXRlIF9oYW5kbGVDb2xsYXBzaWJsZUtleWRvd25Cb3VuZDogYW55O1xuXG4gIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgc3VwZXIoQ29sbGFwc2libGUsIGVsLCBvcHRpb25zKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQ29sbGFwc2libGUgPSB0aGlzO1xuICAgIHRoaXMub3B0aW9ucyA9IHsuLi5Db2xsYXBzaWJsZS5kZWZhdWx0cywgLi4ub3B0aW9uc307XG4gICAgLy8gU2V0dXAgdGFiIGluZGljZXNcbiAgICB0aGlzLl9oZWFkZXJzID0gQXJyYXkuZnJvbSh0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpID4gLmNvbGxhcHNpYmxlLWhlYWRlcicpKTtcbiAgICB0aGlzLl9oZWFkZXJzLmZvckVhY2goZWwgPT4gZWwudGFiSW5kZXggPSAwKTtcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAvLyBPcGVuIGZpcnN0IGFjdGl2ZVxuICAgIGNvbnN0IGFjdGl2ZUJvZGllczogSFRNTEVsZW1lbnRbXSA9IEFycmF5LmZyb20odGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCdsaS5hY3RpdmUgPiAuY29sbGFwc2libGUtYm9keScpKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmFjY29yZGlvbilcbiAgICAgIGlmIChhY3RpdmVCb2RpZXMubGVuZ3RoID4gMClcbiAgICAgICAgYWN0aXZlQm9kaWVzWzBdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyAvLyBBY2NvcmRpb25cbiAgICBlbHNlIFxuICAgICAgYWN0aXZlQm9kaWVzLmZvckVhY2goZWwgPT4gZWwuc3R5bGUuZGlzcGxheSA9ICdibG9jaycpOyAvLyBFeHBhbmRhYmxlc1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgIGNvbnN0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgcmV0dXJuIGRvbUVsZW0uTV9Db2xsYXBzaWJsZTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9Db2xsYXBzaWJsZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5faGFuZGxlQ29sbGFwc2libGVDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlQ29sbGFwc2libGVDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlS2V5ZG93bkJvdW5kID0gdGhpcy5faGFuZGxlQ29sbGFwc2libGVLZXlkb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2tCb3VuZCk7XG4gICAgdGhpcy5faGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiBoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlS2V5ZG93bkJvdW5kKSk7XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ29sbGFwc2libGVDbGlja0JvdW5kKTtcbiAgICB0aGlzLl9oZWFkZXJzLmZvckVhY2goaGVhZGVyID0+IGhlYWRlci5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlQ29sbGFwc2libGVLZXlkb3duQm91bmQpKTtcbiAgfVxuXG4gIF9oYW5kbGVDb2xsYXBzaWJsZUNsaWNrKGUpIHtcbiAgICBjb25zdCBoZWFkZXIgPSBlLnRhcmdldC5jbG9zZXN0KCcuY29sbGFwc2libGUtaGVhZGVyJyk7XG4gICAgaWYgKGUudGFyZ2V0ICYmIGhlYWRlcikge1xuICAgICAgY29uc3QgY29sbGFwc2libGUgPSBoZWFkZXIuY2xvc2VzdCgnLmNvbGxhcHNpYmxlJyk7XG4gICAgICBpZiAoY29sbGFwc2libGUgIT09IHRoaXMuZWwpIHJldHVybjtcblxuICAgICAgY29uc3QgbGkgPSBoZWFkZXIuY2xvc2VzdCgnbGknKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gbGkuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gWy4uLmxpLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YobGkpO1xuXG4gICAgICBpZiAoaXNBY3RpdmUpXG4gICAgICAgIHRoaXMuY2xvc2UoaW5kZXgpO1xuICAgICAgZWxzZVxuICAgICAgICB0aGlzLm9wZW4oaW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVDb2xsYXBzaWJsZUtleWRvd24oZSkge1xuICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICB0aGlzLl9oYW5kbGVDb2xsYXBzaWJsZUNsaWNrQm91bmQoZSk7XG4gICAgfVxuICB9XG5cbiAgX2FuaW1hdGVJbihpbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgbGkgPSB0aGlzLmVsLmNoaWxkcmVuW2luZGV4XTtcbiAgICBpZiAoIWxpKSByZXR1cm47XG4gICAgY29uc3QgYm9keTogSFRNTEVsZW1lbnQgPSBsaS5xdWVyeVNlbGVjdG9yKCcuY29sbGFwc2libGUtYm9keScpO1xuICAgIGFuaW0ucmVtb3ZlKGJvZHkpO1xuICAgIGJvZHkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIGJvZHkuc3R5bGUuaGVpZ2h0ID0gJzAnO1xuICAgIGJvZHkuc3R5bGUucGFkZGluZ1RvcCA9ICcnO1xuICAgIGJvZHkuc3R5bGUucGFkZGluZ0JvdHRvbSA9ICcnO1xuICAgIGNvbnN0IHBUb3AgPSBnZXRDb21wdXRlZFN0eWxlKGJvZHkpLnBhZGRpbmdUb3A7IC8vICAuIGNzcygncGFkZGluZy10b3AnKTtcbiAgICBjb25zdCBwQm90dG9tID0gZ2V0Q29tcHV0ZWRTdHlsZShib2R5KS5wYWRkaW5nQm90dG9tOyAvL2JvZHkuY3NzKCdwYWRkaW5nLWJvdHRvbScpO1xuICAgIGNvbnN0IGZpbmFsSGVpZ2h0ID0gYm9keS5zY3JvbGxIZWlnaHQ7XG4gICAgYm9keS5zdHlsZS5wYWRkaW5nVG9wID0gJzAnO1xuICAgIGJvZHkuc3R5bGUucGFkZGluZ0JvdHRvbSA9ICcwJztcbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IGJvZHksXG4gICAgICBoZWlnaHQ6IGZpbmFsSGVpZ2h0LFxuICAgICAgcGFkZGluZ1RvcDogcFRvcCxcbiAgICAgIHBhZGRpbmdCb3R0b206IHBCb3R0b20sXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlSW5PdXRDdWJpYycsXG4gICAgICBjb21wbGV0ZTogKGFuaW0pID0+IHtcbiAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgICBib2R5LnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgICBib2R5LnN0eWxlLnBhZGRpbmdUb3AgPSAnJztcbiAgICAgICAgYm9keS5zdHlsZS5wYWRkaW5nQm90dG9tID0gJyc7XG4gICAgICAgIC8vIG9uT3BlbkVuZCBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuRW5kLmNhbGwodGhpcywgbGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfYW5pbWF0ZU91dChpbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgbGkgPSB0aGlzLmVsLmNoaWxkcmVuW2luZGV4XTtcbiAgICBpZiAoIWxpKSByZXR1cm47XG4gICAgY29uc3QgYm9keTogSFRNTEVsZW1lbnQgPSBsaS5xdWVyeVNlbGVjdG9yKCcuY29sbGFwc2libGUtYm9keScpO1xuICAgIGFuaW0ucmVtb3ZlKGJvZHkpO1xuICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IGJvZHksXG4gICAgICBoZWlnaHQ6IDAsXG4gICAgICBwYWRkaW5nVG9wOiAwLFxuICAgICAgcGFkZGluZ0JvdHRvbTogMCxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlSW5PdXRDdWJpYycsXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgICAgIGJvZHkuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgIGJvZHkuc3R5bGUucGFkZGluZyA9ICcnO1xuICAgICAgICBib2R5LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgLy8gb25DbG9zZUVuZCBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbCh0aGlzLCBsaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9wZW4oaW5kZXg6IG51bWJlcikge1xuICAgIGNvbnN0IGxpc3RJdGVtcyA9IEFycmF5LmZyb20odGhpcy5lbC5jaGlsZHJlbikuZmlsdGVyKGMgPT4gYy50YWdOYW1lID09PSAnTEknKTtcbiAgICBjb25zdCBsaSA9IGxpc3RJdGVtc1tpbmRleF07XG4gICAgaWYgKGxpICYmICFsaS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgbGkpO1xuICAgICAgfVxuICAgICAgLy8gSGFuZGxlIGFjY29yZGlvbiBiZWhhdmlvclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hY2NvcmRpb24pIHtcbiAgICAgICAgY29uc3QgYWN0aXZlTGlzID0gbGlzdEl0ZW1zLmZpbHRlcihsaSA9PiBsaS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKTtcbiAgICAgICAgYWN0aXZlTGlzLmZvckVhY2goYWN0aXZlTGkgPT4ge1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdEl0ZW1zLmluZGV4T2YoYWN0aXZlTGkpO1xuICAgICAgICAgIHRoaXMuY2xvc2UoaW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIEFuaW1hdGUgaW5cbiAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5fYW5pbWF0ZUluKGluZGV4KTtcbiAgICB9XG4gIH1cblxuICBjbG9zZShpbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgbGkgPSBBcnJheS5mcm9tKHRoaXMuZWwuY2hpbGRyZW4pLmZpbHRlcihjID0+IGMudGFnTmFtZSA9PT0gJ0xJJylbaW5kZXhdO1xuICAgIGlmIChsaSAmJiBsaS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAvLyBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgbGkpO1xuICAgICAgfVxuICAgICAgLy8gQW5pbWF0ZSBvdXRcbiAgICAgIGxpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5fYW5pbWF0ZU91dChpbmRleCk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/collapsible.ts\n");

/***/ }),

/***/ "./src/component.ts":
/*!**************************!*\
  !*** ./src/component.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Component = void 0;\nclass Component {\n    constructor(classDef, el, options) {\n        this.el = el;\n        this.options = options;\n        // Display error if el is valid HTML Element\n        if (!(el instanceof Element)) {\n            console.error(Error(el + ' is not an HTML Element'));\n        }\n        // If exists, destroy and reinitialize in child\n        let ins = classDef.getInstance(el);\n        if (!!ins) {\n            ins.destroy();\n        }\n        this.el = el;\n    }\n    static init(classDef, els, options) {\n        let instances = null;\n        if (els instanceof Element) {\n            instances = new classDef(els, options);\n        }\n        else if (!!els && (els.jquery || els.cash || els instanceof NodeList || els instanceof HTMLCollection)) {\n            let instancesArr = [];\n            for (let i = 0; i < els.length; i++) {\n                instancesArr.push(new classDef(els[i], options));\n            }\n            instances = instancesArr;\n        }\n        return instances;\n    }\n}\nexports.Component = Component;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50LnRzLmpzIiwibWFwcGluZ3MiOiI7OztBQUNBLE1BQWEsU0FBUztJQUVwQixZQUFZLFFBQVEsRUFBWSxFQUFXLEVBQVksT0FBTztRQUE5QixPQUFFLEdBQUYsRUFBRSxDQUFTO1FBQVksWUFBTyxHQUFQLE9BQU87UUFDNUQsNENBQTRDO1FBQzVDLElBQUksQ0FBQyxDQUFDLEVBQUUsWUFBWSxPQUFPLENBQUMsRUFBRTtZQUM1QixPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcseUJBQXlCLENBQUMsQ0FBQyxDQUFDO1NBQ3REO1FBQ0QsK0NBQStDO1FBQy9DLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFO1lBQ1QsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ2Y7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUNmLENBQUM7SUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsT0FBTztRQUNoQyxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxHQUFHLFlBQVksT0FBTyxFQUFFO1lBQzFCLFNBQVMsR0FBRyxJQUFJLFFBQVEsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDeEM7YUFDSSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLEdBQUcsQ0FBQyxJQUFJLElBQUksR0FBRyxZQUFZLFFBQVEsSUFBSSxHQUFHLFlBQVksY0FBYyxDQUFDLEVBQUU7WUFDdEcsSUFBSSxZQUFZLEdBQUcsRUFBRSxDQUFDO1lBQ3RCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNuQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO2FBQ2xEO1lBQ0QsU0FBUyxHQUFHLFlBQVksQ0FBQztTQUMxQjtRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7Q0FDRjtBQTdCRCw4QkE2QkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL2NvbXBvbmVudC50cz80MzllIl0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7XG5cbiAgY29uc3RydWN0b3IoY2xhc3NEZWYsIHByb3RlY3RlZCBlbDogRWxlbWVudCwgcHJvdGVjdGVkIG9wdGlvbnMpIHtcbiAgICAvLyBEaXNwbGF5IGVycm9yIGlmIGVsIGlzIHZhbGlkIEhUTUwgRWxlbWVudFxuICAgIGlmICghKGVsIGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoRXJyb3IoZWwgKyAnIGlzIG5vdCBhbiBIVE1MIEVsZW1lbnQnKSk7XG4gICAgfVxuICAgIC8vIElmIGV4aXN0cywgZGVzdHJveSBhbmQgcmVpbml0aWFsaXplIGluIGNoaWxkXG4gICAgbGV0IGlucyA9IGNsYXNzRGVmLmdldEluc3RhbmNlKGVsKTtcbiAgICBpZiAoISFpbnMpIHtcbiAgICAgIGlucy5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuZWwgPSBlbDtcbiAgfVxuXG4gIHN0YXRpYyBpbml0KGNsYXNzRGVmLCBlbHMsIG9wdGlvbnMpIHtcbiAgICBsZXQgaW5zdGFuY2VzID0gbnVsbDtcbiAgICBpZiAoZWxzIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgaW5zdGFuY2VzID0gbmV3IGNsYXNzRGVmKGVscywgb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCEhZWxzICYmIChlbHMuanF1ZXJ5IHx8IGVscy5jYXNoIHx8IGVscyBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8IGVscyBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9uKSkge1xuICAgICAgbGV0IGluc3RhbmNlc0FyciA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5zdGFuY2VzQXJyLnB1c2gobmV3IGNsYXNzRGVmKGVsc1tpXSwgb3B0aW9ucykpO1xuICAgICAgfVxuICAgICAgaW5zdGFuY2VzID0gaW5zdGFuY2VzQXJyO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2VzO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/component.ts\n");

/***/ }),

/***/ "./src/datepicker.ts":
/*!***************************!*\
  !*** ./src/datepicker.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Datepicker = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst modal_1 = __webpack_require__(/*! ./modal */ \"./src/modal.ts\");\nconst select_1 = __webpack_require__(/*! ./select */ \"./src/select.ts\");\nlet _defaults = {\n    // Close when date is selected\n    autoClose: false,\n    // the default output format for the input field value\n    format: 'mmm dd, yyyy',\n    // Used to create date object from current input string\n    parse: null,\n    // The initial date to view when first opened\n    defaultDate: null,\n    // Make the `defaultDate` the initial selected value\n    setDefaultDate: false,\n    disableWeekends: false,\n    disableDayFn: null,\n    // First day of week (0: Sunday, 1: Monday etc)\n    firstDay: 0,\n    // The earliest date that can be selected\n    minDate: null,\n    // Thelatest date that can be selected\n    maxDate: null,\n    // Number of years either side, or array of upper/lower range\n    yearRange: 10,\n    // used internally (don't config outside)\n    minYear: 0,\n    maxYear: 9999,\n    minMonth: undefined,\n    maxMonth: undefined,\n    startRange: null,\n    endRange: null,\n    isRTL: false,\n    // Render the month after year in the calendar title\n    showMonthAfterYear: false,\n    // Render days of the calendar grid that fall in the next or previous month\n    showDaysInNextAndPreviousMonths: false,\n    // Specify a DOM element to render the calendar in\n    container: null,\n    // Show clear button\n    showClearBtn: false,\n    // internationalization\n    i18n: {\n        cancel: 'Cancel',\n        clear: 'Clear',\n        done: 'Ok',\n        previousMonth: 'â¹',\n        nextMonth: 'âº',\n        months: [\n            'January',\n            'February',\n            'March',\n            'April',\n            'May',\n            'June',\n            'July',\n            'August',\n            'September',\n            'October',\n            'November',\n            'December'\n        ],\n        monthsShort: [\n            'Jan',\n            'Feb',\n            'Mar',\n            'Apr',\n            'May',\n            'Jun',\n            'Jul',\n            'Aug',\n            'Sep',\n            'Oct',\n            'Nov',\n            'Dec'\n        ],\n        weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n        weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n        weekdaysAbbrev: ['S', 'M', 'T', 'W', 'T', 'F', 'S']\n    },\n    // events array\n    events: [],\n    // callback function\n    onSelect: null,\n    onOpen: null,\n    onClose: null,\n    onDraw: null\n};\nclass Datepicker extends component_1.Component {\n    constructor(el, options) {\n        super(Datepicker, el, options);\n        this.el.M_Datepicker = this;\n        this.options = Object.assign(Object.assign({}, Datepicker.defaults), options);\n        // make sure i18n defaults are not lost when only few i18n option properties are passed\n        if (!!options && options.hasOwnProperty('i18n') && typeof options.i18n === 'object') {\n            this.options.i18n = Object.assign(Object.assign({}, Datepicker.defaults.i18n), options.i18n);\n        }\n        // Remove time component from minDate and maxDate options\n        if (this.options.minDate)\n            this.options.minDate.setHours(0, 0, 0, 0);\n        if (this.options.maxDate)\n            this.options.maxDate.setHours(0, 0, 0, 0);\n        this.id = global_1.M.guid();\n        this._setupVariables();\n        this._insertHTMLIntoDOM();\n        this._setupModal();\n        this._setupEventHandlers();\n        if (!this.options.defaultDate) {\n            this.options.defaultDate = new Date(Date.parse(this.el.value));\n        }\n        let defDate = this.options.defaultDate;\n        if (Datepicker._isDate(defDate)) {\n            if (this.options.setDefaultDate) {\n                this.setDate(defDate, true);\n                this.setInputValue();\n            }\n            else {\n                this.gotoDate(defDate);\n            }\n        }\n        else {\n            this.gotoDate(new Date());\n        }\n        this.isOpen = false;\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static _isDate(obj) {\n        return /Date/.test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    }\n    static _isWeekend(date) {\n        let day = date.getDay();\n        return day === 0 || day === 6;\n    }\n    static _setToStartOfDay(date) {\n        if (Datepicker._isDate(date))\n            date.setHours(0, 0, 0, 0);\n    }\n    static _getDaysInMonth(year, month) {\n        return [31, Datepicker._isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    }\n    static _isLeapYear(year) {\n        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n    static _compareDates(a, b) {\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n        return a.getTime() === b.getTime();\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Datepicker;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.modal.destroy();\n        this.modalEl.remove();\n        this.destroySelects();\n        this.el.M_Datepicker = undefined;\n    }\n    destroySelects() {\n        let oldYearSelect = this.calendarEl.querySelector('.orig-select-year');\n        if (oldYearSelect) {\n            select_1.FormSelect.getInstance(oldYearSelect).destroy();\n        }\n        let oldMonthSelect = this.calendarEl.querySelector('.orig-select-month');\n        if (oldMonthSelect) {\n            select_1.FormSelect.getInstance(oldMonthSelect).destroy();\n        }\n    }\n    _insertHTMLIntoDOM() {\n        if (this.options.showClearBtn) {\n            this.clearBtn.style.visibility = '';\n            this.clearBtn.innerText = this.options.i18n.clear;\n        }\n        this.doneBtn.innerText = this.options.i18n.done;\n        this.cancelBtn.innerText = this.options.i18n.cancel;\n        if (this.options.container) {\n            const optEl = this.options.container;\n            this.options.container =\n                optEl instanceof HTMLElement ? optEl : document.querySelector(optEl);\n            this.options.container.append(this.modalEl);\n        }\n        else {\n            //this.modalEl.before(this.el);\n            this.el.parentElement.appendChild(this.modalEl);\n        }\n    }\n    _setupModal() {\n        this.modalEl.id = 'modal-' + this.id;\n        this.modal = modal_1.Modal.init(this.modalEl, {\n            onCloseEnd: () => {\n                this.isOpen = false;\n            }\n        });\n    }\n    toString(format = null) {\n        format = format || this.options.format;\n        if (typeof format === 'function')\n            return format(this.date);\n        if (!Datepicker._isDate(this.date))\n            return '';\n        // String Format\n        const formatArray = format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g);\n        const formattedDate = formatArray\n            .map(label => this.formats[label] ? this.formats[label]() : label)\n            .join('');\n        return formattedDate;\n    }\n    setDate(date, preventOnSelect = false) {\n        if (!date) {\n            this.date = null;\n            this._renderDateDisplay();\n            return this.draw();\n        }\n        if (typeof date === 'string') {\n            date = new Date(Date.parse(date));\n        }\n        if (!Datepicker._isDate(date)) {\n            return;\n        }\n        let min = this.options.minDate, max = this.options.maxDate;\n        if (Datepicker._isDate(min) && date < min) {\n            date = min;\n        }\n        else if (Datepicker._isDate(max) && date > max) {\n            date = max;\n        }\n        this.date = new Date(date.getTime());\n        this._renderDateDisplay();\n        Datepicker._setToStartOfDay(this.date);\n        this.gotoDate(this.date);\n        if (!preventOnSelect && typeof this.options.onSelect === 'function') {\n            this.options.onSelect.call(this, this.date);\n        }\n    }\n    setInputValue() {\n        this.el.value = this.toString();\n        this.el.dispatchEvent(new CustomEvent('change', { detail: { firedBy: this } }));\n    }\n    _renderDateDisplay() {\n        let displayDate = Datepicker._isDate(this.date) ? this.date : new Date();\n        let i18n = this.options.i18n;\n        let day = i18n.weekdaysShort[displayDate.getDay()];\n        let month = i18n.monthsShort[displayDate.getMonth()];\n        let date = displayDate.getDate();\n        this.yearTextEl.innerHTML = displayDate.getFullYear();\n        this.dateTextEl.innerHTML = `${day}, ${month} ${date}`;\n    }\n    gotoDate(date) {\n        let newCalendar = true;\n        if (!Datepicker._isDate(date)) {\n            return;\n        }\n        if (this.calendars) {\n            let firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1), lastVisibleDate = new Date(this.calendars[this.calendars.length - 1].year, this.calendars[this.calendars.length - 1].month, 1), visibleDate = date.getTime();\n            // get the end of the month\n            lastVisibleDate.setMonth(lastVisibleDate.getMonth() + 1);\n            lastVisibleDate.setDate(lastVisibleDate.getDate() - 1);\n            newCalendar =\n                visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate;\n        }\n        if (newCalendar) {\n            this.calendars = [\n                {\n                    month: date.getMonth(),\n                    year: date.getFullYear()\n                }\n            ];\n        }\n        this.adjustCalendars();\n    }\n    adjustCalendars() {\n        this.calendars[0] = this.adjustCalendar(this.calendars[0]);\n        this.draw();\n    }\n    adjustCalendar(calendar) {\n        if (calendar.month < 0) {\n            calendar.year -= Math.ceil(Math.abs(calendar.month) / 12);\n            calendar.month += 12;\n        }\n        if (calendar.month > 11) {\n            calendar.year += Math.floor(Math.abs(calendar.month) / 12);\n            calendar.month -= 12;\n        }\n        return calendar;\n    }\n    nextMonth() {\n        this.calendars[0].month++;\n        this.adjustCalendars();\n    }\n    prevMonth() {\n        this.calendars[0].month--;\n        this.adjustCalendars();\n    }\n    render(year, month, randId) {\n        let opts = this.options, now = new Date(), days = Datepicker._getDaysInMonth(year, month), before = new Date(year, month, 1).getDay(), data = [], row = [];\n        Datepicker._setToStartOfDay(now);\n        if (opts.firstDay > 0) {\n            before -= opts.firstDay;\n            if (before < 0) {\n                before += 7;\n            }\n        }\n        let previousMonth = month === 0 ? 11 : month - 1, nextMonth = month === 11 ? 0 : month + 1, yearOfPreviousMonth = month === 0 ? year - 1 : year, yearOfNextMonth = month === 11 ? year + 1 : year, daysInPreviousMonth = Datepicker._getDaysInMonth(yearOfPreviousMonth, previousMonth);\n        let cells = days + before, after = cells;\n        while (after > 7) {\n            after -= 7;\n        }\n        cells += 7 - after;\n        let isWeekSelected = false;\n        for (let i = 0, r = 0; i < cells; i++) {\n            let day = new Date(year, month, 1 + (i - before)), isSelected = Datepicker._isDate(this.date)\n                ? Datepicker._compareDates(day, this.date)\n                : false, isToday = Datepicker._compareDates(day, now), hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false, isEmpty = i < before || i >= days + before, dayNumber = 1 + (i - before), monthNumber = month, yearNumber = year, isStartRange = opts.startRange && Datepicker._compareDates(opts.startRange, day), isEndRange = opts.endRange && Datepicker._compareDates(opts.endRange, day), isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange, isDisabled = (opts.minDate && day < opts.minDate) ||\n                (opts.maxDate && day > opts.maxDate) ||\n                (opts.disableWeekends && Datepicker._isWeekend(day)) ||\n                (opts.disableDayFn && opts.disableDayFn(day));\n            if (isEmpty) {\n                if (i < before) {\n                    dayNumber = daysInPreviousMonth + dayNumber;\n                    monthNumber = previousMonth;\n                    yearNumber = yearOfPreviousMonth;\n                }\n                else {\n                    dayNumber = dayNumber - days;\n                    monthNumber = nextMonth;\n                    yearNumber = yearOfNextMonth;\n                }\n            }\n            let dayConfig = {\n                day: dayNumber,\n                month: monthNumber,\n                year: yearNumber,\n                hasEvent: hasEvent,\n                isSelected: isSelected,\n                isToday: isToday,\n                isDisabled: isDisabled,\n                isEmpty: isEmpty,\n                isStartRange: isStartRange,\n                isEndRange: isEndRange,\n                isInRange: isInRange,\n                showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths\n            };\n            row.push(this.renderDay(dayConfig));\n            if (++r === 7) {\n                data.push(this.renderRow(row, opts.isRTL, isWeekSelected));\n                row = [];\n                r = 0;\n                isWeekSelected = false;\n            }\n        }\n        return this.renderTable(opts, data, randId);\n    }\n    renderDay(opts) {\n        let arr = [];\n        let ariaSelected = 'false';\n        if (opts.isEmpty) {\n            if (opts.showDaysInNextAndPreviousMonths) {\n                arr.push('is-outside-current-month');\n                arr.push('is-selection-disabled');\n            }\n            else {\n                return '<td class=\"is-empty\"></td>';\n            }\n        }\n        if (opts.isDisabled) {\n            arr.push('is-disabled');\n        }\n        if (opts.isToday) {\n            arr.push('is-today');\n        }\n        if (opts.isSelected) {\n            arr.push('is-selected');\n            ariaSelected = 'true';\n        }\n        if (opts.hasEvent) {\n            arr.push('has-event');\n        }\n        if (opts.isInRange) {\n            arr.push('is-inrange');\n        }\n        if (opts.isStartRange) {\n            arr.push('is-startrange');\n        }\n        if (opts.isEndRange) {\n            arr.push('is-endrange');\n        }\n        return (`<td data-day=\"${opts.day}\" class=\"${arr.join(' ')}\" aria-selected=\"${ariaSelected}\">` +\n            `<button class=\"datepicker-day-button\" type=\"button\" data-year=\"${opts.year}\" data-month=\"${opts.month}\" data-day=\"${opts.day}\">${opts.day}</button>` +\n            '</td>');\n    }\n    renderRow(days, isRTL, isRowSelected) {\n        return ('<tr class=\"datepicker-row' +\n            (isRowSelected ? ' is-selected' : '') +\n            '\">' +\n            (isRTL ? days.reverse() : days).join('') +\n            '</tr>');\n    }\n    renderTable(opts, data, randId) {\n        return ('<div class=\"datepicker-table-wrapper\"><table cellpadding=\"0\" cellspacing=\"0\" class=\"datepicker-table\" role=\"grid\" aria-labelledby=\"' +\n            randId +\n            '\">' +\n            this.renderHead(opts) +\n            this.renderBody(data) +\n            '</table></div>');\n    }\n    renderHead(opts) {\n        let i, arr = [];\n        for (i = 0; i < 7; i++) {\n            arr.push(`<th scope=\"col\"><abbr title=\"${this.renderDayName(opts, i)}\">${this.renderDayName(opts, i, true)}</abbr></th>`);\n        }\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    }\n    renderBody(rows) {\n        return '<tbody>' + rows.join('') + '</tbody>';\n    }\n    renderTitle(instance, c, year, month, refYear, randId) {\n        let i, j, arr, opts = this.options, isMinYear = year === opts.minYear, isMaxYear = year === opts.maxYear, html = '<div id=\"' +\n            randId +\n            '\" class=\"datepicker-controls\" role=\"heading\" aria-live=\"assertive\">', monthHtml, yearHtml, prev = true, next = true;\n        for (arr = [], i = 0; i < 12; i++) {\n            arr.push('<option value=\"' +\n                (year === refYear ? i - c : 12 + i - c) +\n                '\"' +\n                (i === month ? ' selected=\"selected\"' : '') +\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth)\n                    ? 'disabled=\"disabled\"'\n                    : '') +\n                '>' +\n                opts.i18n.months[i] +\n                '</option>');\n        }\n        monthHtml = '<select class=\"datepicker-select orig-select-month\" tabindex=\"-1\">' + arr.join('') + '</select>';\n        if (Array.isArray(opts.yearRange)) {\n            i = opts.yearRange[0];\n            j = opts.yearRange[1] + 1;\n        }\n        else {\n            i = year - opts.yearRange;\n            j = 1 + year + opts.yearRange;\n        }\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\n            if (i >= opts.minYear) {\n                arr.push(`<option value=\"${i}\" ${i === year ? 'selected=\"selected\"' : ''}>${i}</option>`);\n            }\n        }\n        if (opts.yearRangeReverse)\n            arr.reverse();\n        yearHtml = `<select class=\"datepicker-select orig-select-year\" tabindex=\"-1\">${arr.join('')}</select>`;\n        let leftArrow = '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"/><path d=\"M0-.5h24v24H0z\" fill=\"none\"/></svg>';\n        html += `<button class=\"month-prev${prev ? '' : ' is-disabled'} btn-flat\" type=\"button\">${leftArrow}</button>`;\n        html += '<div class=\"selects-container\">';\n        if (opts.showMonthAfterYear) {\n            html += yearHtml + monthHtml;\n        }\n        else {\n            html += monthHtml + yearHtml;\n        }\n        html += '</div>';\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n            prev = false;\n        }\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n            next = false;\n        }\n        let rightArrow = '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"/><path d=\"M0-.25h24v24H0z\" fill=\"none\"/></svg>';\n        html += `<button class=\"month-next${next ? '' : ' is-disabled'} btn-flat\" type=\"button\">${rightArrow}</button>`;\n        return (html += '</div>');\n    }\n    // refresh HTML\n    draw(force = false) {\n        if (!this.isOpen && !force)\n            return;\n        let opts = this.options, minYear = opts.minYear, maxYear = opts.maxYear, minMonth = opts.minMonth, maxMonth = opts.maxMonth, html = '', randId;\n        if (this._y <= minYear) {\n            this._y = minYear;\n            if (!isNaN(minMonth) && this._m < minMonth) {\n                this._m = minMonth;\n            }\n        }\n        if (this._y >= maxYear) {\n            this._y = maxYear;\n            if (!isNaN(maxMonth) && this._m > maxMonth) {\n                this._m = maxMonth;\n            }\n        }\n        randId =\n            'datepicker-title-' +\n                Math.random()\n                    .toString(36)\n                    .replace(/[^a-z]+/g, '')\n                    .substr(0, 2);\n        for (let c = 0; c < 1; c++) {\n            this._renderDateDisplay();\n            html +=\n                this.renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId);\n        }\n        this.destroySelects();\n        this.calendarEl.innerHTML = html;\n        // Init Materialize Select\n        let yearSelect = this.calendarEl.querySelector('.orig-select-year');\n        let monthSelect = this.calendarEl.querySelector('.orig-select-month');\n        select_1.FormSelect.init(yearSelect, {\n            classes: 'select-year',\n            dropdownOptions: { container: document.body, constrainWidth: false }\n        });\n        select_1.FormSelect.init(monthSelect, {\n            classes: 'select-month',\n            dropdownOptions: { container: document.body, constrainWidth: false }\n        });\n        // Add change handlers for select\n        yearSelect.addEventListener('change', this._handleYearChange.bind(this));\n        monthSelect.addEventListener('change', this._handleMonthChange.bind(this));\n        if (typeof this.options.onDraw === 'function') {\n            this.options.onDraw(this);\n        }\n    }\n    _setupEventHandlers() {\n        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);\n        this._handleInputClickBound = this._handleInputClick.bind(this);\n        this._handleInputChangeBound = this._handleInputChange.bind(this);\n        this._handleCalendarClickBound = this._handleCalendarClick.bind(this);\n        this._finishSelectionBound = this._finishSelection.bind(this);\n        this._handleMonthChange = this._handleMonthChange.bind(this);\n        this._closeBound = this.close.bind(this);\n        this.el.addEventListener('click', this._handleInputClickBound);\n        this.el.addEventListener('keydown', this._handleInputKeydownBound);\n        this.el.addEventListener('change', this._handleInputChangeBound);\n        this.calendarEl.addEventListener('click', this._handleCalendarClickBound);\n        this.doneBtn.addEventListener('click', this._finishSelectionBound);\n        this.cancelBtn.addEventListener('click', this._closeBound);\n        if (this.options.showClearBtn) {\n            this._handleClearClickBound = this._handleClearClick.bind(this);\n            this.clearBtn.addEventListener('click', this._handleClearClickBound);\n        }\n    }\n    _setupVariables() {\n        const template = document.createElement('template');\n        template.innerHTML = Datepicker._template.trim();\n        this.modalEl = template.content.firstChild;\n        this.calendarEl = this.modalEl.querySelector('.datepicker-calendar');\n        this.yearTextEl = this.modalEl.querySelector('.year-text');\n        this.dateTextEl = this.modalEl.querySelector('.date-text');\n        if (this.options.showClearBtn) {\n            this.clearBtn = this.modalEl.querySelector('.datepicker-clear');\n        }\n        this.doneBtn = this.modalEl.querySelector('.datepicker-done');\n        this.cancelBtn = this.modalEl.querySelector('.datepicker-cancel');\n        this.formats = {\n            d: () => {\n                return this.date.getDate();\n            },\n            dd: () => {\n                let d = this.date.getDate();\n                return (d < 10 ? '0' : '') + d;\n            },\n            ddd: () => {\n                return this.options.i18n.weekdaysShort[this.date.getDay()];\n            },\n            dddd: () => {\n                return this.options.i18n.weekdays[this.date.getDay()];\n            },\n            m: () => {\n                return this.date.getMonth() + 1;\n            },\n            mm: () => {\n                let m = this.date.getMonth() + 1;\n                return (m < 10 ? '0' : '') + m;\n            },\n            mmm: () => {\n                return this.options.i18n.monthsShort[this.date.getMonth()];\n            },\n            mmmm: () => {\n                return this.options.i18n.months[this.date.getMonth()];\n            },\n            yy: () => {\n                return ('' + this.date.getFullYear()).slice(2);\n            },\n            yyyy: () => {\n                return this.date.getFullYear();\n            }\n        };\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleInputClickBound);\n        this.el.removeEventListener('keydown', this._handleInputKeydownBound);\n        this.el.removeEventListener('change', this._handleInputChangeBound);\n        this.calendarEl.removeEventListener('click', this._handleCalendarClickBound);\n    }\n    _handleInputClick() {\n        this.open();\n    }\n    _handleInputKeydown(e) {\n        if (e.which === global_1.M.keys.ENTER) {\n            e.preventDefault();\n            this.open();\n        }\n    }\n    _handleCalendarClick(e) {\n        if (!this.isOpen)\n            return;\n        const target = (e.target);\n        if (!target.classList.contains('is-disabled')) {\n            if (target.classList.contains('datepicker-day-button') &&\n                !target.classList.contains('is-empty') &&\n                !target.parentElement.classList.contains('is-disabled')) {\n                this.setDate(new Date(e.target.getAttribute('data-year'), e.target.getAttribute('data-month'), e.target.getAttribute('data-day')));\n                if (this.options.autoClose) {\n                    this._finishSelection();\n                }\n            }\n            else if (target.closest('.month-prev')) {\n                this.prevMonth();\n            }\n            else if (target.closest('.month-next')) {\n                this.nextMonth();\n            }\n        }\n    }\n    _handleClearClick() {\n        this.date = null;\n        this.setInputValue();\n        this.close();\n    }\n    _handleMonthChange(e) {\n        this.gotoMonth(e.target.value);\n    }\n    _handleYearChange(e) {\n        this.gotoYear(e.target.value);\n    }\n    // change view to a specific month (zero-index, e.g. 0: January)\n    gotoMonth(month) {\n        if (!isNaN(month)) {\n            this.calendars[0].month = parseInt(month, 10);\n            this.adjustCalendars();\n        }\n    }\n    // change view to a specific full year (e.g. \"2012\")\n    gotoYear(year) {\n        if (!isNaN(year)) {\n            this.calendars[0].year = parseInt(year, 10);\n            this.adjustCalendars();\n        }\n    }\n    _handleInputChange(e) {\n        var _a;\n        let date;\n        // Prevent change event from being fired when triggered by the plugin\n        if (((_a = e['detail']) === null || _a === void 0 ? void 0 : _a.firedBy) === this)\n            return;\n        if (this.options.parse) {\n            date = this.options.parse(this.el.value, this.options.format);\n        }\n        else {\n            date = new Date(Date.parse(this.el.value));\n        }\n        if (Datepicker._isDate(date))\n            this.setDate(date);\n    }\n    renderDayName(opts, day, abbr = false) {\n        day += opts.firstDay;\n        while (day >= 7) {\n            day -= 7;\n        }\n        return abbr ? opts.i18n.weekdaysAbbrev[day] : opts.i18n.weekdays[day];\n    }\n    // Set input value to the selected date and close Datepicker\n    _finishSelection() {\n        this.setInputValue();\n        this.close();\n    }\n    open() {\n        if (this.isOpen)\n            return;\n        this.isOpen = true;\n        if (typeof this.options.onOpen === 'function') {\n            this.options.onOpen.call(this);\n        }\n        this.draw();\n        this.modal.open(undefined);\n        return this;\n    }\n    close() {\n        if (!this.isOpen)\n            return;\n        this.isOpen = false;\n        if (typeof this.options.onClose === 'function') {\n            this.options.onClose.call(this);\n        }\n        this.modal.close();\n        return this;\n    }\n}\nexports.Datepicker = Datepicker;\n(() => {\n    Datepicker._template = `\n        <div class=\"modal datepicker-modal\">\n          <div class=\"modal-content datepicker-container\">\n            <div class=\"datepicker-date-display\">\n              <span class=\"year-text\"></span>\n              <span class=\"date-text\"></span>\n            </div>\n            <div class=\"datepicker-calendar-container\">\n              <div class=\"datepicker-calendar\"></div>\n              <div class=\"datepicker-footer\">\n                <button class=\"btn-flat datepicker-clear waves-effect\" style=\"visibility: hidden;\" type=\"button\"></button>\n                <div class=\"confirmation-btns\">\n                  <button class=\"btn-flat datepicker-cancel waves-effect\" type=\"button\"></button>\n                  <button class=\"btn-flat datepicker-done waves-effect\" type=\"button\"></button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>`;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUFBVSxFQUFFO1lBQzlDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNqQztRQUNELElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDbkIsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0NBdUJGO0FBdHlCRCxnQ0FzeUJDO0FBckJDO0lBQ0UsVUFBVSxDQUFDLFNBQVMsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7O2VBa0JkLENBQUM7QUFDWixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTS8uL3NyYy9kYXRlcGlja2VyLnRzP2E5MzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gXCIuL21vZGFsXCI7XG5pbXBvcnQgeyBGb3JtU2VsZWN0IH0gZnJvbSBcIi4vc2VsZWN0XCI7XG5cbmxldCBfZGVmYXVsdHMgPSB7XG4gIC8vIENsb3NlIHdoZW4gZGF0ZSBpcyBzZWxlY3RlZFxuICBhdXRvQ2xvc2U6IGZhbHNlLFxuICAvLyB0aGUgZGVmYXVsdCBvdXRwdXQgZm9ybWF0IGZvciB0aGUgaW5wdXQgZmllbGQgdmFsdWVcbiAgZm9ybWF0OiAnbW1tIGRkLCB5eXl5JyxcbiAgLy8gVXNlZCB0byBjcmVhdGUgZGF0ZSBvYmplY3QgZnJvbSBjdXJyZW50IGlucHV0IHN0cmluZ1xuICBwYXJzZTogbnVsbCxcbiAgLy8gVGhlIGluaXRpYWwgZGF0ZSB0byB2aWV3IHdoZW4gZmlyc3Qgb3BlbmVkXG4gIGRlZmF1bHREYXRlOiBudWxsLFxuICAvLyBNYWtlIHRoZSBgZGVmYXVsdERhdGVgIHRoZSBpbml0aWFsIHNlbGVjdGVkIHZhbHVlXG4gIHNldERlZmF1bHREYXRlOiBmYWxzZSxcbiAgZGlzYWJsZVdlZWtlbmRzOiBmYWxzZSxcbiAgZGlzYWJsZURheUZuOiBudWxsLFxuICAvLyBGaXJzdCBkYXkgb2Ygd2VlayAoMDogU3VuZGF5LCAxOiBNb25kYXkgZXRjKVxuICBmaXJzdERheTogMCxcbiAgLy8gVGhlIGVhcmxpZXN0IGRhdGUgdGhhdCBjYW4gYmUgc2VsZWN0ZWRcbiAgbWluRGF0ZTogbnVsbCxcbiAgLy8gVGhlbGF0ZXN0IGRhdGUgdGhhdCBjYW4gYmUgc2VsZWN0ZWRcbiAgbWF4RGF0ZTogbnVsbCxcbiAgLy8gTnVtYmVyIG9mIHllYXJzIGVpdGhlciBzaWRlLCBvciBhcnJheSBvZiB1cHBlci9sb3dlciByYW5nZVxuICB5ZWFyUmFuZ2U6IDEwLFxuICAvLyB1c2VkIGludGVybmFsbHkgKGRvbid0IGNvbmZpZyBvdXRzaWRlKVxuICBtaW5ZZWFyOiAwLFxuICBtYXhZZWFyOiA5OTk5LFxuICBtaW5Nb250aDogdW5kZWZpbmVkLFxuICBtYXhNb250aDogdW5kZWZpbmVkLFxuICBzdGFydFJhbmdlOiBudWxsLFxuICBlbmRSYW5nZTogbnVsbCxcbiAgaXNSVEw6IGZhbHNlLFxuICAvLyBSZW5kZXIgdGhlIG1vbnRoIGFmdGVyIHllYXIgaW4gdGhlIGNhbGVuZGFyIHRpdGxlXG4gIHNob3dNb250aEFmdGVyWWVhcjogZmFsc2UsXG4gIC8vIFJlbmRlciBkYXlzIG9mIHRoZSBjYWxlbmRhciBncmlkIHRoYXQgZmFsbCBpbiB0aGUgbmV4dCBvciBwcmV2aW91cyBtb250aFxuICBzaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzOiBmYWxzZSxcbiAgLy8gU3BlY2lmeSBhIERPTSBlbGVtZW50IHRvIHJlbmRlciB0aGUgY2FsZW5kYXIgaW5cbiAgY29udGFpbmVyOiBudWxsLFxuICAvLyBTaG93IGNsZWFyIGJ1dHRvblxuICBzaG93Q2xlYXJCdG46IGZhbHNlLFxuICAvLyBpbnRlcm5hdGlvbmFsaXphdGlvblxuICBpMThuOiB7XG4gICAgY2FuY2VsOiAnQ2FuY2VsJyxcbiAgICBjbGVhcjogJ0NsZWFyJyxcbiAgICBkb25lOiAnT2snLFxuICAgIHByZXZpb3VzTW9udGg6ICfigLknLFxuICAgIG5leHRNb250aDogJ+KAuicsXG4gICAgbW9udGhzOiBbXG4gICAgICAnSmFudWFyeScsXG4gICAgICAnRmVicnVhcnknLFxuICAgICAgJ01hcmNoJyxcbiAgICAgICdBcHJpbCcsXG4gICAgICAnTWF5JyxcbiAgICAgICdKdW5lJyxcbiAgICAgICdKdWx5JyxcbiAgICAgICdBdWd1c3QnLFxuICAgICAgJ1NlcHRlbWJlcicsXG4gICAgICAnT2N0b2JlcicsXG4gICAgICAnTm92ZW1iZXInLFxuICAgICAgJ0RlY2VtYmVyJ1xuICAgIF0sXG4gICAgbW9udGhzU2hvcnQ6IFtcbiAgICAgICdKYW4nLFxuICAgICAgJ0ZlYicsXG4gICAgICAnTWFyJyxcbiAgICAgICdBcHInLFxuICAgICAgJ01heScsXG4gICAgICAnSnVuJyxcbiAgICAgICdKdWwnLFxuICAgICAgJ0F1ZycsXG4gICAgICAnU2VwJyxcbiAgICAgICdPY3QnLFxuICAgICAgJ05vdicsXG4gICAgICAnRGVjJ1xuICAgIF0sXG4gICAgd2Vla2RheXM6IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXSxcbiAgICB3ZWVrZGF5c1Nob3J0OiBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddLFxuICAgIHdlZWtkYXlzQWJicmV2OiBbJ1MnLCAnTScsICdUJywgJ1cnLCAnVCcsICdGJywgJ1MnXVxuICB9LFxuICAvLyBldmVudHMgYXJyYXlcbiAgZXZlbnRzOiBbXSxcbiAgLy8gY2FsbGJhY2sgZnVuY3Rpb25cbiAgb25TZWxlY3Q6IG51bGwsXG4gIG9uT3BlbjogbnVsbCxcbiAgb25DbG9zZTogbnVsbCxcbiAgb25EcmF3OiBudWxsXG59O1xuXG4gIGV4cG9ydCBjbGFzcyBEYXRlcGlja2VyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBlbDogSFRNTElucHV0RWxlbWVudFxuICAgIGlkOiBzdHJpbmc7XG4gICAgaXNPcGVuOiBib29sZWFuO1xuICAgIG1vZGFsOiBNb2RhbDtcbiAgICBjYWxlbmRhckVsOiBIVE1MRWxlbWVudDtcbiAgICBjbGVhckJ0bjogSFRNTEVsZW1lbnQ7XG4gICAgZG9uZUJ0bjogSFRNTEVsZW1lbnQ7XG4gICAgY2FuY2VsQnRuOiBIVE1MRWxlbWVudDtcbiAgICBtb2RhbEVsOiBIVE1MRWxlbWVudDtcbiAgICB5ZWFyVGV4dEVsOiBIVE1MRWxlbWVudDtcbiAgICBkYXRlVGV4dEVsOiBIVE1MRWxlbWVudDtcbiAgICBkYXRlOiBhbnk7XG4gICAgZm9ybWF0czogYW55O1xuICAgIGNhbGVuZGFyczogYW55O1xuICAgIHByaXZhdGUgX3k6IGFueTtcbiAgICBwcml2YXRlIF9tOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlSW5wdXRLZXlkb3duQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVJbnB1dENsaWNrQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVJbnB1dENoYW5nZUJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlQ2FsZW5kYXJDbGlja0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfZmluaXNoU2VsZWN0aW9uQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9jbG9zZUJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlQ2xlYXJDbGlja0JvdW5kOiBhbnk7XG4gICAgc3RhdGljIF90ZW1wbGF0ZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKERhdGVwaWNrZXIsIGVsLCBvcHRpb25zKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9EYXRlcGlja2VyID0gdGhpcztcbiAgICAgIHRoaXMub3B0aW9ucyA9IHsuLi5EYXRlcGlja2VyLmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcblxuICAgICAgLy8gbWFrZSBzdXJlIGkxOG4gZGVmYXVsdHMgYXJlIG5vdCBsb3N0IHdoZW4gb25seSBmZXcgaTE4biBvcHRpb24gcHJvcGVydGllcyBhcmUgcGFzc2VkXG4gICAgICBpZiAoISFvcHRpb25zICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2kxOG4nKSAmJiB0eXBlb2Ygb3B0aW9ucy5pMThuID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0aGlzLm9wdGlvbnMuaTE4biA9IHsuLi5EYXRlcGlja2VyLmRlZmF1bHRzLmkxOG4sIC4uLm9wdGlvbnMuaTE4bn07XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSB0aW1lIGNvbXBvbmVudCBmcm9tIG1pbkRhdGUgYW5kIG1heERhdGUgb3B0aW9uc1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5taW5EYXRlKSB0aGlzLm9wdGlvbnMubWluRGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubWF4RGF0ZSkgdGhpcy5vcHRpb25zLm1heERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG5cbiAgICAgIHRoaXMuaWQgPSBNLmd1aWQoKTtcblxuICAgICAgdGhpcy5fc2V0dXBWYXJpYWJsZXMoKTtcbiAgICAgIHRoaXMuX2luc2VydEhUTUxJbnRvRE9NKCk7XG4gICAgICB0aGlzLl9zZXR1cE1vZGFsKCk7XG4gICAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcblxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZGVmYXVsdERhdGUpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmRlZmF1bHREYXRlID0gbmV3IERhdGUoRGF0ZS5wYXJzZSh0aGlzLmVsLnZhbHVlKSk7XG4gICAgICB9XG5cbiAgICAgIGxldCBkZWZEYXRlID0gdGhpcy5vcHRpb25zLmRlZmF1bHREYXRlO1xuICAgICAgaWYgKERhdGVwaWNrZXIuX2lzRGF0ZShkZWZEYXRlKSkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNldERlZmF1bHREYXRlKSB7XG4gICAgICAgICAgdGhpcy5zZXREYXRlKGRlZkRhdGUsIHRydWUpO1xuICAgICAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuZ290b0RhdGUoZGVmRGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmdvdG9EYXRlKG5ldyBEYXRlKCkpO1xuICAgICAgfVxuICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc3RhdGljIF9pc0RhdGUob2JqKSB7XG4gICAgICByZXR1cm4gL0RhdGUvLnRlc3QoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpICYmICFpc05hTihvYmouZ2V0VGltZSgpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgX2lzV2Vla2VuZChkYXRlKSB7XG4gICAgICBsZXQgZGF5ID0gZGF0ZS5nZXREYXkoKTtcbiAgICAgIHJldHVybiBkYXkgPT09IDAgfHwgZGF5ID09PSA2O1xuICAgIH1cblxuICAgIHN0YXRpYyBfc2V0VG9TdGFydE9mRGF5KGRhdGUpIHtcbiAgICAgIGlmIChEYXRlcGlja2VyLl9pc0RhdGUoZGF0ZSkpIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgfVxuXG4gICAgc3RhdGljIF9nZXREYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuICAgICAgcmV0dXJuIFszMSwgRGF0ZXBpY2tlci5faXNMZWFwWWVhcih5ZWFyKSA/IDI5IDogMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXVtcbiAgICAgICAgbW9udGhcbiAgICAgIF07XG4gICAgfVxuXG4gICAgc3RhdGljIF9pc0xlYXBZZWFyKHllYXIpIHtcbiAgICAgIC8vIHNvbHV0aW9uIGJ5IE1hdHRpIFZpcmtrdW5lbjogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDg4MTk1MVxuICAgICAgcmV0dXJuICh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwO1xuICAgIH1cblxuICAgIHN0YXRpYyBfY29tcGFyZURhdGVzKGEsIGIpIHtcbiAgICAgIC8vIHdlYWsgZGF0ZSBjb21wYXJpc29uICh1c2Ugc2V0VG9TdGFydE9mRGF5KGRhdGUpIHRvIGVuc3VyZSBjb3JyZWN0IHJlc3VsdClcbiAgICAgIHJldHVybiBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCk7XG4gICAgfSAgXG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgIGxldCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgcmV0dXJuIGRvbUVsZW0uTV9EYXRlcGlja2VyO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICB0aGlzLm1vZGFsLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMubW9kYWxFbC5yZW1vdmUoKTtcbiAgICAgIHRoaXMuZGVzdHJveVNlbGVjdHMoKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9EYXRlcGlja2VyID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGRlc3Ryb3lTZWxlY3RzKCkge1xuICAgICAgbGV0IG9sZFllYXJTZWxlY3QgPSB0aGlzLmNhbGVuZGFyRWwucXVlcnlTZWxlY3RvcignLm9yaWctc2VsZWN0LXllYXInKTtcbiAgICAgIGlmIChvbGRZZWFyU2VsZWN0KSB7XG4gICAgICAgIEZvcm1TZWxlY3QuZ2V0SW5zdGFuY2Uob2xkWWVhclNlbGVjdCkuZGVzdHJveSgpO1xuICAgICAgfVxuICAgICAgbGV0IG9sZE1vbnRoU2VsZWN0ID0gdGhpcy5jYWxlbmRhckVsLnF1ZXJ5U2VsZWN0b3IoJy5vcmlnLXNlbGVjdC1tb250aCcpO1xuICAgICAgaWYgKG9sZE1vbnRoU2VsZWN0KSB7XG4gICAgICAgIEZvcm1TZWxlY3QuZ2V0SW5zdGFuY2Uob2xkTW9udGhTZWxlY3QpLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaW5zZXJ0SFRNTEludG9ET00oKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDbGVhckJ0bikge1xuICAgICAgICB0aGlzLmNsZWFyQnRuLnN0eWxlLnZpc2liaWxpdHkgPSAnJztcbiAgICAgICAgdGhpcy5jbGVhckJ0bi5pbm5lclRleHQgPSB0aGlzLm9wdGlvbnMuaTE4bi5jbGVhcjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZG9uZUJ0bi5pbm5lclRleHQgPSB0aGlzLm9wdGlvbnMuaTE4bi5kb25lO1xuICAgICAgdGhpcy5jYW5jZWxCdG4uaW5uZXJUZXh0ID0gdGhpcy5vcHRpb25zLmkxOG4uY2FuY2VsO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRhaW5lcikge1xuICAgICAgICBjb25zdCBvcHRFbCA9IHRoaXMub3B0aW9ucy5jb250YWluZXI7XG4gICAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIgPVxuICAgICAgICAgIG9wdEVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyBvcHRFbCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0RWwpO1xuICAgICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyLmFwcGVuZCh0aGlzLm1vZGFsRWwpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vdGhpcy5tb2RhbEVsLmJlZm9yZSh0aGlzLmVsKTtcbiAgICAgICAgdGhpcy5lbC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMubW9kYWxFbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldHVwTW9kYWwoKSB7XG4gICAgICB0aGlzLm1vZGFsRWwuaWQgPSAnbW9kYWwtJyArIHRoaXMuaWQ7XG4gICAgICB0aGlzLm1vZGFsID0gTW9kYWwuaW5pdCh0aGlzLm1vZGFsRWwsIHtcbiAgICAgICAgb25DbG9zZUVuZDogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKGZvcm1hdDogc3RyaW5nIHwgKChkOiBEYXRlKSA9PiBzdHJpbmcpID0gbnVsbCk6IHN0cmluZyB7XG4gICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgdGhpcy5vcHRpb25zLmZvcm1hdDtcbiAgICAgIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnZnVuY3Rpb24nKSByZXR1cm4gZm9ybWF0KHRoaXMuZGF0ZSk7XG4gICAgICBpZiAoIURhdGVwaWNrZXIuX2lzRGF0ZSh0aGlzLmRhdGUpKSByZXR1cm4gJyc7XG4gICAgICAvLyBTdHJpbmcgRm9ybWF0XG4gICAgICBjb25zdCBmb3JtYXRBcnJheSA9IGZvcm1hdC5zcGxpdCgvKGR7MSw0fXxtezEsNH18eXs0fXx5eXwhLikvZyk7XG4gICAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gZm9ybWF0QXJyYXlcbiAgICAgICAgLm1hcChsYWJlbCA9PiB0aGlzLmZvcm1hdHNbbGFiZWxdID8gdGhpcy5mb3JtYXRzW2xhYmVsXSgpIDogbGFiZWwpXG4gICAgICAgIC5qb2luKCcnKTtcbiAgICAgIHJldHVybiBmb3JtYXR0ZWREYXRlO1xuICAgIH1cblxuICAgIHNldERhdGUoZGF0ZSwgcHJldmVudE9uU2VsZWN0OiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgIGlmICghZGF0ZSkge1xuICAgICAgICB0aGlzLmRhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW5kZXJEYXRlRGlzcGxheSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3KCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGRhdGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRhdGUgPSBuZXcgRGF0ZShEYXRlLnBhcnNlKGRhdGUpKTtcbiAgICAgIH1cbiAgICAgIGlmICghRGF0ZXBpY2tlci5faXNEYXRlKGRhdGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBtaW4gPSB0aGlzLm9wdGlvbnMubWluRGF0ZSxcbiAgICAgICAgbWF4ID0gdGhpcy5vcHRpb25zLm1heERhdGU7XG4gICAgICBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKG1pbikgJiYgZGF0ZSA8IG1pbikge1xuICAgICAgICBkYXRlID0gbWluO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKG1heCkgJiYgZGF0ZSA+IG1heCkge1xuICAgICAgICBkYXRlID0gbWF4O1xuICAgICAgfVxuICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICAgICAgdGhpcy5fcmVuZGVyRGF0ZURpc3BsYXkoKTtcbiAgICAgIERhdGVwaWNrZXIuX3NldFRvU3RhcnRPZkRheSh0aGlzLmRhdGUpO1xuICAgICAgdGhpcy5nb3RvRGF0ZSh0aGlzLmRhdGUpO1xuICAgICAgaWYgKCFwcmV2ZW50T25TZWxlY3QgJiYgdHlwZW9mIHRoaXMub3B0aW9ucy5vblNlbGVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25TZWxlY3QuY2FsbCh0aGlzLCB0aGlzLmRhdGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldElucHV0VmFsdWUoKSB7XG4gICAgICB0aGlzLmVsLnZhbHVlID0gdGhpcy50b1N0cmluZygpO1xuICAgICAgdGhpcy5lbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnY2hhbmdlJywge2RldGFpbDoge2ZpcmVkQnk6IHRoaXN9fSkpO1xuICAgIH1cblxuICAgIF9yZW5kZXJEYXRlRGlzcGxheSgpIHtcbiAgICAgIGxldCBkaXNwbGF5RGF0ZSA9IERhdGVwaWNrZXIuX2lzRGF0ZSh0aGlzLmRhdGUpID8gdGhpcy5kYXRlIDogbmV3IERhdGUoKTtcbiAgICAgIGxldCBpMThuID0gdGhpcy5vcHRpb25zLmkxOG47XG4gICAgICBsZXQgZGF5ID0gaTE4bi53ZWVrZGF5c1Nob3J0W2Rpc3BsYXlEYXRlLmdldERheSgpXTtcbiAgICAgIGxldCBtb250aCA9IGkxOG4ubW9udGhzU2hvcnRbZGlzcGxheURhdGUuZ2V0TW9udGgoKV07XG4gICAgICBsZXQgZGF0ZSA9IGRpc3BsYXlEYXRlLmdldERhdGUoKTtcbiAgICAgIHRoaXMueWVhclRleHRFbC5pbm5lckhUTUwgPSBkaXNwbGF5RGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgdGhpcy5kYXRlVGV4dEVsLmlubmVySFRNTCA9IGAke2RheX0sICR7bW9udGh9ICR7ZGF0ZX1gO1xuICAgIH1cblxuICAgIGdvdG9EYXRlKGRhdGUpIHtcbiAgICAgIGxldCBuZXdDYWxlbmRhciA9IHRydWU7XG4gICAgICBpZiAoIURhdGVwaWNrZXIuX2lzRGF0ZShkYXRlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jYWxlbmRhcnMpIHtcbiAgICAgICAgbGV0IGZpcnN0VmlzaWJsZURhdGUgPSBuZXcgRGF0ZSh0aGlzLmNhbGVuZGFyc1swXS55ZWFyLCB0aGlzLmNhbGVuZGFyc1swXS5tb250aCwgMSksXG4gICAgICAgICAgbGFzdFZpc2libGVEYXRlID0gbmV3IERhdGUoXG4gICAgICAgICAgICB0aGlzLmNhbGVuZGFyc1t0aGlzLmNhbGVuZGFycy5sZW5ndGggLSAxXS55ZWFyLFxuICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbdGhpcy5jYWxlbmRhcnMubGVuZ3RoIC0gMV0ubW9udGgsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKSxcbiAgICAgICAgICB2aXNpYmxlRGF0ZSA9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgICAvLyBnZXQgdGhlIGVuZCBvZiB0aGUgbW9udGhcbiAgICAgICAgbGFzdFZpc2libGVEYXRlLnNldE1vbnRoKGxhc3RWaXNpYmxlRGF0ZS5nZXRNb250aCgpICsgMSk7XG4gICAgICAgIGxhc3RWaXNpYmxlRGF0ZS5zZXREYXRlKGxhc3RWaXNpYmxlRGF0ZS5nZXREYXRlKCkgLSAxKTtcbiAgICAgICAgbmV3Q2FsZW5kYXIgPVxuICAgICAgICAgIHZpc2libGVEYXRlIDwgZmlyc3RWaXNpYmxlRGF0ZS5nZXRUaW1lKCkgfHwgbGFzdFZpc2libGVEYXRlLmdldFRpbWUoKSA8IHZpc2libGVEYXRlO1xuICAgICAgfVxuICAgICAgaWYgKG5ld0NhbGVuZGFyKSB7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJzID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1vbnRoOiBkYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgICB5ZWFyOiBkYXRlLmdldEZ1bGxZZWFyKClcbiAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgIH1cblxuICAgIGFkanVzdENhbGVuZGFycygpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJzWzBdID0gdGhpcy5hZGp1c3RDYWxlbmRhcih0aGlzLmNhbGVuZGFyc1swXSk7XG4gICAgICB0aGlzLmRyYXcoKTtcbiAgICB9XG5cbiAgICBhZGp1c3RDYWxlbmRhcihjYWxlbmRhcikge1xuICAgICAgaWYgKGNhbGVuZGFyLm1vbnRoIDwgMCkge1xuICAgICAgICBjYWxlbmRhci55ZWFyIC09IE1hdGguY2VpbChNYXRoLmFicyhjYWxlbmRhci5tb250aCkgLyAxMik7XG4gICAgICAgIGNhbGVuZGFyLm1vbnRoICs9IDEyO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGVuZGFyLm1vbnRoID4gMTEpIHtcbiAgICAgICAgY2FsZW5kYXIueWVhciArPSBNYXRoLmZsb29yKE1hdGguYWJzKGNhbGVuZGFyLm1vbnRoKSAvIDEyKTtcbiAgICAgICAgY2FsZW5kYXIubW9udGggLT0gMTI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FsZW5kYXI7XG4gICAgfVxuXG4gICAgbmV4dE1vbnRoKCkge1xuICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGgrKztcbiAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gICAgfVxuXG4gICAgcHJldk1vbnRoKCkge1xuICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGgtLTtcbiAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKHllYXIsIG1vbnRoLCByYW5kSWQpIHtcbiAgICAgIGxldCBvcHRzID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBub3cgPSBuZXcgRGF0ZSgpLFxuICAgICAgICBkYXlzID0gRGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGgpLFxuICAgICAgICBiZWZvcmUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSkuZ2V0RGF5KCksXG4gICAgICAgIGRhdGEgPSBbXSxcbiAgICAgICAgcm93ID0gW107XG4gICAgICBEYXRlcGlja2VyLl9zZXRUb1N0YXJ0T2ZEYXkobm93KTtcbiAgICAgIGlmIChvcHRzLmZpcnN0RGF5ID4gMCkge1xuICAgICAgICBiZWZvcmUgLT0gb3B0cy5maXJzdERheTtcbiAgICAgICAgaWYgKGJlZm9yZSA8IDApIHtcbiAgICAgICAgICBiZWZvcmUgKz0gNztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IHByZXZpb3VzTW9udGggPSBtb250aCA9PT0gMCA/IDExIDogbW9udGggLSAxLFxuICAgICAgICBuZXh0TW9udGggPSBtb250aCA9PT0gMTEgPyAwIDogbW9udGggKyAxLFxuICAgICAgICB5ZWFyT2ZQcmV2aW91c01vbnRoID0gbW9udGggPT09IDAgPyB5ZWFyIC0gMSA6IHllYXIsXG4gICAgICAgIHllYXJPZk5leHRNb250aCA9IG1vbnRoID09PSAxMSA/IHllYXIgKyAxIDogeWVhcixcbiAgICAgICAgZGF5c0luUHJldmlvdXNNb250aCA9IERhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKHllYXJPZlByZXZpb3VzTW9udGgsIHByZXZpb3VzTW9udGgpO1xuICAgICAgbGV0IGNlbGxzID0gZGF5cyArIGJlZm9yZSxcbiAgICAgICAgYWZ0ZXIgPSBjZWxscztcbiAgICAgIHdoaWxlIChhZnRlciA+IDcpIHtcbiAgICAgICAgYWZ0ZXIgLT0gNztcbiAgICAgIH1cbiAgICAgIGNlbGxzICs9IDcgLSBhZnRlcjtcbiAgICAgIGxldCBpc1dlZWtTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIHIgPSAwOyBpIDwgY2VsbHM7IGkrKykge1xuICAgICAgICBsZXQgZGF5ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEgKyAoaSAtIGJlZm9yZSkpLFxuICAgICAgICAgIGlzU2VsZWN0ZWQgPSBEYXRlcGlja2VyLl9pc0RhdGUodGhpcy5kYXRlKVxuICAgICAgICAgICAgPyBEYXRlcGlja2VyLl9jb21wYXJlRGF0ZXMoZGF5LCB0aGlzLmRhdGUpXG4gICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgIGlzVG9kYXkgPSBEYXRlcGlja2VyLl9jb21wYXJlRGF0ZXMoZGF5LCBub3cpLFxuICAgICAgICAgIGhhc0V2ZW50ID0gb3B0cy5ldmVudHMuaW5kZXhPZihkYXkudG9EYXRlU3RyaW5nKCkpICE9PSAtMSA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICBpc0VtcHR5ID0gaSA8IGJlZm9yZSB8fCBpID49IGRheXMgKyBiZWZvcmUsXG4gICAgICAgICAgZGF5TnVtYmVyID0gMSArIChpIC0gYmVmb3JlKSxcbiAgICAgICAgICBtb250aE51bWJlciA9IG1vbnRoLFxuICAgICAgICAgIHllYXJOdW1iZXIgPSB5ZWFyLFxuICAgICAgICAgIGlzU3RhcnRSYW5nZSA9IG9wdHMuc3RhcnRSYW5nZSAmJiBEYXRlcGlja2VyLl9jb21wYXJlRGF0ZXMob3B0cy5zdGFydFJhbmdlLCBkYXkpLFxuICAgICAgICAgIGlzRW5kUmFuZ2UgPSBvcHRzLmVuZFJhbmdlICYmIERhdGVwaWNrZXIuX2NvbXBhcmVEYXRlcyhvcHRzLmVuZFJhbmdlLCBkYXkpLFxuICAgICAgICAgIGlzSW5SYW5nZSA9XG4gICAgICAgICAgICBvcHRzLnN0YXJ0UmFuZ2UgJiYgb3B0cy5lbmRSYW5nZSAmJiBvcHRzLnN0YXJ0UmFuZ2UgPCBkYXkgJiYgZGF5IDwgb3B0cy5lbmRSYW5nZSxcbiAgICAgICAgICBpc0Rpc2FibGVkID1cbiAgICAgICAgICAgIChvcHRzLm1pbkRhdGUgJiYgZGF5IDwgb3B0cy5taW5EYXRlKSB8fFxuICAgICAgICAgICAgKG9wdHMubWF4RGF0ZSAmJiBkYXkgPiBvcHRzLm1heERhdGUpIHx8XG4gICAgICAgICAgICAob3B0cy5kaXNhYmxlV2Vla2VuZHMgJiYgRGF0ZXBpY2tlci5faXNXZWVrZW5kKGRheSkpIHx8XG4gICAgICAgICAgICAob3B0cy5kaXNhYmxlRGF5Rm4gJiYgb3B0cy5kaXNhYmxlRGF5Rm4oZGF5KSk7XG5cbiAgICAgICAgaWYgKGlzRW1wdHkpIHtcbiAgICAgICAgICBpZiAoaSA8IGJlZm9yZSkge1xuICAgICAgICAgICAgZGF5TnVtYmVyID0gZGF5c0luUHJldmlvdXNNb250aCArIGRheU51bWJlcjtcbiAgICAgICAgICAgIG1vbnRoTnVtYmVyID0gcHJldmlvdXNNb250aDtcbiAgICAgICAgICAgIHllYXJOdW1iZXIgPSB5ZWFyT2ZQcmV2aW91c01vbnRoO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXlOdW1iZXIgPSBkYXlOdW1iZXIgLSBkYXlzO1xuICAgICAgICAgICAgbW9udGhOdW1iZXIgPSBuZXh0TW9udGg7XG4gICAgICAgICAgICB5ZWFyTnVtYmVyID0geWVhck9mTmV4dE1vbnRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkYXlDb25maWcgPSB7XG4gICAgICAgICAgZGF5OiBkYXlOdW1iZXIsXG4gICAgICAgICAgbW9udGg6IG1vbnRoTnVtYmVyLFxuICAgICAgICAgIHllYXI6IHllYXJOdW1iZXIsXG4gICAgICAgICAgaGFzRXZlbnQ6IGhhc0V2ZW50LFxuICAgICAgICAgIGlzU2VsZWN0ZWQ6IGlzU2VsZWN0ZWQsXG4gICAgICAgICAgaXNUb2RheTogaXNUb2RheSxcbiAgICAgICAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgICAgIGlzRW1wdHk6IGlzRW1wdHksXG4gICAgICAgICAgaXNTdGFydFJhbmdlOiBpc1N0YXJ0UmFuZ2UsXG4gICAgICAgICAgaXNFbmRSYW5nZTogaXNFbmRSYW5nZSxcbiAgICAgICAgICBpc0luUmFuZ2U6IGlzSW5SYW5nZSxcbiAgICAgICAgICBzaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzOiBvcHRzLnNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHNcbiAgICAgICAgfTtcblxuICAgICAgICByb3cucHVzaCh0aGlzLnJlbmRlckRheShkYXlDb25maWcpKTtcblxuICAgICAgICBpZiAoKytyID09PSA3KSB7XG4gICAgICAgICAgZGF0YS5wdXNoKHRoaXMucmVuZGVyUm93KHJvdywgb3B0cy5pc1JUTCwgaXNXZWVrU2VsZWN0ZWQpKTtcbiAgICAgICAgICByb3cgPSBbXTtcbiAgICAgICAgICByID0gMDtcbiAgICAgICAgICBpc1dlZWtTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJUYWJsZShvcHRzLCBkYXRhLCByYW5kSWQpO1xuICAgIH1cblxuICAgIHJlbmRlckRheShvcHRzKSB7XG4gICAgICBsZXQgYXJyID0gW107XG4gICAgICBsZXQgYXJpYVNlbGVjdGVkID0gJ2ZhbHNlJztcbiAgICAgIGlmIChvcHRzLmlzRW1wdHkpIHtcbiAgICAgICAgaWYgKG9wdHMuc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRocykge1xuICAgICAgICAgIGFyci5wdXNoKCdpcy1vdXRzaWRlLWN1cnJlbnQtbW9udGgnKTtcbiAgICAgICAgICBhcnIucHVzaCgnaXMtc2VsZWN0aW9uLWRpc2FibGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuICc8dGQgY2xhc3M9XCJpcy1lbXB0eVwiPjwvdGQ+JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG9wdHMuaXNEaXNhYmxlZCkge1xuICAgICAgICBhcnIucHVzaCgnaXMtZGlzYWJsZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdHMuaXNUb2RheSkge1xuICAgICAgICBhcnIucHVzaCgnaXMtdG9kYXknKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgYXJyLnB1c2goJ2lzLXNlbGVjdGVkJyk7XG4gICAgICAgIGFyaWFTZWxlY3RlZCA9ICd0cnVlJztcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmhhc0V2ZW50KSB7XG4gICAgICAgIGFyci5wdXNoKCdoYXMtZXZlbnQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmlzSW5SYW5nZSkge1xuICAgICAgICBhcnIucHVzaCgnaXMtaW5yYW5nZScpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMuaXNTdGFydFJhbmdlKSB7XG4gICAgICAgIGFyci5wdXNoKCdpcy1zdGFydHJhbmdlJyk7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5pc0VuZFJhbmdlKSB7XG4gICAgICAgIGFyci5wdXNoKCdpcy1lbmRyYW5nZScpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgYDx0ZCBkYXRhLWRheT1cIiR7b3B0cy5kYXl9XCIgY2xhc3M9XCIke2Fyci5qb2luKCcgJyl9XCIgYXJpYS1zZWxlY3RlZD1cIiR7YXJpYVNlbGVjdGVkfVwiPmAgK1xuICAgICAgICBgPGJ1dHRvbiBjbGFzcz1cImRhdGVwaWNrZXItZGF5LWJ1dHRvblwiIHR5cGU9XCJidXR0b25cIiBkYXRhLXllYXI9XCIke29wdHMueWVhcn1cIiBkYXRhLW1vbnRoPVwiJHtvcHRzLm1vbnRofVwiIGRhdGEtZGF5PVwiJHtvcHRzLmRheX1cIj4ke29wdHMuZGF5fTwvYnV0dG9uPmAgK1xuICAgICAgICAnPC90ZD4nXG4gICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlclJvdyhkYXlzLCBpc1JUTCwgaXNSb3dTZWxlY3RlZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgJzx0ciBjbGFzcz1cImRhdGVwaWNrZXItcm93JyArXG4gICAgICAgIChpc1Jvd1NlbGVjdGVkID8gJyBpcy1zZWxlY3RlZCcgOiAnJykgK1xuICAgICAgICAnXCI+JyArXG4gICAgICAgIChpc1JUTCA/IGRheXMucmV2ZXJzZSgpIDogZGF5cykuam9pbignJykgK1xuICAgICAgICAnPC90cj4nXG4gICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlclRhYmxlKG9wdHMsIGRhdGEsIHJhbmRJZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLXRhYmxlLXdyYXBwZXJcIj48dGFibGUgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCIgY2xhc3M9XCJkYXRlcGlja2VyLXRhYmxlXCIgcm9sZT1cImdyaWRcIiBhcmlhLWxhYmVsbGVkYnk9XCInICtcbiAgICAgICAgcmFuZElkICtcbiAgICAgICAgJ1wiPicgK1xuICAgICAgICB0aGlzLnJlbmRlckhlYWQob3B0cykgK1xuICAgICAgICB0aGlzLnJlbmRlckJvZHkoZGF0YSkgK1xuICAgICAgICAnPC90YWJsZT48L2Rpdj4nXG4gICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlckhlYWQob3B0cykge1xuICAgICAgbGV0IGksXG4gICAgICAgIGFyciA9IFtdO1xuICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICBhcnIucHVzaChcbiAgICAgICAgICBgPHRoIHNjb3BlPVwiY29sXCI+PGFiYnIgdGl0bGU9XCIke3RoaXMucmVuZGVyRGF5TmFtZShvcHRzLCBpKX1cIj4ke3RoaXMucmVuZGVyRGF5TmFtZShcbiAgICAgICAgICAgIG9wdHMsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICl9PC9hYmJyPjwvdGg+YFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuICc8dGhlYWQ+PHRyPicgKyAob3B0cy5pc1JUTCA/IGFyci5yZXZlcnNlKCkgOiBhcnIpLmpvaW4oJycpICsgJzwvdHI+PC90aGVhZD4nO1xuICAgIH1cblxuICAgIHJlbmRlckJvZHkocm93cykge1xuICAgICAgcmV0dXJuICc8dGJvZHk+JyArIHJvd3Muam9pbignJykgKyAnPC90Ym9keT4nO1xuICAgIH1cblxuICAgIHJlbmRlclRpdGxlKGluc3RhbmNlLCBjLCB5ZWFyLCBtb250aCwgcmVmWWVhciwgcmFuZElkKSB7XG4gICAgICBsZXQgaSxcbiAgICAgICAgaixcbiAgICAgICAgYXJyLFxuICAgICAgICBvcHRzID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBpc01pblllYXIgPSB5ZWFyID09PSBvcHRzLm1pblllYXIsXG4gICAgICAgIGlzTWF4WWVhciA9IHllYXIgPT09IG9wdHMubWF4WWVhcixcbiAgICAgICAgaHRtbCA9XG4gICAgICAgICAgJzxkaXYgaWQ9XCInICtcbiAgICAgICAgICByYW5kSWQgK1xuICAgICAgICAgICdcIiBjbGFzcz1cImRhdGVwaWNrZXItY29udHJvbHNcIiByb2xlPVwiaGVhZGluZ1wiIGFyaWEtbGl2ZT1cImFzc2VydGl2ZVwiPicsXG4gICAgICAgIG1vbnRoSHRtbCxcbiAgICAgICAgeWVhckh0bWwsXG4gICAgICAgIHByZXYgPSB0cnVlLFxuICAgICAgICBuZXh0ID0gdHJ1ZTtcblxuICAgICAgZm9yIChhcnIgPSBbXSwgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIGFyci5wdXNoKFxuICAgICAgICAgICc8b3B0aW9uIHZhbHVlPVwiJyArXG4gICAgICAgICAgICAoeWVhciA9PT0gcmVmWWVhciA/IGkgLSBjIDogMTIgKyBpIC0gYykgK1xuICAgICAgICAgICAgJ1wiJyArXG4gICAgICAgICAgICAoaSA9PT0gbW9udGggPyAnIHNlbGVjdGVkPVwic2VsZWN0ZWRcIicgOiAnJykgK1xuICAgICAgICAgICAgKChpc01pblllYXIgJiYgaSA8IG9wdHMubWluTW9udGgpIHx8IChpc01heFllYXIgJiYgaSA+IG9wdHMubWF4TW9udGgpXG4gICAgICAgICAgICAgID8gJ2Rpc2FibGVkPVwiZGlzYWJsZWRcIidcbiAgICAgICAgICAgICAgOiAnJykgK1xuICAgICAgICAgICAgJz4nICtcbiAgICAgICAgICAgIG9wdHMuaTE4bi5tb250aHNbaV0gK1xuICAgICAgICAgICAgJzwvb3B0aW9uPidcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgbW9udGhIdG1sID0gJzxzZWxlY3QgY2xhc3M9XCJkYXRlcGlja2VyLXNlbGVjdCBvcmlnLXNlbGVjdC1tb250aFwiIHRhYmluZGV4PVwiLTFcIj4nK2Fyci5qb2luKCcnKSsnPC9zZWxlY3Q+JztcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0cy55ZWFyUmFuZ2UpKSB7XG4gICAgICAgIGkgPSBvcHRzLnllYXJSYW5nZVswXTtcbiAgICAgICAgaiA9IG9wdHMueWVhclJhbmdlWzFdICsgMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpID0geWVhciAtIG9wdHMueWVhclJhbmdlO1xuICAgICAgICBqID0gMSArIHllYXIgKyBvcHRzLnllYXJSYW5nZTtcbiAgICAgIH1cblxuICAgICAgZm9yIChhcnIgPSBbXTsgaSA8IGogJiYgaSA8PSBvcHRzLm1heFllYXI7IGkrKykge1xuICAgICAgICBpZiAoaSA+PSBvcHRzLm1pblllYXIpIHtcbiAgICAgICAgICBhcnIucHVzaChgPG9wdGlvbiB2YWx1ZT1cIiR7aX1cIiAke2kgPT09IHllYXIgPyAnc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJyA6ICcnfT4ke2l9PC9vcHRpb24+YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLnllYXJSYW5nZVJldmVyc2UpIGFyci5yZXZlcnNlKCk7XG5cbiAgICAgIHllYXJIdG1sID0gYDxzZWxlY3QgY2xhc3M9XCJkYXRlcGlja2VyLXNlbGVjdCBvcmlnLXNlbGVjdC15ZWFyXCIgdGFiaW5kZXg9XCItMVwiPiR7YXJyLmpvaW4oJycpfTwvc2VsZWN0PmA7XG5cbiAgICAgIGxldCBsZWZ0QXJyb3cgPVxuICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTUuNDEgMTYuMDlsLTQuNTgtNC41OSA0LjU4LTQuNTlMMTQgNS41bC02IDYgNiA2elwiLz48cGF0aCBkPVwiTTAtLjVoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiLz48L3N2Zz4nO1xuICAgICAgaHRtbCArPSBgPGJ1dHRvbiBjbGFzcz1cIm1vbnRoLXByZXYke1xuICAgICAgICBwcmV2ID8gJycgOiAnIGlzLWRpc2FibGVkJ1xuICAgICAgfSBidG4tZmxhdFwiIHR5cGU9XCJidXR0b25cIj4ke2xlZnRBcnJvd308L2J1dHRvbj5gO1xuXG4gICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwic2VsZWN0cy1jb250YWluZXJcIj4nO1xuICAgICAgaWYgKG9wdHMuc2hvd01vbnRoQWZ0ZXJZZWFyKSB7XG4gICAgICAgIGh0bWwgKz0geWVhckh0bWwgKyBtb250aEh0bWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBodG1sICs9IG1vbnRoSHRtbCArIHllYXJIdG1sO1xuICAgICAgfVxuICAgICAgaHRtbCArPSAnPC9kaXY+JztcblxuICAgICAgaWYgKGlzTWluWWVhciAmJiAobW9udGggPT09IDAgfHwgb3B0cy5taW5Nb250aCA+PSBtb250aCkpIHtcbiAgICAgICAgcHJldiA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNNYXhZZWFyICYmIChtb250aCA9PT0gMTEgfHwgb3B0cy5tYXhNb250aCA8PSBtb250aCkpIHtcbiAgICAgICAgbmV4dCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBsZXQgcmlnaHRBcnJvdyA9XG4gICAgICAgICc8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk04LjU5IDE2LjM0bDQuNTgtNC41OS00LjU4LTQuNTlMMTAgNS43NWw2IDYtNiA2elwiLz48cGF0aCBkPVwiTTAtLjI1aDI0djI0SDB6XCIgZmlsbD1cIm5vbmVcIi8+PC9zdmc+JztcbiAgICAgIGh0bWwgKz0gYDxidXR0b24gY2xhc3M9XCJtb250aC1uZXh0JHtcbiAgICAgICAgbmV4dCA/ICcnIDogJyBpcy1kaXNhYmxlZCdcbiAgICAgIH0gYnRuLWZsYXRcIiB0eXBlPVwiYnV0dG9uXCI+JHtyaWdodEFycm93fTwvYnV0dG9uPmA7XG5cbiAgICAgIHJldHVybiAoaHRtbCArPSAnPC9kaXY+Jyk7XG4gICAgfVxuXG4gICAgLy8gcmVmcmVzaCBIVE1MXG4gICAgZHJhdyhmb3JjZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICBpZiAoIXRoaXMuaXNPcGVuICYmICFmb3JjZSkgcmV0dXJuO1xuICAgICAgbGV0IG9wdHMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIG1pblllYXIgPSBvcHRzLm1pblllYXIsXG4gICAgICAgIG1heFllYXIgPSBvcHRzLm1heFllYXIsXG4gICAgICAgIG1pbk1vbnRoID0gb3B0cy5taW5Nb250aCxcbiAgICAgICAgbWF4TW9udGggPSBvcHRzLm1heE1vbnRoLFxuICAgICAgICBodG1sID0gJycsXG4gICAgICAgIHJhbmRJZDtcblxuICAgICAgaWYgKHRoaXMuX3kgPD0gbWluWWVhcikge1xuICAgICAgICB0aGlzLl95ID0gbWluWWVhcjtcbiAgICAgICAgaWYgKCFpc05hTihtaW5Nb250aCkgJiYgdGhpcy5fbSA8IG1pbk1vbnRoKSB7XG4gICAgICAgICAgdGhpcy5fbSA9IG1pbk1vbnRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5feSA+PSBtYXhZZWFyKSB7XG4gICAgICAgIHRoaXMuX3kgPSBtYXhZZWFyO1xuICAgICAgICBpZiAoIWlzTmFOKG1heE1vbnRoKSAmJiB0aGlzLl9tID4gbWF4TW9udGgpIHtcbiAgICAgICAgICB0aGlzLl9tID0gbWF4TW9udGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmFuZElkID1cbiAgICAgICAgJ2RhdGVwaWNrZXItdGl0bGUtJyArXG4gICAgICAgIE1hdGgucmFuZG9tKClcbiAgICAgICAgICAudG9TdHJpbmcoMzYpXG4gICAgICAgICAgLnJlcGxhY2UoL1teYS16XSsvZywgJycpXG4gICAgICAgICAgLnN1YnN0cigwLCAyKTtcblxuICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCAxOyBjKyspIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyRGF0ZURpc3BsYXkoKTtcbiAgICAgICAgaHRtbCArPVxuICAgICAgICAgIHRoaXMucmVuZGVyVGl0bGUoXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgYyxcbiAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJzW2NdLnllYXIsXG4gICAgICAgICAgICB0aGlzLmNhbGVuZGFyc1tjXS5tb250aCxcbiAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLnllYXIsXG4gICAgICAgICAgICByYW5kSWRcbiAgICAgICAgICApICsgdGhpcy5yZW5kZXIodGhpcy5jYWxlbmRhcnNbY10ueWVhciwgdGhpcy5jYWxlbmRhcnNbY10ubW9udGgsIHJhbmRJZCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZGVzdHJveVNlbGVjdHMoKTtcblxuICAgICAgdGhpcy5jYWxlbmRhckVsLmlubmVySFRNTCA9IGh0bWw7XG5cbiAgICAgIC8vIEluaXQgTWF0ZXJpYWxpemUgU2VsZWN0XG4gICAgICBsZXQgeWVhclNlbGVjdCA9IHRoaXMuY2FsZW5kYXJFbC5xdWVyeVNlbGVjdG9yKCcub3JpZy1zZWxlY3QteWVhcicpO1xuICAgICAgbGV0IG1vbnRoU2VsZWN0ID0gdGhpcy5jYWxlbmRhckVsLnF1ZXJ5U2VsZWN0b3IoJy5vcmlnLXNlbGVjdC1tb250aCcpO1xuICAgICAgRm9ybVNlbGVjdC5pbml0KHllYXJTZWxlY3QsIHtcbiAgICAgICAgY2xhc3NlczogJ3NlbGVjdC15ZWFyJyxcbiAgICAgICAgZHJvcGRvd25PcHRpb25zOiB7IGNvbnRhaW5lcjogZG9jdW1lbnQuYm9keSwgY29uc3RyYWluV2lkdGg6IGZhbHNlIH1cbiAgICAgIH0pO1xuICAgICAgRm9ybVNlbGVjdC5pbml0KG1vbnRoU2VsZWN0LCB7XG4gICAgICAgIGNsYXNzZXM6ICdzZWxlY3QtbW9udGgnLFxuICAgICAgICBkcm9wZG93bk9wdGlvbnM6IHsgY29udGFpbmVyOiBkb2N1bWVudC5ib2R5LCBjb25zdHJhaW5XaWR0aDogZmFsc2UgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFkZCBjaGFuZ2UgaGFuZGxlcnMgZm9yIHNlbGVjdFxuICAgICAgeWVhclNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVZZWFyQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgbW9udGhTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlTW9udGhDaGFuZ2UuYmluZCh0aGlzKSk7XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uRHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25EcmF3KHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRDbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlSW5wdXRDaGFuZ2VCb3VuZCA9IHRoaXMuX2hhbmRsZUlucHV0Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVDYWxlbmRhckNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVDYWxlbmRhckNsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9maW5pc2hTZWxlY3Rpb25Cb3VuZCA9IHRoaXMuX2ZpbmlzaFNlbGVjdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlTW9udGhDaGFuZ2UgPSB0aGlzLl9oYW5kbGVNb250aENoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fY2xvc2VCb3VuZCA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcblxuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZUlucHV0Q2hhbmdlQm91bmQpO1xuICAgICAgdGhpcy5jYWxlbmRhckVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2FsZW5kYXJDbGlja0JvdW5kKTtcbiAgICAgIHRoaXMuZG9uZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2ZpbmlzaFNlbGVjdGlvbkJvdW5kKTtcbiAgICAgIHRoaXMuY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fY2xvc2VCb3VuZCk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NsZWFyQnRuKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNsZWFyQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUNsZWFyQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jbGVhckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsZWFyQ2xpY2tCb3VuZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldHVwVmFyaWFibGVzKCkge1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gRGF0ZXBpY2tlci5fdGVtcGxhdGUudHJpbSgpO1xuICAgICAgdGhpcy5tb2RhbEVsID0gPEhUTUxFbGVtZW50PnRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcblxuICAgICAgdGhpcy5jYWxlbmRhckVsID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy5kYXRlcGlja2VyLWNhbGVuZGFyJyk7XG4gICAgICB0aGlzLnllYXJUZXh0RWwgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnllYXItdGV4dCcpO1xuICAgICAgdGhpcy5kYXRlVGV4dEVsID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy5kYXRlLXRleHQnKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NsZWFyQnRuKSB7XG4gICAgICAgIHRoaXMuY2xlYXJCdG4gPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmRhdGVwaWNrZXItY2xlYXInKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZG9uZUJ0biA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcuZGF0ZXBpY2tlci1kb25lJyk7XG4gICAgICB0aGlzLmNhbmNlbEJ0biA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcuZGF0ZXBpY2tlci1jYW5jZWwnKTtcblxuICAgICAgdGhpcy5mb3JtYXRzID0ge1xuICAgICAgICBkOiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZS5nZXREYXRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRkOiAoKSA9PiB7XG4gICAgICAgICAgbGV0IGQgPSB0aGlzLmRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgICAgIHJldHVybiAoZCA8IDEwID8gJzAnIDogJycpICsgZDtcbiAgICAgICAgfSxcbiAgICAgICAgZGRkOiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pMThuLndlZWtkYXlzU2hvcnRbdGhpcy5kYXRlLmdldERheSgpXTtcbiAgICAgICAgfSxcbiAgICAgICAgZGRkZDogKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaTE4bi53ZWVrZGF5c1t0aGlzLmRhdGUuZ2V0RGF5KCldO1xuICAgICAgICB9LFxuICAgICAgICBtOiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgfSxcbiAgICAgICAgbW06ICgpID0+IHtcbiAgICAgICAgICBsZXQgbSA9IHRoaXMuZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgICByZXR1cm4gKG0gPCAxMCA/ICcwJyA6ICcnKSArIG07XG4gICAgICAgIH0sXG4gICAgICAgIG1tbTogKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaTE4bi5tb250aHNTaG9ydFt0aGlzLmRhdGUuZ2V0TW9udGgoKV07XG4gICAgICAgIH0sXG4gICAgICAgIG1tbW06ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmkxOG4ubW9udGhzW3RoaXMuZGF0ZS5nZXRNb250aCgpXTtcbiAgICAgICAgfSxcbiAgICAgICAgeXk6ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gKCcnICsgdGhpcy5kYXRlLmdldEZ1bGxZZWFyKCkpLnNsaWNlKDIpO1xuICAgICAgICB9LFxuICAgICAgICB5eXl5OiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2tCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd25Cb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZUlucHV0Q2hhbmdlQm91bmQpO1xuICAgICAgdGhpcy5jYWxlbmRhckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2FsZW5kYXJDbGlja0JvdW5kKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlSW5wdXRDbGljaygpIHtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cblxuICAgIF9oYW5kbGVJbnB1dEtleWRvd24oZSkge1xuICAgICAgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5FTlRFUikge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVDYWxlbmRhckNsaWNrKGUpIHtcbiAgICAgIGlmICghdGhpcy5pc09wZW4pIHJldHVybjtcbiAgICAgIGNvbnN0IHRhcmdldCA9IDxIVE1MRWxlbWVudD4oZS50YXJnZXQpO1xuICAgICAgaWYgKCF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1kaXNhYmxlZCcpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkYXRlcGlja2VyLWRheS1idXR0b24nKSAmJlxuICAgICAgICAgICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1lbXB0eScpICYmXG4gICAgICAgICAgIXRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnaXMtZGlzYWJsZWQnKVxuICAgICAgICApIHsgICAgICAgICAgXG4gICAgICAgICAgdGhpcy5zZXREYXRlKFxuICAgICAgICAgICAgbmV3IERhdGUoXG4gICAgICAgICAgICAgIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS15ZWFyJyksXG4gICAgICAgICAgICAgIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1tb250aCcpLFxuICAgICAgICAgICAgICBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGF5JylcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0Nsb3NlKSB7XG4gICAgICAgICAgICB0aGlzLl9maW5pc2hTZWxlY3Rpb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5tb250aC1wcmV2JykpIHtcbiAgICAgICAgICB0aGlzLnByZXZNb250aCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRhcmdldC5jbG9zZXN0KCcubW9udGgtbmV4dCcpKSB7XG4gICAgICAgICAgdGhpcy5uZXh0TW9udGgoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVDbGVhckNsaWNrKCkge1xuICAgICAgdGhpcy5kYXRlID0gbnVsbDtcbiAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIF9oYW5kbGVNb250aENoYW5nZShlKSB7XG4gICAgICB0aGlzLmdvdG9Nb250aChlLnRhcmdldC52YWx1ZSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZVllYXJDaGFuZ2UoZSkge1xuICAgICAgdGhpcy5nb3RvWWVhcihlLnRhcmdldC52YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gY2hhbmdlIHZpZXcgdG8gYSBzcGVjaWZpYyBtb250aCAoemVyby1pbmRleCwgZS5nLiAwOiBKYW51YXJ5KVxuICAgIGdvdG9Nb250aChtb250aCkge1xuICAgICAgaWYgKCFpc05hTihtb250aCkpIHtcbiAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGggPSBwYXJzZUludChtb250aCwgMTApO1xuICAgICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNoYW5nZSB2aWV3IHRvIGEgc3BlY2lmaWMgZnVsbCB5ZWFyIChlLmcuIFwiMjAxMlwiKVxuICAgIGdvdG9ZZWFyKHllYXIpIHtcbiAgICAgIGlmICghaXNOYU4oeWVhcikpIHtcbiAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ueWVhciA9IHBhcnNlSW50KHllYXIsIDEwKTtcbiAgICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlSW5wdXRDaGFuZ2UoZTogRXZlbnQpIHtcbiAgICAgIGxldCBkYXRlO1xuICAgICAgLy8gUHJldmVudCBjaGFuZ2UgZXZlbnQgZnJvbSBiZWluZyBmaXJlZCB3aGVuIHRyaWdnZXJlZCBieSB0aGUgcGx1Z2luXG4gICAgICBpZiAoZVsnZGV0YWlsJ10/LmZpcmVkQnkgPT09IHRoaXMpIHJldHVybjtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucGFyc2UpIHtcbiAgICAgICAgZGF0ZSA9IHRoaXMub3B0aW9ucy5wYXJzZSh0aGlzLmVsLnZhbHVlLCB0aGlzLm9wdGlvbnMuZm9ybWF0KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5wYXJzZSh0aGlzLmVsLnZhbHVlKSk7XG4gICAgICB9XG4gICAgICBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKGRhdGUpKSB0aGlzLnNldERhdGUoZGF0ZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyRGF5TmFtZShvcHRzLCBkYXksIGFiYnI6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgZGF5ICs9IG9wdHMuZmlyc3REYXk7XG4gICAgICB3aGlsZSAoZGF5ID49IDcpIHtcbiAgICAgICAgZGF5IC09IDc7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWJiciA/IG9wdHMuaTE4bi53ZWVrZGF5c0FiYnJldltkYXldIDogb3B0cy5pMThuLndlZWtkYXlzW2RheV07XG4gICAgfVxuXG4gICAgLy8gU2V0IGlucHV0IHZhbHVlIHRvIHRoZSBzZWxlY3RlZCBkYXRlIGFuZCBjbG9zZSBEYXRlcGlja2VyXG4gICAgX2ZpbmlzaFNlbGVjdGlvbigpIHtcbiAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICBpZiAodGhpcy5pc09wZW4pIHJldHVybjtcbiAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuLmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgICB0aGlzLmRyYXcoKTtcbiAgICAgIHRoaXMubW9kYWwub3Blbih1bmRlZmluZWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICBpZiAoIXRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZS5jYWxsKHRoaXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5tb2RhbC5jbG9zZSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3RhdGljIHtcbiAgICAgIERhdGVwaWNrZXIuX3RlbXBsYXRlID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwgZGF0ZXBpY2tlci1tb2RhbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50IGRhdGVwaWNrZXItY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1kYXRlLWRpc3BsYXlcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ5ZWFyLXRleHRcIj48L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGF0ZS10ZXh0XCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1jYWxlbmRhci1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItY2FsZW5kYXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1mbGF0IGRhdGVwaWNrZXItY2xlYXIgd2F2ZXMtZWZmZWN0XCIgc3R5bGU9XCJ2aXNpYmlsaXR5OiBoaWRkZW47XCIgdHlwZT1cImJ1dHRvblwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb25maXJtYXRpb24tYnRuc1wiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1mbGF0IGRhdGVwaWNrZXItY2FuY2VsIHdhdmVzLWVmZmVjdFwiIHR5cGU9XCJidXR0b25cIj48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tZmxhdCBkYXRlcGlja2VyLWRvbmUgd2F2ZXMtZWZmZWN0XCIgdHlwZT1cImJ1dHRvblwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5gO1xuICAgIH1cbiAgfSAgXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/datepicker.ts\n");

/***/ }),

/***/ "./src/dropdown.ts":
/*!*************************!*\
  !*** ./src/dropdown.ts ***!
  \*************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Dropdown = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst _defaults = {\n    alignment: 'left',\n    autoFocus: true,\n    constrainWidth: true,\n    container: null,\n    coverTrigger: true,\n    closeOnClick: true,\n    hover: false,\n    inDuration: 150,\n    outDuration: 250,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    onItemClick: null\n};\nclass Dropdown extends component_1.Component {\n    constructor(el, options) {\n        super(Dropdown, el, options);\n        this.el.M_Dropdown = this;\n        Dropdown._dropdowns.push(this);\n        this.id = global_1.M.getIdFromTrigger(el);\n        this.dropdownEl = document.getElementById(this.id);\n        //this.$dropdownEl = $(this.dropdownEl);\n        this.options = Object.assign(Object.assign({}, Dropdown.defaults), options);\n        this.isOpen = false;\n        this.isScrollable = false;\n        this.isTouchMoving = false;\n        this.focusedIndex = -1;\n        this.filterQuery = [];\n        // Move dropdown-content after dropdown-trigger\n        this._moveDropdown();\n        this._makeDropdownFocusable();\n        this._resetFilterQueryBound = this._resetFilterQuery.bind(this);\n        this._handleDocumentClickBound = this._handleDocumentClick.bind(this);\n        this._handleDocumentTouchmoveBound = this._handleDocumentTouchmove.bind(this);\n        this._handleDropdownClickBound = this._handleDropdownClick.bind(this);\n        this._handleDropdownKeydownBound = this._handleDropdownKeydown.bind(this);\n        this._handleTriggerKeydownBound = this._handleTriggerKeydown.bind(this);\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Dropdown;\n    }\n    destroy() {\n        this._resetDropdownStyles();\n        this._removeEventHandlers();\n        Dropdown._dropdowns.splice(Dropdown._dropdowns.indexOf(this), 1);\n        this.el.M_Dropdown = undefined;\n    }\n    _setupEventHandlers() {\n        var _a;\n        // Trigger keydown handler\n        this.el.addEventListener('keydown', this._handleTriggerKeydownBound);\n        // Item click handler\n        (_a = this.dropdownEl) === null || _a === void 0 ? void 0 : _a.addEventListener('click', this._handleDropdownClickBound);\n        // Hover event handlers\n        if (this.options.hover) {\n            this._handleMouseEnterBound = this._handleMouseEnter.bind(this);\n            this.el.addEventListener('mouseenter', this._handleMouseEnterBound);\n            this._handleMouseLeaveBound = this._handleMouseLeave.bind(this);\n            this.el.addEventListener('mouseleave', this._handleMouseLeaveBound);\n            this.dropdownEl.addEventListener('mouseleave', this._handleMouseLeaveBound);\n            // Click event handlers\n        }\n        else {\n            this._handleClickBound = this._handleClick.bind(this);\n            this.el.addEventListener('click', this._handleClickBound);\n        }\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('keydown', this._handleTriggerKeydownBound);\n        this.dropdownEl.removeEventListener('click', this._handleDropdownClickBound);\n        if (this.options.hover) {\n            this.el.removeEventListener('mouseenter', this._handleMouseEnterBound);\n            this.el.removeEventListener('mouseleave', this._handleMouseLeaveBound);\n            this.dropdownEl.removeEventListener('mouseleave', this._handleMouseLeaveBound);\n        }\n        else {\n            this.el.removeEventListener('click', this._handleClickBound);\n        }\n    }\n    _setupTemporaryEventHandlers() {\n        // Use capture phase event handler to prevent click\n        document.body.addEventListener('click', this._handleDocumentClickBound, true);\n        document.body.addEventListener('touchmove', this._handleDocumentTouchmoveBound);\n        this.dropdownEl.addEventListener('keydown', this._handleDropdownKeydownBound);\n    }\n    _removeTemporaryEventHandlers() {\n        // Use capture phase event handler to prevent click\n        document.body.removeEventListener('click', this._handleDocumentClickBound, true);\n        document.body.removeEventListener('touchmove', this._handleDocumentTouchmoveBound);\n        this.dropdownEl.removeEventListener('keydown', this._handleDropdownKeydownBound);\n    }\n    _handleClick(e) {\n        e.preventDefault();\n        this.open();\n    }\n    _handleMouseEnter() {\n        this.open();\n    }\n    _handleMouseLeave(e) {\n        const toEl = e.toElement || e.relatedTarget;\n        const leaveToDropdownContent = !!toEl.closest('.dropdown-content');\n        let leaveToActiveDropdownTrigger = false;\n        const closestTrigger = toEl.closest('.dropdown-trigger');\n        if (closestTrigger &&\n            !!closestTrigger.M_Dropdown &&\n            closestTrigger.M_Dropdown.isOpen) {\n            leaveToActiveDropdownTrigger = true;\n        }\n        // Close hover dropdown if mouse did not leave to either active dropdown-trigger or dropdown-content\n        if (!leaveToActiveDropdownTrigger && !leaveToDropdownContent) {\n            this.close();\n        }\n    }\n    _handleDocumentClick(e) {\n        const target = e.target;\n        if (this.options.closeOnClick &&\n            target.closest('.dropdown-content') &&\n            !this.isTouchMoving) {\n            // isTouchMoving to check if scrolling on mobile.\n            //setTimeout(() => {\n            this.close();\n            //}, 0);\n        }\n        else if (target.closest('.dropdown-trigger') ||\n            !target.closest('.dropdown-content')) {\n            //setTimeout(() => {\n            this.close();\n            //}, 0);\n        }\n        this.isTouchMoving = false;\n    }\n    _handleTriggerKeydown(e) {\n        // ARROW DOWN OR ENTER WHEN SELECT IS CLOSED - open Dropdown\n        if ((e.which === global_1.M.keys.ARROW_DOWN || e.which === global_1.M.keys.ENTER) && !this.isOpen) {\n            e.preventDefault();\n            this.open();\n        }\n    }\n    _handleDocumentTouchmove(e) {\n        const target = e.target;\n        if (target.closest('.dropdown-content')) {\n            this.isTouchMoving = true;\n        }\n    }\n    _handleDropdownClick(e) {\n        // onItemClick callback\n        if (typeof this.options.onItemClick === 'function') {\n            const itemEl = e.target.closest('li');\n            this.options.onItemClick.call(this, itemEl);\n        }\n    }\n    _handleDropdownKeydown(e) {\n        if (e.which === global_1.M.keys.TAB) {\n            e.preventDefault();\n            this.close();\n        }\n        // Navigate down dropdown list\n        else if ((e.which === global_1.M.keys.ARROW_DOWN || e.which === global_1.M.keys.ARROW_UP) && this.isOpen) {\n            e.preventDefault();\n            const direction = e.which === global_1.M.keys.ARROW_DOWN ? 1 : -1;\n            let newFocusedIndex = this.focusedIndex;\n            let hasFoundNewIndex = false;\n            do {\n                newFocusedIndex = newFocusedIndex + direction;\n                if (!!this.dropdownEl.children[newFocusedIndex] &&\n                    this.dropdownEl.children[newFocusedIndex].tabIndex !== -1) {\n                    hasFoundNewIndex = true;\n                    break;\n                }\n            } while (newFocusedIndex < this.dropdownEl.children.length && newFocusedIndex >= 0);\n            if (hasFoundNewIndex) {\n                // Remove active class from old element\n                if (this.focusedIndex >= 0)\n                    this.dropdownEl.children[this.focusedIndex].classList.remove('active');\n                this.focusedIndex = newFocusedIndex;\n                this._focusFocusedItem();\n            }\n        }\n        // ENTER selects choice on focused item\n        else if (e.which === global_1.M.keys.ENTER && this.isOpen) {\n            // Search for <a> and <button>\n            const focusedElement = this.dropdownEl.children[this.focusedIndex];\n            const activatableElement = focusedElement.querySelector('a, button');\n            // Click a or button tag if exists, otherwise click li tag\n            if (!!activatableElement) {\n                activatableElement.click();\n            }\n            else if (!!focusedElement) {\n                if (focusedElement instanceof HTMLElement) {\n                    focusedElement.click();\n                }\n            }\n        }\n        // Close dropdown on ESC\n        else if (e.which === global_1.M.keys.ESC && this.isOpen) {\n            e.preventDefault();\n            this.close();\n        }\n        // CASE WHEN USER TYPE LETTERS\n        const letter = String.fromCharCode(e.which).toLowerCase();\n        const nonLetters = [9, 13, 27, 38, 40];\n        if (letter && nonLetters.indexOf(e.which) === -1) {\n            this.filterQuery.push(letter);\n            const string = this.filterQuery.join('');\n            const newOptionEl = Array.from(this.dropdownEl.querySelectorAll('li'))\n                .find((el) => el.innerText.toLowerCase().indexOf(string) === 0);\n            if (newOptionEl) {\n                this.focusedIndex = [...newOptionEl.parentNode.children].indexOf(newOptionEl);\n                this._focusFocusedItem();\n            }\n        }\n        this.filterTimeout = setTimeout(this._resetFilterQueryBound, 1000);\n    }\n    _resetFilterQuery() {\n        this.filterQuery = [];\n    }\n    _resetDropdownStyles() {\n        this.dropdownEl.style.display = '';\n        this.dropdownEl.style.width = '';\n        this.dropdownEl.style.height = '';\n        this.dropdownEl.style.left = '';\n        this.dropdownEl.style.top = '';\n        this.dropdownEl.style.transformOrigin = '';\n        this.dropdownEl.style.transform = '';\n        this.dropdownEl.style.opacity = '';\n    }\n    // Move dropdown after container or trigger\n    _moveDropdown(containerEl = null) {\n        if (!!this.options.container) {\n            this.options.container.append(this.dropdownEl);\n        }\n        else if (containerEl) {\n            if (!containerEl.contains(this.dropdownEl)) {\n                containerEl.append(this.dropdownEl);\n            }\n        }\n        else {\n            this.el.after(this.dropdownEl);\n        }\n    }\n    _makeDropdownFocusable() {\n        if (!this.dropdownEl)\n            return;\n        // Needed for arrow key navigation\n        this.dropdownEl.tabIndex = 0;\n        // Only set tabindex if it hasn't been set by user\n        Array.from(this.dropdownEl.children).forEach((el) => {\n            if (!el.getAttribute('tabindex'))\n                el.setAttribute('tabindex', '0');\n        });\n    }\n    _focusFocusedItem() {\n        if (this.focusedIndex >= 0 &&\n            this.focusedIndex < this.dropdownEl.children.length &&\n            this.options.autoFocus) {\n            this.dropdownEl.children[this.focusedIndex].focus({\n                preventScroll: true\n            });\n            this.dropdownEl.children[this.focusedIndex].scrollIntoView({\n                behavior: 'smooth',\n                block: 'nearest',\n                inline: 'nearest'\n            });\n        }\n    }\n    _getDropdownPosition(closestOverflowParent) {\n        const offsetParentBRect = this.el.offsetParent.getBoundingClientRect();\n        const triggerBRect = this.el.getBoundingClientRect();\n        const dropdownBRect = this.dropdownEl.getBoundingClientRect();\n        let idealHeight = dropdownBRect.height;\n        let idealWidth = dropdownBRect.width;\n        let idealXPos = triggerBRect.left - dropdownBRect.left;\n        let idealYPos = triggerBRect.top - dropdownBRect.top;\n        const dropdownBounds = {\n            left: idealXPos,\n            top: idealYPos,\n            height: idealHeight,\n            width: idealWidth\n        };\n        const alignments = global_1.M.checkPossibleAlignments(this.el, closestOverflowParent, dropdownBounds, this.options.coverTrigger ? 0 : triggerBRect.height);\n        let verticalAlignment = 'top';\n        let horizontalAlignment = this.options.alignment;\n        idealYPos += this.options.coverTrigger ? 0 : triggerBRect.height;\n        // Reset isScrollable\n        this.isScrollable = false;\n        if (!alignments.top) {\n            if (alignments.bottom) {\n                verticalAlignment = 'bottom';\n                if (!this.options.coverTrigger) {\n                    idealYPos -= triggerBRect.height;\n                }\n            }\n            else {\n                this.isScrollable = true;\n                // Determine which side has most space and cutoff at correct height\n                idealHeight -= 20; // Add padding when cutoff\n                if (alignments.spaceOnTop > alignments.spaceOnBottom) {\n                    verticalAlignment = 'bottom';\n                    idealHeight += alignments.spaceOnTop;\n                    idealYPos -= this.options.coverTrigger\n                        ? alignments.spaceOnTop - 20\n                        : alignments.spaceOnTop - 20 + triggerBRect.height;\n                }\n                else {\n                    idealHeight += alignments.spaceOnBottom;\n                }\n            }\n        }\n        // If preferred horizontal alignment is possible\n        if (!alignments[horizontalAlignment]) {\n            const oppositeAlignment = horizontalAlignment === 'left' ? 'right' : 'left';\n            if (alignments[oppositeAlignment]) {\n                horizontalAlignment = oppositeAlignment;\n            }\n            else {\n                // Determine which side has most space and cutoff at correct height\n                if (alignments.spaceOnLeft > alignments.spaceOnRight) {\n                    horizontalAlignment = 'right';\n                    idealWidth += alignments.spaceOnLeft;\n                    idealXPos -= alignments.spaceOnLeft;\n                }\n                else {\n                    horizontalAlignment = 'left';\n                    idealWidth += alignments.spaceOnRight;\n                }\n            }\n        }\n        if (verticalAlignment === 'bottom') {\n            idealYPos =\n                idealYPos - dropdownBRect.height + (this.options.coverTrigger ? triggerBRect.height : 0);\n        }\n        if (horizontalAlignment === 'right') {\n            idealXPos = idealXPos - dropdownBRect.width + triggerBRect.width;\n        }\n        return {\n            x: idealXPos,\n            y: idealYPos,\n            verticalAlignment: verticalAlignment,\n            horizontalAlignment: horizontalAlignment,\n            height: idealHeight,\n            width: idealWidth\n        };\n    }\n    _animateIn() {\n        animejs_1.default.remove(this.dropdownEl);\n        (0, animejs_1.default)({\n            targets: this.dropdownEl,\n            opacity: {\n                value: [0, 1],\n                easing: 'easeOutQuad'\n            },\n            scaleX: [0.3, 1],\n            scaleY: [0.3, 1],\n            duration: this.options.inDuration,\n            easing: 'easeOutQuint',\n            complete: (anim) => {\n                if (this.options.autoFocus)\n                    this.dropdownEl.focus();\n                // onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _animateOut() {\n        animejs_1.default.remove(this.dropdownEl);\n        (0, animejs_1.default)({\n            targets: this.dropdownEl,\n            opacity: {\n                value: 0,\n                easing: 'easeOutQuint'\n            },\n            scaleX: 0.3,\n            scaleY: 0.3,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuint',\n            complete: (anim) => {\n                this._resetDropdownStyles();\n                // onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _getClosestAncestor(el, condition) {\n        let ancestor = el.parentNode;\n        while (ancestor !== null && ancestor !== document) {\n            if (condition(ancestor)) {\n                return ancestor;\n            }\n            ancestor = ancestor.parentNode;\n        }\n        return null;\n    }\n    ;\n    _placeDropdown() {\n        // Container here will be closest ancestor with overflow: hidden\n        let closestOverflowParent = this._getClosestAncestor(this.dropdownEl, (ancestor) => {\n            return !['HTML', 'BODY'].includes(ancestor.tagName) && getComputedStyle(ancestor).overflow !== 'visible';\n        });\n        // Fallback\n        if (!closestOverflowParent) {\n            closestOverflowParent = (!!this.dropdownEl.offsetParent\n                ? this.dropdownEl.offsetParent\n                : this.dropdownEl.parentNode);\n        }\n        if (getComputedStyle(closestOverflowParent).position === 'static')\n            closestOverflowParent.style.position = 'relative';\n        this._moveDropdown(closestOverflowParent);\n        // Set width before calculating positionInfo\n        const idealWidth = this.options.constrainWidth\n            ? this.el.getBoundingClientRect().width\n            : this.dropdownEl.getBoundingClientRect().width;\n        this.dropdownEl.style.width = idealWidth + 'px';\n        const positionInfo = this._getDropdownPosition(closestOverflowParent);\n        this.dropdownEl.style.left = positionInfo.x + 'px';\n        this.dropdownEl.style.top = positionInfo.y + 'px';\n        this.dropdownEl.style.height = positionInfo.height + 'px';\n        this.dropdownEl.style.width = positionInfo.width + 'px';\n        this.dropdownEl.style.transformOrigin = `${positionInfo.horizontalAlignment === 'left' ? '0' : '100%'} ${positionInfo.verticalAlignment === 'top' ? '0' : '100%'}`;\n    }\n    open() {\n        if (this.isOpen)\n            return;\n        this.isOpen = true;\n        // onOpenStart callback\n        if (typeof this.options.onOpenStart === 'function') {\n            this.options.onOpenStart.call(this, this.el);\n        }\n        // Reset styles\n        this._resetDropdownStyles();\n        this.dropdownEl.style.display = 'block';\n        this._placeDropdown();\n        this._animateIn();\n        this._setupTemporaryEventHandlers();\n    }\n    close() {\n        if (!this.isOpen)\n            return;\n        this.isOpen = false;\n        this.focusedIndex = -1;\n        // onCloseStart callback\n        if (typeof this.options.onCloseStart === 'function') {\n            this.options.onCloseStart.call(this, this.el);\n        }\n        this._animateOut();\n        this._removeTemporaryEventHandlers();\n        if (this.options.autoFocus) {\n            this.el.focus();\n        }\n    }\n    recalculateDimensions() {\n        if (this.isOpen) {\n            this.dropdownEl.style.width = '';\n            this.dropdownEl.style.height = '';\n            this.dropdownEl.style.left = '';\n            this.dropdownEl.style.top = '';\n            this.dropdownEl.style.transformOrigin = '';\n            this._placeDropdown();\n        }\n    }\n}\nexports.Dropdown = Dropdown;\nDropdown._dropdowns = [];\n(() => {\n    Dropdown._dropdowns = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q25CLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNmLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7WUFDakMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztZQUNsQyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1lBQ2hDLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztZQUMzQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7U0FDdkI7SUFDSCxDQUFDOztBQWhoQkgsNEJBcWhCQztBQW5oQlEsbUJBQVUsR0FBZSxFQUFFLENBQUM7QUFnaEJuQztJQUNFLFFBQVEsQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO0FBQzNCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL2Ryb3Bkb3duLnRzP2M3NTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5pbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG4gIGNvbnN0IF9kZWZhdWx0cyA9IHtcbiAgICBhbGlnbm1lbnQ6ICdsZWZ0JyxcbiAgICBhdXRvRm9jdXM6IHRydWUsXG4gICAgY29uc3RyYWluV2lkdGg6IHRydWUsXG4gICAgY29udGFpbmVyOiBudWxsLFxuICAgIGNvdmVyVHJpZ2dlcjogdHJ1ZSxcbiAgICBjbG9zZU9uQ2xpY2s6IHRydWUsXG4gICAgaG92ZXI6IGZhbHNlLFxuICAgIGluRHVyYXRpb246IDE1MCxcbiAgICBvdXREdXJhdGlvbjogMjUwLFxuICAgIG9uT3BlblN0YXJ0OiBudWxsLFxuICAgIG9uT3BlbkVuZDogbnVsbCxcbiAgICBvbkNsb3NlU3RhcnQ6IG51bGwsXG4gICAgb25DbG9zZUVuZDogbnVsbCxcbiAgICBvbkl0ZW1DbGljazogbnVsbFxuICB9O1xuXG4gIGV4cG9ydCBjbGFzcyBEcm9wZG93biBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgZWw6IEhUTUxFbGVtZW50O1xuICAgIHN0YXRpYyBfZHJvcGRvd25zOiBEcm9wZG93bltdID0gW107XG4gICAgaWQ6IHN0cmluZztcbiAgICBkcm9wZG93bkVsOiBIVE1MRWxlbWVudDtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgaXNTY3JvbGxhYmxlOiBib29sZWFuO1xuICAgIGlzVG91Y2hNb3Zpbmc6IGJvb2xlYW47XG4gICAgZm9jdXNlZEluZGV4OiBudW1iZXI7XG4gICAgZmlsdGVyUXVlcnk6IGFueVtdO1xuICAgIHByaXZhdGUgX3Jlc2V0RmlsdGVyUXVlcnlCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZURvY3VtZW50VG91Y2htb3ZlQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVEcm9wZG93bkNsaWNrQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVEcm9wZG93bktleWRvd25Cb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZVRyaWdnZXJLZXlkb3duQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVNb3VzZUVudGVyQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVNb3VzZUxlYXZlQm91bmQ6IGFueTtcbiAgICBfaGFuZGxlQ2xpY2tCb3VuZDogYW55O1xuICAgIGZpbHRlclRpbWVvdXQ6IE5vZGVKUy5UaW1lb3V0O1xuXG4gICAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKERyb3Bkb3duLCBlbCwgb3B0aW9ucyk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fRHJvcGRvd24gPSB0aGlzO1xuICAgICAgRHJvcGRvd24uX2Ryb3Bkb3ducy5wdXNoKHRoaXMpO1xuICAgICAgdGhpcy5pZCA9IE0uZ2V0SWRGcm9tVHJpZ2dlcihlbCk7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKTtcbiAgICAgIC8vdGhpcy4kZHJvcGRvd25FbCA9ICQodGhpcy5kcm9wZG93bkVsKTtcbiAgICAgIHRoaXMub3B0aW9ucyA9IHsuLi5Ecm9wZG93bi5kZWZhdWx0cywgLi4ub3B0aW9uc307XG5cbiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICB0aGlzLmlzU2Nyb2xsYWJsZSA9IGZhbHNlO1xuICAgICAgdGhpcy5pc1RvdWNoTW92aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmZvY3VzZWRJbmRleCA9IC0xO1xuICAgICAgdGhpcy5maWx0ZXJRdWVyeSA9IFtdO1xuXG4gICAgICAvLyBNb3ZlIGRyb3Bkb3duLWNvbnRlbnQgYWZ0ZXIgZHJvcGRvd24tdHJpZ2dlclxuICAgICAgdGhpcy5fbW92ZURyb3Bkb3duKCk7XG4gICAgICB0aGlzLl9tYWtlRHJvcGRvd25Gb2N1c2FibGUoKTtcbiAgICAgIHRoaXMuX3Jlc2V0RmlsdGVyUXVlcnlCb3VuZCA9IHRoaXMuX3Jlc2V0RmlsdGVyUXVlcnkuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2suYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZURvY3VtZW50VG91Y2htb3ZlQm91bmQgPSB0aGlzLl9oYW5kbGVEb2N1bWVudFRvdWNobW92ZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlRHJvcGRvd25DbGlja0JvdW5kID0gdGhpcy5faGFuZGxlRHJvcGRvd25DbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlRHJvcGRvd25LZXlkb3duQm91bmQgPSB0aGlzLl9oYW5kbGVEcm9wZG93bktleWRvd24uYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZVRyaWdnZXJLZXlkb3duQm91bmQgPSB0aGlzLl9oYW5kbGVUcmlnZ2VyS2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgY29uc3QgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fRHJvcGRvd247XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX3Jlc2V0RHJvcGRvd25TdHlsZXMoKTtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIERyb3Bkb3duLl9kcm9wZG93bnMuc3BsaWNlKERyb3Bkb3duLl9kcm9wZG93bnMuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fRHJvcGRvd24gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIC8vIFRyaWdnZXIga2V5ZG93biBoYW5kbGVyXG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVUcmlnZ2VyS2V5ZG93bkJvdW5kKTtcbiAgICAgIC8vIEl0ZW0gY2xpY2sgaGFuZGxlclxuICAgICAgdGhpcy5kcm9wZG93bkVsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURyb3Bkb3duQ2xpY2tCb3VuZCk7XG4gICAgICAvLyBIb3ZlciBldmVudCBoYW5kbGVyc1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ob3Zlcikge1xuICAgICAgICB0aGlzLl9oYW5kbGVNb3VzZUVudGVyQm91bmQgPSB0aGlzLl9oYW5kbGVNb3VzZUVudGVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXJCb3VuZCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmVCb3VuZCA9IHRoaXMuX2hhbmRsZU1vdXNlTGVhdmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZUJvdW5kKTtcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlQm91bmQpO1xuICAgICAgICAvLyBDbGljayBldmVudCBoYW5kbGVyc1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZUNsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbGlja0JvdW5kKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZVRyaWdnZXJLZXlkb3duQm91bmQpO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRHJvcGRvd25DbGlja0JvdW5kKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaG92ZXIpIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlTW91c2VFbnRlckJvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZUJvdW5kKTtcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlQm91bmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrQm91bmQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9zZXR1cFRlbXBvcmFyeUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICAvLyBVc2UgY2FwdHVyZSBwaGFzZSBldmVudCBoYW5kbGVyIHRvIHByZXZlbnQgY2xpY2tcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQsIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudFRvdWNobW92ZUJvdW5kKTtcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRHJvcGRvd25LZXlkb3duQm91bmQpO1xuICAgIH1cblxuICAgIF9yZW1vdmVUZW1wb3JhcnlFdmVudEhhbmRsZXJzKCkge1xuICAgICAgLy8gVXNlIGNhcHR1cmUgcGhhc2UgZXZlbnQgaGFuZGxlciB0byBwcmV2ZW50IGNsaWNrXG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kLCB0cnVlKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRG9jdW1lbnRUb3VjaG1vdmVCb3VuZCk7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZURyb3Bkb3duS2V5ZG93bkJvdW5kKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlQ2xpY2soZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlTW91c2VMZWF2ZShlKSB7XG4gICAgICBjb25zdCB0b0VsID0gZS50b0VsZW1lbnQgfHwgZS5yZWxhdGVkVGFyZ2V0O1xuICAgICAgY29uc3QgbGVhdmVUb0Ryb3Bkb3duQ29udGVudCA9ICEhdG9FbC5jbG9zZXN0KCcuZHJvcGRvd24tY29udGVudCcpO1xuICAgICAgbGV0IGxlYXZlVG9BY3RpdmVEcm9wZG93blRyaWdnZXIgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGNsb3Nlc3RUcmlnZ2VyID0gdG9FbC5jbG9zZXN0KCcuZHJvcGRvd24tdHJpZ2dlcicpO1xuICAgICAgaWYgKFxuICAgICAgICBjbG9zZXN0VHJpZ2dlciAmJlxuICAgICAgICAhISg8YW55PmNsb3Nlc3RUcmlnZ2VyKS5NX0Ryb3Bkb3duICYmXG4gICAgICAgICg8YW55PmNsb3Nlc3RUcmlnZ2VyKS5NX0Ryb3Bkb3duLmlzT3BlblxuICAgICAgKSB7XG4gICAgICAgIGxlYXZlVG9BY3RpdmVEcm9wZG93blRyaWdnZXIgPSB0cnVlO1xuICAgICAgfVxuICAgICAgLy8gQ2xvc2UgaG92ZXIgZHJvcGRvd24gaWYgbW91c2UgZGlkIG5vdCBsZWF2ZSB0byBlaXRoZXIgYWN0aXZlIGRyb3Bkb3duLXRyaWdnZXIgb3IgZHJvcGRvd24tY29udGVudFxuICAgICAgaWYgKCFsZWF2ZVRvQWN0aXZlRHJvcGRvd25UcmlnZ2VyICYmICFsZWF2ZVRvRHJvcGRvd25Db250ZW50KSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlRG9jdW1lbnRDbGljayhlKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSA8SFRNTEVsZW1lbnQ+ZS50YXJnZXQ7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2sgJiZcbiAgICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bi1jb250ZW50JykgJiZcbiAgICAgICAgIXRoaXMuaXNUb3VjaE1vdmluZ1xuICAgICAgKSB7XG4gICAgICAgIC8vIGlzVG91Y2hNb3ZpbmcgdG8gY2hlY2sgaWYgc2Nyb2xsaW5nIG9uIG1vYmlsZS5cbiAgICAgICAgLy9zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAvL30sIDApO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoXG4gICAgICAgIHRhcmdldC5jbG9zZXN0KCcuZHJvcGRvd24tdHJpZ2dlcicpIHx8XG4gICAgICAgICF0YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKVxuICAgICAgKSB7XG4gICAgICAgIC8vc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgLy99LCAwKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNUb3VjaE1vdmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9oYW5kbGVUcmlnZ2VyS2V5ZG93bihlKSB7XG4gICAgICAvLyBBUlJPVyBET1dOIE9SIEVOVEVSIFdIRU4gU0VMRUNUIElTIENMT1NFRCAtIG9wZW4gRHJvcGRvd25cbiAgICAgIGlmICgoZS53aGljaCA9PT0gTS5rZXlzLkFSUk9XX0RPV04gfHwgZS53aGljaCA9PT0gTS5rZXlzLkVOVEVSKSAmJiAhdGhpcy5pc09wZW4pIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlRG9jdW1lbnRUb3VjaG1vdmUoZSkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gPEhUTUxFbGVtZW50PmUudGFyZ2V0O1xuICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuZHJvcGRvd24tY29udGVudCcpKSB7XG4gICAgICAgIHRoaXMuaXNUb3VjaE1vdmluZyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZURyb3Bkb3duQ2xpY2soZSkge1xuICAgICAgLy8gb25JdGVtQ2xpY2sgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uSXRlbUNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1FbCA9IDxIVE1MRWxlbWVudD5lLnRhcmdldC5jbG9zZXN0KCdsaScpO1xuICAgICAgICB0aGlzLm9wdGlvbnMub25JdGVtQ2xpY2suY2FsbCh0aGlzLCBpdGVtRWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVEcm9wZG93bktleWRvd24oZSkge1xuICAgICAgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5UQUIpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgICAvLyBOYXZpZ2F0ZSBkb3duIGRyb3Bkb3duIGxpc3RcbiAgICAgIGVsc2UgaWYgKChlLndoaWNoID09PSBNLmtleXMuQVJST1dfRE9XTiB8fCBlLndoaWNoID09PSBNLmtleXMuQVJST1dfVVApICYmIHRoaXMuaXNPcGVuKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gZS53aGljaCA9PT0gTS5rZXlzLkFSUk9XX0RPV04gPyAxIDogLTE7XG4gICAgICAgIGxldCBuZXdGb2N1c2VkSW5kZXggPSB0aGlzLmZvY3VzZWRJbmRleDtcbiAgICAgICAgbGV0IGhhc0ZvdW5kTmV3SW5kZXggPSBmYWxzZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIG5ld0ZvY3VzZWRJbmRleCA9IG5ld0ZvY3VzZWRJbmRleCArIGRpcmVjdGlvbjtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhIXRoaXMuZHJvcGRvd25FbC5jaGlsZHJlbltuZXdGb2N1c2VkSW5kZXhdICYmXG4gICAgICAgICAgICAoPGFueT50aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bbmV3Rm9jdXNlZEluZGV4XSkudGFiSW5kZXggIT09IC0xXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBoYXNGb3VuZE5ld0luZGV4ID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAobmV3Rm9jdXNlZEluZGV4IDwgdGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuLmxlbmd0aCAmJiBuZXdGb2N1c2VkSW5kZXggPj0gMCk7XG5cbiAgICAgICAgaWYgKGhhc0ZvdW5kTmV3SW5kZXgpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgYWN0aXZlIGNsYXNzIGZyb20gb2xkIGVsZW1lbnRcbiAgICAgICAgICBpZiAodGhpcy5mb2N1c2VkSW5kZXggPj0gMClcbiAgICAgICAgICAgIHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlblt0aGlzLmZvY3VzZWRJbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPSBuZXdGb2N1c2VkSW5kZXg7XG4gICAgICAgICAgdGhpcy5fZm9jdXNGb2N1c2VkSXRlbSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBFTlRFUiBzZWxlY3RzIGNob2ljZSBvbiBmb2N1c2VkIGl0ZW1cbiAgICAgIGVsc2UgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5FTlRFUiAmJiB0aGlzLmlzT3Blbikge1xuICAgICAgICAvLyBTZWFyY2ggZm9yIDxhPiBhbmQgPGJ1dHRvbj5cbiAgICAgICAgY29uc3QgZm9jdXNlZEVsZW1lbnQgPSB0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bdGhpcy5mb2N1c2VkSW5kZXhdO1xuICAgICAgICBjb25zdCBhY3RpdmF0YWJsZUVsZW1lbnQgPSA8SFRNTEVsZW1lbnQ+Zm9jdXNlZEVsZW1lbnQucXVlcnlTZWxlY3RvcignYSwgYnV0dG9uJyk7XG4gICAgICAgIC8vIENsaWNrIGEgb3IgYnV0dG9uIHRhZyBpZiBleGlzdHMsIG90aGVyd2lzZSBjbGljayBsaSB0YWdcbiAgICAgICAgaWYgKCEhYWN0aXZhdGFibGVFbGVtZW50KSB7XG4gICAgICAgICAgYWN0aXZhdGFibGVFbGVtZW50LmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoISFmb2N1c2VkRWxlbWVudCkge1xuICAgICAgICAgIGlmIChmb2N1c2VkRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICBmb2N1c2VkRWxlbWVudC5jbGljaygpO1xuICAgICAgICAgIH0gICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENsb3NlIGRyb3Bkb3duIG9uIEVTQ1xuICAgICAgZWxzZSBpZiAoZS53aGljaCA9PT0gTS5rZXlzLkVTQyAmJiB0aGlzLmlzT3Blbikge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ0FTRSBXSEVOIFVTRVIgVFlQRSBMRVRURVJTXG4gICAgICBjb25zdCBsZXR0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBub25MZXR0ZXJzID0gWzksIDEzLCAyNywgMzgsIDQwXTtcbiAgICAgIGlmIChsZXR0ZXIgJiYgbm9uTGV0dGVycy5pbmRleE9mKGUud2hpY2gpID09PSAtMSkge1xuICAgICAgICB0aGlzLmZpbHRlclF1ZXJ5LnB1c2gobGV0dGVyKTtcbiAgICAgICAgY29uc3Qgc3RyaW5nID0gdGhpcy5maWx0ZXJRdWVyeS5qb2luKCcnKTtcbiAgICAgICAgY29uc3QgbmV3T3B0aW9uRWwgPSBBcnJheS5mcm9tKHRoaXMuZHJvcGRvd25FbC5xdWVyeVNlbGVjdG9yQWxsKCdsaScpKVxuICAgICAgICAgIC5maW5kKChlbCkgPT4gZWwuaW5uZXJUZXh0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzdHJpbmcpID09PSAwKTtcbiAgICAgICAgaWYgKG5ld09wdGlvbkVsKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPSBbLi4ubmV3T3B0aW9uRWwucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihuZXdPcHRpb25FbCk7XG4gICAgICAgICAgdGhpcy5fZm9jdXNGb2N1c2VkSXRlbSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmZpbHRlclRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuX3Jlc2V0RmlsdGVyUXVlcnlCb3VuZCwgMTAwMCk7XG4gICAgfVxuXG4gICAgX3Jlc2V0RmlsdGVyUXVlcnkoKSB7XG4gICAgICB0aGlzLmZpbHRlclF1ZXJ5ID0gW107XG4gICAgfVxuXG4gICAgX3Jlc2V0RHJvcGRvd25TdHlsZXMoKSB7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUubGVmdCA9ICcnO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLnRvcCA9ICcnO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICcnO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLm9wYWNpdHkgPSAnJztcbiAgICB9XG5cbiAgICAvLyBNb3ZlIGRyb3Bkb3duIGFmdGVyIGNvbnRhaW5lciBvciB0cmlnZ2VyXG4gICAgX21vdmVEcm9wZG93bihjb250YWluZXJFbCA9IG51bGwpIHtcbiAgICAgIGlmICghIXRoaXMub3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmNvbnRhaW5lci5hcHBlbmQodGhpcy5kcm9wZG93bkVsKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGNvbnRhaW5lckVsKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyRWwuY29udGFpbnModGhpcy5kcm9wZG93bkVsKSkge1xuICAgICAgICAgIGNvbnRhaW5lckVsLmFwcGVuZCh0aGlzLmRyb3Bkb3duRWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5lbC5hZnRlcih0aGlzLmRyb3Bkb3duRWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9tYWtlRHJvcGRvd25Gb2N1c2FibGUoKSB7XG4gICAgICBpZiAoIXRoaXMuZHJvcGRvd25FbCkgcmV0dXJuO1xuICAgICAgLy8gTmVlZGVkIGZvciBhcnJvdyBrZXkgbmF2aWdhdGlvblxuICAgICAgdGhpcy5kcm9wZG93bkVsLnRhYkluZGV4ID0gMDtcbiAgICAgIC8vIE9ubHkgc2V0IHRhYmluZGV4IGlmIGl0IGhhc24ndCBiZWVuIHNldCBieSB1c2VyXG4gICAgICBBcnJheS5mcm9tKHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlbikuZm9yRWFjaCgoZWwpPT4ge1xuICAgICAgICBpZiAoIWVsLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSkgXG4gICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfZm9jdXNGb2N1c2VkSXRlbSgpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPj0gMCAmJlxuICAgICAgICB0aGlzLmZvY3VzZWRJbmRleCA8IHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlbi5sZW5ndGggJiZcbiAgICAgICAgdGhpcy5vcHRpb25zLmF1dG9Gb2N1c1xuICAgICAgKSB7XG4gICAgICAgICh0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bdGhpcy5mb2N1c2VkSW5kZXhdIGFzIEhUTUxFbGVtZW50KS5mb2N1cyh7XG4gICAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuW3RoaXMuZm9jdXNlZEluZGV4XS5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgICAgICAgIGJsb2NrOiAnbmVhcmVzdCcsXG4gICAgICAgICAgaW5saW5lOiAnbmVhcmVzdCdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2dldERyb3Bkb3duUG9zaXRpb24oY2xvc2VzdE92ZXJmbG93UGFyZW50KSB7XG4gICAgICBjb25zdCBvZmZzZXRQYXJlbnRCUmVjdCA9IHRoaXMuZWwub2Zmc2V0UGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgdHJpZ2dlckJSZWN0ID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IGRyb3Bkb3duQlJlY3QgPSB0aGlzLmRyb3Bkb3duRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIGxldCBpZGVhbEhlaWdodCA9IGRyb3Bkb3duQlJlY3QuaGVpZ2h0O1xuICAgICAgbGV0IGlkZWFsV2lkdGggPSBkcm9wZG93bkJSZWN0LndpZHRoO1xuICAgICAgbGV0IGlkZWFsWFBvcyA9IHRyaWdnZXJCUmVjdC5sZWZ0IC0gZHJvcGRvd25CUmVjdC5sZWZ0O1xuICAgICAgbGV0IGlkZWFsWVBvcyA9IHRyaWdnZXJCUmVjdC50b3AgLSBkcm9wZG93bkJSZWN0LnRvcDtcblxuICAgICAgY29uc3QgZHJvcGRvd25Cb3VuZHMgPSB7XG4gICAgICAgIGxlZnQ6IGlkZWFsWFBvcyxcbiAgICAgICAgdG9wOiBpZGVhbFlQb3MsXG4gICAgICAgIGhlaWdodDogaWRlYWxIZWlnaHQsXG4gICAgICAgIHdpZHRoOiBpZGVhbFdpZHRoXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBhbGlnbm1lbnRzID0gTS5jaGVja1Bvc3NpYmxlQWxpZ25tZW50cyhcbiAgICAgICAgdGhpcy5lbCxcbiAgICAgICAgY2xvc2VzdE92ZXJmbG93UGFyZW50LFxuICAgICAgICBkcm9wZG93bkJvdW5kcyxcbiAgICAgICAgdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlciA/IDAgOiB0cmlnZ2VyQlJlY3QuaGVpZ2h0XG4gICAgICApO1xuXG4gICAgICBsZXQgdmVydGljYWxBbGlnbm1lbnQgPSAndG9wJztcbiAgICAgIGxldCBob3Jpem9udGFsQWxpZ25tZW50ID0gdGhpcy5vcHRpb25zLmFsaWdubWVudDtcbiAgICAgIGlkZWFsWVBvcyArPSB0aGlzLm9wdGlvbnMuY292ZXJUcmlnZ2VyID8gMCA6IHRyaWdnZXJCUmVjdC5oZWlnaHQ7XG5cbiAgICAgIC8vIFJlc2V0IGlzU2Nyb2xsYWJsZVxuICAgICAgdGhpcy5pc1Njcm9sbGFibGUgPSBmYWxzZTtcblxuICAgICAgaWYgKCFhbGlnbm1lbnRzLnRvcCkge1xuICAgICAgICBpZiAoYWxpZ25tZW50cy5ib3R0b20pIHtcbiAgICAgICAgICB2ZXJ0aWNhbEFsaWdubWVudCA9ICdib3R0b20nO1xuXG4gICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuY292ZXJUcmlnZ2VyKSB7XG4gICAgICAgICAgICBpZGVhbFlQb3MgLT0gdHJpZ2dlckJSZWN0LmhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5pc1Njcm9sbGFibGUgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHNpZGUgaGFzIG1vc3Qgc3BhY2UgYW5kIGN1dG9mZiBhdCBjb3JyZWN0IGhlaWdodFxuICAgICAgICAgIGlkZWFsSGVpZ2h0IC09IDIwOyAvLyBBZGQgcGFkZGluZyB3aGVuIGN1dG9mZlxuICAgICAgICAgIGlmIChhbGlnbm1lbnRzLnNwYWNlT25Ub3AgPiBhbGlnbm1lbnRzLnNwYWNlT25Cb3R0b20pIHtcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ25tZW50ID0gJ2JvdHRvbSc7XG4gICAgICAgICAgICBpZGVhbEhlaWdodCArPSBhbGlnbm1lbnRzLnNwYWNlT25Ub3A7XG4gICAgICAgICAgICBpZGVhbFlQb3MgLT0gdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlclxuICAgICAgICAgICAgICA/IGFsaWdubWVudHMuc3BhY2VPblRvcCAtIDIwXG4gICAgICAgICAgICAgIDogYWxpZ25tZW50cy5zcGFjZU9uVG9wIC0gMjAgKyB0cmlnZ2VyQlJlY3QuaGVpZ2h0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZGVhbEhlaWdodCArPSBhbGlnbm1lbnRzLnNwYWNlT25Cb3R0b207XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHByZWZlcnJlZCBob3Jpem9udGFsIGFsaWdubWVudCBpcyBwb3NzaWJsZVxuICAgICAgaWYgKCFhbGlnbm1lbnRzW2hvcml6b250YWxBbGlnbm1lbnRdKSB7XG4gICAgICAgIGNvbnN0IG9wcG9zaXRlQWxpZ25tZW50ID0gaG9yaXpvbnRhbEFsaWdubWVudCA9PT0gJ2xlZnQnID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgICAgaWYgKGFsaWdubWVudHNbb3Bwb3NpdGVBbGlnbm1lbnRdKSB7XG4gICAgICAgICAgaG9yaXpvbnRhbEFsaWdubWVudCA9IG9wcG9zaXRlQWxpZ25tZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIERldGVybWluZSB3aGljaCBzaWRlIGhhcyBtb3N0IHNwYWNlIGFuZCBjdXRvZmYgYXQgY29ycmVjdCBoZWlnaHRcbiAgICAgICAgICBpZiAoYWxpZ25tZW50cy5zcGFjZU9uTGVmdCA+IGFsaWdubWVudHMuc3BhY2VPblJpZ2h0KSB7XG4gICAgICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50ID0gJ3JpZ2h0JztcbiAgICAgICAgICAgIGlkZWFsV2lkdGggKz0gYWxpZ25tZW50cy5zcGFjZU9uTGVmdDtcbiAgICAgICAgICAgIGlkZWFsWFBvcyAtPSBhbGlnbm1lbnRzLnNwYWNlT25MZWZ0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50ID0gJ2xlZnQnO1xuICAgICAgICAgICAgaWRlYWxXaWR0aCArPSBhbGlnbm1lbnRzLnNwYWNlT25SaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHZlcnRpY2FsQWxpZ25tZW50ID09PSAnYm90dG9tJykge1xuICAgICAgICBpZGVhbFlQb3MgPVxuICAgICAgICAgIGlkZWFsWVBvcyAtIGRyb3Bkb3duQlJlY3QuaGVpZ2h0ICsgKHRoaXMub3B0aW9ucy5jb3ZlclRyaWdnZXIgPyB0cmlnZ2VyQlJlY3QuaGVpZ2h0IDogMCk7XG4gICAgICB9XG4gICAgICBpZiAoaG9yaXpvbnRhbEFsaWdubWVudCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICBpZGVhbFhQb3MgPSBpZGVhbFhQb3MgLSBkcm9wZG93bkJSZWN0LndpZHRoICsgdHJpZ2dlckJSZWN0LndpZHRoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogaWRlYWxYUG9zLFxuICAgICAgICB5OiBpZGVhbFlQb3MsXG4gICAgICAgIHZlcnRpY2FsQWxpZ25tZW50OiB2ZXJ0aWNhbEFsaWdubWVudCxcbiAgICAgICAgaG9yaXpvbnRhbEFsaWdubWVudDogaG9yaXpvbnRhbEFsaWdubWVudCxcbiAgICAgICAgaGVpZ2h0OiBpZGVhbEhlaWdodCxcbiAgICAgICAgd2lkdGg6IGlkZWFsV2lkdGhcbiAgICAgIH07XG4gICAgfVxuXG4gICAgX2FuaW1hdGVJbigpIHtcbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZHJvcGRvd25FbCk7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5kcm9wZG93bkVsLFxuICAgICAgICBvcGFjaXR5OiB7XG4gICAgICAgICAgdmFsdWU6IFswLCAxXSxcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgfSxcbiAgICAgICAgc2NhbGVYOiBbMC4zLCAxXSxcbiAgICAgICAgc2NhbGVZOiBbMC4zLCAxXSxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVpbnQnLFxuICAgICAgICBjb21wbGV0ZTogKGFuaW0pID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9Gb2N1cykgdGhpcy5kcm9wZG93bkVsLmZvY3VzKCk7XG4gICAgICAgICAgLy8gb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuRW5kLmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfYW5pbWF0ZU91dCgpIHtcbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZHJvcGRvd25FbCk7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5kcm9wZG93bkVsLFxuICAgICAgICBvcGFjaXR5OiB7XG4gICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1aW50J1xuICAgICAgICB9LFxuICAgICAgICBzY2FsZVg6IDAuMyxcbiAgICAgICAgc2NhbGVZOiAwLjMsXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWludCcsXG4gICAgICAgIGNvbXBsZXRlOiAoYW5pbSkgPT4ge1xuICAgICAgICAgIHRoaXMuX3Jlc2V0RHJvcGRvd25TdHlsZXMoKTtcbiAgICAgICAgICAvLyBvbkNsb3NlRW5kIGNhbGxiYWNrXG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldENsb3Nlc3RBbmNlc3RvcihlbDogRWxlbWVudCwgY29uZGl0aW9uOiBGdW5jdGlvbik6IEVsZW1lbnQge1xuICAgICAgbGV0IGFuY2VzdG9yID0gZWwucGFyZW50Tm9kZTtcbiAgICAgIHdoaWxlIChhbmNlc3RvciAhPT0gbnVsbCAmJiBhbmNlc3RvciAhPT0gZG9jdW1lbnQpIHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbihhbmNlc3RvcikpIHtcbiAgICAgICAgICByZXR1cm4gPEVsZW1lbnQ+YW5jZXN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIF9wbGFjZURyb3Bkb3duKCkge1xuICAgICAgLy8gQ29udGFpbmVyIGhlcmUgd2lsbCBiZSBjbG9zZXN0IGFuY2VzdG9yIHdpdGggb3ZlcmZsb3c6IGhpZGRlblxuICAgICAgbGV0IGNsb3Nlc3RPdmVyZmxvd1BhcmVudDogSFRNTEVsZW1lbnQgPSA8SFRNTEVsZW1lbnQ+dGhpcy5fZ2V0Q2xvc2VzdEFuY2VzdG9yKHRoaXMuZHJvcGRvd25FbCwgKGFuY2VzdG9yOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICByZXR1cm4gIVsnSFRNTCcsJ0JPRFknXS5pbmNsdWRlcyhhbmNlc3Rvci50YWdOYW1lKSAmJiBnZXRDb21wdXRlZFN0eWxlKGFuY2VzdG9yKS5vdmVyZmxvdyAhPT0gJ3Zpc2libGUnO1xuICAgICAgfSk7XG4gICAgICAvLyBGYWxsYmFja1xuICAgICAgaWYgKCFjbG9zZXN0T3ZlcmZsb3dQYXJlbnQpIHtcbiAgICAgICAgY2xvc2VzdE92ZXJmbG93UGFyZW50ID0gPEhUTUxFbGVtZW50PighIXRoaXMuZHJvcGRvd25FbC5vZmZzZXRQYXJlbnRcbiAgICAgICAgICA/IHRoaXMuZHJvcGRvd25FbC5vZmZzZXRQYXJlbnRcbiAgICAgICAgICA6IHRoaXMuZHJvcGRvd25FbC5wYXJlbnROb2RlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGdldENvbXB1dGVkU3R5bGUoY2xvc2VzdE92ZXJmbG93UGFyZW50KS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpXG4gICAgICAgIGNsb3Nlc3RPdmVyZmxvd1BhcmVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG5cbiAgICAgIHRoaXMuX21vdmVEcm9wZG93bihjbG9zZXN0T3ZlcmZsb3dQYXJlbnQpO1xuXG4gICAgICAvLyBTZXQgd2lkdGggYmVmb3JlIGNhbGN1bGF0aW5nIHBvc2l0aW9uSW5mb1xuICAgICAgY29uc3QgaWRlYWxXaWR0aCA9IHRoaXMub3B0aW9ucy5jb25zdHJhaW5XaWR0aFxuICAgICAgICA/IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGhcbiAgICAgICAgOiB0aGlzLmRyb3Bkb3duRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUud2lkdGggPSBpZGVhbFdpZHRoICsgJ3B4JztcblxuICAgICAgY29uc3QgcG9zaXRpb25JbmZvID0gdGhpcy5fZ2V0RHJvcGRvd25Qb3NpdGlvbihjbG9zZXN0T3ZlcmZsb3dQYXJlbnQpO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLmxlZnQgPSBwb3NpdGlvbkluZm8ueCArICdweCc7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUudG9wID0gcG9zaXRpb25JbmZvLnkgKyAncHgnO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLmhlaWdodCA9IHBvc2l0aW9uSW5mby5oZWlnaHQgKyAncHgnO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLndpZHRoID0gcG9zaXRpb25JbmZvLndpZHRoICsgJ3B4JztcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBgJHtcbiAgICAgICAgcG9zaXRpb25JbmZvLmhvcml6b250YWxBbGlnbm1lbnQgPT09ICdsZWZ0JyA/ICcwJyA6ICcxMDAlJ1xuICAgICAgfSAke3Bvc2l0aW9uSW5mby52ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ3RvcCcgPyAnMCcgOiAnMTAwJSd9YDtcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgaWYgKHRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICB9XG4gICAgICAvLyBSZXNldCBzdHlsZXNcbiAgICAgIHRoaXMuX3Jlc2V0RHJvcGRvd25TdHlsZXMoKTtcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIHRoaXMuX3BsYWNlRHJvcGRvd24oKTtcbiAgICAgIHRoaXMuX2FuaW1hdGVJbigpO1xuICAgICAgdGhpcy5fc2V0dXBUZW1wb3JhcnlFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICBpZiAoIXRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPSAtMTtcbiAgICAgIC8vIG9uQ2xvc2VTdGFydCBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2FuaW1hdGVPdXQoKTtcbiAgICAgIHRoaXMuX3JlbW92ZVRlbXBvcmFyeUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzKSB7XG4gICAgICAgIHRoaXMuZWwuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZWNhbGN1bGF0ZURpbWVuc2lvbnMoKSB7XG4gICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLmxlZnQgPSAnJztcbiAgICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLnRvcCA9ICcnO1xuICAgICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJyc7XG4gICAgICAgIHRoaXMuX3BsYWNlRHJvcGRvd24oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMge1xuICAgICAgRHJvcGRvd24uX2Ryb3Bkb3ducyA9IFtdOyAgICBcbiAgICB9XG4gIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/dropdown.ts\n");

/***/ }),

/***/ "./src/forms.ts":
/*!**********************!*\
  !*** ./src/forms.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Forms = void 0;\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nclass Forms {\n    static textareaAutoResize(textarea) {\n        if (!textarea) {\n            console.error('No textarea element found');\n            return;\n        }\n        // Textarea Auto Resize\n        let hiddenDiv = document.querySelector('.hiddendiv');\n        if (!hiddenDiv) {\n            hiddenDiv = document.createElement('div');\n            hiddenDiv.classList.add('hiddendiv', 'common');\n            document.body.append(hiddenDiv);\n        }\n        const style = getComputedStyle(textarea);\n        // Set font properties of hiddenDiv\n        const fontFamily = style.fontFamily; //textarea.css('font-family');\n        const fontSize = style.fontSize; //textarea.css('font-size');\n        const lineHeight = style.lineHeight; //textarea.css('line-height');\n        // Firefox can't handle padding shorthand.\n        const paddingTop = style.paddingTop; //getComputedStyle(textarea).css('padding-top');\n        const paddingRight = style.paddingRight; //textarea.css('padding-right');\n        const paddingBottom = style.paddingBottom; //textarea.css('padding-bottom');\n        const paddingLeft = style.paddingLeft; //textarea.css('padding-left');\n        if (fontSize)\n            hiddenDiv.style.fontSize = fontSize; //('font-size', fontSize);\n        if (fontFamily)\n            hiddenDiv.style.fontFamily = fontFamily; //css('font-family', fontFamily);\n        if (lineHeight)\n            hiddenDiv.style.lineHeight = lineHeight; //css('line-height', lineHeight);    \n        if (paddingTop)\n            hiddenDiv.style.paddingTop = paddingTop; //ss('padding-top', paddingTop);    \n        if (paddingRight)\n            hiddenDiv.style.paddingRight = paddingRight; //css('padding-right', paddingRight);    \n        if (paddingBottom)\n            hiddenDiv.style.paddingBottom = paddingBottom; //css('padding-bottom', paddingBottom);    \n        if (paddingLeft)\n            hiddenDiv.style.paddingLeft = paddingLeft; //css('padding-left', paddingLeft);    \n        // Set original-height, if none    \n        if (!textarea.hasAttribute('original-height'))\n            textarea.setAttribute('original-height', textarea.getBoundingClientRect().height.toString());\n        if (textarea.getAttribute('wrap') === 'off') {\n            hiddenDiv.style.overflowWrap = 'normal'; // ('overflow-wrap', 'normal')\n            hiddenDiv.style.whiteSpace = 'pre'; //.css('white-space', 'pre');\n        }\n        hiddenDiv.innerText = textarea.value + '\\n';\n        const content = hiddenDiv.innerHTML.replace(/\\n/g, '<br>');\n        hiddenDiv.innerHTML = content;\n        // When textarea is hidden, width goes crazy.\n        // Approximate with half of window size\n        if (textarea.offsetWidth > 0 && textarea.offsetHeight > 0) {\n            hiddenDiv.style.width = textarea.getBoundingClientRect().width + 'px'; // ('width', textarea.width() + 'px');\n        }\n        else {\n            hiddenDiv.style.width = (window.innerWidth / 2) + 'px'; //css('width', window.innerWidth / 2 + 'px');\n        }\n        // Resize if the new height is greater than the\n        // original height of the textarea\n        const originalHeight = parseInt(textarea.getAttribute('original-height'));\n        const prevLength = parseInt(textarea.getAttribute('previous-length'));\n        if (isNaN(originalHeight))\n            return;\n        if (originalHeight <= hiddenDiv.clientHeight) {\n            textarea.style.height = hiddenDiv.clientHeight + 'px'; //css('height', hiddenDiv.innerHeight() + 'px');\n        }\n        else if (textarea.value.length < prevLength) {\n            // In case the new height is less than original height, it\n            // means the textarea has less text than before\n            // So we set the height to the original one\n            textarea.style.height = originalHeight + 'px';\n        }\n        textarea.setAttribute('previous-length', textarea.value.length.toString());\n    }\n    ;\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            document.addEventListener('keyup', e => {\n                const target = e.target;\n                // Radio and Checkbox focus class\n                if (target instanceof HTMLInputElement && ['radio', 'checkbox'].includes(target.type)) {\n                    // TAB, check if tabbing to radio or checkbox.\n                    if (e.which === global_1.M.keys.TAB) {\n                        target.classList.add('tabbed');\n                        target.addEventListener('blur', e => target.classList.remove('tabbed'), { once: true });\n                    }\n                }\n            });\n            document.querySelectorAll('.materialize-textarea').forEach((textArea) => {\n                // Save Data in Element\n                textArea.setAttribute('original-height', textArea.getBoundingClientRect().height.toString());\n                textArea.setAttribute('previous-length', textArea.value.length.toString());\n                Forms.textareaAutoResize(textArea);\n                textArea.addEventListener('keyup', e => Forms.textareaAutoResize(textArea));\n                textArea.addEventListener('keydown', e => Forms.textareaAutoResize(textArea));\n            });\n            // File Input Path\n            document.querySelectorAll('.file-field input[type=\"file\"]').forEach((fileInput) => {\n                fileInput.addEventListener('change', e => {\n                    const fileField = fileInput.closest('.file-field');\n                    const pathInput = fileField.querySelector('input.file-path');\n                    const files = fileInput.files;\n                    const filenames = [];\n                    for (let i = 0; i < files.length; i++) {\n                        filenames.push(files[i].name);\n                    }\n                    pathInput.value = filenames.join(', ');\n                    pathInput.dispatchEvent(new Event('change'));\n                });\n            });\n        });\n    }\n}\nexports.Forms = Forms;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZm9ybXMudHMuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEsd0VBQTZCO0FBRTdCLE1BQWEsS0FBSztJQUVoQixNQUFNLENBQUMsa0JBQWtCLENBQUMsUUFBNkI7UUFDckQsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNiLE9BQU8sQ0FBQyxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztZQUMzQyxPQUFPO1NBQ1I7UUFDRCx1QkFBdUI7UUFDdkIsSUFBSSxTQUFTLEdBQW1CLFFBQVEsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNkLFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUMvQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUNqQztRQUNELE1BQU0sS0FBSyxHQUFHLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3pDLG1DQUFtQztRQUNuQyxNQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsOEJBQThCO1FBQ25FLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyw0QkFBNEI7UUFDN0QsTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLDhCQUE4QjtRQUNuRSwwQ0FBMEM7UUFDMUMsTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLGdEQUFnRDtRQUNyRixNQUFNLFlBQVksR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsZ0NBQWdDO1FBQ3pFLE1BQU0sYUFBYSxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxpQ0FBaUM7UUFDNUUsTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDLCtCQUErQjtRQUV0RSxJQUFJLFFBQVE7WUFBRSxTQUFTLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUMsQ0FBQywwQkFBMEI7UUFDN0UsSUFBSSxVQUFVO1lBQUUsU0FBUyxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDLENBQUMsaUNBQWlDO1FBQzFGLElBQUksVUFBVTtZQUFFLFNBQVMsQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQyxDQUFDLHFDQUFxQztRQUM5RixJQUFJLFVBQVU7WUFBRSxTQUFTLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUMsQ0FBQyxvQ0FBb0M7UUFDN0YsSUFBSSxZQUFZO1lBQUUsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDLENBQUMseUNBQXlDO1FBQ3hHLElBQUksYUFBYTtZQUFFLFNBQVMsQ0FBQyxLQUFLLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQyxDQUFDLDJDQUEyQztRQUM3RyxJQUFJLFdBQVc7WUFBRSxTQUFTLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUMsQ0FBQyx1Q0FBdUM7UUFFbkcsbUNBQW1DO1FBQ25DLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUFDO1lBQzNDLFFBQVEsQ0FBQyxZQUFZLENBQUMsaUJBQWlCLEVBQUUsUUFBUSxDQUFDLHFCQUFxQixFQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFFL0YsSUFBSSxRQUFRLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEtBQUssRUFBRTtZQUMzQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxRQUFRLENBQUMsQ0FBQyw4QkFBOEI7WUFDdkUsU0FBUyxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDLENBQUUsNkJBQTZCO1NBQ25FO1FBRUQsU0FBUyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUU1QyxNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDM0QsU0FBUyxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUM7UUFFOUIsNkNBQTZDO1FBQzdDLHVDQUF1QztRQUN2QyxJQUFJLFFBQVEsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxFQUFFO1lBQ3pELFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLEtBQUssR0FBRSxJQUFJLENBQUMsQ0FBQyxzQ0FBc0M7U0FDN0c7YUFDSTtZQUNILFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsR0FBQyxJQUFJLEVBQUMsNkNBQTZDO1NBQ25HO1FBRUQsK0NBQStDO1FBQy9DLGtDQUFrQztRQUNsQyxNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7UUFDMUUsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1FBQ3RFLElBQUksS0FBSyxDQUFDLGNBQWMsQ0FBQztZQUFFLE9BQU87UUFDbEMsSUFBSSxjQUFjLElBQUksU0FBUyxDQUFDLFlBQVksRUFBRTtZQUM1QyxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsWUFBWSxHQUFDLElBQUksQ0FBQyxDQUFFLGdEQUFnRDtTQUN2RzthQUNJLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsVUFBVSxFQUFFO1lBQzdDLDBEQUEwRDtZQUMxRCwrQ0FBK0M7WUFDL0MsMkNBQTJDO1lBQ3pDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLGNBQWMsR0FBQyxJQUFJLENBQUM7U0FDN0M7UUFDRCxRQUFRLENBQUMsWUFBWSxDQUFDLGlCQUFpQixFQUFFLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDN0UsQ0FBQztJQUFBLENBQUM7SUFFRixNQUFNLENBQUMsSUFBSTtRQUNULFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7WUFFakQsUUFBUSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRTtnQkFDckMsTUFBTSxNQUFNLEdBQXFCLENBQUMsQ0FBQyxNQUFNLENBQUM7Z0JBQzFDLGlDQUFpQztnQkFDakMsSUFBSSxNQUFNLFlBQVksZ0JBQWdCLElBQUksQ0FBQyxPQUFPLEVBQUMsVUFBVSxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRTtvQkFDcEYsOENBQThDO29CQUM5QyxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssVUFBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7d0JBQzFCLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUMvQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQztxQkFDdkY7aUJBQ0Y7WUFDSCxDQUFDLENBQUMsQ0FBQztZQUVILFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQTZCLEVBQUUsRUFBRTtnQkFDM0YsdUJBQXVCO2dCQUN2QixRQUFRLENBQUMsWUFBWSxDQUFDLGlCQUFpQixFQUFFLFFBQVEsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO2dCQUM3RixRQUFRLENBQUMsWUFBWSxDQUFDLGlCQUFpQixFQUFFLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7Z0JBQzNFLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFFbkMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUM1RSxRQUFRLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDaEYsQ0FBQyxDQUFDLENBQUM7WUFFSCxrQkFBa0I7WUFDbEIsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGdDQUFnQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsU0FBMkIsRUFBRSxFQUFFO2dCQUNsRyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFO29CQUN2QyxNQUFNLFNBQVMsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO29CQUNuRCxNQUFNLFNBQVMsR0FBcUIsU0FBUyxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO29CQUMvRSxNQUFNLEtBQUssR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDO29CQUM5QixNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUM7b0JBQ3JCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO3dCQUNyQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztxQkFDL0I7b0JBQ0QsU0FBUyxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUN2QyxTQUFTLENBQUMsYUFBYSxDQUFDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQy9DLENBQUMsQ0FBQyxDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRjtBQW5IRCxzQkFtSEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL2Zvcm1zLnRzPzUwYjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuXG5leHBvcnQgY2xhc3MgRm9ybXMge1xuXG4gIHN0YXRpYyB0ZXh0YXJlYUF1dG9SZXNpemUodGV4dGFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQpIHtcbiAgICBpZiAoIXRleHRhcmVhKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdObyB0ZXh0YXJlYSBlbGVtZW50IGZvdW5kJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFRleHRhcmVhIEF1dG8gUmVzaXplXG4gICAgbGV0IGhpZGRlbkRpdjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlkZGVuZGl2Jyk7XG4gICAgaWYgKCFoaWRkZW5EaXYpIHtcbiAgICAgIGhpZGRlbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaGlkZGVuRGl2LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbmRpdicsICdjb21tb24nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKGhpZGRlbkRpdik7XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0ZXh0YXJlYSk7XG4gICAgLy8gU2V0IGZvbnQgcHJvcGVydGllcyBvZiBoaWRkZW5EaXZcbiAgICBjb25zdCBmb250RmFtaWx5ID0gc3R5bGUuZm9udEZhbWlseTsgLy90ZXh0YXJlYS5jc3MoJ2ZvbnQtZmFtaWx5Jyk7XG4gICAgY29uc3QgZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZTsgLy90ZXh0YXJlYS5jc3MoJ2ZvbnQtc2l6ZScpO1xuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0OyAvL3RleHRhcmVhLmNzcygnbGluZS1oZWlnaHQnKTtcbiAgICAvLyBGaXJlZm94IGNhbid0IGhhbmRsZSBwYWRkaW5nIHNob3J0aGFuZC5cbiAgICBjb25zdCBwYWRkaW5nVG9wID0gc3R5bGUucGFkZGluZ1RvcDsgLy9nZXRDb21wdXRlZFN0eWxlKHRleHRhcmVhKS5jc3MoJ3BhZGRpbmctdG9wJyk7XG4gICAgY29uc3QgcGFkZGluZ1JpZ2h0ID0gc3R5bGUucGFkZGluZ1JpZ2h0OyAvL3RleHRhcmVhLmNzcygncGFkZGluZy1yaWdodCcpO1xuICAgIGNvbnN0IHBhZGRpbmdCb3R0b20gPSBzdHlsZS5wYWRkaW5nQm90dG9tOyAvL3RleHRhcmVhLmNzcygncGFkZGluZy1ib3R0b20nKTtcbiAgICBjb25zdCBwYWRkaW5nTGVmdCA9IHN0eWxlLnBhZGRpbmdMZWZ0OyAvL3RleHRhcmVhLmNzcygncGFkZGluZy1sZWZ0Jyk7XG5cbiAgICBpZiAoZm9udFNpemUpIGhpZGRlbkRpdi5zdHlsZS5mb250U2l6ZSA9IGZvbnRTaXplOyAvLygnZm9udC1zaXplJywgZm9udFNpemUpO1xuICAgIGlmIChmb250RmFtaWx5KSBoaWRkZW5EaXYuc3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7IC8vY3NzKCdmb250LWZhbWlseScsIGZvbnRGYW1pbHkpO1xuICAgIGlmIChsaW5lSGVpZ2h0KSBoaWRkZW5EaXYuc3R5bGUubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7IC8vY3NzKCdsaW5lLWhlaWdodCcsIGxpbmVIZWlnaHQpOyAgICBcbiAgICBpZiAocGFkZGluZ1RvcCkgaGlkZGVuRGl2LnN0eWxlLnBhZGRpbmdUb3AgPSBwYWRkaW5nVG9wOyAvL3NzKCdwYWRkaW5nLXRvcCcsIHBhZGRpbmdUb3ApOyAgICBcbiAgICBpZiAocGFkZGluZ1JpZ2h0KSBoaWRkZW5EaXYuc3R5bGUucGFkZGluZ1JpZ2h0ID0gcGFkZGluZ1JpZ2h0OyAvL2NzcygncGFkZGluZy1yaWdodCcsIHBhZGRpbmdSaWdodCk7ICAgIFxuICAgIGlmIChwYWRkaW5nQm90dG9tKSBoaWRkZW5EaXYuc3R5bGUucGFkZGluZ0JvdHRvbSA9IHBhZGRpbmdCb3R0b207IC8vY3NzKCdwYWRkaW5nLWJvdHRvbScsIHBhZGRpbmdCb3R0b20pOyAgICBcbiAgICBpZiAocGFkZGluZ0xlZnQpIGhpZGRlbkRpdi5zdHlsZS5wYWRkaW5nTGVmdCA9IHBhZGRpbmdMZWZ0OyAvL2NzcygncGFkZGluZy1sZWZ0JywgcGFkZGluZ0xlZnQpOyAgICBcblxuICAgIC8vIFNldCBvcmlnaW5hbC1oZWlnaHQsIGlmIG5vbmUgICAgXG4gICAgaWYgKCF0ZXh0YXJlYS5oYXNBdHRyaWJ1dGUoJ29yaWdpbmFsLWhlaWdodCcpKVxuICAgICAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdvcmlnaW5hbC1oZWlnaHQnLCB0ZXh0YXJlYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQudG9TdHJpbmcoKSk7XG5cbiAgICBpZiAodGV4dGFyZWEuZ2V0QXR0cmlidXRlKCd3cmFwJykgPT09ICdvZmYnKSB7XG4gICAgICBoaWRkZW5EaXYuc3R5bGUub3ZlcmZsb3dXcmFwID0gJ25vcm1hbCc7IC8vICgnb3ZlcmZsb3ctd3JhcCcsICdub3JtYWwnKVxuICAgICAgaGlkZGVuRGl2LnN0eWxlLndoaXRlU3BhY2UgPSAncHJlJzsgIC8vLmNzcygnd2hpdGUtc3BhY2UnLCAncHJlJyk7XG4gICAgfVxuXG4gICAgaGlkZGVuRGl2LmlubmVyVGV4dCA9IHRleHRhcmVhLnZhbHVlICsgJ1xcbic7XG5cbiAgICBjb25zdCBjb250ZW50ID0gaGlkZGVuRGl2LmlubmVySFRNTC5yZXBsYWNlKC9cXG4vZywgJzxicj4nKTtcbiAgICBoaWRkZW5EaXYuaW5uZXJIVE1MID0gY29udGVudDtcblxuICAgIC8vIFdoZW4gdGV4dGFyZWEgaXMgaGlkZGVuLCB3aWR0aCBnb2VzIGNyYXp5LlxuICAgIC8vIEFwcHJveGltYXRlIHdpdGggaGFsZiBvZiB3aW5kb3cgc2l6ZVxuICAgIGlmICh0ZXh0YXJlYS5vZmZzZXRXaWR0aCA+IDAgJiYgdGV4dGFyZWEub2Zmc2V0SGVpZ2h0ID4gMCkge1xuICAgICAgaGlkZGVuRGl2LnN0eWxlLndpZHRoID0gdGV4dGFyZWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKydweCc7IC8vICgnd2lkdGgnLCB0ZXh0YXJlYS53aWR0aCgpICsgJ3B4Jyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaGlkZGVuRGl2LnN0eWxlLndpZHRoID0gKHdpbmRvdy5pbm5lcldpZHRoIC8gMikrJ3B4JyAvL2Nzcygnd2lkdGgnLCB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgKyAncHgnKTtcbiAgICB9XG5cbiAgICAvLyBSZXNpemUgaWYgdGhlIG5ldyBoZWlnaHQgaXMgZ3JlYXRlciB0aGFuIHRoZVxuICAgIC8vIG9yaWdpbmFsIGhlaWdodCBvZiB0aGUgdGV4dGFyZWFcbiAgICBjb25zdCBvcmlnaW5hbEhlaWdodCA9IHBhcnNlSW50KHRleHRhcmVhLmdldEF0dHJpYnV0ZSgnb3JpZ2luYWwtaGVpZ2h0JykpO1xuICAgIGNvbnN0IHByZXZMZW5ndGggPSBwYXJzZUludCh0ZXh0YXJlYS5nZXRBdHRyaWJ1dGUoJ3ByZXZpb3VzLWxlbmd0aCcpKTtcbiAgICBpZiAoaXNOYU4ob3JpZ2luYWxIZWlnaHQpKSByZXR1cm47XG4gICAgaWYgKG9yaWdpbmFsSGVpZ2h0IDw9IGhpZGRlbkRpdi5jbGllbnRIZWlnaHQpIHtcbiAgICAgIHRleHRhcmVhLnN0eWxlLmhlaWdodCA9IGhpZGRlbkRpdi5jbGllbnRIZWlnaHQrJ3B4JzsgIC8vY3NzKCdoZWlnaHQnLCBoaWRkZW5EaXYuaW5uZXJIZWlnaHQoKSArICdweCcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0ZXh0YXJlYS52YWx1ZS5sZW5ndGggPCBwcmV2TGVuZ3RoKSB7XG4gICAgLy8gSW4gY2FzZSB0aGUgbmV3IGhlaWdodCBpcyBsZXNzIHRoYW4gb3JpZ2luYWwgaGVpZ2h0LCBpdFxuICAgIC8vIG1lYW5zIHRoZSB0ZXh0YXJlYSBoYXMgbGVzcyB0ZXh0IHRoYW4gYmVmb3JlXG4gICAgLy8gU28gd2Ugc2V0IHRoZSBoZWlnaHQgdG8gdGhlIG9yaWdpbmFsIG9uZVxuICAgICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gb3JpZ2luYWxIZWlnaHQrJ3B4JztcbiAgICB9XG4gICAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdwcmV2aW91cy1sZW5ndGgnLCB0ZXh0YXJlYS52YWx1ZS5sZW5ndGgudG9TdHJpbmcoKSk7XG4gIH07XG5cbiAgc3RhdGljIEluaXQoKXtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0O1xuICAgICAgICAvLyBSYWRpbyBhbmQgQ2hlY2tib3ggZm9jdXMgY2xhc3NcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgWydyYWRpbycsJ2NoZWNrYm94J10uaW5jbHVkZXModGFyZ2V0LnR5cGUpKSB7XG4gICAgICAgICAgLy8gVEFCLCBjaGVjayBpZiB0YWJiaW5nIHRvIHJhZGlvIG9yIGNoZWNrYm94LlxuICAgICAgICAgIGlmIChlLndoaWNoID09PSBNLmtleXMuVEFCKSB7XG4gICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgndGFiYmVkJyk7XG4gICAgICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGUgPT4gdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3RhYmJlZCcpLCB7b25jZTogdHJ1ZX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYXRlcmlhbGl6ZS10ZXh0YXJlYScpLmZvckVhY2goKHRleHRBcmVhOiBIVE1MVGV4dEFyZWFFbGVtZW50KSA9PiB7XG4gICAgICAgIC8vIFNhdmUgRGF0YSBpbiBFbGVtZW50XG4gICAgICAgIHRleHRBcmVhLnNldEF0dHJpYnV0ZSgnb3JpZ2luYWwtaGVpZ2h0JywgdGV4dEFyZWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0LnRvU3RyaW5nKCkpO1xuICAgICAgICB0ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoJ3ByZXZpb3VzLWxlbmd0aCcsIHRleHRBcmVhLnZhbHVlLmxlbmd0aC50b1N0cmluZygpKTtcbiAgICAgICAgRm9ybXMudGV4dGFyZWFBdXRvUmVzaXplKHRleHRBcmVhKTtcblxuICAgICAgICB0ZXh0QXJlYS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGUgPT4gRm9ybXMudGV4dGFyZWFBdXRvUmVzaXplKHRleHRBcmVhKSk7XG4gICAgICAgIHRleHRBcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlID0+IEZvcm1zLnRleHRhcmVhQXV0b1Jlc2l6ZSh0ZXh0QXJlYSkpO1xuICAgICAgfSk7XG4gIFxuICAgICAgLy8gRmlsZSBJbnB1dCBQYXRoXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsZS1maWVsZCBpbnB1dFt0eXBlPVwiZmlsZVwiXScpLmZvckVhY2goKGZpbGVJbnB1dDogSFRNTElucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBmaWxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZSA9PiB7XG4gICAgICAgICAgY29uc3QgZmlsZUZpZWxkID0gZmlsZUlucHV0LmNsb3Nlc3QoJy5maWxlLWZpZWxkJyk7XG4gICAgICAgICAgY29uc3QgcGF0aElucHV0ID0gPEhUTUxJbnB1dEVsZW1lbnQ+ZmlsZUZpZWxkLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0LmZpbGUtcGF0aCcpO1xuICAgICAgICAgIGNvbnN0IGZpbGVzID0gZmlsZUlucHV0LmZpbGVzO1xuICAgICAgICAgIGNvbnN0IGZpbGVuYW1lcyA9IFtdO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZpbGVuYW1lcy5wdXNoKGZpbGVzW2ldLm5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRoSW5wdXQudmFsdWUgPSBmaWxlbmFtZXMuam9pbignLCAnKTtcbiAgICAgICAgICBwYXRoSW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgXG4gICAgfSk7XG4gIH1cbn1cblxuICAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/forms.ts\n");

/***/ }),

/***/ "./src/global.ts":
/*!***********************!*\
  !*** ./src/global.ts ***!
  \***********************/
/***/ ((module, exports, __webpack_require__) => {

eval("\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.M = void 0;\nconst autocomplete_1 = __webpack_require__(/*! ./autocomplete */ \"./src/autocomplete.ts\");\nconst buttons_1 = __webpack_require__(/*! ./buttons */ \"./src/buttons.ts\");\nconst cards_1 = __webpack_require__(/*! ./cards */ \"./src/cards.ts\");\nconst carousel_1 = __webpack_require__(/*! ./carousel */ \"./src/carousel.ts\");\nconst characterCounter_1 = __webpack_require__(/*! ./characterCounter */ \"./src/characterCounter.ts\");\nconst chips_1 = __webpack_require__(/*! ./chips */ \"./src/chips.ts\");\nconst collapsible_1 = __webpack_require__(/*! ./collapsible */ \"./src/collapsible.ts\");\nconst datepicker_1 = __webpack_require__(/*! ./datepicker */ \"./src/datepicker.ts\");\nconst dropdown_1 = __webpack_require__(/*! ./dropdown */ \"./src/dropdown.ts\");\nconst forms_1 = __webpack_require__(/*! ./forms */ \"./src/forms.ts\");\nconst materialbox_1 = __webpack_require__(/*! ./materialbox */ \"./src/materialbox.ts\");\nconst modal_1 = __webpack_require__(/*! ./modal */ \"./src/modal.ts\");\nconst parallax_1 = __webpack_require__(/*! ./parallax */ \"./src/parallax.ts\");\nconst pushpin_1 = __webpack_require__(/*! ./pushpin */ \"./src/pushpin.ts\");\nconst scrollspy_1 = __webpack_require__(/*! ./scrollspy */ \"./src/scrollspy.ts\");\nconst select_1 = __webpack_require__(/*! ./select */ \"./src/select.ts\");\nconst sidenav_1 = __webpack_require__(/*! ./sidenav */ \"./src/sidenav.ts\");\nconst slider_1 = __webpack_require__(/*! ./slider */ \"./src/slider.ts\");\nconst tabs_1 = __webpack_require__(/*! ./tabs */ \"./src/tabs.ts\");\nconst tapTarget_1 = __webpack_require__(/*! ./tapTarget */ \"./src/tapTarget.ts\");\nconst timepicker_1 = __webpack_require__(/*! ./timepicker */ \"./src/timepicker.ts\");\nconst toasts_1 = __webpack_require__(/*! ./toasts */ \"./src/toasts.ts\");\nconst tooltip_1 = __webpack_require__(/*! ./tooltip */ \"./src/tooltip.ts\");\nconst waves_1 = __webpack_require__(/*! ./waves */ \"./src/waves.ts\");\nconst range_1 = __webpack_require__(/*! ./range */ \"./src/range.ts\");\nclass M {\n    static docHandleKeydown(e) {\n        M.keyDown = true;\n        if (e.which === M.keys.TAB || e.which === M.keys.ARROW_DOWN || e.which === M.keys.ARROW_UP) {\n            M.tabPressed = true;\n        }\n    }\n    static docHandleKeyup(e) {\n        M.keyDown = false;\n        if (e.which === M.keys.TAB || e.which === M.keys.ARROW_DOWN || e.which === M.keys.ARROW_UP) {\n            M.tabPressed = false;\n        }\n    }\n    static docHandleFocus(e) {\n        if (M.keyDown) {\n            document.body.classList.add('keyboard-focused');\n        }\n    }\n    static docHandleBlur(e) {\n        document.body.classList.remove('keyboard-focused');\n    }\n    //--- TODO: Remove!\n    static jQueryLoaded() {\n        return !!window.jQuery;\n    }\n    static initializeJqueryWrapper(plugin, pluginName, classRef) {\n        if (!this.jQueryLoaded())\n            return;\n        var jq = window.jQuery;\n        jq.fn[pluginName] = function (methodOrOptions) {\n            // Call plugin method if valid method name is passed in\n            if (plugin.prototype[methodOrOptions]) {\n                let params = Array.prototype.slice.call(arguments, 1);\n                // Getter methods\n                if (methodOrOptions.slice(0, 3) === 'get') {\n                    let instance = this.first()[0][classRef];\n                    return instance[methodOrOptions].apply(instance, params);\n                }\n                // Void methods\n                return this.each(function () {\n                    let instance = this[classRef];\n                    instance[methodOrOptions].apply(instance, params);\n                });\n                // Initialize plugin if options or no argument is passed in\n            }\n            else if (typeof methodOrOptions === 'object' || !methodOrOptions) {\n                plugin.init(this, arguments[0]);\n                return this;\n            }\n            // Return error if an unrecognized  method name is passed in\n            jq.error(`Method ${methodOrOptions} does not exist on jQuery.${pluginName}`);\n        };\n    }\n    //---\n    static AutoInit(context = null) {\n        let root = !!context ? context : document.body;\n        let registry = {\n            Autocomplete: root.querySelectorAll('.autocomplete:not(.no-autoinit)'),\n            Carousel: root.querySelectorAll('.carousel:not(.no-autoinit)'),\n            Chips: root.querySelectorAll('.chips:not(.no-autoinit)'),\n            Collapsible: root.querySelectorAll('.collapsible:not(.no-autoinit)'),\n            Datepicker: root.querySelectorAll('.datepicker:not(.no-autoinit)'),\n            Dropdown: root.querySelectorAll('.dropdown-trigger:not(.no-autoinit)'),\n            Materialbox: root.querySelectorAll('.materialboxed:not(.no-autoinit)'),\n            Modal: root.querySelectorAll('.modal:not(.no-autoinit)'),\n            Parallax: root.querySelectorAll('.parallax:not(.no-autoinit)'),\n            Pushpin: root.querySelectorAll('.pushpin:not(.no-autoinit)'),\n            ScrollSpy: root.querySelectorAll('.scrollspy:not(.no-autoinit)'),\n            FormSelect: root.querySelectorAll('select:not(.no-autoinit)'),\n            Sidenav: root.querySelectorAll('.sidenav:not(.no-autoinit)'),\n            Tabs: root.querySelectorAll('.tabs:not(.no-autoinit)'),\n            TapTarget: root.querySelectorAll('.tap-target:not(.no-autoinit)'),\n            Timepicker: root.querySelectorAll('.timepicker:not(.no-autoinit)'),\n            Tooltip: root.querySelectorAll('.tooltipped:not(.no-autoinit)'),\n            FloatingActionButton: root.querySelectorAll('.fixed-action-btn:not(.no-autoinit)'),\n        };\n        M.Autocomplete.init(registry.Autocomplete, null);\n        M.Carousel.init(registry.Carousel, null);\n        M.Chips.init(registry.Chips, null);\n        M.Collapsible.init(registry.Collapsible, null);\n        M.Datepicker.init(registry.Datepicker, null);\n        M.Dropdown.init(registry.Dropdown, null);\n        M.Materialbox.init(registry.Materialbox, null);\n        M.Modal.init(registry.Modal, null);\n        M.Parallax.init(registry.Parallax, null);\n        M.Pushpin.init(registry.Pushpin, null);\n        M.ScrollSpy.init(registry.ScrollSpy, null);\n        M.FormSelect.init(registry.FormSelect, null);\n        M.Sidenav.init(registry.Sidenav, null);\n        M.Tabs.init(registry.Tabs, null);\n        M.TapTarget.init(registry.TapTarget, null);\n        M.Timepicker.init(registry.Timepicker, null);\n        M.Tooltip.init(registry.Tooltip, null);\n        M.FloatingActionButton.init(registry.FloatingActionButton, null);\n    }\n    static objectSelectorString(obj) {\n        let tagStr = obj.prop('tagName') || '';\n        let idStr = obj.attr('id') || '';\n        let classStr = obj.attr('class') || '';\n        return (tagStr + idStr + classStr).replace(/\\s/g, '');\n    }\n    static guid() {\n        function s4() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        }\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n    }\n    static checkWithinContainer(container, bounding, offset) {\n        let edges = {\n            top: false,\n            right: false,\n            bottom: false,\n            left: false\n        };\n        let containerRect = container.getBoundingClientRect();\n        // If body element is smaller than viewport, use viewport height instead.\n        let containerBottom = container === document.body\n            ? Math.max(containerRect.bottom, window.innerHeight)\n            : containerRect.bottom;\n        let scrollLeft = container.scrollLeft;\n        let scrollTop = container.scrollTop;\n        let scrolledX = bounding.left - scrollLeft;\n        let scrolledY = bounding.top - scrollTop;\n        // Check for container and viewport for each edge\n        if (scrolledX < containerRect.left + offset || scrolledX < offset) {\n            edges.left = true;\n        }\n        if (scrolledX + bounding.width > containerRect.right - offset ||\n            scrolledX + bounding.width > window.innerWidth - offset) {\n            edges.right = true;\n        }\n        if (scrolledY < containerRect.top + offset || scrolledY < offset) {\n            edges.top = true;\n        }\n        if (scrolledY + bounding.height > containerBottom - offset ||\n            scrolledY + bounding.height > window.innerHeight - offset) {\n            edges.bottom = true;\n        }\n        return edges;\n    }\n    static checkPossibleAlignments(el, container, bounding, offset) {\n        let canAlign = {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true,\n            spaceOnTop: null,\n            spaceOnRight: null,\n            spaceOnBottom: null,\n            spaceOnLeft: null\n        };\n        let containerAllowsOverflow = getComputedStyle(container).overflow === 'visible';\n        let containerRect = container.getBoundingClientRect();\n        let containerHeight = Math.min(containerRect.height, window.innerHeight);\n        let containerWidth = Math.min(containerRect.width, window.innerWidth);\n        let elOffsetRect = el.getBoundingClientRect();\n        let scrollLeft = container.scrollLeft;\n        let scrollTop = container.scrollTop;\n        let scrolledX = bounding.left - scrollLeft;\n        let scrolledYTopEdge = bounding.top - scrollTop;\n        let scrolledYBottomEdge = bounding.top + elOffsetRect.height - scrollTop;\n        // Check for container and viewport for left\n        canAlign.spaceOnRight = !containerAllowsOverflow\n            ? containerWidth - (scrolledX + bounding.width)\n            : window.innerWidth - (elOffsetRect.left + bounding.width);\n        if (canAlign.spaceOnRight < 0) {\n            canAlign.left = false;\n        }\n        // Check for container and viewport for Right\n        canAlign.spaceOnLeft = !containerAllowsOverflow\n            ? scrolledX - bounding.width + elOffsetRect.width\n            : elOffsetRect.right - bounding.width;\n        if (canAlign.spaceOnLeft < 0) {\n            canAlign.right = false;\n        }\n        // Check for container and viewport for Top\n        canAlign.spaceOnBottom = !containerAllowsOverflow\n            ? containerHeight - (scrolledYTopEdge + bounding.height + offset)\n            : window.innerHeight - (elOffsetRect.top + bounding.height + offset);\n        if (canAlign.spaceOnBottom < 0) {\n            canAlign.top = false;\n        }\n        // Check for container and viewport for Bottom\n        canAlign.spaceOnTop = !containerAllowsOverflow\n            ? scrolledYBottomEdge - (bounding.height - offset)\n            : elOffsetRect.bottom - (bounding.height + offset);\n        if (canAlign.spaceOnTop < 0) {\n            canAlign.bottom = false;\n        }\n        return canAlign;\n    }\n    static getOverflowParent(element) {\n        if (element == null) {\n            return null;\n        }\n        if (element === document.body || getComputedStyle(element).overflow !== 'visible') {\n            return element;\n        }\n        return this.getOverflowParent(element.parentElement);\n    }\n    static getIdFromTrigger(trigger) {\n        let id = trigger.getAttribute('data-target');\n        if (!id) {\n            id = trigger.getAttribute('href');\n            if (id) {\n                id = id.slice(1);\n            }\n            else {\n                id = '';\n            }\n        }\n        return id;\n    }\n    static getDocumentScrollTop() {\n        return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n    }\n    ;\n    static getDocumentScrollLeft() {\n        return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n    }\n    static throttle(func, wait, options = null) {\n        let context, args, result;\n        let timeout = null;\n        let previous = 0;\n        options || (options = {});\n        let later = function () {\n            previous = options.leading === false ? 0 : new Date().getTime();\n            timeout = null;\n            result = func.apply(context, args);\n            context = args = null;\n        };\n        return function () {\n            let now = new Date().getTime();\n            if (!previous && options.leading === false)\n                previous = now;\n            let remaining = wait - (now - previous);\n            context = this;\n            args = arguments;\n            if (remaining <= 0) {\n                clearTimeout(timeout);\n                timeout = null;\n                previous = now;\n                result = func.apply(context, args);\n                context = args = null;\n            }\n            else if (!timeout && options.trailing !== false) {\n                timeout = setTimeout(later, remaining);\n            }\n            return result;\n        };\n    }\n}\nexports.M = M;\n_a = M;\nM.version = '1.2.2';\nM.keys = {\n    TAB: 9,\n    ENTER: 13,\n    ESC: 27,\n    ARROW_UP: 38,\n    ARROW_DOWN: 40\n};\nM.Autocomplete = autocomplete_1.Autocomplete;\nM.Tabs = tabs_1.Tabs;\nM.Carousel = carousel_1.Carousel;\nM.Dropdown = dropdown_1.Dropdown;\nM.FloatingActionButton = buttons_1.FloatingActionButton;\nM.Chips = chips_1.Chips;\nM.Collapsible = collapsible_1.Collapsible;\nM.Datepicker = datepicker_1.Datepicker;\nM.CharacterCounter = characterCounter_1.CharacterCounter;\nM.FormSelect = select_1.FormSelect;\nM.Modal = modal_1.Modal;\nM.Pushpin = pushpin_1.Pushpin;\nM.Materialbox = materialbox_1.Materialbox;\nM.Parallax = parallax_1.Parallax;\nM.Slider = slider_1.Slider;\nM.Timepicker = timepicker_1.Timepicker;\nM.toast = (opt) => new toasts_1.Toast(opt);\nM.Tooltip = tooltip_1.Tooltip;\nM.Sidenav = sidenav_1.Sidenav;\nM.TapTarget = tapTarget_1.TapTarget;\nM.ScrollSpy = scrollspy_1.ScrollSpy;\nM.Range = range_1.Range;\nM.Waves = waves_1.Waves;\nM.tabPressed = false;\nM.keyDown = false;\n(() => {\n    document.addEventListener('keydown', _a.docHandleKeydown, true);\n    document.addEventListener('keyup', _a.docHandleKeyup, true);\n    document.addEventListener('focus', _a.docHandleFocus, true);\n    document.addEventListener('blur', _a.docHandleBlur, true);\n    _a.initializeJqueryWrapper(tabs_1.Tabs, 'tabs', 'M_Tabs');\n    _a.initializeJqueryWrapper(carousel_1.Carousel, 'carousel', 'M_Carousel');\n    _a.initializeJqueryWrapper(autocomplete_1.Autocomplete, 'autocomplete', 'M_Autocomplete');\n    _a.initializeJqueryWrapper(dropdown_1.Dropdown, 'dropdown', 'M_Dropdown');\n    _a.initializeJqueryWrapper(buttons_1.FloatingActionButton, 'floatingActionButton', 'M_FloatingActionButton');\n    M.initializeJqueryWrapper(collapsible_1.Collapsible, 'collapsible', 'M_Collapsible');\n    M.initializeJqueryWrapper(characterCounter_1.CharacterCounter, 'characterCounter', 'M_CharacterCounter');\n    M.initializeJqueryWrapper(datepicker_1.Datepicker, 'datepicker', 'M_Datepicker');\n    M.initializeJqueryWrapper(select_1.FormSelect, 'formSelect', 'M_FormSelect');\n    M.initializeJqueryWrapper(modal_1.Modal, 'modal', 'M_Modal');\n    M.initializeJqueryWrapper(pushpin_1.Pushpin, 'pushpin', 'M_Pushpin');\n    M.initializeJqueryWrapper(materialbox_1.Materialbox, 'materialbox', 'M_Materialbox');\n    M.initializeJqueryWrapper(parallax_1.Parallax, 'parallax', 'M_Parallax');\n    M.initializeJqueryWrapper(slider_1.Slider, 'slider', 'M_Slider');\n    M.initializeJqueryWrapper(timepicker_1.Timepicker, 'timepicker', 'M_Timepicker');\n    M.initializeJqueryWrapper(tooltip_1.Tooltip, 'tooltip', 'M_Tooltip');\n    M.initializeJqueryWrapper(tapTarget_1.TapTarget, 'tapTarget', 'M_TapTarget');\n    M.initializeJqueryWrapper(sidenav_1.Sidenav, 'sidenav', 'M_Sidenav');\n    M.initializeJqueryWrapper(scrollspy_1.ScrollSpy, 'scrollSpy', 'M_ScrollSpy');\n    M.initializeJqueryWrapper(range_1.Range, 'range', 'M_Range');\n    M.initializeJqueryWrapper(chips_1.Chips, 'chips', 'M_Chips');\n    cards_1.Cards.Init();\n    forms_1.Forms.Init();\n    chips_1.Chips.Init();\n    waves_1.Waves.Init();\n    range_1.Range.Init();\n})();\nmodule.exports = M;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDL0MsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM3QyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pDLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDL0MsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNuQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdkMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMzQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdkMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNqQyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzNDLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsSUFBSSxD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Q0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyx1QkFBVSxFQUFFLFlBQVksRUFBRSxjQUFjLENBQUMsQ0FBQztJQUNwRSxDQUFDLENBQUMsdUJBQXVCLENBQUMsaUJBQU8sRUFBRSxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDM0QsQ0FBQyxDQUFDLHVCQUF1QixDQUFDLHFCQUFTLEVBQUUsV0FBVyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ2pFLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxpQkFBTyxFQUFFLFNBQVMsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUMsdUJBQXVCLENBQUMscUJBQVMsRUFBRSxXQUFXLEVBQUUsYUFBYSxDQUFDLENBQUM7SUFDakUsQ0FBQyxDQUFDLHVCQUF1QixDQUFDLGFBQUssRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLHVCQUF1QixDQUFDLGFBQUssRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDckQsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ2YsQ0FBQztBQXVRSCxNQUFNLENBQUMsT0FBTyxHQUFHLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL2dsb2JhbC50cz8wNGE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF1dG9jb21wbGV0ZSB9IGZyb20gJy4vYXV0b2NvbXBsZXRlJztcbmltcG9ydCB7IEJvdW5kaW5nIH0gZnJvbSAnLi9ib3VuZGluZyc7XG5pbXBvcnQgeyBGbG9hdGluZ0FjdGlvbkJ1dHRvbiB9IGZyb20gJy4vYnV0dG9ucyc7XG5pbXBvcnQgeyBDYXJkcyB9IGZyb20gJy4vY2FyZHMnO1xuaW1wb3J0IHsgQ2Fyb3VzZWwgfSBmcm9tICcuL2Nhcm91c2VsJztcbmltcG9ydCB7IENoYXJhY3RlckNvdW50ZXIgfSBmcm9tICcuL2NoYXJhY3RlckNvdW50ZXInO1xuaW1wb3J0IHsgQ2hpcHMgfSBmcm9tICcuL2NoaXBzJztcbmltcG9ydCB7IENvbGxhcHNpYmxlIH0gZnJvbSAnLi9jb2xsYXBzaWJsZSc7XG5pbXBvcnQgeyBEYXRlcGlja2VyIH0gZnJvbSAnLi9kYXRlcGlja2VyJztcbmltcG9ydCB7IERyb3Bkb3duIH0gZnJvbSAnLi9kcm9wZG93bic7XG5pbXBvcnQgeyBFZGdlcyB9IGZyb20gJy4vZWRnZXMnO1xuaW1wb3J0IHsgRm9ybXMgfSBmcm9tICcuL2Zvcm1zJztcbmltcG9ydCB7IE1hdGVyaWFsYm94IH0gZnJvbSAnLi9tYXRlcmlhbGJveCc7XG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gJy4vbW9kYWwnO1xuaW1wb3J0IHsgUGFyYWxsYXggfSBmcm9tICcuL3BhcmFsbGF4JztcbmltcG9ydCB7IFB1c2hwaW4gfSBmcm9tICcuL3B1c2hwaW4nO1xuaW1wb3J0IHsgU2Nyb2xsU3B5IH0gZnJvbSAnLi9zY3JvbGxzcHknO1xuaW1wb3J0IHsgRm9ybVNlbGVjdCB9IGZyb20gJy4vc2VsZWN0JztcbmltcG9ydCB7IFNpZGVuYXYgfSBmcm9tICcuL3NpZGVuYXYnO1xuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSAnLi9zbGlkZXInO1xuaW1wb3J0IHsgVGFicyB9IGZyb20gJy4vdGFicyc7XG5pbXBvcnQgeyBUYXBUYXJnZXQgfSBmcm9tICcuL3RhcFRhcmdldCc7XG5pbXBvcnQgeyBUaW1lcGlja2VyIH0gZnJvbSAnLi90aW1lcGlja2VyJztcbmltcG9ydCB7IFRvYXN0IH0gZnJvbSAnLi90b2FzdHMnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJy4vdG9vbHRpcCc7XG5pbXBvcnQgeyBXYXZlcyB9IGZyb20gJy4vd2F2ZXMnO1xuaW1wb3J0IHsgUmFuZ2UgfSBmcm9tICcuL3JhbmdlJztcblxuZXhwb3J0IGNsYXNzIE0ge1xuICBzdGF0aWMgdmVyc2lvbiA9ICcxLjIuMic7XG5cbiAgc3RhdGljIGtleXMgPSB7XG4gICAgVEFCOiA5LFxuICAgIEVOVEVSOiAxMyxcbiAgICBFU0M6IDI3LFxuICAgIEFSUk9XX1VQOiAzOCxcbiAgICBBUlJPV19ET1dOOiA0MFxuICB9O1xuXG4gIHN0YXRpYyBBdXRvY29tcGxldGU6IHR5cGVvZiBBdXRvY29tcGxldGUgPSBBdXRvY29tcGxldGU7IFxuICBzdGF0aWMgVGFiczogdHlwZW9mIFRhYnMgPSBUYWJzOyBcbiAgc3RhdGljIENhcm91c2VsOiB0eXBlb2YgQ2Fyb3VzZWwgPSBDYXJvdXNlbDsgXG4gIHN0YXRpYyBEcm9wZG93bjogdHlwZW9mIERyb3Bkb3duID0gRHJvcGRvd247XG4gIHN0YXRpYyBGbG9hdGluZ0FjdGlvbkJ1dHRvbjogdHlwZW9mIEZsb2F0aW5nQWN0aW9uQnV0dG9uID0gRmxvYXRpbmdBY3Rpb25CdXR0b247XG4gIHN0YXRpYyBDaGlwczogdHlwZW9mIENoaXBzID0gQ2hpcHM7XG4gIHN0YXRpYyBDb2xsYXBzaWJsZTogdHlwZW9mIENvbGxhcHNpYmxlID0gQ29sbGFwc2libGU7XG4gIHN0YXRpYyBEYXRlcGlja2VyOiB0eXBlb2YgRGF0ZXBpY2tlciA9IERhdGVwaWNrZXI7XG4gIHN0YXRpYyBDaGFyYWN0ZXJDb3VudGVyOiB0eXBlb2YgQ2hhcmFjdGVyQ291bnRlciA9IENoYXJhY3RlckNvdW50ZXI7XG4gIHN0YXRpYyBGb3JtU2VsZWN0OiB0eXBlb2YgRm9ybVNlbGVjdCA9IEZvcm1TZWxlY3Q7XG4gIHN0YXRpYyBNb2RhbDogdHlwZW9mIE1vZGFsID0gTW9kYWw7XG4gIHN0YXRpYyBQdXNocGluOiB0eXBlb2YgUHVzaHBpbiA9IFB1c2hwaW47XG4gIHN0YXRpYyBNYXRlcmlhbGJveDogdHlwZW9mIE1hdGVyaWFsYm94ID0gTWF0ZXJpYWxib3g7XG4gIHN0YXRpYyBQYXJhbGxheDogdHlwZW9mIFBhcmFsbGF4ID0gUGFyYWxsYXg7XG4gIHN0YXRpYyBTbGlkZXI6IHR5cGVvZiBTbGlkZXIgPSBTbGlkZXI7XG4gIHN0YXRpYyBUaW1lcGlja2VyOiB0eXBlb2YgVGltZXBpY2tlciA9IFRpbWVwaWNrZXI7XG4gIHN0YXRpYyB0b2FzdDogKG9wdDogYW55KSA9PiBUb2FzdCA9IChvcHQpID0+IG5ldyBUb2FzdChvcHQpIDtcbiAgc3RhdGljIFRvb2x0aXA6IHR5cGVvZiBUb29sdGlwID0gVG9vbHRpcDtcbiAgc3RhdGljIFNpZGVuYXY6IHR5cGVvZiBTaWRlbmF2ID0gU2lkZW5hdjtcbiAgc3RhdGljIFRhcFRhcmdldDogdHlwZW9mIFRhcFRhcmdldCA9IFRhcFRhcmdldDtcbiAgc3RhdGljIFNjcm9sbFNweTogdHlwZW9mIFNjcm9sbFNweSA9IFNjcm9sbFNweTtcbiAgc3RhdGljIFJhbmdlOiB0eXBlb2YgUmFuZ2UgPSBSYW5nZTtcbiAgc3RhdGljIFdhdmVzOiB0eXBlb2YgV2F2ZXMgPSBXYXZlcztcblxuICBzdGF0aWMgdGFiUHJlc3NlZDpib29sZWFuID0gZmFsc2U7XG4gIHN0YXRpYyBrZXlEb3duOmJvb2xlYW4gPSBmYWxzZTtcblxuICBzdGF0aWMgZG9jSGFuZGxlS2V5ZG93bihlKSB7XG4gICAgTS5rZXlEb3duID0gdHJ1ZTtcbiAgICBpZiAoZS53aGljaCA9PT0gTS5rZXlzLlRBQiB8fCBlLndoaWNoID09PSBNLmtleXMuQVJST1dfRE9XTiB8fCBlLndoaWNoID09PSBNLmtleXMuQVJST1dfVVApIHtcbiAgICAgIE0udGFiUHJlc3NlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGRvY0hhbmRsZUtleXVwKGUpIHtcbiAgICBNLmtleURvd24gPSBmYWxzZTtcbiAgICBpZiAoZS53aGljaCA9PT0gTS5rZXlzLlRBQiB8fCBlLndoaWNoID09PSBNLmtleXMuQVJST1dfRE9XTiB8fCBlLndoaWNoID09PSBNLmtleXMuQVJST1dfVVApIHtcbiAgICAgIE0udGFiUHJlc3NlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBkb2NIYW5kbGVGb2N1cyhlKSB7XG4gICAgaWYgKE0ua2V5RG93bikge1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdrZXlib2FyZC1mb2N1c2VkJyk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGRvY0hhbmRsZUJsdXIoZSkge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgna2V5Ym9hcmQtZm9jdXNlZCcpO1xuICB9XG5cbiAgc3RhdGljIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5kb2NIYW5kbGVLZXlkb3duLCB0cnVlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuZG9jSGFuZGxlS2V5dXAsIHRydWUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5kb2NIYW5kbGVGb2N1cywgdHJ1ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuZG9jSGFuZGxlQmx1ciwgdHJ1ZSk7IFxuICAgIHRoaXMuaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoVGFicywgJ3RhYnMnLCAnTV9UYWJzJyk7ICBcbiAgICB0aGlzLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKENhcm91c2VsLCAnY2Fyb3VzZWwnLCAnTV9DYXJvdXNlbCcpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoQXV0b2NvbXBsZXRlLCAnYXV0b2NvbXBsZXRlJywgJ01fQXV0b2NvbXBsZXRlJyk7XG4gICAgdGhpcy5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihEcm9wZG93biwgJ2Ryb3Bkb3duJywgJ01fRHJvcGRvd24nKTtcbiAgICB0aGlzLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKEZsb2F0aW5nQWN0aW9uQnV0dG9uLCAnZmxvYXRpbmdBY3Rpb25CdXR0b24nLCAnTV9GbG9hdGluZ0FjdGlvbkJ1dHRvbicpO1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoQ29sbGFwc2libGUsICdjb2xsYXBzaWJsZScsICdNX0NvbGxhcHNpYmxlJyk7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihDaGFyYWN0ZXJDb3VudGVyLCAnY2hhcmFjdGVyQ291bnRlcicsICdNX0NoYXJhY3RlckNvdW50ZXInKTtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKERhdGVwaWNrZXIsICdkYXRlcGlja2VyJywgJ01fRGF0ZXBpY2tlcicpOyAgXG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihGb3JtU2VsZWN0LCAnZm9ybVNlbGVjdCcsICdNX0Zvcm1TZWxlY3QnKTsgXG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihNb2RhbCwgJ21vZGFsJywgJ01fTW9kYWwnKTtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFB1c2hwaW4sICdwdXNocGluJywgJ01fUHVzaHBpbicpO1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoTWF0ZXJpYWxib3gsICdtYXRlcmlhbGJveCcsICdNX01hdGVyaWFsYm94Jyk7IFxuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoUGFyYWxsYXgsICdwYXJhbGxheCcsICdNX1BhcmFsbGF4Jyk7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihTbGlkZXIsICdzbGlkZXInLCAnTV9TbGlkZXInKTtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFRpbWVwaWNrZXIsICd0aW1lcGlja2VyJywgJ01fVGltZXBpY2tlcicpO1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoVG9vbHRpcCwgJ3Rvb2x0aXAnLCAnTV9Ub29sdGlwJyk7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihUYXBUYXJnZXQsICd0YXBUYXJnZXQnLCAnTV9UYXBUYXJnZXQnKTtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFNpZGVuYXYsICdzaWRlbmF2JywgJ01fU2lkZW5hdicpO1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoU2Nyb2xsU3B5LCAnc2Nyb2xsU3B5JywgJ01fU2Nyb2xsU3B5Jyk7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihSYW5nZSwgJ3JhbmdlJywgJ01fUmFuZ2UnKTtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKENoaXBzLCAnY2hpcHMnLCAnTV9DaGlwcycpO1xuICAgIENhcmRzLkluaXQoKTtcbiAgICBGb3Jtcy5Jbml0KCk7XG4gICAgQ2hpcHMuSW5pdCgpO1xuICAgIFdhdmVzLkluaXQoKTtcbiAgICBSYW5nZS5Jbml0KCk7XG4gIH1cblxuICAvLy0tLSBUT0RPOiBSZW1vdmUhXG4gIHN0YXRpYyBqUXVlcnlMb2FkZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhKDxhbnk+d2luZG93KS5qUXVlcnk7ICAgICAgXG4gIH1cbiAgc3RhdGljIGluaXRpYWxpemVKcXVlcnlXcmFwcGVyKHBsdWdpbjogYW55LCBwbHVnaW5OYW1lOiBzdHJpbmcsIGNsYXNzUmVmOiBzdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMualF1ZXJ5TG9hZGVkKCkpXG4gICAgICByZXR1cm47XG4gICAgdmFyIGpxID0gKDxhbnk+d2luZG93KS5qUXVlcnk7XG4gICAgXG4gICAganEuZm5bcGx1Z2luTmFtZV0gPSBmdW5jdGlvbihtZXRob2RPck9wdGlvbnMpIHtcbiAgICAgIC8vIENhbGwgcGx1Z2luIG1ldGhvZCBpZiB2YWxpZCBtZXRob2QgbmFtZSBpcyBwYXNzZWQgaW5cbiAgICAgIGlmIChwbHVnaW4ucHJvdG90eXBlW21ldGhvZE9yT3B0aW9uc10pIHtcbiAgICAgICAgbGV0IHBhcmFtcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIC8vIEdldHRlciBtZXRob2RzXG4gICAgICAgIGlmIChtZXRob2RPck9wdGlvbnMuc2xpY2UoMCwgMykgPT09ICdnZXQnKSB7XG4gICAgICAgICAgbGV0IGluc3RhbmNlID0gdGhpcy5maXJzdCgpWzBdW2NsYXNzUmVmXTtcbiAgICAgICAgICByZXR1cm4gaW5zdGFuY2VbbWV0aG9kT3JPcHRpb25zXS5hcHBseShpbnN0YW5jZSwgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBWb2lkIG1ldGhvZHNcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICBsZXQgaW5zdGFuY2UgPSB0aGlzW2NsYXNzUmVmXTtcbiAgICAgICAgICBpbnN0YW5jZVttZXRob2RPck9wdGlvbnNdLmFwcGx5KGluc3RhbmNlLCBwYXJhbXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBwbHVnaW4gaWYgb3B0aW9ucyBvciBubyBhcmd1bWVudCBpcyBwYXNzZWQgaW5cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1ldGhvZE9yT3B0aW9ucyA9PT0gJ29iamVjdCcgfHwgIW1ldGhvZE9yT3B0aW9ucykge1xuICAgICAgICBwbHVnaW4uaW5pdCh0aGlzLCBhcmd1bWVudHNbMF0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIC8vIFJldHVybiBlcnJvciBpZiBhbiB1bnJlY29nbml6ZWQgIG1ldGhvZCBuYW1lIGlzIHBhc3NlZCBpblxuICAgICAganEuZXJyb3IoYE1ldGhvZCAke21ldGhvZE9yT3B0aW9uc30gZG9lcyBub3QgZXhpc3Qgb24galF1ZXJ5LiR7cGx1Z2luTmFtZX1gKTtcbiAgICB9O1xuICB9XG4gIC8vLS0tXG5cbiAgc3RhdGljIEF1dG9Jbml0KGNvbnRleHQ6RWxlbWVudCA9IG51bGwpIHtcbiAgICBsZXQgcm9vdCA9ICEhY29udGV4dCA/IGNvbnRleHQgOiBkb2N1bWVudC5ib2R5O1xuICAgIGxldCByZWdpc3RyeSA9IHtcbiAgICAgIEF1dG9jb21wbGV0ZTogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuYXV0b2NvbXBsZXRlOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBDYXJvdXNlbDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWw6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICAgIENoaXBzOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGlwczpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgQ29sbGFwc2libGU6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmNvbGxhcHNpYmxlOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBEYXRlcGlja2VyOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kYXRlcGlja2VyOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBEcm9wZG93bjogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcGRvd24tdHJpZ2dlcjpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgTWF0ZXJpYWxib3g6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLm1hdGVyaWFsYm94ZWQ6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICAgIE1vZGFsOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgUGFyYWxsYXg6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnBhcmFsbGF4Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBQdXNocGluOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wdXNocGluOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBTY3JvbGxTcHk6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnNjcm9sbHNweTpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgRm9ybVNlbGVjdDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCdzZWxlY3Q6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICAgIFNpZGVuYXY6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnNpZGVuYXY6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICAgIFRhYnM6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnRhYnM6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICAgIFRhcFRhcmdldDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcudGFwLXRhcmdldDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgVGltZXBpY2tlcjogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcudGltZXBpY2tlcjpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgVG9vbHRpcDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcudG9vbHRpcHBlZDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgRmxvYXRpbmdBY3Rpb25CdXR0b246IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmZpeGVkLWFjdGlvbi1idG46bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICB9O1xuICAgIE0uQXV0b2NvbXBsZXRlLmluaXQocmVnaXN0cnkuQXV0b2NvbXBsZXRlLCBudWxsKTtcbiAgICBNLkNhcm91c2VsLmluaXQocmVnaXN0cnkuQ2Fyb3VzZWwsIG51bGwpOyAgXG4gICAgTS5DaGlwcy5pbml0KHJlZ2lzdHJ5LkNoaXBzLCBudWxsKTsgIFxuICAgIE0uQ29sbGFwc2libGUuaW5pdChyZWdpc3RyeS5Db2xsYXBzaWJsZSwgbnVsbCk7XG4gICAgTS5EYXRlcGlja2VyLmluaXQocmVnaXN0cnkuRGF0ZXBpY2tlciwgbnVsbCk7XG4gICAgTS5Ecm9wZG93bi5pbml0KHJlZ2lzdHJ5LkRyb3Bkb3duLCBudWxsKTsgIFxuICAgIE0uTWF0ZXJpYWxib3guaW5pdChyZWdpc3RyeS5NYXRlcmlhbGJveCwgbnVsbCk7XG4gICAgTS5Nb2RhbC5pbml0KHJlZ2lzdHJ5Lk1vZGFsLCBudWxsKTtcbiAgICBNLlBhcmFsbGF4LmluaXQocmVnaXN0cnkuUGFyYWxsYXgsIG51bGwpO1xuICAgIE0uUHVzaHBpbi5pbml0KHJlZ2lzdHJ5LlB1c2hwaW4sIG51bGwpO1xuICAgIE0uU2Nyb2xsU3B5LmluaXQocmVnaXN0cnkuU2Nyb2xsU3B5LCBudWxsKTtcbiAgICBNLkZvcm1TZWxlY3QuaW5pdChyZWdpc3RyeS5Gb3JtU2VsZWN0LCBudWxsKTtcbiAgICBNLlNpZGVuYXYuaW5pdChyZWdpc3RyeS5TaWRlbmF2LCBudWxsKTtcbiAgICBNLlRhYnMuaW5pdChyZWdpc3RyeS5UYWJzLCBudWxsKTtcbiAgICBNLlRhcFRhcmdldC5pbml0KHJlZ2lzdHJ5LlRhcFRhcmdldCwgbnVsbCk7XG4gICAgTS5UaW1lcGlja2VyLmluaXQocmVnaXN0cnkuVGltZXBpY2tlciwgbnVsbCk7XG4gICAgTS5Ub29sdGlwLmluaXQocmVnaXN0cnkuVG9vbHRpcCwgbnVsbCk7XG4gICAgTS5GbG9hdGluZ0FjdGlvbkJ1dHRvbi5pbml0KHJlZ2lzdHJ5LkZsb2F0aW5nQWN0aW9uQnV0dG9uLCBudWxsKTtcbiAgfVxuXG4gIHN0YXRpYyBvYmplY3RTZWxlY3RvclN0cmluZyhvYmo6IGFueSk6IHN0cmluZyB7XG4gICAgbGV0IHRhZ1N0ciA9IG9iai5wcm9wKCd0YWdOYW1lJykgfHwgJyc7XG4gICAgbGV0IGlkU3RyID0gb2JqLmF0dHIoJ2lkJykgfHwgJyc7XG4gICAgbGV0IGNsYXNzU3RyID0gb2JqLmF0dHIoJ2NsYXNzJykgfHwgJyc7XG4gICAgcmV0dXJuICh0YWdTdHIgKyBpZFN0ciArIGNsYXNzU3RyKS5yZXBsYWNlKC9cXHMvZywgJycpO1xuICB9XG5cbiAgc3RhdGljIGd1aWQoKTogc3RyaW5nIHtcbiAgICBmdW5jdGlvbiBzNCgpOnN0cmluZyB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcigoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMClcbiAgICAgICAgLnRvU3RyaW5nKDE2KVxuICAgICAgICAuc3Vic3RyaW5nKDEpO1xuICAgIH0gIFxuICAgIHJldHVybiBzNCgpICsgczQoKSArICctJyArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArIHM0KCkgKyBzNCgpICsgczQoKTsgICAgICBcbiAgfVxuXG4gIHN0YXRpYyBjaGVja1dpdGhpbkNvbnRhaW5lcihjb250YWluZXI6IEVsZW1lbnQsIGJvdW5kaW5nOiBCb3VuZGluZywgb2Zmc2V0OiBudW1iZXIpOiBFZGdlcyB7XG4gICAgbGV0IGVkZ2VzID0ge1xuICAgICAgdG9wOiBmYWxzZSxcbiAgICAgIHJpZ2h0OiBmYWxzZSxcbiAgICAgIGJvdHRvbTogZmFsc2UsXG4gICAgICBsZWZ0OiBmYWxzZVxuICAgIH07XG5cbiAgICBsZXQgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvLyBJZiBib2R5IGVsZW1lbnQgaXMgc21hbGxlciB0aGFuIHZpZXdwb3J0LCB1c2Ugdmlld3BvcnQgaGVpZ2h0IGluc3RlYWQuXG4gICAgbGV0IGNvbnRhaW5lckJvdHRvbSA9XG4gICAgICBjb250YWluZXIgPT09IGRvY3VtZW50LmJvZHlcbiAgICAgICAgPyBNYXRoLm1heChjb250YWluZXJSZWN0LmJvdHRvbSwgd2luZG93LmlubmVySGVpZ2h0KVxuICAgICAgICA6IGNvbnRhaW5lclJlY3QuYm90dG9tO1xuXG4gICAgbGV0IHNjcm9sbExlZnQgPSBjb250YWluZXIuc2Nyb2xsTGVmdDtcbiAgICBsZXQgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDtcblxuICAgIGxldCBzY3JvbGxlZFggPSBib3VuZGluZy5sZWZ0IC0gc2Nyb2xsTGVmdDtcbiAgICBsZXQgc2Nyb2xsZWRZID0gYm91bmRpbmcudG9wIC0gc2Nyb2xsVG9wO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIGVhY2ggZWRnZVxuICAgIGlmIChzY3JvbGxlZFggPCBjb250YWluZXJSZWN0LmxlZnQgKyBvZmZzZXQgfHwgc2Nyb2xsZWRYIDwgb2Zmc2V0KSB7XG4gICAgICBlZGdlcy5sZWZ0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBzY3JvbGxlZFggKyBib3VuZGluZy53aWR0aCA+IGNvbnRhaW5lclJlY3QucmlnaHQgLSBvZmZzZXQgfHxcbiAgICAgIHNjcm9sbGVkWCArIGJvdW5kaW5nLndpZHRoID4gd2luZG93LmlubmVyV2lkdGggLSBvZmZzZXRcbiAgICApIHtcbiAgICAgIGVkZ2VzLnJpZ2h0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoc2Nyb2xsZWRZIDwgY29udGFpbmVyUmVjdC50b3AgKyBvZmZzZXQgfHwgc2Nyb2xsZWRZIDwgb2Zmc2V0KSB7XG4gICAgICBlZGdlcy50b3AgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHNjcm9sbGVkWSArIGJvdW5kaW5nLmhlaWdodCA+IGNvbnRhaW5lckJvdHRvbSAtIG9mZnNldCB8fFxuICAgICAgc2Nyb2xsZWRZICsgYm91bmRpbmcuaGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0IC0gb2Zmc2V0XG4gICAgKSB7XG4gICAgICBlZGdlcy5ib3R0b20gPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBlZGdlcztcbiAgfVxuXG4gIHN0YXRpYyBjaGVja1Bvc3NpYmxlQWxpZ25tZW50cyhlbCwgY29udGFpbmVyLCBib3VuZGluZywgb2Zmc2V0KSB7XG4gICAgbGV0IGNhbkFsaWduID0ge1xuICAgICAgdG9wOiB0cnVlLFxuICAgICAgcmlnaHQ6IHRydWUsXG4gICAgICBib3R0b206IHRydWUsXG4gICAgICBsZWZ0OiB0cnVlLFxuICAgICAgc3BhY2VPblRvcDogbnVsbCxcbiAgICAgIHNwYWNlT25SaWdodDogbnVsbCxcbiAgICAgIHNwYWNlT25Cb3R0b206IG51bGwsXG4gICAgICBzcGFjZU9uTGVmdDogbnVsbFxuICAgIH07XG5cbiAgICBsZXQgY29udGFpbmVyQWxsb3dzT3ZlcmZsb3cgPSBnZXRDb21wdXRlZFN0eWxlKGNvbnRhaW5lcikub3ZlcmZsb3cgPT09ICd2aXNpYmxlJztcbiAgICBsZXQgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgY29udGFpbmVySGVpZ2h0ID0gTWF0aC5taW4oY29udGFpbmVyUmVjdC5oZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgbGV0IGNvbnRhaW5lcldpZHRoID0gTWF0aC5taW4oY29udGFpbmVyUmVjdC53aWR0aCwgd2luZG93LmlubmVyV2lkdGgpO1xuICAgIGxldCBlbE9mZnNldFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGxldCBzY3JvbGxMZWZ0ID0gY29udGFpbmVyLnNjcm9sbExlZnQ7XG4gICAgbGV0IHNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XG5cbiAgICBsZXQgc2Nyb2xsZWRYID0gYm91bmRpbmcubGVmdCAtIHNjcm9sbExlZnQ7XG4gICAgbGV0IHNjcm9sbGVkWVRvcEVkZ2UgPSBib3VuZGluZy50b3AgLSBzY3JvbGxUb3A7XG4gICAgbGV0IHNjcm9sbGVkWUJvdHRvbUVkZ2UgPSBib3VuZGluZy50b3AgKyBlbE9mZnNldFJlY3QuaGVpZ2h0IC0gc2Nyb2xsVG9wO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIGxlZnRcbiAgICBjYW5BbGlnbi5zcGFjZU9uUmlnaHQgPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3dcbiAgICAgID8gY29udGFpbmVyV2lkdGggLSAoc2Nyb2xsZWRYICsgYm91bmRpbmcud2lkdGgpXG4gICAgICA6IHdpbmRvdy5pbm5lcldpZHRoIC0gKGVsT2Zmc2V0UmVjdC5sZWZ0ICsgYm91bmRpbmcud2lkdGgpO1xuICAgIGlmIChjYW5BbGlnbi5zcGFjZU9uUmlnaHQgPCAwKSB7XG4gICAgICBjYW5BbGlnbi5sZWZ0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIFJpZ2h0XG4gICAgY2FuQWxpZ24uc3BhY2VPbkxlZnQgPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3dcbiAgICAgID8gc2Nyb2xsZWRYIC0gYm91bmRpbmcud2lkdGggKyBlbE9mZnNldFJlY3Qud2lkdGhcbiAgICAgIDogZWxPZmZzZXRSZWN0LnJpZ2h0IC0gYm91bmRpbmcud2lkdGg7XG4gICAgaWYgKGNhbkFsaWduLnNwYWNlT25MZWZ0IDwgMCkge1xuICAgICAgY2FuQWxpZ24ucmlnaHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgVG9wXG4gICAgY2FuQWxpZ24uc3BhY2VPbkJvdHRvbSA9ICFjb250YWluZXJBbGxvd3NPdmVyZmxvd1xuICAgICAgPyBjb250YWluZXJIZWlnaHQgLSAoc2Nyb2xsZWRZVG9wRWRnZSArIGJvdW5kaW5nLmhlaWdodCArIG9mZnNldClcbiAgICAgIDogd2luZG93LmlubmVySGVpZ2h0IC0gKGVsT2Zmc2V0UmVjdC50b3AgKyBib3VuZGluZy5oZWlnaHQgKyBvZmZzZXQpO1xuICAgIGlmIChjYW5BbGlnbi5zcGFjZU9uQm90dG9tIDwgMCkge1xuICAgICAgY2FuQWxpZ24udG9wID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIEJvdHRvbVxuICAgIGNhbkFsaWduLnNwYWNlT25Ub3AgPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3dcbiAgICAgID8gc2Nyb2xsZWRZQm90dG9tRWRnZSAtIChib3VuZGluZy5oZWlnaHQgLSBvZmZzZXQpXG4gICAgICA6IGVsT2Zmc2V0UmVjdC5ib3R0b20gLSAoYm91bmRpbmcuaGVpZ2h0ICsgb2Zmc2V0KTtcbiAgICBpZiAoY2FuQWxpZ24uc3BhY2VPblRvcCA8IDApIHtcbiAgICAgIGNhbkFsaWduLmJvdHRvbSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBjYW5BbGlnbjtcbiAgfVxuXG4gIHN0YXRpYyBnZXRPdmVyZmxvd1BhcmVudChlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChlbGVtZW50ID09PSBkb2N1bWVudC5ib2R5IHx8IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkub3ZlcmZsb3cgIT09ICd2aXNpYmxlJykge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdldE92ZXJmbG93UGFyZW50KGVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SWRGcm9tVHJpZ2dlcih0cmlnZ2VyOiBFbGVtZW50KTogc3RyaW5nIHtcbiAgICBsZXQgaWQgPSB0cmlnZ2VyLmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKTtcbiAgICBpZiAoIWlkKSB7XG4gICAgICBpZCA9IHRyaWdnZXIuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICBpZiAoaWQpIHtcbiAgICAgICAgaWQgPSBpZC5zbGljZSgxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkID0gJyc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpZDtcbiAgfVxuXG4gIHN0YXRpYyBnZXREb2N1bWVudFNjcm9sbFRvcCgpOiBudW1iZXIge1xuICAgIHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwO1xuICB9O1xuXG4gIHN0YXRpYyBnZXREb2N1bWVudFNjcm9sbExlZnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCB8fCAwO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zID0gbnVsbCkge1xuICAgIGxldCBjb250ZXh0LCBhcmdzLCByZXN1bHQ7XG4gICAgbGV0IHRpbWVvdXQgPSBudWxsO1xuICAgIGxldCBwcmV2aW91cyA9IDA7XG4gICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcbiAgICBsZXQgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIGlmICghcHJldmlvdXMgJiYgb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSkgcHJldmlvdXMgPSBub3c7XG4gICAgICBsZXQgcmVtYWluaW5nID0gd2FpdCAtIChub3cgLSBwcmV2aW91cyk7XG4gICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICBpZiAocmVtYWluaW5nIDw9IDApIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQgJiYgb3B0aW9ucy50cmFpbGluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBNIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/global.ts\n");

/***/ }),

/***/ "./src/materialbox.ts":
/*!****************************!*\
  !*** ./src/materialbox.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Materialbox = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst _defaults = {\n    inDuration: 275,\n    outDuration: 200,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null\n};\nclass Materialbox extends component_1.Component {\n    constructor(el, options) {\n        super(Materialbox, el, options);\n        this.el.M_Materialbox = this;\n        this.options = Object.assign(Object.assign({}, Materialbox.defaults), options);\n        this.overlayActive = false;\n        this.doneAnimating = true;\n        this.placeholder = document.createElement('div');\n        this.placeholder.classList.add('material-placeholder');\n        this.originalWidth = 0;\n        this.originalHeight = 0;\n        this.originInlineStyles = this.el.getAttribute('style');\n        this.caption = this.el.getAttribute('data-caption') || '';\n        // Wrap\n        this.el.before(this.placeholder);\n        this.placeholder.append(this.el);\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Materialbox;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Materialbox = undefined;\n        // Unwrap image\n        //this.placeholder.after(this.el).remove();\n        this.placeholder.remove();\n        this.el.removeAttribute('style');\n    }\n    _setupEventHandlers() {\n        this._handleMaterialboxClickBound = this._handleMaterialboxClick.bind(this);\n        this.el.addEventListener('click', this._handleMaterialboxClickBound);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleMaterialboxClickBound);\n    }\n    _handleMaterialboxClick(e) {\n        // If already modal, return to original\n        if (this.doneAnimating === false || (this.overlayActive && this.doneAnimating))\n            this.close();\n        else\n            this.open();\n    }\n    _handleWindowScroll() {\n        if (this.overlayActive)\n            this.close();\n    }\n    _handleWindowResize() {\n        if (this.overlayActive)\n            this.close();\n    }\n    _handleWindowEscape(e) {\n        // ESC key\n        if (e.keyCode === 27 && this.doneAnimating && this.overlayActive)\n            this.close();\n    }\n    _makeAncestorsOverflowVisible() {\n        this._changedAncestorList = [];\n        let ancestor = this.placeholder.parentNode;\n        while (ancestor !== null && ancestor !== document) {\n            const curr = ancestor;\n            if (curr.style.overflow !== 'visible') {\n                curr.style.overflow = 'visible';\n                this._changedAncestorList.push(curr);\n            }\n            ancestor = ancestor.parentNode;\n        }\n    }\n    _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    _animateImageIn() {\n        this.el.style.maxHeight = this.newHeight.toString() + 'px';\n        this.el.style.maxWidth = this.newWidth.toString() + 'px';\n        const animOptions = {\n            targets: this.el,\n            height: [this.originalHeight, this.newHeight],\n            width: [this.originalWidth, this.newWidth],\n            left: global_1.M.getDocumentScrollLeft() +\n                this.windowWidth / 2 -\n                this._offset(this.placeholder).left -\n                this.newWidth / 2,\n            top: global_1.M.getDocumentScrollTop() +\n                this.windowHeight / 2 -\n                this._offset(this.placeholder).top -\n                this.newHeight / 2,\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this.doneAnimating = true;\n                // onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el);\n                }\n            }\n        };\n        // Override max-width or max-height if needed\n        //const elStyle = this.el.style;\n        //console.log('mh', elStyle.maxHeight, '->', this.newHeight);\n        //console.log('mw', elStyle.maxWidth, '->', this.newWidth);\n        //if (elStyle.maxWidth !== 'none') animOptions.maxWidth = this.newWidth;\n        //if (elStyle.maxHeight !== 'none') animOptions.maxHeight = this.newHeight;\n        //console.log('>>> animate');\n        //console.log(JSON.stringify(animOptions));\n        (0, animejs_1.default)(animOptions);\n    }\n    _animateImageOut() {\n        const animOptions = {\n            targets: this.el,\n            width: this.originalWidth,\n            height: this.originalHeight,\n            left: 0,\n            top: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this.placeholder.style.height = '';\n                this.placeholder.style.width = '';\n                this.placeholder.style.position = '';\n                this.placeholder.style.top = '';\n                this.placeholder.style.left = '';\n                // Revert to width or height attribute\n                if (this.attrWidth)\n                    this.el.setAttribute('width', this.attrWidth.toString());\n                if (this.attrHeight)\n                    this.el.setAttribute('height', this.attrHeight.toString());\n                this.el.removeAttribute('style');\n                this.originInlineStyles && this.el.setAttribute('style', this.originInlineStyles);\n                // Remove class\n                this.el.classList.remove('active');\n                this.doneAnimating = true;\n                // Remove overflow overrides on ancestors\n                this._changedAncestorList.forEach(anchestor => anchestor.style.overflow = '');\n                // onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        };\n        (0, animejs_1.default)(animOptions);\n    }\n    _updateVars() {\n        this.windowWidth = window.innerWidth;\n        this.windowHeight = window.innerHeight;\n        this.caption = this.el.getAttribute('data-caption') || '';\n    }\n    open() {\n        this._updateVars();\n        this.originalWidth = this.el.getBoundingClientRect().width;\n        this.originalHeight = this.el.getBoundingClientRect().height;\n        // Set states\n        this.doneAnimating = false;\n        this.el.classList.add('active');\n        this.overlayActive = true;\n        // onOpenStart callback\n        if (typeof this.options.onOpenStart === 'function') {\n            this.options.onOpenStart.call(this, this.el);\n        }\n        // Set positioning for placeholder\n        this.placeholder.style.width = this.placeholder.getBoundingClientRect().width + 'px';\n        this.placeholder.style.height = this.placeholder.getBoundingClientRect().height + 'px';\n        this.placeholder.style.position = 'relative';\n        this.placeholder.style.top = '0';\n        this.placeholder.style.left = '0';\n        this._makeAncestorsOverflowVisible();\n        // Set css on origin\n        this.el.style.position = 'absolute';\n        this.el.style.zIndex = '1000';\n        this.el.style.willChange = 'left, top, width, height';\n        // Change from width or height attribute to css\n        this.attrWidth = this.el.getAttribute('width');\n        this.attrHeight = this.el.getAttribute('height');\n        if (this.attrWidth) {\n            this.el.style.width = this.attrWidth + 'px';\n            this.el.removeAttribute('width');\n        }\n        if (this.attrHeight) {\n            this.el.style.width = this.attrHeight + 'px';\n            this.el.removeAttribute('height');\n        }\n        // Add overlay\n        this._overlay = document.createElement('div');\n        this._overlay.id = 'materialbox-overlay';\n        this._overlay.style.opacity = '0';\n        this._overlay.addEventListener('click', e => {\n            if (this.doneAnimating)\n                this.close();\n        }, { once: true });\n        // Put before in origin image to preserve z-index layering.\n        this.el.before(this._overlay);\n        // Set dimensions if needed\n        const overlayOffset = this._overlay.getBoundingClientRect();\n        this._overlay.style.width = this.windowWidth + 'px';\n        this._overlay.style.height = this.windowHeight + 'px';\n        this._overlay.style.left = -1 * overlayOffset.left + 'px';\n        this._overlay.style.top = -1 * overlayOffset.top + 'px';\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this._overlay);\n        // Animate Overlay\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: 1,\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad'\n        });\n        // Add and animate caption if it exists\n        if (this.caption !== '') {\n            if (this._photoCaption)\n                animejs_1.default.remove(this._photoCaption);\n            this._photoCaption = document.createElement('div');\n            this._photoCaption.classList.add('materialbox-caption');\n            this._photoCaption.innerText = this.caption;\n            document.body.append(this._photoCaption);\n            this._photoCaption.style.display = 'inline';\n            (0, animejs_1.default)({\n                targets: this._photoCaption,\n                opacity: 1,\n                duration: this.options.inDuration,\n                easing: 'easeOutQuad'\n            });\n        }\n        // Resize Image\n        const widthPercent = this.originalWidth / this.windowWidth;\n        const heightPercent = this.originalHeight / this.windowHeight;\n        this.newWidth = 0;\n        this.newHeight = 0;\n        if (widthPercent > heightPercent) {\n            // Width first\n            const ratio = this.originalHeight / this.originalWidth;\n            this.newWidth = this.windowWidth * 0.9;\n            this.newHeight = this.windowWidth * 0.9 * ratio;\n        }\n        else {\n            // Height first\n            const ratio = this.originalWidth / this.originalHeight;\n            this.newWidth = this.windowHeight * 0.9 * ratio;\n            this.newHeight = this.windowHeight * 0.9;\n        }\n        this._animateImageIn();\n        // Handle Exit triggers\n        this._handleWindowScrollBound = this._handleWindowScroll.bind(this);\n        this._handleWindowResizeBound = this._handleWindowResize.bind(this);\n        this._handleWindowEscapeBound = this._handleWindowEscape.bind(this);\n        window.addEventListener('scroll', this._handleWindowScrollBound);\n        window.addEventListener('resize', this._handleWindowResizeBound);\n        window.addEventListener('keyup', this._handleWindowEscapeBound);\n    }\n    close() {\n        this._updateVars();\n        this.doneAnimating = false;\n        // onCloseStart callback\n        if (typeof this.options.onCloseStart === 'function') {\n            this.options.onCloseStart.call(this, this.el);\n        }\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this._overlay);\n        if (this.caption !== '')\n            animejs_1.default.remove(this._photoCaption);\n        // disable exit handlers\n        window.removeEventListener('scroll', this._handleWindowScrollBound);\n        window.removeEventListener('resize', this._handleWindowResizeBound);\n        window.removeEventListener('keyup', this._handleWindowEscapeBound);\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this.overlayActive = false;\n                this._overlay.remove();\n            }\n        });\n        this._animateImageOut();\n        // Remove Caption + reset css settings on image\n        if (this.caption !== '') {\n            (0, animejs_1.default)({\n                targets: this._photoCaption,\n                opacity: 0,\n                duration: this.options.outDuration,\n                easing: 'easeOutQuad',\n                complete: () => {\n                    this._photoCaption.remove();\n                }\n            });\n        }\n    }\n}\nexports.Materialbox = Materialbox;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ3RCLE9BQU8sRUFBRSxDQUFDO1lBQ1YsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVztZQUNsQyxNQUFNLEVBQUUsYUFBYTtZQUNyQixRQUFRLEVBQUUsR0FBRyxFQUFFO2dCQUNiLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDO2dCQUMzQixJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ3pCLENBQUM7U0FDRixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUN4QiwrQ0FBK0M7UUFDL0MsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLEVBQUUsRUFBRTtZQUN2QixxQkFBSSxFQUFDO2dCQUNILE9BQU8sRUFBRSxJQUFJLENBQUMsYUFBYTtnQkFDM0IsT0FBTyxFQUFFLENBQUM7Z0JBQ1YsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVztnQkFDbEMsTUFBTSxFQUFFLGFBQWE7Z0JBQ3JCLFFBQVEsRUFBRSxHQUFHLEVBQUU7b0JBQ2IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDOUIsQ0FBQzthQUNGLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQztDQUNGO0FBOVVELGtDQThVQyIsInNvdXJjZXMiOlsid2VicGFjazovL00vLi9zcmMvbWF0ZXJpYWxib3gudHM/OTdmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5cbmNvbnN0IF9kZWZhdWx0cyA9IHtcbiAgaW5EdXJhdGlvbjogMjc1LFxuICBvdXREdXJhdGlvbjogMjAwLFxuICBvbk9wZW5TdGFydDogbnVsbCxcbiAgb25PcGVuRW5kOiBudWxsLFxuICBvbkNsb3NlU3RhcnQ6IG51bGwsXG4gIG9uQ2xvc2VFbmQ6IG51bGxcbn07XG5cbiAgZXhwb3J0IGNsYXNzIE1hdGVyaWFsYm94IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBlbDogSFRNTEVsZW1lbnQ7XG4gICAgb3ZlcmxheUFjdGl2ZTogYm9vbGVhbjtcbiAgICBkb25lQW5pbWF0aW5nOiBib29sZWFuO1xuICAgIGNhcHRpb246IHN0cmluZztcbiAgICBvcmlnaW5hbFdpZHRoOiBudW1iZXI7XG4gICAgb3JpZ2luYWxIZWlnaHQ6IG51bWJlcjtcbiAgICBwcml2YXRlIG9yaWdpbklubGluZVN0eWxlczogc3RyaW5nO1xuICAgIHByaXZhdGUgcGxhY2Vob2xkZXI6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2NoYW5nZWRBbmNlc3Rvckxpc3Q6IEhUTUxFbGVtZW50W107XG4gICAgcHJpdmF0ZSBuZXdIZWlnaHQ6IG51bWJlcjtcbiAgICBwcml2YXRlIG5ld1dpZHRoOiBudW1iZXI7XG4gICAgcHJpdmF0ZSB3aW5kb3dXaWR0aDogbnVtYmVyO1xuICAgIHByaXZhdGUgd2luZG93SGVpZ2h0OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBhdHRyV2lkdGg6IHN0cmluZztcbiAgICBwcml2YXRlIGF0dHJIZWlnaHQ6IHN0cmluZztcbiAgICBwcml2YXRlIF9vdmVybGF5OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9waG90b0NhcHRpb246IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2hhbmRsZU1hdGVyaWFsYm94Q2xpY2tCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZVdpbmRvd1Njcm9sbEJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlV2luZG93UmVzaXplQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVXaW5kb3dFc2NhcGVCb3VuZDogYW55O1xuXG4gICAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKE1hdGVyaWFsYm94LCBlbCwgb3B0aW9ucyk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fTWF0ZXJpYWxib3ggPSB0aGlzO1xuICAgICAgdGhpcy5vcHRpb25zID0gey4uLk1hdGVyaWFsYm94LmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICAgIHRoaXMub3ZlcmxheUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5kb25lQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMucGxhY2Vob2xkZXIuY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWwtcGxhY2Vob2xkZXInKTtcbiAgICAgIHRoaXMub3JpZ2luYWxXaWR0aCA9IDA7XG4gICAgICB0aGlzLm9yaWdpbmFsSGVpZ2h0ID0gMDtcbiAgICAgIHRoaXMub3JpZ2luSW5saW5lU3R5bGVzID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICB0aGlzLmNhcHRpb24gPSB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXB0aW9uJykgfHwgJyc7XG4gICAgICAvLyBXcmFwXG4gICAgICB0aGlzLmVsLmJlZm9yZSh0aGlzLnBsYWNlaG9sZGVyKTtcbiAgICAgIHRoaXMucGxhY2Vob2xkZXIuYXBwZW5kKHRoaXMuZWwpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgY29uc3QgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fTWF0ZXJpYWxib3g7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9NYXRlcmlhbGJveCA9IHVuZGVmaW5lZDtcbiAgICAgIC8vIFVud3JhcCBpbWFnZVxuICAgICAgLy90aGlzLnBsYWNlaG9sZGVyLmFmdGVyKHRoaXMuZWwpLnJlbW92ZSgpO1xuICAgICAgdGhpcy5wbGFjZWhvbGRlci5yZW1vdmUoKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgIH1cblxuICAgIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLl9oYW5kbGVNYXRlcmlhbGJveENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVNYXRlcmlhbGJveENsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTWF0ZXJpYWxib3hDbGlja0JvdW5kKTtcbiAgICB9XG5cbiAgICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVNYXRlcmlhbGJveENsaWNrQm91bmQpO1xuICAgIH1cblxuICAgIF9oYW5kbGVNYXRlcmlhbGJveENsaWNrKGUpIHtcbiAgICAgIC8vIElmIGFscmVhZHkgbW9kYWwsIHJldHVybiB0byBvcmlnaW5hbFxuICAgICAgaWYgKHRoaXMuZG9uZUFuaW1hdGluZyA9PT0gZmFsc2UgfHwgKHRoaXMub3ZlcmxheUFjdGl2ZSAmJiB0aGlzLmRvbmVBbmltYXRpbmcpKVxuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICBlbHNlXG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cblxuICAgIF9oYW5kbGVXaW5kb3dTY3JvbGwoKSB7XG4gICAgICBpZiAodGhpcy5vdmVybGF5QWN0aXZlKSB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZVdpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgIGlmICh0aGlzLm92ZXJsYXlBY3RpdmUpIHRoaXMuY2xvc2UoKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlV2luZG93RXNjYXBlKGUpIHtcbiAgICAgIC8vIEVTQyBrZXlcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IDI3ICYmIHRoaXMuZG9uZUFuaW1hdGluZyAmJiB0aGlzLm92ZXJsYXlBY3RpdmUpIHRoaXMuY2xvc2UoKTtcbiAgICB9XG5cbiAgICBfbWFrZUFuY2VzdG9yc092ZXJmbG93VmlzaWJsZSgpIHtcbiAgICAgIHRoaXMuX2NoYW5nZWRBbmNlc3Rvckxpc3QgPSBbXTtcbiAgICAgIGxldCBhbmNlc3RvciA9IHRoaXMucGxhY2Vob2xkZXIucGFyZW50Tm9kZTtcbiAgICAgIHdoaWxlIChhbmNlc3RvciAhPT0gbnVsbCAmJiBhbmNlc3RvciAhPT0gZG9jdW1lbnQpIHtcbiAgICAgICAgY29uc3QgY3VyciA9IDxIVE1MRWxlbWVudD5hbmNlc3RvcjtcbiAgICAgICAgaWYgKGN1cnIuc3R5bGUub3ZlcmZsb3cgIT09ICd2aXNpYmxlJykge1xuICAgICAgICAgIGN1cnIuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICAgICAgdGhpcy5fY2hhbmdlZEFuY2VzdG9yTGlzdC5wdXNoKGN1cnIpO1xuICAgICAgICB9XG4gICAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9vZmZzZXQoZWwpIHtcbiAgICAgIGNvbnN0IGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogYm94LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxuICAgICAgICBsZWZ0OiBib3gubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBfYW5pbWF0ZUltYWdlSW4oKSB7ICAgICAgXG4gICAgICB0aGlzLmVsLnN0eWxlLm1heEhlaWdodCA9IHRoaXMubmV3SGVpZ2h0LnRvU3RyaW5nKCkrJ3B4JztcbiAgICAgIHRoaXMuZWwuc3R5bGUubWF4V2lkdGggPSB0aGlzLm5ld1dpZHRoLnRvU3RyaW5nKCkrJ3B4JztcblxuICAgICAgY29uc3QgYW5pbU9wdGlvbnMgPSB7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuZWwsIC8vIGltYWdlXG4gICAgICAgIGhlaWdodDogW3RoaXMub3JpZ2luYWxIZWlnaHQsIHRoaXMubmV3SGVpZ2h0XSxcbiAgICAgICAgd2lkdGg6IFt0aGlzLm9yaWdpbmFsV2lkdGgsIHRoaXMubmV3V2lkdGhdLFxuICAgICAgICBsZWZ0OlxuICAgICAgICAgIE0uZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCkgK1xuICAgICAgICAgIHRoaXMud2luZG93V2lkdGggLyAyIC1cbiAgICAgICAgICB0aGlzLl9vZmZzZXQodGhpcy5wbGFjZWhvbGRlcikubGVmdCAtXG4gICAgICAgICAgdGhpcy5uZXdXaWR0aCAvIDIsXG4gICAgICAgIHRvcDpcbiAgICAgICAgICBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCkgK1xuICAgICAgICAgIHRoaXMud2luZG93SGVpZ2h0IC8gMiAtXG4gICAgICAgICAgdGhpcy5fb2Zmc2V0KHRoaXMucGxhY2Vob2xkZXIpLnRvcCAtXG4gICAgICAgICAgdGhpcy5uZXdIZWlnaHQgLyAyLFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmRvbmVBbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAgIC8vIG9uT3BlbkVuZCBjYWxsYmFja1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlbkVuZC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8vIE92ZXJyaWRlIG1heC13aWR0aCBvciBtYXgtaGVpZ2h0IGlmIG5lZWRlZFxuICAgICAgLy9jb25zdCBlbFN0eWxlID0gdGhpcy5lbC5zdHlsZTtcbiAgICAgIC8vY29uc29sZS5sb2coJ21oJywgZWxTdHlsZS5tYXhIZWlnaHQsICctPicsIHRoaXMubmV3SGVpZ2h0KTtcbiAgICAgIC8vY29uc29sZS5sb2coJ213JywgZWxTdHlsZS5tYXhXaWR0aCwgJy0+JywgdGhpcy5uZXdXaWR0aCk7XG4gICAgICAvL2lmIChlbFN0eWxlLm1heFdpZHRoICE9PSAnbm9uZScpIGFuaW1PcHRpb25zLm1heFdpZHRoID0gdGhpcy5uZXdXaWR0aDtcbiAgICAgIC8vaWYgKGVsU3R5bGUubWF4SGVpZ2h0ICE9PSAnbm9uZScpIGFuaW1PcHRpb25zLm1heEhlaWdodCA9IHRoaXMubmV3SGVpZ2h0O1xuICAgICAgLy9jb25zb2xlLmxvZygnPj4+IGFuaW1hdGUnKTtcbiAgICAgIC8vY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYW5pbU9wdGlvbnMpKTtcbiAgICAgIGFuaW0oYW5pbU9wdGlvbnMpO1xuICAgIH1cblxuICAgIF9hbmltYXRlSW1hZ2VPdXQoKSB7XG4gICAgICBjb25zdCBhbmltT3B0aW9ucyA9IHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgd2lkdGg6IHRoaXMub3JpZ2luYWxXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLm9yaWdpbmFsSGVpZ2h0LFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUud2lkdGggPSAnJztcbiAgICAgICAgICB0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgICAgICAgdGhpcy5wbGFjZWhvbGRlci5zdHlsZS50b3AgPSAnJztcbiAgICAgICAgICB0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLmxlZnQgPSAnJztcbiAgICAgICAgICAvLyBSZXZlcnQgdG8gd2lkdGggb3IgaGVpZ2h0IGF0dHJpYnV0ZVxuICAgICAgICAgIGlmICh0aGlzLmF0dHJXaWR0aCkgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdGhpcy5hdHRyV2lkdGgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgaWYgKHRoaXMuYXR0ckhlaWdodCkgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHRoaXMuYXR0ckhlaWdodC50b1N0cmluZygpKTtcbiAgICAgICAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgICB0aGlzLm9yaWdpbklubGluZVN0eWxlcyAmJiB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0aGlzLm9yaWdpbklubGluZVN0eWxlcyk7XG4gICAgICAgICAgLy8gUmVtb3ZlIGNsYXNzXG4gICAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICB0aGlzLmRvbmVBbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAgIC8vIFJlbW92ZSBvdmVyZmxvdyBvdmVycmlkZXMgb24gYW5jZXN0b3JzXG4gICAgICAgICAgdGhpcy5fY2hhbmdlZEFuY2VzdG9yTGlzdC5mb3JFYWNoKGFuY2hlc3RvciA9PiBhbmNoZXN0b3Iuc3R5bGUub3ZlcmZsb3cgPSAnJyk7XG4gICAgICAgICAgLy8gb25DbG9zZUVuZCBjYWxsYmFja1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kLmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgYW5pbShhbmltT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVZhcnMoKSB7XG4gICAgICB0aGlzLndpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB0aGlzLndpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIHRoaXMuY2FwdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNhcHRpb24nKSB8fCAnJztcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgdGhpcy5fdXBkYXRlVmFycygpO1xuICAgICAgdGhpcy5vcmlnaW5hbFdpZHRoID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgIHRoaXMub3JpZ2luYWxIZWlnaHQgPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICAgIC8vIFNldCBzdGF0ZXNcbiAgICAgIHRoaXMuZG9uZUFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMub3ZlcmxheUFjdGl2ZSA9IHRydWU7XG4gICAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICB9XG4gICAgICAvLyBTZXQgcG9zaXRpb25pbmcgZm9yIHBsYWNlaG9sZGVyXG4gICAgICB0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLndpZHRoID0gdGhpcy5wbGFjZWhvbGRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCsncHgnO1xuICAgICAgdGhpcy5wbGFjZWhvbGRlci5zdHlsZS5oZWlnaHQgPSB0aGlzLnBsYWNlaG9sZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCsncHgnO1xuICAgICAgdGhpcy5wbGFjZWhvbGRlci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICB0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLnRvcCA9ICcwJztcbiAgICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgIHRoaXMuX21ha2VBbmNlc3RvcnNPdmVyZmxvd1Zpc2libGUoKTtcbiAgICAgIC8vIFNldCBjc3Mgb24gb3JpZ2luXG4gICAgICB0aGlzLmVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgIHRoaXMuZWwuc3R5bGUuekluZGV4ID0gJzEwMDAnO1xuICAgICAgdGhpcy5lbC5zdHlsZS53aWxsQ2hhbmdlID0gJ2xlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCc7XG4gICAgICAvLyBDaGFuZ2UgZnJvbSB3aWR0aCBvciBoZWlnaHQgYXR0cmlidXRlIHRvIGNzc1xuICAgICAgdGhpcy5hdHRyV2lkdGggPSB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICAgIHRoaXMuYXR0ckhlaWdodCA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKTtcbiAgICAgIGlmICh0aGlzLmF0dHJXaWR0aCkge1xuICAgICAgICB0aGlzLmVsLnN0eWxlLndpZHRoID0gdGhpcy5hdHRyV2lkdGgrJ3B4JztcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVBdHRyaWJ1dGUoJ3dpZHRoJyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hdHRySGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUud2lkdGggPSB0aGlzLmF0dHJIZWlnaHQrJ3B4JztcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2hlaWdodCcpO1xuICAgICAgfVxuICAgICAgLy8gQWRkIG92ZXJsYXlcbiAgICAgIHRoaXMuX292ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMuX292ZXJsYXkuaWQgPSAnbWF0ZXJpYWxib3gtb3ZlcmxheSc7XG4gICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICB0aGlzLl9vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmRvbmVBbmltYXRpbmcpIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0sIHtvbmNlOiB0cnVlfSk7XG4gICAgICAvLyBQdXQgYmVmb3JlIGluIG9yaWdpbiBpbWFnZSB0byBwcmVzZXJ2ZSB6LWluZGV4IGxheWVyaW5nLlxuICAgICAgdGhpcy5lbC5iZWZvcmUodGhpcy5fb3ZlcmxheSk7XG4gICAgICAvLyBTZXQgZGltZW5zaW9ucyBpZiBuZWVkZWRcbiAgICAgIGNvbnN0IG92ZXJsYXlPZmZzZXQgPSB0aGlzLl9vdmVybGF5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdGhpcy5fb3ZlcmxheS5zdHlsZS53aWR0aCA9IHRoaXMud2luZG93V2lkdGgrJ3B4JztcbiAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuaGVpZ2h0ID0gdGhpcy53aW5kb3dIZWlnaHQrJ3B4JztcbiAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUubGVmdCA9IC0xICogb3ZlcmxheU9mZnNldC5sZWZ0KydweCc7XG4gICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLnRvcCA9IC0xICogb3ZlcmxheU9mZnNldC50b3ArJ3B4JztcbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgICAgYW5pbS5yZW1vdmUodGhpcy5fb3ZlcmxheSk7XG4gICAgICAvLyBBbmltYXRlIE92ZXJsYXlcbiAgICAgIGFuaW0oe1xuICAgICAgICB0YXJnZXRzOiB0aGlzLl9vdmVybGF5LFxuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgfSk7XG4gICAgICAvLyBBZGQgYW5kIGFuaW1hdGUgY2FwdGlvbiBpZiBpdCBleGlzdHNcbiAgICAgIGlmICh0aGlzLmNhcHRpb24gIT09ICcnKSB7ICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuX3Bob3RvQ2FwdGlvbikgYW5pbS5yZW1vdmUodGhpcy5fcGhvdG9DYXB0aW9uKTtcbiAgICAgICAgdGhpcy5fcGhvdG9DYXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuX3Bob3RvQ2FwdGlvbi5jbGFzc0xpc3QuYWRkKCdtYXRlcmlhbGJveC1jYXB0aW9uJyk7XG4gICAgICAgIHRoaXMuX3Bob3RvQ2FwdGlvbi5pbm5lclRleHQgPSB0aGlzLmNhcHRpb247XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuX3Bob3RvQ2FwdGlvbik7XG4gICAgICAgIHRoaXMuX3Bob3RvQ2FwdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZSc7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuX3Bob3RvQ2FwdGlvbixcbiAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlc2l6ZSBJbWFnZVxuICAgICAgY29uc3Qgd2lkdGhQZXJjZW50ID0gdGhpcy5vcmlnaW5hbFdpZHRoIC8gdGhpcy53aW5kb3dXaWR0aDtcbiAgICAgIGNvbnN0IGhlaWdodFBlcmNlbnQgPSB0aGlzLm9yaWdpbmFsSGVpZ2h0IC8gdGhpcy53aW5kb3dIZWlnaHQ7XG4gICAgICB0aGlzLm5ld1dpZHRoID0gMDtcbiAgICAgIHRoaXMubmV3SGVpZ2h0ID0gMDsgICAgICBcbiAgICAgIGlmICh3aWR0aFBlcmNlbnQgPiBoZWlnaHRQZXJjZW50KSB7XG4gICAgICAgIC8vIFdpZHRoIGZpcnN0XG4gICAgICAgIGNvbnN0IHJhdGlvID0gdGhpcy5vcmlnaW5hbEhlaWdodCAvIHRoaXMub3JpZ2luYWxXaWR0aDtcbiAgICAgICAgdGhpcy5uZXdXaWR0aCA9IHRoaXMud2luZG93V2lkdGggKiAwLjk7XG4gICAgICAgIHRoaXMubmV3SGVpZ2h0ID0gdGhpcy53aW5kb3dXaWR0aCAqIDAuOSAqIHJhdGlvO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIEhlaWdodCBmaXJzdFxuICAgICAgICBjb25zdCByYXRpbyA9IHRoaXMub3JpZ2luYWxXaWR0aCAvIHRoaXMub3JpZ2luYWxIZWlnaHQ7XG4gICAgICAgIHRoaXMubmV3V2lkdGggPSB0aGlzLndpbmRvd0hlaWdodCAqIDAuOSAqIHJhdGlvO1xuICAgICAgICB0aGlzLm5ld0hlaWdodCA9IHRoaXMud2luZG93SGVpZ2h0ICogMC45O1xuICAgICAgfVxuICAgICAgdGhpcy5fYW5pbWF0ZUltYWdlSW4oKTtcblxuICAgICAgLy8gSGFuZGxlIEV4aXQgdHJpZ2dlcnNcbiAgICAgIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbEJvdW5kID0gdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCA9IHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlV2luZG93RXNjYXBlQm91bmQgPSB0aGlzLl9oYW5kbGVXaW5kb3dFc2NhcGUuYmluZCh0aGlzKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGxCb3VuZCk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplQm91bmQpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlV2luZG93RXNjYXBlQm91bmQpO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgdGhpcy5fdXBkYXRlVmFycygpO1xuICAgICAgdGhpcy5kb25lQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAvLyBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICB9XG4gICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xuICAgICAgaWYgKHRoaXMuY2FwdGlvbiAhPT0gJycpIGFuaW0ucmVtb3ZlKHRoaXMuX3Bob3RvQ2FwdGlvbik7ICAgICAgXG4gICAgICAvLyBkaXNhYmxlIGV4aXQgaGFuZGxlcnNcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGxCb3VuZCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplQm91bmQpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlV2luZG93RXNjYXBlQm91bmQpO1xuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuX292ZXJsYXksXG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLm92ZXJsYXlBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLl9vdmVybGF5LnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2FuaW1hdGVJbWFnZU91dCgpO1xuICAgICAgLy8gUmVtb3ZlIENhcHRpb24gKyByZXNldCBjc3Mgc2V0dGluZ3Mgb24gaW1hZ2VcbiAgICAgIGlmICh0aGlzLmNhcHRpb24gIT09ICcnKSB7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuX3Bob3RvQ2FwdGlvbixcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9waG90b0NhcHRpb24ucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/materialbox.ts\n");

/***/ }),

/***/ "./src/modal.ts":
/*!**********************!*\
  !*** ./src/modal.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Modal = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst _defaults = {\n    opacity: 0.5,\n    inDuration: 250,\n    outDuration: 250,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    preventScrolling: true,\n    dismissible: true,\n    startingTop: '4%',\n    endingTop: '10%'\n};\nclass Modal extends component_1.Component {\n    constructor(el, options) {\n        super(Modal, el, options);\n        this.el.M_Modal = this;\n        this.options = Object.assign(Object.assign({}, Modal.defaults), options);\n        this.isOpen = false;\n        this.id = this.el.id;\n        this._openingTrigger = undefined;\n        this._overlay = document.createElement('div');\n        this._overlay.classList.add('modal-overlay');\n        this.el.tabIndex = 0;\n        this._nthModalOpened = 0;\n        Modal._count++;\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Modal;\n    }\n    destroy() {\n        Modal._count--;\n        this._removeEventHandlers();\n        this.el.removeAttribute('style');\n        this._overlay.remove();\n        this.el.M_Modal = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleOverlayClickBound = this._handleOverlayClick.bind(this);\n        this._handleModalCloseClickBound = this._handleModalCloseClick.bind(this);\n        if (Modal._count === 1) {\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n        this._overlay.addEventListener('click', this._handleOverlayClickBound);\n        this.el.addEventListener('click', this._handleModalCloseClickBound);\n    }\n    _removeEventHandlers() {\n        if (Modal._count === 0) {\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n        this._overlay.removeEventListener('click', this._handleOverlayClickBound);\n        this.el.removeEventListener('click', this._handleModalCloseClickBound);\n    }\n    _handleTriggerClick(e) {\n        const trigger = e.target.closest('.modal-trigger');\n        if (!trigger)\n            return;\n        const modalId = global_1.M.getIdFromTrigger(trigger);\n        const modalInstance = document.getElementById(modalId).M_Modal;\n        if (modalInstance)\n            modalInstance.open(trigger);\n        e.preventDefault();\n    }\n    _handleOverlayClick() {\n        if (this.options.dismissible)\n            this.close();\n    }\n    _handleModalCloseClick(e) {\n        const closeTrigger = e.target.closest('.modal-close');\n        if (closeTrigger)\n            this.close();\n    }\n    _handleKeydown(e) {\n        // ESC key\n        if (e.keyCode === 27 && this.options.dismissible)\n            this.close();\n    }\n    _handleFocus(e) {\n        // Only trap focus if this modal is the last model opened (prevents loops in nested modals).\n        if (!this.el.contains(e.target) && this._nthModalOpened === Modal._modalsOpen) {\n            this.el.focus();\n        }\n    }\n    _animateIn() {\n        // Set initial styles  \n        this.el.style.display = 'block';\n        this.el.style.opacity = '0';\n        this._overlay.style.display = 'block';\n        this._overlay.style.opacity = '0';\n        // Animate overlay\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: this.options.opacity,\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad'\n        });\n        // Define modal animation options\n        const enterAnimOptions = {\n            targets: this.el,\n            duration: this.options.inDuration,\n            easing: 'easeOutCubic',\n            // Handle modal onOpenEnd callback\n            complete: () => {\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el, this._openingTrigger);\n                }\n            }\n        };\n        // Bottom sheet animation\n        if (this.el.classList.contains('bottom-sheet')) {\n            enterAnimOptions['bottom'] = 0;\n            enterAnimOptions['opacity'] = 1;\n        }\n        // Normal modal animation\n        else {\n            enterAnimOptions['top'] = [this.options.startingTop, this.options.endingTop];\n            enterAnimOptions['opacity'] = 1;\n            enterAnimOptions['scaleX'] = [0.8, 1];\n            enterAnimOptions['scaleY'] = [0.8, 1];\n        }\n        (0, animejs_1.default)(enterAnimOptions);\n    }\n    _animateOut() {\n        // Animate overlay\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuart'\n        });\n        // Define modal animation options\n        const exitAnimOptions = {\n            targets: this.el,\n            duration: this.options.outDuration,\n            easing: 'easeOutCubic',\n            // Handle modal ready callback\n            complete: () => {\n                this.el.style.display = 'none';\n                this._overlay.remove();\n                // Call onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        };\n        // Bottom sheet animation\n        if (this.el.classList.contains('bottom-sheet')) {\n            exitAnimOptions['bottom'] = '-100%';\n            exitAnimOptions['opacity'] = 0;\n        }\n        // Normal modal animation\n        else {\n            exitAnimOptions['top'] = [this.options.endingTop, this.options.startingTop];\n            exitAnimOptions['opacity'] = 0;\n            exitAnimOptions['scaleX'] = 0.8;\n            exitAnimOptions['scaleY'] = 0.8;\n        }\n        (0, animejs_1.default)(exitAnimOptions);\n    }\n    open(trigger) {\n        if (this.isOpen)\n            return;\n        this.isOpen = true;\n        Modal._modalsOpen++;\n        this._nthModalOpened = Modal._modalsOpen;\n        // Set Z-Index based on number of currently open modals\n        this._overlay.style.zIndex = (1000 + Modal._modalsOpen * 2).toString();\n        this.el.style.zIndex = (1000 + Modal._modalsOpen * 2 + 1).toString();\n        // Set opening trigger, undefined indicates modal was opened by javascript\n        this._openingTrigger = !!trigger ? trigger : undefined;\n        // onOpenStart callback\n        if (typeof this.options.onOpenStart === 'function') {\n            this.options.onOpenStart.call(this, this.el, this._openingTrigger);\n        }\n        if (this.options.preventScrolling) {\n            document.body.style.overflow = 'hidden';\n        }\n        this.el.classList.add('open');\n        this.el.insertAdjacentElement('afterend', this._overlay);\n        if (this.options.dismissible) {\n            this._handleKeydownBound = this._handleKeydown.bind(this);\n            this._handleFocusBound = this._handleFocus.bind(this);\n            document.addEventListener('keydown', this._handleKeydownBound);\n            document.addEventListener('focus', this._handleFocusBound, true);\n        }\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this._overlay);\n        this._animateIn();\n        // Focus modal\n        this.el.focus();\n        return this;\n    }\n    close() {\n        if (!this.isOpen)\n            return;\n        this.isOpen = false;\n        Modal._modalsOpen--;\n        this._nthModalOpened = 0;\n        // Call onCloseStart callback\n        if (typeof this.options.onCloseStart === 'function') {\n            this.options.onCloseStart.call(this, this.el);\n        }\n        this.el.classList.remove('open');\n        // Enable body scrolling only if there are no more modals open.\n        if (Modal._modalsOpen === 0) {\n            document.body.style.overflow = '';\n        }\n        if (this.options.dismissible) {\n            document.removeEventListener('keydown', this._handleKeydownBound);\n            document.removeEventListener('focus', this._handleFocusBound, true);\n        }\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this._overlay);\n        this._animateOut();\n        return this;\n    }\n}\nexports.Modal = Modal;\n(() => {\n    Modal._modalsOpen = 0;\n    Modal._count = 0;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEtBQUssVUFBVSxFQUFFO1lBQ25ELElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQy9DO1FBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2pDLCtEQUErRDtRQUMvRCxJQUFJLEtBQUssQ0FBQyxXQUFXLEtBQUssQ0FBQyxFQUFFO1lBQzNCLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7U0FDbkM7UUFDRCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFO1lBQzVCLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDbEUsUUFBUSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDckU7UUFDRCxpQkFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDckIsaUJBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7Q0FNRjtBQTdPRCxzQkE2T0M7QUFKQztJQUNFLEtBQUssQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0lBQ3RCLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBQ25CLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL21vZGFsLnRzPzBlNTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuXG5jb25zdCBfZGVmYXVsdHMgPSB7XG4gIG9wYWNpdHk6IDAuNSxcbiAgaW5EdXJhdGlvbjogMjUwLFxuICBvdXREdXJhdGlvbjogMjUwLFxuICBvbk9wZW5TdGFydDogbnVsbCxcbiAgb25PcGVuRW5kOiBudWxsLFxuICBvbkNsb3NlU3RhcnQ6IG51bGwsXG4gIG9uQ2xvc2VFbmQ6IG51bGwsXG4gIHByZXZlbnRTY3JvbGxpbmc6IHRydWUsXG4gIGRpc21pc3NpYmxlOiB0cnVlLFxuICBzdGFydGluZ1RvcDogJzQlJyxcbiAgZW5kaW5nVG9wOiAnMTAlJ1xufTtcblxuICBleHBvcnQgY2xhc3MgTW9kYWwgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGVsOiBIVE1MRWxlbWVudDtcbiAgICBzdGF0aWMgX21vZGFsc09wZW46IG51bWJlcjtcbiAgICBzdGF0aWMgX2NvdW50OiBudW1iZXI7XG4gICAgaXNPcGVuOiBib29sZWFuO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfb3BlbmluZ1RyaWdnZXI6IGFueTtcbiAgICBwcml2YXRlIF9vdmVybGF5OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9udGhNb2RhbE9wZW5lZDogbnVtYmVyO1xuICAgIHByaXZhdGUgX2hhbmRsZU92ZXJsYXlDbGlja0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlTW9kYWxDbG9zZUNsaWNrQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVLZXlkb3duQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVGb2N1c0JvdW5kOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoTW9kYWwsIGVsLCBvcHRpb25zKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9Nb2RhbCA9IHRoaXM7XG4gICAgICB0aGlzLm9wdGlvbnMgPSB7Li4uTW9kYWwuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMuaWQgPSB0aGlzLmVsLmlkO1xuICAgICAgdGhpcy5fb3BlbmluZ1RyaWdnZXIgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9vdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLl9vdmVybGF5LmNsYXNzTGlzdC5hZGQoJ21vZGFsLW92ZXJsYXknKTtcbiAgICAgIHRoaXMuZWwudGFiSW5kZXggPSAwO1xuICAgICAgdGhpcy5fbnRoTW9kYWxPcGVuZWQgPSAwO1xuICAgICAgTW9kYWwuX2NvdW50Kys7XG4gICAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICBjb25zdCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgcmV0dXJuIGRvbUVsZW0uTV9Nb2RhbDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgTW9kYWwuX2NvdW50LS07XG4gICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIHRoaXMuX292ZXJsYXkucmVtb3ZlKCk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fTW9kYWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZU92ZXJsYXlDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlT3ZlcmxheUNsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVNb2RhbENsb3NlQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZU1vZGFsQ2xvc2VDbGljay5iaW5kKHRoaXMpO1xuICAgICAgaWYgKE1vZGFsLl9jb3VudCA9PT0gMSkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX292ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xpY2tCb3VuZCk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTW9kYWxDbG9zZUNsaWNrQm91bmQpO1xuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgaWYgKE1vZGFsLl9jb3VudCA9PT0gMCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX292ZXJsYXkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xpY2tCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTW9kYWxDbG9zZUNsaWNrQm91bmQpO1xuICAgIH1cblxuICAgIF9oYW5kbGVUcmlnZ2VyQ2xpY2soZSkge1xuICAgICAgY29uc3QgdHJpZ2dlciA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tb2RhbC10cmlnZ2VyJyk7XG4gICAgICBpZiAoIXRyaWdnZXIpIHJldHVybjtcbiAgICAgIGNvbnN0IG1vZGFsSWQgPSBNLmdldElkRnJvbVRyaWdnZXIodHJpZ2dlcik7XG4gICAgICBjb25zdCBtb2RhbEluc3RhbmNlID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpIGFzIGFueSkuTV9Nb2RhbDtcbiAgICAgIGlmIChtb2RhbEluc3RhbmNlKSBtb2RhbEluc3RhbmNlLm9wZW4odHJpZ2dlcik7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZU92ZXJsYXlDbGljaygpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUpIHRoaXMuY2xvc2UoKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlTW9kYWxDbG9zZUNsaWNrKGUpIHtcbiAgICAgIGNvbnN0IGNsb3NlVHJpZ2dlciA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tb2RhbC1jbG9zZScpO1xuICAgICAgaWYgKGNsb3NlVHJpZ2dlcikgdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIF9oYW5kbGVLZXlkb3duKGUpIHtcbiAgICAgIC8vIEVTQyBrZXlcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IDI3ICYmIHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSkgdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIF9oYW5kbGVGb2N1cyhlKSB7XG4gICAgICAvLyBPbmx5IHRyYXAgZm9jdXMgaWYgdGhpcyBtb2RhbCBpcyB0aGUgbGFzdCBtb2RlbCBvcGVuZWQgKHByZXZlbnRzIGxvb3BzIGluIG5lc3RlZCBtb2RhbHMpLlxuICAgICAgaWYgKCF0aGlzLmVsLmNvbnRhaW5zKGUudGFyZ2V0KSAmJiB0aGlzLl9udGhNb2RhbE9wZW5lZCA9PT0gTW9kYWwuX21vZGFsc09wZW4pIHtcbiAgICAgICAgdGhpcy5lbC5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9hbmltYXRlSW4oKSB7XG4gICAgICAvLyBTZXQgaW5pdGlhbCBzdHlsZXMgIFxuICAgICAgdGhpcy5lbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIHRoaXMuZWwuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICAvLyBBbmltYXRlIG92ZXJsYXlcbiAgICAgIGFuaW0oe1xuICAgICAgICB0YXJnZXRzOiB0aGlzLl9vdmVybGF5LFxuICAgICAgICBvcGFjaXR5OiB0aGlzLm9wdGlvbnMub3BhY2l0eSxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgIH0pO1xuICAgICAgLy8gRGVmaW5lIG1vZGFsIGFuaW1hdGlvbiBvcHRpb25zXG4gICAgICBjb25zdCBlbnRlckFuaW1PcHRpb25zID0ge1xuICAgICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYycsXG4gICAgICAgIC8vIEhhbmRsZSBtb2RhbCBvbk9wZW5FbmQgY2FsbGJhY2tcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQuY2FsbCh0aGlzLCB0aGlzLmVsLCB0aGlzLl9vcGVuaW5nVHJpZ2dlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgLy8gQm90dG9tIHNoZWV0IGFuaW1hdGlvblxuICAgICAgaWYgKHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdib3R0b20tc2hlZXQnKSkge1xuICAgICAgICBlbnRlckFuaW1PcHRpb25zWydib3R0b20nXSA9IDA7XG4gICAgICAgIGVudGVyQW5pbU9wdGlvbnNbJ29wYWNpdHknXSA9IDE7XG4gICAgICB9XG4gICAgICAvLyBOb3JtYWwgbW9kYWwgYW5pbWF0aW9uXG4gICAgICBlbHNlIHtcbiAgICAgICAgZW50ZXJBbmltT3B0aW9uc1sndG9wJ10gPSBbdGhpcy5vcHRpb25zLnN0YXJ0aW5nVG9wLCB0aGlzLm9wdGlvbnMuZW5kaW5nVG9wXTtcbiAgICAgICAgZW50ZXJBbmltT3B0aW9uc1snb3BhY2l0eSddID0gMTtcbiAgICAgICAgZW50ZXJBbmltT3B0aW9uc1snc2NhbGVYJ10gPSBbMC44LCAxXTtcbiAgICAgICAgZW50ZXJBbmltT3B0aW9uc1snc2NhbGVZJ10gPSBbMC44LCAxXTtcbiAgICAgIH1cbiAgICAgIGFuaW0oZW50ZXJBbmltT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgX2FuaW1hdGVPdXQoKSB7XG4gICAgICAvLyBBbmltYXRlIG92ZXJsYXlcbiAgICAgIGFuaW0oe1xuICAgICAgICB0YXJnZXRzOiB0aGlzLl9vdmVybGF5LFxuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhcnQnXG4gICAgICB9KTtcbiAgICAgIC8vIERlZmluZSBtb2RhbCBhbmltYXRpb24gb3B0aW9uc1xuICAgICAgY29uc3QgZXhpdEFuaW1PcHRpb25zID0ge1xuICAgICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnLFxuICAgICAgICAvLyBIYW5kbGUgbW9kYWwgcmVhZHkgY2FsbGJhY2tcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgdGhpcy5fb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgICAgICAvLyBDYWxsIG9uQ2xvc2VFbmQgY2FsbGJhY2tcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8vIEJvdHRvbSBzaGVldCBhbmltYXRpb25cbiAgICAgIGlmICh0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygnYm90dG9tLXNoZWV0JykpIHtcbiAgICAgICAgZXhpdEFuaW1PcHRpb25zWydib3R0b20nXSA9ICctMTAwJSc7XG4gICAgICAgIGV4aXRBbmltT3B0aW9uc1snb3BhY2l0eSddID0gMDtcbiAgICAgIH1cbiAgICAgIC8vIE5vcm1hbCBtb2RhbCBhbmltYXRpb25cbiAgICAgIGVsc2Uge1xuICAgICAgICBleGl0QW5pbU9wdGlvbnNbJ3RvcCddID0gW3RoaXMub3B0aW9ucy5lbmRpbmdUb3AsIHRoaXMub3B0aW9ucy5zdGFydGluZ1RvcF07XG4gICAgICAgIGV4aXRBbmltT3B0aW9uc1snb3BhY2l0eSddID0gMDtcbiAgICAgICAgZXhpdEFuaW1PcHRpb25zWydzY2FsZVgnXSA9IDAuODtcbiAgICAgICAgZXhpdEFuaW1PcHRpb25zWydzY2FsZVknXSA9IDAuODtcbiAgICAgIH1cbiAgICAgIGFuaW0oZXhpdEFuaW1PcHRpb25zKTtcbiAgICB9XG5cbiAgICBvcGVuKHRyaWdnZXI6IEhUTUxFbGVtZW50fHVuZGVmaW5lZCk6IE1vZGFsIHtcbiAgICAgIGlmICh0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgTW9kYWwuX21vZGFsc09wZW4rKztcbiAgICAgIHRoaXMuX250aE1vZGFsT3BlbmVkID0gTW9kYWwuX21vZGFsc09wZW47XG4gICAgICAvLyBTZXQgWi1JbmRleCBiYXNlZCBvbiBudW1iZXIgb2YgY3VycmVudGx5IG9wZW4gbW9kYWxzXG4gICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLnpJbmRleCA9ICgxMDAwICsgTW9kYWwuX21vZGFsc09wZW4gKiAyKS50b1N0cmluZygpO1xuICAgICAgdGhpcy5lbC5zdHlsZS56SW5kZXggPSAoMTAwMCArIE1vZGFsLl9tb2RhbHNPcGVuICogMiArIDEpLnRvU3RyaW5nKCk7XG4gICAgICAvLyBTZXQgb3BlbmluZyB0cmlnZ2VyLCB1bmRlZmluZWQgaW5kaWNhdGVzIG1vZGFsIHdhcyBvcGVuZWQgYnkgamF2YXNjcmlwdFxuICAgICAgdGhpcy5fb3BlbmluZ1RyaWdnZXIgPSAhIXRyaWdnZXIgPyB0cmlnZ2VyIDogdW5kZWZpbmVkO1xuICAgICAgLy8gb25PcGVuU3RhcnQgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwsIHRoaXMuX29wZW5pbmdUcmlnZ2VyKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucHJldmVudFNjcm9sbGluZykge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICB9XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICAgIHRoaXMuZWwuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIHRoaXMuX292ZXJsYXkpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSkge1xuICAgICAgICB0aGlzLl9oYW5kbGVLZXlkb3duQm91bmQgPSB0aGlzLl9oYW5kbGVLZXlkb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUZvY3VzQm91bmQgPSB0aGlzLl9oYW5kbGVGb2N1cy5iaW5kKHRoaXMpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93bkJvdW5kKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVGb2N1c0JvdW5kLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgICAgYW5pbS5yZW1vdmUodGhpcy5fb3ZlcmxheSk7XG4gICAgICB0aGlzLl9hbmltYXRlSW4oKTtcbiAgICAgIC8vIEZvY3VzIG1vZGFsXG4gICAgICB0aGlzLmVsLmZvY3VzKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgIGlmICghdGhpcy5pc09wZW4pIHJldHVybjtcbiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICBNb2RhbC5fbW9kYWxzT3Blbi0tO1xuICAgICAgdGhpcy5fbnRoTW9kYWxPcGVuZWQgPSAwO1xuICAgICAgLy8gQ2FsbCBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICB9XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAgIC8vIEVuYWJsZSBib2R5IHNjcm9sbGluZyBvbmx5IGlmIHRoZXJlIGFyZSBubyBtb3JlIG1vZGFscyBvcGVuLlxuICAgICAgaWYgKE1vZGFsLl9tb2RhbHNPcGVuID09PSAwKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd25Cb3VuZCk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXNCb3VuZCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xuICAgICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3RhdGlje1xuICAgICAgTW9kYWwuX21vZGFsc09wZW4gPSAwO1xuICAgICAgTW9kYWwuX2NvdW50ID0gMDtcbiAgICB9XG4gIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modal.ts\n");

/***/ }),

/***/ "./src/parallax.ts":
/*!*************************!*\
  !*** ./src/parallax.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Parallax = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    responsiveThreshold: 0 // breakpoint for swipeable\n};\nclass Parallax extends component_1.Component {\n    constructor(el, options) {\n        super(Parallax, el, options);\n        this.el.M_Parallax = this;\n        this.options = Object.assign(Object.assign({}, Parallax.defaults), options);\n        this._enabled = window.innerWidth > this.options.responsiveThreshold;\n        this._img = this.el.querySelector('img');\n        this._updateParallax();\n        this._setupEventHandlers();\n        this._setupStyles();\n        Parallax._parallaxes.push(this);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Parallax;\n    }\n    destroy() {\n        Parallax._parallaxes.splice(Parallax._parallaxes.indexOf(this), 1);\n        this._img.style.transform = '';\n        this._removeEventHandlers();\n        this.el.M_Parallax = undefined;\n    }\n    static _handleScroll() {\n        for (let i = 0; i < Parallax._parallaxes.length; i++) {\n            let parallaxInstance = Parallax._parallaxes[i];\n            parallaxInstance._updateParallax.call(parallaxInstance);\n        }\n    }\n    static _handleWindowResize() {\n        for (let i = 0; i < Parallax._parallaxes.length; i++) {\n            let parallaxInstance = Parallax._parallaxes[i];\n            parallaxInstance._enabled =\n                window.innerWidth > parallaxInstance.options.responsiveThreshold;\n        }\n    }\n    _setupEventHandlers() {\n        this._handleImageLoadBound = this._handleImageLoad.bind(this);\n        this._img.addEventListener('load', this._handleImageLoadBound);\n        if (Parallax._parallaxes.length === 0) {\n            Parallax._handleScrollThrottled = global_1.M.throttle(Parallax._handleScroll, 5);\n            window.addEventListener('scroll', Parallax._handleScrollThrottled);\n            Parallax._handleWindowResizeThrottled = global_1.M.throttle(Parallax._handleWindowResize, 5);\n            window.addEventListener('resize', Parallax._handleWindowResizeThrottled);\n        }\n    }\n    _removeEventHandlers() {\n        this._img.removeEventListener('load', this._handleImageLoadBound);\n        if (Parallax._parallaxes.length === 0) {\n            window.removeEventListener('scroll', Parallax._handleScrollThrottled);\n            window.removeEventListener('resize', Parallax._handleWindowResizeThrottled);\n        }\n    }\n    _setupStyles() {\n        this._img.style.opacity = '1';\n    }\n    _handleImageLoad() {\n        this._updateParallax();\n    }\n    _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    _updateParallax() {\n        const containerHeight = this.el.getBoundingClientRect().height > 0 ? this.el.parentNode.offsetHeight : 500;\n        const imgHeight = this._img.offsetHeight;\n        const parallaxDist = imgHeight - containerHeight;\n        const bottom = this._offset(this.el).top + containerHeight;\n        const top = this._offset(this.el).top;\n        const scrollTop = global_1.M.getDocumentScrollTop();\n        const windowHeight = window.innerHeight;\n        const windowBottom = scrollTop + windowHeight;\n        const percentScrolled = (windowBottom - top) / (containerHeight + windowHeight);\n        const parallax = parallaxDist * percentScrolled;\n        if (!this._enabled) {\n            this._img.style.transform = '';\n        }\n        else if (bottom > scrollTop && top < scrollTop + windowHeight) {\n            this._img.style.transform = `translate3D(-50%, ${parallax}px, 0)`;\n        }\n    }\n}\nexports.Parallax = Parallax;\n(() => {\n    Parallax._parallaxes = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBRyxZQUFZLENBQUMsQ0FBQztRQUNoRixNQUFNLFFBQVEsR0FBRyxZQUFZLEdBQUcsZUFBZSxDQUFDO1FBRWhELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7U0FDaEM7YUFDSSxJQUFJLE1BQU0sR0FBRyxTQUFTLElBQUksR0FBRyxHQUFHLFNBQVMsR0FBRyxZQUFZLEVBQUU7WUFDN0QsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLHFCQUFxQixRQUFRLFFBQVEsQ0FBQztTQUNuRTtJQUNILENBQUM7Q0FLRjtBQWxIRCw0QkFrSEM7QUFIQztJQUNFLFFBQVEsQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO0FBQzVCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL3BhcmFsbGF4LnRzP2MzYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5cbiAgbGV0IF9kZWZhdWx0cyA9IHtcbiAgICByZXNwb25zaXZlVGhyZXNob2xkOiAwIC8vIGJyZWFrcG9pbnQgZm9yIHN3aXBlYWJsZVxuICB9O1xuXG4gIGV4cG9ydCBjbGFzcyBQYXJhbGxheCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgcHJpdmF0ZSBfZW5hYmxlZDogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9pbWc6IEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfaGFuZGxlSW1hZ2VMb2FkQm91bmQ6IGFueTtcbiAgICBzdGF0aWMgX3BhcmFsbGF4ZXM6IGFueTtcbiAgICBzdGF0aWMgX2hhbmRsZVNjcm9sbFRocm90dGxlZDogYW55O1xuICAgIHN0YXRpYyBfaGFuZGxlV2luZG93UmVzaXplVGhyb3R0bGVkOiAoKSA9PiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoUGFyYWxsYXgsIGVsLCBvcHRpb25zKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9QYXJhbGxheCA9IHRoaXM7XG4gICAgICB0aGlzLm9wdGlvbnMgPSB7Li4uUGFyYWxsYXguZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuICAgICAgdGhpcy5fZW5hYmxlZCA9IHdpbmRvdy5pbm5lcldpZHRoID4gdGhpcy5vcHRpb25zLnJlc3BvbnNpdmVUaHJlc2hvbGQ7XG4gICAgICB0aGlzLl9pbWcgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpOyAgICAgIFxuICAgICAgdGhpcy5fdXBkYXRlUGFyYWxsYXgoKTtcbiAgICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgdGhpcy5fc2V0dXBTdHlsZXMoKTtcbiAgICAgIFBhcmFsbGF4Ll9wYXJhbGxheGVzLnB1c2godGhpcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX1BhcmFsbGF4O1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICBQYXJhbGxheC5fcGFyYWxsYXhlcy5zcGxpY2UoUGFyYWxsYXguX3BhcmFsbGF4ZXMuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgICB0aGlzLl9pbWcuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fUGFyYWxsYXggPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgc3RhdGljIF9oYW5kbGVTY3JvbGwoKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFBhcmFsbGF4Ll9wYXJhbGxheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBwYXJhbGxheEluc3RhbmNlID0gUGFyYWxsYXguX3BhcmFsbGF4ZXNbaV07XG4gICAgICAgIHBhcmFsbGF4SW5zdGFuY2UuX3VwZGF0ZVBhcmFsbGF4LmNhbGwocGFyYWxsYXhJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIF9oYW5kbGVXaW5kb3dSZXNpemUoKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFBhcmFsbGF4Ll9wYXJhbGxheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBwYXJhbGxheEluc3RhbmNlID0gUGFyYWxsYXguX3BhcmFsbGF4ZXNbaV07XG4gICAgICAgIHBhcmFsbGF4SW5zdGFuY2UuX2VuYWJsZWQgPVxuICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoID4gcGFyYWxsYXhJbnN0YW5jZS5vcHRpb25zLnJlc3BvbnNpdmVUaHJlc2hvbGQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlTG9hZEJvdW5kID0gdGhpcy5faGFuZGxlSW1hZ2VMb2FkLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9pbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2hhbmRsZUltYWdlTG9hZEJvdW5kKTtcbiAgICAgIGlmIChQYXJhbGxheC5fcGFyYWxsYXhlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgUGFyYWxsYXguX2hhbmRsZVNjcm9sbFRocm90dGxlZCA9IE0udGhyb3R0bGUoUGFyYWxsYXguX2hhbmRsZVNjcm9sbCwgNSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBQYXJhbGxheC5faGFuZGxlU2Nyb2xsVGhyb3R0bGVkKTtcbiAgICAgICAgUGFyYWxsYXguX2hhbmRsZVdpbmRvd1Jlc2l6ZVRocm90dGxlZCA9IE0udGhyb3R0bGUoUGFyYWxsYXguX2hhbmRsZVdpbmRvd1Jlc2l6ZSwgNSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBQYXJhbGxheC5faGFuZGxlV2luZG93UmVzaXplVGhyb3R0bGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2ltZy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5faGFuZGxlSW1hZ2VMb2FkQm91bmQpO1xuICAgICAgaWYgKFBhcmFsbGF4Ll9wYXJhbGxheGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgUGFyYWxsYXguX2hhbmRsZVNjcm9sbFRocm90dGxlZCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBQYXJhbGxheC5faGFuZGxlV2luZG93UmVzaXplVGhyb3R0bGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0dXBTdHlsZXMoKSB7XG4gICAgICB0aGlzLl9pbWcuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICB9XG5cbiAgICBfaGFuZGxlSW1hZ2VMb2FkKCkge1xuICAgICAgdGhpcy5fdXBkYXRlUGFyYWxsYXgoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9vZmZzZXQoZWw6IEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogYm94LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxuICAgICAgICBsZWZ0OiBib3gubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBfdXBkYXRlUGFyYWxsYXgoKSB7XG4gICAgICBjb25zdCBjb250YWluZXJIZWlnaHQgPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCA+IDAgPyAodGhpcy5lbC5wYXJlbnROb2RlIGFzIGFueSkub2Zmc2V0SGVpZ2h0IDogNTAwO1xuICAgICAgY29uc3QgaW1nSGVpZ2h0ID0gdGhpcy5faW1nLm9mZnNldEhlaWdodDtcbiAgICAgIGNvbnN0IHBhcmFsbGF4RGlzdCA9IGltZ0hlaWdodCAtIGNvbnRhaW5lckhlaWdodDtcbiAgICAgIGNvbnN0IGJvdHRvbSA9IHRoaXMuX29mZnNldCh0aGlzLmVsKS50b3AgKyBjb250YWluZXJIZWlnaHQ7XG4gICAgICBjb25zdCB0b3AgPSB0aGlzLl9vZmZzZXQodGhpcy5lbCkudG9wO1xuICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgY29uc3Qgd2luZG93Qm90dG9tID0gc2Nyb2xsVG9wICsgd2luZG93SGVpZ2h0O1xuICAgICAgY29uc3QgcGVyY2VudFNjcm9sbGVkID0gKHdpbmRvd0JvdHRvbSAtIHRvcCkgLyAoY29udGFpbmVySGVpZ2h0ICsgd2luZG93SGVpZ2h0KTtcbiAgICAgIGNvbnN0IHBhcmFsbGF4ID0gcGFyYWxsYXhEaXN0ICogcGVyY2VudFNjcm9sbGVkO1xuICAgICAgXG4gICAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5faW1nLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYm90dG9tID4gc2Nyb2xsVG9wICYmIHRvcCA8IHNjcm9sbFRvcCArIHdpbmRvd0hlaWdodCkge1xuICAgICAgICB0aGlzLl9pbWcuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNEKC01MCUsICR7cGFyYWxsYXh9cHgsIDApYDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMge1xuICAgICAgUGFyYWxsYXguX3BhcmFsbGF4ZXMgPSBbXTtcbiAgICB9XG4gIH1cblxuICBcblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/parallax.ts\n");

/***/ }),

/***/ "./src/pushpin.ts":
/*!************************!*\
  !*** ./src/pushpin.ts ***!
  \************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Pushpin = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    top: 0,\n    bottom: Infinity,\n    offset: 0,\n    onPositionChange: null\n};\nclass Pushpin extends component_1.Component {\n    constructor(el, options) {\n        super(Pushpin, el, options);\n        this.el.M_Pushpin = this;\n        this.options = Object.assign(Object.assign({}, Pushpin.defaults), options);\n        this.originalOffset = this.el.offsetTop;\n        Pushpin._pushpins.push(this);\n        this._setupEventHandlers();\n        this._updatePosition();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Pushpin;\n    }\n    destroy() {\n        this.el.style.top = null;\n        this._removePinClasses();\n        // Remove pushpin Inst\n        let index = Pushpin._pushpins.indexOf(this);\n        Pushpin._pushpins.splice(index, 1);\n        if (Pushpin._pushpins.length === 0) {\n            this._removeEventHandlers();\n        }\n        this.el.M_Pushpin = undefined;\n    }\n    static _updateElements() {\n        for (let elIndex in Pushpin._pushpins) {\n            let pInstance = Pushpin._pushpins[elIndex];\n            pInstance._updatePosition();\n        }\n    }\n    _setupEventHandlers() {\n        document.addEventListener('scroll', Pushpin._updateElements);\n    }\n    _removeEventHandlers() {\n        document.removeEventListener('scroll', Pushpin._updateElements);\n    }\n    _updatePosition() {\n        let scrolled = global_1.M.getDocumentScrollTop() + this.options.offset;\n        if (this.options.top <= scrolled &&\n            this.options.bottom >= scrolled &&\n            !this.el.classList.contains('pinned')) {\n            this._removePinClasses();\n            this.el.style.top = `${this.options.offset}px`;\n            this.el.classList.add('pinned');\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pinned');\n            }\n        }\n        // Add pin-top (when scrolled position is above top)\n        if (scrolled < this.options.top && !this.el.classList.contains('pin-top')) {\n            this._removePinClasses();\n            this.el.style.top = '0';\n            this.el.classList.add('pin-top');\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pin-top');\n            }\n        }\n        // Add pin-bottom (when scrolled position is below bottom)\n        if (scrolled > this.options.bottom && !this.el.classList.contains('pin-bottom')) {\n            this._removePinClasses();\n            this.el.classList.add('pin-bottom');\n            this.el.style.top = `${this.options.bottom - this.originalOffset}px`;\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pin-bottom');\n            }\n        }\n    }\n    _removePinClasses() {\n        // IE 11 bug (can't remove multiple classes in one line)\n        this.el.classList.remove('pin-top');\n        this.el.classList.remove('pinned');\n        this.el.classList.remove('pin-bottom');\n    }\n}\nexports.Pushpin = Pushpin;\n(() => {\n    Pushpin._pushpins = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQy9FLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3pCLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNuQyxJQUFJLENBQUMsRUFBa0IsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLGNBQWMsSUFBSSxDQUFDO1lBRXRGLDRCQUE0QjtZQUM1QixJQUFJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsS0FBSyxVQUFVLEVBQUU7Z0JBQ3ZELElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxZQUFZLENBQUMsQ0FBQzthQUN4RDtTQUNGO0lBQ0gsQ0FBQztJQUVELGlCQUFpQjtRQUNmLHdEQUF3RDtRQUN4RCxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN6QyxDQUFDO0NBS0Y7QUEzR0QsMEJBMkdDO0FBSEM7SUFDRSxPQUFPLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztBQUN6QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTS8uL3NyYy9wdXNocGluLnRzPzJmYmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5cbiAgbGV0IF9kZWZhdWx0cyA9IHtcbiAgICB0b3A6IDAsXG4gICAgYm90dG9tOiBJbmZpbml0eSxcbiAgICBvZmZzZXQ6IDAsXG4gICAgb25Qb3NpdGlvbkNoYW5nZTogbnVsbFxuICB9O1xuXG4gIGV4cG9ydCBjbGFzcyBQdXNocGluIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgX3B1c2hwaW5zOiBhbnlbXTtcbiAgICBvcmlnaW5hbE9mZnNldDogYW55O1xuXG4gICAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKFB1c2hwaW4sIGVsLCBvcHRpb25zKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9QdXNocGluID0gdGhpcztcbiAgICAgIHRoaXMub3B0aW9ucyA9IHsuLi5QdXNocGluLmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICAgIHRoaXMub3JpZ2luYWxPZmZzZXQgPSAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkub2Zmc2V0VG9wO1xuICAgICAgUHVzaHBpbi5fcHVzaHBpbnMucHVzaCh0aGlzKTtcbiAgICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgICAgdGhpcy5fdXBkYXRlUG9zaXRpb24oKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgICBsZXQgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fUHVzaHBpbjtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRvcCA9IG51bGw7XG4gICAgICB0aGlzLl9yZW1vdmVQaW5DbGFzc2VzKCk7XG4gICAgICAvLyBSZW1vdmUgcHVzaHBpbiBJbnN0XG4gICAgICBsZXQgaW5kZXggPSBQdXNocGluLl9wdXNocGlucy5pbmRleE9mKHRoaXMpO1xuICAgICAgUHVzaHBpbi5fcHVzaHBpbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGlmIChQdXNocGluLl9wdXNocGlucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgfVxuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX1B1c2hwaW4gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgc3RhdGljIF91cGRhdGVFbGVtZW50cygpIHtcbiAgICAgIGZvciAobGV0IGVsSW5kZXggaW4gUHVzaHBpbi5fcHVzaHBpbnMpIHtcbiAgICAgICAgbGV0IHBJbnN0YW5jZSA9IFB1c2hwaW4uX3B1c2hwaW5zW2VsSW5kZXhdO1xuICAgICAgICBwSW5zdGFuY2UuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFB1c2hwaW4uX3VwZGF0ZUVsZW1lbnRzKTtcbiAgICB9XG5cbiAgICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFB1c2hwaW4uX3VwZGF0ZUVsZW1lbnRzKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgICBsZXQgc2Nyb2xsZWQgPSBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCkgKyB0aGlzLm9wdGlvbnMub2Zmc2V0O1xuXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMub3B0aW9ucy50b3AgPD0gc2Nyb2xsZWQgJiZcbiAgICAgICAgdGhpcy5vcHRpb25zLmJvdHRvbSA+PSBzY3JvbGxlZCAmJlxuICAgICAgICAhdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bpbm5lZCcpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlUGluQ2xhc3NlcygpO1xuICAgICAgICAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUudG9wID0gYCR7dGhpcy5vcHRpb25zLm9mZnNldH1weGA7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgncGlubmVkJyk7XG5cbiAgICAgICAgLy8gb25Qb3NpdGlvbkNoYW5nZSBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UuY2FsbCh0aGlzLCAncGlubmVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHBpbi10b3AgKHdoZW4gc2Nyb2xsZWQgcG9zaXRpb24gaXMgYWJvdmUgdG9wKVxuICAgICAgaWYgKHNjcm9sbGVkIDwgdGhpcy5vcHRpb25zLnRvcCAmJiAhdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bpbi10b3AnKSkge1xuICAgICAgICB0aGlzLl9yZW1vdmVQaW5DbGFzc2VzKCk7XG4gICAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50b3AgPSAnMCc7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgncGluLXRvcCcpO1xuXG4gICAgICAgIC8vIG9uUG9zaXRpb25DaGFuZ2UgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlLmNhbGwodGhpcywgJ3Bpbi10b3AnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBZGQgcGluLWJvdHRvbSAod2hlbiBzY3JvbGxlZCBwb3NpdGlvbiBpcyBiZWxvdyBib3R0b20pXG4gICAgICBpZiAoc2Nyb2xsZWQgPiB0aGlzLm9wdGlvbnMuYm90dG9tICYmICF0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygncGluLWJvdHRvbScpKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdwaW4tYm90dG9tJyk7XG4gICAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50b3AgPSBgJHt0aGlzLm9wdGlvbnMuYm90dG9tIC0gdGhpcy5vcmlnaW5hbE9mZnNldH1weGA7XG5cbiAgICAgICAgLy8gb25Qb3NpdGlvbkNoYW5nZSBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UuY2FsbCh0aGlzLCAncGluLWJvdHRvbScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3JlbW92ZVBpbkNsYXNzZXMoKSB7XG4gICAgICAvLyBJRSAxMSBidWcgKGNhbid0IHJlbW92ZSBtdWx0aXBsZSBjbGFzc2VzIGluIG9uZSBsaW5lKVxuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwaW4tdG9wJyk7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Bpbm5lZCcpO1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwaW4tYm90dG9tJyk7XG4gICAgfVxuXG4gICAgc3RhdGljIHtcbiAgICAgIFB1c2hwaW4uX3B1c2hwaW5zID0gW107XG4gICAgfVxuICB9ICBcblxuICAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pushpin.ts\n");

/***/ }),

/***/ "./src/range.ts":
/*!**********************!*\
  !*** ./src/range.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Range = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst _defaults = {};\n// TODO: !!!!!\nclass Range extends component_1.Component {\n    constructor(el, options) {\n        super(Range, el, options);\n        this.el.M_Range = this;\n        this.options = Object.assign(Object.assign({}, Range.defaults), options);\n        this._mousedown = false;\n        this._setupThumb();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Range;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._removeThumb();\n        this.el.M_Range = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleRangeChangeBound = this._handleRangeChange.bind(this);\n        this._handleRangeMousedownTouchstartBound = this._handleRangeMousedownTouchstart.bind(this);\n        this._handleRangeInputMousemoveTouchmoveBound = this._handleRangeInputMousemoveTouchmove.bind(this);\n        this._handleRangeMouseupTouchendBound = this._handleRangeMouseupTouchend.bind(this);\n        this._handleRangeBlurMouseoutTouchleaveBound = this._handleRangeBlurMouseoutTouchleave.bind(this);\n        this.el.addEventListener('change', this._handleRangeChangeBound);\n        this.el.addEventListener('mousedown', this._handleRangeMousedownTouchstartBound);\n        this.el.addEventListener('touchstart', this._handleRangeMousedownTouchstartBound);\n        this.el.addEventListener('input', this._handleRangeInputMousemoveTouchmoveBound);\n        this.el.addEventListener('mousemove', this._handleRangeInputMousemoveTouchmoveBound);\n        this.el.addEventListener('touchmove', this._handleRangeInputMousemoveTouchmoveBound);\n        this.el.addEventListener('mouseup', this._handleRangeMouseupTouchendBound);\n        this.el.addEventListener('touchend', this._handleRangeMouseupTouchendBound);\n        this.el.addEventListener('blur', this._handleRangeBlurMouseoutTouchleaveBound);\n        this.el.addEventListener('mouseout', this._handleRangeBlurMouseoutTouchleaveBound);\n        this.el.addEventListener('touchleave', this._handleRangeBlurMouseoutTouchleaveBound);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('change', this._handleRangeChangeBound);\n        this.el.removeEventListener('mousedown', this._handleRangeMousedownTouchstartBound);\n        this.el.removeEventListener('touchstart', this._handleRangeMousedownTouchstartBound);\n        this.el.removeEventListener('input', this._handleRangeInputMousemoveTouchmoveBound);\n        this.el.removeEventListener('mousemove', this._handleRangeInputMousemoveTouchmoveBound);\n        this.el.removeEventListener('touchmove', this._handleRangeInputMousemoveTouchmoveBound);\n        this.el.removeEventListener('mouseup', this._handleRangeMouseupTouchendBound);\n        this.el.removeEventListener('touchend', this._handleRangeMouseupTouchendBound);\n        this.el.removeEventListener('blur', this._handleRangeBlurMouseoutTouchleaveBound);\n        this.el.removeEventListener('mouseout', this._handleRangeBlurMouseoutTouchleaveBound);\n        this.el.removeEventListener('touchleave', this._handleRangeBlurMouseoutTouchleaveBound);\n    }\n    _handleRangeChange() {\n        this.value.innerHTML = this.el.value;\n        if (!this.thumb.classList.contains('active')) {\n            this._showRangeBubble();\n        }\n        const offsetLeft = this._calcRangeOffset();\n        this.thumb.classList.add('active');\n        this.thumb.style.left = offsetLeft + 'px';\n    }\n    _handleRangeMousedownTouchstart(e) {\n        // Set indicator value\n        this.value.innerHTML = this.el.value;\n        this._mousedown = true;\n        this.el.classList.add('active');\n        if (!this.thumb.classList.contains('active')) {\n            this._showRangeBubble();\n        }\n        if (e.type !== 'input') {\n            const offsetLeft = this._calcRangeOffset();\n            this.thumb.classList.add('active');\n            this.thumb.style.left = offsetLeft + 'px';\n        }\n    }\n    _handleRangeInputMousemoveTouchmove() {\n        if (this._mousedown) {\n            if (!this.thumb.classList.contains('active')) {\n                this._showRangeBubble();\n            }\n            const offsetLeft = this._calcRangeOffset();\n            this.thumb.classList.add('active');\n            this.thumb.style.left = offsetLeft + 'px';\n            this.value.innerHTML = this.el.value;\n        }\n    }\n    _handleRangeMouseupTouchend() {\n        this._mousedown = false;\n        this.el.classList.remove('active');\n    }\n    _handleRangeBlurMouseoutTouchleave() {\n        if (!this._mousedown) {\n            const paddingLeft = parseInt(getComputedStyle(this.el).paddingLeft);\n            const marginLeft = 7 + paddingLeft + 'px';\n            if (this.thumb.classList.contains('active')) {\n                animejs_1.default.remove(this.thumb);\n                (0, animejs_1.default)({\n                    targets: this.thumb,\n                    height: 0,\n                    width: 0,\n                    top: 10,\n                    easing: 'easeOutQuad',\n                    marginLeft: marginLeft,\n                    duration: 100\n                });\n            }\n            this.thumb.classList.remove('active');\n        }\n    }\n    _setupThumb() {\n        this.thumb = document.createElement('span');\n        this.value = document.createElement('span');\n        this.thumb.classList.add('thumb');\n        this.value.classList.add('value');\n        this.thumb.append(this.value);\n        this.el.after(this.thumb);\n    }\n    _removeThumb() {\n        this.thumb.remove();\n    }\n    _showRangeBubble() {\n        const paddingLeft = parseInt(getComputedStyle(this.thumb.parentElement).paddingLeft);\n        const marginLeft = -7 + paddingLeft + 'px'; // TODO: fix magic number?\n        animejs_1.default.remove(this.thumb);\n        (0, animejs_1.default)({\n            targets: this.thumb,\n            height: 30,\n            width: 30,\n            top: -30,\n            marginLeft: marginLeft,\n            duration: 300,\n            easing: 'easeOutQuint'\n        });\n    }\n    _calcRangeOffset() {\n        const width = this.el.getBoundingClientRect().width - 15;\n        const max = parseFloat(this.el.getAttribute('max')) || 100; // Range default max\n        const min = parseFloat(this.el.getAttribute('min')) || 0; // Range default min      \n        const percent = (parseFloat(this.el.value) - min) / (max - min);\n        return percent * width;\n    }\n    static Init() {\n        Range.init(document.querySelectorAll('input[type=range]'), {});\n    }\n}\nexports.Range = Range;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU8sT0FBTyxHQUFHLEtBQUssQ0FBQztJQUN6QixDQUFDO0lBRUQsTUFBTSxDQUFDLElBQUk7UUFDVCxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7Q0FDRjtBQTdLRCxzQkE2S0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL3JhbmdlLnRzPzY1OGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5jb25zdCBfZGVmYXVsdHMgPSB7fTtcblxuLy8gVE9ETzogISEhISFcblxuICBleHBvcnQgY2xhc3MgUmFuZ2UgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGVsOiBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHByaXZhdGUgX21vdXNlZG93bjogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9oYW5kbGVSYW5nZUNoYW5nZUJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0Qm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZEJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlQm91bmQ6IGFueTtcbiAgICB2YWx1ZTogSFRNTEVsZW1lbnQ7XG4gICAgdGh1bWI6IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKFJhbmdlLCBlbCwgb3B0aW9ucyk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fUmFuZ2UgPSB0aGlzO1xuICAgICAgdGhpcy5vcHRpb25zID0gey4uLlJhbmdlLmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICAgIHRoaXMuX21vdXNlZG93biA9IGZhbHNlO1xuICAgICAgdGhpcy5fc2V0dXBUaHVtYigpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgY29uc3QgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fUmFuZ2U7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHRoaXMuX3JlbW92ZVRodW1iKCk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fUmFuZ2UgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZVJhbmdlQ2hhbmdlQm91bmQgPSB0aGlzLl9oYW5kbGVSYW5nZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0Qm91bmQgPSB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnQuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmVCb3VuZCA9IHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmUuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZVJhbmdlTW91c2V1cFRvdWNoZW5kQm91bmQgPSB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlQm91bmQgPSB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmUuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlUmFuZ2VDaGFuZ2VCb3VuZCk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZVJhbmdlTW91c2Vkb3duVG91Y2hzdGFydEJvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZVJhbmdlTW91c2Vkb3duVG91Y2hzdGFydEJvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlQm91bmQpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmRCb3VuZCk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmRCb3VuZCk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmVCb3VuZCk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlQm91bmQpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGxlYXZlJywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlQm91bmQpO1xuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVSYW5nZUNoYW5nZUJvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0Qm91bmQpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0Qm91bmQpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmVCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmVCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmVCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZEJvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZEJvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZUJvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmVCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobGVhdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmVCb3VuZCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZVJhbmdlQ2hhbmdlKCkge1xuICAgICAgdGhpcy52YWx1ZS5pbm5lckhUTUwgPSB0aGlzLmVsLnZhbHVlO1xuICAgICAgaWYgKCF0aGlzLnRodW1iLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5fc2hvd1JhbmdlQnViYmxlKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBvZmZzZXRMZWZ0ID0gdGhpcy5fY2FsY1JhbmdlT2Zmc2V0KCk7XG4gICAgICB0aGlzLnRodW1iLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy50aHVtYi5zdHlsZS5sZWZ0ID0gb2Zmc2V0TGVmdCsncHgnO1xuICAgIH1cblxuICAgIF9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnQoZSkge1xuICAgICAgLy8gU2V0IGluZGljYXRvciB2YWx1ZVxuICAgICAgdGhpcy52YWx1ZS5pbm5lckhUTUwgPSB0aGlzLmVsLnZhbHVlO1xuICAgICAgdGhpcy5fbW91c2Vkb3duID0gdHJ1ZTtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBpZiAoIXRoaXMudGh1bWIuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB0aGlzLl9zaG93UmFuZ2VCdWJibGUoKTtcbiAgICAgIH1cbiAgICAgIGlmIChlLnR5cGUgIT09ICdpbnB1dCcpIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0TGVmdCA9IHRoaXMuX2NhbGNSYW5nZU9mZnNldCgpO1xuICAgICAgICB0aGlzLnRodW1iLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLnRodW1iLnN0eWxlLmxlZnQgPSBvZmZzZXRMZWZ0KydweCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmUoKSB7XG4gICAgICBpZiAodGhpcy5fbW91c2Vkb3duKSB7XG4gICAgICAgIGlmICghdGhpcy50aHVtYi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgdGhpcy5fc2hvd1JhbmdlQnViYmxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2Zmc2V0TGVmdCA9IHRoaXMuX2NhbGNSYW5nZU9mZnNldCgpO1xuICAgICAgICB0aGlzLnRodW1iLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLnRodW1iLnN0eWxlLmxlZnQgPSBvZmZzZXRMZWZ0KydweCc7XG4gICAgICAgIHRoaXMudmFsdWUuaW5uZXJIVE1MID0gdGhpcy5lbC52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmQoKSB7XG4gICAgICB0aGlzLl9tb3VzZWRvd24gPSBmYWxzZTtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZSgpIHtcbiAgICAgIGlmICghdGhpcy5fbW91c2Vkb3duKSB7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdMZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsKS5wYWRkaW5nTGVmdCk7XG4gICAgICAgIGNvbnN0IG1hcmdpbkxlZnQgPSA3ICsgcGFkZGluZ0xlZnQgKyAncHgnO1xuICAgICAgICBpZiAodGhpcy50aHVtYi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgYW5pbS5yZW1vdmUodGhpcy50aHVtYik7XG4gICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnRodW1iLFxuICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICB0b3A6IDEwLFxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICAgICAgbWFyZ2luTGVmdDogbWFyZ2luTGVmdCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRodW1iLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9zZXR1cFRodW1iKCkge1xuICAgICAgdGhpcy50aHVtYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHRoaXMudmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICB0aGlzLnRodW1iLmNsYXNzTGlzdC5hZGQoJ3RodW1iJyk7XG4gICAgICB0aGlzLnZhbHVlLmNsYXNzTGlzdC5hZGQoJ3ZhbHVlJyk7XG4gICAgICB0aGlzLnRodW1iLmFwcGVuZCh0aGlzLnZhbHVlKTtcbiAgICAgIHRoaXMuZWwuYWZ0ZXIodGhpcy50aHVtYik7XG4gICAgfVxuXG4gICAgX3JlbW92ZVRodW1iKCkge1xuICAgICAgdGhpcy50aHVtYi5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBfc2hvd1JhbmdlQnViYmxlKCkge1xuICAgICAgY29uc3QgcGFkZGluZ0xlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKHRoaXMudGh1bWIucGFyZW50RWxlbWVudCkucGFkZGluZ0xlZnQpO1xuICAgICAgY29uc3QgbWFyZ2luTGVmdCA9IC03ICsgcGFkZGluZ0xlZnQgKyAncHgnOyAvLyBUT0RPOiBmaXggbWFnaWMgbnVtYmVyP1xuICAgICAgYW5pbS5yZW1vdmUodGhpcy50aHVtYik7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy50aHVtYixcbiAgICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgICAgd2lkdGg6IDMwLFxuICAgICAgICB0b3A6IC0zMCxcbiAgICAgICAgbWFyZ2luTGVmdDogbWFyZ2luTGVmdCxcbiAgICAgICAgZHVyYXRpb246IDMwMCxcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1aW50J1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NhbGNSYW5nZU9mZnNldCgpOiBudW1iZXIge1xuICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC0gMTU7XG4gICAgICBjb25zdCBtYXggPSBwYXJzZUZsb2F0KHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdtYXgnKSkgfHwgMTAwOyAvLyBSYW5nZSBkZWZhdWx0IG1heFxuICAgICAgY29uc3QgbWluID0gcGFyc2VGbG9hdCh0aGlzLmVsLmdldEF0dHJpYnV0ZSgnbWluJykpIHx8IDA7IC8vIFJhbmdlIGRlZmF1bHQgbWluICAgICAgXG4gICAgICBjb25zdCBwZXJjZW50ID0gKHBhcnNlRmxvYXQodGhpcy5lbC52YWx1ZSkgLSBtaW4pIC8gKG1heCAtIG1pbik7XG4gICAgICByZXR1cm4gcGVyY2VudCAqIHdpZHRoO1xuICAgIH1cblxuICAgIHN0YXRpYyBJbml0KCl7XG4gICAgICBSYW5nZS5pbml0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9cmFuZ2VdJyksIHt9KTtcbiAgICB9XG4gIH1cblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/range.ts\n");

/***/ }),

/***/ "./src/scrollspy.ts":
/*!**************************!*\
  !*** ./src/scrollspy.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ScrollSpy = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nlet _defaults = {\n    throttle: 100,\n    scrollOffset: 200,\n    activeClass: 'active',\n    getActiveElement: (id) => { return 'a[href=\"#' + id + '\"]'; }\n};\nclass ScrollSpy extends component_1.Component {\n    constructor(el, options) {\n        super(ScrollSpy, el, options);\n        this.el.M_ScrollSpy = this;\n        this.options = Object.assign(Object.assign({}, ScrollSpy.defaults), options);\n        ScrollSpy._elements.push(this);\n        ScrollSpy._count++;\n        ScrollSpy._increment++;\n        this.tickId = -1;\n        this.id = ScrollSpy._increment;\n        this._setupEventHandlers();\n        this._handleWindowScroll();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_ScrollSpy;\n    }\n    destroy() {\n        ScrollSpy._elements.splice(ScrollSpy._elements.indexOf(this), 1);\n        ScrollSpy._elementsInView.splice(ScrollSpy._elementsInView.indexOf(this), 1);\n        ScrollSpy._visibleElements.splice(ScrollSpy._visibleElements.indexOf(this.el), 1);\n        ScrollSpy._count--;\n        this._removeEventHandlers();\n        const actElem = document.querySelector(this.options.getActiveElement(this.el.id));\n        actElem.classList.remove(this.options.activeClass);\n        this.el.M_ScrollSpy = undefined;\n    }\n    _setupEventHandlers() {\n        let throttledResize = global_1.M.throttle(this._handleWindowScroll, 200);\n        this._handleThrottledResizeBound = throttledResize.bind(this);\n        this._handleWindowScrollBound = this._handleWindowScroll.bind(this);\n        if (ScrollSpy._count === 1) {\n            window.addEventListener('scroll', this._handleWindowScrollBound);\n            window.addEventListener('resize', this._handleThrottledResizeBound);\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n    }\n    _removeEventHandlers() {\n        if (ScrollSpy._count === 0) {\n            window.removeEventListener('scroll', this._handleWindowScrollBound);\n            window.removeEventListener('resize', this._handleThrottledResizeBound);\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n    }\n    _handleTriggerClick(e) {\n        const trigger = e.target;\n        for (let i = ScrollSpy._elements.length - 1; i >= 0; i--) {\n            const scrollspy = ScrollSpy._elements[i];\n            const x = document.querySelector('a[href=\"#' + scrollspy.el.id + '\"]');\n            if (trigger === x) {\n                e.preventDefault();\n                const offset = ScrollSpy._offset(scrollspy.el).top + 1;\n                (0, animejs_1.default)({\n                    targets: [document.documentElement, document.body],\n                    scrollTop: offset - scrollspy.options.scrollOffset,\n                    duration: 400,\n                    easing: 'easeOutCubic'\n                });\n                break;\n            }\n        }\n    }\n    _handleWindowScroll() {\n        // unique tick id\n        ScrollSpy._ticks++;\n        // viewport rectangle\n        let top = global_1.M.getDocumentScrollTop(), left = global_1.M.getDocumentScrollLeft(), right = left + window.innerWidth, bottom = top + window.innerHeight;\n        // determine which elements are in view\n        let intersections = ScrollSpy._findElements(top, right, bottom, left);\n        for (let i = 0; i < intersections.length; i++) {\n            let scrollspy = intersections[i];\n            let lastTick = scrollspy.tickId;\n            if (lastTick < 0) {\n                // entered into view\n                scrollspy._enter();\n            }\n            // update tick id\n            scrollspy.tickId = ScrollSpy._ticks;\n        }\n        for (let i = 0; i < ScrollSpy._elementsInView.length; i++) {\n            let scrollspy = ScrollSpy._elementsInView[i];\n            let lastTick = scrollspy.tickId;\n            if (lastTick >= 0 && lastTick !== ScrollSpy._ticks) {\n                // exited from view\n                scrollspy._exit();\n                scrollspy.tickId = -1;\n            }\n        }\n        // remember elements in view for next tick\n        ScrollSpy._elementsInView = intersections;\n    }\n    static _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    static _findElements(top, right, bottom, left) {\n        let hits = [];\n        for (let i = 0; i < ScrollSpy._elements.length; i++) {\n            let scrollspy = ScrollSpy._elements[i];\n            let currTop = top + scrollspy.options.scrollOffset || 200;\n            if (scrollspy.el.getBoundingClientRect().height > 0) {\n                let elTop = ScrollSpy._offset(scrollspy.el).top, elLeft = ScrollSpy._offset(scrollspy.el).left, elRight = elLeft + scrollspy.el.getBoundingClientRect().width, elBottom = elTop + scrollspy.el.getBoundingClientRect().height;\n                let isIntersect = !(elLeft > right ||\n                    elRight < left ||\n                    elTop > bottom ||\n                    elBottom < currTop);\n                if (isIntersect) {\n                    hits.push(scrollspy);\n                }\n            }\n        }\n        return hits;\n    }\n    _enter() {\n        var _a;\n        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(value => value.getBoundingClientRect().height !== 0);\n        if (ScrollSpy._visibleElements[0]) {\n            const actElem = document.querySelector(this.options.getActiveElement(ScrollSpy._visibleElements[0].id));\n            actElem === null || actElem === void 0 ? void 0 : actElem.classList.remove(this.options.activeClass);\n            if (ScrollSpy._visibleElements[0].M_ScrollSpy && this.id < ScrollSpy._visibleElements[0].M_ScrollSpy.id) {\n                ScrollSpy._visibleElements.unshift(this.el);\n            }\n            else {\n                ScrollSpy._visibleElements.push(this.el);\n            }\n        }\n        else {\n            ScrollSpy._visibleElements.push(this.el);\n        }\n        const selector = this.options.getActiveElement(ScrollSpy._visibleElements[0].id);\n        (_a = document.querySelector(selector)) === null || _a === void 0 ? void 0 : _a.classList.add(this.options.activeClass);\n    }\n    _exit() {\n        var _a;\n        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(value => value.getBoundingClientRect().height !== 0);\n        if (ScrollSpy._visibleElements[0]) {\n            const actElem = document.querySelector(this.options.getActiveElement(ScrollSpy._visibleElements[0].id));\n            actElem === null || actElem === void 0 ? void 0 : actElem.classList.remove(this.options.activeClass);\n            ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter((x) => x.id != this.el.id);\n            if (ScrollSpy._visibleElements[0]) {\n                // Check if empty\n                const selector = this.options.getActiveElement(ScrollSpy._visibleElements[0].id);\n                (_a = document.querySelector(selector)) === null || _a === void 0 ? void 0 : _a.classList.add(this.options.activeClass);\n            }\n        }\n    }\n}\nexports.ScrollSpy = ScrollSpy;\n(() => {\n    ScrollSpy._elements = [];\n    ScrollSpy._elementsInView = [];\n    ScrollSpy._visibleElements = []; // Array.<cash>\n    ScrollSpy._count = 0;\n    ScrollSpy._increment = 0;\n    ScrollSpy._ticks = 0;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsV0FBVyxDQUFDLENBQUM7YUFDM0U7U0FDRjtJQUNILENBQUM7Q0FVRjtBQWxORCw4QkFrTkM7QUFSQztJQUNFLFNBQVMsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLFNBQVMsQ0FBQyxlQUFlLEdBQUcsRUFBRSxDQUFDO0lBQy9CLFNBQVMsQ0FBQyxnQkFBZ0IsR0FBRyxFQUFFLENBQUMsQ0FBQyxlQUFlO0lBQ2hELFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLFNBQVMsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO0lBQ3pCLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL3Njcm9sbHNweS50cz81ZjIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxubGV0IF9kZWZhdWx0cyA9IHtcbiAgdGhyb3R0bGU6IDEwMCxcbiAgc2Nyb2xsT2Zmc2V0OiAyMDAsIC8vIG9mZnNldCAtIDIwMCBhbGxvd3MgZWxlbWVudHMgbmVhciBib3R0b20gb2YgcGFnZSB0byBzY3JvbGxcbiAgYWN0aXZlQ2xhc3M6ICdhY3RpdmUnLFxuICBnZXRBY3RpdmVFbGVtZW50OiAoaWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7IHJldHVybiAnYVtocmVmPVwiIycraWQrJ1wiXSc7IH1cbn07XG5cbiAgZXhwb3J0IGNsYXNzIFNjcm9sbFNweSBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgZWw6IEhUTUxFbGVtZW50O1xuICAgIHN0YXRpYyBfZWxlbWVudHM6IFNjcm9sbFNweVtdO1xuICAgIHN0YXRpYyBfY291bnQ6IG51bWJlcjtcbiAgICBzdGF0aWMgX2luY3JlbWVudDogbnVtYmVyO1xuICAgIHRpY2tJZDogbnVtYmVyO1xuICAgIGlkOiBhbnk7XG4gICAgc3RhdGljIF9lbGVtZW50c0luVmlldzogU2Nyb2xsU3B5W107XG4gICAgc3RhdGljIF92aXNpYmxlRWxlbWVudHM6IGFueVtdO1xuICAgIHByaXZhdGUgX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlV2luZG93U2Nyb2xsQm91bmQ6IGFueTtcbiAgICBzdGF0aWMgX3RpY2tzOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoU2Nyb2xsU3B5LCBlbCwgb3B0aW9ucyk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fU2Nyb2xsU3B5ID0gdGhpcztcbiAgICAgIHRoaXMub3B0aW9ucyA9IHsuLi5TY3JvbGxTcHkuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuICAgICAgU2Nyb2xsU3B5Ll9lbGVtZW50cy5wdXNoKHRoaXMpO1xuICAgICAgU2Nyb2xsU3B5Ll9jb3VudCsrO1xuICAgICAgU2Nyb2xsU3B5Ll9pbmNyZW1lbnQrKztcbiAgICAgIHRoaXMudGlja0lkID0gLTE7XG4gICAgICB0aGlzLmlkID0gU2Nyb2xsU3B5Ll9pbmNyZW1lbnQ7XG4gICAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbCgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgIGxldCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgICAgcmV0dXJuIGRvbUVsZW0uTV9TY3JvbGxTcHk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIFNjcm9sbFNweS5fZWxlbWVudHMuc3BsaWNlKFNjcm9sbFNweS5fZWxlbWVudHMuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgICBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3LnNwbGljZShTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3LmluZGV4T2YodGhpcyksIDEpO1xuICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMuc3BsaWNlKFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLmluZGV4T2YodGhpcy5lbCksIDEpO1xuICAgICAgU2Nyb2xsU3B5Ll9jb3VudC0tO1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgY29uc3QgYWN0RWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmdldEFjdGl2ZUVsZW1lbnQodGhpcy5lbC5pZCkpO1xuICAgICAgYWN0RWxlbS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fU2Nyb2xsU3B5ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICBsZXQgdGhyb3R0bGVkUmVzaXplID0gTS50aHJvdHRsZSh0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwsIDIwMCk7XG4gICAgICB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZCA9IHRocm90dGxlZFJlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsQm91bmQgPSB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwuYmluZCh0aGlzKTtcbiAgICAgIGlmIChTY3JvbGxTcHkuX2NvdW50ID09PSAxKSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGxCb3VuZCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgaWYgKFNjcm9sbFNweS5fY291bnQgPT09IDApIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbEJvdW5kKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyaWdnZXJDbGljayk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZVRyaWdnZXJDbGljayhlKSB7XG4gICAgICBjb25zdCB0cmlnZ2VyID0gZS50YXJnZXQ7XG4gICAgICBmb3IgKGxldCBpID0gU2Nyb2xsU3B5Ll9lbGVtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBzY3JvbGxzcHkgPSBTY3JvbGxTcHkuX2VsZW1lbnRzW2ldO1xuXG4gICAgICAgIGNvbnN0IHggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhW2hyZWY9XCIjJytzY3JvbGxzcHkuZWwuaWQrJ1wiXScpO1xuICAgICAgICBpZiAodHJpZ2dlciA9PT0geCkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBTY3JvbGxTcHkuX29mZnNldChzY3JvbGxzcHkuZWwpLnRvcCArIDE7XG5cbiAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgIHRhcmdldHM6IFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50LmJvZHldLFxuICAgICAgICAgICAgc2Nyb2xsVG9wOiBvZmZzZXQgLSBzY3JvbGxzcHkub3B0aW9ucy5zY3JvbGxPZmZzZXQsXG4gICAgICAgICAgICBkdXJhdGlvbjogNDAwLFxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlV2luZG93U2Nyb2xsKCkge1xuICAgICAgLy8gdW5pcXVlIHRpY2sgaWRcbiAgICAgIFNjcm9sbFNweS5fdGlja3MrKztcblxuICAgICAgLy8gdmlld3BvcnQgcmVjdGFuZ2xlXG4gICAgICBsZXQgdG9wID0gTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpLFxuICAgICAgICBsZWZ0ID0gTS5nZXREb2N1bWVudFNjcm9sbExlZnQoKSxcbiAgICAgICAgcmlnaHQgPSBsZWZ0ICsgd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgIGJvdHRvbSA9IHRvcCArIHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgICAgLy8gZGV0ZXJtaW5lIHdoaWNoIGVsZW1lbnRzIGFyZSBpbiB2aWV3XG4gICAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IFNjcm9sbFNweS5fZmluZEVsZW1lbnRzKHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludGVyc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHNjcm9sbHNweSA9IGludGVyc2VjdGlvbnNbaV07XG4gICAgICAgIGxldCBsYXN0VGljayA9IHNjcm9sbHNweS50aWNrSWQ7XG4gICAgICAgIGlmIChsYXN0VGljayA8IDApIHtcbiAgICAgICAgICAvLyBlbnRlcmVkIGludG8gdmlld1xuICAgICAgICAgIHNjcm9sbHNweS5fZW50ZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSB0aWNrIGlkXG4gICAgICAgIHNjcm9sbHNweS50aWNrSWQgPSBTY3JvbGxTcHkuX3RpY2tzO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFNjcm9sbFNweS5fZWxlbWVudHNJblZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHNjcm9sbHNweSA9IFNjcm9sbFNweS5fZWxlbWVudHNJblZpZXdbaV07XG4gICAgICAgIGxldCBsYXN0VGljayA9IHNjcm9sbHNweS50aWNrSWQ7XG4gICAgICAgIGlmIChsYXN0VGljayA+PSAwICYmIGxhc3RUaWNrICE9PSBTY3JvbGxTcHkuX3RpY2tzKSB7XG4gICAgICAgICAgLy8gZXhpdGVkIGZyb20gdmlld1xuICAgICAgICAgIHNjcm9sbHNweS5fZXhpdCgpO1xuICAgICAgICAgIHNjcm9sbHNweS50aWNrSWQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gcmVtZW1iZXIgZWxlbWVudHMgaW4gdmlldyBmb3IgbmV4dCB0aWNrXG4gICAgICBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3ID0gaW50ZXJzZWN0aW9ucztcbiAgICB9XG5cbiAgICBzdGF0aWMgX29mZnNldChlbCkge1xuICAgICAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiBib3gudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRUb3AsXG4gICAgICAgIGxlZnQ6IGJveC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XG4gICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBfZmluZEVsZW1lbnRzKHRvcDogbnVtYmVyLCByaWdodDogbnVtYmVyLCBib3R0b206IG51bWJlciwgbGVmdDogbnVtYmVyKTogU2Nyb2xsU3B5W10ge1xuICAgICAgbGV0IGhpdHMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgU2Nyb2xsU3B5Ll9lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgc2Nyb2xsc3B5ID0gU2Nyb2xsU3B5Ll9lbGVtZW50c1tpXTtcbiAgICAgICAgbGV0IGN1cnJUb3AgPSB0b3AgKyBzY3JvbGxzcHkub3B0aW9ucy5zY3JvbGxPZmZzZXQgfHwgMjAwO1xuXG4gICAgICAgIGlmIChzY3JvbGxzcHkuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ID4gMCkge1xuICAgICAgICAgIGxldCBlbFRvcCA9IFNjcm9sbFNweS5fb2Zmc2V0KHNjcm9sbHNweS5lbCkudG9wLFxuICAgICAgICAgICAgZWxMZWZ0ID0gU2Nyb2xsU3B5Ll9vZmZzZXQoc2Nyb2xsc3B5LmVsKS5sZWZ0LFxuICAgICAgICAgICAgZWxSaWdodCA9IGVsTGVmdCArIHNjcm9sbHNweS5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCxcbiAgICAgICAgICAgIGVsQm90dG9tID0gZWxUb3AgKyBzY3JvbGxzcHkuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXG4gICAgICAgICAgbGV0IGlzSW50ZXJzZWN0ID0gIShcbiAgICAgICAgICAgIGVsTGVmdCA+IHJpZ2h0IHx8XG4gICAgICAgICAgICBlbFJpZ2h0IDwgbGVmdCB8fFxuICAgICAgICAgICAgZWxUb3AgPiBib3R0b20gfHxcbiAgICAgICAgICAgIGVsQm90dG9tIDwgY3VyclRvcFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAoaXNJbnRlcnNlY3QpIHtcbiAgICAgICAgICAgIGhpdHMucHVzaChzY3JvbGxzcHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGhpdHM7XG4gICAgfVxuXG4gICAgX2VudGVyKCkge1xuICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMgPSBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5maWx0ZXIodmFsdWUgPT4gdmFsdWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ICE9PSAwKTtcblxuICAgICAgaWYgKFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdKSB7XG4gICAgICAgIGNvbnN0IGFjdEVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5nZXRBY3RpdmVFbGVtZW50KFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdLmlkKSk7XG4gICAgICAgIGFjdEVsZW0/LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcblxuICAgICAgICBpZiAoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0uTV9TY3JvbGxTcHkgJiYgdGhpcy5pZCA8IFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdLk1fU2Nyb2xsU3B5LmlkKSB7XG4gICAgICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMudW5zaGlmdCh0aGlzLmVsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5wdXNoKHRoaXMuZWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMucHVzaCh0aGlzLmVsKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5vcHRpb25zLmdldEFjdGl2ZUVsZW1lbnQoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0uaWQpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik/LmNsYXNzTGlzdC5hZGQodGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcbiAgICB9XG5cbiAgICBfZXhpdCgpIHtcbiAgICAgIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzID0gU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMuZmlsdGVyKHZhbHVlID0+IHZhbHVlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCAhPT0gMCk7XG5cbiAgICAgIGlmIChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXSkge1xuICAgICAgICBjb25zdCBhY3RFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5pZCkpO1xuICAgICAgICBhY3RFbGVtPy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XG5cbiAgICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMgPSBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5maWx0ZXIoKHgpID0+IHguaWQgIT0gdGhpcy5lbC5pZCk7XG5cbiAgICAgICAgaWYgKFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgZW1wdHlcbiAgICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMub3B0aW9ucy5nZXRBY3RpdmVFbGVtZW50KFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdLmlkKTsgICAgICAgICAgXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik/LmNsYXNzTGlzdC5hZGQodGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyB7XG4gICAgICBTY3JvbGxTcHkuX2VsZW1lbnRzID0gW107XG4gICAgICBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3ID0gW107XG4gICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cyA9IFtdOyAvLyBBcnJheS48Y2FzaD5cbiAgICAgIFNjcm9sbFNweS5fY291bnQgPSAwO1xuICAgICAgU2Nyb2xsU3B5Ll9pbmNyZW1lbnQgPSAwO1xuICAgICAgU2Nyb2xsU3B5Ll90aWNrcyA9IDA7XG4gICAgfVxuICB9XG4gICJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scrollspy.ts\n");

/***/ }),

/***/ "./src/select.ts":
/*!***********************!*\
  !*** ./src/select.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FormSelect = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    classes: '',\n    dropdownOptions: {}\n};\nclass FormSelect extends component_1.Component {\n    constructor(el, options) {\n        super(FormSelect, el, options);\n        if (this.el.classList.contains('browser-default'))\n            return;\n        this.el.M_FormSelect = this;\n        this.options = Object.assign(Object.assign({}, FormSelect.defaults), options);\n        this.isMultiple = this.el.multiple;\n        this.el.tabIndex = -1;\n        this._values = [];\n        //this.labelEl = null;\n        //this._labelFor = false;\n        this._setupDropdown();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_FormSelect;\n    }\n    destroy() {\n        // Returns label to its original owner\n        //if (this._labelFor) this.labelEl.setAttribute(\"for\", this.el.id);\n        this._removeEventHandlers();\n        this._removeDropdown();\n        this.el.M_FormSelect = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleSelectChangeBound = this._handleSelectChange.bind(this);\n        this._handleOptionClickBound = this._handleOptionClick.bind(this);\n        this._handleInputClickBound = this._handleInputClick.bind(this);\n        this.dropdownOptions.querySelectorAll('li:not(.optgroup)').forEach((el) => {\n            el.addEventListener('click', this._handleOptionClickBound);\n            el.addEventListener('keydown', (e) => {\n                if (e.key === \" \" || e.key === \"Enter\")\n                    this._handleOptionClickBound(e);\n            });\n        });\n        this.el.addEventListener('change', this._handleSelectChangeBound);\n        this.input.addEventListener('click', this._handleInputClickBound);\n    }\n    _removeEventHandlers() {\n        this.dropdownOptions.querySelectorAll('li:not(.optgroup)').forEach((el) => {\n            el.removeEventListener('click', this._handleOptionClickBound);\n        });\n        this.el.removeEventListener('change', this._handleSelectChangeBound);\n        this.input.removeEventListener('click', this._handleInputClickBound);\n    }\n    _handleSelectChange(e) {\n        this._setValueToInput();\n    }\n    _handleOptionClick(e) {\n        e.preventDefault();\n        const virtualOption = e.target.closest('li');\n        this._selectOptionElement(virtualOption);\n        e.stopPropagation();\n    }\n    _arraysEqual(a, b) {\n        if (a === b)\n            return true;\n        if (a == null || b == null)\n            return false;\n        if (a.length !== b.length)\n            return false;\n        for (let i = 0; i < a.length; ++i)\n            if (a[i] !== b[i])\n                return false;\n        return true;\n    }\n    _selectOptionElement(virtualOption) {\n        if (!virtualOption.classList.contains('disabled') && !virtualOption.classList.contains('optgroup')) {\n            const value = this._values.find((value) => value.optionEl === virtualOption);\n            const previousSelectedValues = this.getSelectedValues();\n            if (this.isMultiple) {\n                // Multi-Select\n                this._toggleEntryFromArray(value);\n            }\n            else {\n                // Single-Select\n                this._deselectAll();\n                this._selectValue(value);\n            }\n            // Refresh Input-Text\n            this._setValueToInput();\n            // Trigger Change-Event only when data is different\n            const actualSelectedValues = this.getSelectedValues();\n            const selectionHasChanged = !this._arraysEqual(previousSelectedValues, actualSelectedValues);\n            if (selectionHasChanged)\n                this.el.dispatchEvent(new Event('change')); // trigger('change');\n        }\n        if (!this.isMultiple)\n            this.dropdown.close();\n    }\n    _handleInputClick() {\n        if (this.dropdown && this.dropdown.isOpen) {\n            this._setValueToInput();\n            this._setSelectedStates();\n        }\n    }\n    _setupDropdown() {\n        // Get Label\n        this.labelEl = this.el.parentElement.querySelector('label');\n        // Create Wrapper\n        this.wrapper = document.createElement('div');\n        this.wrapper.classList.add('select-wrapper', 'input-field');\n        if (this.options.classes.length > 0) {\n            this.wrapper.classList.add(this.options.classes.split(' '));\n        }\n        this.el.before(this.wrapper);\n        // Move actual select element into overflow hidden wrapper\n        const hideSelect = document.createElement('div');\n        hideSelect.classList.add('hide-select');\n        this.wrapper.append(hideSelect);\n        hideSelect.appendChild(this.el);\n        if (this.el.disabled)\n            this.wrapper.classList.add('disabled');\n        this.selectOptions = Array.from(this.el.children).filter(el => ['OPTION', 'OPTGROUP'].includes(el.tagName));\n        // Create dropdown\n        this.dropdownOptions = document.createElement('ul');\n        this.dropdownOptions.id = `select-options-${global_1.M.guid()}`;\n        this.dropdownOptions.classList.add('dropdown-content', 'select-dropdown');\n        this.dropdownOptions.setAttribute('role', 'listbox');\n        this.dropdownOptions.ariaMultiSelectable = this.isMultiple.toString();\n        if (this.isMultiple)\n            this.dropdownOptions.classList.add('multiple-select-dropdown');\n        // Create dropdown structure\n        if (this.selectOptions.length > 0) {\n            this.selectOptions.forEach((realOption) => {\n                if (realOption.tagName === 'OPTION') {\n                    // Option\n                    const virtualOption = this._createAndAppendOptionWithIcon(realOption, this.isMultiple ? 'multiple' : undefined);\n                    this._addOptionToValues(realOption, virtualOption);\n                }\n                else if (realOption.tagName === 'OPTGROUP') {\n                    // Optgroup            \n                    const groupId = \"opt-group-\" + global_1.M.guid();\n                    const groupParent = document.createElement('li');\n                    groupParent.classList.add('optgroup');\n                    groupParent.tabIndex = -1;\n                    groupParent.setAttribute('role', 'group');\n                    groupParent.setAttribute('aria-labelledby', groupId);\n                    groupParent.innerHTML = `<span id=\"${groupId}\" role=\"presentation\">${realOption.getAttribute('label')}</span>`;\n                    this.dropdownOptions.append(groupParent);\n                    const groupChildren = [];\n                    const selectOptions = Array.from(realOption.children).filter(el => el.tagName === 'OPTION');\n                    selectOptions.forEach(realOption => {\n                        const virtualOption = this._createAndAppendOptionWithIcon(realOption, 'optgroup-option');\n                        const childId = \"opt-child-\" + global_1.M.guid();\n                        virtualOption.id = childId;\n                        groupChildren.push(childId);\n                        this._addOptionToValues(realOption, virtualOption);\n                    });\n                    groupParent.setAttribute(\"aria-owns\", groupChildren.join(\" \"));\n                }\n            });\n        }\n        this.wrapper.append(this.dropdownOptions);\n        // Add input dropdown\n        this.input = document.createElement('input');\n        this.input.id = \"m_select-input-\" + global_1.M.guid();\n        this.input.classList.add('select-dropdown', 'dropdown-trigger');\n        this.input.type = 'text';\n        this.input.readOnly = true;\n        this.input.setAttribute('data-target', this.dropdownOptions.id);\n        this.input.ariaReadOnly = 'true';\n        this.input.ariaRequired = this.el.hasAttribute(\"required\").toString(); //setAttribute(\"aria-required\", this.el.hasAttribute(\"required\"));\n        if (this.el.disabled)\n            this.input.disabled = true; // 'true');\n        // Place Label after input\n        if (this.labelEl) {\n            this.input.after(this.labelEl);\n            this.labelEl.setAttribute('for', this.input.id);\n            this.labelEl.id = \"m_select-label-\" + global_1.M.guid();\n            this.dropdownOptions.setAttribute(\"aria-labelledby\", this.labelEl.id);\n        }\n        // Makes new element to assume HTML's select label and aria-attributes, if exists\n        /*\n        if (this.el.hasAttribute(\"aria-labelledby\")){\n          console.log(1);\n          this.labelEl = <HTMLLabelElement>document.getElementById(this.el.getAttribute(\"aria-labelledby\"));\n        }\n        else if (this.el.id != \"\"){\n          console.log(2);\n          const label = document.createElement('label');\n          label.setAttribute('for', this.el.id);\n          if (label){\n            this.labelEl = label;\n            this.labelEl.removeAttribute(\"for\");\n            this._labelFor = true;\n          }\n        }\n        */\n        // Tries to find a valid label in parent element\n        // if (!this.labelEl) {\n        //   this.labelEl = this.el.parentElement.querySelector('label');\n        // }\n        // if (this.labelEl && this.labelEl.id == \"\") {\n        //   this.labelEl.id = \"m_select-label-\" + M.guid();\n        // }\n        // if (this.labelEl) {\n        //   this.labelEl.setAttribute(\"for\", this.input.id);\n        //   this.dropdownOptions.setAttribute(\"aria-labelledby\", this.labelEl.id);\n        // }\n        // else\n        //   this.dropdownOptions.ariaLabel = '';\n        const attrs = this.el.attributes;\n        for (let i = 0; i < attrs.length; ++i) {\n            const attr = attrs[i];\n            if (attr.name.startsWith(\"aria-\"))\n                this.input.setAttribute(attr.name, attr.value);\n        }\n        // Adds aria-attributes to input element\n        this.input.setAttribute('role', 'combobox');\n        this.input.ariaExpanded = 'false';\n        this.input.setAttribute(\"aria-owns\", this.dropdownOptions.id);\n        this.input.setAttribute(\"aria-controls\", this.dropdownOptions.id);\n        this.input.placeholder = \" \";\n        this.wrapper.prepend(this.input);\n        this._setValueToInput();\n        // Add caret\n        const dropdownIcon = document.createElementNS('http://www.w3.org/2000/svg', 'svg'); //document.createElement('svg')\n        dropdownIcon.classList.add('caret');\n        dropdownIcon.setAttribute('height', '24');\n        dropdownIcon.setAttribute('width', '24');\n        dropdownIcon.setAttribute('viewBox', '0 0 24 24');\n        dropdownIcon.ariaHidden = 'true';\n        dropdownIcon.innerHTML = `<path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/>`;\n        this.wrapper.prepend(dropdownIcon);\n        // Initialize dropdown\n        if (!this.el.disabled) {\n            const dropdownOptions = Object.assign({}, this.options.dropdownOptions); // TODO:\n            dropdownOptions.coverTrigger = false;\n            const userOnOpenEnd = dropdownOptions.onOpenEnd;\n            const userOnCloseEnd = dropdownOptions.onCloseEnd;\n            // Add callback for centering selected option when dropdown content is scrollable\n            dropdownOptions.onOpenEnd = (el) => {\n                const selectedOption = this.dropdownOptions.querySelector('.selected');\n                if (selectedOption) {\n                    // Focus selected option in dropdown\n                    global_1.M.keyDown = true;\n                    this.dropdown.focusedIndex = [...selectedOption.parentNode.children].indexOf(selectedOption);\n                    this.dropdown._focusFocusedItem();\n                    global_1.M.keyDown = false;\n                    // Handle scrolling to selected option\n                    if (this.dropdown.isScrollable) {\n                        let scrollOffset = selectedOption.getBoundingClientRect().top -\n                            this.dropdownOptions.getBoundingClientRect().top; // scroll to selected option\n                        scrollOffset -= this.dropdownOptions.clientHeight / 2; // center in dropdown\n                        this.dropdownOptions.scrollTop = scrollOffset;\n                    }\n                }\n                this.input.ariaExpanded = 'true';\n                // Handle user declared onOpenEnd if needed\n                if (userOnOpenEnd && typeof userOnOpenEnd === 'function')\n                    userOnOpenEnd.call(this.dropdown, this.el);\n            };\n            // Add callback for reseting \"expanded\" state\n            dropdownOptions.onCloseEnd = (el) => {\n                this.input.ariaExpanded = 'false';\n                // Handle user declared onOpenEnd if needed\n                if (userOnCloseEnd && typeof userOnCloseEnd === 'function')\n                    userOnCloseEnd.call(this.dropdown, this.el);\n            };\n            // Prevent dropdown from closing too early\n            dropdownOptions.closeOnClick = false;\n            this.dropdown = global_1.M.Dropdown.init(this.input, dropdownOptions);\n        }\n        // Add initial selections\n        this._setSelectedStates();\n        // ! Workaround for Label: move label up again\n        if (this.labelEl)\n            this.input.after(this.labelEl);\n    }\n    _addOptionToValues(realOption, virtualOption) {\n        this._values.push({ el: realOption, optionEl: virtualOption });\n    }\n    _removeDropdown() {\n        this.wrapper.querySelector('.caret').remove();\n        this.input.remove();\n        this.dropdownOptions.remove();\n        this.wrapper.before(this.el);\n        this.wrapper.remove();\n    }\n    _createAndAppendOptionWithIcon(realOption, type) {\n        var _a;\n        const li = document.createElement('li');\n        li.setAttribute('role', 'option');\n        if (realOption.disabled) {\n            li.classList.add('disabled');\n            li.ariaDisabled = 'true';\n        }\n        if (type === 'optgroup-option')\n            li.classList.add(type);\n        // Text / Checkbox\n        const span = document.createElement('span');\n        if (this.isMultiple)\n            span.innerHTML = `<label><input type=\"checkbox\"${realOption.disabled ? ' disabled=\"disabled\"' : ''}><span>${realOption.innerHTML}</span></label>`;\n        else\n            span.innerHTML = realOption.innerHTML;\n        li.appendChild(span);\n        // add Icon\n        const iconUrl = realOption.getAttribute('data-icon');\n        const classes = (_a = realOption.getAttribute('class')) === null || _a === void 0 ? void 0 : _a.split();\n        if (iconUrl) {\n            const img = document.createElement('img');\n            if (classes)\n                img.classList.add(classes);\n            img.src = iconUrl;\n            img.ariaHidden = 'true';\n            li.prepend(img);\n        }\n        // Check for multiple type\n        this.dropdownOptions.append(li);\n        return li;\n    }\n    _selectValue(value) {\n        value.el.selected = true;\n        value.optionEl.classList.add('selected');\n        value.optionEl.ariaSelected = 'true'; // setAttribute(\"aria-selected\", true);\n        const checkbox = value.optionEl.querySelector('input[type=\"checkbox\"]');\n        if (checkbox)\n            checkbox.checked = true;\n    }\n    _deselectValue(value) {\n        value.el.selected = false;\n        value.optionEl.classList.remove('selected');\n        value.optionEl.ariaSelected = 'false'; //setAttribute(\"aria-selected\", false);\n        const checkbox = value.optionEl.querySelector('input[type=\"checkbox\"]');\n        if (checkbox)\n            checkbox.checked = false;\n    }\n    _deselectAll() {\n        this._values.forEach(value => this._deselectValue(value));\n    }\n    _isValueSelected(value) {\n        const realValues = this.getSelectedValues();\n        return realValues.some((realValue) => realValue === value.el.value);\n    }\n    _toggleEntryFromArray(value) {\n        if (this._isValueSelected(value))\n            this._deselectValue(value);\n        else\n            this._selectValue(value);\n    }\n    _getSelectedOptions() {\n        // remove null, false, ... values\n        return Array.prototype.filter.call(this.el.selectedOptions, (realOption) => realOption);\n    }\n    _setValueToInput() {\n        const realOptions = this._getSelectedOptions();\n        const values = this._values.filter((value) => realOptions.indexOf(value.el) >= 0);\n        const texts = values.map((value) => value.optionEl.querySelector('span').innerText.trim());\n        // Set input-text to first Option with empty value which indicates a description like \"choose your option\"\n        if (texts.length === 0) {\n            const firstDisabledOption = this.el.querySelector('option:disabled');\n            if (firstDisabledOption && firstDisabledOption.value === '') {\n                this.input.value = firstDisabledOption.innerText;\n                return;\n            }\n        }\n        this.input.value = texts.join(', ');\n    }\n    _setSelectedStates() {\n        this._values.forEach((value) => {\n            const optionIsSelected = value.el.selected;\n            const cb = value.optionEl.querySelector('input[type=\"checkbox\"]');\n            if (cb)\n                cb.checked = optionIsSelected;\n            if (optionIsSelected) {\n                this._activateOption(this.dropdownOptions, value.optionEl);\n            }\n            else {\n                value.optionEl.classList.remove('selected');\n                value.optionEl.ariaSelected = 'false'; // attr(\"aria-selected\", 'false');\n            }\n        });\n    }\n    _activateOption(ul, li) {\n        if (!li)\n            return;\n        if (!this.isMultiple)\n            ul.querySelectorAll('li.selected').forEach(li => li.classList.remove('selected'));\n        li.classList.add('selected');\n        li.ariaSelected = 'true';\n    }\n    getSelectedValues() {\n        return this._getSelectedOptions().map((realOption) => realOption.value);\n    }\n}\nexports.FormSelect = FormSelect;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsQ0FBQztJQUMxRSxDQUFDO0NBQ0Y7QUFqYkQsZ0NBaWJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTS8uL3NyYy9zZWxlY3QudHM/NWFkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IERyb3Bkb3duIH0gZnJvbSBcIi4vZHJvcGRvd25cIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcblxubGV0IF9kZWZhdWx0cyA9IHtcbiAgY2xhc3NlczogJycsXG4gIGRyb3Bkb3duT3B0aW9uczoge31cbn07XG5cbnR5cGUgVmFsdWVTdHJ1Y3QgPSB7XG4gIGVsOiBhbnksXG4gIG9wdGlvbkVsOiBIVE1MT3B0aW9uRWxlbWVudCxcbn1cblxuICBleHBvcnQgY2xhc3MgRm9ybVNlbGVjdCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgZWw6IEhUTUxTZWxlY3RFbGVtZW50O1xuICAgIGlzTXVsdGlwbGU6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfdmFsdWVzOiBWYWx1ZVN0cnVjdFtdO1xuICAgIGxhYmVsRWw6IEhUTUxMYWJlbEVsZW1lbnQ7XG4gICAgLy9wcml2YXRlIF9sYWJlbEZvcjogYm9vbGVhbjtcbiAgICBkcm9wZG93bk9wdGlvbnM6IEhUTUxVTGlzdEVsZW1lbnQ7XG4gICAgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgZHJvcGRvd246IERyb3Bkb3duO1xuICAgIHdyYXBwZXI6IEhUTUxEaXZFbGVtZW50O1xuICAgIHNlbGVjdE9wdGlvbnM6IEhUTUxFbGVtZW50W107XG4gICAgcHJpdmF0ZSBfaGFuZGxlU2VsZWN0Q2hhbmdlQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVPcHRpb25DbGlja0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlSW5wdXRDbGlja0JvdW5kOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoRm9ybVNlbGVjdCwgZWwsIG9wdGlvbnMpO1xuICAgICAgaWYgKHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdicm93c2VyLWRlZmF1bHQnKSkgcmV0dXJuO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX0Zvcm1TZWxlY3QgPSB0aGlzO1xuICAgICAgdGhpcy5vcHRpb25zID0gey4uLkZvcm1TZWxlY3QuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuICAgICAgdGhpcy5pc011bHRpcGxlID0gdGhpcy5lbC5tdWx0aXBsZTtcbiAgICAgIHRoaXMuZWwudGFiSW5kZXggPSAtMTtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IFtdO1xuICAgICAgLy90aGlzLmxhYmVsRWwgPSBudWxsO1xuICAgICAgLy90aGlzLl9sYWJlbEZvciA9IGZhbHNlO1xuICAgICAgdGhpcy5fc2V0dXBEcm9wZG93bigpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX0Zvcm1TZWxlY3Q7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIC8vIFJldHVybnMgbGFiZWwgdG8gaXRzIG9yaWdpbmFsIG93bmVyXG4gICAgICAvL2lmICh0aGlzLl9sYWJlbEZvcikgdGhpcy5sYWJlbEVsLnNldEF0dHJpYnV0ZShcImZvclwiLCB0aGlzLmVsLmlkKTtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHRoaXMuX3JlbW92ZURyb3Bkb3duKCk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fRm9ybVNlbGVjdCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5faGFuZGxlU2VsZWN0Q2hhbmdlQm91bmQgPSB0aGlzLl9oYW5kbGVTZWxlY3RDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZU9wdGlvbkNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVPcHRpb25DbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRDbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMucXVlcnlTZWxlY3RvckFsbCgnbGk6bm90KC5vcHRncm91cCknKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9wdGlvbkNsaWNrQm91bmQpO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiIFwiIHx8IGUua2V5ID09PSBcIkVudGVyXCIpIHRoaXMuX2hhbmRsZU9wdGlvbkNsaWNrQm91bmQoZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZVNlbGVjdENoYW5nZUJvdW5kKTtcbiAgICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQpO1xuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMucXVlcnlTZWxlY3RvckFsbCgnbGk6bm90KC5vcHRncm91cCknKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9wdGlvbkNsaWNrQm91bmQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZVNlbGVjdENoYW5nZUJvdW5kKTtcbiAgICAgIHRoaXMuaW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQpO1xuICAgIH1cblxuICAgIF9oYW5kbGVTZWxlY3RDaGFuZ2UoZSkge1xuICAgICAgdGhpcy5fc2V0VmFsdWVUb0lucHV0KCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZU9wdGlvbkNsaWNrKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHZpcnR1YWxPcHRpb24gPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpO1xuICAgICAgdGhpcy5fc2VsZWN0T3B0aW9uRWxlbWVudCh2aXJ0dWFsT3B0aW9uKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgX2FycmF5c0VxdWFsKGEsIGIpIHtcbiAgICAgIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfc2VsZWN0T3B0aW9uRWxlbWVudCh2aXJ0dWFsT3B0aW9uOiBIVE1MRWxlbWVudCkge1xuICAgICAgaWYgKCF2aXJ0dWFsT3B0aW9uLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSAmJiAhdmlydHVhbE9wdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ29wdGdyb3VwJykpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl92YWx1ZXMuZmluZCgodmFsdWUpID0+IHZhbHVlLm9wdGlvbkVsID09PSB2aXJ0dWFsT3B0aW9uKTtcbiAgICAgICAgY29uc3QgcHJldmlvdXNTZWxlY3RlZFZhbHVlcyA9IHRoaXMuZ2V0U2VsZWN0ZWRWYWx1ZXMoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsZSkge1xuICAgICAgICAgIC8vIE11bHRpLVNlbGVjdFxuICAgICAgICAgIHRoaXMuX3RvZ2dsZUVudHJ5RnJvbUFycmF5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBTaW5nbGUtU2VsZWN0XG4gICAgICAgICAgdGhpcy5fZGVzZWxlY3RBbGwoKTtcbiAgICAgICAgICB0aGlzLl9zZWxlY3RWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVmcmVzaCBJbnB1dC1UZXh0XG4gICAgICAgIHRoaXMuX3NldFZhbHVlVG9JbnB1dCgpO1xuICAgICAgICAvLyBUcmlnZ2VyIENoYW5nZS1FdmVudCBvbmx5IHdoZW4gZGF0YSBpcyBkaWZmZXJlbnRcbiAgICAgICAgY29uc3QgYWN0dWFsU2VsZWN0ZWRWYWx1ZXMgPSB0aGlzLmdldFNlbGVjdGVkVmFsdWVzKCk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbkhhc0NoYW5nZWQgPSAhdGhpcy5fYXJyYXlzRXF1YWwoXG4gICAgICAgICAgcHJldmlvdXNTZWxlY3RlZFZhbHVlcyxcbiAgICAgICAgICBhY3R1YWxTZWxlY3RlZFZhbHVlc1xuICAgICAgICApO1xuICAgICAgICBpZiAoc2VsZWN0aW9uSGFzQ2hhbmdlZCkgdGhpcy5lbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpOyAvLyB0cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5pc011bHRpcGxlKSB0aGlzLmRyb3Bkb3duLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUlucHV0Q2xpY2soKSB7XG4gICAgICBpZiAodGhpcy5kcm9wZG93biAmJiB0aGlzLmRyb3Bkb3duLmlzT3BlbikgeyAgXG4gICAgICAgIHRoaXMuX3NldFZhbHVlVG9JbnB1dCgpO1xuICAgICAgICB0aGlzLl9zZXRTZWxlY3RlZFN0YXRlcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9zZXR1cERyb3Bkb3duKCkge1xuICAgICAgLy8gR2V0IExhYmVsXG4gICAgICB0aGlzLmxhYmVsRWwgPSB0aGlzLmVsLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWwnKTtcblxuICAgICAgLy8gQ3JlYXRlIFdyYXBwZXJcbiAgICAgIHRoaXMud3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdC13cmFwcGVyJywgJ2lucHV0LWZpZWxkJyk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmNsYXNzZXMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5zcGxpdCgnICcpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWwuYmVmb3JlKHRoaXMud3JhcHBlcik7XG5cbiAgICAgIC8vIE1vdmUgYWN0dWFsIHNlbGVjdCBlbGVtZW50IGludG8gb3ZlcmZsb3cgaGlkZGVuIHdyYXBwZXJcbiAgICAgIGNvbnN0IGhpZGVTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGhpZGVTZWxlY3QuY2xhc3NMaXN0LmFkZCgnaGlkZS1zZWxlY3QnKTtcbiAgICAgIHRoaXMud3JhcHBlci5hcHBlbmQoaGlkZVNlbGVjdCk7XG4gICAgICBoaWRlU2VsZWN0LmFwcGVuZENoaWxkKHRoaXMuZWwpO1xuXG4gICAgICBpZiAodGhpcy5lbC5kaXNhYmxlZCkgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG5cbiAgICAgIHRoaXMuc2VsZWN0T3B0aW9ucyA9IDxIVE1MRWxlbWVudFtdPkFycmF5LmZyb20odGhpcy5lbC5jaGlsZHJlbikuZmlsdGVyKGVsID0+IFsnT1BUSU9OJywnT1BUR1JPVVAnXS5pbmNsdWRlcyhlbC50YWdOYW1lKSk7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBkcm9wZG93blxuICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuaWQgPSBgc2VsZWN0LW9wdGlvbnMtJHtNLmd1aWQoKX1gO1xuICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuY2xhc3NMaXN0LmFkZCgnZHJvcGRvd24tY29udGVudCcsICdzZWxlY3QtZHJvcGRvd24nKTtcbiAgICAgIHRoaXMuZHJvcGRvd25PcHRpb25zLnNldEF0dHJpYnV0ZSgncm9sZScsICdsaXN0Ym94Jyk7XG4gICAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5hcmlhTXVsdGlTZWxlY3RhYmxlID0gdGhpcy5pc011bHRpcGxlLnRvU3RyaW5nKCk7XG4gICAgICBpZiAodGhpcy5pc011bHRpcGxlKSB0aGlzLmRyb3Bkb3duT3B0aW9ucy5jbGFzc0xpc3QuYWRkKCdtdWx0aXBsZS1zZWxlY3QtZHJvcGRvd24nKTtcblxuICAgICAgLy8gQ3JlYXRlIGRyb3Bkb3duIHN0cnVjdHVyZVxuICAgICAgaWYgKHRoaXMuc2VsZWN0T3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0T3B0aW9ucy5mb3JFYWNoKChyZWFsT3B0aW9uKSA9PiB7XG4gICAgICAgICAgaWYgKHJlYWxPcHRpb24udGFnTmFtZSA9PT0gJ09QVElPTicpIHtcbiAgICAgICAgICAgIC8vIE9wdGlvblxuICAgICAgICAgICAgY29uc3QgdmlydHVhbE9wdGlvbiA9IHRoaXMuX2NyZWF0ZUFuZEFwcGVuZE9wdGlvbldpdGhJY29uKHJlYWxPcHRpb24sIHRoaXMuaXNNdWx0aXBsZSA/ICdtdWx0aXBsZScgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgdGhpcy5fYWRkT3B0aW9uVG9WYWx1ZXMocmVhbE9wdGlvbiwgdmlydHVhbE9wdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKHJlYWxPcHRpb24udGFnTmFtZSA9PT0gJ09QVEdST1VQJykge1xuICAgICAgICAgICAgLy8gT3B0Z3JvdXAgICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwSWQgPSBcIm9wdC1ncm91cC1cIitNLmd1aWQoKTsgICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwUGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICAgIGdyb3VwUGFyZW50LmNsYXNzTGlzdC5hZGQoJ29wdGdyb3VwJyk7XG4gICAgICAgICAgICBncm91cFBhcmVudC50YWJJbmRleCA9IC0xO1xuICAgICAgICAgICAgZ3JvdXBQYXJlbnQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2dyb3VwJyk7XG4gICAgICAgICAgICBncm91cFBhcmVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWxsZWRieScsIGdyb3VwSWQpO1xuICAgICAgICAgICAgZ3JvdXBQYXJlbnQuaW5uZXJIVE1MID0gYDxzcGFuIGlkPVwiJHtncm91cElkfVwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj4ke3JlYWxPcHRpb24uZ2V0QXR0cmlidXRlKCdsYWJlbCcpfTwvc3Bhbj5gO1xuICAgICAgICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuYXBwZW5kKGdyb3VwUGFyZW50KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZ3JvdXBDaGlsZHJlbiA9IFtdO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0T3B0aW9ucyA9IDxIVE1MT3B0aW9uRWxlbWVudFtdPkFycmF5LmZyb20ocmVhbE9wdGlvbi5jaGlsZHJlbikuZmlsdGVyKGVsID0+IGVsLnRhZ05hbWUgPT09ICdPUFRJT04nKTtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMuZm9yRWFjaChyZWFsT3B0aW9uID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgdmlydHVhbE9wdGlvbiA9IHRoaXMuX2NyZWF0ZUFuZEFwcGVuZE9wdGlvbldpdGhJY29uKHJlYWxPcHRpb24sICdvcHRncm91cC1vcHRpb24nKTtcbiAgICAgICAgICAgICAgY29uc3QgY2hpbGRJZCA9IFwib3B0LWNoaWxkLVwiK00uZ3VpZCgpO1xuICAgICAgICAgICAgICB2aXJ0dWFsT3B0aW9uLmlkID0gY2hpbGRJZDtcbiAgICAgICAgICAgICAgZ3JvdXBDaGlsZHJlbi5wdXNoKGNoaWxkSWQpO1xuICAgICAgICAgICAgICB0aGlzLl9hZGRPcHRpb25Ub1ZhbHVlcyhyZWFsT3B0aW9uLCB2aXJ0dWFsT3B0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ3JvdXBQYXJlbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1vd25zXCIsIGdyb3VwQ2hpbGRyZW4uam9pbihcIiBcIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLndyYXBwZXIuYXBwZW5kKHRoaXMuZHJvcGRvd25PcHRpb25zKTtcblxuICAgICAgLy8gQWRkIGlucHV0IGRyb3Bkb3duXG4gICAgICB0aGlzLmlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgIHRoaXMuaW5wdXQuaWQgPSBcIm1fc2VsZWN0LWlucHV0LVwiICsgTS5ndWlkKCk7XG4gICAgICB0aGlzLmlucHV0LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdC1kcm9wZG93bicsICdkcm9wZG93bi10cmlnZ2VyJyk7XG4gICAgICB0aGlzLmlucHV0LnR5cGUgPSAndGV4dCc7XG4gICAgICB0aGlzLmlucHV0LnJlYWRPbmx5ID0gdHJ1ZTtcbiAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcsIHRoaXMuZHJvcGRvd25PcHRpb25zLmlkKTtcbiAgICAgIHRoaXMuaW5wdXQuYXJpYVJlYWRPbmx5ID0gJ3RydWUnO1xuICAgICAgdGhpcy5pbnB1dC5hcmlhUmVxdWlyZWQgPSB0aGlzLmVsLmhhc0F0dHJpYnV0ZShcInJlcXVpcmVkXCIpLnRvU3RyaW5nKCk7IC8vc2V0QXR0cmlidXRlKFwiYXJpYS1yZXF1aXJlZFwiLCB0aGlzLmVsLmhhc0F0dHJpYnV0ZShcInJlcXVpcmVkXCIpKTtcbiAgICAgIGlmICh0aGlzLmVsLmRpc2FibGVkKSB0aGlzLmlucHV0LmRpc2FibGVkID0gdHJ1ZTsgLy8gJ3RydWUnKTtcblxuICAgICAgLy8gUGxhY2UgTGFiZWwgYWZ0ZXIgaW5wdXRcbiAgICAgIGlmICh0aGlzLmxhYmVsRWwpIHtcbiAgICAgICAgdGhpcy5pbnB1dC5hZnRlcih0aGlzLmxhYmVsRWwpOyAgICAgIFxuICAgICAgICB0aGlzLmxhYmVsRWwuc2V0QXR0cmlidXRlKCdmb3InLCB0aGlzLmlucHV0LmlkKTtcbiAgICAgICAgdGhpcy5sYWJlbEVsLmlkID0gXCJtX3NlbGVjdC1sYWJlbC1cIiArIE0uZ3VpZCgpOyAgICAgIFxuICAgICAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIiwgdGhpcy5sYWJlbEVsLmlkKTtcbiAgICAgIH1cblxuICAgICAgLy8gTWFrZXMgbmV3IGVsZW1lbnQgdG8gYXNzdW1lIEhUTUwncyBzZWxlY3QgbGFiZWwgYW5kIGFyaWEtYXR0cmlidXRlcywgaWYgZXhpc3RzXG4gICAgICAvKlxuICAgICAgaWYgKHRoaXMuZWwuaGFzQXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIpKXtcbiAgICAgICAgY29uc29sZS5sb2coMSk7XG4gICAgICAgIHRoaXMubGFiZWxFbCA9IDxIVE1MTGFiZWxFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWwuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIpKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMuZWwuaWQgIT0gXCJcIil7XG4gICAgICAgIGNvbnNvbGUubG9nKDIpO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgdGhpcy5lbC5pZCk7XG4gICAgICAgIGlmIChsYWJlbCl7XG4gICAgICAgICAgdGhpcy5sYWJlbEVsID0gbGFiZWw7XG4gICAgICAgICAgdGhpcy5sYWJlbEVsLnJlbW92ZUF0dHJpYnV0ZShcImZvclwiKTtcbiAgICAgICAgICB0aGlzLl9sYWJlbEZvciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICovXG4gICAgICAvLyBUcmllcyB0byBmaW5kIGEgdmFsaWQgbGFiZWwgaW4gcGFyZW50IGVsZW1lbnRcbiAgICAgIC8vIGlmICghdGhpcy5sYWJlbEVsKSB7XG4gICAgICAvLyAgIHRoaXMubGFiZWxFbCA9IHRoaXMuZWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpO1xuICAgICAgLy8gfVxuICAgICAgLy8gaWYgKHRoaXMubGFiZWxFbCAmJiB0aGlzLmxhYmVsRWwuaWQgPT0gXCJcIikge1xuICAgICAgLy8gICB0aGlzLmxhYmVsRWwuaWQgPSBcIm1fc2VsZWN0LWxhYmVsLVwiICsgTS5ndWlkKCk7XG4gICAgICAvLyB9XG4gICAgICAvLyBpZiAodGhpcy5sYWJlbEVsKSB7XG4gICAgICAvLyAgIHRoaXMubGFiZWxFbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgdGhpcy5pbnB1dC5pZCk7XG4gICAgICAvLyAgIHRoaXMuZHJvcGRvd25PcHRpb25zLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiLCB0aGlzLmxhYmVsRWwuaWQpO1xuICAgICAgLy8gfVxuICAgICAgLy8gZWxzZVxuICAgICAgLy8gICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5hcmlhTGFiZWwgPSAnJztcblxuICAgICAgY29uc3QgYXR0cnMgPSB0aGlzLmVsLmF0dHJpYnV0ZXM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgKytpKXtcbiAgICAgICAgY29uc3QgYXR0ciA9IGF0dHJzW2ldO1xuICAgICAgICBpZiAoYXR0ci5uYW1lLnN0YXJ0c1dpdGgoXCJhcmlhLVwiKSlcbiAgICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZShhdHRyLm5hbWUsIGF0dHIudmFsdWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGRzIGFyaWEtYXR0cmlidXRlcyB0byBpbnB1dCBlbGVtZW50XG4gICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgncm9sZScsICdjb21ib2JveCcpO1xuICAgICAgdGhpcy5pbnB1dC5hcmlhRXhwYW5kZWQgPSAnZmFsc2UnO1xuICAgICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoXCJhcmlhLW93bnNcIiwgdGhpcy5kcm9wZG93bk9wdGlvbnMuaWQpO1xuICAgICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNvbnRyb2xzXCIsIHRoaXMuZHJvcGRvd25PcHRpb25zLmlkKTtcbiAgICAgIHRoaXMuaW5wdXQucGxhY2Vob2xkZXIgPSBcIiBcIjtcblxuICAgICAgdGhpcy53cmFwcGVyLnByZXBlbmQodGhpcy5pbnB1dCk7XG4gICAgICB0aGlzLl9zZXRWYWx1ZVRvSW5wdXQoKTtcblxuICAgICAgLy8gQWRkIGNhcmV0XG4gICAgICBjb25zdCBkcm9wZG93bkljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpOyAvL2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N2ZycpXG4gICAgICBkcm9wZG93bkljb24uY2xhc3NMaXN0LmFkZCgnY2FyZXQnKTtcbiAgICAgIGRyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsICcyNCcpO1xuICAgICAgZHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnMjQnKTtcbiAgICAgIGRyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDI0IDI0Jyk7XG4gICAgICBkcm9wZG93bkljb24uYXJpYUhpZGRlbiA9ICd0cnVlJztcbiAgICAgIGRyb3Bkb3duSWNvbi5pbm5lckhUTUwgPSBgPHBhdGggZD1cIk03IDEwbDUgNSA1LTV6XCIvPjxwYXRoIGQ9XCJNMCAwaDI0djI0SDB6XCIgZmlsbD1cIm5vbmVcIi8+YDtcbiAgICAgIHRoaXMud3JhcHBlci5wcmVwZW5kKGRyb3Bkb3duSWNvbik7XG5cbiAgICAgIC8vIEluaXRpYWxpemUgZHJvcGRvd25cbiAgICAgIGlmICghdGhpcy5lbC5kaXNhYmxlZCkge1xuICAgICAgICBjb25zdCBkcm9wZG93bk9wdGlvbnMgPSB7Li4udGhpcy5vcHRpb25zLmRyb3Bkb3duT3B0aW9uc307IC8vIFRPRE86XG4gICAgICAgIGRyb3Bkb3duT3B0aW9ucy5jb3ZlclRyaWdnZXIgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgdXNlck9uT3BlbkVuZCA9IGRyb3Bkb3duT3B0aW9ucy5vbk9wZW5FbmQ7XG4gICAgICAgIGNvbnN0IHVzZXJPbkNsb3NlRW5kID0gZHJvcGRvd25PcHRpb25zLm9uQ2xvc2VFbmQ7XG4gICAgICAgIC8vIEFkZCBjYWxsYmFjayBmb3IgY2VudGVyaW5nIHNlbGVjdGVkIG9wdGlvbiB3aGVuIGRyb3Bkb3duIGNvbnRlbnQgaXMgc2Nyb2xsYWJsZVxuICAgICAgICBkcm9wZG93bk9wdGlvbnMub25PcGVuRW5kID0gKGVsKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSB0aGlzLmRyb3Bkb3duT3B0aW9ucy5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQnKTtcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb24pIHtcbiAgICAgICAgICAgIC8vIEZvY3VzIHNlbGVjdGVkIG9wdGlvbiBpbiBkcm9wZG93blxuICAgICAgICAgICAgTS5rZXlEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZHJvcGRvd24uZm9jdXNlZEluZGV4ID0gWy4uLnNlbGVjdGVkT3B0aW9uLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2Yoc2VsZWN0ZWRPcHRpb24pO1xuICAgICAgICAgICAgdGhpcy5kcm9wZG93bi5fZm9jdXNGb2N1c2VkSXRlbSgpO1xuICAgICAgICAgICAgTS5rZXlEb3duID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBIYW5kbGUgc2Nyb2xsaW5nIHRvIHNlbGVjdGVkIG9wdGlvblxuICAgICAgICAgICAgaWYgKHRoaXMuZHJvcGRvd24uaXNTY3JvbGxhYmxlKSB7XG4gICAgICAgICAgICAgIGxldCBzY3JvbGxPZmZzZXQgPVxuICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtXG4gICAgICAgICAgICAgICAgKHRoaXMuZHJvcGRvd25PcHRpb25zIGFzIEhUTUxFbGVtZW50KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7IC8vIHNjcm9sbCB0byBzZWxlY3RlZCBvcHRpb25cbiAgICAgICAgICAgICAgc2Nyb2xsT2Zmc2V0IC09IHRoaXMuZHJvcGRvd25PcHRpb25zLmNsaWVudEhlaWdodCAvIDI7IC8vIGNlbnRlciBpbiBkcm9wZG93blxuICAgICAgICAgICAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5zY3JvbGxUb3AgPSBzY3JvbGxPZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaW5wdXQuYXJpYUV4cGFuZGVkID0gJ3RydWUnO1xuICAgICAgICAgIC8vIEhhbmRsZSB1c2VyIGRlY2xhcmVkIG9uT3BlbkVuZCBpZiBuZWVkZWRcbiAgICAgICAgICBpZiAodXNlck9uT3BlbkVuZCAmJiB0eXBlb2YgdXNlck9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHVzZXJPbk9wZW5FbmQuY2FsbCh0aGlzLmRyb3Bkb3duLCB0aGlzLmVsKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQWRkIGNhbGxiYWNrIGZvciByZXNldGluZyBcImV4cGFuZGVkXCIgc3RhdGVcbiAgICAgICAgZHJvcGRvd25PcHRpb25zLm9uQ2xvc2VFbmQgPSAoZWwpID0+IHtcbiAgICAgICAgICB0aGlzLmlucHV0LmFyaWFFeHBhbmRlZCA9ICdmYWxzZSc7XG4gICAgICAgICAgLy8gSGFuZGxlIHVzZXIgZGVjbGFyZWQgb25PcGVuRW5kIGlmIG5lZWRlZFxuICAgICAgICAgIGlmICh1c2VyT25DbG9zZUVuZCAmJiB0eXBlb2YgdXNlck9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICB1c2VyT25DbG9zZUVuZC5jYWxsKHRoaXMuZHJvcGRvd24sIHRoaXMuZWwpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBQcmV2ZW50IGRyb3Bkb3duIGZyb20gY2xvc2luZyB0b28gZWFybHlcbiAgICAgICAgZHJvcGRvd25PcHRpb25zLmNsb3NlT25DbGljayA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRyb3Bkb3duID0gTS5Ecm9wZG93bi5pbml0KHRoaXMuaW5wdXQsIGRyb3Bkb3duT3B0aW9ucyk7XG4gICAgICB9XG4gICAgICAvLyBBZGQgaW5pdGlhbCBzZWxlY3Rpb25zXG4gICAgICB0aGlzLl9zZXRTZWxlY3RlZFN0YXRlcygpO1xuXG4gICAgICAvLyAhIFdvcmthcm91bmQgZm9yIExhYmVsOiBtb3ZlIGxhYmVsIHVwIGFnYWluXG4gICAgICBpZiAodGhpcy5sYWJlbEVsKSB0aGlzLmlucHV0LmFmdGVyKHRoaXMubGFiZWxFbCk7XG4gICAgfVxuXG4gICAgX2FkZE9wdGlvblRvVmFsdWVzKHJlYWxPcHRpb24sIHZpcnR1YWxPcHRpb24pIHtcbiAgICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHsgZWw6IHJlYWxPcHRpb24sIG9wdGlvbkVsOiB2aXJ0dWFsT3B0aW9uIH0pO1xuICAgIH1cblxuICAgIF9yZW1vdmVEcm9wZG93bigpIHtcbiAgICAgIHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuY2FyZXQnKS5yZW1vdmUoKTtcbiAgICAgIHRoaXMuaW5wdXQucmVtb3ZlKCk7XG4gICAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5yZW1vdmUoKTtcbiAgICAgIHRoaXMud3JhcHBlci5iZWZvcmUodGhpcy5lbCk7XG4gICAgICB0aGlzLndyYXBwZXIucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUFuZEFwcGVuZE9wdGlvbldpdGhJY29uKHJlYWxPcHRpb24sIHR5cGU6IHN0cmluZykge1xuICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgbGkuc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgICAgaWYgKHJlYWxPcHRpb24uZGlzYWJsZWQpe1xuICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgICBsaS5hcmlhRGlzYWJsZWQgPSAndHJ1ZSc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZSA9PT0gJ29wdGdyb3VwLW9wdGlvbicpIGxpLmNsYXNzTGlzdC5hZGQodHlwZSk7XG4gICAgICAvLyBUZXh0IC8gQ2hlY2tib3hcbiAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBpZiAodGhpcy5pc011bHRpcGxlKVxuICAgICAgICBzcGFuLmlubmVySFRNTCA9IGA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiJHtcbiAgICAgICAgICByZWFsT3B0aW9uLmRpc2FibGVkID8gJyBkaXNhYmxlZD1cImRpc2FibGVkXCInIDogJydcbiAgICAgICAgfT48c3Bhbj4ke3JlYWxPcHRpb24uaW5uZXJIVE1MfTwvc3Bhbj48L2xhYmVsPmA7XG4gICAgICBlbHNlXG4gICAgICAgIHNwYW4uaW5uZXJIVE1MID0gcmVhbE9wdGlvbi5pbm5lckhUTUw7XG4gICAgICBsaS5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgIC8vIGFkZCBJY29uXG4gICAgICBjb25zdCBpY29uVXJsID0gcmVhbE9wdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWNvbicpO1xuICAgICAgY29uc3QgY2xhc3NlcyA9IHJlYWxPcHRpb24uZ2V0QXR0cmlidXRlKCdjbGFzcycpPy5zcGxpdCgpO1xuICAgICAgaWYgKGljb25VcmwpIHtcbiAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIGlmIChjbGFzc2VzKSBpbWcuY2xhc3NMaXN0LmFkZChjbGFzc2VzKTtcbiAgICAgICAgaW1nLnNyYyA9IGljb25Vcmw7XG4gICAgICAgIGltZy5hcmlhSGlkZGVuID0gJ3RydWUnO1xuICAgICAgICBsaS5wcmVwZW5kKGltZyk7XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBmb3IgbXVsdGlwbGUgdHlwZVxuICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuYXBwZW5kKGxpKTtcbiAgICAgIHJldHVybiBsaTtcbiAgICB9XG5cbiAgICBfc2VsZWN0VmFsdWUodmFsdWUpIHtcbiAgICAgIHZhbHVlLmVsLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgIHZhbHVlLm9wdGlvbkVsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICB2YWx1ZS5vcHRpb25FbC5hcmlhU2VsZWN0ZWQgPSAndHJ1ZSc7IC8vIHNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgdHJ1ZSk7XG4gICAgICBjb25zdCBjaGVja2JveCA9IHZhbHVlLm9wdGlvbkVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuICAgICAgaWYgKGNoZWNrYm94KSBjaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBfZGVzZWxlY3RWYWx1ZSh2YWx1ZSkge1xuICAgICAgdmFsdWUuZWwuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIHZhbHVlLm9wdGlvbkVsLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICB2YWx1ZS5vcHRpb25FbC5hcmlhU2VsZWN0ZWQgPSAnZmFsc2UnOyAvL3NldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgZmFsc2UpO1xuICAgICAgY29uc3QgY2hlY2tib3ggPSB2YWx1ZS5vcHRpb25FbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICAgIGlmIChjaGVja2JveCkgY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9kZXNlbGVjdEFsbCgpIHtcbiAgICAgIHRoaXMuX3ZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHRoaXMuX2Rlc2VsZWN0VmFsdWUodmFsdWUpKTtcbiAgICB9XG5cbiAgICBfaXNWYWx1ZVNlbGVjdGVkKHZhbHVlKSB7XG4gICAgICBjb25zdCByZWFsVmFsdWVzID0gdGhpcy5nZXRTZWxlY3RlZFZhbHVlcygpO1xuICAgICAgcmV0dXJuIHJlYWxWYWx1ZXMuc29tZSgocmVhbFZhbHVlKSA9PiByZWFsVmFsdWUgPT09IHZhbHVlLmVsLnZhbHVlKTtcbiAgICB9XG5cbiAgICBfdG9nZ2xlRW50cnlGcm9tQXJyYXkodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLl9pc1ZhbHVlU2VsZWN0ZWQodmFsdWUpKVxuICAgICAgICB0aGlzLl9kZXNlbGVjdFZhbHVlKHZhbHVlKTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhpcy5fc2VsZWN0VmFsdWUodmFsdWUpO1xuICAgIH1cblxuICAgIF9nZXRTZWxlY3RlZE9wdGlvbnMoKSB7XG4gICAgICAvLyByZW1vdmUgbnVsbCwgZmFsc2UsIC4uLiB2YWx1ZXNcbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwodGhpcy5lbC5zZWxlY3RlZE9wdGlvbnMsIChyZWFsT3B0aW9uKSA9PiByZWFsT3B0aW9uKTtcbiAgICB9XG5cbiAgICBfc2V0VmFsdWVUb0lucHV0KCkge1xuICAgICAgY29uc3QgcmVhbE9wdGlvbnMgPSB0aGlzLl9nZXRTZWxlY3RlZE9wdGlvbnMoKTtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMuX3ZhbHVlcy5maWx0ZXIoKHZhbHVlKSA9PiByZWFsT3B0aW9ucy5pbmRleE9mKHZhbHVlLmVsKSA+PSAwKTtcbiAgICAgIGNvbnN0IHRleHRzID0gdmFsdWVzLm1hcCgodmFsdWUpID0+IHZhbHVlLm9wdGlvbkVsLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5pbm5lclRleHQudHJpbSgpKTtcbiAgICAgIC8vIFNldCBpbnB1dC10ZXh0IHRvIGZpcnN0IE9wdGlvbiB3aXRoIGVtcHR5IHZhbHVlIHdoaWNoIGluZGljYXRlcyBhIGRlc2NyaXB0aW9uIGxpa2UgXCJjaG9vc2UgeW91ciBvcHRpb25cIlxuICAgICAgaWYgKHRleHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBmaXJzdERpc2FibGVkT3B0aW9uID0gPEhUTUxPcHRpb25FbGVtZW50PnRoaXMuZWwucXVlcnlTZWxlY3Rvcignb3B0aW9uOmRpc2FibGVkJyk7XG4gICAgICAgIGlmIChmaXJzdERpc2FibGVkT3B0aW9uICYmIGZpcnN0RGlzYWJsZWRPcHRpb24udmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IGZpcnN0RGlzYWJsZWRPcHRpb24uaW5uZXJUZXh0O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IHRleHRzLmpvaW4oJywgJyk7XG4gICAgfVxuXG4gICAgX3NldFNlbGVjdGVkU3RhdGVzKCkge1xuICAgICAgdGhpcy5fdmFsdWVzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbklzU2VsZWN0ZWQgPSB2YWx1ZS5lbC5zZWxlY3RlZDtcbiAgICAgICAgY29uc3QgY2IgPSA8SFRNTElucHV0RWxlbWVudD52YWx1ZS5vcHRpb25FbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICAgICAgaWYgKGNiKSBjYi5jaGVja2VkID0gb3B0aW9uSXNTZWxlY3RlZDtcbiAgICAgICAgaWYgKG9wdGlvbklzU2VsZWN0ZWQpIHtcbiAgICAgICAgICB0aGlzLl9hY3RpdmF0ZU9wdGlvbih0aGlzLmRyb3Bkb3duT3B0aW9ucywgdmFsdWUub3B0aW9uRWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhbHVlLm9wdGlvbkVsLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgdmFsdWUub3B0aW9uRWwuYXJpYVNlbGVjdGVkID0gJ2ZhbHNlJzsgLy8gYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwgJ2ZhbHNlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9hY3RpdmF0ZU9wdGlvbih1bDogSFRNTEVsZW1lbnQsIGxpOiBIVE1MRWxlbWVudCkge1xuICAgICAgaWYgKCFsaSkgcmV0dXJuO1xuICAgICAgaWYgKCF0aGlzLmlzTXVsdGlwbGUpIHVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpLnNlbGVjdGVkJykuZm9yRWFjaChsaSA9PiBsaS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTtcbiAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICBsaS5hcmlhU2VsZWN0ZWQgPSAndHJ1ZSc7XG4gICAgfVxuXG4gICAgZ2V0U2VsZWN0ZWRWYWx1ZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0U2VsZWN0ZWRPcHRpb25zKCkubWFwKChyZWFsT3B0aW9uKSA9PiByZWFsT3B0aW9uLnZhbHVlKTtcbiAgICB9XG4gIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/select.ts\n");

/***/ }),

/***/ "./src/sidenav.ts":
/*!************************!*\
  !*** ./src/sidenav.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Sidenav = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst _defaults = {\n    edge: 'left',\n    draggable: true,\n    dragTargetWidth: '10px',\n    inDuration: 250,\n    outDuration: 200,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    preventScrolling: true\n};\nclass Sidenav extends component_1.Component {\n    constructor(el, options) {\n        super(Sidenav, el, options);\n        this.el.M_Sidenav = this;\n        this.id = this.el.id;\n        this.options = Object.assign(Object.assign({}, Sidenav.defaults), options);\n        this.isOpen = false;\n        this.isFixed = this.el.classList.contains('sidenav-fixed');\n        this.isDragged = false;\n        // Window size variables for window resize checks\n        this.lastWindowWidth = window.innerWidth;\n        this.lastWindowHeight = window.innerHeight;\n        this._createOverlay();\n        this._createDragTarget();\n        this._setupEventHandlers();\n        this._setupClasses();\n        this._setupFixed();\n        Sidenav._sidenavs.push(this);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Sidenav;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._enableBodyScrolling();\n        this._overlay.parentNode.removeChild(this._overlay);\n        this.dragTarget.parentNode.removeChild(this.dragTarget);\n        this.el.M_Sidenav = undefined;\n        this.el.style.transform = '';\n        const index = Sidenav._sidenavs.indexOf(this);\n        if (index >= 0) {\n            Sidenav._sidenavs.splice(index, 1);\n        }\n    }\n    _createOverlay() {\n        this._overlay = document.createElement('div');\n        this._closeBound = this.close.bind(this);\n        this._overlay.classList.add('sidenav-overlay');\n        this._overlay.addEventListener('click', this._closeBound);\n        document.body.appendChild(this._overlay);\n    }\n    _setupEventHandlers() {\n        if (Sidenav._sidenavs.length === 0) {\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n        this._handleDragTargetDragBound = this._handleDragTargetDrag.bind(this);\n        this._handleDragTargetReleaseBound = this._handleDragTargetRelease.bind(this);\n        this._handleCloseDragBound = this._handleCloseDrag.bind(this);\n        this._handleCloseReleaseBound = this._handleCloseRelease.bind(this);\n        this._handleCloseTriggerClickBound = this._handleCloseTriggerClick.bind(this);\n        var passiveIfSupported = null;\n        this.dragTarget.addEventListener('touchmove', this._handleDragTargetDragBound, passiveIfSupported);\n        this.dragTarget.addEventListener('touchend', this._handleDragTargetReleaseBound);\n        this._overlay.addEventListener('touchmove', this._handleCloseDragBound, passiveIfSupported);\n        this._overlay.addEventListener('touchend', this._handleCloseReleaseBound);\n        this.el.addEventListener('touchmove', this._handleCloseDragBound, passiveIfSupported);\n        this.el.addEventListener('touchend', this._handleCloseReleaseBound);\n        this.el.addEventListener('click', this._handleCloseTriggerClickBound);\n        // Add resize for side nav fixed\n        if (this.isFixed) {\n            this._handleWindowResizeBound = this._handleWindowResize.bind(this);\n            window.addEventListener('resize', this._handleWindowResizeBound);\n        }\n    }\n    _removeEventHandlers() {\n        if (Sidenav._sidenavs.length === 1) {\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n        this.dragTarget.removeEventListener('touchmove', this._handleDragTargetDragBound);\n        this.dragTarget.removeEventListener('touchend', this._handleDragTargetReleaseBound);\n        this._overlay.removeEventListener('touchmove', this._handleCloseDragBound);\n        this._overlay.removeEventListener('touchend', this._handleCloseReleaseBound);\n        this.el.removeEventListener('touchmove', this._handleCloseDragBound);\n        this.el.removeEventListener('touchend', this._handleCloseReleaseBound);\n        this.el.removeEventListener('click', this._handleCloseTriggerClickBound);\n        // Remove resize for side nav fixed\n        if (this.isFixed) {\n            window.removeEventListener('resize', this._handleWindowResizeBound);\n        }\n    }\n    _handleTriggerClick(e) {\n        const trigger = e.target.closest('.sidenav-trigger');\n        if (e.target && trigger) {\n            const sidenavId = global_1.M.getIdFromTrigger(trigger);\n            const sidenavInstance = document.getElementById(sidenavId).M_Sidenav;\n            if (sidenavInstance) {\n                sidenavInstance.open(trigger);\n            }\n            e.preventDefault();\n        }\n    }\n    // Set variables needed at the beginning of drag and stop any current transition.\n    _startDrag(e) {\n        const clientX = e.targetTouches[0].clientX;\n        this.isDragged = true;\n        this._startingXpos = clientX;\n        this._xPos = this._startingXpos;\n        this._time = Date.now();\n        this._width = this.el.getBoundingClientRect().width;\n        this._overlay.style.display = 'block';\n        this._initialScrollTop = this.isOpen ? this.el.scrollTop : global_1.M.getDocumentScrollTop();\n        this._verticallyScrolling = false;\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this._overlay);\n    }\n    //Set variables needed at each drag move update tick\n    _dragMoveUpdate(e) {\n        const clientX = e.targetTouches[0].clientX;\n        const currentScrollTop = this.isOpen ? this.el.scrollTop : global_1.M.getDocumentScrollTop();\n        this.deltaX = Math.abs(this._xPos - clientX);\n        this._xPos = clientX;\n        this.velocityX = this.deltaX / (Date.now() - this._time);\n        this._time = Date.now();\n        if (this._initialScrollTop !== currentScrollTop) {\n            this._verticallyScrolling = true;\n        }\n    }\n    _handleDragTargetDrag(e) {\n        // Check if draggable\n        if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\n            return;\n        }\n        // If not being dragged, set initial drag start variables\n        if (!this.isDragged) {\n            this._startDrag(e);\n        }\n        // Run touchmove updates\n        this._dragMoveUpdate(e);\n        // Calculate raw deltaX\n        let totalDeltaX = this._xPos - this._startingXpos;\n        // dragDirection is the attempted user drag direction\n        const dragDirection = totalDeltaX > 0 ? 'right' : 'left';\n        // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\n        totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\n        if (this.options.edge === dragDirection) {\n            totalDeltaX = 0;\n        }\n        /**\n         * transformX is the drag displacement\n         * transformPrefix is the initial transform placement\n         * Invert values if Sidenav is right edge\n         */\n        let transformX = totalDeltaX;\n        let transformPrefix = 'translateX(-100%)';\n        if (this.options.edge === 'right') {\n            transformPrefix = 'translateX(100%)';\n            transformX = -transformX;\n        }\n        // Calculate open/close percentage of sidenav, with open = 1 and close = 0\n        this.percentOpen = Math.min(1, totalDeltaX / this._width);\n        // Set transform and opacity styles\n        this.el.style.transform = `${transformPrefix} translateX(${transformX}px)`;\n        this._overlay.style.opacity = this.percentOpen.toString();\n    }\n    _handleDragTargetRelease() {\n        if (this.isDragged) {\n            if (this.percentOpen > 0.2) {\n                this.open();\n            }\n            else {\n                this._animateOut();\n            }\n            this.isDragged = false;\n            this._verticallyScrolling = false;\n        }\n    }\n    _handleCloseDrag(e) {\n        if (this.isOpen) {\n            // Check if draggable\n            if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\n                return;\n            }\n            // If not being dragged, set initial drag start variables\n            if (!this.isDragged) {\n                this._startDrag(e);\n            }\n            // Run touchmove updates\n            this._dragMoveUpdate(e);\n            // Calculate raw deltaX\n            let totalDeltaX = this._xPos - this._startingXpos;\n            // dragDirection is the attempted user drag direction\n            let dragDirection = totalDeltaX > 0 ? 'right' : 'left';\n            // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\n            totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\n            if (this.options.edge !== dragDirection) {\n                totalDeltaX = 0;\n            }\n            let transformX = -totalDeltaX;\n            if (this.options.edge === 'right') {\n                transformX = -transformX;\n            }\n            // Calculate open/close percentage of sidenav, with open = 1 and close = 0\n            this.percentOpen = Math.min(1, 1 - totalDeltaX / this._width);\n            // Set transform and opacity styles\n            this.el.style.transform = `translateX(${transformX}px)`;\n            this._overlay.style.opacity = this.percentOpen.toString();\n        }\n    }\n    _handleCloseRelease() {\n        if (this.isOpen && this.isDragged) {\n            if (this.percentOpen > 0.8) {\n                this._animateIn();\n            }\n            else {\n                this.close();\n            }\n            this.isDragged = false;\n            this._verticallyScrolling = false;\n        }\n    }\n    // Handles closing of Sidenav when element with class .sidenav-close\n    _handleCloseTriggerClick(e) {\n        const closeTrigger = e.target.closest('.sidenav-close');\n        if (closeTrigger && !this._isCurrentlyFixed()) {\n            this.close();\n        }\n    }\n    _handleWindowResize() {\n        // Only handle horizontal resizes\n        if (this.lastWindowWidth !== window.innerWidth) {\n            if (window.innerWidth > 992) {\n                this.open();\n            }\n            else {\n                this.close();\n            }\n        }\n        this.lastWindowWidth = window.innerWidth;\n        this.lastWindowHeight = window.innerHeight;\n    }\n    _setupClasses() {\n        if (this.options.edge === 'right') {\n            this.el.classList.add('right-aligned');\n            this.dragTarget.classList.add('right-aligned');\n        }\n    }\n    _removeClasses() {\n        this.el.classList.remove('right-aligned');\n        this.dragTarget.classList.remove('right-aligned');\n    }\n    _setupFixed() {\n        if (this._isCurrentlyFixed())\n            this.open();\n    }\n    _isCurrentlyFixed() {\n        return this.isFixed && window.innerWidth > 992;\n    }\n    _createDragTarget() {\n        const dragTarget = document.createElement('div');\n        dragTarget.classList.add('drag-target');\n        dragTarget.style.width = this.options.dragTargetWidth;\n        document.body.appendChild(dragTarget);\n        this.dragTarget = dragTarget;\n    }\n    _preventBodyScrolling() {\n        document.body.style.overflow = 'hidden';\n    }\n    _enableBodyScrolling() {\n        document.body.style.overflow = '';\n    }\n    open() {\n        if (this.isOpen === true)\n            return;\n        this.isOpen = true;\n        // Run onOpenStart callback\n        if (typeof this.options.onOpenStart === 'function') {\n            this.options.onOpenStart.call(this, this.el);\n        }\n        // Handle fixed Sidenav\n        if (this._isCurrentlyFixed()) {\n            animejs_1.default.remove(this.el);\n            (0, animejs_1.default)({\n                targets: this.el,\n                translateX: 0,\n                duration: 0,\n                easing: 'easeOutQuad'\n            });\n            this._enableBodyScrolling();\n            this._overlay.style.display = 'none';\n        }\n        // Handle non-fixed Sidenav\n        else {\n            if (this.options.preventScrolling) {\n                this._preventBodyScrolling();\n            }\n            if (!this.isDragged || this.percentOpen != 1) {\n                this._animateIn();\n            }\n        }\n    }\n    close() {\n        if (this.isOpen === false)\n            return;\n        this.isOpen = false;\n        // Run onCloseStart callback\n        if (typeof this.options.onCloseStart === 'function') {\n            this.options.onCloseStart.call(this, this.el);\n        }\n        // Handle fixed Sidenav\n        if (this._isCurrentlyFixed()) {\n            const transformX = this.options.edge === 'left' ? '-105%' : '105%';\n            this.el.style.transform = `translateX(${transformX})`;\n        }\n        // Handle non-fixed Sidenav\n        else {\n            this._enableBodyScrolling();\n            if (!this.isDragged || this.percentOpen != 0) {\n                this._animateOut();\n            }\n            else {\n                this._overlay.style.display = 'none';\n            }\n        }\n    }\n    _animateIn() {\n        this._animateSidenavIn();\n        this._animateOverlayIn();\n    }\n    _animateSidenavIn() {\n        let slideOutPercent = this.options.edge === 'left' ? -1 : 1;\n        if (this.isDragged) {\n            slideOutPercent =\n                this.options.edge === 'left'\n                    ? slideOutPercent + this.percentOpen\n                    : slideOutPercent - this.percentOpen;\n        }\n        animejs_1.default.remove(this.el);\n        (0, animejs_1.default)({\n            targets: this.el,\n            translateX: [`${slideOutPercent * 100}%`, 0],\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                // Run onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _animateOverlayIn() {\n        let start = 0;\n        if (this.isDragged) {\n            start = this.percentOpen;\n        }\n        else {\n            this._overlay.style.display = 'block';\n        }\n        animejs_1.default.remove(this._overlay);\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: [start, 1],\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad'\n        });\n    }\n    _animateOut() {\n        this._animateSidenavOut();\n        this._animateOverlayOut();\n    }\n    _animateSidenavOut() {\n        const endPercent = this.options.edge === 'left' ? -1 : 1;\n        let slideOutPercent = 0;\n        if (this.isDragged) {\n            slideOutPercent =\n                this.options.edge === 'left'\n                    ? endPercent + this.percentOpen\n                    : endPercent - this.percentOpen;\n        }\n        animejs_1.default.remove(this.el);\n        (0, animejs_1.default)({\n            targets: this.el,\n            translateX: [`${slideOutPercent * 100}%`, `${endPercent * 105}%`],\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                // Run onOpenEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _animateOverlayOut() {\n        animejs_1.default.remove(this._overlay);\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this._overlay.style.display = 'none';\n            }\n        });\n    }\n}\nexports.Sidenav = Sidenav;\n(() => {\n    Sidenav._sidenavs = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBRyxFQUFFLEdBQUcsVUFBVSxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBQ2pFLFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVc7WUFDbEMsTUFBTSxFQUFFLGFBQWE7WUFDckIsUUFBUSxFQUFFLEdBQUcsRUFBRTtnQkFDYix5QkFBeUI7Z0JBQ3pCLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsS0FBSyxVQUFVLEVBQUU7b0JBQ2pELElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2lCQUM3QztZQUNILENBQUM7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsa0JBQWtCO1FBQ2hCLGlCQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzQixxQkFBSSxFQUFDO1lBQ0gsT0FBTyxFQUFFLElBQUksQ0FBQyxRQUFRO1lBQ3RCLE9BQU8sRUFBRSxDQUFDO1lBQ1YsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVztZQUNsQyxNQUFNLEVBQUUsYUFBYTtZQUNyQixRQUFRLEVBQUUsR0FBRyxFQUFFO2dCQUNiLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7WUFDdkMsQ0FBQztTQUNGLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FLRjtBQTNjRCwwQkEyY0M7QUFIQztJQUNFLE9BQU8sQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0FBQ3pCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL3NpZGVuYXYudHM/ODJiMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcbmltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5cbmNvbnN0IF9kZWZhdWx0cyA9IHtcbiAgZWRnZTogJ2xlZnQnLFxuICBkcmFnZ2FibGU6IHRydWUsXG4gIGRyYWdUYXJnZXRXaWR0aDogJzEwcHgnLFxuICBpbkR1cmF0aW9uOiAyNTAsXG4gIG91dER1cmF0aW9uOiAyMDAsXG4gIG9uT3BlblN0YXJ0OiBudWxsLFxuICBvbk9wZW5FbmQ6IG51bGwsXG4gIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgb25DbG9zZUVuZDogbnVsbCxcbiAgcHJldmVudFNjcm9sbGluZzogdHJ1ZVxufTtcblxuICBleHBvcnQgY2xhc3MgU2lkZW5hdiBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgaWQ6IGFueTtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgaXNGaXhlZDogYm9vbGVhbjtcbiAgICBpc0RyYWdnZWQ6IGJvb2xlYW47XG4gICAgbGFzdFdpbmRvd1dpZHRoOiBudW1iZXI7XG4gICAgbGFzdFdpbmRvd0hlaWdodDogbnVtYmVyO1xuICAgIHN0YXRpYyBfc2lkZW5hdnM6IGFueTtcbiAgICBwcml2YXRlIF9vdmVybGF5OiBIVE1MRWxlbWVudDtcbiAgICBkcmFnVGFyZ2V0OiBFbGVtZW50O1xuICAgIHByaXZhdGUgX2Nsb3NlQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVEcmFnVGFyZ2V0RHJhZ0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlRHJhZ1RhcmdldFJlbGVhc2VCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUNsb3NlRHJhZ0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlQ2xvc2VSZWxlYXNlQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVDbG9zZVRyaWdnZXJDbGlja0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlV2luZG93UmVzaXplQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9zdGFydGluZ1hwb3M6IG51bWJlcjtcbiAgICBwcml2YXRlIF94UG9zOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfdGltZTogbnVtYmVyO1xuICAgIHByaXZhdGUgX3dpZHRoOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbFNjcm9sbFRvcDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3ZlcnRpY2FsbHlTY3JvbGxpbmc6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBkZWx0YVg6IG51bWJlcjsgICAgXG4gICAgcHJpdmF0ZSB2ZWxvY2l0eVg6IG51bWJlcjtcbiAgICBwcml2YXRlIHBlcmNlbnRPcGVuOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoU2lkZW5hdiwgZWwsIG9wdGlvbnMpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX1NpZGVuYXYgPSB0aGlzO1xuICAgICAgdGhpcy5pZCA9IHRoaXMuZWwuaWQ7XG4gICAgICB0aGlzLm9wdGlvbnMgPSB7Li4uU2lkZW5hdi5kZWZhdWx0cywgLi4ub3B0aW9uc307XG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0ZpeGVkID0gdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3NpZGVuYXYtZml4ZWQnKTtcbiAgICAgIHRoaXMuaXNEcmFnZ2VkID0gZmFsc2U7XG4gICAgICAvLyBXaW5kb3cgc2l6ZSB2YXJpYWJsZXMgZm9yIHdpbmRvdyByZXNpemUgY2hlY2tzXG4gICAgICB0aGlzLmxhc3RXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy5sYXN0V2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdGhpcy5fY3JlYXRlT3ZlcmxheSgpO1xuICAgICAgdGhpcy5fY3JlYXRlRHJhZ1RhcmdldCgpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICB0aGlzLl9zZXR1cENsYXNzZXMoKTtcbiAgICAgIHRoaXMuX3NldHVwRml4ZWQoKTtcbiAgICAgIFNpZGVuYXYuX3NpZGVuYXZzLnB1c2godGhpcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgY29uc3QgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICAgIHJldHVybiBkb21FbGVtLk1fU2lkZW5hdjtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgdGhpcy5fZW5hYmxlQm9keVNjcm9sbGluZygpO1xuICAgICAgdGhpcy5fb3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX292ZXJsYXkpO1xuICAgICAgdGhpcy5kcmFnVGFyZ2V0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kcmFnVGFyZ2V0KTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9TaWRlbmF2ID0gdW5kZWZpbmVkO1xuICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgY29uc3QgaW5kZXggPSBTaWRlbmF2Ll9zaWRlbmF2cy5pbmRleE9mKHRoaXMpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgU2lkZW5hdi5fc2lkZW5hdnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlT3ZlcmxheSgpIHtcbiAgICAgIHRoaXMuX292ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMuX2Nsb3NlQm91bmQgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3NpZGVuYXYtb3ZlcmxheScpO1xuICAgICAgdGhpcy5fb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2Nsb3NlQm91bmQpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9vdmVybGF5KTtcbiAgICB9XG5cbiAgICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgaWYgKFNpZGVuYXYuX3NpZGVuYXZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2hhbmRsZURyYWdUYXJnZXREcmFnQm91bmQgPSB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0RHJhZy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlRHJhZ1RhcmdldFJlbGVhc2VCb3VuZCA9IHRoaXMuX2hhbmRsZURyYWdUYXJnZXRSZWxlYXNlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVDbG9zZURyYWdCb3VuZCA9IHRoaXMuX2hhbmRsZUNsb3NlRHJhZy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlQ2xvc2VSZWxlYXNlQm91bmQgPSB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2UuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUNsb3NlVHJpZ2dlckNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVDbG9zZVRyaWdnZXJDbGljay5iaW5kKHRoaXMpO1xuICAgICAgdmFyIHBhc3NpdmVJZlN1cHBvcnRlZDogYm9vbGVhbiA9IG51bGw7XG4gICAgICB0aGlzLmRyYWdUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRHJhZ1RhcmdldERyYWdCb3VuZCwgcGFzc2l2ZUlmU3VwcG9ydGVkKTtcbiAgICAgIHRoaXMuZHJhZ1RhcmdldC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZURyYWdUYXJnZXRSZWxlYXNlQm91bmQpO1xuICAgICAgdGhpcy5fb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVDbG9zZURyYWdCb3VuZCwgcGFzc2l2ZUlmU3VwcG9ydGVkKTtcbiAgICAgIHRoaXMuX292ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2VCb3VuZCk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUNsb3NlRHJhZ0JvdW5kLCBwYXNzaXZlSWZTdXBwb3J0ZWQpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZUNsb3NlUmVsZWFzZUJvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbG9zZVRyaWdnZXJDbGlja0JvdW5kKTtcbiAgICAgIC8vIEFkZCByZXNpemUgZm9yIHNpZGUgbmF2IGZpeGVkXG4gICAgICBpZiAodGhpcy5pc0ZpeGVkKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZUJvdW5kID0gdGhpcy5faGFuZGxlV2luZG93UmVzaXplLmJpbmQodGhpcyk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICBpZiAoU2lkZW5hdi5fc2lkZW5hdnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xuICAgICAgfVxuICAgICAgdGhpcy5kcmFnVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURyYWdUYXJnZXREcmFnQm91bmQpO1xuICAgICAgdGhpcy5kcmFnVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRHJhZ1RhcmdldFJlbGVhc2VCb3VuZCk7XG4gICAgICB0aGlzLl9vdmVybGF5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUNsb3NlRHJhZ0JvdW5kKTtcbiAgICAgIHRoaXMuX292ZXJsYXkucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2VCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUNsb3NlRHJhZ0JvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2VCb3VuZCk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xvc2VUcmlnZ2VyQ2xpY2tCb3VuZCk7XG5cbiAgICAgIC8vIFJlbW92ZSByZXNpemUgZm9yIHNpZGUgbmF2IGZpeGVkXG4gICAgICBpZiAodGhpcy5pc0ZpeGVkKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZVRyaWdnZXJDbGljayhlKSB7XG4gICAgICBjb25zdCB0cmlnZ2VyID0gZS50YXJnZXQuY2xvc2VzdCgnLnNpZGVuYXYtdHJpZ2dlcicpO1xuICAgICAgaWYgKGUudGFyZ2V0ICYmIHRyaWdnZXIpIHtcbiAgICAgICAgY29uc3Qgc2lkZW5hdklkID0gTS5nZXRJZEZyb21UcmlnZ2VyKHRyaWdnZXIpO1xuICAgICAgICBjb25zdCBzaWRlbmF2SW5zdGFuY2UgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2lkZW5hdklkKSBhcyBhbnkpLk1fU2lkZW5hdjtcbiAgICAgICAgaWYgKHNpZGVuYXZJbnN0YW5jZSkge1xuICAgICAgICAgIHNpZGVuYXZJbnN0YW5jZS5vcGVuKHRyaWdnZXIpO1xuICAgICAgICB9XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXQgdmFyaWFibGVzIG5lZWRlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIGRyYWcgYW5kIHN0b3AgYW55IGN1cnJlbnQgdHJhbnNpdGlvbi5cbiAgICBfc3RhcnREcmFnKGUpIHtcbiAgICAgIGNvbnN0IGNsaWVudFggPSBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIHRoaXMuaXNEcmFnZ2VkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX3N0YXJ0aW5nWHBvcyA9IGNsaWVudFg7XG4gICAgICB0aGlzLl94UG9zID0gdGhpcy5fc3RhcnRpbmdYcG9zO1xuICAgICAgdGhpcy5fdGltZSA9IERhdGUubm93KCk7XG4gICAgICB0aGlzLl93aWR0aCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgdGhpcy5faW5pdGlhbFNjcm9sbFRvcCA9IHRoaXMuaXNPcGVuID8gdGhpcy5lbC5zY3JvbGxUb3AgOiBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCk7XG4gICAgICB0aGlzLl92ZXJ0aWNhbGx5U2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xuICAgIH1cblxuICAgIC8vU2V0IHZhcmlhYmxlcyBuZWVkZWQgYXQgZWFjaCBkcmFnIG1vdmUgdXBkYXRlIHRpY2tcbiAgICBfZHJhZ01vdmVVcGRhdGUoZSkge1xuICAgICAgY29uc3QgY2xpZW50WCA9IGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgY29uc3QgY3VycmVudFNjcm9sbFRvcCA9IHRoaXMuaXNPcGVuID8gdGhpcy5lbC5zY3JvbGxUb3AgOiBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCk7XG4gICAgICB0aGlzLmRlbHRhWCA9IE1hdGguYWJzKHRoaXMuX3hQb3MgLSBjbGllbnRYKTtcbiAgICAgIHRoaXMuX3hQb3MgPSBjbGllbnRYO1xuICAgICAgdGhpcy52ZWxvY2l0eVggPSB0aGlzLmRlbHRhWCAvIChEYXRlLm5vdygpIC0gdGhpcy5fdGltZSk7XG4gICAgICB0aGlzLl90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGlmICh0aGlzLl9pbml0aWFsU2Nyb2xsVG9wICE9PSBjdXJyZW50U2Nyb2xsVG9wKSB7XG4gICAgICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVEcmFnVGFyZ2V0RHJhZyhlKSB7XG4gICAgICAvLyBDaGVjayBpZiBkcmFnZ2FibGVcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmRyYWdnYWJsZSB8fCB0aGlzLl9pc0N1cnJlbnRseUZpeGVkKCkgfHwgdGhpcy5fdmVydGljYWxseVNjcm9sbGluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBJZiBub3QgYmVpbmcgZHJhZ2dlZCwgc2V0IGluaXRpYWwgZHJhZyBzdGFydCB2YXJpYWJsZXNcbiAgICAgIGlmICghdGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgICAgdGhpcy5fc3RhcnREcmFnKGUpO1xuICAgICAgfVxuICAgICAgLy8gUnVuIHRvdWNobW92ZSB1cGRhdGVzXG4gICAgICB0aGlzLl9kcmFnTW92ZVVwZGF0ZShlKTtcbiAgICAgIC8vIENhbGN1bGF0ZSByYXcgZGVsdGFYXG4gICAgICBsZXQgdG90YWxEZWx0YVggPSB0aGlzLl94UG9zIC0gdGhpcy5fc3RhcnRpbmdYcG9zO1xuICAgICAgLy8gZHJhZ0RpcmVjdGlvbiBpcyB0aGUgYXR0ZW1wdGVkIHVzZXIgZHJhZyBkaXJlY3Rpb25cbiAgICAgIGNvbnN0IGRyYWdEaXJlY3Rpb24gPSB0b3RhbERlbHRhWCA+IDAgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgLy8gRG9uJ3QgYWxsb3cgdG90YWxEZWx0YVggdG8gZXhjZWVkIFNpZGVuYXYgd2lkdGggb3IgYmUgZHJhZ2dlZCBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uXG4gICAgICB0b3RhbERlbHRhWCA9IE1hdGgubWluKHRoaXMuX3dpZHRoLCBNYXRoLmFicyh0b3RhbERlbHRhWCkpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lZGdlID09PSBkcmFnRGlyZWN0aW9uKSB7XG4gICAgICAgIHRvdGFsRGVsdGFYID0gMDtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogdHJhbnNmb3JtWCBpcyB0aGUgZHJhZyBkaXNwbGFjZW1lbnRcbiAgICAgICAqIHRyYW5zZm9ybVByZWZpeCBpcyB0aGUgaW5pdGlhbCB0cmFuc2Zvcm0gcGxhY2VtZW50XG4gICAgICAgKiBJbnZlcnQgdmFsdWVzIGlmIFNpZGVuYXYgaXMgcmlnaHQgZWRnZVxuICAgICAgICovXG4gICAgICBsZXQgdHJhbnNmb3JtWCA9IHRvdGFsRGVsdGFYO1xuICAgICAgbGV0IHRyYW5zZm9ybVByZWZpeCA9ICd0cmFuc2xhdGVYKC0xMDAlKSc7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgPT09ICdyaWdodCcpIHtcbiAgICAgICAgdHJhbnNmb3JtUHJlZml4ID0gJ3RyYW5zbGF0ZVgoMTAwJSknO1xuICAgICAgICB0cmFuc2Zvcm1YID0gLXRyYW5zZm9ybVg7XG4gICAgICB9XG4gICAgICAvLyBDYWxjdWxhdGUgb3Blbi9jbG9zZSBwZXJjZW50YWdlIG9mIHNpZGVuYXYsIHdpdGggb3BlbiA9IDEgYW5kIGNsb3NlID0gMFxuICAgICAgdGhpcy5wZXJjZW50T3BlbiA9IE1hdGgubWluKDEsIHRvdGFsRGVsdGFYIC8gdGhpcy5fd2lkdGgpO1xuICAgICAgLy8gU2V0IHRyYW5zZm9ybSBhbmQgb3BhY2l0eSBzdHlsZXNcbiAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50cmFuc2Zvcm0gPSBgJHt0cmFuc2Zvcm1QcmVmaXh9IHRyYW5zbGF0ZVgoJHt0cmFuc2Zvcm1YfXB4KWA7XG4gICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLm9wYWNpdHkgPSB0aGlzLnBlcmNlbnRPcGVuLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZURyYWdUYXJnZXRSZWxlYXNlKCkge1xuICAgICAgaWYgKHRoaXMuaXNEcmFnZ2VkKSB7XG4gICAgICAgIGlmICh0aGlzLnBlcmNlbnRPcGVuID4gMC4yKSB7XG4gICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNEcmFnZ2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlQ2xvc2VEcmFnKGUpIHtcbiAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAvLyBDaGVjayBpZiBkcmFnZ2FibGVcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlIHx8IHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSB8fCB0aGlzLl92ZXJ0aWNhbGx5U2Nyb2xsaW5nKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIG5vdCBiZWluZyBkcmFnZ2VkLCBzZXQgaW5pdGlhbCBkcmFnIHN0YXJ0IHZhcmlhYmxlc1xuICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2VkKSB7XG4gICAgICAgICAgdGhpcy5fc3RhcnREcmFnKGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJ1biB0b3VjaG1vdmUgdXBkYXRlc1xuICAgICAgICB0aGlzLl9kcmFnTW92ZVVwZGF0ZShlKTtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHJhdyBkZWx0YVhcbiAgICAgICAgbGV0IHRvdGFsRGVsdGFYID0gdGhpcy5feFBvcyAtIHRoaXMuX3N0YXJ0aW5nWHBvcztcbiAgICAgICAgLy8gZHJhZ0RpcmVjdGlvbiBpcyB0aGUgYXR0ZW1wdGVkIHVzZXIgZHJhZyBkaXJlY3Rpb25cbiAgICAgICAgbGV0IGRyYWdEaXJlY3Rpb24gPSB0b3RhbERlbHRhWCA+IDAgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgICAvLyBEb24ndCBhbGxvdyB0b3RhbERlbHRhWCB0byBleGNlZWQgU2lkZW5hdiB3aWR0aCBvciBiZSBkcmFnZ2VkIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb25cbiAgICAgICAgdG90YWxEZWx0YVggPSBNYXRoLm1pbih0aGlzLl93aWR0aCwgTWF0aC5hYnModG90YWxEZWx0YVgpKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5lZGdlICE9PSBkcmFnRGlyZWN0aW9uKSB7XG4gICAgICAgICAgdG90YWxEZWx0YVggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0cmFuc2Zvcm1YID0gLXRvdGFsRGVsdGFYO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICB0cmFuc2Zvcm1YID0gLXRyYW5zZm9ybVg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FsY3VsYXRlIG9wZW4vY2xvc2UgcGVyY2VudGFnZSBvZiBzaWRlbmF2LCB3aXRoIG9wZW4gPSAxIGFuZCBjbG9zZSA9IDBcbiAgICAgICAgdGhpcy5wZXJjZW50T3BlbiA9IE1hdGgubWluKDEsIDEgLSB0b3RhbERlbHRhWCAvIHRoaXMuX3dpZHRoKTtcbiAgICAgICAgLy8gU2V0IHRyYW5zZm9ybSBhbmQgb3BhY2l0eSBzdHlsZXNcbiAgICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dHJhbnNmb3JtWH1weClgO1xuICAgICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLm9wYWNpdHkgPSB0aGlzLnBlcmNlbnRPcGVuLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZUNsb3NlUmVsZWFzZSgpIHtcbiAgICAgIGlmICh0aGlzLmlzT3BlbiAmJiB0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICBpZiAodGhpcy5wZXJjZW50T3BlbiA+IDAuOCkge1xuICAgICAgICAgIHRoaXMuX2FuaW1hdGVJbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzRHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl92ZXJ0aWNhbGx5U2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlcyBjbG9zaW5nIG9mIFNpZGVuYXYgd2hlbiBlbGVtZW50IHdpdGggY2xhc3MgLnNpZGVuYXYtY2xvc2VcbiAgICBfaGFuZGxlQ2xvc2VUcmlnZ2VyQ2xpY2soZSkge1xuICAgICAgY29uc3QgY2xvc2VUcmlnZ2VyID0gZS50YXJnZXQuY2xvc2VzdCgnLnNpZGVuYXYtY2xvc2UnKTtcbiAgICAgIGlmIChjbG9zZVRyaWdnZXIgJiYgIXRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZVdpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgIC8vIE9ubHkgaGFuZGxlIGhvcml6b250YWwgcmVzaXplc1xuICAgICAgaWYgKHRoaXMubGFzdFdpbmRvd1dpZHRoICE9PSB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPiA5OTIpIHtcbiAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB0aGlzLmxhc3RXaW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuXG4gICAgX3NldHVwQ2xhc3NlcygpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3JpZ2h0LWFsaWduZWQnKTtcbiAgICAgICAgdGhpcy5kcmFnVGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3JpZ2h0LWFsaWduZWQnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVtb3ZlQ2xhc3NlcygpIHtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncmlnaHQtYWxpZ25lZCcpO1xuICAgICAgdGhpcy5kcmFnVGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3JpZ2h0LWFsaWduZWQnKTtcbiAgICB9XG5cbiAgICBfc2V0dXBGaXhlZCgpIHtcbiAgICAgIGlmICh0aGlzLl9pc0N1cnJlbnRseUZpeGVkKCkpIHRoaXMub3BlbigpO1xuICAgIH1cblxuICAgIF9pc0N1cnJlbnRseUZpeGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNGaXhlZCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IDk5MjtcbiAgICB9XG5cbiAgICBfY3JlYXRlRHJhZ1RhcmdldCgpIHtcbiAgICAgIGNvbnN0IGRyYWdUYXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRyYWdUYXJnZXQuY2xhc3NMaXN0LmFkZCgnZHJhZy10YXJnZXQnKTtcbiAgICAgIGRyYWdUYXJnZXQuc3R5bGUud2lkdGggPSB0aGlzLm9wdGlvbnMuZHJhZ1RhcmdldFdpZHRoO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkcmFnVGFyZ2V0KTtcbiAgICAgIHRoaXMuZHJhZ1RhcmdldCA9IGRyYWdUYXJnZXQ7XG4gICAgfVxuXG4gICAgX3ByZXZlbnRCb2R5U2Nyb2xsaW5nKCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIH1cblxuICAgIF9lbmFibGVCb2R5U2Nyb2xsaW5nKCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICBpZiAodGhpcy5pc09wZW4gPT09IHRydWUpIHJldHVybjtcbiAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgIC8vIFJ1biBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICB9XG4gICAgICAvLyBIYW5kbGUgZml4ZWQgU2lkZW5hdlxuICAgICAgaWYgKHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSkge1xuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZW5hYmxlQm9keVNjcm9sbGluZygpO1xuICAgICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgICAvLyBIYW5kbGUgbm9uLWZpeGVkIFNpZGVuYXZcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByZXZlbnRTY3JvbGxpbmcpIHtcbiAgICAgICAgICB0aGlzLl9wcmV2ZW50Qm9keVNjcm9sbGluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dlZCB8fCB0aGlzLnBlcmNlbnRPcGVuICE9IDEpIHtcbiAgICAgICAgICB0aGlzLl9hbmltYXRlSW4oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgaWYgKHRoaXMuaXNPcGVuID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgIC8vIFJ1biBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICB9XG4gICAgICAvLyBIYW5kbGUgZml4ZWQgU2lkZW5hdlxuICAgICAgaWYgKHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSkge1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1YID0gdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0JyA/ICctMTA1JScgOiAnMTA1JSc7XG4gICAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3RyYW5zZm9ybVh9KWA7XG4gICAgICB9XG4gICAgICAvLyBIYW5kbGUgbm9uLWZpeGVkIFNpZGVuYXZcbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9lbmFibGVCb2R5U2Nyb2xsaW5nKCk7XG4gICAgICAgIGlmICghdGhpcy5pc0RyYWdnZWQgfHwgdGhpcy5wZXJjZW50T3BlbiAhPSAwKSB7XG4gICAgICAgICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIF9hbmltYXRlSW4oKSB7XG4gICAgICB0aGlzLl9hbmltYXRlU2lkZW5hdkluKCk7XG4gICAgICB0aGlzLl9hbmltYXRlT3ZlcmxheUluKCk7XG4gICAgfVxuXG4gICAgX2FuaW1hdGVTaWRlbmF2SW4oKSB7XG4gICAgICBsZXQgc2xpZGVPdXRQZXJjZW50ID0gdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0JyA/IC0xIDogMTtcbiAgICAgIGlmICh0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICBzbGlkZU91dFBlcmNlbnQgPVxuICAgICAgICAgIHRoaXMub3B0aW9ucy5lZGdlID09PSAnbGVmdCdcbiAgICAgICAgICAgID8gc2xpZGVPdXRQZXJjZW50ICsgdGhpcy5wZXJjZW50T3BlblxuICAgICAgICAgICAgOiBzbGlkZU91dFBlcmNlbnQgLSB0aGlzLnBlcmNlbnRPcGVuO1xuICAgICAgfVxuICAgICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgdHJhbnNsYXRlWDogW2Ake3NsaWRlT3V0UGVyY2VudCAqIDEwMH0lYCwgMF0sXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIC8vIFJ1biBvbk9wZW5FbmQgY2FsbGJhY2tcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9hbmltYXRlT3ZlcmxheUluKCkge1xuICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgIGlmICh0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICBzdGFydCA9IHRoaXMucGVyY2VudE9wZW47XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIH1cbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuX292ZXJsYXksXG4gICAgICAgIG9wYWNpdHk6IFtzdGFydCwgMV0sXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfYW5pbWF0ZU91dCgpIHtcbiAgICAgIHRoaXMuX2FuaW1hdGVTaWRlbmF2T3V0KCk7XG4gICAgICB0aGlzLl9hbmltYXRlT3ZlcmxheU91dCgpO1xuICAgIH1cblxuICAgIF9hbmltYXRlU2lkZW5hdk91dCgpIHtcbiAgICAgIGNvbnN0IGVuZFBlcmNlbnQgPSB0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ2xlZnQnID8gLTEgOiAxO1xuICAgICAgbGV0IHNsaWRlT3V0UGVyY2VudCA9IDA7XG4gICAgICBpZiAodGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgICAgc2xpZGVPdXRQZXJjZW50ID1cbiAgICAgICAgICB0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ2xlZnQnXG4gICAgICAgICAgICA/IGVuZFBlcmNlbnQgKyB0aGlzLnBlcmNlbnRPcGVuXG4gICAgICAgICAgICA6IGVuZFBlcmNlbnQgLSB0aGlzLnBlcmNlbnRPcGVuO1xuICAgICAgfVxuXG4gICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgIGFuaW0oe1xuICAgICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgICB0cmFuc2xhdGVYOiBbYCR7c2xpZGVPdXRQZXJjZW50ICogMTAwfSVgLCBgJHtlbmRQZXJjZW50ICogMTA1fSVgXSxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIC8vIFJ1biBvbk9wZW5FbmQgY2FsbGJhY2tcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2FuaW1hdGVPdmVybGF5T3V0KCkge1xuICAgICAgYW5pbS5yZW1vdmUodGhpcy5fb3ZlcmxheSk7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5fb3ZlcmxheSxcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljICB7XG4gICAgICBTaWRlbmF2Ll9zaWRlbmF2cyA9IFtdO1xuICAgIH1cbiAgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/sidenav.ts\n");

/***/ }),

/***/ "./src/slider.ts":
/*!***********************!*\
  !*** ./src/slider.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Slider = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nlet _defaults = {\n    indicators: true,\n    height: 400,\n    duration: 500,\n    interval: 6000,\n    pauseOnFocus: true,\n    pauseOnHover: true,\n    indicatorLabelFunc: null // Function which will generate a label for the indicators (ARIA)\n};\nclass Slider extends component_1.Component {\n    constructor(el, options) {\n        super(Slider, el, options);\n        this.el.M_Slider = this;\n        this.options = Object.assign(Object.assign({}, Slider.defaults), options);\n        // init props\n        this.interval = null;\n        this.eventPause = false;\n        this._hovered = false;\n        this._focused = false;\n        this._focusCurrent = false;\n        // setup\n        this._slider = this.el.querySelector('.slides');\n        this._slides = Array.from(this._slider.querySelectorAll('li'));\n        this.activeIndex = this._slides.findIndex(li => li.classList.contains('active'));\n        if (this.activeIndex !== -1) {\n            this._activeSlide = this._slides[this.activeIndex];\n        }\n        this._setSliderHeight();\n        // Sets element id if it does not have one\n        if (this._slider.hasAttribute('id'))\n            this._sliderId = this._slider.getAttribute('id');\n        else {\n            this._sliderId = 'slider-' + global_1.M.guid();\n            this._slider.setAttribute('id', this._sliderId);\n        }\n        const placeholderBase64 = 'data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n        // Set initial positions of captions\n        this._slides.forEach(slide => {\n            // Caption\n            //const caption = <HTMLElement|null>slide.querySelector('.caption');\n            //if (caption) this._animateCaptionIn(caption, 0);\n            // Set Images as Background Images\n            const img = slide.querySelector('img');\n            if (img) {\n                if (img.src !== placeholderBase64) {\n                    img.style.backgroundImage = 'url(' + img.src + ')';\n                    img.src = placeholderBase64;\n                }\n            }\n            // Sets slide as focusable by code\n            if (!slide.hasAttribute('tabindex'))\n                slide.setAttribute('tabindex', '-1');\n            // Removes initial visibility from \"inactive\" slides\n            slide.style.visibility = 'hidden';\n        });\n        this._setupIndicators();\n        // Show active slide\n        if (this._activeSlide) {\n            this._activeSlide.style.display = 'block';\n            this._activeSlide.style.visibility = 'visible';\n        }\n        else {\n            this.activeIndex = 0;\n            this._slides[0].classList.add('active');\n            this._slides[0].style.visibility = 'visible';\n            this._activeSlide = this._slides[0];\n            this._animateSlide(this._slides[0], true);\n            /*anim({\n              targets: this._slides[0],\n              opacity: 1,\n              duration: this.options.duration,\n              easing: 'easeOutQuad'\n            });\n            */\n            // Update indicators\n            if (this.options.indicators) {\n                this._indicators[this.activeIndex].children[0].classList.add('active');\n            }\n        }\n        // Adjust height to current slide\n        // TODO: ??? Code does not do what it says in comment\n        /*\n        this._activeSlide.querySelectorAll('img').forEach(el => {\n          anim({\n            targets: this._activeSlide.querySelector('.caption'),\n            opacity: 1,\n            translateX: 0,\n            translateY: 0,\n            duration: this.options.duration,\n            easing: 'easeOutQuad'\n          });\n        });\n        */\n        this._setupEventHandlers();\n        // auto scroll\n        this.start();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Slider;\n    }\n    destroy() {\n        this.pause();\n        this._removeIndicators();\n        this._removeEventHandlers();\n        this.el.M_Slider = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleIntervalBound = this._handleInterval.bind(this);\n        this._handleIndicatorClickBound = this._handleIndicatorClick.bind(this);\n        this._handleAutoPauseFocusBound = this._handleAutoPauseFocus.bind(this);\n        this._handleAutoStartFocusBound = this._handleAutoStartFocus.bind(this);\n        this._handleAutoPauseHoverBound = this._handleAutoPauseHover.bind(this);\n        this._handleAutoStartHoverBound = this._handleAutoStartHover.bind(this);\n        if (this.options.pauseOnFocus) {\n            this.el.addEventListener('focusin', this._handleAutoPauseFocusBound);\n            this.el.addEventListener('focusout', this._handleAutoStartFocusBound);\n        }\n        if (this.options.pauseOnHover) {\n            this.el.addEventListener('mouseenter', this._handleAutoPauseHoverBound);\n            this.el.addEventListener('mouseleave', this._handleAutoStartHoverBound);\n        }\n        if (this.options.indicators) {\n            this._indicators.forEach((el) => {\n                el.addEventListener('click', this._handleIndicatorClickBound);\n            });\n        }\n    }\n    _removeEventHandlers() {\n        if (this.options.pauseOnFocus) {\n            this.el.removeEventListener('focusin', this._handleAutoPauseFocusBound);\n            this.el.removeEventListener('focusout', this._handleAutoStartFocusBound);\n        }\n        if (this.options.pauseOnHover) {\n            this.el.removeEventListener('mouseenter', this._handleAutoPauseHoverBound);\n            this.el.removeEventListener('mouseleave', this._handleAutoStartHoverBound);\n        }\n        if (this.options.indicators) {\n            this._indicators.forEach((el) => {\n                el.removeEventListener('click', this._handleIndicatorClickBound);\n            });\n        }\n    }\n    _handleIndicatorClick(e) {\n        const el = e.target.parentElement;\n        const currIndex = [...el.parentNode.children].indexOf(el);\n        this._focusCurrent = true;\n        this.set(currIndex);\n    }\n    _handleAutoPauseHover() {\n        this._hovered = true;\n        if (this.interval != null) {\n            this._pause(true);\n        }\n    }\n    _handleAutoPauseFocus() {\n        this._focused = true;\n        if (this.interval != null) {\n            this._pause(true);\n        }\n    }\n    _handleAutoStartHover() {\n        this._hovered = false;\n        if (!(this.options.pauseOnFocus && this._focused) && this.eventPause) {\n            this.start();\n        }\n    }\n    _handleAutoStartFocus() {\n        this._focused = false;\n        if (!(this.options.pauseOnHover && this._hovered) && this.eventPause) {\n            this.start();\n        }\n    }\n    _handleInterval() {\n        const activeElem = this._slider.querySelector('.active');\n        let newActiveIndex = [...activeElem.parentNode.children].indexOf(activeElem);\n        if (this._slides.length === newActiveIndex + 1)\n            newActiveIndex = 0; // loop to start\n        else\n            newActiveIndex += 1;\n        this.set(newActiveIndex);\n    }\n    _animateSlide(slide, isDirectionIn) {\n        let dx = 0, dy = 0;\n        (0, animejs_1.default)({\n            targets: slide,\n            opacity: isDirectionIn ? [0, 1] : [1, 0],\n            duration: this.options.duration,\n            easing: 'easeOutQuad'\n        });\n        const caption = slide.querySelector('.caption');\n        if (!caption)\n            return;\n        if (caption.classList.contains('center-align'))\n            dy = -100;\n        else if (caption.classList.contains('right-align'))\n            dx = 100;\n        else if (caption.classList.contains('left-align'))\n            dx = -100;\n        (0, animejs_1.default)({\n            targets: caption,\n            opacity: isDirectionIn ? [0, 1] : [1, 0],\n            translateX: isDirectionIn ? [dx, 0] : [0, dx],\n            translateY: isDirectionIn ? [dy, 0] : [0, dy],\n            duration: this.options.duration,\n            delay: this.options.duration,\n            easing: 'easeOutQuad'\n        });\n    }\n    _setSliderHeight() {\n        // If fullscreen, do nothing\n        if (!this.el.classList.contains('fullscreen')) {\n            if (this.options.indicators) {\n                // Add height if indicators are present\n                this.el.style.height = (this.options.height + 40) + 'px'; //.css('height', this.options.height + 40 + 'px');\n            }\n            else {\n                this.el.style.height = this.options.height + 'px';\n            }\n            this._slider.style.height = this.options.height + 'px';\n        }\n    }\n    _setupIndicators() {\n        if (this.options.indicators) {\n            const ul = document.createElement('ul');\n            ul.classList.add('indicators');\n            const arrLi = [];\n            this._slides.forEach((el, i) => {\n                const label = this.options.indicatorLabelFunc\n                    ? this.options.indicatorLabelFunc.call(this, i + 1, i === 0)\n                    : `${i + 1}`;\n                const li = document.createElement('li');\n                li.classList.add('indicator-item');\n                li.innerHTML = `<button type=\"button\" class=\"indicator-item-btn\" aria-label=\"${label}\" aria-controls=\"${this._sliderId}\"></button>`;\n                arrLi.push(li);\n                ul.append(li);\n            });\n            this.el.append(ul);\n            this._indicators = arrLi;\n        }\n    }\n    _removeIndicators() {\n        this.el.querySelector('ul.indicators').remove(); //find('ul.indicators').remove();\n    }\n    set(index) {\n        // Wrap around indices.\n        if (index >= this._slides.length)\n            index = 0;\n        else if (index < 0)\n            index = this._slides.length - 1;\n        // Only do if index changes\n        if (this.activeIndex === index)\n            return;\n        this._activeSlide = this._slides[this.activeIndex];\n        const _caption = this._activeSlide.querySelector('.caption');\n        this._activeSlide.classList.remove('active');\n        // Enables every slide\n        this._slides.forEach(slide => slide.style.visibility = 'visible');\n        //--- Hide active Slide + Caption\n        // TODO: What does this do?\n        (0, animejs_1.default)({\n            targets: this._activeSlide,\n            opacity: 0,\n            duration: this.options.duration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this._slides.forEach(el => {\n                    if (el.classList.contains('active'))\n                        return;\n                    (0, animejs_1.default)({\n                        targets: el,\n                        opacity: 0,\n                        translateX: 0,\n                        translateY: 0,\n                        duration: 0,\n                        easing: 'easeOutQuad'\n                    });\n                    // Disables invisible slides (for assistive technologies)\n                    el.style.visibility = 'hidden';\n                });\n            }\n        });\n        // Hide active Caption\n        //this._animateCaptionIn(_caption, this.options.duration);\n        _caption.style.opacity = '0';\n        // Update indicators\n        if (this.options.indicators) {\n            const activeIndicator = this._indicators[this.activeIndex].children[0];\n            const nextIndicator = this._indicators[index].children[0];\n            activeIndicator.classList.remove('active');\n            nextIndicator.classList.add('active');\n            if (typeof this.options.indicatorLabelFunc === \"function\") {\n                activeIndicator.ariaLabel = this.options.indicatorLabelFunc.call(this, this.activeIndex, false);\n                nextIndicator.ariaLabel = this.options.indicatorLabelFunc.call(this, index, true);\n            }\n        }\n        //--- Show new Slide + Caption\n        this._animateSlide(this._slides[index], true);\n        this._slides[index].classList.add('active');\n        // TODO: Why focus? => causes uncontrollable page scroll\n        /*\n        if (this._focusCurrent) {\n          this._slides[index].focus();\n          this._focusCurrent = false;\n        }\n        */\n        this.activeIndex = index;\n        // Reset interval, if allowed. This check prevents autostart\n        // when slider is paused, since it can be changed though indicators.\n        if (this.interval != null) {\n            this.start();\n        }\n    }\n    _pause(fromEvent) {\n        clearInterval(this.interval);\n        this.eventPause = fromEvent;\n        this.interval = null;\n    }\n    pause() {\n        this._pause(false);\n    }\n    start() {\n        clearInterval(this.interval);\n        this.interval = setInterval(this._handleIntervalBound, this.options.duration + this.options.interval);\n        this.eventPause = false;\n    }\n    next() {\n        let newIndex = this.activeIndex + 1;\n        // Wrap around indices.\n        if (newIndex >= this._slides.length)\n            newIndex = 0;\n        else if (newIndex < 0)\n            newIndex = this._slides.length - 1;\n        this.set(newIndex);\n    }\n    prev() {\n        let newIndex = this.activeIndex - 1;\n        // Wrap around indices.\n        if (newIndex >= this._slides.length)\n            newIndex = 0;\n        else if (newIndex < 0)\n            newIndex = this._slides.length - 1;\n        this.set(newIndex);\n    }\n}\nexports.Slider = Slider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFDcEMsdUJBQXVCO1FBQ3ZCLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTTtZQUFFLFFBQVEsR0FBRyxDQUFDLENBQUM7YUFDN0MsSUFBSSxRQUFRLEdBQUcsQ0FBQztZQUFFLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDMUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNyQixDQUFDO0NBQ0Y7QUE3WUQsd0JBNllDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTS8uL3NyYy9zbGlkZXIudHM/Y2FjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcbmltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5cbiAgbGV0IF9kZWZhdWx0cyA9IHtcbiAgICBpbmRpY2F0b3JzOiB0cnVlLFxuICAgIGhlaWdodDogNDAwLFxuICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgaW50ZXJ2YWw6IDYwMDAsXG4gICAgcGF1c2VPbkZvY3VzOiB0cnVlLFxuICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSxcbiAgICBpbmRpY2F0b3JMYWJlbEZ1bmM6IG51bGwgLy8gRnVuY3Rpb24gd2hpY2ggd2lsbCBnZW5lcmF0ZSBhIGxhYmVsIGZvciB0aGUgaW5kaWNhdG9ycyAoQVJJQSlcbiAgfTtcblxuICBleHBvcnQgY2xhc3MgU2xpZGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBlbDogSFRNTEVsZW1lbnQ7XG4gICAgX3NsaWRlcjogSFRNTFVMaXN0RWxlbWVudDtcbiAgICBfc2xpZGVzOiBIVE1MTElFbGVtZW50W107XG4gICAgYWN0aXZlSW5kZXg6IG51bWJlcjtcbiAgICBfYWN0aXZlU2xpZGU6IEhUTUxMSUVsZW1lbnQ7XG4gICAgX2luZGljYXRvcnM6IEhUTUxMSUVsZW1lbnRbXTtcbiAgICBwcml2YXRlIF9oYW5kbGVJbnRlcnZhbEJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlSW5kaWNhdG9yQ2xpY2tCb3VuZDogYW55O1xuICAgIGludGVydmFsOiBzdHJpbmcgfCBudW1iZXIgfCBOb2RlSlMuVGltZW91dDtcbiAgICBldmVudFBhdXNlOiBhbnk7XG4gICAgX2hvdmVyZWQ6IGJvb2xlYW47XG4gICAgX2ZvY3VzZWQ6IGJvb2xlYW47XG4gICAgX2ZvY3VzQ3VycmVudDogYm9vbGVhbjtcbiAgICBfc2xpZGVySWQ6IHN0cmluZztcbiAgICBwcml2YXRlIF9oYW5kbGVBdXRvUGF1c2VGb2N1c0JvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlQXV0b1N0YXJ0Rm9jdXNCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUF1dG9QYXVzZUhvdmVyQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVBdXRvU3RhcnRIb3ZlckJvdW5kOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgICAgc3VwZXIoU2xpZGVyLCBlbCwgb3B0aW9ucyk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fU2xpZGVyID0gdGhpcztcbiAgICAgIHRoaXMub3B0aW9ucyA9IHsuLi5TbGlkZXIuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuXG4gICAgICAvLyBpbml0IHByb3BzXG4gICAgICB0aGlzLmludGVydmFsID0gbnVsbDtcbiAgICAgIHRoaXMuZXZlbnRQYXVzZSA9IGZhbHNlO1xuICAgICAgdGhpcy5faG92ZXJlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fZm9jdXNlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fZm9jdXNDdXJyZW50ID0gZmFsc2U7XG5cbiAgICAgIC8vIHNldHVwXG4gICAgICB0aGlzLl9zbGlkZXIgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXMnKTtcbiAgICAgIHRoaXMuX3NsaWRlcyA9IEFycmF5LmZyb20odGhpcy5fc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJykpO1xuICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IHRoaXMuX3NsaWRlcy5maW5kSW5kZXgobGkgPT4gbGkuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSk7XG5cbiAgICAgIGlmICh0aGlzLmFjdGl2ZUluZGV4ICE9PSAtMSkge1xuICAgICAgICB0aGlzLl9hY3RpdmVTbGlkZSA9IHRoaXMuX3NsaWRlc1t0aGlzLmFjdGl2ZUluZGV4XTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fc2V0U2xpZGVySGVpZ2h0KCk7XG5cbiAgICAgIC8vIFNldHMgZWxlbWVudCBpZCBpZiBpdCBkb2VzIG5vdCBoYXZlIG9uZVxuICAgICAgaWYgKHRoaXMuX3NsaWRlci5oYXNBdHRyaWJ1dGUoJ2lkJykpXG4gICAgICAgIHRoaXMuX3NsaWRlcklkID0gdGhpcy5fc2xpZGVyLmdldEF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9zbGlkZXJJZCA9ICdzbGlkZXItJyArIE0uZ3VpZCgpO1xuICAgICAgICB0aGlzLl9zbGlkZXIuc2V0QXR0cmlidXRlKCdpZCcsIHRoaXMuX3NsaWRlcklkKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGxhY2Vob2xkZXJCYXNlNjQgPSAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUJBUC8vL3dBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PSc7XG4gICAgICAvLyBTZXQgaW5pdGlhbCBwb3NpdGlvbnMgb2YgY2FwdGlvbnNcbiAgICAgIHRoaXMuX3NsaWRlcy5mb3JFYWNoKHNsaWRlID0+IHtcbiAgICAgICAgLy8gQ2FwdGlvblxuICAgICAgICAvL2NvbnN0IGNhcHRpb24gPSA8SFRNTEVsZW1lbnR8bnVsbD5zbGlkZS5xdWVyeVNlbGVjdG9yKCcuY2FwdGlvbicpO1xuICAgICAgICAvL2lmIChjYXB0aW9uKSB0aGlzLl9hbmltYXRlQ2FwdGlvbkluKGNhcHRpb24sIDApO1xuICAgICAgICAvLyBTZXQgSW1hZ2VzIGFzIEJhY2tncm91bmQgSW1hZ2VzXG4gICAgICAgIGNvbnN0IGltZyA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgICAgICBpZiAoaW1nKSB7XG4gICAgICAgICAgaWYgKGltZy5zcmMgIT09IHBsYWNlaG9sZGVyQmFzZTY0KSB7XG4gICAgICAgICAgICBpbWcuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnKyBpbWcuc3JjICsnKSc7XG4gICAgICAgICAgICBpbWcuc3JjID0gcGxhY2Vob2xkZXJCYXNlNjQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNldHMgc2xpZGUgYXMgZm9jdXNhYmxlIGJ5IGNvZGVcbiAgICAgICAgaWYgKCFzbGlkZS5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JykpXG4gICAgICAgICAgc2xpZGUuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgICAvLyBSZW1vdmVzIGluaXRpYWwgdmlzaWJpbGl0eSBmcm9tIFwiaW5hY3RpdmVcIiBzbGlkZXNcbiAgICAgICAgc2xpZGUuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX3NldHVwSW5kaWNhdG9ycygpO1xuXG4gICAgICAvLyBTaG93IGFjdGl2ZSBzbGlkZVxuICAgICAgaWYgKHRoaXMuX2FjdGl2ZVNsaWRlKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVNsaWRlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB0aGlzLl9hY3RpdmVTbGlkZS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9zbGlkZXNbMF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIHRoaXMuX3NsaWRlc1swXS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICB0aGlzLl9hY3RpdmVTbGlkZSA9IHRoaXMuX3NsaWRlc1swXTtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZVNsaWRlKHRoaXMuX3NsaWRlc1swXSwgdHJ1ZSk7XG4gICAgICAgIC8qYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy5fc2xpZGVzWzBdLFxuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgICAgfSk7XG4gICAgICAgICovXG4gICAgICAgIC8vIFVwZGF0ZSBpbmRpY2F0b3JzXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5kaWNhdG9ycykge1xuICAgICAgICAgIHRoaXMuX2luZGljYXRvcnNbdGhpcy5hY3RpdmVJbmRleF0uY2hpbGRyZW5bMF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWRqdXN0IGhlaWdodCB0byBjdXJyZW50IHNsaWRlXG4gICAgICAvLyBUT0RPOiA/Pz8gQ29kZSBkb2VzIG5vdCBkbyB3aGF0IGl0IHNheXMgaW4gY29tbWVudFxuICAgICAgLypcbiAgICAgIHRoaXMuX2FjdGl2ZVNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLl9hY3RpdmVTbGlkZS5xdWVyeVNlbGVjdG9yKCcuY2FwdGlvbicpLFxuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgdHJhbnNsYXRlWDogMCxcbiAgICAgICAgICB0cmFuc2xhdGVZOiAwLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICAqL1xuICAgICAgXG4gICAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIC8vIGF1dG8gc2Nyb2xsXG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX1NsaWRlcjtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgdGhpcy5fcmVtb3ZlSW5kaWNhdG9ycygpO1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX1NsaWRlciA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5faGFuZGxlSW50ZXJ2YWxCb3VuZCA9IHRoaXMuX2hhbmRsZUludGVydmFsLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVJbmRpY2F0b3JDbGlja0JvdW5kID0gdGhpcy5faGFuZGxlSW5kaWNhdG9yQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUF1dG9QYXVzZUZvY3VzQm91bmQgPSB0aGlzLl9oYW5kbGVBdXRvUGF1c2VGb2N1cy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlQXV0b1N0YXJ0Rm9jdXNCb3VuZCA9IHRoaXMuX2hhbmRsZUF1dG9TdGFydEZvY3VzLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVBdXRvUGF1c2VIb3ZlckJvdW5kID0gdGhpcy5faGFuZGxlQXV0b1BhdXNlSG92ZXIuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZUF1dG9TdGFydEhvdmVyQm91bmQgPSB0aGlzLl9oYW5kbGVBdXRvU3RhcnRIb3Zlci5iaW5kKHRoaXMpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wYXVzZU9uRm9jdXMpIHtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdGhpcy5faGFuZGxlQXV0b1BhdXNlRm9jdXNCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0aGlzLl9oYW5kbGVBdXRvU3RhcnRGb2N1c0JvdW5kKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucGF1c2VPbkhvdmVyKSB7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZUF1dG9QYXVzZUhvdmVyQm91bmQpO1xuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVBdXRvU3RhcnRIb3ZlckJvdW5kKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5kaWNhdG9ycykge1xuICAgICAgICB0aGlzLl9pbmRpY2F0b3JzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbmRpY2F0b3JDbGlja0JvdW5kKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBhdXNlT25Gb2N1cykge1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0aGlzLl9oYW5kbGVBdXRvUGF1c2VGb2N1c0JvdW5kKTtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX2hhbmRsZUF1dG9TdGFydEZvY3VzQm91bmQpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wYXVzZU9uSG92ZXIpIHtcbiAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlQXV0b1BhdXNlSG92ZXJCb3VuZCk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZUF1dG9TdGFydEhvdmVyQm91bmQpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XG4gICAgICAgIHRoaXMuX2luZGljYXRvcnMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUluZGljYXRvckNsaWNrQm91bmQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlSW5kaWNhdG9yQ2xpY2soZSkge1xuICAgICAgY29uc3QgZWwgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5wYXJlbnRFbGVtZW50O1xuICAgICAgY29uc3QgY3VyckluZGV4ID0gWy4uLmVsLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YoZWwpO1xuICAgICAgdGhpcy5fZm9jdXNDdXJyZW50ID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2V0KGN1cnJJbmRleCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUF1dG9QYXVzZUhvdmVyKCkge1xuICAgICAgdGhpcy5faG92ZXJlZCA9IHRydWU7XG4gICAgICBpZiAodGhpcy5pbnRlcnZhbCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3BhdXNlKHRydWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVBdXRvUGF1c2VGb2N1cygpIHtcbiAgICAgIHRoaXMuX2ZvY3VzZWQgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMuaW50ZXJ2YWwgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9wYXVzZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlQXV0b1N0YXJ0SG92ZXIoKSB7XG4gICAgICB0aGlzLl9ob3ZlcmVkID0gZmFsc2U7XG4gICAgICBpZiAoISh0aGlzLm9wdGlvbnMucGF1c2VPbkZvY3VzICYmIHRoaXMuX2ZvY3VzZWQpICYmIHRoaXMuZXZlbnRQYXVzZSkge1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZUF1dG9TdGFydEZvY3VzKCkge1xuICAgICAgdGhpcy5fZm9jdXNlZCA9IGZhbHNlO1xuICAgICAgaWYgKCEodGhpcy5vcHRpb25zLnBhdXNlT25Ib3ZlciAmJiB0aGlzLl9ob3ZlcmVkKSAmJiB0aGlzLmV2ZW50UGF1c2UpIHtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVJbnRlcnZhbCgpIHtcbiAgICAgIGNvbnN0IGFjdGl2ZUVsZW0gPSB0aGlzLl9zbGlkZXIucXVlcnlTZWxlY3RvcignLmFjdGl2ZScpO1xuICAgICAgbGV0IG5ld0FjdGl2ZUluZGV4ID0gWy4uLmFjdGl2ZUVsZW0ucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihhY3RpdmVFbGVtKTtcbiAgICAgIGlmICh0aGlzLl9zbGlkZXMubGVuZ3RoID09PSBuZXdBY3RpdmVJbmRleCArIDEpXG4gICAgICAgIG5ld0FjdGl2ZUluZGV4ID0gMDsgLy8gbG9vcCB0byBzdGFydFxuICAgICAgZWxzZVxuICAgICAgICBuZXdBY3RpdmVJbmRleCArPSAxO1xuICAgICAgdGhpcy5zZXQobmV3QWN0aXZlSW5kZXgpO1xuICAgIH1cblxuICAgIF9hbmltYXRlU2xpZGUoc2xpZGU6IEhUTUxFbGVtZW50LCBpc0RpcmVjdGlvbkluOiBib29sZWFuKTogdm9pZCB7XG4gICAgICBsZXQgZHggPSAwLCBkeSA9IDA7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogc2xpZGUsXG4gICAgICAgIG9wYWNpdHk6IGlzRGlyZWN0aW9uSW4gPyBbMCwgMV0gOiBbMSwgMF0sXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNhcHRpb24gPSBzbGlkZS5xdWVyeVNlbGVjdG9yKCcuY2FwdGlvbicpO1xuICAgICAgaWYgKCFjYXB0aW9uKSByZXR1cm47XG4gICAgICBpZiAoY2FwdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2NlbnRlci1hbGlnbicpKSBkeSA9IC0xMDA7XG4gICAgICBlbHNlIGlmIChjYXB0aW9uLmNsYXNzTGlzdC5jb250YWlucygncmlnaHQtYWxpZ24nKSkgZHggPSAxMDA7XG4gICAgICBlbHNlIGlmIChjYXB0aW9uLmNsYXNzTGlzdC5jb250YWlucygnbGVmdC1hbGlnbicpKSBkeCA9IC0xMDA7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogY2FwdGlvbixcbiAgICAgICAgb3BhY2l0eTogaXNEaXJlY3Rpb25JbiA/IFswLCAxXSA6IFsxLCAwXSxcbiAgICAgICAgdHJhbnNsYXRlWDogaXNEaXJlY3Rpb25JbiA/IFtkeCwgMF0gOiBbMCwgZHhdLFxuICAgICAgICB0cmFuc2xhdGVZOiBpc0RpcmVjdGlvbkluID8gW2R5LCAwXSA6IFswLCBkeV0sXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgIGRlbGF5OiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3NldFNsaWRlckhlaWdodCgpIHtcbiAgICAgIC8vIElmIGZ1bGxzY3JlZW4sIGRvIG5vdGhpbmdcbiAgICAgIGlmICghdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Z1bGxzY3JlZW4nKSkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgICAgICAvLyBBZGQgaGVpZ2h0IGlmIGluZGljYXRvcnMgYXJlIHByZXNlbnRcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9ICh0aGlzLm9wdGlvbnMuaGVpZ2h0ICsgNDApKydweCc7IC8vLmNzcygnaGVpZ2h0JywgdGhpcy5vcHRpb25zLmhlaWdodCArIDQwICsgJ3B4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSB0aGlzLm9wdGlvbnMuaGVpZ2h0KydweCc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2xpZGVyLnN0eWxlLmhlaWdodCA9IHRoaXMub3B0aW9ucy5oZWlnaHQrJ3B4JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0dXBJbmRpY2F0b3JzKCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XG4gICAgICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgICAgdWwuY2xhc3NMaXN0LmFkZCgnaW5kaWNhdG9ycycpO1xuXG4gICAgICAgIGNvbnN0IGFyckxpID0gW107XG4gICAgICAgIHRoaXMuX3NsaWRlcy5mb3JFYWNoKChlbCwgaSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5vcHRpb25zLmluZGljYXRvckxhYmVsRnVuY1xuICAgICAgICAgICAgPyB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yTGFiZWxGdW5jLmNhbGwodGhpcywgaSArIDEsIGkgPT09IDApXG4gICAgICAgICAgICA6IGAke2kgKyAxfWA7XG4gICAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ2luZGljYXRvci1pdGVtJyk7XG4gICAgICAgICAgbGkuaW5uZXJIVE1MID0gYDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiaW5kaWNhdG9yLWl0ZW0tYnRuXCIgYXJpYS1sYWJlbD1cIiR7bGFiZWx9XCIgYXJpYS1jb250cm9scz1cIiR7dGhpcy5fc2xpZGVySWR9XCI+PC9idXR0b24+YDtcbiAgICAgICAgICBhcnJMaS5wdXNoKGxpKTtcbiAgICAgICAgICB1bC5hcHBlbmQobGkpO1xuICAgICAgICB9KTsgICAgICAgXG5cbiAgICAgICAgdGhpcy5lbC5hcHBlbmQodWwpO1xuICAgICAgICB0aGlzLl9pbmRpY2F0b3JzID0gYXJyTGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3JlbW92ZUluZGljYXRvcnMoKSB7XG4gICAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ3VsLmluZGljYXRvcnMnKS5yZW1vdmUoKTsgLy9maW5kKCd1bC5pbmRpY2F0b3JzJykucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgc2V0KGluZGV4OiBudW1iZXIpIHtcbiAgICAgIC8vIFdyYXAgYXJvdW5kIGluZGljZXMuXG4gICAgICBpZiAoaW5kZXggPj0gdGhpcy5fc2xpZGVzLmxlbmd0aCkgaW5kZXggPSAwO1xuICAgICAgZWxzZSBpZiAoaW5kZXggPCAwKSBpbmRleCA9IHRoaXMuX3NsaWRlcy5sZW5ndGggLSAxO1xuXG4gICAgICAvLyBPbmx5IGRvIGlmIGluZGV4IGNoYW5nZXNcbiAgICAgIGlmICh0aGlzLmFjdGl2ZUluZGV4ID09PSBpbmRleCkgcmV0dXJuO1xuXG4gICAgICB0aGlzLl9hY3RpdmVTbGlkZSA9IHRoaXMuX3NsaWRlc1t0aGlzLmFjdGl2ZUluZGV4XTtcbiAgICAgIGNvbnN0IF9jYXB0aW9uID0gPEhUTUxFbGVtZW50fG51bGw+dGhpcy5fYWN0aXZlU2xpZGUucXVlcnlTZWxlY3RvcignLmNhcHRpb24nKTtcblxuICAgICAgdGhpcy5fYWN0aXZlU2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAvLyBFbmFibGVzIGV2ZXJ5IHNsaWRlXG4gICAgICB0aGlzLl9zbGlkZXMuZm9yRWFjaChzbGlkZSA9PiBzbGlkZS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnKTtcblxuICAgICAgLy8tLS0gSGlkZSBhY3RpdmUgU2xpZGUgKyBDYXB0aW9uXG4gICAgICAvLyBUT0RPOiBXaGF0IGRvZXMgdGhpcyBkbz9cbiAgICAgIGFuaW0oe1xuICAgICAgICB0YXJnZXRzOiB0aGlzLl9hY3RpdmVTbGlkZSxcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX3NsaWRlcy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSByZXR1cm47ICAgICAgICAgICAgXG4gICAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgICAgdGFyZ2V0czogZWwsXG4gICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgIHRyYW5zbGF0ZVg6IDAsXG4gICAgICAgICAgICAgIHRyYW5zbGF0ZVk6IDAsXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiAwLCAvLyBBbmltYXRpb24gd2l0aCBkdXJhdGlvbiAwLi4uIHdoeSB1c2UgYW5pbSBhdCBhbGwgdGhlbj9cbiAgICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIERpc2FibGVzIGludmlzaWJsZSBzbGlkZXMgKGZvciBhc3Npc3RpdmUgdGVjaG5vbG9naWVzKVxuICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gSGlkZSBhY3RpdmUgQ2FwdGlvblxuICAgICAgLy90aGlzLl9hbmltYXRlQ2FwdGlvbkluKF9jYXB0aW9uLCB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuICAgICAgX2NhcHRpb24uc3R5bGUub3BhY2l0eSA9ICcwJztcblxuICAgICAgLy8gVXBkYXRlIGluZGljYXRvcnNcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5kaWNhdG9ycykge1xuICAgICAgICBjb25zdCBhY3RpdmVJbmRpY2F0b3IgPSB0aGlzLl9pbmRpY2F0b3JzW3RoaXMuYWN0aXZlSW5kZXhdLmNoaWxkcmVuWzBdO1xuICAgICAgICBjb25zdCBuZXh0SW5kaWNhdG9yID0gdGhpcy5faW5kaWNhdG9yc1tpbmRleF0uY2hpbGRyZW5bMF07XG4gICAgICAgIGFjdGl2ZUluZGljYXRvci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgbmV4dEluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yTGFiZWxGdW5jID09PSBcImZ1bmN0aW9uXCIpe1xuICAgICAgICAgIGFjdGl2ZUluZGljYXRvci5hcmlhTGFiZWwgPSB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yTGFiZWxGdW5jLmNhbGwodGhpcywgdGhpcy5hY3RpdmVJbmRleCwgZmFsc2UpO1xuICAgICAgICAgIG5leHRJbmRpY2F0b3IuYXJpYUxhYmVsID0gdGhpcy5vcHRpb25zLmluZGljYXRvckxhYmVsRnVuYy5jYWxsKHRoaXMsIGluZGV4LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLy0tLSBTaG93IG5ldyBTbGlkZSArIENhcHRpb25cbiAgICAgIHRoaXMuX2FuaW1hdGVTbGlkZSh0aGlzLl9zbGlkZXNbaW5kZXhdLCB0cnVlKTtcblxuICAgICAgdGhpcy5fc2xpZGVzW2luZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgICAgLy8gVE9ETzogV2h5IGZvY3VzPyA9PiBjYXVzZXMgdW5jb250cm9sbGFibGUgcGFnZSBzY3JvbGxcbiAgICAgIC8qXG4gICAgICBpZiAodGhpcy5fZm9jdXNDdXJyZW50KSB7XG4gICAgICAgIHRoaXMuX3NsaWRlc1tpbmRleF0uZm9jdXMoKTtcbiAgICAgICAgdGhpcy5fZm9jdXNDdXJyZW50ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAqL1xuXG4gICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gaW5kZXg7XG5cbiAgICAgIC8vIFJlc2V0IGludGVydmFsLCBpZiBhbGxvd2VkLiBUaGlzIGNoZWNrIHByZXZlbnRzIGF1dG9zdGFydFxuICAgICAgLy8gd2hlbiBzbGlkZXIgaXMgcGF1c2VkLCBzaW5jZSBpdCBjYW4gYmUgY2hhbmdlZCB0aG91Z2ggaW5kaWNhdG9ycy5cbiAgICAgIGlmICh0aGlzLmludGVydmFsICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9wYXVzZShmcm9tRXZlbnQ6IGJvb2xlYW4pIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgICB0aGlzLmV2ZW50UGF1c2UgPSBmcm9tRXZlbnQ7XG4gICAgICB0aGlzLmludGVydmFsID0gbnVsbDtcbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgIHRoaXMuX3BhdXNlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoXG4gICAgICAgIHRoaXMuX2hhbmRsZUludGVydmFsQm91bmQsXG4gICAgICAgIHRoaXMub3B0aW9ucy5kdXJhdGlvbiArIHRoaXMub3B0aW9ucy5pbnRlcnZhbFxuICAgICAgKTtcbiAgICAgIHRoaXMuZXZlbnRQYXVzZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIG5leHQoKSB7XG4gICAgICBsZXQgbmV3SW5kZXggPSB0aGlzLmFjdGl2ZUluZGV4ICsgMTtcbiAgICAgIC8vIFdyYXAgYXJvdW5kIGluZGljZXMuXG4gICAgICBpZiAobmV3SW5kZXggPj0gdGhpcy5fc2xpZGVzLmxlbmd0aCkgbmV3SW5kZXggPSAwO1xuICAgICAgZWxzZSBpZiAobmV3SW5kZXggPCAwKSBuZXdJbmRleCA9IHRoaXMuX3NsaWRlcy5sZW5ndGggLSAxO1xuICAgICAgdGhpcy5zZXQobmV3SW5kZXgpO1xuICAgIH1cblxuICAgIHByZXYoKSB7XG4gICAgICBsZXQgbmV3SW5kZXggPSB0aGlzLmFjdGl2ZUluZGV4IC0gMTtcbiAgICAgIC8vIFdyYXAgYXJvdW5kIGluZGljZXMuXG4gICAgICBpZiAobmV3SW5kZXggPj0gdGhpcy5fc2xpZGVzLmxlbmd0aCkgbmV3SW5kZXggPSAwO1xuICAgICAgZWxzZSBpZiAobmV3SW5kZXggPCAwKSBuZXdJbmRleCA9IHRoaXMuX3NsaWRlcy5sZW5ndGggLSAxO1xuICAgICAgdGhpcy5zZXQobmV3SW5kZXgpO1xuICAgIH1cbiAgfVxuICBcblxuICBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/slider.ts\n");

/***/ }),

/***/ "./src/tabs.ts":
/*!*********************!*\
  !*** ./src/tabs.ts ***!
  \*********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Tabs = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst carousel_1 = __webpack_require__(/*! ./carousel */ \"./src/carousel.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nlet _defaults = {\n    duration: 300,\n    onShow: null,\n    swipeable: false,\n    responsiveThreshold: Infinity, // breakpoint for swipeable\n};\nclass Tabs extends component_1.Component {\n    constructor(el, options) {\n        super(Tabs, el, options);\n        this.el.M_Tabs = this;\n        this.options = Object.assign(Object.assign({}, Tabs.defaults), options);\n        this._tabLinks = this.el.querySelectorAll('li.tab > a');\n        this._index = 0;\n        this._setupActiveTabLink();\n        if (this.options.swipeable) {\n            this._setupSwipeableTabs();\n        }\n        else {\n            this._setupNormalTabs();\n        }\n        // Setup tabs indicator after content to ensure accurate widths\n        this._setTabsAndTabWidth();\n        this._createIndicator();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Tabs;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._indicator.parentNode.removeChild(this._indicator);\n        if (this.options.swipeable) {\n            this._teardownSwipeableTabs();\n        }\n        else {\n            this._teardownNormalTabs();\n        }\n        this.el.M_Tabs = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleWindowResizeBound = this._handleWindowResize.bind(this);\n        window.addEventListener('resize', this._handleWindowResizeBound);\n        this._handleTabClickBound = this._handleTabClick.bind(this);\n        this.el.addEventListener('click', this._handleTabClickBound);\n    }\n    _removeEventHandlers() {\n        window.removeEventListener('resize', this._handleWindowResizeBound);\n        this.el.removeEventListener('click', this._handleTabClickBound);\n    }\n    _handleWindowResize() {\n        this._setTabsAndTabWidth();\n        if (this._tabWidth !== 0 && this._tabsWidth !== 0) {\n            this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\n            this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\n        }\n    }\n    _handleTabClick(e) {\n        const tabLink = e.target;\n        const tab = tabLink.parentElement;\n        // Handle click on tab link only\n        if (!tabLink || !tab.classList.contains('tab'))\n            return;\n        // is disabled?\n        if (tab.classList.contains('disabled')) {\n            e.preventDefault();\n            return;\n        }\n        // Act as regular link if target attribute is specified.\n        if (tabLink.hasAttribute('target'))\n            return;\n        // Make the old tab inactive.\n        this._activeTabLink.classList.remove('active');\n        const _oldContent = this._content;\n        // Update the variables with the new link and content\n        this._activeTabLink = tabLink;\n        this._content = document.querySelector(tabLink.hash);\n        this._tabLinks = this.el.querySelectorAll('li.tab > a');\n        // Make the tab active\n        this._activeTabLink.classList.add('active');\n        const prevIndex = this._index;\n        this._index = Math.max(Array.from(this._tabLinks).indexOf(tabLink), 0);\n        // Swap content\n        if (this.options.swipeable) {\n            if (this._tabsCarousel) {\n                this._tabsCarousel.set(this._index, () => {\n                    if (typeof this.options.onShow === 'function')\n                        this.options.onShow.call(this, this._content);\n                });\n            }\n        }\n        else {\n            if (this._content) {\n                this._content.style.display = 'block';\n                this._content.classList.add('active');\n                if (typeof this.options.onShow === 'function')\n                    this.options.onShow.call(this, this._content);\n                if (_oldContent && _oldContent !== this._content) {\n                    _oldContent.style.display = 'none';\n                    _oldContent.classList.remove('active');\n                }\n            }\n        }\n        // Update widths after content is swapped (scrollbar bugfix)\n        this._setTabsAndTabWidth();\n        this._animateIndicator(prevIndex);\n        e.preventDefault();\n    }\n    _createIndicator() {\n        const indicator = document.createElement('li');\n        indicator.classList.add('indicator');\n        this.el.appendChild(indicator);\n        this._indicator = indicator;\n        this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\n        this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\n    }\n    _setupActiveTabLink() {\n        // If the location.hash matches one of the links, use that as the active tab.\n        this._activeTabLink = Array.from(this._tabLinks).find((a) => a.getAttribute('href') === location.hash);\n        // If no match is found, use the first link or any with class 'active' as the initial active tab.\n        if (!this._activeTabLink) {\n            this._activeTabLink = this.el.querySelector('li.tab a.active');\n        }\n        if (this._activeTabLink.length === 0) {\n            this._activeTabLink = this.el.querySelector('li.tab a');\n        }\n        Array.from(this._tabLinks).forEach((a) => a.classList.remove('active'));\n        this._activeTabLink.classList.add('active');\n        this._index = Math.max(Array.from(this._tabLinks).indexOf(this._activeTabLink), 0);\n        if (this._activeTabLink) {\n            this._content = document.querySelector(this._activeTabLink.hash);\n            this._content.classList.add('active');\n        }\n    }\n    _setupSwipeableTabs() {\n        // Change swipeable according to responsive threshold\n        if (window.innerWidth > this.options.responsiveThreshold)\n            this.options.swipeable = false;\n        const tabsContent = [];\n        this._tabLinks.forEach(a => {\n            const currContent = document.querySelector(a.hash);\n            currContent.classList.add('carousel-item');\n            tabsContent.push(currContent);\n        });\n        // Create Carousel-Wrapper around Tab-Contents\n        const tabsWrapper = document.createElement('div');\n        tabsWrapper.classList.add('tabs-content', 'carousel', 'carousel-slider');\n        // Wrap around\n        tabsContent[0].parentElement.insertBefore(tabsWrapper, tabsContent[0]);\n        tabsContent.forEach(tabContent => {\n            tabsWrapper.appendChild(tabContent);\n            tabContent.style.display = '';\n        });\n        // Keep active tab index to set initial carousel slide\n        const tab = this._activeTabLink.parentElement;\n        const activeTabIndex = Array.from(tab.parentNode.children).indexOf(tab);\n        this._tabsCarousel = carousel_1.Carousel.init(tabsWrapper, {\n            fullWidth: true,\n            noWrap: true,\n            onCycleTo: (item) => {\n                const prevIndex = this._index;\n                this._index = Array.from(item.parentNode.children).indexOf(item);\n                this._activeTabLink.classList.remove('active');\n                this._activeTabLink = Array.from(this._tabLinks)[this._index];\n                this._activeTabLink.classList.add('active');\n                this._animateIndicator(prevIndex);\n                if (typeof this.options.onShow === 'function')\n                    this.options.onShow.call(this, this._content);\n            }\n        });\n        // Set initial carousel slide to active tab\n        this._tabsCarousel.set(activeTabIndex);\n    }\n    _teardownSwipeableTabs() {\n        const tabsWrapper = this._tabsCarousel.el;\n        this._tabsCarousel.destroy();\n        // Unwrap\n        tabsWrapper.after(tabsWrapper.children);\n        tabsWrapper.remove();\n    }\n    _setupNormalTabs() {\n        // Hide Tabs Content\n        Array.from(this._tabLinks).forEach(a => {\n            if (a === this._activeTabLink)\n                return;\n            if (a.hash) {\n                const currContent = document.querySelector(a.hash);\n                if (currContent)\n                    currContent.style.display = 'none';\n            }\n        });\n    }\n    _teardownNormalTabs() {\n        // show Tabs Content\n        this._tabLinks.forEach(a => {\n            if (a.hash) {\n                const currContent = document.querySelector(a.hash);\n                if (currContent)\n                    currContent.style.display = '';\n            }\n        });\n    }\n    _setTabsAndTabWidth() {\n        this._tabsWidth = this.el.getBoundingClientRect().width;\n        this._tabWidth = Math.max(this._tabsWidth, this.el.scrollWidth) / this._tabLinks.length;\n    }\n    _calcRightPos(el) {\n        return Math.ceil(this._tabsWidth - el.offsetLeft - el.getBoundingClientRect().width);\n    }\n    _calcLeftPos(el) {\n        return Math.floor(el.offsetLeft);\n    }\n    updateTabIndicator() {\n        this._setTabsAndTabWidth();\n        this._animateIndicator(this._index);\n    }\n    _animateIndicator(prevIndex) {\n        let leftDelay = 0, rightDelay = 0;\n        if (this._index - prevIndex >= 0)\n            leftDelay = 90;\n        else\n            rightDelay = 90;\n        const animOptions = {\n            targets: this._indicator,\n            left: {\n                value: this._calcLeftPos(this._activeTabLink),\n                delay: leftDelay\n            },\n            right: {\n                value: this._calcRightPos(this._activeTabLink),\n                delay: rightDelay\n            },\n            duration: this.options.duration,\n            easing: 'easeOutQuad'\n        };\n        animejs_1.default.remove(this._indicator);\n        (0, animejs_1.default)(animOptions);\n    }\n    select(tabId) {\n        const tab = Array.from(this._tabLinks).find((a) => a.getAttribute('href') === '#' + tabId);\n        if (tab)\n            tab.click();\n    }\n}\nexports.Tabs = Tabs;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OUMsS0FBSyxFQUFFLFVBQVU7YUFDbEI7WUFDRCxRQUFRLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRO1lBQy9CLE1BQU0sRUFBRSxhQUFhO1NBQ3RCLENBQUM7UUFDRixpQkFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDN0IscUJBQUksRUFBQyxXQUFXLENBQUMsQ0FBQztJQUNwQixDQUFDO0lBRUQsTUFBTSxDQUFDLEtBQUs7UUFDVixNQUFNLEdBQUcsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFvQixFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsR0FBQyxLQUFLLENBQUMsQ0FBQztRQUM1RyxJQUFJLEdBQUc7WUFBc0IsR0FBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzVDLENBQUM7Q0FDRjtBQXRSSCxvQkFzUkciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL3RhYnMudHM/ZmYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IENhcm91c2VsIH0gZnJvbSBcIi4vY2Fyb3VzZWxcIjtcbmltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5cbmxldCBfZGVmYXVsdHMgPSB7XG4gIGR1cmF0aW9uOiAzMDAsXG4gIG9uU2hvdzogbnVsbCxcbiAgc3dpcGVhYmxlOiBmYWxzZSxcbiAgcmVzcG9uc2l2ZVRocmVzaG9sZDogSW5maW5pdHksIC8vIGJyZWFrcG9pbnQgZm9yIHN3aXBlYWJsZVxufTtcblxuZXhwb3J0IGNsYXNzIFRhYnMgZXh0ZW5kcyBDb21wb25lbnQge1xuICBlbDogSFRNTEVsZW1lbnQ7XG4gIF90YWJMaW5rczogYW55O1xuICBfaW5kZXg6IG51bWJlcjtcbiAgX2luZGljYXRvcjogYW55O1xuICBfaGFuZGxlV2luZG93UmVzaXplQm91bmQ6ICh0aGlzOiBXaW5kb3csIGV2OiBVSUV2ZW50KSA9PiBhbnk7XG4gIF9oYW5kbGVUYWJDbGlja0JvdW5kOiAodGhpczogV2luZG93LCBldjogVUlFdmVudCkgPT4gYW55O1xuICBfdGFiV2lkdGg6IG51bWJlcjtcbiAgX3RhYnNXaWR0aDogbnVtYmVyO1xuICBfdGFic0Nhcm91c2VsOiBhbnk7XG4gIF9hY3RpdmVUYWJMaW5rOiBhbnk7XG4gIF9jb250ZW50OiBhbnk7XG5cbiAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnM6IGFueSkge1xuICAgIHN1cGVyKFRhYnMsIGVsLCBvcHRpb25zKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9UYWJzID0gdGhpcztcblxuICAgICAgdGhpcy5vcHRpb25zID0gey4uLlRhYnMuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuICAgICAgdGhpcy5fdGFiTGlua3MgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpLnRhYiA+IGEnKTtcbiAgICAgIHRoaXMuX2luZGV4ID0gMDtcbiAgICAgIHRoaXMuX3NldHVwQWN0aXZlVGFiTGluaygpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zd2lwZWFibGUpIHtcbiAgICAgICAgdGhpcy5fc2V0dXBTd2lwZWFibGVUYWJzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZXR1cE5vcm1hbFRhYnMoKTtcbiAgICAgIH1cbiAgICAgIC8vIFNldHVwIHRhYnMgaW5kaWNhdG9yIGFmdGVyIGNvbnRlbnQgdG8gZW5zdXJlIGFjY3VyYXRlIHdpZHRoc1xuICAgICAgdGhpcy5fc2V0VGFic0FuZFRhYldpZHRoKCk7XG4gICAgICB0aGlzLl9jcmVhdGVJbmRpY2F0b3IoKTtcbiAgICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgIGNvbnN0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX1RhYnM7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHRoaXMuX2luZGljYXRvci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2luZGljYXRvcik7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnN3aXBlYWJsZSkge1xuICAgICAgICB0aGlzLl90ZWFyZG93blN3aXBlYWJsZVRhYnMoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl90ZWFyZG93bk5vcm1hbFRhYnMoKTtcbiAgICAgIH1cbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9UYWJzID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemVCb3VuZCA9IHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZUJvdW5kKTtcbiAgICAgIHRoaXMuX2hhbmRsZVRhYkNsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVUYWJDbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRhYkNsaWNrQm91bmQpO1xuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZUJvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUYWJDbGlja0JvdW5kKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlV2luZG93UmVzaXplKCkge1xuICAgICAgdGhpcy5fc2V0VGFic0FuZFRhYldpZHRoKCk7XG4gICAgICBpZiAodGhpcy5fdGFiV2lkdGggIT09IDAgJiYgdGhpcy5fdGFic1dpZHRoICE9PSAwKSB7XG4gICAgICAgIHRoaXMuX2luZGljYXRvci5zdHlsZS5sZWZ0ID0gdGhpcy5fY2FsY0xlZnRQb3ModGhpcy5fYWN0aXZlVGFiTGluaykrJ3B4JztcbiAgICAgICAgdGhpcy5faW5kaWNhdG9yLnN0eWxlLnJpZ2h0ID0gdGhpcy5fY2FsY1JpZ2h0UG9zKHRoaXMuX2FjdGl2ZVRhYkxpbmspKydweCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZVRhYkNsaWNrKGUpIHtcbiAgICAgIGNvbnN0IHRhYkxpbmsgPSBlLnRhcmdldDtcbiAgICAgIGNvbnN0IHRhYiA9IHRhYkxpbmsucGFyZW50RWxlbWVudDsgIFxuICAgICAgLy8gSGFuZGxlIGNsaWNrIG9uIHRhYiBsaW5rIG9ubHlcbiAgICAgIGlmICghdGFiTGluayB8fCAhdGFiLmNsYXNzTGlzdC5jb250YWlucygndGFiJykpIHJldHVybjtcbiAgICAgIC8vIGlzIGRpc2FibGVkP1xuICAgICAgaWYgKHRhYi5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBBY3QgYXMgcmVndWxhciBsaW5rIGlmIHRhcmdldCBhdHRyaWJ1dGUgaXMgc3BlY2lmaWVkLlxuICAgICAgaWYgKHRhYkxpbmsuaGFzQXR0cmlidXRlKCd0YXJnZXQnKSkgcmV0dXJuO1xuICAgICAgLy8gTWFrZSB0aGUgb2xkIHRhYiBpbmFjdGl2ZS5cbiAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBjb25zdCBfb2xkQ29udGVudCA9IHRoaXMuX2NvbnRlbnQ7ICAgICAgXG4gICAgICAvLyBVcGRhdGUgdGhlIHZhcmlhYmxlcyB3aXRoIHRoZSBuZXcgbGluayBhbmQgY29udGVudFxuXG4gICAgICB0aGlzLl9hY3RpdmVUYWJMaW5rID0gdGFiTGluaztcbiAgICAgIHRoaXMuX2NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhYkxpbmsuaGFzaCk7XG4gICAgICB0aGlzLl90YWJMaW5rcyA9IHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgnbGkudGFiID4gYScpO1xuICAgICAgLy8gTWFrZSB0aGUgdGFiIGFjdGl2ZVxuICAgICAgdGhpcy5fYWN0aXZlVGFiTGluay5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGNvbnN0IHByZXZJbmRleCA9IHRoaXMuX2luZGV4O1xuICAgICAgdGhpcy5faW5kZXggPSBNYXRoLm1heChBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5pbmRleE9mKHRhYkxpbmspLCAwKTtcblxuICAgICAgLy8gU3dhcCBjb250ZW50XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnN3aXBlYWJsZSkge1xuICAgICAgICBpZiAodGhpcy5fdGFic0Nhcm91c2VsKSB7XG4gICAgICAgICAgdGhpcy5fdGFic0Nhcm91c2VsLnNldCh0aGlzLl9pbmRleCwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TaG93ID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMub25TaG93LmNhbGwodGhpcywgdGhpcy5fY29udGVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgdGhpcy5fY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICB0aGlzLl9jb250ZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uU2hvdyA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vblNob3cuY2FsbCh0aGlzLCB0aGlzLl9jb250ZW50KTtcbiAgICAgICAgICBpZiAoX29sZENvbnRlbnQgJiYgX29sZENvbnRlbnQgIT09IHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICAgIF9vbGRDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICBfb2xkQ29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFVwZGF0ZSB3aWR0aHMgYWZ0ZXIgY29udGVudCBpcyBzd2FwcGVkIChzY3JvbGxiYXIgYnVnZml4KVxuICAgICAgdGhpcy5fc2V0VGFic0FuZFRhYldpZHRoKCk7XG4gICAgICB0aGlzLl9hbmltYXRlSW5kaWNhdG9yKHByZXZJbmRleCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUluZGljYXRvcigpIHtcbiAgICAgIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBpbmRpY2F0b3IuY2xhc3NMaXN0LmFkZCgnaW5kaWNhdG9yJyk7XG4gICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKGluZGljYXRvcik7XG4gICAgICB0aGlzLl9pbmRpY2F0b3IgPSBpbmRpY2F0b3I7XG4gICAgICB0aGlzLl9pbmRpY2F0b3Iuc3R5bGUubGVmdCA9IHRoaXMuX2NhbGNMZWZ0UG9zKHRoaXMuX2FjdGl2ZVRhYkxpbmspKydweCc7XG4gICAgICB0aGlzLl9pbmRpY2F0b3Iuc3R5bGUucmlnaHQgPSB0aGlzLl9jYWxjUmlnaHRQb3ModGhpcy5fYWN0aXZlVGFiTGluaykrJ3B4JztcbiAgICB9XG5cbiAgICBfc2V0dXBBY3RpdmVUYWJMaW5rKCkge1xuICAgICAgLy8gSWYgdGhlIGxvY2F0aW9uLmhhc2ggbWF0Y2hlcyBvbmUgb2YgdGhlIGxpbmtzLCB1c2UgdGhhdCBhcyB0aGUgYWN0aXZlIHRhYi5cbiAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsgPSBBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5maW5kKChhOiBIVE1MQW5jaG9yRWxlbWVudCkgPT4gYS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA9PT0gbG9jYXRpb24uaGFzaCk7XG4gICAgICAvLyBJZiBubyBtYXRjaCBpcyBmb3VuZCwgdXNlIHRoZSBmaXJzdCBsaW5rIG9yIGFueSB3aXRoIGNsYXNzICdhY3RpdmUnIGFzIHRoZSBpbml0aWFsIGFjdGl2ZSB0YWIuXG4gICAgICBpZiAoIXRoaXMuX2FjdGl2ZVRhYkxpbmspIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlVGFiTGluayA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignbGkudGFiIGEuYWN0aXZlJyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fYWN0aXZlVGFiTGluay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlVGFiTGluayA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignbGkudGFiIGEnKTtcbiAgICAgIH1cbiAgICAgIEFycmF5LmZyb20odGhpcy5fdGFiTGlua3MpLmZvckVhY2goKGE6IEhUTUxBbmNob3JFbGVtZW50KSA9PiBhLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcbiAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cbiAgICAgIHRoaXMuX2luZGV4ID0gTWF0aC5tYXgoQXJyYXkuZnJvbSh0aGlzLl90YWJMaW5rcykuaW5kZXhPZih0aGlzLl9hY3RpdmVUYWJMaW5rKSwgMCk7XG4gICAgICBpZiAodGhpcy5fYWN0aXZlVGFiTGluaykge1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9hY3RpdmVUYWJMaW5rLmhhc2gpO1xuICAgICAgICB0aGlzLl9jb250ZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9zZXR1cFN3aXBlYWJsZVRhYnMoKSB7XG4gICAgICAvLyBDaGFuZ2Ugc3dpcGVhYmxlIGFjY29yZGluZyB0byByZXNwb25zaXZlIHRocmVzaG9sZFxuICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gdGhpcy5vcHRpb25zLnJlc3BvbnNpdmVUaHJlc2hvbGQpXG4gICAgICAgIHRoaXMub3B0aW9ucy5zd2lwZWFibGUgPSBmYWxzZTtcblxuICAgICAgY29uc3QgdGFic0NvbnRlbnQgPSBbXTtcbiAgICAgIHRoaXMuX3RhYkxpbmtzLmZvckVhY2goYSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhLmhhc2gpO1xuICAgICAgICBjdXJyQ29udGVudC5jbGFzc0xpc3QuYWRkKCdjYXJvdXNlbC1pdGVtJyk7XG4gICAgICAgIHRhYnNDb250ZW50LnB1c2goY3VyckNvbnRlbnQpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBDYXJvdXNlbC1XcmFwcGVyIGFyb3VuZCBUYWItQ29udGVudHNcbiAgICAgIGNvbnN0IHRhYnNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IFxuICAgICAgdGFic1dyYXBwZXIuY2xhc3NMaXN0LmFkZCgndGFicy1jb250ZW50JywgJ2Nhcm91c2VsJywgJ2Nhcm91c2VsLXNsaWRlcicpO1xuXG4gICAgICAvLyBXcmFwIGFyb3VuZFxuICAgICAgdGFic0NvbnRlbnRbMF0ucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUodGFic1dyYXBwZXIsIHRhYnNDb250ZW50WzBdKTtcbiAgICAgIHRhYnNDb250ZW50LmZvckVhY2godGFiQ29udGVudCA9PiB7XG4gICAgICAgIHRhYnNXcmFwcGVyLmFwcGVuZENoaWxkKHRhYkNvbnRlbnQpO1xuICAgICAgICB0YWJDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgIH0pO1xuXG4gICAgICAvLyBLZWVwIGFjdGl2ZSB0YWIgaW5kZXggdG8gc2V0IGluaXRpYWwgY2Fyb3VzZWwgc2xpZGVcbiAgICAgIGNvbnN0IHRhYiA9IHRoaXMuX2FjdGl2ZVRhYkxpbmsucGFyZW50RWxlbWVudDtcbiAgICAgIGNvbnN0IGFjdGl2ZVRhYkluZGV4ID0gQXJyYXkuZnJvbSh0YWIucGFyZW50Tm9kZS5jaGlsZHJlbikuaW5kZXhPZih0YWIpO1xuXG4gICAgICB0aGlzLl90YWJzQ2Fyb3VzZWwgPSBDYXJvdXNlbC5pbml0KHRhYnNXcmFwcGVyLCB7XG4gICAgICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICAgICAgbm9XcmFwOiB0cnVlLFxuICAgICAgICBvbkN5Y2xlVG86IChpdGVtKSA9PiB7XG4gICAgICAgICAgY29uc3QgcHJldkluZGV4ID0gdGhpcy5faW5kZXg7XG4gICAgICAgICAgdGhpcy5faW5kZXggPSBBcnJheS5mcm9tKGl0ZW0ucGFyZW50Tm9kZS5jaGlsZHJlbikuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgICB0aGlzLl9hY3RpdmVUYWJMaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsgPSBBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKVt0aGlzLl9pbmRleF07XG4gICAgICAgICAgdGhpcy5fYWN0aXZlVGFiTGluay5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICB0aGlzLl9hbmltYXRlSW5kaWNhdG9yKHByZXZJbmRleCk7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TaG93ID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uU2hvdy5jYWxsKHRoaXMsIHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIFNldCBpbml0aWFsIGNhcm91c2VsIHNsaWRlIHRvIGFjdGl2ZSB0YWJcbiAgICAgIHRoaXMuX3RhYnNDYXJvdXNlbC5zZXQoYWN0aXZlVGFiSW5kZXgpO1xuICAgIH1cblxuICAgIF90ZWFyZG93blN3aXBlYWJsZVRhYnMoKSB7XG4gICAgICBjb25zdCB0YWJzV3JhcHBlciA9IHRoaXMuX3RhYnNDYXJvdXNlbC5lbDtcbiAgICAgIHRoaXMuX3RhYnNDYXJvdXNlbC5kZXN0cm95KCk7XG4gICAgICAvLyBVbndyYXBcbiAgICAgIHRhYnNXcmFwcGVyLmFmdGVyKHRhYnNXcmFwcGVyLmNoaWxkcmVuKTtcbiAgICAgIHRhYnNXcmFwcGVyLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIF9zZXR1cE5vcm1hbFRhYnMoKSB7XG4gICAgICAvLyBIaWRlIFRhYnMgQ29udGVudFxuICAgICAgQXJyYXkuZnJvbSh0aGlzLl90YWJMaW5rcykuZm9yRWFjaChhID0+IHtcbiAgICAgICAgaWYgKGEgPT09IHRoaXMuX2FjdGl2ZVRhYkxpbmspIHJldHVybjtcbiAgICAgICAgaWYgKCg8SFRNTEFuY2hvckVsZW1lbnQ+YSkuaGFzaCkge1xuICAgICAgICAgIGNvbnN0IGN1cnJDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigoPEhUTUxBbmNob3JFbGVtZW50PmEpLmhhc2gpO1xuICAgICAgICAgIGlmIChjdXJyQ29udGVudCkgKDxIVE1MRWxlbWVudD5jdXJyQ29udGVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3RlYXJkb3duTm9ybWFsVGFicygpIHtcbiAgICAgIC8vIHNob3cgVGFicyBDb250ZW50XG4gICAgICB0aGlzLl90YWJMaW5rcy5mb3JFYWNoKGEgPT4ge1xuICAgICAgICBpZiAoYS5oYXNoKSB7XG4gICAgICAgICAgY29uc3QgY3VyckNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGEuaGFzaCk7XG4gICAgICAgICAgaWYgKGN1cnJDb250ZW50KSBjdXJyQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9zZXRUYWJzQW5kVGFiV2lkdGgoKSB7XG4gICAgICB0aGlzLl90YWJzV2lkdGggPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgICAgdGhpcy5fdGFiV2lkdGggPSBNYXRoLm1heCh0aGlzLl90YWJzV2lkdGgsIHRoaXMuZWwuc2Nyb2xsV2lkdGgpIC8gdGhpcy5fdGFiTGlua3MubGVuZ3RoO1xuICAgIH1cblxuICAgIF9jYWxjUmlnaHRQb3MoZWwpIHtcbiAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5fdGFic1dpZHRoIC0gZWwub2Zmc2V0TGVmdCAtIGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcbiAgICB9XG5cbiAgICBfY2FsY0xlZnRQb3MoZWwpIHtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKGVsLm9mZnNldExlZnQpO1xuICAgIH1cblxuICAgIHVwZGF0ZVRhYkluZGljYXRvcigpIHtcbiAgICAgIHRoaXMuX3NldFRhYnNBbmRUYWJXaWR0aCgpO1xuICAgICAgdGhpcy5fYW5pbWF0ZUluZGljYXRvcih0aGlzLl9pbmRleCk7XG4gICAgfVxuXG4gICAgX2FuaW1hdGVJbmRpY2F0b3IocHJldkluZGV4KSB7XG4gICAgICBsZXQgbGVmdERlbGF5ID0gMCwgcmlnaHREZWxheSA9IDA7XG5cbiAgICAgIGlmICh0aGlzLl9pbmRleCAtIHByZXZJbmRleCA+PSAwKVxuICAgICAgICBsZWZ0RGVsYXkgPSA5MDtcbiAgICAgIGVsc2VcbiAgICAgICAgcmlnaHREZWxheSA9IDkwO1xuXG4gICAgICBjb25zdCBhbmltT3B0aW9ucyA9IHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5faW5kaWNhdG9yLFxuICAgICAgICBsZWZ0OiB7XG4gICAgICAgICAgdmFsdWU6IHRoaXMuX2NhbGNMZWZ0UG9zKHRoaXMuX2FjdGl2ZVRhYkxpbmspLFxuICAgICAgICAgIGRlbGF5OiBsZWZ0RGVsYXlcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHQ6IHtcbiAgICAgICAgICB2YWx1ZTogdGhpcy5fY2FsY1JpZ2h0UG9zKHRoaXMuX2FjdGl2ZVRhYkxpbmspLFxuICAgICAgICAgIGRlbGF5OiByaWdodERlbGF5XG4gICAgICAgIH0sXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgfTtcbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuX2luZGljYXRvcik7XG4gICAgICBhbmltKGFuaW1PcHRpb25zKTtcbiAgICB9XG5cbiAgICBzZWxlY3QodGFiSWQpIHtcbiAgICAgIGNvbnN0IHRhYiA9IEFycmF5LmZyb20odGhpcy5fdGFiTGlua3MpLmZpbmQoKGE6IEhUTUxBbmNob3JFbGVtZW50KSA9PiBhLmdldEF0dHJpYnV0ZSgnaHJlZicpID09PSAnIycrdGFiSWQpO1xuICAgICAgaWYgKHRhYikgKDxIVE1MQW5jaG9yRWxlbWVudD50YWIpLmNsaWNrKCk7XG4gICAgfVxuICB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/tabs.ts\n");

/***/ }),

/***/ "./src/tapTarget.ts":
/*!**************************!*\
  !*** ./src/tapTarget.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TapTarget = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    onOpen: undefined,\n    onClose: undefined\n};\nclass TapTarget extends component_1.Component {\n    constructor(el, options) {\n        super(TapTarget, el, options);\n        this.el.M_TapTarget = this;\n        this.options = Object.assign(Object.assign({}, TapTarget.defaults), options);\n        this.isOpen = false;\n        // setup\n        this._origin = document.querySelector('#' + this.el.getAttribute('data-target'));\n        this._setup();\n        this._calculatePositioning();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_TapTarget;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.TapTarget = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleDocumentClickBound = this._handleDocumentClick.bind(this);\n        this._handleTargetClickBound = this._handleTargetClick.bind(this);\n        this._handleOriginClickBound = this._handleOriginClick.bind(this);\n        this.el.addEventListener('click', this._handleTargetClickBound);\n        this.originEl.addEventListener('click', this._handleOriginClickBound);\n        // Resize\n        let throttledResize = global_1.M.throttle(this._handleResize, 200);\n        this._handleThrottledResizeBound = throttledResize.bind(this);\n        window.addEventListener('resize', this._handleThrottledResizeBound);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleTargetClickBound);\n        this.originEl.removeEventListener('click', this._handleOriginClickBound);\n        window.removeEventListener('resize', this._handleThrottledResizeBound);\n    }\n    _handleTargetClick(e) {\n        this.open();\n    }\n    _handleOriginClick(e) {\n        this.close();\n    }\n    _handleResize(e) {\n        this._calculatePositioning();\n    }\n    _handleDocumentClick(e) {\n        if (!e.target.closest('.tap-target-wrapper')) {\n            this.close();\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    }\n    _setup() {\n        // Creating tap target\n        this.wrapper = this.el.parentElement;\n        this.waveEl = this.wrapper.querySelector('.tap-target-wave');\n        this.originEl = this.wrapper.querySelector('.tap-target-origin');\n        this.contentEl = this.el.querySelector('.tap-target-content');\n        // Creating wrapper\n        if (!this.wrapper.classList.contains('.tap-target-wrapper')) {\n            this.wrapper = document.createElement('div');\n            this.wrapper.classList.add('tap-target-wrapper');\n            this.el.before(this.wrapper);\n            this.wrapper.append(this.el);\n        }\n        // Creating content\n        if (!this.contentEl) {\n            this.contentEl = document.createElement('div');\n            this.contentEl.classList.add('tap-target-content');\n            this.el.append(this.contentEl);\n        }\n        // Creating foreground wave\n        if (!this.waveEl) {\n            this.waveEl = document.createElement('div');\n            this.waveEl.classList.add('tap-target-wave');\n            // Creating origin\n            if (!this.originEl) {\n                this.originEl = this._origin.cloneNode(true); // .clone(true, true);\n                this.originEl.classList.add('tap-target-origin');\n                this.originEl.removeAttribute('id');\n                this.originEl.removeAttribute('style');\n                this.waveEl.append(this.originEl);\n            }\n            this.wrapper.append(this.waveEl);\n        }\n    }\n    _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    _calculatePositioning() {\n        // Element or parent is fixed position?\n        let isFixed = getComputedStyle(this._origin).position === 'fixed';\n        if (!isFixed) {\n            let currentElem = this._origin;\n            const parents = [];\n            while ((currentElem = currentElem.parentNode) && currentElem !== document)\n                parents.push(currentElem);\n            for (let i = 0; i < parents.length; i++) {\n                isFixed = getComputedStyle(parents[i]).position === 'fixed';\n                if (isFixed)\n                    break;\n            }\n        }\n        // Calculating origin\n        const originWidth = this._origin.offsetWidth;\n        const originHeight = this._origin.offsetHeight;\n        const originTop = isFixed ? this._offset(this._origin).top - global_1.M.getDocumentScrollTop() : this._offset(this._origin).top;\n        const originLeft = isFixed ? this._offset(this._origin).left - global_1.M.getDocumentScrollLeft() : this._offset(this._origin).left;\n        // Calculating screen\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n        const scrollBarWidth = windowWidth - document.documentElement.clientWidth;\n        const centerX = windowWidth / 2;\n        const centerY = windowHeight / 2;\n        const isLeft = originLeft <= centerX;\n        const isRight = originLeft > centerX;\n        const isTop = originTop <= centerY;\n        const isBottom = originTop > centerY;\n        const isCenterX = originLeft >= windowWidth * 0.25 && originLeft <= windowWidth * 0.75;\n        // Calculating tap target\n        const tapTargetWidth = this.el.offsetWidth;\n        const tapTargetHeight = this.el.offsetHeight;\n        const tapTargetTop = originTop + originHeight / 2 - tapTargetHeight / 2;\n        const tapTargetLeft = originLeft + originWidth / 2 - tapTargetWidth / 2;\n        const tapTargetPosition = isFixed ? 'fixed' : 'absolute';\n        // Calculating content\n        const tapTargetTextWidth = isCenterX ? tapTargetWidth : tapTargetWidth / 2 + originWidth;\n        const tapTargetTextHeight = tapTargetHeight / 2;\n        const tapTargetTextTop = isTop ? tapTargetHeight / 2 : 0;\n        const tapTargetTextBottom = 0;\n        const tapTargetTextLeft = isLeft && !isCenterX ? tapTargetWidth / 2 - originWidth : 0;\n        const tapTargetTextRight = 0;\n        const tapTargetTextPadding = originWidth;\n        const tapTargetTextAlign = isBottom ? 'bottom' : 'top';\n        // Calculating wave\n        const tapTargetWaveWidth = originWidth > originHeight ? originWidth * 2 : originWidth * 2;\n        const tapTargetWaveHeight = tapTargetWaveWidth;\n        const tapTargetWaveTop = tapTargetHeight / 2 - tapTargetWaveHeight / 2;\n        const tapTargetWaveLeft = tapTargetWidth / 2 - tapTargetWaveWidth / 2;\n        // Setting tap target\n        this.wrapper.style.top = isTop ? tapTargetTop + 'px' : '';\n        this.wrapper.style.right = isRight ? windowWidth - tapTargetLeft - tapTargetWidth - scrollBarWidth + 'px' : '';\n        this.wrapper.style.bottom = isBottom ? windowHeight - tapTargetTop - tapTargetHeight + 'px' : '';\n        this.wrapper.style.left = isLeft ? tapTargetLeft + 'px' : '';\n        this.wrapper.style.position = tapTargetPosition;\n        // Setting content\n        this.contentEl.style.width = tapTargetTextWidth + 'px';\n        this.contentEl.style.height = tapTargetTextHeight + 'px';\n        this.contentEl.style.top = tapTargetTextTop + 'px';\n        this.contentEl.style.right = tapTargetTextRight + 'px';\n        this.contentEl.style.bottom = tapTargetTextBottom + 'px';\n        this.contentEl.style.left = tapTargetTextLeft + 'px';\n        this.contentEl.style.padding = tapTargetTextPadding + 'px';\n        this.contentEl.style.verticalAlign = tapTargetTextAlign;\n        // Setting wave\n        this.waveEl.style.top = tapTargetWaveTop + 'px';\n        this.waveEl.style.left = tapTargetWaveLeft + 'px';\n        this.waveEl.style.width = tapTargetWaveWidth + 'px';\n        this.waveEl.style.height = tapTargetWaveHeight + 'px';\n    }\n    open() {\n        if (this.isOpen)\n            return;\n        // onOpen callback\n        if (typeof this.options.onOpen === 'function') {\n            this.options.onOpen.call(this, this._origin);\n        }\n        this.isOpen = true;\n        this.wrapper.classList.add('open');\n        document.body.addEventListener('click', this._handleDocumentClickBound, true);\n        document.body.addEventListener('touchend', this._handleDocumentClickBound);\n    }\n    close() {\n        if (!this.isOpen)\n            return;\n        // onClose callback\n        if (typeof this.options.onClose === 'function') {\n            this.options.onClose.call(this, this._origin);\n        }\n        this.isOpen = false;\n        this.wrapper.classList.remove('open');\n        document.body.removeEventListener('click', this._handleDocumentClickBound, true);\n        document.body.removeEventListener('touchend', this._handleDocumentClickBound);\n    }\n}\nexports.TapTarget = TapTarget;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aEYsQ0FBQztDQUNGO0FBcE9ELDhCQW9PQyIsInNvdXJjZXMiOlsid2VicGFjazovL00vLi9zcmMvdGFwVGFyZ2V0LnRzP2ZiMjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5cbmxldCBfZGVmYXVsdHMgPSB7XG4gIG9uT3BlbjogdW5kZWZpbmVkLFxuICBvbkNsb3NlOiB1bmRlZmluZWRcbn07XG5cbiAgZXhwb3J0IGNsYXNzIFRhcFRhcmdldCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgZWw6IEhUTUxFbGVtZW50XG4gICAgaXNPcGVuOiBib29sZWFuO1xuICAgIHByaXZhdGUgd3JhcHBlcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfaGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kOiAodGhpczogSFRNTEVsZW1lbnQsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnk7XG4gICAgcHJpdmF0ZSBfb3JpZ2luOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9oYW5kbGVUYXJnZXRDbGlja0JvdW5kOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0O1xuICAgIHByaXZhdGUgb3JpZ2luRWw6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2hhbmRsZU9yaWdpbkNsaWNrQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVUaHJvdHRsZWRSZXNpemVCb3VuZDogYW55O1xuICAgIHByaXZhdGUgd2F2ZUVsOiBIVE1MRWxlbWVudCAmIEVsZW1lbnQgJiBOb2RlO1xuICAgIHByaXZhdGUgY29udGVudEVsOiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgICBzdXBlcihUYXBUYXJnZXQsIGVsLCBvcHRpb25zKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9UYXBUYXJnZXQgPSB0aGlzO1xuICAgICAgdGhpcy5vcHRpb25zID0gey4uLlRhcFRhcmdldC5kZWZhdWx0cywgLi4ub3B0aW9uc307XG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgLy8gc2V0dXBcbiAgICAgIHRoaXMuX29yaWdpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnK3RoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcpKTtcbiAgICAgIHRoaXMuX3NldHVwKCk7XG4gICAgICB0aGlzLl9jYWxjdWxhdGVQb3NpdGlvbmluZygpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX1RhcFRhcmdldDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5UYXBUYXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2suYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2hhbmRsZVRhcmdldENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVUYXJnZXRDbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlT3JpZ2luQ2xpY2tCb3VuZCA9IHRoaXMuX2hhbmRsZU9yaWdpbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVGFyZ2V0Q2xpY2tCb3VuZCk7XG4gICAgICB0aGlzLm9yaWdpbkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlT3JpZ2luQ2xpY2tCb3VuZCk7XG4gICAgICAvLyBSZXNpemVcbiAgICAgIGxldCB0aHJvdHRsZWRSZXNpemUgPSBNLnRocm90dGxlKHRoaXMuX2hhbmRsZVJlc2l6ZSwgMjAwKTtcbiAgICAgIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kID0gdGhyb3R0bGVkUmVzaXplLmJpbmQodGhpcyk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplQm91bmQpO1xuICAgIH1cblxuICAgIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRhcmdldENsaWNrQm91bmQpO1xuICAgICAgdGhpcy5vcmlnaW5FbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9yaWdpbkNsaWNrQm91bmQpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZUJvdW5kKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlVGFyZ2V0Q2xpY2soZSkge1xuICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZU9yaWdpbkNsaWNrKGUpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlUmVzaXplKGUpIHtcbiAgICAgIHRoaXMuX2NhbGN1bGF0ZVBvc2l0aW9uaW5nKCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZURvY3VtZW50Q2xpY2soZSkge1xuICAgICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCcudGFwLXRhcmdldC13cmFwcGVyJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldHVwKCkge1xuICAgICAgLy8gQ3JlYXRpbmcgdGFwIHRhcmdldFxuICAgICAgdGhpcy53cmFwcGVyID0gdGhpcy5lbC5wYXJlbnRFbGVtZW50O1xuICAgICAgdGhpcy53YXZlRWwgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcignLnRhcC10YXJnZXQtd2F2ZScpO1xuICAgICAgdGhpcy5vcmlnaW5FbCA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKCcudGFwLXRhcmdldC1vcmlnaW4nKTtcbiAgICAgIHRoaXMuY29udGVudEVsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcudGFwLXRhcmdldC1jb250ZW50Jyk7XG4gICAgICAvLyBDcmVhdGluZyB3cmFwcGVyXG4gICAgICBpZiAoIXRoaXMud3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoJy50YXAtdGFyZ2V0LXdyYXBwZXInKSkge1xuICAgICAgICB0aGlzLndyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ3RhcC10YXJnZXQtd3JhcHBlcicpO1xuICAgICAgICB0aGlzLmVsLmJlZm9yZSh0aGlzLndyYXBwZXIpO1xuICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kKHRoaXMuZWwpO1xuICAgICAgfVxuICAgICAgLy8gQ3JlYXRpbmcgY29udGVudFxuICAgICAgaWYgKCF0aGlzLmNvbnRlbnRFbCkge1xuICAgICAgICB0aGlzLmNvbnRlbnRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmNvbnRlbnRFbC5jbGFzc0xpc3QuYWRkKCd0YXAtdGFyZ2V0LWNvbnRlbnQnKTtcbiAgICAgICAgdGhpcy5lbC5hcHBlbmQodGhpcy5jb250ZW50RWwpO1xuICAgICAgfVxuICAgICAgLy8gQ3JlYXRpbmcgZm9yZWdyb3VuZCB3YXZlXG4gICAgICBpZiAoIXRoaXMud2F2ZUVsKSB7XG4gICAgICAgIHRoaXMud2F2ZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMud2F2ZUVsLmNsYXNzTGlzdC5hZGQoJ3RhcC10YXJnZXQtd2F2ZScpO1xuICAgICAgICAvLyBDcmVhdGluZyBvcmlnaW5cbiAgICAgICAgaWYgKCF0aGlzLm9yaWdpbkVsKSB7XG4gICAgICAgICAgdGhpcy5vcmlnaW5FbCA9IDxIVE1MRWxlbWVudD50aGlzLl9vcmlnaW4uY2xvbmVOb2RlKHRydWUpOyAvLyAuY2xvbmUodHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgdGhpcy5vcmlnaW5FbC5jbGFzc0xpc3QuYWRkKCd0YXAtdGFyZ2V0LW9yaWdpbicpO1xuICAgICAgICAgIHRoaXMub3JpZ2luRWwucmVtb3ZlQXR0cmlidXRlKCdpZCcpO1xuICAgICAgICAgIHRoaXMub3JpZ2luRWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgIHRoaXMud2F2ZUVsLmFwcGVuZCh0aGlzLm9yaWdpbkVsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kKHRoaXMud2F2ZUVsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9vZmZzZXQoZWwpIHtcbiAgICAgIGNvbnN0IGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogYm94LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxuICAgICAgICBsZWZ0OiBib3gubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBfY2FsY3VsYXRlUG9zaXRpb25pbmcoKSB7XG4gICAgICAvLyBFbGVtZW50IG9yIHBhcmVudCBpcyBmaXhlZCBwb3NpdGlvbj9cbiAgICAgIGxldCBpc0ZpeGVkID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9vcmlnaW4pLnBvc2l0aW9uID09PSAnZml4ZWQnO1xuICAgICAgaWYgKCFpc0ZpeGVkKSB7XG5cbiAgICAgICAgbGV0IGN1cnJlbnRFbGVtOiBhbnkgPSB0aGlzLl9vcmlnaW47XG4gICAgICAgIGNvbnN0IHBhcmVudHMgPSBbXTtcbiAgICAgICAgd2hpbGUgKChjdXJyZW50RWxlbSA9IGN1cnJlbnRFbGVtLnBhcmVudE5vZGUpICYmIGN1cnJlbnRFbGVtICE9PSBkb2N1bWVudClcbiAgICAgICAgICBwYXJlbnRzLnB1c2goY3VycmVudEVsZW0pO1xuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaXNGaXhlZCA9IGdldENvbXB1dGVkU3R5bGUocGFyZW50c1tpXSkucG9zaXRpb24gPT09ICdmaXhlZCc7XG4gICAgICAgICAgaWYgKGlzRml4ZWQpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDYWxjdWxhdGluZyBvcmlnaW5cbiAgICAgIGNvbnN0IG9yaWdpbldpZHRoID0gdGhpcy5fb3JpZ2luLm9mZnNldFdpZHRoO1xuICAgICAgY29uc3Qgb3JpZ2luSGVpZ2h0ID0gdGhpcy5fb3JpZ2luLm9mZnNldEhlaWdodDtcbiAgICAgIGNvbnN0IG9yaWdpblRvcCA9IGlzRml4ZWQgPyB0aGlzLl9vZmZzZXQodGhpcy5fb3JpZ2luKS50b3AgLSBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCkgOiB0aGlzLl9vZmZzZXQodGhpcy5fb3JpZ2luKS50b3A7XG4gICAgICBjb25zdCBvcmlnaW5MZWZ0ID0gaXNGaXhlZCA/IHRoaXMuX29mZnNldCh0aGlzLl9vcmlnaW4pLmxlZnQgLSBNLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpIDogdGhpcy5fb2Zmc2V0KHRoaXMuX29yaWdpbikubGVmdDtcblxuICAgICAgLy8gQ2FsY3VsYXRpbmcgc2NyZWVuXG4gICAgICBjb25zdCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgY29uc3Qgc2Nyb2xsQmFyV2lkdGggPSB3aW5kb3dXaWR0aCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICAgIGNvbnN0IGNlbnRlclggPSB3aW5kb3dXaWR0aCAvIDI7XG4gICAgICBjb25zdCBjZW50ZXJZID0gd2luZG93SGVpZ2h0IC8gMjtcbiAgICAgIGNvbnN0IGlzTGVmdCA9IG9yaWdpbkxlZnQgPD0gY2VudGVyWDtcbiAgICAgIGNvbnN0IGlzUmlnaHQgPSBvcmlnaW5MZWZ0ID4gY2VudGVyWDtcbiAgICAgIGNvbnN0IGlzVG9wID0gb3JpZ2luVG9wIDw9IGNlbnRlclk7XG4gICAgICBjb25zdCBpc0JvdHRvbSA9IG9yaWdpblRvcCA+IGNlbnRlclk7XG4gICAgICBjb25zdCBpc0NlbnRlclggPSBvcmlnaW5MZWZ0ID49IHdpbmRvd1dpZHRoICogMC4yNSAmJiBvcmlnaW5MZWZ0IDw9IHdpbmRvd1dpZHRoICogMC43NTtcblxuICAgICAgLy8gQ2FsY3VsYXRpbmcgdGFwIHRhcmdldFxuICAgICAgY29uc3QgdGFwVGFyZ2V0V2lkdGggPSB0aGlzLmVsLm9mZnNldFdpZHRoO1xuICAgICAgY29uc3QgdGFwVGFyZ2V0SGVpZ2h0ID0gdGhpcy5lbC5vZmZzZXRIZWlnaHQ7XG4gICAgICBjb25zdCB0YXBUYXJnZXRUb3AgPSBvcmlnaW5Ub3AgKyBvcmlnaW5IZWlnaHQgLyAyIC0gdGFwVGFyZ2V0SGVpZ2h0IC8gMjtcbiAgICAgIGNvbnN0IHRhcFRhcmdldExlZnQgPSBvcmlnaW5MZWZ0ICsgb3JpZ2luV2lkdGggLyAyIC0gdGFwVGFyZ2V0V2lkdGggLyAyO1xuICAgICAgY29uc3QgdGFwVGFyZ2V0UG9zaXRpb24gPSBpc0ZpeGVkID8gJ2ZpeGVkJyA6ICdhYnNvbHV0ZSc7XG5cbiAgICAgIC8vIENhbGN1bGF0aW5nIGNvbnRlbnRcbiAgICAgIGNvbnN0IHRhcFRhcmdldFRleHRXaWR0aCA9IGlzQ2VudGVyWCA/IHRhcFRhcmdldFdpZHRoIDogdGFwVGFyZ2V0V2lkdGggLyAyICsgb3JpZ2luV2lkdGg7XG4gICAgICBjb25zdCB0YXBUYXJnZXRUZXh0SGVpZ2h0ID0gdGFwVGFyZ2V0SGVpZ2h0IC8gMjtcbiAgICAgIGNvbnN0IHRhcFRhcmdldFRleHRUb3AgPSBpc1RvcCA/IHRhcFRhcmdldEhlaWdodCAvIDIgOiAwO1xuICAgICAgY29uc3QgdGFwVGFyZ2V0VGV4dEJvdHRvbSA9IDA7XG4gICAgICBjb25zdCB0YXBUYXJnZXRUZXh0TGVmdCA9IGlzTGVmdCAmJiAhaXNDZW50ZXJYID8gdGFwVGFyZ2V0V2lkdGggLyAyIC0gb3JpZ2luV2lkdGggOiAwO1xuICAgICAgY29uc3QgdGFwVGFyZ2V0VGV4dFJpZ2h0ID0gMDtcbiAgICAgIGNvbnN0IHRhcFRhcmdldFRleHRQYWRkaW5nID0gb3JpZ2luV2lkdGg7XG4gICAgICBjb25zdCB0YXBUYXJnZXRUZXh0QWxpZ24gPSBpc0JvdHRvbSA/ICdib3R0b20nIDogJ3RvcCc7XG5cbiAgICAgIC8vIENhbGN1bGF0aW5nIHdhdmVcbiAgICAgIGNvbnN0IHRhcFRhcmdldFdhdmVXaWR0aCA9IG9yaWdpbldpZHRoID4gb3JpZ2luSGVpZ2h0ID8gb3JpZ2luV2lkdGggKiAyIDogb3JpZ2luV2lkdGggKiAyO1xuICAgICAgY29uc3QgdGFwVGFyZ2V0V2F2ZUhlaWdodCA9IHRhcFRhcmdldFdhdmVXaWR0aDtcbiAgICAgIGNvbnN0IHRhcFRhcmdldFdhdmVUb3AgPSB0YXBUYXJnZXRIZWlnaHQgLyAyIC0gdGFwVGFyZ2V0V2F2ZUhlaWdodCAvIDI7XG4gICAgICBjb25zdCB0YXBUYXJnZXRXYXZlTGVmdCA9IHRhcFRhcmdldFdpZHRoIC8gMiAtIHRhcFRhcmdldFdhdmVXaWR0aCAvIDI7XG5cbiAgICAgIC8vIFNldHRpbmcgdGFwIHRhcmdldFxuICAgICAgdGhpcy53cmFwcGVyLnN0eWxlLnRvcCA9IGlzVG9wID8gdGFwVGFyZ2V0VG9wICsgJ3B4JyA6ICcnO1xuICAgICAgdGhpcy53cmFwcGVyLnN0eWxlLnJpZ2h0ID0gaXNSaWdodCA/IHdpbmRvd1dpZHRoIC0gdGFwVGFyZ2V0TGVmdCAtIHRhcFRhcmdldFdpZHRoIC0gc2Nyb2xsQmFyV2lkdGggKyAncHgnIDogJyc7XG4gICAgICB0aGlzLndyYXBwZXIuc3R5bGUuYm90dG9tID0gaXNCb3R0b20gPyB3aW5kb3dIZWlnaHQgLSB0YXBUYXJnZXRUb3AgLSB0YXBUYXJnZXRIZWlnaHQgKyAncHgnIDogJyc7XG4gICAgICB0aGlzLndyYXBwZXIuc3R5bGUubGVmdCA9IGlzTGVmdCA/IHRhcFRhcmdldExlZnQgKyAncHgnIDogJyc7XG4gICAgICB0aGlzLndyYXBwZXIuc3R5bGUucG9zaXRpb24gPSB0YXBUYXJnZXRQb3NpdGlvbjtcblxuICAgICAgLy8gU2V0dGluZyBjb250ZW50XG4gICAgICB0aGlzLmNvbnRlbnRFbC5zdHlsZS53aWR0aCA9IHRhcFRhcmdldFRleHRXaWR0aCArICdweCc7XG4gICAgICB0aGlzLmNvbnRlbnRFbC5zdHlsZS5oZWlnaHQgPSB0YXBUYXJnZXRUZXh0SGVpZ2h0ICsgJ3B4JztcbiAgICAgIHRoaXMuY29udGVudEVsLnN0eWxlLnRvcCA9IHRhcFRhcmdldFRleHRUb3AgKyAncHgnO1xuICAgICAgdGhpcy5jb250ZW50RWwuc3R5bGUucmlnaHQgPSB0YXBUYXJnZXRUZXh0UmlnaHQgKyAncHgnO1xuICAgICAgdGhpcy5jb250ZW50RWwuc3R5bGUuYm90dG9tID0gdGFwVGFyZ2V0VGV4dEJvdHRvbSArICdweCc7XG4gICAgICB0aGlzLmNvbnRlbnRFbC5zdHlsZS5sZWZ0ID0gdGFwVGFyZ2V0VGV4dExlZnQgKyAncHgnO1xuICAgICAgdGhpcy5jb250ZW50RWwuc3R5bGUucGFkZGluZyA9IHRhcFRhcmdldFRleHRQYWRkaW5nICsgJ3B4JztcbiAgICAgIHRoaXMuY29udGVudEVsLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSB0YXBUYXJnZXRUZXh0QWxpZ247XG5cbiAgICAgIC8vIFNldHRpbmcgd2F2ZVxuICAgICAgdGhpcy53YXZlRWwuc3R5bGUudG9wID0gdGFwVGFyZ2V0V2F2ZVRvcCsncHgnO1xuICAgICAgdGhpcy53YXZlRWwuc3R5bGUubGVmdCA9IHRhcFRhcmdldFdhdmVMZWZ0KydweCc7XG4gICAgICB0aGlzLndhdmVFbC5zdHlsZS53aWR0aCA9IHRhcFRhcmdldFdhdmVXaWR0aCsncHgnO1xuICAgICAgdGhpcy53YXZlRWwuc3R5bGUuaGVpZ2h0ID0gdGFwVGFyZ2V0V2F2ZUhlaWdodCsncHgnO1xuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICBpZiAodGhpcy5pc09wZW4pIHJldHVybjtcbiAgICAgIC8vIG9uT3BlbiBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW4uY2FsbCh0aGlzLCB0aGlzLl9vcmlnaW4pO1xuICAgICAgfVxuICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrQm91bmQsIHRydWUpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICBpZiAoIXRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgICAvLyBvbkNsb3NlIGNhbGxiYWNrXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlLmNhbGwodGhpcywgdGhpcy5fb3JpZ2luKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICB0aGlzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tCb3VuZCwgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0JvdW5kKTtcbiAgICB9XG4gIH1cblxuICBcblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/tapTarget.ts\n");

/***/ }),

/***/ "./src/timepicker.ts":
/*!***************************!*\
  !*** ./src/timepicker.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Timepicker = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    dialRadius: 135,\n    outerRadius: 105,\n    innerRadius: 70,\n    tickRadius: 20,\n    duration: 350,\n    container: null,\n    defaultTime: 'now',\n    fromNow: 0,\n    showClearBtn: false,\n    // internationalization\n    i18n: {\n        cancel: 'Cancel',\n        clear: 'Clear',\n        done: 'Ok'\n    },\n    autoClose: false,\n    twelveHour: true,\n    vibrate: true,\n    // Callbacks\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    onSelect: null\n};\nclass Timepicker extends component_1.Component {\n    constructor(el, options) {\n        super(Timepicker, el, options);\n        this.el.M_Timepicker = this;\n        this.options = Object.assign(Object.assign({}, Timepicker.defaults), options);\n        this.id = global_1.M.guid();\n        this._insertHTMLIntoDOM();\n        this._setupModal();\n        this._setupVariables();\n        this._setupEventHandlers();\n        this._clockSetup();\n        this._pickerSetup();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static _addLeadingZero(num) {\n        return (num < 10 ? '0' : '') + num;\n    }\n    static _createSVGEl(name) {\n        let svgNS = 'http://www.w3.org/2000/svg';\n        return document.createElementNS(svgNS, name);\n    }\n    static _Pos(e) {\n        if (e.targetTouches && e.targetTouches.length >= 1) {\n            return { x: e.targetTouches[0].clientX, y: e.targetTouches[0].clientY };\n        }\n        // mouse event\n        return { x: e.clientX, y: e.clientY };\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Timepicker;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.modal.destroy();\n        this.modalEl.remove();\n        this.el.M_Timepicker = undefined;\n    }\n    _setupEventHandlers() {\n        this._handleInputKeydownBound = this._handleInputKeydown.bind(this);\n        this._handleInputClickBound = this._handleInputClick.bind(this);\n        this._handleClockClickStartBound = this._handleClockClickStart.bind(this);\n        this._handleDocumentClickMoveBound = this._handleDocumentClickMove.bind(this);\n        this._handleDocumentClickEndBound = this._handleDocumentClickEnd.bind(this);\n        this._inputFromTextFieldBound = this._handleTimeInputEnterKey.bind(this);\n        this.el.addEventListener('click', this._handleInputClickBound);\n        this.el.addEventListener('keydown', this._handleInputKeydownBound);\n        this.plate.addEventListener('mousedown', this._handleClockClickStartBound);\n        this.plate.addEventListener('touchstart', this._handleClockClickStartBound);\n        this.digitalClock.addEventListener('keyup', this._inputFromTextFieldBound);\n        this.inputHours.addEventListener('click', this.showView.bind(this, 'hours'));\n        this.inputMinutes.addEventListener('click', this.showView.bind(this, 'minutes'));\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleInputClickBound);\n        this.el.removeEventListener('keydown', this._handleInputKeydownBound);\n    }\n    _handleInputClick() {\n        this.open();\n    }\n    _handleInputKeydown(e) {\n        if (e.which === global_1.M.keys.ENTER) {\n            e.preventDefault();\n            this.open();\n        }\n    }\n    _handleTimeInputEnterKey(e) {\n        if (e.which === global_1.M.keys.ENTER) {\n            e.preventDefault();\n            this._inputFromTextField();\n        }\n    }\n    _handleClockClickStart(e) {\n        e.preventDefault();\n        let clockPlateBR = this.plate.getBoundingClientRect();\n        let offset = { x: clockPlateBR.left, y: clockPlateBR.top };\n        this.x0 = offset.x + this.options.dialRadius;\n        this.y0 = offset.y + this.options.dialRadius;\n        this.moved = false;\n        let clickPos = Timepicker._Pos(e);\n        this.dx = clickPos.x - this.x0;\n        this.dy = clickPos.y - this.y0;\n        // Set clock hands\n        this.setHand(this.dx, this.dy, false);\n        // Mousemove on document\n        document.addEventListener('mousemove', this._handleDocumentClickMoveBound);\n        document.addEventListener('touchmove', this._handleDocumentClickMoveBound);\n        // Mouseup on document\n        document.addEventListener('mouseup', this._handleDocumentClickEndBound);\n        document.addEventListener('touchend', this._handleDocumentClickEndBound);\n    }\n    _handleDocumentClickMove(e) {\n        e.preventDefault();\n        let clickPos = Timepicker._Pos(e);\n        let x = clickPos.x - this.x0;\n        let y = clickPos.y - this.y0;\n        this.moved = true;\n        this.setHand(x, y, false);\n    }\n    _handleDocumentClickEnd(e) {\n        e.preventDefault();\n        document.removeEventListener('mouseup', this._handleDocumentClickEndBound);\n        document.removeEventListener('touchend', this._handleDocumentClickEndBound);\n        let clickPos = Timepicker._Pos(e);\n        let x = clickPos.x - this.x0;\n        let y = clickPos.y - this.y0;\n        if (this.moved && x === this.dx && y === this.dy) {\n            this.setHand(x, y);\n        }\n        if (this.currentView === 'hours') {\n            this.showView('minutes', this.options.duration / 2);\n        }\n        else if (this.options.autoClose) {\n            this.minutesView.classList.add('timepicker-dial-out');\n            setTimeout(() => {\n                this.done();\n            }, this.options.duration / 2);\n        }\n        if (typeof this.options.onSelect === 'function') {\n            this.options.onSelect.call(this, this.hours, this.minutes);\n        }\n        // Unbind mousemove event\n        document.removeEventListener('mousemove', this._handleDocumentClickMoveBound);\n        document.removeEventListener('touchmove', this._handleDocumentClickMoveBound);\n    }\n    _insertHTMLIntoDOM() {\n        const template = document.createElement('template');\n        template.innerHTML = Timepicker._template.trim();\n        this.modalEl = template.content.firstChild;\n        this.modalEl.id = 'modal-' + this.id;\n        // Append popover to input by default\n        const optEl = this.options.container;\n        const containerEl = optEl instanceof HTMLElement ? optEl : document.querySelector(optEl);\n        if (this.options.container && !!containerEl) {\n            containerEl.append(this.modalEl);\n        }\n        else {\n            this.el.parentElement.appendChild(this.modalEl);\n        }\n    }\n    _setupModal() {\n        this.modal = global_1.M.Modal.init(this.modalEl, {\n            onOpenStart: this.options.onOpenStart,\n            onOpenEnd: this.options.onOpenEnd,\n            onCloseStart: this.options.onCloseStart,\n            onCloseEnd: () => {\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this);\n                }\n                this.isOpen = false;\n            }\n        });\n    }\n    _setupVariables() {\n        this.currentView = 'hours';\n        this.vibrate = navigator.vibrate\n            ? 'vibrate'\n            : navigator.webkitVibrate\n                ? 'webkitVibrate'\n                : null;\n        this._canvas = this.modalEl.querySelector('.timepicker-canvas');\n        this.plate = this.modalEl.querySelector('.timepicker-plate');\n        this.digitalClock = this.modalEl.querySelector('.timepicker-display-column');\n        this.hoursView = this.modalEl.querySelector('.timepicker-hours');\n        this.minutesView = this.modalEl.querySelector('.timepicker-minutes');\n        this.inputHours = this.modalEl.querySelector('.timepicker-input-hours');\n        this.inputMinutes = this.modalEl.querySelector('.timepicker-input-minutes');\n        this.spanAmPm = this.modalEl.querySelector('.timepicker-span-am-pm');\n        this.footer = this.modalEl.querySelector('.timepicker-footer');\n        this.amOrPm = 'PM';\n    }\n    _createButton(text, visibility) {\n        const button = document.createElement('button');\n        button.classList.add('btn-flat', 'waves-effect');\n        button.style.visibility = visibility;\n        button.type = 'button';\n        button.tabIndex = this.options.twelveHour ? 3 : 1;\n        button.innerText = text;\n        return button;\n    }\n    _pickerSetup() {\n        const clearButton = this._createButton(this.options.i18n.clear, this.options.showClearBtn ? '' : 'hidden');\n        clearButton.classList.add('timepicker-clear');\n        clearButton.addEventListener('click', this.clear.bind(this));\n        this.footer.appendChild(clearButton);\n        const confirmationBtnsContainer = document.createElement('div');\n        confirmationBtnsContainer.classList.add('confirmation-btns');\n        this.footer.append(confirmationBtnsContainer);\n        const cancelButton = this._createButton(this.options.i18n.cancel, '');\n        cancelButton.classList.add('timepicker-close');\n        cancelButton.addEventListener('click', this.close.bind(this));\n        confirmationBtnsContainer.appendChild(cancelButton);\n        const doneButton = this._createButton(this.options.i18n.done, '');\n        doneButton.classList.add('timepicker-close');\n        doneButton.addEventListener('click', this.done.bind(this));\n        confirmationBtnsContainer.appendChild(doneButton);\n    }\n    _clockSetup() {\n        if (this.options.twelveHour) {\n            // AM Button\n            this._amBtn = document.createElement('div');\n            this._amBtn.classList.add('am-btn');\n            this._amBtn.innerText = 'AM';\n            this._amBtn.addEventListener('click', this._handleAmPmClick.bind(this));\n            this.spanAmPm.appendChild(this._amBtn);\n            // PM Button\n            this._pmBtn = document.createElement('div');\n            this._pmBtn.classList.add('pm-btn');\n            this._pmBtn.innerText = 'PM';\n            this._pmBtn.addEventListener('click', this._handleAmPmClick.bind(this));\n            this.spanAmPm.appendChild(this._pmBtn);\n        }\n        this._buildHoursView();\n        this._buildMinutesView();\n        this._buildSVGClock();\n    }\n    _buildSVGClock() {\n        // Draw clock hands and others\n        let dialRadius = this.options.dialRadius;\n        let tickRadius = this.options.tickRadius;\n        let diameter = dialRadius * 2;\n        let svg = Timepicker._createSVGEl('svg');\n        svg.setAttribute('class', 'timepicker-svg');\n        svg.setAttribute('width', diameter.toString());\n        svg.setAttribute('height', diameter.toString());\n        let g = Timepicker._createSVGEl('g');\n        g.setAttribute('transform', 'translate(' + dialRadius + ',' + dialRadius + ')');\n        let bearing = Timepicker._createSVGEl('circle');\n        bearing.setAttribute('class', 'timepicker-canvas-bearing');\n        bearing.setAttribute('cx', '0');\n        bearing.setAttribute('cy', '0');\n        bearing.setAttribute('r', '4');\n        let hand = Timepicker._createSVGEl('line');\n        hand.setAttribute('x1', '0');\n        hand.setAttribute('y1', '0');\n        let bg = Timepicker._createSVGEl('circle');\n        bg.setAttribute('class', 'timepicker-canvas-bg');\n        bg.setAttribute('r', tickRadius);\n        g.appendChild(hand);\n        g.appendChild(bg);\n        g.appendChild(bearing);\n        svg.appendChild(g);\n        this._canvas.appendChild(svg);\n        this.hand = hand;\n        this.bg = bg;\n        this.bearing = bearing;\n        this.g = g;\n    }\n    _buildHoursView() {\n        const $tick = document.createElement('div');\n        $tick.classList.add('timepicker-tick');\n        // Hours view\n        if (this.options.twelveHour) {\n            for (let i = 1; i < 13; i += 1) {\n                const tick = $tick.cloneNode(true);\n                const radian = (i / 6) * Math.PI;\n                const radius = this.options.outerRadius;\n                tick.style.left = this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px';\n                tick.style.top = this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px';\n                tick.innerHTML = i === 0 ? '00' : i.toString();\n                this.hoursView.appendChild(tick);\n                // tick.on(mousedownEvent, mousedown);\n            }\n        }\n        else {\n            for (let i = 0; i < 24; i += 1) {\n                const tick = $tick.cloneNode(true);\n                const radian = (i / 6) * Math.PI;\n                const inner = i > 0 && i < 13;\n                const radius = inner ? this.options.innerRadius : this.options.outerRadius;\n                tick.style.left = this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px';\n                tick.style.top = this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px';\n                tick.innerHTML = i === 0 ? '00' : i.toString();\n                this.hoursView.appendChild(tick);\n                // tick.on(mousedownEvent, mousedown);\n            }\n        }\n    }\n    _buildMinutesView() {\n        const _tick = document.createElement('div');\n        _tick.classList.add('timepicker-tick');\n        // Minutes view\n        for (let i = 0; i < 60; i += 5) {\n            const tick = _tick.cloneNode(true);\n            const radian = (i / 30) * Math.PI;\n            tick.style.left =\n                this.options.dialRadius +\n                    Math.sin(radian) * this.options.outerRadius -\n                    this.options.tickRadius +\n                    'px';\n            tick.style.top =\n                this.options.dialRadius -\n                    Math.cos(radian) * this.options.outerRadius -\n                    this.options.tickRadius +\n                    'px';\n            tick.innerHTML = Timepicker._addLeadingZero(i);\n            this.minutesView.appendChild(tick);\n        }\n    }\n    _handleAmPmClick(e) {\n        const btnClicked = e.target;\n        this.amOrPm = btnClicked.classList.contains('am-btn') ? 'AM' : 'PM';\n        this._updateAmPmView();\n    }\n    _updateAmPmView() {\n        if (this.options.twelveHour) {\n            if (this.amOrPm === 'PM') {\n                this._amBtn.classList.remove('text-primary');\n                this._pmBtn.classList.add('text-primary');\n            }\n            else if (this.amOrPm === 'AM') {\n                this._amBtn.classList.add('text-primary');\n                this._pmBtn.classList.remove('text-primary');\n            }\n        }\n    }\n    _updateTimeFromInput() {\n        // Get the time\n        let value = ((this.el.value || this.options.defaultTime || '') + '').split(':');\n        if (this.options.twelveHour && !(typeof value[1] === 'undefined')) {\n            if (value[1].toUpperCase().indexOf('AM') > 0) {\n                this.amOrPm = 'AM';\n            }\n            else {\n                this.amOrPm = 'PM';\n            }\n            value[1] = value[1].replace('AM', '').replace('PM', '');\n        }\n        if (value[0] === 'now') {\n            let now = new Date(+new Date() + this.options.fromNow);\n            value = [now.getHours().toString(), now.getMinutes().toString()];\n            if (this.options.twelveHour) {\n                this.amOrPm = parseInt(value[0]) >= 12 && parseInt(value[0]) < 24 ? 'PM' : 'AM';\n            }\n        }\n        this.hours = +value[0] || 0;\n        this.minutes = +value[1] || 0;\n        this.inputHours.value = this.hours;\n        this.inputMinutes.value = Timepicker._addLeadingZero(this.minutes);\n        this._updateAmPmView();\n    }\n    showView(view, delay = null) {\n        if (view === 'minutes' && getComputedStyle(this.hoursView).visibility === 'visible') {\n            // raiseCallback(this.options.beforeHourSelect);\n        }\n        let isHours = view === 'hours', nextView = isHours ? this.hoursView : this.minutesView, hideView = isHours ? this.minutesView : this.hoursView;\n        this.currentView = view;\n        if (isHours) {\n            this.inputHours.classList.add('text-primary');\n            this.inputMinutes.classList.remove('text-primary');\n        }\n        else {\n            this.inputHours.classList.remove('text-primary');\n            this.inputMinutes.classList.add('text-primary');\n        }\n        // Transition view\n        hideView.classList.add('timepicker-dial-out');\n        nextView.style.visibility = 'visible';\n        nextView.classList.remove('timepicker-dial-out');\n        // Reset clock hand\n        this.resetClock(delay);\n        // After transitions ended\n        clearTimeout(this.toggleViewTimer);\n        this.toggleViewTimer = setTimeout(() => {\n            hideView.style.visibility = 'hidden';\n        }, this.options.duration);\n    }\n    resetClock(delay) {\n        var _a;\n        let view = this.currentView, value = this[view], isHours = view === 'hours', unit = Math.PI / (isHours ? 6 : 30), radian = value * unit, radius = isHours && value > 0 && value < 13 ? this.options.innerRadius : this.options.outerRadius, x = Math.sin(radian) * radius, y = -Math.cos(radian) * radius, self = this;\n        if (delay) {\n            (_a = this.canvas) === null || _a === void 0 ? void 0 : _a.classList.add('timepicker-canvas-out');\n            setTimeout(() => {\n                var _a;\n                (_a = self.canvas) === null || _a === void 0 ? void 0 : _a.classList.remove('timepicker-canvas-out');\n                self.setHand(x, y);\n            }, delay);\n        }\n        else {\n            this.setHand(x, y);\n        }\n    }\n    _inputFromTextField() {\n        const isHours = this.currentView === 'hours';\n        if (isHours) {\n            const value = parseInt(this.inputHours.value);\n            if (value > 0 && value < 13) {\n                this.drawClockFromTimeInput(value, isHours);\n                this.showView('minutes', this.options.duration / 2);\n                this.hours = value;\n                this.inputMinutes.focus();\n            }\n            else {\n                const hour = new Date().getHours();\n                this.inputHours.value = (hour % 12).toString();\n            }\n        }\n        else {\n            const value = parseInt(this.inputMinutes.value);\n            if (value >= 0 && value < 60) {\n                this.inputMinutes.value = Timepicker._addLeadingZero(value);\n                this.drawClockFromTimeInput(value, isHours);\n                this.minutes = value;\n                this.modalEl.querySelector('.confirmation-btns :nth-child(2)').focus();\n            }\n            else {\n                const minutes = new Date().getMinutes();\n                this.inputMinutes.value = Timepicker._addLeadingZero(minutes);\n            }\n        }\n    }\n    drawClockFromTimeInput(value, isHours) {\n        const unit = Math.PI / (isHours ? 6 : 30);\n        const radian = value * unit;\n        let radius;\n        if (this.options.twelveHour) {\n            radius = this.options.outerRadius;\n        }\n        let cx1 = Math.sin(radian) * (radius - this.options.tickRadius), cy1 = -Math.cos(radian) * (radius - this.options.tickRadius), cx2 = Math.sin(radian) * radius, cy2 = -Math.cos(radian) * radius;\n        this.hand.setAttribute('x2', cx1.toString());\n        this.hand.setAttribute('y2', cy1.toString());\n        this.bg.setAttribute('cx', cx2.toString());\n        this.bg.setAttribute('cy', cy2.toString());\n    }\n    setHand(x, y, roundBy5 = false) {\n        let radian = Math.atan2(x, -y), isHours = this.currentView === 'hours', unit = Math.PI / (isHours || roundBy5 ? 6 : 30), z = Math.sqrt(x * x + y * y), inner = isHours && z < (this.options.outerRadius + this.options.innerRadius) / 2, radius = inner ? this.options.innerRadius : this.options.outerRadius;\n        if (this.options.twelveHour) {\n            radius = this.options.outerRadius;\n        }\n        // Radian should in range [0, 2PI]\n        if (radian < 0) {\n            radian = Math.PI * 2 + radian;\n        }\n        // Get the round value\n        let value = Math.round(radian / unit);\n        // Get the round radian\n        radian = value * unit;\n        // Correct the hours or minutes\n        if (this.options.twelveHour) {\n            if (isHours) {\n                if (value === 0)\n                    value = 12;\n            }\n            else {\n                if (roundBy5)\n                    value *= 5;\n                if (value === 60)\n                    value = 0;\n            }\n        }\n        else {\n            if (isHours) {\n                if (value === 12) {\n                    value = 0;\n                }\n                value = inner ? (value === 0 ? 12 : value) : value === 0 ? 0 : value + 12;\n            }\n            else {\n                if (roundBy5) {\n                    value *= 5;\n                }\n                if (value === 60) {\n                    value = 0;\n                }\n            }\n        }\n        // Once hours or minutes changed, vibrate the device\n        if (this[this.currentView] !== value) {\n            if (this.vibrate && this.options.vibrate) {\n                // Do not vibrate too frequently\n                if (!this.vibrateTimer) {\n                    navigator[this.vibrate](10);\n                    this.vibrateTimer = setTimeout(() => {\n                        this.vibrateTimer = null;\n                    }, 100);\n                }\n            }\n        }\n        this[this.currentView] = value;\n        if (isHours) {\n            this.inputHours.value = value.toString();\n        }\n        else {\n            this.inputMinutes.value = Timepicker._addLeadingZero(value);\n        }\n        // Set clock hand and others' position\n        let cx1 = Math.sin(radian) * (radius - this.options.tickRadius), cy1 = -Math.cos(radian) * (radius - this.options.tickRadius), cx2 = Math.sin(radian) * radius, cy2 = -Math.cos(radian) * radius;\n        this.hand.setAttribute('x2', cx1.toString());\n        this.hand.setAttribute('y2', cy1.toString());\n        this.bg.setAttribute('cx', cx2.toString());\n        this.bg.setAttribute('cy', cy2.toString());\n    }\n    open() {\n        if (this.isOpen)\n            return;\n        this.isOpen = true;\n        this._updateTimeFromInput();\n        this.showView('hours');\n        this.modal.open(undefined);\n    }\n    close() {\n        if (!this.isOpen)\n            return;\n        this.isOpen = false;\n        this.modal.close();\n    }\n    done(e = null, clearValue = null) {\n        // Set input value\n        let last = this.el.value;\n        let value = clearValue\n            ? ''\n            : Timepicker._addLeadingZero(this.hours) + ':' + Timepicker._addLeadingZero(this.minutes);\n        this.time = value;\n        if (!clearValue && this.options.twelveHour) {\n            value = `${value} ${this.amOrPm}`;\n        }\n        this.el.value = value;\n        // Trigger change event\n        if (value !== last) {\n            this.el.dispatchEvent(new Event('change'));\n        }\n        this.close();\n        this.el.focus();\n    }\n    clear() {\n        this.done(null, true);\n    }\n}\nexports.Timepicker = Timepicker;\n(() => {\n    Timepicker._template = `\n        <div class=\"modal timepicker-modal\">\n          <div class=\"modal-content timepicker-container\">\n            <div class=\"timepicker-digital-display\">\n              <div class=\"timepicker-text-container\">\n                <div class=\"timepicker-display-column\">\n                  <input type=\"text\" maxlength=\"2\" autofocus class=\"timepicker-input-hours text-primary\" />\n                  :\n                  <input type=\"text\" maxlength=\"2\" class=\"timepicker-input-minutes\" />\n                </div>\n                <div class=\"timepicker-display-column timepicker-display-am-pm\">\n                  <div class=\"timepicker-span-am-pm\"></div>\n                </div>\n              </div>\n            </div>\n            <div class=\"timepicker-analog-display\">\n              <div class=\"timepicker-plate\">\n                <div class=\"timepicker-canvas\"></div>\n                <div class=\"timepicker-dial timepicker-hours\"></div>\n                <div class=\"timepicker-dial timepicker-minutes timepicker-dial-out\"></div>\n              </div>\n              <div class=\"timepicker-footer\"></div>\n            </div>\n          </div>\n        </div`;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxLQUFLO1FBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDeEIsQ0FBQztDQTZCRjtBQTlwQkQsZ0NBOHBCQztBQTNCQztJQUNFLFVBQVUsQ0FBQyxTQUFTLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztjQXdCZixDQUFDO0FBQ1gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL00vLi9zcmMvdGltZXBpY2tlci50cz80MGM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuaW1wb3J0IHsgTW9kYWwgfSBmcm9tIFwiLi9tb2RhbFwiO1xuXG5sZXQgX2RlZmF1bHRzID0ge1xuICBkaWFsUmFkaXVzOiAxMzUsXG4gIG91dGVyUmFkaXVzOiAxMDUsXG4gIGlubmVyUmFkaXVzOiA3MCxcbiAgdGlja1JhZGl1czogMjAsXG4gIGR1cmF0aW9uOiAzNTAsXG4gIGNvbnRhaW5lcjogbnVsbCxcbiAgZGVmYXVsdFRpbWU6ICdub3cnLCAvLyBkZWZhdWx0IHRpbWUsICdub3cnIG9yICcxMzoxNCcgZS5nLlxuICBmcm9tTm93OiAwLCAvLyBNaWxsaXNlY29uZCBvZmZzZXQgZnJvbSB0aGUgZGVmYXVsdFRpbWVcbiAgc2hvd0NsZWFyQnRuOiBmYWxzZSxcbiAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb25cbiAgaTE4bjoge1xuICAgIGNhbmNlbDogJ0NhbmNlbCcsXG4gICAgY2xlYXI6ICdDbGVhcicsXG4gICAgZG9uZTogJ09rJ1xuICB9LFxuICBhdXRvQ2xvc2U6IGZhbHNlLCAvLyBhdXRvIGNsb3NlIHdoZW4gbWludXRlIGlzIHNlbGVjdGVkXG4gIHR3ZWx2ZUhvdXI6IHRydWUsIC8vIGNoYW5nZSB0byAxMiBob3VyIEFNL1BNIGNsb2NrIGZyb20gMjQgaG91clxuICB2aWJyYXRlOiB0cnVlLCAvLyB2aWJyYXRlIHRoZSBkZXZpY2Ugd2hlbiBkcmFnZ2luZyBjbG9jayBoYW5kXG4gIC8vIENhbGxiYWNrc1xuICBvbk9wZW5TdGFydDogbnVsbCxcbiAgb25PcGVuRW5kOiBudWxsLFxuICBvbkNsb3NlU3RhcnQ6IG51bGwsXG4gIG9uQ2xvc2VFbmQ6IG51bGwsXG4gIG9uU2VsZWN0OiBudWxsXG59O1xuXG50eXBlIFBvaW50ID0ge1xuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlclxufTtcblxuICBleHBvcnQgY2xhc3MgVGltZXBpY2tlciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgZWw6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgaWQ6IHN0cmluZztcbiAgICBtb2RhbDogTW9kYWw7XG4gICAgbW9kYWxFbDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfaGFuZGxlSW5wdXRLZXlkb3duQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVJbnB1dENsaWNrQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVDbG9ja0NsaWNrU3RhcnRCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9oYW5kbGVEb2N1bWVudENsaWNrRW5kQm91bmQ6IGFueTtcbiAgICBwcml2YXRlIF9pbnB1dEZyb21UZXh0RmllbGRCb3VuZDogYW55O1xuICAgIHBsYXRlOiBhbnk7XG4gICAgZGlnaXRhbENsb2NrOiBhbnk7XG4gICAgaW5wdXRIb3VyczogSFRNTElucHV0RWxlbWVudDtcbiAgICBpbnB1dE1pbnV0ZXM6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgeDA6IG51bWJlcjtcbiAgICB5MDogbnVtYmVyO1xuICAgIG1vdmVkOiBib29sZWFuO1xuICAgIGR4OiBudW1iZXI7XG4gICAgZHk6IG51bWJlcjtcbiAgICBjdXJyZW50Vmlldzogc3RyaW5nO1xuICAgIGhhbmQ6IGFueTtcbiAgICBtaW51dGVzVmlldzogSFRNTEVsZW1lbnQ7XG4gICAgaG91cnM6IGFueTtcbiAgICBtaW51dGVzOiBhbnk7XG4gICAgdGltZTogc3RyaW5nO1xuICAgIGFtT3JQbTogYW55O1xuICAgIHN0YXRpYyBfdGVtcGxhdGU6IGFueTtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgdmlicmF0ZTogc3RyaW5nO1xuICAgIF9jYW52YXM6IEhUTUxFbGVtZW50O1xuICAgIGhvdXJzVmlldzogYW55O1xuICAgIHNwYW5BbVBtOiBIVE1MU3BhbkVsZW1lbnQ7XG4gICAgZm9vdGVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9hbUJ0bjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfcG1CdG46IEhUTUxFbGVtZW50O1xuICAgIGJnOiBFbGVtZW50O1xuICAgIGJlYXJpbmc6IEVsZW1lbnQ7XG4gICAgZzogRWxlbWVudDtcbiAgICB0b2dnbGVWaWV3VGltZXI6IHN0cmluZyB8IG51bWJlciB8IE5vZGVKUy5UaW1lb3V0O1xuICAgIGNhbnZhczogYW55O1xuICAgIHZpYnJhdGVUaW1lcjogYW55O1xuXG4gICAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKFRpbWVwaWNrZXIsIGVsLCBvcHRpb25zKTtcbiAgICAgICh0aGlzLmVsIGFzIGFueSkuTV9UaW1lcGlja2VyID0gdGhpcztcbiAgICAgIHRoaXMub3B0aW9ucyA9IHsuLi5UaW1lcGlja2VyLmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICAgIHRoaXMuaWQgPSBNLmd1aWQoKTtcbiAgICAgIHRoaXMuX2luc2VydEhUTUxJbnRvRE9NKCk7XG4gICAgICB0aGlzLl9zZXR1cE1vZGFsKCk7XG4gICAgICB0aGlzLl9zZXR1cFZhcmlhYmxlcygpO1xuICAgICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgICB0aGlzLl9jbG9ja1NldHVwKCk7XG4gICAgICB0aGlzLl9waWNrZXJTZXR1cCgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgX2FkZExlYWRpbmdaZXJvKG51bSkge1xuICAgICAgcmV0dXJuIChudW0gPCAxMCA/ICcwJyA6ICcnKSArIG51bTtcbiAgICB9XG5cbiAgICBzdGF0aWMgX2NyZWF0ZVNWR0VsKG5hbWUpIHtcbiAgICAgIGxldCBzdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCBuYW1lKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgX1BvcyhlKTogUG9pbnQge1xuICAgICAgaWYgKGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFgsIHk6IGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRZIH07XG4gICAgICB9XG4gICAgICAvLyBtb3VzZSBldmVudFxuICAgICAgcmV0dXJuIHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgIGNvbnN0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX1RpbWVwaWNrZXI7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAgIHRoaXMubW9kYWwuZGVzdHJveSgpO1xuICAgICAgdGhpcy5tb2RhbEVsLnJlbW92ZSgpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX1RpbWVwaWNrZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kID0gdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVJbnB1dENsaWNrQm91bmQgPSB0aGlzLl9oYW5kbGVJbnB1dENsaWNrLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVDbG9ja0NsaWNrU3RhcnRCb3VuZCA9IHRoaXMuX2hhbmRsZUNsb2NrQ2xpY2tTdGFydC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja01vdmVCb3VuZCA9IHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrRW5kQm91bmQgPSB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrRW5kLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9pbnB1dEZyb21UZXh0RmllbGRCb3VuZCA9IHRoaXMuX2hhbmRsZVRpbWVJbnB1dEVudGVyS2V5LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kKTtcbiAgICAgIHRoaXMucGxhdGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2xvY2tDbGlja1N0YXJ0Qm91bmQpO1xuICAgICAgdGhpcy5wbGF0ZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlQ2xvY2tDbGlja1N0YXJ0Qm91bmQpO1xuICAgICAgdGhpcy5kaWdpdGFsQ2xvY2suYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9pbnB1dEZyb21UZXh0RmllbGRCb3VuZCk7XG4gICAgICB0aGlzLmlucHV0SG91cnMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNob3dWaWV3LmJpbmQodGhpcywgJ2hvdXJzJykpO1xuICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNob3dWaWV3LmJpbmQodGhpcywgJ21pbnV0ZXMnKSk7XG4gICAgfVxuXG4gICAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGlja0JvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bkJvdW5kKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlSW5wdXRDbGljaygpIHtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cblxuICAgIF9oYW5kbGVJbnB1dEtleWRvd24oZSkge1xuICAgICAgaWYgKGUud2hpY2ggPT09IE0ua2V5cy5FTlRFUikge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVUaW1lSW5wdXRFbnRlcktleShlKSB7XG4gICAgICBpZiAoZS53aGljaCA9PT0gTS5rZXlzLkVOVEVSKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5faW5wdXRGcm9tVGV4dEZpZWxkKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZUNsb2NrQ2xpY2tTdGFydChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBsZXQgY2xvY2tQbGF0ZUJSID0gdGhpcy5wbGF0ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGxldCBvZmZzZXQgPSB7IHg6IGNsb2NrUGxhdGVCUi5sZWZ0LCB5OiBjbG9ja1BsYXRlQlIudG9wIH07XG5cbiAgICAgIHRoaXMueDAgPSBvZmZzZXQueCArIHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzO1xuICAgICAgdGhpcy55MCA9IG9mZnNldC55ICsgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXM7XG4gICAgICB0aGlzLm1vdmVkID0gZmFsc2U7XG4gICAgICBsZXQgY2xpY2tQb3MgPSBUaW1lcGlja2VyLl9Qb3MoZSk7XG4gICAgICB0aGlzLmR4ID0gY2xpY2tQb3MueCAtIHRoaXMueDA7XG4gICAgICB0aGlzLmR5ID0gY2xpY2tQb3MueSAtIHRoaXMueTA7XG5cbiAgICAgIC8vIFNldCBjbG9jayBoYW5kc1xuICAgICAgdGhpcy5zZXRIYW5kKHRoaXMuZHgsIHRoaXMuZHksIGZhbHNlKTtcbiAgICAgIC8vIE1vdXNlbW92ZSBvbiBkb2N1bWVudFxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja01vdmVCb3VuZCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrTW92ZUJvdW5kKTtcbiAgICAgIC8vIE1vdXNldXAgb24gZG9jdW1lbnRcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrRW5kQm91bmQpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrRW5kQm91bmQpO1xuICAgIH1cblxuICAgIF9oYW5kbGVEb2N1bWVudENsaWNrTW92ZShlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBsZXQgY2xpY2tQb3MgPSBUaW1lcGlja2VyLl9Qb3MoZSk7XG4gICAgICBsZXQgeCA9IGNsaWNrUG9zLnggLSB0aGlzLngwO1xuICAgICAgbGV0IHkgPSBjbGlja1Bvcy55IC0gdGhpcy55MDtcbiAgICAgIHRoaXMubW92ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5zZXRIYW5kKHgsIHksIGZhbHNlKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlRG9jdW1lbnRDbGlja0VuZChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0VuZEJvdW5kKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0VuZEJvdW5kKTtcbiAgICAgIGxldCBjbGlja1BvcyA9IFRpbWVwaWNrZXIuX1BvcyhlKTtcbiAgICAgIGxldCB4ID0gY2xpY2tQb3MueCAtIHRoaXMueDA7XG4gICAgICBsZXQgeSA9IGNsaWNrUG9zLnkgLSB0aGlzLnkwO1xuICAgICAgaWYgKHRoaXMubW92ZWQgJiYgeCA9PT0gdGhpcy5keCAmJiB5ID09PSB0aGlzLmR5KSB7XG4gICAgICAgIHRoaXMuc2V0SGFuZCh4LCB5KTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmN1cnJlbnRWaWV3ID09PSAnaG91cnMnKSB7XG4gICAgICAgIHRoaXMuc2hvd1ZpZXcoJ21pbnV0ZXMnLCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gLyAyKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy5hdXRvQ2xvc2UpIHtcbiAgICAgICAgdGhpcy5taW51dGVzVmlldy5jbGFzc0xpc3QuYWRkKCd0aW1lcGlja2VyLWRpYWwtb3V0Jyk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZG9uZSgpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gLyAyKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uU2VsZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vblNlbGVjdC5jYWxsKHRoaXMsIHRoaXMuaG91cnMsIHRoaXMubWludXRlcyk7XG4gICAgICB9XG4gICAgICAvLyBVbmJpbmQgbW91c2Vtb3ZlIGV2ZW50XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrTW92ZUJvdW5kKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlQm91bmQpO1xuICAgIH1cblxuICAgIF9pbnNlcnRIVE1MSW50b0RPTSgpIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IFRpbWVwaWNrZXIuX3RlbXBsYXRlLnRyaW0oKTtcbiAgICAgIHRoaXMubW9kYWxFbCA9IDxIVE1MRWxlbWVudD50ZW1wbGF0ZS5jb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICB0aGlzLm1vZGFsRWwuaWQgPSAnbW9kYWwtJyArIHRoaXMuaWQ7XG5cbiAgICAgIC8vIEFwcGVuZCBwb3BvdmVyIHRvIGlucHV0IGJ5IGRlZmF1bHRcbiAgICAgIGNvbnN0IG9wdEVsID0gdGhpcy5vcHRpb25zLmNvbnRhaW5lcjtcbiAgICAgIGNvbnN0IGNvbnRhaW5lckVsID0gb3B0RWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IG9wdEVsIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRFbCk7XG4gICAgICBcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGFpbmVyICYmICEhY29udGFpbmVyRWwpIHtcbiAgICAgICAgY29udGFpbmVyRWwuYXBwZW5kKHRoaXMubW9kYWxFbCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5lbC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMubW9kYWxFbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldHVwTW9kYWwoKSB7XG4gICAgICB0aGlzLm1vZGFsID0gTS5Nb2RhbC5pbml0KHRoaXMubW9kYWxFbCwge1xuICAgICAgICBvbk9wZW5TdGFydDogdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LFxuICAgICAgICBvbk9wZW5FbmQ6IHRoaXMub3B0aW9ucy5vbk9wZW5FbmQsXG4gICAgICAgIG9uQ2xvc2VTdGFydDogdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCxcbiAgICAgICAgb25DbG9zZUVuZDogKCkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kLmNhbGwodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9zZXR1cFZhcmlhYmxlcygpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpZXcgPSAnaG91cnMnO1xuICAgICAgdGhpcy52aWJyYXRlID0gbmF2aWdhdG9yLnZpYnJhdGVcbiAgICAgICAgPyAndmlicmF0ZSdcbiAgICAgICAgOiAobmF2aWdhdG9yIGFzIGFueSkud2Via2l0VmlicmF0ZVxuICAgICAgICA/ICd3ZWJraXRWaWJyYXRlJ1xuICAgICAgICA6IG51bGw7XG4gICAgICB0aGlzLl9jYW52YXMgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItY2FudmFzJyk7XG4gICAgICB0aGlzLnBsYXRlID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLXBsYXRlJyk7XG4gICAgICB0aGlzLmRpZ2l0YWxDbG9jayA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1kaXNwbGF5LWNvbHVtbicpO1xuICAgICAgdGhpcy5ob3Vyc1ZpZXcgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItaG91cnMnKTtcbiAgICAgIHRoaXMubWludXRlc1ZpZXcgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItbWludXRlcycpO1xuICAgICAgdGhpcy5pbnB1dEhvdXJzID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLWlucHV0LWhvdXJzJyk7XG4gICAgICB0aGlzLmlucHV0TWludXRlcyA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1pbnB1dC1taW51dGVzJyk7XG4gICAgICB0aGlzLnNwYW5BbVBtID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLXNwYW4tYW0tcG0nKTtcbiAgICAgIHRoaXMuZm9vdGVyID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLWZvb3RlcicpO1xuICAgICAgdGhpcy5hbU9yUG0gPSAnUE0nO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZUJ1dHRvbih0ZXh0OiBzdHJpbmcsIHZpc2liaWxpdHk6IHN0cmluZyk6IEhUTUxCdXR0b25FbGVtZW50IHtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bi1mbGF0JywgJ3dhdmVzLWVmZmVjdCcpO1xuICAgICAgYnV0dG9uLnN0eWxlLnZpc2liaWxpdHkgPSB2aXNpYmlsaXR5O1xuICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgIGJ1dHRvbi50YWJJbmRleCA9IHRoaXMub3B0aW9ucy50d2VsdmVIb3VyID8gMyA6IDE7XG4gICAgICBidXR0b24uaW5uZXJUZXh0ID0gdGV4dDtcbiAgICAgIHJldHVybiBidXR0b247XG4gICAgfVxuXG4gICAgX3BpY2tlclNldHVwKCkge1xuICAgICAgY29uc3QgY2xlYXJCdXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24odGhpcy5vcHRpb25zLmkxOG4uY2xlYXIsIHRoaXMub3B0aW9ucy5zaG93Q2xlYXJCdG4gPyAnJyA6ICdoaWRkZW4nKTtcbiAgICAgIGNsZWFyQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItY2xlYXInKTtcbiAgICAgIGNsZWFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGVhci5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuZm9vdGVyLmFwcGVuZENoaWxkKGNsZWFyQnV0dG9uKTtcblxuICAgICAgY29uc3QgY29uZmlybWF0aW9uQnRuc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29uZmlybWF0aW9uQnRuc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdjb25maXJtYXRpb24tYnRucycpO1xuICAgICAgdGhpcy5mb290ZXIuYXBwZW5kKGNvbmZpcm1hdGlvbkJ0bnNDb250YWluZXIpO1xuXG4gICAgICBjb25zdCBjYW5jZWxCdXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24odGhpcy5vcHRpb25zLmkxOG4uY2FuY2VsLCAnJyk7XG4gICAgICBjYW5jZWxCdXR0b24uY2xhc3NMaXN0LmFkZCgndGltZXBpY2tlci1jbG9zZScpO1xuICAgICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcbiAgICAgIGNvbmZpcm1hdGlvbkJ0bnNDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FuY2VsQnV0dG9uKTtcblxuICAgICAgY29uc3QgZG9uZUJ1dHRvbiA9IHRoaXMuX2NyZWF0ZUJ1dHRvbih0aGlzLm9wdGlvbnMuaTE4bi5kb25lLCAnJyk7XG4gICAgICBkb25lQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItY2xvc2UnKTtcbiAgICAgIGRvbmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRvbmUuYmluZCh0aGlzKSk7XG4gICAgICBjb25maXJtYXRpb25CdG5zQ29udGFpbmVyLmFwcGVuZENoaWxkKGRvbmVCdXR0b24pO1xuICAgIH1cblxuICAgIF9jbG9ja1NldHVwKCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAgIC8vIEFNIEJ1dHRvblxuICAgICAgICB0aGlzLl9hbUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLl9hbUJ0bi5jbGFzc0xpc3QuYWRkKCdhbS1idG4nKTtcbiAgICAgICAgdGhpcy5fYW1CdG4uaW5uZXJUZXh0ID0gJ0FNJztcbiAgICAgICAgdGhpcy5fYW1CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVBbVBtQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuc3BhbkFtUG0uYXBwZW5kQ2hpbGQodGhpcy5fYW1CdG4pO1xuICAgICAgICAvLyBQTSBCdXR0b25cbiAgICAgICAgdGhpcy5fcG1CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5fcG1CdG4uY2xhc3NMaXN0LmFkZCgncG0tYnRuJyk7XG4gICAgICAgIHRoaXMuX3BtQnRuLmlubmVyVGV4dCA9ICdQTSc7XG4gICAgICAgIHRoaXMuX3BtQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQW1QbUNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnNwYW5BbVBtLmFwcGVuZENoaWxkKHRoaXMuX3BtQnRuKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2J1aWxkSG91cnNWaWV3KCk7XG4gICAgICB0aGlzLl9idWlsZE1pbnV0ZXNWaWV3KCk7XG4gICAgICB0aGlzLl9idWlsZFNWR0Nsb2NrKCk7XG4gICAgfVxuXG4gICAgX2J1aWxkU1ZHQ2xvY2soKSB7XG4gICAgICAvLyBEcmF3IGNsb2NrIGhhbmRzIGFuZCBvdGhlcnNcbiAgICAgIGxldCBkaWFsUmFkaXVzID0gdGhpcy5vcHRpb25zLmRpYWxSYWRpdXM7XG4gICAgICBsZXQgdGlja1JhZGl1cyA9IHRoaXMub3B0aW9ucy50aWNrUmFkaXVzO1xuICAgICAgbGV0IGRpYW1ldGVyID0gZGlhbFJhZGl1cyAqIDI7XG4gICAgICBsZXQgc3ZnID0gVGltZXBpY2tlci5fY3JlYXRlU1ZHRWwoJ3N2ZycpO1xuICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGltZXBpY2tlci1zdmcnKTtcbiAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgZGlhbWV0ZXIudG9TdHJpbmcoKSk7XG4gICAgICBzdmcuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBkaWFtZXRlci50b1N0cmluZygpKTtcbiAgICAgIGxldCBnID0gVGltZXBpY2tlci5fY3JlYXRlU1ZHRWwoJ2cnKTtcbiAgICAgIGcuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBkaWFsUmFkaXVzICsgJywnICsgZGlhbFJhZGl1cyArICcpJyk7XG4gICAgICBsZXQgYmVhcmluZyA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdjaXJjbGUnKTtcbiAgICAgIGJlYXJpbmcuc2V0QXR0cmlidXRlKCdjbGFzcycsICd0aW1lcGlja2VyLWNhbnZhcy1iZWFyaW5nJyk7XG4gICAgICBiZWFyaW5nLnNldEF0dHJpYnV0ZSgnY3gnLCAnMCcpO1xuICAgICAgYmVhcmluZy5zZXRBdHRyaWJ1dGUoJ2N5JywgJzAnKTtcbiAgICAgIGJlYXJpbmcuc2V0QXR0cmlidXRlKCdyJywgJzQnKTtcbiAgICAgIGxldCBoYW5kID0gVGltZXBpY2tlci5fY3JlYXRlU1ZHRWwoJ2xpbmUnKTtcbiAgICAgIGhhbmQuc2V0QXR0cmlidXRlKCd4MScsICcwJyk7XG4gICAgICBoYW5kLnNldEF0dHJpYnV0ZSgneTEnLCAnMCcpO1xuICAgICAgbGV0IGJnID0gVGltZXBpY2tlci5fY3JlYXRlU1ZHRWwoJ2NpcmNsZScpO1xuICAgICAgYmcuc2V0QXR0cmlidXRlKCdjbGFzcycsICd0aW1lcGlja2VyLWNhbnZhcy1iZycpO1xuICAgICAgYmcuc2V0QXR0cmlidXRlKCdyJywgdGlja1JhZGl1cyk7XG4gICAgICBnLmFwcGVuZENoaWxkKGhhbmQpO1xuICAgICAgZy5hcHBlbmRDaGlsZChiZyk7XG4gICAgICBnLmFwcGVuZENoaWxkKGJlYXJpbmcpO1xuICAgICAgc3ZnLmFwcGVuZENoaWxkKGcpO1xuICAgICAgdGhpcy5fY2FudmFzLmFwcGVuZENoaWxkKHN2Zyk7XG4gICAgICB0aGlzLmhhbmQgPSBoYW5kO1xuICAgICAgdGhpcy5iZyA9IGJnO1xuICAgICAgdGhpcy5iZWFyaW5nID0gYmVhcmluZztcbiAgICAgIHRoaXMuZyA9IGc7XG4gICAgfVxuXG4gICAgX2J1aWxkSG91cnNWaWV3KCkge1xuICAgICAgY29uc3QgJHRpY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICR0aWNrLmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItdGljaycpO1xuICAgICAgLy8gSG91cnMgdmlld1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTM7IGkgKz0gMSkge1xuICAgICAgICAgIGNvbnN0IHRpY2sgPSA8SFRNTEVsZW1lbnQ+JHRpY2suY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgIGNvbnN0IHJhZGlhbiA9IChpIC8gNikgKiBNYXRoLlBJO1xuICAgICAgICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cztcbiAgICAgICAgICB0aWNrLnN0eWxlLmxlZnQgPSB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyArIE1hdGguc2luKHJhZGlhbikgKiByYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArICdweCc7XG4gICAgICAgICAgdGljay5zdHlsZS50b3AgPSB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyAtIE1hdGguY29zKHJhZGlhbikgKiByYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArICdweCc7XG4gICAgICAgICAgdGljay5pbm5lckhUTUwgPSBpID09PSAwID8gJzAwJyA6IGkudG9TdHJpbmcoKTtcbiAgICAgICAgICB0aGlzLmhvdXJzVmlldy5hcHBlbmRDaGlsZCh0aWNrKTtcbiAgICAgICAgICAvLyB0aWNrLm9uKG1vdXNlZG93bkV2ZW50LCBtb3VzZWRvd24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNDsgaSArPSAxKSB7XG4gICAgICAgICAgY29uc3QgdGljayA9IDxIVE1MRWxlbWVudD4kdGljay5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgY29uc3QgcmFkaWFuID0gKGkgLyA2KSAqIE1hdGguUEk7XG4gICAgICAgICAgY29uc3QgaW5uZXIgPSBpID4gMCAmJiBpIDwgMTM7XG4gICAgICAgICAgY29uc3QgcmFkaXVzID0gaW5uZXIgPyB0aGlzLm9wdGlvbnMuaW5uZXJSYWRpdXMgOiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XG4gICAgICAgICAgdGljay5zdHlsZS5sZWZ0ID0gdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgKyBNYXRoLnNpbihyYWRpYW4pICogcmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMgKyAncHgnO1xuICAgICAgICAgIHRpY2suc3R5bGUudG9wID0gdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgLSBNYXRoLmNvcyhyYWRpYW4pICogcmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMgKyAncHgnO1xuICAgICAgICAgIHRpY2suaW5uZXJIVE1MID0gaSA9PT0gMCA/ICcwMCcgOiBpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgdGhpcy5ob3Vyc1ZpZXcuYXBwZW5kQ2hpbGQodGljayk7XG4gICAgICAgICAgLy8gdGljay5vbihtb3VzZWRvd25FdmVudCwgbW91c2Vkb3duKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIF9idWlsZE1pbnV0ZXNWaWV3KCkge1xuICAgICAgY29uc3QgX3RpY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIF90aWNrLmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItdGljaycpO1xuICAgICAgLy8gTWludXRlcyB2aWV3XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDYwOyBpICs9IDUpIHtcbiAgICAgICAgY29uc3QgdGljayA9IDxIVE1MRWxlbWVudD5fdGljay5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgIGNvbnN0IHJhZGlhbiA9IChpIC8gMzApICogTWF0aC5QSTtcbiAgICAgICAgdGljay5zdHlsZS5sZWZ0ID0gXG4gICAgICAgICAgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgK1xuICAgICAgICAgIE1hdGguc2luKHJhZGlhbikgKiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgLVxuICAgICAgICAgIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICtcbiAgICAgICAgICAncHgnO1xuICAgICAgICB0aWNrLnN0eWxlLnRvcCA9XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyAtXG4gICAgICAgICAgICBNYXRoLmNvcyhyYWRpYW4pICogdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzIC1cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICtcbiAgICAgICAgICAgICdweCc7XG4gICAgICAgIHRpY2suaW5uZXJIVE1MID0gVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8oaSk7XG4gICAgICAgIHRoaXMubWludXRlc1ZpZXcuYXBwZW5kQ2hpbGQodGljayk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZUFtUG1DbGljayhlKSB7XG4gICAgICBjb25zdCBidG5DbGlja2VkID0gPEhUTUxFbGVtZW50PmUudGFyZ2V0O1xuICAgICAgdGhpcy5hbU9yUG0gPSBidG5DbGlja2VkLmNsYXNzTGlzdC5jb250YWlucygnYW0tYnRuJykgPyAnQU0nIDogJ1BNJztcbiAgICAgIHRoaXMuX3VwZGF0ZUFtUG1WaWV3KCk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUFtUG1WaWV3KCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAgIGlmICh0aGlzLmFtT3JQbSA9PT0gJ1BNJykge1xuICAgICAgICAgIHRoaXMuX2FtQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtcHJpbWFyeScpO1xuICAgICAgICAgIHRoaXMuX3BtQnRuLmNsYXNzTGlzdC5hZGQoJ3RleHQtcHJpbWFyeScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYW1PclBtID09PSAnQU0nKSB7XG4gICAgICAgICAgdGhpcy5fYW1CdG4uY2xhc3NMaXN0LmFkZCgndGV4dC1wcmltYXJ5Jyk7XG4gICAgICAgICAgdGhpcy5fcG1CdG4uY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1wcmltYXJ5Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlVGltZUZyb21JbnB1dCgpIHtcbiAgICAgIC8vIEdldCB0aGUgdGltZVxuICAgICAgbGV0IHZhbHVlID0gKCh0aGlzLmVsLnZhbHVlIHx8IHRoaXMub3B0aW9ucy5kZWZhdWx0VGltZSB8fCAnJykgKyAnJykuc3BsaXQoJzonKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91ciAmJiAhKHR5cGVvZiB2YWx1ZVsxXSA9PT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgIGlmICh2YWx1ZVsxXS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ0FNJykgPiAwKSB7XG4gICAgICAgICAgdGhpcy5hbU9yUG0gPSAnQU0nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuYW1PclBtID0gJ1BNJztcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZVsxXSA9IHZhbHVlWzFdLnJlcGxhY2UoJ0FNJywgJycpLnJlcGxhY2UoJ1BNJywgJycpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlWzBdID09PSAnbm93Jykge1xuICAgICAgICBsZXQgbm93ID0gbmV3IERhdGUoK25ldyBEYXRlKCkgKyB0aGlzLm9wdGlvbnMuZnJvbU5vdyk7XG4gICAgICAgIHZhbHVlID0gW25vdy5nZXRIb3VycygpLnRvU3RyaW5nKCksIG5vdy5nZXRNaW51dGVzKCkudG9TdHJpbmcoKV07XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgICAgIHRoaXMuYW1PclBtID0gcGFyc2VJbnQodmFsdWVbMF0pID49IDEyICYmIHBhcnNlSW50KHZhbHVlWzBdKSA8IDI0ID8gJ1BNJyA6ICdBTSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuaG91cnMgPSArdmFsdWVbMF0gfHwgMDtcbiAgICAgIHRoaXMubWludXRlcyA9ICt2YWx1ZVsxXSB8fCAwO1xuICAgICAgdGhpcy5pbnB1dEhvdXJzLnZhbHVlID0gdGhpcy5ob3VycztcbiAgICAgIHRoaXMuaW5wdXRNaW51dGVzLnZhbHVlID0gVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8odGhpcy5taW51dGVzKTtcblxuICAgICAgdGhpcy5fdXBkYXRlQW1QbVZpZXcoKTtcbiAgICB9XG5cbiAgICBzaG93Vmlldyh2aWV3LCBkZWxheTogbnVtYmVyID0gbnVsbCkge1xuICAgICAgaWYgKHZpZXcgPT09ICdtaW51dGVzJyAmJiBnZXRDb21wdXRlZFN0eWxlKHRoaXMuaG91cnNWaWV3KS52aXNpYmlsaXR5ID09PSAndmlzaWJsZScpIHtcbiAgICAgICAgLy8gcmFpc2VDYWxsYmFjayh0aGlzLm9wdGlvbnMuYmVmb3JlSG91clNlbGVjdCk7XG4gICAgICB9XG4gICAgICBsZXQgaXNIb3VycyA9IHZpZXcgPT09ICdob3VycycsXG4gICAgICAgIG5leHRWaWV3ID0gaXNIb3VycyA/IHRoaXMuaG91cnNWaWV3IDogdGhpcy5taW51dGVzVmlldyxcbiAgICAgICAgaGlkZVZpZXcgPSBpc0hvdXJzID8gdGhpcy5taW51dGVzVmlldyA6IHRoaXMuaG91cnNWaWV3O1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IHZpZXc7XG5cbiAgICAgIGlmIChpc0hvdXJzKSB7XG4gICAgICAgIHRoaXMuaW5wdXRIb3Vycy5jbGFzc0xpc3QuYWRkKCd0ZXh0LXByaW1hcnknKTtcbiAgICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1wcmltYXJ5Jyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5pbnB1dEhvdXJzLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtcHJpbWFyeScpO1xuICAgICAgICB0aGlzLmlucHV0TWludXRlcy5jbGFzc0xpc3QuYWRkKCd0ZXh0LXByaW1hcnknKTtcbiAgICAgIH1cblxuICAgICAgLy8gVHJhbnNpdGlvbiB2aWV3XG4gICAgICBoaWRlVmlldy5jbGFzc0xpc3QuYWRkKCd0aW1lcGlja2VyLWRpYWwtb3V0Jyk7XG5cbiAgICAgIG5leHRWaWV3LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICBuZXh0Vmlldy5jbGFzc0xpc3QucmVtb3ZlKCd0aW1lcGlja2VyLWRpYWwtb3V0Jyk7XG5cbiAgICAgIC8vIFJlc2V0IGNsb2NrIGhhbmRcbiAgICAgIHRoaXMucmVzZXRDbG9jayhkZWxheSk7XG4gICAgICAvLyBBZnRlciB0cmFuc2l0aW9ucyBlbmRlZFxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudG9nZ2xlVmlld1RpbWVyKTtcbiAgICAgIHRoaXMudG9nZ2xlVmlld1RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGhpZGVWaWV3LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5kdXJhdGlvbik7XG4gICAgfVxuXG4gICAgcmVzZXRDbG9jayhkZWxheSkge1xuICAgICAgbGV0IHZpZXcgPSB0aGlzLmN1cnJlbnRWaWV3LFxuICAgICAgICB2YWx1ZSA9IHRoaXNbdmlld10sXG4gICAgICAgIGlzSG91cnMgPSB2aWV3ID09PSAnaG91cnMnLFxuICAgICAgICB1bml0ID0gTWF0aC5QSSAvIChpc0hvdXJzID8gNiA6IDMwKSxcbiAgICAgICAgcmFkaWFuID0gdmFsdWUgKiB1bml0LFxuICAgICAgICByYWRpdXMgPVxuICAgICAgICAgIGlzSG91cnMgJiYgdmFsdWUgPiAwICYmIHZhbHVlIDwgMTMgPyB0aGlzLm9wdGlvbnMuaW5uZXJSYWRpdXMgOiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMsXG4gICAgICAgIHggPSBNYXRoLnNpbihyYWRpYW4pICogcmFkaXVzLFxuICAgICAgICB5ID0gLU1hdGguY29zKHJhZGlhbikgKiByYWRpdXMsXG4gICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgdGhpcy5jYW52YXM/LmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItY2FudmFzLW91dCcpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBzZWxmLmNhbnZhcz8uY2xhc3NMaXN0LnJlbW92ZSgndGltZXBpY2tlci1jYW52YXMtb3V0Jyk7XG4gICAgICAgICAgc2VsZi5zZXRIYW5kKHgsIHkpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRIYW5kKHgsIHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9pbnB1dEZyb21UZXh0RmllbGQoKSB7XG4gICAgICBjb25zdCBpc0hvdXJzID0gdGhpcy5jdXJyZW50VmlldyA9PT0gJ2hvdXJzJztcbiAgICAgIGlmIChpc0hvdXJzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQodGhpcy5pbnB1dEhvdXJzLnZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlID4gMCAmJiB2YWx1ZSA8IDEzKSB7XG4gICAgICAgICAgdGhpcy5kcmF3Q2xvY2tGcm9tVGltZUlucHV0KHZhbHVlLCBpc0hvdXJzKTtcbiAgICAgICAgICB0aGlzLnNob3dWaWV3KCdtaW51dGVzJywgdGhpcy5vcHRpb25zLmR1cmF0aW9uIC8gMik7XG4gICAgICAgICAgdGhpcy5ob3VycyA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMuaW5wdXRNaW51dGVzLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29uc3QgaG91ciA9IG5ldyBEYXRlKCkuZ2V0SG91cnMoKTtcbiAgICAgICAgICB0aGlzLmlucHV0SG91cnMudmFsdWUgPSAoaG91ciAlIDEyKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUludCh0aGlzLmlucHV0TWludXRlcy52YWx1ZSk7XG4gICAgICAgIGlmICh2YWx1ZSA+PSAwICYmIHZhbHVlIDwgNjApIHtcbiAgICAgICAgICB0aGlzLmlucHV0TWludXRlcy52YWx1ZSA9IFRpbWVwaWNrZXIuX2FkZExlYWRpbmdaZXJvKHZhbHVlKTtcbiAgICAgICAgICB0aGlzLmRyYXdDbG9ja0Zyb21UaW1lSW5wdXQodmFsdWUsIGlzSG91cnMpO1xuICAgICAgICAgIHRoaXMubWludXRlcyA9IHZhbHVlO1xuICAgICAgICAgICg8SFRNTEVsZW1lbnQ+dGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy5jb25maXJtYXRpb24tYnRucyA6bnRoLWNoaWxkKDIpJykpLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29uc3QgbWludXRlcyA9IG5ldyBEYXRlKCkuZ2V0TWludXRlcygpO1xuICAgICAgICAgIHRoaXMuaW5wdXRNaW51dGVzLnZhbHVlID0gVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8obWludXRlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3Q2xvY2tGcm9tVGltZUlucHV0KHZhbHVlLCBpc0hvdXJzKSB7XG4gICAgICBjb25zdCB1bml0ID0gTWF0aC5QSSAvIChpc0hvdXJzID8gNiA6IDMwKTtcbiAgICAgIGNvbnN0IHJhZGlhbiA9IHZhbHVlICogdW5pdDtcbiAgICAgIGxldCByYWRpdXM7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIpIHtcbiAgICAgICAgcmFkaXVzID0gdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzO1xuICAgICAgfVxuICAgICAgbGV0IGN4MSA9IE1hdGguc2luKHJhZGlhbikgKiAocmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMpLFxuICAgICAgICBjeTEgPSAtTWF0aC5jb3MocmFkaWFuKSAqIChyYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyksXG4gICAgICAgIGN4MiA9IE1hdGguc2luKHJhZGlhbikgKiByYWRpdXMsXG4gICAgICAgIGN5MiA9IC1NYXRoLmNvcyhyYWRpYW4pICogcmFkaXVzO1xuICAgICAgdGhpcy5oYW5kLnNldEF0dHJpYnV0ZSgneDInLCBjeDEudG9TdHJpbmcoKSk7XG4gICAgICB0aGlzLmhhbmQuc2V0QXR0cmlidXRlKCd5MicsIGN5MS50b1N0cmluZygpKTtcbiAgICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCdjeCcsIGN4Mi50b1N0cmluZygpKTtcbiAgICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCdjeScsIGN5Mi50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICBzZXRIYW5kKHgsIHksIHJvdW5kQnk1OiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgIGxldCByYWRpYW4gPSBNYXRoLmF0YW4yKHgsIC15KSxcbiAgICAgICAgaXNIb3VycyA9IHRoaXMuY3VycmVudFZpZXcgPT09ICdob3VycycsXG4gICAgICAgIHVuaXQgPSBNYXRoLlBJIC8gKGlzSG91cnMgfHwgcm91bmRCeTUgPyA2IDogMzApLFxuICAgICAgICB6ID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpLFxuICAgICAgICBpbm5lciA9IGlzSG91cnMgJiYgeiA8ICh0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgKyB0aGlzLm9wdGlvbnMuaW5uZXJSYWRpdXMpIC8gMixcbiAgICAgICAgcmFkaXVzID0gaW5uZXIgPyB0aGlzLm9wdGlvbnMuaW5uZXJSYWRpdXMgOiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgICByYWRpdXMgPSB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XG4gICAgICB9XG5cbiAgICAgIC8vIFJhZGlhbiBzaG91bGQgaW4gcmFuZ2UgWzAsIDJQSV1cbiAgICAgIGlmIChyYWRpYW4gPCAwKSB7XG4gICAgICAgIHJhZGlhbiA9IE1hdGguUEkgKiAyICsgcmFkaWFuO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIHJvdW5kIHZhbHVlXG4gICAgICBsZXQgdmFsdWUgPSBNYXRoLnJvdW5kKHJhZGlhbiAvIHVuaXQpO1xuXG4gICAgICAvLyBHZXQgdGhlIHJvdW5kIHJhZGlhblxuICAgICAgcmFkaWFuID0gdmFsdWUgKiB1bml0O1xuXG4gICAgICAvLyBDb3JyZWN0IHRoZSBob3VycyBvciBtaW51dGVzXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIpIHtcbiAgICAgICAgaWYgKGlzSG91cnMpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT09IDApIHZhbHVlID0gMTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJvdW5kQnk1KSB2YWx1ZSAqPSA1O1xuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gNjApIHZhbHVlID0gMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzSG91cnMpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT09IDEyKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlID0gaW5uZXIgPyAodmFsdWUgPT09IDAgPyAxMiA6IHZhbHVlKSA6IHZhbHVlID09PSAwID8gMCA6IHZhbHVlICsgMTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJvdW5kQnk1KSB7XG4gICAgICAgICAgICB2YWx1ZSAqPSA1O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodmFsdWUgPT09IDYwKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE9uY2UgaG91cnMgb3IgbWludXRlcyBjaGFuZ2VkLCB2aWJyYXRlIHRoZSBkZXZpY2VcbiAgICAgIGlmICh0aGlzW3RoaXMuY3VycmVudFZpZXddICE9PSB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy52aWJyYXRlICYmIHRoaXMub3B0aW9ucy52aWJyYXRlKSB7XG4gICAgICAgICAgLy8gRG8gbm90IHZpYnJhdGUgdG9vIGZyZXF1ZW50bHlcbiAgICAgICAgICBpZiAoIXRoaXMudmlicmF0ZVRpbWVyKSB7XG4gICAgICAgICAgICBuYXZpZ2F0b3JbdGhpcy52aWJyYXRlXSgxMCk7XG4gICAgICAgICAgICB0aGlzLnZpYnJhdGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnZpYnJhdGVUaW1lciA9IG51bGw7XG4gICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzW3RoaXMuY3VycmVudFZpZXddID0gdmFsdWU7XG4gICAgICBpZiAoaXNIb3Vycykge1xuICAgICAgICB0aGlzLmlucHV0SG91cnMudmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuaW5wdXRNaW51dGVzLnZhbHVlID0gVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8odmFsdWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgY2xvY2sgaGFuZCBhbmQgb3RoZXJzJyBwb3NpdGlvblxuICAgICAgbGV0IGN4MSA9IE1hdGguc2luKHJhZGlhbikgKiAocmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMpLFxuICAgICAgICBjeTEgPSAtTWF0aC5jb3MocmFkaWFuKSAqIChyYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyksXG4gICAgICAgIGN4MiA9IE1hdGguc2luKHJhZGlhbikgKiByYWRpdXMsXG4gICAgICAgIGN5MiA9IC1NYXRoLmNvcyhyYWRpYW4pICogcmFkaXVzO1xuICAgICAgdGhpcy5oYW5kLnNldEF0dHJpYnV0ZSgneDInLCBjeDEudG9TdHJpbmcoKSk7XG4gICAgICB0aGlzLmhhbmQuc2V0QXR0cmlidXRlKCd5MicsIGN5MS50b1N0cmluZygpKTtcbiAgICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCdjeCcsIGN4Mi50b1N0cmluZygpKTtcbiAgICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCdjeScsIGN5Mi50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgaWYgKHRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgICB0aGlzLl91cGRhdGVUaW1lRnJvbUlucHV0KCk7XG4gICAgICB0aGlzLnNob3dWaWV3KCdob3VycycpO1xuICAgICAgdGhpcy5tb2RhbC5vcGVuKHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICBpZiAoIXRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgdGhpcy5tb2RhbC5jbG9zZSgpO1xuICAgIH1cblxuICAgIGRvbmUoZSA9IG51bGwsIGNsZWFyVmFsdWUgPSBudWxsKSB7XG4gICAgICAvLyBTZXQgaW5wdXQgdmFsdWVcbiAgICAgIGxldCBsYXN0ID0gdGhpcy5lbC52YWx1ZTtcbiAgICAgIGxldCB2YWx1ZSA9IGNsZWFyVmFsdWVcbiAgICAgICAgPyAnJ1xuICAgICAgICA6IFRpbWVwaWNrZXIuX2FkZExlYWRpbmdaZXJvKHRoaXMuaG91cnMpICsgJzonICsgVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8odGhpcy5taW51dGVzKTtcbiAgICAgIHRoaXMudGltZSA9IHZhbHVlO1xuICAgICAgaWYgKCFjbGVhclZhbHVlICYmIHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAgIHZhbHVlID0gYCR7dmFsdWV9ICR7dGhpcy5hbU9yUG19YDtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWwudmFsdWUgPSB2YWx1ZTtcbiAgICAgIC8vIFRyaWdnZXIgY2hhbmdlIGV2ZW50XG4gICAgICBpZiAodmFsdWUgIT09IGxhc3QpIHtcbiAgICAgICAgdGhpcy5lbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpO1xuICAgICAgfVxuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgdGhpcy5lbC5mb2N1cygpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgdGhpcy5kb25lKG51bGwsIHRydWUpO1xuICAgIH1cblxuICAgIHN0YXRpYyB7XG4gICAgICBUaW1lcGlja2VyLl90ZW1wbGF0ZSA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsIHRpbWVwaWNrZXItbW9kYWxcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudCB0aW1lcGlja2VyLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItZGlnaXRhbC1kaXNwbGF5XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLXRleHQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItZGlzcGxheS1jb2x1bW5cIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG1heGxlbmd0aD1cIjJcIiBhdXRvZm9jdXMgY2xhc3M9XCJ0aW1lcGlja2VyLWlucHV0LWhvdXJzIHRleHQtcHJpbWFyeVwiIC8+XG4gICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBtYXhsZW5ndGg9XCIyXCIgY2xhc3M9XCJ0aW1lcGlja2VyLWlucHV0LW1pbnV0ZXNcIiAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWRpc3BsYXktY29sdW1uIHRpbWVwaWNrZXItZGlzcGxheS1hbS1wbVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItc3Bhbi1hbS1wbVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItYW5hbG9nLWRpc3BsYXlcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItcGxhdGVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1jYW52YXNcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaWFsIHRpbWVwaWNrZXItaG91cnNcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaWFsIHRpbWVwaWNrZXItbWludXRlcyB0aW1lcGlja2VyLWRpYWwtb3V0XCI+PC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1mb290ZXJcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2RpdmA7XG4gICAgfVxuICB9XG4gICJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/timepicker.ts\n");

/***/ }),

/***/ "./src/toasts.ts":
/*!***********************!*\
  !*** ./src/toasts.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Toast = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nlet _defaults = {\n    text: '',\n    displayLength: 4000,\n    inDuration: 300,\n    outDuration: 375,\n    classes: '',\n    completeCallback: null,\n    activationPercent: 0.8\n};\nclass Toast {\n    constructor(options) {\n        this.options = Object.assign(Object.assign({}, Toast.defaults), options);\n        //this.htmlMessage = this.options.html;\n        // Warn when using html\n        // if (!!this.options.html)\n        //   console.warn(\n        //     'The html option is deprecated and will be removed in the future. See https://github.com/materializecss/materialize/pull/49'\n        //   );\n        // If the new unsafeHTML is used, prefer that\n        // if (!!this.options.unsafeHTML) {\n        //   this.htmlMessage = this.options.unsafeHTML;\n        // }\n        this.message = this.options.text;\n        this.panning = false;\n        this.timeRemaining = this.options.displayLength;\n        if (Toast._toasts.length === 0) {\n            Toast._createContainer();\n        }\n        // Create new toast\n        Toast._toasts.push(this);\n        let toastElement = this._createToast();\n        toastElement.M_Toast = this;\n        this.el = toastElement;\n        this._animateIn();\n        this._setTimer();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Toast;\n    }\n    static _createContainer() {\n        const container = document.createElement('div');\n        container.setAttribute('id', 'toast-container');\n        // Add event handler\n        container.addEventListener('touchstart', Toast._onDragStart);\n        container.addEventListener('touchmove', Toast._onDragMove);\n        container.addEventListener('touchend', Toast._onDragEnd);\n        container.addEventListener('mousedown', Toast._onDragStart);\n        document.addEventListener('mousemove', Toast._onDragMove);\n        document.addEventListener('mouseup', Toast._onDragEnd);\n        document.body.appendChild(container);\n        Toast._container = container;\n    }\n    static _removeContainer() {\n        document.removeEventListener('mousemove', Toast._onDragMove);\n        document.removeEventListener('mouseup', Toast._onDragEnd);\n        Toast._container.remove();\n        Toast._container = null;\n    }\n    static _onDragStart(e) {\n        if (e.target && e.target.closest('.toast')) {\n            const toastElem = e.target.closest('.toast');\n            const toast = toastElem.M_Toast;\n            toast.panning = true;\n            Toast._draggedToast = toast;\n            toast.el.classList.add('panning');\n            toast.el.style.transition = '';\n            toast.startingXPos = Toast._xPos(e);\n            toast.time = Date.now();\n            toast.xPos = Toast._xPos(e);\n        }\n    }\n    static _onDragMove(e) {\n        if (!!Toast._draggedToast) {\n            e.preventDefault();\n            const toast = Toast._draggedToast;\n            toast.deltaX = Math.abs(toast.xPos - Toast._xPos(e));\n            toast.xPos = Toast._xPos(e);\n            toast.velocityX = toast.deltaX / (Date.now() - toast.time);\n            toast.time = Date.now();\n            const totalDeltaX = toast.xPos - toast.startingXPos;\n            const activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\n            toast.el.style.transform = `translateX(${totalDeltaX}px)`;\n            toast.el.style.opacity = (1 - Math.abs(totalDeltaX / activationDistance)).toString();\n        }\n    }\n    static _onDragEnd() {\n        if (!!Toast._draggedToast) {\n            let toast = Toast._draggedToast;\n            toast.panning = false;\n            toast.el.classList.remove('panning');\n            let totalDeltaX = toast.xPos - toast.startingXPos;\n            let activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\n            let shouldBeDismissed = Math.abs(totalDeltaX) > activationDistance || toast.velocityX > 1;\n            // Remove toast\n            if (shouldBeDismissed) {\n                toast.wasSwiped = true;\n                toast.dismiss();\n                // Animate toast back to original position\n            }\n            else {\n                toast.el.style.transition = 'transform .2s, opacity .2s';\n                toast.el.style.transform = '';\n                toast.el.style.opacity = '';\n            }\n            Toast._draggedToast = null;\n        }\n    }\n    static _xPos(e) {\n        if (e.targetTouches && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientX;\n        }\n        // mouse event\n        return e.clientX;\n    }\n    static dismissAll() {\n        for (let toastIndex in Toast._toasts) {\n            Toast._toasts[toastIndex].dismiss();\n        }\n    }\n    _createToast() {\n        const toast = document.createElement('div');\n        toast.classList.add('toast');\n        toast.setAttribute('role', 'alert');\n        toast.setAttribute('aria-live', 'assertive');\n        toast.setAttribute('aria-atomic', 'true');\n        // Add custom classes onto toast\n        if (this.options.classes.length > 0) {\n            toast.classList.add(...this.options.classes.split(' '));\n        }\n        // Set safe text content\n        toast.innerText = this.message;\n        // if (\n        //   typeof HTMLElement === 'object'\n        //     ? this.htmlMessage instanceof HTMLElement\n        //     : this.htmlMessage &&\n        //       typeof this.htmlMessage === 'object' &&\n        //       this.htmlMessage !== null &&\n        //       this.htmlMessage.nodeType === 1 &&\n        //       typeof this.htmlMessage.nodeName === 'string'\n        // ) {\n        //   //if the htmlMessage is an HTML node, append it directly\n        //   toast.appendChild(this.htmlMessage);\n        // }\n        // else if (!!this.htmlMessage.jquery) {\n        //   // Check if it is jQuery object, append the node\n        //   $(toast).append(this.htmlMessage[0]);\n        // }\n        // else {\n        //   // Append as unsanitized html;\n        //   $(toast).append(this.htmlMessage);\n        // }\n        // Append toast\n        Toast._container.appendChild(toast);\n        return toast;\n    }\n    _animateIn() {\n        // Animate toast in\n        (0, animejs_1.default)({\n            targets: this.el,\n            top: 0,\n            opacity: 1,\n            duration: this.options.inDuration,\n            easing: 'easeOutCubic'\n        });\n    }\n    /**\n     * Create setInterval which automatically removes toast when timeRemaining >= 0\n     * has been reached\n     */\n    _setTimer() {\n        if (this.timeRemaining !== Infinity) {\n            this.counterInterval = setInterval(() => {\n                // If toast is not being dragged, decrease its time remaining\n                if (!this.panning) {\n                    this.timeRemaining -= 20;\n                }\n                // Animate toast out\n                if (this.timeRemaining <= 0) {\n                    this.dismiss();\n                }\n            }, 20);\n        }\n    }\n    /**\n     * Dismiss toast with animation\n     */\n    dismiss() {\n        window.clearInterval(this.counterInterval);\n        let activationDistance = this.el.offsetWidth * this.options.activationPercent;\n        if (this.wasSwiped) {\n            this.el.style.transition = 'transform .05s, opacity .05s';\n            this.el.style.transform = `translateX(${activationDistance}px)`;\n            this.el.style.opacity = '0';\n        }\n        (0, animejs_1.default)({\n            targets: this.el,\n            opacity: 0,\n            marginTop: -40,\n            duration: this.options.outDuration,\n            easing: 'easeOutExpo',\n            complete: () => {\n                // Call the optional callback\n                if (typeof this.options.completeCallback === 'function') {\n                    this.options.completeCallback();\n                }\n                // Remove toast from DOM\n                this.el.remove();\n                Toast._toasts.splice(Toast._toasts.indexOf(this), 1);\n                if (Toast._toasts.length === 0) {\n                    Toast._removeContainer();\n                }\n            }\n        });\n    }\n}\nexports.Toast = Toast;\n(() => {\n    Toast._toasts = [];\n    Toast._container = null;\n    Toast._draggedToast = null;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO1lBQ2hFLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7U0FDN0I7UUFFRCxxQkFBSSxFQUFDO1lBQ0gsT0FBTyxFQUFFLElBQUksQ0FBQyxFQUFFO1lBQ2hCLE9BQU8sRUFBRSxDQUFDO1lBQ1YsU0FBUyxFQUFFLENBQUMsRUFBRTtZQUNkLFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVc7WUFDbEMsTUFBTSxFQUFFLGFBQWE7WUFDckIsUUFBUSxFQUFFLEdBQUcsRUFBRTtnQkFDYiw2QkFBNkI7Z0JBQzdCLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixLQUFLLFVBQVUsRUFBRTtvQkFDdkQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO2lCQUNqQztnQkFDRCx3QkFBd0I7Z0JBQ3hCLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ2pCLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNyRCxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtvQkFDOUIsS0FBSyxDQUFDLGdCQUFnQixFQUFFLENBQUM7aUJBQzFCO1lBQ0gsQ0FBQztTQUNGLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FPRjtBQTdQRCxzQkE2UEM7QUFMQztJQUNFLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO0lBQ25CLEtBQUssQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0lBQ3hCLEtBQUssQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO0FBQzdCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL3RvYXN0cy50cz9mOTZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5cbmxldCBfZGVmYXVsdHMgPSB7XG4gICAgdGV4dDogJycsXG4gICAgZGlzcGxheUxlbmd0aDogNDAwMCxcbiAgICBpbkR1cmF0aW9uOiAzMDAsXG4gICAgb3V0RHVyYXRpb246IDM3NSxcbiAgICBjbGFzc2VzOiAnJyxcbiAgICBjb21wbGV0ZUNhbGxiYWNrOiBudWxsLFxuICAgIGFjdGl2YXRpb25QZXJjZW50OiAwLjhcbiAgfTtcblxuICBleHBvcnQgY2xhc3MgVG9hc3Qge1xuICAgIHN0YXRpYyBfdG9hc3RzOiBUb2FzdFtdO1xuICAgIHN0YXRpYyBfY29udGFpbmVyOiBhbnk7XG4gICAgc3RhdGljIF9kcmFnZ2VkVG9hc3Q6IFRvYXN0O1xuICAgIG9wdGlvbnM6IGFueTtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgcGFubmluZzogYm9vbGVhbjtcbiAgICB0aW1lUmVtYWluaW5nOiBudW1iZXI7XG4gICAgZWw6IEhUTUxEaXZFbGVtZW50O1xuICAgIGNvdW50ZXJJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQ7XG4gICAgd2FzU3dpcGVkOiBhbnk7XG4gICAgc3RhcnRpbmdYUG9zOiBudW1iZXI7XG4gICAgeFBvczogYW55O1xuICAgIHRpbWU6IG51bWJlcjtcbiAgICBkZWx0YVg6IG51bWJlcjtcbiAgICB2ZWxvY2l0eVg6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IGFueSkge1xuICAgICAgdGhpcy5vcHRpb25zID0gey4uLlRvYXN0LmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICAgIC8vdGhpcy5odG1sTWVzc2FnZSA9IHRoaXMub3B0aW9ucy5odG1sO1xuICAgICAgLy8gV2FybiB3aGVuIHVzaW5nIGh0bWxcbiAgICAgIC8vIGlmICghIXRoaXMub3B0aW9ucy5odG1sKVxuICAgICAgLy8gICBjb25zb2xlLndhcm4oXG4gICAgICAvLyAgICAgJ1RoZSBodG1sIG9wdGlvbiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS9wdWxsLzQ5J1xuICAgICAgLy8gICApO1xuICAgICAgLy8gSWYgdGhlIG5ldyB1bnNhZmVIVE1MIGlzIHVzZWQsIHByZWZlciB0aGF0XG4gICAgICAvLyBpZiAoISF0aGlzLm9wdGlvbnMudW5zYWZlSFRNTCkge1xuICAgICAgLy8gICB0aGlzLmh0bWxNZXNzYWdlID0gdGhpcy5vcHRpb25zLnVuc2FmZUhUTUw7XG4gICAgICAvLyB9XG4gICAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLm9wdGlvbnMudGV4dDtcbiAgICAgIHRoaXMucGFubmluZyA9IGZhbHNlO1xuICAgICAgdGhpcy50aW1lUmVtYWluaW5nID0gdGhpcy5vcHRpb25zLmRpc3BsYXlMZW5ndGg7XG4gICAgICBpZiAoVG9hc3QuX3RvYXN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgVG9hc3QuX2NyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgfVxuICAgICAgLy8gQ3JlYXRlIG5ldyB0b2FzdFxuICAgICAgVG9hc3QuX3RvYXN0cy5wdXNoKHRoaXMpO1xuICAgICAgbGV0IHRvYXN0RWxlbWVudCA9IHRoaXMuX2NyZWF0ZVRvYXN0KCk7XG4gICAgICAodG9hc3RFbGVtZW50IGFzIGFueSkuTV9Ub2FzdCA9IHRoaXM7XG4gICAgICB0aGlzLmVsID0gdG9hc3RFbGVtZW50O1xuICAgICAgdGhpcy5fYW5pbWF0ZUluKCk7XG4gICAgICB0aGlzLl9zZXRUaW1lcigpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX1RvYXN0O1xuICAgIH1cblxuICAgIHN0YXRpYyBfY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICd0b2FzdC1jb250YWluZXInKTtcbiAgICAgIC8vIEFkZCBldmVudCBoYW5kbGVyXG4gICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIFRvYXN0Ll9vbkRyYWdTdGFydCk7XG4gICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgVG9hc3QuX29uRHJhZ01vdmUpO1xuICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgVG9hc3QuX29uRHJhZ0VuZCk7XG4gICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgVG9hc3QuX29uRHJhZ1N0YXJ0KTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIFRvYXN0Ll9vbkRyYWdNb3ZlKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBUb2FzdC5fb25EcmFnRW5kKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICAgIFRvYXN0Ll9jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgfVxuXG4gICAgc3RhdGljIF9yZW1vdmVDb250YWluZXIoKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBUb2FzdC5fb25EcmFnTW92ZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgVG9hc3QuX29uRHJhZ0VuZCk7XG4gICAgICBUb2FzdC5fY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgVG9hc3QuX2NvbnRhaW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgc3RhdGljIF9vbkRyYWdTdGFydChlKSB7XG4gICAgICBpZiAoZS50YXJnZXQgJiYgKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnLnRvYXN0JykpIHtcbiAgICAgICAgY29uc3QgdG9hc3RFbGVtID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnLnRvYXN0Jyk7XG4gICAgICAgIGNvbnN0IHRvYXN0OiBUb2FzdCA9ICh0b2FzdEVsZW0gYXMgYW55KS5NX1RvYXN0O1xuICAgICAgICB0b2FzdC5wYW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgVG9hc3QuX2RyYWdnZWRUb2FzdCA9IHRvYXN0O1xuICAgICAgICB0b2FzdC5lbC5jbGFzc0xpc3QuYWRkKCdwYW5uaW5nJyk7XG4gICAgICAgIHRvYXN0LmVsLnN0eWxlLnRyYW5zaXRpb24gPSAnJztcbiAgICAgICAgdG9hc3Quc3RhcnRpbmdYUG9zID0gVG9hc3QuX3hQb3MoZSk7XG4gICAgICAgIHRvYXN0LnRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB0b2FzdC54UG9zID0gVG9hc3QuX3hQb3MoZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIF9vbkRyYWdNb3ZlKGUpIHtcbiAgICAgIGlmICghIVRvYXN0Ll9kcmFnZ2VkVG9hc3QpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB0b2FzdCA9IFRvYXN0Ll9kcmFnZ2VkVG9hc3Q7XG4gICAgICAgIHRvYXN0LmRlbHRhWCA9IE1hdGguYWJzKHRvYXN0LnhQb3MgLSBUb2FzdC5feFBvcyhlKSk7XG4gICAgICAgIHRvYXN0LnhQb3MgPSBUb2FzdC5feFBvcyhlKTtcbiAgICAgICAgdG9hc3QudmVsb2NpdHlYID0gdG9hc3QuZGVsdGFYIC8gKERhdGUubm93KCkgLSB0b2FzdC50aW1lKTtcbiAgICAgICAgdG9hc3QudGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgY29uc3QgdG90YWxEZWx0YVggPSB0b2FzdC54UG9zIC0gdG9hc3Quc3RhcnRpbmdYUG9zO1xuICAgICAgICBjb25zdCBhY3RpdmF0aW9uRGlzdGFuY2UgPSB0b2FzdC5lbC5vZmZzZXRXaWR0aCAqIHRvYXN0Lm9wdGlvbnMuYWN0aXZhdGlvblBlcmNlbnQ7XG4gICAgICAgIHRvYXN0LmVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dG90YWxEZWx0YVh9cHgpYDtcbiAgICAgICAgdG9hc3QuZWwuc3R5bGUub3BhY2l0eSA9ICgxIC0gTWF0aC5hYnModG90YWxEZWx0YVggLyBhY3RpdmF0aW9uRGlzdGFuY2UpKS50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBfb25EcmFnRW5kKCkge1xuICAgICAgaWYgKCEhVG9hc3QuX2RyYWdnZWRUb2FzdCkge1xuICAgICAgICBsZXQgdG9hc3QgPSBUb2FzdC5fZHJhZ2dlZFRvYXN0O1xuICAgICAgICB0b2FzdC5wYW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHRvYXN0LmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Bhbm5pbmcnKTtcblxuICAgICAgICBsZXQgdG90YWxEZWx0YVggPSB0b2FzdC54UG9zIC0gdG9hc3Quc3RhcnRpbmdYUG9zO1xuICAgICAgICBsZXQgYWN0aXZhdGlvbkRpc3RhbmNlID0gdG9hc3QuZWwub2Zmc2V0V2lkdGggKiB0b2FzdC5vcHRpb25zLmFjdGl2YXRpb25QZXJjZW50O1xuICAgICAgICBsZXQgc2hvdWxkQmVEaXNtaXNzZWQgPSBNYXRoLmFicyh0b3RhbERlbHRhWCkgPiBhY3RpdmF0aW9uRGlzdGFuY2UgfHwgdG9hc3QudmVsb2NpdHlYID4gMTtcblxuICAgICAgICAvLyBSZW1vdmUgdG9hc3RcbiAgICAgICAgaWYgKHNob3VsZEJlRGlzbWlzc2VkKSB7XG4gICAgICAgICAgdG9hc3Qud2FzU3dpcGVkID0gdHJ1ZTtcbiAgICAgICAgICB0b2FzdC5kaXNtaXNzKCk7XG4gICAgICAgICAgLy8gQW5pbWF0ZSB0b2FzdCBiYWNrIHRvIG9yaWdpbmFsIHBvc2l0aW9uXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdG9hc3QuZWwuc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gLjJzLCBvcGFjaXR5IC4ycyc7XG4gICAgICAgICAgdG9hc3QuZWwuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgdG9hc3QuZWwuc3R5bGUub3BhY2l0eSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIFRvYXN0Ll9kcmFnZ2VkVG9hc3QgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBfeFBvcyhlKSB7XG4gICAgICBpZiAoZS50YXJnZXRUb3VjaGVzICYmIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggPj0gMSkge1xuICAgICAgICByZXR1cm4gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB9XG4gICAgICAvLyBtb3VzZSBldmVudFxuICAgICAgcmV0dXJuIGUuY2xpZW50WDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGlzbWlzc0FsbCgpIHtcbiAgICAgIGZvciAobGV0IHRvYXN0SW5kZXggaW4gVG9hc3QuX3RvYXN0cykge1xuICAgICAgICBUb2FzdC5fdG9hc3RzW3RvYXN0SW5kZXhdLmRpc21pc3MoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlVG9hc3QoKSB7XG4gICAgICBjb25zdCB0b2FzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdG9hc3QuY2xhc3NMaXN0LmFkZCgndG9hc3QnKTtcbiAgICAgIHRvYXN0LnNldEF0dHJpYnV0ZSgncm9sZScsICdhbGVydCcpO1xuICAgICAgdG9hc3Quc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gICAgICB0b2FzdC5zZXRBdHRyaWJ1dGUoJ2FyaWEtYXRvbWljJywgJ3RydWUnKTtcblxuICAgICAgLy8gQWRkIGN1c3RvbSBjbGFzc2VzIG9udG8gdG9hc3RcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRvYXN0LmNsYXNzTGlzdC5hZGQoLi4udGhpcy5vcHRpb25zLmNsYXNzZXMuc3BsaXQoJyAnKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCBzYWZlIHRleHQgY29udGVudFxuICAgICAgdG9hc3QuaW5uZXJUZXh0ID0gdGhpcy5tZXNzYWdlO1xuXG4gICAgICAvLyBpZiAoXG4gICAgICAvLyAgIHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ29iamVjdCdcbiAgICAgIC8vICAgICA/IHRoaXMuaHRtbE1lc3NhZ2UgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxuICAgICAgLy8gICAgIDogdGhpcy5odG1sTWVzc2FnZSAmJlxuICAgICAgLy8gICAgICAgdHlwZW9mIHRoaXMuaHRtbE1lc3NhZ2UgPT09ICdvYmplY3QnICYmXG4gICAgICAvLyAgICAgICB0aGlzLmh0bWxNZXNzYWdlICE9PSBudWxsICYmXG4gICAgICAvLyAgICAgICB0aGlzLmh0bWxNZXNzYWdlLm5vZGVUeXBlID09PSAxICYmXG4gICAgICAvLyAgICAgICB0eXBlb2YgdGhpcy5odG1sTWVzc2FnZS5ub2RlTmFtZSA9PT0gJ3N0cmluZydcbiAgICAgIC8vICkge1xuICAgICAgLy8gICAvL2lmIHRoZSBodG1sTWVzc2FnZSBpcyBhbiBIVE1MIG5vZGUsIGFwcGVuZCBpdCBkaXJlY3RseVxuICAgICAgLy8gICB0b2FzdC5hcHBlbmRDaGlsZCh0aGlzLmh0bWxNZXNzYWdlKTtcbiAgICAgIC8vIH1cbiAgICAgIC8vIGVsc2UgaWYgKCEhdGhpcy5odG1sTWVzc2FnZS5qcXVlcnkpIHtcbiAgICAgIC8vICAgLy8gQ2hlY2sgaWYgaXQgaXMgalF1ZXJ5IG9iamVjdCwgYXBwZW5kIHRoZSBub2RlXG4gICAgICAvLyAgICQodG9hc3QpLmFwcGVuZCh0aGlzLmh0bWxNZXNzYWdlWzBdKTtcbiAgICAgIC8vIH1cbiAgICAgIC8vIGVsc2Uge1xuICAgICAgLy8gICAvLyBBcHBlbmQgYXMgdW5zYW5pdGl6ZWQgaHRtbDtcbiAgICAgIC8vICAgJCh0b2FzdCkuYXBwZW5kKHRoaXMuaHRtbE1lc3NhZ2UpO1xuICAgICAgLy8gfVxuXG4gICAgICAvLyBBcHBlbmQgdG9hc3RcbiAgICAgIFRvYXN0Ll9jb250YWluZXIuYXBwZW5kQ2hpbGQodG9hc3QpO1xuICAgICAgcmV0dXJuIHRvYXN0O1xuICAgIH1cblxuICAgIF9hbmltYXRlSW4oKSB7XG4gICAgICAvLyBBbmltYXRlIHRvYXN0IGluXG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYydcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBzZXRJbnRlcnZhbCB3aGljaCBhdXRvbWF0aWNhbGx5IHJlbW92ZXMgdG9hc3Qgd2hlbiB0aW1lUmVtYWluaW5nID49IDBcbiAgICAgKiBoYXMgYmVlbiByZWFjaGVkXG4gICAgICovXG4gICAgX3NldFRpbWVyKCkge1xuICAgICAgaWYgKHRoaXMudGltZVJlbWFpbmluZyAhPT0gSW5maW5pdHkpIHtcbiAgICAgICAgdGhpcy5jb3VudGVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgLy8gSWYgdG9hc3QgaXMgbm90IGJlaW5nIGRyYWdnZWQsIGRlY3JlYXNlIGl0cyB0aW1lIHJlbWFpbmluZ1xuICAgICAgICAgIGlmICghdGhpcy5wYW5uaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVSZW1haW5pbmcgLT0gMjA7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFuaW1hdGUgdG9hc3Qgb3V0XG4gICAgICAgICAgaWYgKHRoaXMudGltZVJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRpc21pc3MoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDIwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNtaXNzIHRvYXN0IHdpdGggYW5pbWF0aW9uXG4gICAgICovXG4gICAgZGlzbWlzcygpIHtcbiAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuY291bnRlckludGVydmFsKTtcbiAgICAgIGxldCBhY3RpdmF0aW9uRGlzdGFuY2UgPSB0aGlzLmVsLm9mZnNldFdpZHRoICogdGhpcy5vcHRpb25zLmFjdGl2YXRpb25QZXJjZW50O1xuXG4gICAgICBpZiAodGhpcy53YXNTd2lwZWQpIHtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAuMDVzLCBvcGFjaXR5IC4wNXMnO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7YWN0aXZhdGlvbkRpc3RhbmNlfXB4KWA7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgIH1cblxuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIG1hcmdpblRvcDogLTQwLFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0RXhwbycsXG4gICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgLy8gQ2FsbCB0aGUgb3B0aW9uYWwgY2FsbGJhY2tcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5jb21wbGV0ZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuY29tcGxldGVDYWxsYmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBSZW1vdmUgdG9hc3QgZnJvbSBET01cbiAgICAgICAgICB0aGlzLmVsLnJlbW92ZSgpO1xuICAgICAgICAgIFRvYXN0Ll90b2FzdHMuc3BsaWNlKFRvYXN0Ll90b2FzdHMuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgICAgICAgaWYgKFRvYXN0Ll90b2FzdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBUb2FzdC5fcmVtb3ZlQ29udGFpbmVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgeyAgICAgICAgICBcbiAgICAgIFRvYXN0Ll90b2FzdHMgPSBbXTtcbiAgICAgIFRvYXN0Ll9jb250YWluZXIgPSBudWxsO1xuICAgICAgVG9hc3QuX2RyYWdnZWRUb2FzdCA9IG51bGw7XG4gICAgfVxuICB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/toasts.ts\n");

/***/ }),

/***/ "./src/tooltip.ts":
/*!************************!*\
  !*** ./src/tooltip.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Tooltip = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst _defaults = {\n    exitDelay: 200,\n    enterDelay: 0,\n    //html: null,\n    text: '',\n    //unsafeHTML: null,\n    margin: 5,\n    inDuration: 250,\n    outDuration: 200,\n    position: 'bottom',\n    transitionMovement: 10\n};\nclass Tooltip extends component_1.Component {\n    constructor(el, options) {\n        super(Tooltip, el, options);\n        this.el.M_Tooltip = this;\n        this.options = Object.assign(Object.assign({}, Tooltip.defaults), options);\n        this.isOpen = false;\n        this.isHovered = false;\n        this.isFocused = false;\n        this._appendTooltipEl();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Tooltip;\n    }\n    destroy() {\n        this.tooltipEl.remove();\n        this._removeEventHandlers();\n        this.el.M_Tooltip = undefined;\n    }\n    _appendTooltipEl() {\n        this.tooltipEl = document.createElement('div');\n        this.tooltipEl.classList.add('material-tooltip');\n        const tooltipContentEl = document.createElement('div');\n        tooltipContentEl.classList.add('tooltip-content');\n        this._setTooltipContent(tooltipContentEl);\n        this.tooltipEl.appendChild(tooltipContentEl);\n        document.body.appendChild(this.tooltipEl);\n    }\n    _setTooltipContent(tooltipContentEl) {\n        tooltipContentEl.innerText = this.options.text;\n        /*\n        if (!!this.options.html) {\n          // Warn when using html\n          console.warn(\n            'The html option is deprecated and will be removed in the future. See https://github.com/materializecss/materialize/pull/49'\n          );\n          $(tooltipContentEl).append(this.options.html);\n        }\n        if (!!this.options.unsafeHTML) {\n          $(tooltipContentEl).append(this.options.unsafeHTML);\n        }\n        */\n    }\n    _updateTooltipContent() {\n        this._setTooltipContent(this.tooltipEl.querySelector('.tooltip-content'));\n    }\n    _setupEventHandlers() {\n        this._handleMouseEnterBound = this._handleMouseEnter.bind(this);\n        this._handleMouseLeaveBound = this._handleMouseLeave.bind(this);\n        this._handleFocusBound = this._handleFocus.bind(this);\n        this._handleBlurBound = this._handleBlur.bind(this);\n        this.el.addEventListener('mouseenter', this._handleMouseEnterBound);\n        this.el.addEventListener('mouseleave', this._handleMouseLeaveBound);\n        this.el.addEventListener('focus', this._handleFocusBound, true);\n        this.el.addEventListener('blur', this._handleBlurBound, true);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('mouseenter', this._handleMouseEnterBound);\n        this.el.removeEventListener('mouseleave', this._handleMouseLeaveBound);\n        this.el.removeEventListener('focus', this._handleFocusBound, true);\n        this.el.removeEventListener('blur', this._handleBlurBound, true);\n    }\n    open(isManual) {\n        if (this.isOpen)\n            return;\n        isManual = isManual === undefined ? true : undefined; // Default value true\n        this.isOpen = true;\n        // Update tooltip content with HTML attribute options\n        this.options = Object.assign(Object.assign({}, this.options), this._getAttributeOptions());\n        this._updateTooltipContent();\n        this._setEnterDelayTimeout(isManual);\n    }\n    close() {\n        if (!this.isOpen)\n            return;\n        this.isHovered = false;\n        this.isFocused = false;\n        this.isOpen = false;\n        this._setExitDelayTimeout();\n    }\n    _setExitDelayTimeout() {\n        clearTimeout(this._exitDelayTimeout);\n        this._exitDelayTimeout = setTimeout(() => {\n            if (this.isHovered || this.isFocused)\n                return;\n            this._animateOut();\n        }, this.options.exitDelay);\n    }\n    _setEnterDelayTimeout(isManual) {\n        clearTimeout(this._enterDelayTimeout);\n        this._enterDelayTimeout = setTimeout(() => {\n            if (!this.isHovered && !this.isFocused && !isManual)\n                return;\n            this._animateIn();\n        }, this.options.enterDelay);\n    }\n    _positionTooltip() {\n        const tooltip = this.tooltipEl;\n        const origin = this.el, originHeight = origin.offsetHeight, originWidth = origin.offsetWidth, tooltipHeight = tooltip.offsetHeight, tooltipWidth = tooltip.offsetWidth, margin = this.options.margin;\n        (this.xMovement = 0), (this.yMovement = 0);\n        let targetTop = origin.getBoundingClientRect().top + global_1.M.getDocumentScrollTop();\n        let targetLeft = origin.getBoundingClientRect().left + global_1.M.getDocumentScrollLeft();\n        if (this.options.position === 'top') {\n            targetTop += -tooltipHeight - margin;\n            targetLeft += originWidth / 2 - tooltipWidth / 2;\n            this.yMovement = -this.options.transitionMovement;\n        }\n        else if (this.options.position === 'right') {\n            targetTop += originHeight / 2 - tooltipHeight / 2;\n            targetLeft += originWidth + margin;\n            this.xMovement = this.options.transitionMovement;\n        }\n        else if (this.options.position === 'left') {\n            targetTop += originHeight / 2 - tooltipHeight / 2;\n            targetLeft += -tooltipWidth - margin;\n            this.xMovement = -this.options.transitionMovement;\n        }\n        else {\n            targetTop += originHeight + margin;\n            targetLeft += originWidth / 2 - tooltipWidth / 2;\n            this.yMovement = this.options.transitionMovement;\n        }\n        const newCoordinates = this._repositionWithinScreen(targetLeft, targetTop, tooltipWidth, tooltipHeight);\n        tooltip.style.top = newCoordinates.y + 'px';\n        tooltip.style.left = newCoordinates.x + 'px';\n    }\n    _repositionWithinScreen(x, y, width, height) {\n        const scrollLeft = global_1.M.getDocumentScrollLeft();\n        const scrollTop = global_1.M.getDocumentScrollTop();\n        let newX = x - scrollLeft;\n        let newY = y - scrollTop;\n        const bounding = {\n            left: newX,\n            top: newY,\n            width: width,\n            height: height\n        };\n        const offset = this.options.margin + this.options.transitionMovement;\n        const edges = global_1.M.checkWithinContainer(document.body, bounding, offset);\n        if (edges.left) {\n            newX = offset;\n        }\n        else if (edges.right) {\n            newX -= newX + width - window.innerWidth;\n        }\n        if (edges.top) {\n            newY = offset;\n        }\n        else if (edges.bottom) {\n            newY -= newY + height - window.innerHeight;\n        }\n        return {\n            x: newX + scrollLeft,\n            y: newY + scrollTop\n        };\n    }\n    _animateIn() {\n        this._positionTooltip();\n        this.tooltipEl.style.visibility = 'visible';\n        animejs_1.default.remove(this.tooltipEl);\n        (0, animejs_1.default)({\n            targets: this.tooltipEl,\n            opacity: this.options.opacity || 1,\n            translateX: this.xMovement,\n            translateY: this.yMovement,\n            duration: this.options.inDuration,\n            easing: 'easeOutCubic'\n        });\n    }\n    _animateOut() {\n        animejs_1.default.remove(this.tooltipEl);\n        (0, animejs_1.default)({\n            targets: this.tooltipEl,\n            opacity: 0,\n            translateX: 0,\n            translateY: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutCubic'\n        });\n    }\n    _handleMouseEnter() {\n        this.isHovered = true;\n        this.isFocused = false; // Allows close of tooltip when opened by focus.\n        this.open(false);\n    }\n    _handleMouseLeave() {\n        this.isHovered = false;\n        this.isFocused = false; // Allows close of tooltip when opened by focus.\n        this.close();\n    }\n    _handleFocus() {\n        if (global_1.M.tabPressed) {\n            this.isFocused = true;\n            this.open(false);\n        }\n    }\n    _handleBlur() {\n        this.isFocused = false;\n        this.close();\n    }\n    _getAttributeOptions() {\n        const attributeOptions = {};\n        const tooltipTextOption = this.el.getAttribute('data-tooltip');\n        const positionOption = this.el.getAttribute('data-position');\n        if (tooltipTextOption) {\n            attributeOptions.text = tooltipTextOption;\n        }\n        if (positionOption) {\n            attributeOptions.position = positionOption;\n        }\n        return attributeOptions;\n    }\n}\nexports.Tooltip = Tooltip;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBUyxHQUFHLEtBQUssQ0FBQztRQUN2QixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQyxDQUFDLGdEQUFnRDtRQUN4RSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDZixDQUFDO0lBRUQsWUFBWTtRQUNWLElBQUksVUFBQyxDQUFDLFVBQVUsRUFBRTtZQUNoQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztZQUN0QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ2xCO0lBQ0gsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUN2QixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDZixDQUFDO0lBRUQsb0JBQW9CO1FBQ2xCLE1BQU0sZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO1FBQzVCLE1BQU0saUJBQWlCLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDL0QsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDN0QsSUFBSSxpQkFBaUIsRUFBRTtZQUNwQixnQkFBd0IsQ0FBQyxJQUFJLEdBQUcsaUJBQWlCLENBQUM7U0FDcEQ7UUFDRCxJQUFJLGNBQWMsRUFBRTtZQUNqQixnQkFBd0IsQ0FBQyxRQUFRLEdBQUcsY0FBYyxDQUFDO1NBQ3JEO1FBQ0QsT0FBTyxnQkFBZ0IsQ0FBQztJQUMxQixDQUFDO0NBQ0Y7QUF0UUQsMEJBc1FDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTS8uL3NyYy90b29sdGlwLnRzP2NjOTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5pbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuaW1wb3J0IHsgQm91bmRpbmcgfSBmcm9tIFwiLi9ib3VuZGluZ1wiO1xuXG4gIGNvbnN0IF9kZWZhdWx0cyA9IHtcbiAgICBleGl0RGVsYXk6IDIwMCxcbiAgICBlbnRlckRlbGF5OiAwLFxuICAgIC8vaHRtbDogbnVsbCxcbiAgICB0ZXh0OiAnJyxcbiAgICAvL3Vuc2FmZUhUTUw6IG51bGwsXG4gICAgbWFyZ2luOiA1LFxuICAgIGluRHVyYXRpb246IDI1MCxcbiAgICBvdXREdXJhdGlvbjogMjAwLFxuICAgIHBvc2l0aW9uOiAnYm90dG9tJyxcbiAgICB0cmFuc2l0aW9uTW92ZW1lbnQ6IDEwXG4gIH07XG5cbiAgZXhwb3J0IGNsYXNzIFRvb2x0aXAgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGlzT3BlbjogYm9vbGVhbjtcbiAgICBpc0hvdmVyZWQ6IGJvb2xlYW47XG4gICAgaXNGb2N1c2VkOiBib29sZWFuO1xuICAgIHRvb2x0aXBFbDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfaGFuZGxlTW91c2VFbnRlckJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlTW91c2VMZWF2ZUJvdW5kOiBhbnk7XG4gICAgcHJpdmF0ZSBfaGFuZGxlRm9jdXNCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2hhbmRsZUJsdXJCb3VuZDogYW55O1xuICAgIHByaXZhdGUgX2V4aXREZWxheVRpbWVvdXQ6IHN0cmluZyB8IG51bWJlciB8IE5vZGVKUy5UaW1lb3V0O1xuICAgIHByaXZhdGUgX2VudGVyRGVsYXlUaW1lb3V0OiBzdHJpbmcgfCBudW1iZXIgfCBOb2RlSlMuVGltZW91dDtcbiAgICB4TW92ZW1lbnQ6IG51bWJlcjtcbiAgICB5TW92ZW1lbnQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgICBzdXBlcihUb29sdGlwLCBlbCwgb3B0aW9ucyk7XG4gICAgICAodGhpcy5lbCBhcyBhbnkpLk1fVG9vbHRpcCA9IHRoaXM7XG4gICAgICB0aGlzLm9wdGlvbnMgPSB7Li4uVG9vbHRpcC5kZWZhdWx0cywgLi4ub3B0aW9uc307XG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0hvdmVyZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgICB0aGlzLl9hcHBlbmRUb29sdGlwRWwoKTtcbiAgICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4gX2RlZmF1bHRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICAgIGNvbnN0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgICByZXR1cm4gZG9tRWxlbS5NX1Rvb2x0aXA7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMudG9vbHRpcEVsLnJlbW92ZSgpO1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICAgKHRoaXMuZWwgYXMgYW55KS5NX1Rvb2x0aXAgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX2FwcGVuZFRvb2x0aXBFbCgpIHtcbiAgICAgIHRoaXMudG9vbHRpcEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLnRvb2x0aXBFbC5jbGFzc0xpc3QuYWRkKCdtYXRlcmlhbC10b29sdGlwJyk7XG5cbiAgICAgIGNvbnN0IHRvb2x0aXBDb250ZW50RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRvb2x0aXBDb250ZW50RWwuY2xhc3NMaXN0LmFkZCgndG9vbHRpcC1jb250ZW50Jyk7XG4gICAgICB0aGlzLl9zZXRUb29sdGlwQ29udGVudCh0b29sdGlwQ29udGVudEVsKTtcbiAgICAgIHRoaXMudG9vbHRpcEVsLmFwcGVuZENoaWxkKHRvb2x0aXBDb250ZW50RWwpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnRvb2x0aXBFbCk7XG4gICAgfVxuXG4gICAgX3NldFRvb2x0aXBDb250ZW50KHRvb2x0aXBDb250ZW50RWw6IEhUTUxFbGVtZW50KSB7XG4gICAgICB0b29sdGlwQ29udGVudEVsLmlubmVyVGV4dCA9IHRoaXMub3B0aW9ucy50ZXh0O1xuICAgICAgLypcbiAgICAgIGlmICghIXRoaXMub3B0aW9ucy5odG1sKSB7XG4gICAgICAgIC8vIFdhcm4gd2hlbiB1c2luZyBodG1sXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnVGhlIGh0bWwgb3B0aW9uIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplL3B1bGwvNDknXG4gICAgICAgICk7XG4gICAgICAgICQodG9vbHRpcENvbnRlbnRFbCkuYXBwZW5kKHRoaXMub3B0aW9ucy5odG1sKTtcbiAgICAgIH1cbiAgICAgIGlmICghIXRoaXMub3B0aW9ucy51bnNhZmVIVE1MKSB7XG4gICAgICAgICQodG9vbHRpcENvbnRlbnRFbCkuYXBwZW5kKHRoaXMub3B0aW9ucy51bnNhZmVIVE1MKTtcbiAgICAgIH1cbiAgICAgICovXG4gICAgfVxuXG4gICAgX3VwZGF0ZVRvb2x0aXBDb250ZW50KCkge1xuICAgICAgdGhpcy5fc2V0VG9vbHRpcENvbnRlbnQodGhpcy50b29sdGlwRWwucXVlcnlTZWxlY3RvcignLnRvb2x0aXAtY29udGVudCcpKTtcbiAgICB9XG5cbiAgICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgICAgdGhpcy5faGFuZGxlTW91c2VFbnRlckJvdW5kID0gdGhpcy5faGFuZGxlTW91c2VFbnRlci5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlTW91c2VMZWF2ZUJvdW5kID0gdGhpcy5faGFuZGxlTW91c2VMZWF2ZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faGFuZGxlRm9jdXNCb3VuZCA9IHRoaXMuX2hhbmRsZUZvY3VzLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9oYW5kbGVCbHVyQm91bmQgPSB0aGlzLl9oYW5kbGVCbHVyLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVNb3VzZUVudGVyQm91bmQpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZUJvdW5kKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVGb2N1c0JvdW5kLCB0cnVlKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUJsdXJCb3VuZCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVNb3VzZUVudGVyQm91bmQpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZUJvdW5kKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVGb2N1c0JvdW5kLCB0cnVlKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUJsdXJCb3VuZCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgb3Blbihpc01hbnVhbCkge1xuICAgICAgaWYgKHRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgICBpc01hbnVhbCA9IGlzTWFudWFsID09PSB1bmRlZmluZWQgPyB0cnVlIDogdW5kZWZpbmVkOyAvLyBEZWZhdWx0IHZhbHVlIHRydWVcbiAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgIC8vIFVwZGF0ZSB0b29sdGlwIGNvbnRlbnQgd2l0aCBIVE1MIGF0dHJpYnV0ZSBvcHRpb25zXG4gICAgICB0aGlzLm9wdGlvbnMgPSB7Li4udGhpcy5vcHRpb25zLCAuLi50aGlzLl9nZXRBdHRyaWJ1dGVPcHRpb25zKCl9O1xuICAgICAgdGhpcy5fdXBkYXRlVG9vbHRpcENvbnRlbnQoKTtcbiAgICAgIHRoaXMuX3NldEVudGVyRGVsYXlUaW1lb3V0KGlzTWFudWFsKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgIGlmICghdGhpcy5pc09wZW4pIHJldHVybjtcbiAgICAgIHRoaXMuaXNIb3ZlcmVkID0gZmFsc2U7XG4gICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMuX3NldEV4aXREZWxheVRpbWVvdXQoKTtcbiAgICB9XG5cbiAgICBfc2V0RXhpdERlbGF5VGltZW91dCgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9leGl0RGVsYXlUaW1lb3V0KTtcbiAgICAgIHRoaXMuX2V4aXREZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNIb3ZlcmVkIHx8IHRoaXMuaXNGb2N1c2VkKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2FuaW1hdGVPdXQoKTtcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5leGl0RGVsYXkpO1xuICAgIH1cblxuICAgIF9zZXRFbnRlckRlbGF5VGltZW91dChpc01hbnVhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2VudGVyRGVsYXlUaW1lb3V0KTtcbiAgICAgIHRoaXMuX2VudGVyRGVsYXlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5pc0hvdmVyZWQgJiYgIXRoaXMuaXNGb2N1c2VkICYmICFpc01hbnVhbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9hbmltYXRlSW4oKTtcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5lbnRlckRlbGF5KTtcbiAgICB9XG5cbiAgICBfcG9zaXRpb25Ub29sdGlwKCkge1xuICAgICAgY29uc3QgdG9vbHRpcDogSFRNTEVsZW1lbnQgPSB0aGlzLnRvb2x0aXBFbDtcbiAgICAgIGNvbnN0IG9yaWdpbiA9ICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KSxcbiAgICAgICAgb3JpZ2luSGVpZ2h0ID0gb3JpZ2luLm9mZnNldEhlaWdodCxcbiAgICAgICAgb3JpZ2luV2lkdGggPSBvcmlnaW4ub2Zmc2V0V2lkdGgsXG4gICAgICAgIHRvb2x0aXBIZWlnaHQgPSB0b29sdGlwLm9mZnNldEhlaWdodCxcbiAgICAgICAgdG9vbHRpcFdpZHRoID0gdG9vbHRpcC5vZmZzZXRXaWR0aCxcbiAgICAgICAgbWFyZ2luID0gdGhpcy5vcHRpb25zLm1hcmdpbjtcblxuICAgICAgKHRoaXMueE1vdmVtZW50ID0gMCksICh0aGlzLnlNb3ZlbWVudCA9IDApO1xuXG4gICAgICBsZXQgdGFyZ2V0VG9wID0gb3JpZ2luLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKTtcbiAgICAgIGxldCB0YXJnZXRMZWZ0ID0gb3JpZ2luLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyBNLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgdGFyZ2V0VG9wICs9IC10b29sdGlwSGVpZ2h0IC0gbWFyZ2luO1xuICAgICAgICB0YXJnZXRMZWZ0ICs9IG9yaWdpbldpZHRoIC8gMiAtIHRvb2x0aXBXaWR0aCAvIDI7XG4gICAgICAgIHRoaXMueU1vdmVtZW50ID0gLXRoaXMub3B0aW9ucy50cmFuc2l0aW9uTW92ZW1lbnQ7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICB0YXJnZXRUb3AgKz0gb3JpZ2luSGVpZ2h0IC8gMiAtIHRvb2x0aXBIZWlnaHQgLyAyO1xuICAgICAgICB0YXJnZXRMZWZ0ICs9IG9yaWdpbldpZHRoICsgbWFyZ2luO1xuICAgICAgICB0aGlzLnhNb3ZlbWVudCA9IHRoaXMub3B0aW9ucy50cmFuc2l0aW9uTW92ZW1lbnQ7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIHRhcmdldFRvcCArPSBvcmlnaW5IZWlnaHQgLyAyIC0gdG9vbHRpcEhlaWdodCAvIDI7XG4gICAgICAgIHRhcmdldExlZnQgKz0gLXRvb2x0aXBXaWR0aCAtIG1hcmdpbjtcbiAgICAgICAgdGhpcy54TW92ZW1lbnQgPSAtdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFRvcCArPSBvcmlnaW5IZWlnaHQgKyBtYXJnaW47XG4gICAgICAgIHRhcmdldExlZnQgKz0gb3JpZ2luV2lkdGggLyAyIC0gdG9vbHRpcFdpZHRoIC8gMjtcbiAgICAgICAgdGhpcy55TW92ZW1lbnQgPSB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbk1vdmVtZW50O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXdDb29yZGluYXRlcyA9IHRoaXMuX3JlcG9zaXRpb25XaXRoaW5TY3JlZW4oXG4gICAgICAgIHRhcmdldExlZnQsXG4gICAgICAgIHRhcmdldFRvcCxcbiAgICAgICAgdG9vbHRpcFdpZHRoLFxuICAgICAgICB0b29sdGlwSGVpZ2h0XG4gICAgICApO1xuICAgICAgICBcbiAgICAgIHRvb2x0aXAuc3R5bGUudG9wID0gbmV3Q29vcmRpbmF0ZXMueSsncHgnO1xuICAgICAgdG9vbHRpcC5zdHlsZS5sZWZ0ID0gbmV3Q29vcmRpbmF0ZXMueCsncHgnO1xuICAgIH1cblxuICAgIF9yZXBvc2l0aW9uV2l0aGluU2NyZWVuKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIGNvbnN0IHNjcm9sbExlZnQgPSBNLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpO1xuICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgICAgbGV0IG5ld1ggPSB4IC0gc2Nyb2xsTGVmdDtcbiAgICAgIGxldCBuZXdZID0geSAtIHNjcm9sbFRvcDtcblxuICAgICAgY29uc3QgYm91bmRpbmc6IEJvdW5kaW5nID0ge1xuICAgICAgICBsZWZ0OiBuZXdYLFxuICAgICAgICB0b3A6IG5ld1ksXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgIH07XG4gICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLm9wdGlvbnMubWFyZ2luICsgdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcbiAgICAgIGNvbnN0IGVkZ2VzID0gTS5jaGVja1dpdGhpbkNvbnRhaW5lcihkb2N1bWVudC5ib2R5LCBib3VuZGluZywgb2Zmc2V0KTtcblxuICAgICAgaWYgKGVkZ2VzLmxlZnQpIHtcbiAgICAgICAgbmV3WCA9IG9mZnNldDtcbiAgICAgIH0gZWxzZSBpZiAoZWRnZXMucmlnaHQpIHtcbiAgICAgICAgbmV3WCAtPSBuZXdYICsgd2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIH1cbiAgICAgIGlmIChlZGdlcy50b3ApIHtcbiAgICAgICAgbmV3WSA9IG9mZnNldDtcbiAgICAgIH0gZWxzZSBpZiAoZWRnZXMuYm90dG9tKSB7XG4gICAgICAgIG5ld1kgLT0gbmV3WSArIGhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IG5ld1ggKyBzY3JvbGxMZWZ0LFxuICAgICAgICB5OiBuZXdZICsgc2Nyb2xsVG9wXG4gICAgICB9O1xuICAgIH1cblxuICAgIF9hbmltYXRlSW4oKSB7XG4gICAgICB0aGlzLl9wb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgIHRoaXMudG9vbHRpcEVsLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICBhbmltLnJlbW92ZSh0aGlzLnRvb2x0aXBFbCk7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy50b29sdGlwRWwsXG4gICAgICAgIG9wYWNpdHk6IHRoaXMub3B0aW9ucy5vcGFjaXR5IHx8IDEsXG4gICAgICAgIHRyYW5zbGF0ZVg6IHRoaXMueE1vdmVtZW50LFxuICAgICAgICB0cmFuc2xhdGVZOiB0aGlzLnlNb3ZlbWVudCxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfYW5pbWF0ZU91dCgpIHtcbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMudG9vbHRpcEVsKTtcbiAgICAgIGFuaW0oe1xuICAgICAgICB0YXJnZXRzOiB0aGlzLnRvb2x0aXBFbCxcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgdHJhbnNsYXRlWDogMCxcbiAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgICB0aGlzLmlzSG92ZXJlZCA9IHRydWU7XG4gICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlOyAvLyBBbGxvd3MgY2xvc2Ugb2YgdG9vbHRpcCB3aGVuIG9wZW5lZCBieSBmb2N1cy5cbiAgICAgIHRoaXMub3BlbihmYWxzZSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgICB0aGlzLmlzSG92ZXJlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTsgLy8gQWxsb3dzIGNsb3NlIG9mIHRvb2x0aXAgd2hlbiBvcGVuZWQgYnkgZm9jdXMuXG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUZvY3VzKCkge1xuICAgICAgaWYgKE0udGFiUHJlc3NlZCkge1xuICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMub3BlbihmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZUJsdXIoKSB7XG4gICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIF9nZXRBdHRyaWJ1dGVPcHRpb25zKCkge1xuICAgICAgY29uc3QgYXR0cmlidXRlT3B0aW9ucyA9IHt9O1xuICAgICAgY29uc3QgdG9vbHRpcFRleHRPcHRpb24gPSB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwJyk7XG4gICAgICBjb25zdCBwb3NpdGlvbk9wdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBvc2l0aW9uJyk7XG4gICAgICBpZiAodG9vbHRpcFRleHRPcHRpb24pIHtcbiAgICAgICAgKGF0dHJpYnV0ZU9wdGlvbnMgYXMgYW55KS50ZXh0ID0gdG9vbHRpcFRleHRPcHRpb247XG4gICAgICB9XG4gICAgICBpZiAocG9zaXRpb25PcHRpb24pIHtcbiAgICAgICAgKGF0dHJpYnV0ZU9wdGlvbnMgYXMgYW55KS5wb3NpdGlvbiA9IHBvc2l0aW9uT3B0aW9uO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF0dHJpYnV0ZU9wdGlvbnM7XG4gICAgfVxuICB9XG5cblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/tooltip.ts\n");

/***/ }),

/***/ "./src/waves.ts":
/*!**********************!*\
  !*** ./src/waves.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Waves = void 0;\nclass Waves {\n    static _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    // https://phoenix-dx.com/css-techniques-for-material-ripple-effect/\n    static renderWaveEffect(targetElement, position = null, color = null) {\n        const isCentered = position === null;\n        const duration = 500;\n        let animationFrame, animationStart;\n        const animationStep = function (timestamp) {\n            if (!animationStart) {\n                animationStart = timestamp;\n            }\n            const frame = timestamp - animationStart;\n            if (frame < duration) {\n                const easing = (frame / duration) * (2 - (frame / duration));\n                const circle = isCentered ? 'circle at 50% 50%' : `circle at ${position.x}px ${position.y}px`;\n                const waveColor = `rgba(${(color === null || color === void 0 ? void 0 : color.r) || 0}, ${(color === null || color === void 0 ? void 0 : color.g) || 0}, ${(color === null || color === void 0 ? void 0 : color.b) || 0}, ${0.3 * (1 - easing)})`;\n                const stop = 90 * easing + \"%\";\n                targetElement.style.backgroundImage = \"radial-gradient(\" + circle + \", \" + waveColor + \" \" + stop + \", transparent \" + stop + \")\";\n                animationFrame = window.requestAnimationFrame(animationStep);\n            }\n            else {\n                targetElement.style.backgroundImage = 'none';\n                window.cancelAnimationFrame(animationFrame);\n            }\n        };\n        animationFrame = window.requestAnimationFrame(animationStep);\n    }\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            document.body.addEventListener('click', e => {\n                const trigger = e.target;\n                const el = trigger.closest('.waves-effect');\n                if (el && el.contains(trigger)) {\n                    const isCircular = el.classList.contains('waves-circle');\n                    const x = e.pageX - Waves._offset(el).left;\n                    const y = e.pageY - Waves._offset(el).top;\n                    let color = null;\n                    if (el.classList.contains('waves-light'))\n                        color = { r: 255, g: 255, b: 255 };\n                    Waves.renderWaveEffect(el, isCircular ? null : { x, y }, color);\n                }\n            });\n        });\n    }\n}\nexports.Waves = Waves;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O2dCQUN6RCxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFO29CQUM5QixNQUFNLFVBQVUsR0FBRyxFQUFFLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztvQkFDekQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQztvQkFDM0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQztvQkFFMUMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDO29CQUNqQixJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQzt3QkFDdEMsS0FBSyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUMsR0FBRyxFQUFFLENBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQztvQkFFaEMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7aUJBQy9EO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUVMLENBQUM7Q0FDRjtBQTFERCxzQkEwREMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NLy4vc3JjL3dhdmVzLnRzPzIxYjYiXSwic291cmNlc0NvbnRlbnQiOlsidHlwZSBSR0JDb2xvciA9IHtcbiAgcjogbnVtYmVyLFxuICBnOiBudW1iZXIsXG4gIGI6IG51bWJlcixcbn1cblxudHlwZSBQb3NpdGlvbiA9IHtcbiAgeDogbnVtYmVyLFxuICB5OiBudW1iZXIsXG59XG5cbmV4cG9ydCBjbGFzcyBXYXZlcyB7XG4gXG4gIHByaXZhdGUgc3RhdGljIF9vZmZzZXQoZWwpIHtcbiAgICBjb25zdCBib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IGJveC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBkb2NFbGVtLmNsaWVudFRvcCxcbiAgICAgIGxlZnQ6IGJveC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XG4gICAgfTtcbiAgfVxuICBcbiAgLy8gaHR0cHM6Ly9waG9lbml4LWR4LmNvbS9jc3MtdGVjaG5pcXVlcy1mb3ItbWF0ZXJpYWwtcmlwcGxlLWVmZmVjdC9cblxuICBwdWJsaWMgc3RhdGljIHJlbmRlcldhdmVFZmZlY3QodGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQsIHBvc2l0aW9uOiBQb3NpdGlvbnxudWxsID0gbnVsbCwgY29sb3I6IFJHQkNvbG9yfG51bGwgPSBudWxsKTogdm9pZCB7XG4gICAgY29uc3QgaXNDZW50ZXJlZCA9IHBvc2l0aW9uID09PSBudWxsO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gNTAwO1xuICAgIGxldCBhbmltYXRpb25GcmFtZSwgYW5pbWF0aW9uU3RhcnQ7ICAgICAgICAgIFxuICAgIGNvbnN0IGFuaW1hdGlvblN0ZXAgPSBmdW5jdGlvbih0aW1lc3RhbXApIHtcbiAgICAgIGlmICghYW5pbWF0aW9uU3RhcnQpIHtcbiAgICAgICAgYW5pbWF0aW9uU3RhcnQgPSB0aW1lc3RhbXA7XG4gICAgICB9ICAgICAgICAgICAgIFxuICAgICAgY29uc3QgZnJhbWUgPSB0aW1lc3RhbXAgLSBhbmltYXRpb25TdGFydDtcbiAgICAgIGlmIChmcmFtZSA8IGR1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGVhc2luZyA9IChmcmFtZS9kdXJhdGlvbikgKiAoMiAtIChmcmFtZS9kdXJhdGlvbikpO1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBpc0NlbnRlcmVkID8gJ2NpcmNsZSBhdCA1MCUgNTAlJyA6IGBjaXJjbGUgYXQgJHtwb3NpdGlvbi54fXB4ICR7cG9zaXRpb24ueX1weGA7XG4gICAgICAgIGNvbnN0IHdhdmVDb2xvciA9IGByZ2JhKCR7Y29sb3I/LnIgfHwgMH0sICR7Y29sb3I/LmcgfHwgMH0sICR7Y29sb3I/LmIgfHwgMH0sICR7IDAuMyAqICgxLWVhc2luZykgfSlgO1xuICAgICAgICBjb25zdCBzdG9wID0gOTAgKiBlYXNpbmcgKyBcIiVcIjsgIFxuICAgICAgICB0YXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwicmFkaWFsLWdyYWRpZW50KFwiK2NpcmNsZStcIiwgXCIrd2F2ZUNvbG9yK1wiIFwiK3N0b3ArXCIsIHRyYW5zcGFyZW50IFwiK3N0b3ArXCIpXCI7ICAgICAgIFxuICAgICAgICBhbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uU3RlcCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAnbm9uZSc7XG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBhbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uU3RlcCk7ICAgIFxuICB9XG5cbiAgc3RhdGljIEluaXQoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICBjb25zdCB0cmlnZ2VyID0gPEhUTUxFbGVtZW50PmUudGFyZ2V0O1xuICAgICAgICBjb25zdCBlbCA9IDxIVE1MRWxlbWVudD50cmlnZ2VyLmNsb3Nlc3QoJy53YXZlcy1lZmZlY3QnKTtcbiAgICAgICAgaWYgKGVsICYmIGVsLmNvbnRhaW5zKHRyaWdnZXIpKSB7XG4gICAgICAgICAgY29uc3QgaXNDaXJjdWxhciA9IGVsLmNsYXNzTGlzdC5jb250YWlucygnd2F2ZXMtY2lyY2xlJyk7XG4gICAgICAgICAgY29uc3QgeCA9IGUucGFnZVggLSBXYXZlcy5fb2Zmc2V0KGVsKS5sZWZ0O1xuICAgICAgICAgIGNvbnN0IHkgPSBlLnBhZ2VZIC0gV2F2ZXMuX29mZnNldChlbCkudG9wO1xuXG4gICAgICAgICAgbGV0IGNvbG9yID0gbnVsbDtcbiAgICAgICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd3YXZlcy1saWdodCcpKVxuICAgICAgICAgICAgY29sb3IgPSB7cjoyNTUsIGc6MjU1LCBiOjI1NX07XG4gICAgICAgIFxuICAgICAgICAgIFdhdmVzLnJlbmRlcldhdmVFZmZlY3QoZWwsIGlzQ2lyY3VsYXIgPyBudWxsIDoge3gsIHl9LCBjb2xvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/waves.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/global.ts");
/******/ 	M = __webpack_exports__;
/******/ 	
/******/ })()
;