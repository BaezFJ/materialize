/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(this, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/animejs/lib/anime.es.js":
/*!**********************************************!*\
  !*** ./node_modules/animejs/lib/anime.es.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*\n * anime.js v3.2.1\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  nil: function (a) { return is.und(a) || a === null; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; },\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright Â© 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n    eases['easeOutIn' + name] = function (a, b) { return function (t) { return t < 0.5 ? (1 - easeIn(a, b)(1 - t * 2)) / 2 : \n      (easeIn(a, b)(t * 2 - 1) + 1) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width,\n    h: height,\n    vW: viewBox[2],\n    vH: viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * scaleX;\n    case 'y': return (p.y - svg.y) * scaleY;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\n\nvar engine = (function () {\n  var raf;\n\n  function play() {\n    if (!raf && (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) && activeInstances.length > 0) {\n      raf = requestAnimationFrame(step);\n    }\n  }\n  function step(t) {\n    // memo on algorithm issue:\n    // dangerous iteration over mutable `activeInstances`\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\n    var activeInstancesLength = activeInstances.length;\n    var i = 0;\n    while (i < activeInstancesLength) {\n      var activeInstance = activeInstances[i];\n      if (!activeInstance.paused) {\n        activeInstance.tick(t);\n        i++;\n      } else {\n        activeInstances.splice(i, 1);\n        activeInstancesLength--;\n      }\n    }\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\n  }\n\n  function handleVisibilityChange() {\n    if (!anime.suspendWhenDocumentHidden) { return; }\n\n    if (isDocumentHidden()) {\n      // suspend ticks\n      raf = cancelAnimationFrame(raf);\n    } else { // is back to active tab\n      // first adjust animations to consider the time that ticks were suspended\n      activeInstances.forEach(\n        function (instance) { return instance ._onDocumentVisibility(); }\n      );\n      engine();\n    }\n  }\n  if (typeof document !== 'undefined') {\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n  }\n\n  return play;\n})();\n\nfunction isDocumentHidden() {\n  return !!document && document.hidden;\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber, tween.isPathTargetInsideSVG);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\n  instance._onDocumentVisibility = resetTime;\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    engine();\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.remove = function(targets) {\n    var targetsArray = parseTargets(targets);\n    removeTargetsFromInstance(targetsArray, instance);\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargetsFromInstance(targetsArray, instance) {\n  var animations = instance.animations;\n  var children = instance.children;\n  removeTargetsFromAnimations(targetsArray, animations);\n  for (var c = children.length; c--;) {\n    var child = children[c];\n    var childAnimations = child.animations;\n    removeTargetsFromAnimations(targetsArray, childAnimations);\n    if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n  }\n  if (!animations.length && !children.length) { instance.pause(); }\n}\n\nfunction removeTargetsFromActiveInstances(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    removeTargetsFromInstance(targetsArray, instance);\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.1';\nanime.speed = 1;\n// TODO:#review: naming, documentation\nanime.suspendWhenDocumentHidden = true;\nanime.running = activeInstances;\nanime.remove = removeTargetsFromActiveInstances;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (anime);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYW5pbWVqcy9saWIvYW5pbWUuZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsMEJBQTBCO0FBQ2hELHNCQUFzQixxRUFBcUU7QUFDM0Ysc0JBQXNCLHNEQUFzRDtBQUM1RSxzQkFBc0IsaUNBQWlDO0FBQ3ZELHNCQUFzQix1Q0FBdUM7QUFDN0Qsc0JBQXNCLGlDQUFpQztBQUN2RCxzQkFBc0IsK0JBQStCO0FBQ3JELHNCQUFzQixpQ0FBaUM7QUFDdkQsc0JBQXNCLGtDQUFrQztBQUN4RCxzQkFBc0IsaUNBQWlDO0FBQ3ZELHNCQUFzQixvQkFBb0IsRUFBRSxlQUFlLEVBQUUsZUFBZTtBQUM1RSxzQkFBc0Isd0JBQXdCO0FBQzlDLHNCQUFzQix3QkFBd0I7QUFDOUMsc0JBQXNCLCtDQUErQztBQUNyRSxzQkFBc0IsdUlBQXVJO0FBQzdKOztBQUVBOztBQUVBO0FBQ0E7QUFDQSx3REFBd0QsdUJBQXVCO0FBQy9FOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLFFBQVE7QUFD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QUk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixzQkFBc0I7QUFDdEIsb0JBQW9CO0FBQ3BCO0FBQ0EsMEJBQTBCLFdBQVc7QUFDckM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5Qiw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscUNBQXFDLDJDQUEyQztBQUNwRyxxQ0FBcUMscUNBQXFDLHVFQUF1RTtBQUNqSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QixnQ0FBZ0M7QUFDaEMsb0JBQW9CLHFCQUFxQixPQUFPO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDOztBQUVyQyxpRUFBZSxLQUFLLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9ub2RlX21vZHVsZXMvYW5pbWVqcy9saWIvYW5pbWUuZXMuanM/MTIwOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogYW5pbWUuanMgdjMuMi4xXG4gKiAoYykgMjAyMCBKdWxpYW4gR2FybmllclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBhbmltZWpzLmNvbVxuICovXG5cbi8vIERlZmF1bHRzXG5cbnZhciBkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncyA9IHtcbiAgdXBkYXRlOiBudWxsLFxuICBiZWdpbjogbnVsbCxcbiAgbG9vcEJlZ2luOiBudWxsLFxuICBjaGFuZ2VCZWdpbjogbnVsbCxcbiAgY2hhbmdlOiBudWxsLFxuICBjaGFuZ2VDb21wbGV0ZTogbnVsbCxcbiAgbG9vcENvbXBsZXRlOiBudWxsLFxuICBjb21wbGV0ZTogbnVsbCxcbiAgbG9vcDogMSxcbiAgZGlyZWN0aW9uOiAnbm9ybWFsJyxcbiAgYXV0b3BsYXk6IHRydWUsXG4gIHRpbWVsaW5lT2Zmc2V0OiAwXG59O1xuXG52YXIgZGVmYXVsdFR3ZWVuU2V0dGluZ3MgPSB7XG4gIGR1cmF0aW9uOiAxMDAwLFxuICBkZWxheTogMCxcbiAgZW5kRGVsYXk6IDAsXG4gIGVhc2luZzogJ2Vhc2VPdXRFbGFzdGljKDEsIC41KScsXG4gIHJvdW5kOiAwXG59O1xuXG52YXIgdmFsaWRUcmFuc2Zvcm1zID0gWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAndHJhbnNsYXRlWicsICdyb3RhdGUnLCAncm90YXRlWCcsICdyb3RhdGVZJywgJ3JvdGF0ZVonLCAnc2NhbGUnLCAnc2NhbGVYJywgJ3NjYWxlWScsICdzY2FsZVonLCAnc2tldycsICdza2V3WCcsICdza2V3WScsICdwZXJzcGVjdGl2ZScsICdtYXRyaXgnLCAnbWF0cml4M2QnXTtcblxuLy8gQ2FjaGluZ1xuXG52YXIgY2FjaGUgPSB7XG4gIENTUzoge30sXG4gIHNwcmluZ3M6IHt9XG59O1xuXG4vLyBVdGlsc1xuXG5mdW5jdGlvbiBtaW5NYXgodmFsLCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsLCBtaW4pLCBtYXgpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdDb250YWlucyhzdHIsIHRleHQpIHtcbiAgcmV0dXJuIHN0ci5pbmRleE9mKHRleHQpID4gLTE7XG59XG5cbmZ1bmN0aW9uIGFwcGx5QXJndW1lbnRzKGZ1bmMsIGFyZ3MpIHtcbiAgcmV0dXJuIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7XG59XG5cbnZhciBpcyA9IHtcbiAgYXJyOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gQXJyYXkuaXNBcnJheShhKTsgfSxcbiAgb2JqOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gc3RyaW5nQ29udGFpbnMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpLCAnT2JqZWN0Jyk7IH0sXG4gIHB0aDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGlzLm9iaihhKSAmJiBhLmhhc093blByb3BlcnR5KCd0b3RhbExlbmd0aCcpOyB9LFxuICBzdmc6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhIGluc3RhbmNlb2YgU1ZHRWxlbWVudDsgfSxcbiAgaW5wOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQ7IH0sXG4gIGRvbTogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEubm9kZVR5cGUgfHwgaXMuc3ZnKGEpOyB9LFxuICBzdHI6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3N0cmluZyc7IH0sXG4gIGZuYzogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAnZnVuY3Rpb24nOyB9LFxuICB1bmQ6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCc7IH0sXG4gIG5pbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGlzLnVuZChhKSB8fCBhID09PSBudWxsOyB9LFxuICBoZXg6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdChhKTsgfSxcbiAgcmdiOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gL15yZ2IvLnRlc3QoYSk7IH0sXG4gIGhzbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC9eaHNsLy50ZXN0KGEpOyB9LFxuICBjb2w6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAoaXMuaGV4KGEpIHx8IGlzLnJnYihhKSB8fCBpcy5oc2woYSkpOyB9LFxuICBrZXk6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAhZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoYSkgJiYgIWRlZmF1bHRUd2VlblNldHRpbmdzLmhhc093blByb3BlcnR5KGEpICYmIGEgIT09ICd0YXJnZXRzJyAmJiBhICE9PSAna2V5ZnJhbWVzJzsgfSxcbn07XG5cbi8vIEVhc2luZ3NcblxuZnVuY3Rpb24gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKHN0cmluZykge1xuICB2YXIgbWF0Y2ggPSAvXFwoKFteKV0rKVxcKS8uZXhlYyhzdHJpbmcpO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gcGFyc2VGbG9hdChwKTsgfSkgOiBbXTtcbn1cblxuLy8gU3ByaW5nIHNvbHZlciBpbnNwaXJlZCBieSBXZWJraXQgQ29weXJpZ2h0IMKpIDIwMTYgQXBwbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLiBodHRwczovL3dlYmtpdC5vcmcvZGVtb3Mvc3ByaW5nL3NwcmluZy5qc1xuXG5mdW5jdGlvbiBzcHJpbmcoc3RyaW5nLCBkdXJhdGlvbikge1xuXG4gIHZhciBwYXJhbXMgPSBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoc3RyaW5nKTtcbiAgdmFyIG1hc3MgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1swXSkgPyAxIDogcGFyYW1zWzBdLCAuMSwgMTAwKTtcbiAgdmFyIHN0aWZmbmVzcyA9IG1pbk1heChpcy51bmQocGFyYW1zWzFdKSA/IDEwMCA6IHBhcmFtc1sxXSwgLjEsIDEwMCk7XG4gIHZhciBkYW1waW5nID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMl0pID8gMTAgOiBwYXJhbXNbMl0sIC4xLCAxMDApO1xuICB2YXIgdmVsb2NpdHkgPSAgbWluTWF4KGlzLnVuZChwYXJhbXNbM10pID8gMCA6IHBhcmFtc1szXSwgLjEsIDEwMCk7XG4gIHZhciB3MCA9IE1hdGguc3FydChzdGlmZm5lc3MgLyBtYXNzKTtcbiAgdmFyIHpldGEgPSBkYW1waW5nIC8gKDIgKiBNYXRoLnNxcnQoc3RpZmZuZXNzICogbWFzcykpO1xuICB2YXIgd2QgPSB6ZXRhIDwgMSA/IHcwICogTWF0aC5zcXJ0KDEgLSB6ZXRhICogemV0YSkgOiAwO1xuICB2YXIgYSA9IDE7XG4gIHZhciBiID0gemV0YSA8IDEgPyAoemV0YSAqIHcwICsgLXZlbG9jaXR5KSAvIHdkIDogLXZlbG9jaXR5ICsgdzA7XG5cbiAgZnVuY3Rpb24gc29sdmVyKHQpIHtcbiAgICB2YXIgcHJvZ3Jlc3MgPSBkdXJhdGlvbiA/IChkdXJhdGlvbiAqIHQpIC8gMTAwMCA6IHQ7XG4gICAgaWYgKHpldGEgPCAxKSB7XG4gICAgICBwcm9ncmVzcyA9IE1hdGguZXhwKC1wcm9ncmVzcyAqIHpldGEgKiB3MCkgKiAoYSAqIE1hdGguY29zKHdkICogcHJvZ3Jlc3MpICsgYiAqIE1hdGguc2luKHdkICogcHJvZ3Jlc3MpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvZ3Jlc3MgPSAoYSArIGIgKiBwcm9ncmVzcykgKiBNYXRoLmV4cCgtcHJvZ3Jlc3MgKiB3MCk7XG4gICAgfVxuICAgIGlmICh0ID09PSAwIHx8IHQgPT09IDEpIHsgcmV0dXJuIHQ7IH1cbiAgICByZXR1cm4gMSAtIHByb2dyZXNzO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RHVyYXRpb24oKSB7XG4gICAgdmFyIGNhY2hlZCA9IGNhY2hlLnNwcmluZ3Nbc3RyaW5nXTtcbiAgICBpZiAoY2FjaGVkKSB7IHJldHVybiBjYWNoZWQ7IH1cbiAgICB2YXIgZnJhbWUgPSAxLzY7XG4gICAgdmFyIGVsYXBzZWQgPSAwO1xuICAgIHZhciByZXN0ID0gMDtcbiAgICB3aGlsZSh0cnVlKSB7XG4gICAgICBlbGFwc2VkICs9IGZyYW1lO1xuICAgICAgaWYgKHNvbHZlcihlbGFwc2VkKSA9PT0gMSkge1xuICAgICAgICByZXN0Kys7XG4gICAgICAgIGlmIChyZXN0ID49IDE2KSB7IGJyZWFrOyB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN0ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGR1cmF0aW9uID0gZWxhcHNlZCAqIGZyYW1lICogMTAwMDtcbiAgICBjYWNoZS5zcHJpbmdzW3N0cmluZ10gPSBkdXJhdGlvbjtcbiAgICByZXR1cm4gZHVyYXRpb247XG4gIH1cblxuICByZXR1cm4gZHVyYXRpb24gPyBzb2x2ZXIgOiBnZXREdXJhdGlvbjtcblxufVxuXG4vLyBCYXNpYyBzdGVwcyBlYXNpbmcgaW1wbGVtZW50YXRpb24gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZnIvZG9jcy9XZWIvQ1NTL3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXG5cbmZ1bmN0aW9uIHN0ZXBzKHN0ZXBzKSB7XG4gIGlmICggc3RlcHMgPT09IHZvaWQgMCApIHN0ZXBzID0gMTA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiBNYXRoLmNlaWwoKG1pbk1heCh0LCAwLjAwMDAwMSwgMSkpICogc3RlcHMpICogKDEgLyBzdGVwcyk7IH07XG59XG5cbi8vIEJlemllckVhc2luZyBodHRwczovL2dpdGh1Yi5jb20vZ3JlL2Jlemllci1lYXNpbmdcblxudmFyIGJlemllciA9IChmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIGtTcGxpbmVUYWJsZVNpemUgPSAxMTtcbiAgdmFyIGtTYW1wbGVTdGVwU2l6ZSA9IDEuMCAvIChrU3BsaW5lVGFibGVTaXplIC0gMS4wKTtcblxuICBmdW5jdGlvbiBBKGFBMSwgYUEyKSB7IHJldHVybiAxLjAgLSAzLjAgKiBhQTIgKyAzLjAgKiBhQTEgfVxuICBmdW5jdGlvbiBCKGFBMSwgYUEyKSB7IHJldHVybiAzLjAgKiBhQTIgLSA2LjAgKiBhQTEgfVxuICBmdW5jdGlvbiBDKGFBMSkgICAgICB7IHJldHVybiAzLjAgKiBhQTEgfVxuXG4gIGZ1bmN0aW9uIGNhbGNCZXppZXIoYVQsIGFBMSwgYUEyKSB7IHJldHVybiAoKEEoYUExLCBhQTIpICogYVQgKyBCKGFBMSwgYUEyKSkgKiBhVCArIEMoYUExKSkgKiBhVCB9XG4gIGZ1bmN0aW9uIGdldFNsb3BlKGFULCBhQTEsIGFBMikgeyByZXR1cm4gMy4wICogQShhQTEsIGFBMikgKiBhVCAqIGFUICsgMi4wICogQihhQTEsIGFBMikgKiBhVCArIEMoYUExKSB9XG5cbiAgZnVuY3Rpb24gYmluYXJ5U3ViZGl2aWRlKGFYLCBhQSwgYUIsIG1YMSwgbVgyKSB7XG4gICAgdmFyIGN1cnJlbnRYLCBjdXJyZW50VCwgaSA9IDA7XG4gICAgZG8ge1xuICAgICAgY3VycmVudFQgPSBhQSArIChhQiAtIGFBKSAvIDIuMDtcbiAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihjdXJyZW50VCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICBpZiAoY3VycmVudFggPiAwLjApIHsgYUIgPSBjdXJyZW50VDsgfSBlbHNlIHsgYUEgPSBjdXJyZW50VDsgfVxuICAgIH0gd2hpbGUgKE1hdGguYWJzKGN1cnJlbnRYKSA+IDAuMDAwMDAwMSAmJiArK2kgPCAxMCk7XG4gICAgcmV0dXJuIGN1cnJlbnRUO1xuICB9XG5cbiAgZnVuY3Rpb24gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGFHdWVzc1QsIG1YMSwgbVgyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgIHZhciBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwLjApIHsgcmV0dXJuIGFHdWVzc1Q7IH1cbiAgICAgIHZhciBjdXJyZW50WCA9IGNhbGNCZXppZXIoYUd1ZXNzVCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICBhR3Vlc3NUIC09IGN1cnJlbnRYIC8gY3VycmVudFNsb3BlO1xuICAgIH1cbiAgICByZXR1cm4gYUd1ZXNzVDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJlemllcihtWDEsIG1ZMSwgbVgyLCBtWTIpIHtcblxuICAgIGlmICghKDAgPD0gbVgxICYmIG1YMSA8PSAxICYmIDAgPD0gbVgyICYmIG1YMiA8PSAxKSkgeyByZXR1cm47IH1cbiAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheShrU3BsaW5lVGFibGVTaXplKTtcblxuICAgIGlmIChtWDEgIT09IG1ZMSB8fCBtWDIgIT09IG1ZMikge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrU3BsaW5lVGFibGVTaXplOyArK2kpIHtcbiAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gY2FsY0JlemllcihpICoga1NhbXBsZVN0ZXBTaXplLCBtWDEsIG1YMik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VEZvclgoYVgpIHtcblxuICAgICAgdmFyIGludGVydmFsU3RhcnQgPSAwO1xuICAgICAgdmFyIGN1cnJlbnRTYW1wbGUgPSAxO1xuICAgICAgdmFyIGxhc3RTYW1wbGUgPSBrU3BsaW5lVGFibGVTaXplIC0gMTtcblxuICAgICAgZm9yICg7IGN1cnJlbnRTYW1wbGUgIT09IGxhc3RTYW1wbGUgJiYgc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdIDw9IGFYOyArK2N1cnJlbnRTYW1wbGUpIHtcbiAgICAgICAgaW50ZXJ2YWxTdGFydCArPSBrU2FtcGxlU3RlcFNpemU7XG4gICAgICB9XG5cbiAgICAgIC0tY3VycmVudFNhbXBsZTtcblxuICAgICAgdmFyIGRpc3QgPSAoYVggLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pIC8gKHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlICsgMV0gLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pO1xuICAgICAgdmFyIGd1ZXNzRm9yVCA9IGludGVydmFsU3RhcnQgKyBkaXN0ICoga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgdmFyIGluaXRpYWxTbG9wZSA9IGdldFNsb3BlKGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuXG4gICAgICBpZiAoaW5pdGlhbFNsb3BlID49IDAuMDAxKSB7XG4gICAgICAgIHJldHVybiBuZXd0b25SYXBoc29uSXRlcmF0ZShhWCwgZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgICB9IGVsc2UgaWYgKGluaXRpYWxTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgIHJldHVybiBndWVzc0ZvclQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYmluYXJ5U3ViZGl2aWRlKGFYLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbFN0YXJ0ICsga1NhbXBsZVN0ZXBTaXplLCBtWDEsIG1YMik7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHgpIHtcbiAgICAgIGlmIChtWDEgPT09IG1ZMSAmJiBtWDIgPT09IG1ZMikgeyByZXR1cm4geDsgfVxuICAgICAgaWYgKHggPT09IDAgfHwgeCA9PT0gMSkgeyByZXR1cm4geDsgfVxuICAgICAgcmV0dXJuIGNhbGNCZXppZXIoZ2V0VEZvclgoeCksIG1ZMSwgbVkyKTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBiZXppZXI7XG5cbn0pKCk7XG5cbnZhciBwZW5uZXIgPSAoZnVuY3Rpb24gKCkge1xuXG4gIC8vIEJhc2VkIG9uIGpRdWVyeSBVSSdzIGltcGxlbWVuYXRpb24gb2YgZWFzaW5nIGVxdWF0aW9ucyBmcm9tIFJvYmVydCBQZW5uZXIgKGh0dHA6Ly93d3cucm9iZXJ0cGVubmVyLmNvbS9lYXNpbmcpXG5cbiAgdmFyIGVhc2VzID0geyBsaW5lYXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9OyB9IH07XG5cbiAgdmFyIGZ1bmN0aW9uRWFzaW5ncyA9IHtcbiAgICBTaW5lOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMSAtIE1hdGguY29zKHQgKiBNYXRoLlBJIC8gMik7IH07IH0sXG4gICAgQ2lyYzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBNYXRoLnNxcnQoMSAtIHQgKiB0KTsgfTsgfSxcbiAgICBCYWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCAqIHQgKiAoMyAqIHQgLSAyKTsgfTsgfSxcbiAgICBCb3VuY2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG4gICAgICB2YXIgcG93MiwgYiA9IDQ7XG4gICAgICB3aGlsZSAodCA8ICgoIHBvdzIgPSBNYXRoLnBvdygyLCAtLWIpKSAtIDEpIC8gMTEpIHt9XG4gICAgICByZXR1cm4gMSAvIE1hdGgucG93KDQsIDMgLSBiKSAtIDcuNTYyNSAqIE1hdGgucG93KCggcG93MiAqIDMgLSAyICkgLyAyMiAtIHQsIDIpXG4gICAgfTsgfSxcbiAgICBFbGFzdGljOiBmdW5jdGlvbiAoYW1wbGl0dWRlLCBwZXJpb2QpIHtcbiAgICAgIGlmICggYW1wbGl0dWRlID09PSB2b2lkIDAgKSBhbXBsaXR1ZGUgPSAxO1xuICAgICAgaWYgKCBwZXJpb2QgPT09IHZvaWQgMCApIHBlcmlvZCA9IC41O1xuXG4gICAgICB2YXIgYSA9IG1pbk1heChhbXBsaXR1ZGUsIDEsIDEwKTtcbiAgICAgIHZhciBwID0gbWluTWF4KHBlcmlvZCwgLjEsIDIpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiAodCA9PT0gMCB8fCB0ID09PSAxKSA/IHQgOiBcbiAgICAgICAgICAtYSAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKiBNYXRoLnNpbigoKCh0IC0gMSkgLSAocCAvIChNYXRoLlBJICogMikgKiBNYXRoLmFzaW4oMSAvIGEpKSkgKiAoTWF0aC5QSSAqIDIpKSAvIHApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgYmFzZUVhc2luZ3MgPSBbJ1F1YWQnLCAnQ3ViaWMnLCAnUXVhcnQnLCAnUXVpbnQnLCAnRXhwbyddO1xuXG4gIGJhc2VFYXNpbmdzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUsIGkpIHtcbiAgICBmdW5jdGlvbkVhc2luZ3NbbmFtZV0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gTWF0aC5wb3codCwgaSArIDIpOyB9OyB9O1xuICB9KTtcblxuICBPYmplY3Qua2V5cyhmdW5jdGlvbkVhc2luZ3MpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZWFzZUluID0gZnVuY3Rpb25FYXNpbmdzW25hbWVdO1xuICAgIGVhc2VzWydlYXNlSW4nICsgbmFtZV0gPSBlYXNlSW47XG4gICAgZWFzZXNbJ2Vhc2VPdXQnICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBlYXNlSW4oYSwgYikoMSAtIHQpOyB9OyB9O1xuICAgIGVhc2VzWydlYXNlSW5PdXQnICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgPCAwLjUgPyBlYXNlSW4oYSwgYikodCAqIDIpIC8gMiA6IFxuICAgICAgMSAtIGVhc2VJbihhLCBiKSh0ICogLTIgKyAyKSAvIDI7IH07IH07XG4gICAgZWFzZXNbJ2Vhc2VPdXRJbicgKyBuYW1lXSA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCA8IDAuNSA/ICgxIC0gZWFzZUluKGEsIGIpKDEgLSB0ICogMikpIC8gMiA6IFxuICAgICAgKGVhc2VJbihhLCBiKSh0ICogMiAtIDEpICsgMSkgLyAyOyB9OyB9O1xuICB9KTtcblxuICByZXR1cm4gZWFzZXM7XG5cbn0pKCk7XG5cbmZ1bmN0aW9uIHBhcnNlRWFzaW5ncyhlYXNpbmcsIGR1cmF0aW9uKSB7XG4gIGlmIChpcy5mbmMoZWFzaW5nKSkgeyByZXR1cm4gZWFzaW5nOyB9XG4gIHZhciBuYW1lID0gZWFzaW5nLnNwbGl0KCcoJylbMF07XG4gIHZhciBlYXNlID0gcGVubmVyW25hbWVdO1xuICB2YXIgYXJncyA9IHBhcnNlRWFzaW5nUGFyYW1ldGVycyhlYXNpbmcpO1xuICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlICdzcHJpbmcnIDogcmV0dXJuIHNwcmluZyhlYXNpbmcsIGR1cmF0aW9uKTtcbiAgICBjYXNlICdjdWJpY0JlemllcicgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoYmV6aWVyLCBhcmdzKTtcbiAgICBjYXNlICdzdGVwcycgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoc3RlcHMsIGFyZ3MpO1xuICAgIGRlZmF1bHQgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoZWFzZSwgYXJncyk7XG4gIH1cbn1cblxuLy8gU3RyaW5nc1xuXG5mdW5jdGlvbiBzZWxlY3RTdHJpbmcoc3RyKSB7XG4gIHRyeSB7XG4gICAgdmFyIG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzdHIpO1xuICAgIHJldHVybiBub2RlcztcbiAgfSBjYXRjaChlKSB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbi8vIEFycmF5c1xuXG5mdW5jdGlvbiBmaWx0ZXJBcnJheShhcnIsIGNhbGxiYWNrKSB7XG4gIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMiA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGkgaW4gYXJyKSB7XG4gICAgICB2YXIgdmFsID0gYXJyW2ldO1xuICAgICAgaWYgKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsLCBpLCBhcnIpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5BcnJheShhcnIpIHtcbiAgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuY29uY2F0KGlzLmFycihiKSA/IGZsYXR0ZW5BcnJheShiKSA6IGIpOyB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkobykge1xuICBpZiAoaXMuYXJyKG8pKSB7IHJldHVybiBvOyB9XG4gIGlmIChpcy5zdHIobykpIHsgbyA9IHNlbGVjdFN0cmluZyhvKSB8fCBvOyB9XG4gIGlmIChvIGluc3RhbmNlb2YgTm9kZUxpc3QgfHwgbyBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9uKSB7IHJldHVybiBbXS5zbGljZS5jYWxsKG8pOyB9XG4gIHJldHVybiBbb107XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnMoYXJyLCB2YWwpIHtcbiAgcmV0dXJuIGFyci5zb21lKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhID09PSB2YWw7IH0pO1xufVxuXG4vLyBPYmplY3RzXG5cbmZ1bmN0aW9uIGNsb25lT2JqZWN0KG8pIHtcbiAgdmFyIGNsb25lID0ge307XG4gIGZvciAodmFyIHAgaW4gbykgeyBjbG9uZVtwXSA9IG9bcF07IH1cbiAgcmV0dXJuIGNsb25lO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlT2JqZWN0UHJvcHMobzEsIG8yKSB7XG4gIHZhciBvID0gY2xvbmVPYmplY3QobzEpO1xuICBmb3IgKHZhciBwIGluIG8xKSB7IG9bcF0gPSBvMi5oYXNPd25Qcm9wZXJ0eShwKSA/IG8yW3BdIDogbzFbcF07IH1cbiAgcmV0dXJuIG87XG59XG5cbmZ1bmN0aW9uIG1lcmdlT2JqZWN0cyhvMSwgbzIpIHtcbiAgdmFyIG8gPSBjbG9uZU9iamVjdChvMSk7XG4gIGZvciAodmFyIHAgaW4gbzIpIHsgb1twXSA9IGlzLnVuZChvMVtwXSkgPyBvMltwXSA6IG8xW3BdOyB9XG4gIHJldHVybiBvO1xufVxuXG4vLyBDb2xvcnNcblxuZnVuY3Rpb24gcmdiVG9SZ2JhKHJnYlZhbHVlKSB7XG4gIHZhciByZ2IgPSAvcmdiXFwoKFxcZCssXFxzKltcXGRdKyxcXHMqW1xcZF0rKVxcKS9nLmV4ZWMocmdiVmFsdWUpO1xuICByZXR1cm4gcmdiID8gKFwicmdiYShcIiArIChyZ2JbMV0pICsgXCIsMSlcIikgOiByZ2JWYWx1ZTtcbn1cblxuZnVuY3Rpb24gaGV4VG9SZ2JhKGhleFZhbHVlKSB7XG4gIHZhciByZ3ggPSAvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pO1xuICB2YXIgaGV4ID0gaGV4VmFsdWUucmVwbGFjZShyZ3gsIGZ1bmN0aW9uIChtLCByLCBnLCBiKSB7IHJldHVybiByICsgciArIGcgKyBnICsgYiArIGI7IH0gKTtcbiAgdmFyIHJnYiA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICB2YXIgciA9IHBhcnNlSW50KHJnYlsxXSwgMTYpO1xuICB2YXIgZyA9IHBhcnNlSW50KHJnYlsyXSwgMTYpO1xuICB2YXIgYiA9IHBhcnNlSW50KHJnYlszXSwgMTYpO1xuICByZXR1cm4gKFwicmdiYShcIiArIHIgKyBcIixcIiArIGcgKyBcIixcIiArIGIgKyBcIiwxKVwiKTtcbn1cblxuZnVuY3Rpb24gaHNsVG9SZ2JhKGhzbFZhbHVlKSB7XG4gIHZhciBoc2wgPSAvaHNsXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklXFwpL2cuZXhlYyhoc2xWYWx1ZSkgfHwgL2hzbGFcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKVxcKS9nLmV4ZWMoaHNsVmFsdWUpO1xuICB2YXIgaCA9IHBhcnNlSW50KGhzbFsxXSwgMTApIC8gMzYwO1xuICB2YXIgcyA9IHBhcnNlSW50KGhzbFsyXSwgMTApIC8gMTAwO1xuICB2YXIgbCA9IHBhcnNlSW50KGhzbFszXSwgMTApIC8gMTAwO1xuICB2YXIgYSA9IGhzbFs0XSB8fCAxO1xuICBmdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgICBpZiAodCA8IDApIHsgdCArPSAxOyB9XG4gICAgaWYgKHQgPiAxKSB7IHQgLT0gMTsgfVxuICAgIGlmICh0IDwgMS82KSB7IHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0OyB9XG4gICAgaWYgKHQgPCAxLzIpIHsgcmV0dXJuIHE7IH1cbiAgICBpZiAodCA8IDIvMykgeyByZXR1cm4gcCArIChxIC0gcCkgKiAoMi8zIC0gdCkgKiA2OyB9XG4gICAgcmV0dXJuIHA7XG4gIH1cbiAgdmFyIHIsIGcsIGI7XG4gIGlmIChzID09IDApIHtcbiAgICByID0gZyA9IGIgPSBsO1xuICB9IGVsc2Uge1xuICAgIHZhciBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICB2YXIgcCA9IDIgKiBsIC0gcTtcbiAgICByID0gaHVlMnJnYihwLCBxLCBoICsgMS8zKTtcbiAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgICBiID0gaHVlMnJnYihwLCBxLCBoIC0gMS8zKTtcbiAgfVxuICByZXR1cm4gKFwicmdiYShcIiArIChyICogMjU1KSArIFwiLFwiICsgKGcgKiAyNTUpICsgXCIsXCIgKyAoYiAqIDI1NSkgKyBcIixcIiArIGEgKyBcIilcIik7XG59XG5cbmZ1bmN0aW9uIGNvbG9yVG9SZ2IodmFsKSB7XG4gIGlmIChpcy5yZ2IodmFsKSkgeyByZXR1cm4gcmdiVG9SZ2JhKHZhbCk7IH1cbiAgaWYgKGlzLmhleCh2YWwpKSB7IHJldHVybiBoZXhUb1JnYmEodmFsKTsgfVxuICBpZiAoaXMuaHNsKHZhbCkpIHsgcmV0dXJuIGhzbFRvUmdiYSh2YWwpOyB9XG59XG5cbi8vIFVuaXRzXG5cbmZ1bmN0aW9uIGdldFVuaXQodmFsKSB7XG4gIHZhciBzcGxpdCA9IC9bKy1dP1xcZCpcXC4/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPyglfHB4fHB0fGVtfHJlbXxpbnxjbXxtbXxleHxjaHxwY3x2d3x2aHx2bWlufHZtYXh8ZGVnfHJhZHx0dXJuKT8kLy5leGVjKHZhbCk7XG4gIGlmIChzcGxpdCkgeyByZXR1cm4gc3BsaXRbMV07IH1cbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSkge1xuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICd0cmFuc2xhdGUnKSB8fCBwcm9wTmFtZSA9PT0gJ3BlcnNwZWN0aXZlJykgeyByZXR1cm4gJ3B4JzsgfVxuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdyb3RhdGUnKSB8fCBzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3NrZXcnKSkgeyByZXR1cm4gJ2RlZyc7IH1cbn1cblxuLy8gVmFsdWVzXG5cbmZ1bmN0aW9uIGdldEZ1bmN0aW9uVmFsdWUodmFsLCBhbmltYXRhYmxlKSB7XG4gIGlmICghaXMuZm5jKHZhbCkpIHsgcmV0dXJuIHZhbDsgfVxuICByZXR1cm4gdmFsKGFuaW1hdGFibGUudGFyZ2V0LCBhbmltYXRhYmxlLmlkLCBhbmltYXRhYmxlLnRvdGFsKTtcbn1cblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKGVsLCBwcm9wKSB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUocHJvcCk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIHtcbiAgdmFyIHZhbHVlVW5pdCA9IGdldFVuaXQodmFsdWUpO1xuICBpZiAoYXJyYXlDb250YWlucyhbdW5pdCwgJ2RlZycsICdyYWQnLCAndHVybiddLCB2YWx1ZVVuaXQpKSB7IHJldHVybiB2YWx1ZTsgfVxuICB2YXIgY2FjaGVkID0gY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF07XG4gIGlmICghaXMudW5kKGNhY2hlZCkpIHsgcmV0dXJuIGNhY2hlZDsgfVxuICB2YXIgYmFzZWxpbmUgPSAxMDA7XG4gIHZhciB0ZW1wRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsLnRhZ05hbWUpO1xuICB2YXIgcGFyZW50RWwgPSAoZWwucGFyZW50Tm9kZSAmJiAoZWwucGFyZW50Tm9kZSAhPT0gZG9jdW1lbnQpKSA/IGVsLnBhcmVudE5vZGUgOiBkb2N1bWVudC5ib2R5O1xuICBwYXJlbnRFbC5hcHBlbmRDaGlsZCh0ZW1wRWwpO1xuICB0ZW1wRWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICB0ZW1wRWwuc3R5bGUud2lkdGggPSBiYXNlbGluZSArIHVuaXQ7XG4gIHZhciBmYWN0b3IgPSBiYXNlbGluZSAvIHRlbXBFbC5vZmZzZXRXaWR0aDtcbiAgcGFyZW50RWwucmVtb3ZlQ2hpbGQodGVtcEVsKTtcbiAgdmFyIGNvbnZlcnRlZFVuaXQgPSBmYWN0b3IgKiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF0gPSBjb252ZXJ0ZWRVbml0O1xuICByZXR1cm4gY29udmVydGVkVW5pdDtcbn1cblxuZnVuY3Rpb24gZ2V0Q1NTVmFsdWUoZWwsIHByb3AsIHVuaXQpIHtcbiAgaWYgKHByb3AgaW4gZWwuc3R5bGUpIHtcbiAgICB2YXIgdXBwZXJjYXNlUHJvcE5hbWUgPSBwcm9wLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHZhbHVlID0gZWwuc3R5bGVbcHJvcF0gfHwgZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSh1cHBlcmNhc2VQcm9wTmFtZSkgfHwgJzAnO1xuICAgIHJldHVybiB1bml0ID8gY29udmVydFB4VG9Vbml0KGVsLCB2YWx1ZSwgdW5pdCkgOiB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25UeXBlKGVsLCBwcm9wKSB7XG4gIGlmIChpcy5kb20oZWwpICYmICFpcy5pbnAoZWwpICYmICghaXMubmlsKGdldEF0dHJpYnV0ZShlbCwgcHJvcCkpIHx8IChpcy5zdmcoZWwpICYmIGVsW3Byb3BdKSkpIHsgcmV0dXJuICdhdHRyaWJ1dGUnOyB9XG4gIGlmIChpcy5kb20oZWwpICYmIGFycmF5Q29udGFpbnModmFsaWRUcmFuc2Zvcm1zLCBwcm9wKSkgeyByZXR1cm4gJ3RyYW5zZm9ybSc7IH1cbiAgaWYgKGlzLmRvbShlbCkgJiYgKHByb3AgIT09ICd0cmFuc2Zvcm0nICYmIGdldENTU1ZhbHVlKGVsLCBwcm9wKSkpIHsgcmV0dXJuICdjc3MnOyB9XG4gIGlmIChlbFtwcm9wXSAhPSBudWxsKSB7IHJldHVybiAnb2JqZWN0JzsgfVxufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50VHJhbnNmb3JtcyhlbCkge1xuICBpZiAoIWlzLmRvbShlbCkpIHsgcmV0dXJuOyB9XG4gIHZhciBzdHIgPSBlbC5zdHlsZS50cmFuc2Zvcm0gfHwgJyc7XG4gIHZhciByZWcgID0gLyhcXHcrKVxcKChbXildKilcXCkvZztcbiAgdmFyIHRyYW5zZm9ybXMgPSBuZXcgTWFwKCk7XG4gIHZhciBtOyB3aGlsZSAobSA9IHJlZy5leGVjKHN0cikpIHsgdHJhbnNmb3Jtcy5zZXQobVsxXSwgbVsyXSk7IH1cbiAgcmV0dXJuIHRyYW5zZm9ybXM7XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVZhbHVlKGVsLCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCkge1xuICB2YXIgZGVmYXVsdFZhbCA9IHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAnc2NhbGUnKSA/IDEgOiAwICsgZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSk7XG4gIHZhciB2YWx1ZSA9IGdldEVsZW1lbnRUcmFuc2Zvcm1zKGVsKS5nZXQocHJvcE5hbWUpIHx8IGRlZmF1bHRWYWw7XG4gIGlmIChhbmltYXRhYmxlKSB7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zLmxpc3Quc2V0KHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zWydsYXN0J10gPSBwcm9wTmFtZTtcbiAgfVxuICByZXR1cm4gdW5pdCA/IGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdW5pdCwgYW5pbWF0YWJsZSkge1xuICBzd2l0Y2ggKGdldEFuaW1hdGlvblR5cGUodGFyZ2V0LCBwcm9wTmFtZSkpIHtcbiAgICBjYXNlICd0cmFuc2Zvcm0nOiByZXR1cm4gZ2V0VHJhbnNmb3JtVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCk7XG4gICAgY2FzZSAnY3NzJzogcmV0dXJuIGdldENTU1ZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHVuaXQpO1xuICAgIGNhc2UgJ2F0dHJpYnV0ZSc6IHJldHVybiBnZXRBdHRyaWJ1dGUodGFyZ2V0LCBwcm9wTmFtZSk7XG4gICAgZGVmYXVsdDogcmV0dXJuIHRhcmdldFtwcm9wTmFtZV0gfHwgMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZVZhbHVlKHRvLCBmcm9tKSB7XG4gIHZhciBvcGVyYXRvciA9IC9eKFxcKj18XFwrPXwtPSkvLmV4ZWModG8pO1xuICBpZiAoIW9wZXJhdG9yKSB7IHJldHVybiB0bzsgfVxuICB2YXIgdSA9IGdldFVuaXQodG8pIHx8IDA7XG4gIHZhciB4ID0gcGFyc2VGbG9hdChmcm9tKTtcbiAgdmFyIHkgPSBwYXJzZUZsb2F0KHRvLnJlcGxhY2Uob3BlcmF0b3JbMF0sICcnKSk7XG4gIHN3aXRjaCAob3BlcmF0b3JbMF1bMF0pIHtcbiAgICBjYXNlICcrJzogcmV0dXJuIHggKyB5ICsgdTtcbiAgICBjYXNlICctJzogcmV0dXJuIHggLSB5ICsgdTtcbiAgICBjYXNlICcqJzogcmV0dXJuIHggKiB5ICsgdTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVZhbHVlKHZhbCwgdW5pdCkge1xuICBpZiAoaXMuY29sKHZhbCkpIHsgcmV0dXJuIGNvbG9yVG9SZ2IodmFsKTsgfVxuICBpZiAoL1xccy9nLnRlc3QodmFsKSkgeyByZXR1cm4gdmFsOyB9XG4gIHZhciBvcmlnaW5hbFVuaXQgPSBnZXRVbml0KHZhbCk7XG4gIHZhciB1bml0TGVzcyA9IG9yaWdpbmFsVW5pdCA/IHZhbC5zdWJzdHIoMCwgdmFsLmxlbmd0aCAtIG9yaWdpbmFsVW5pdC5sZW5ndGgpIDogdmFsO1xuICBpZiAodW5pdCkgeyByZXR1cm4gdW5pdExlc3MgKyB1bml0OyB9XG4gIHJldHVybiB1bml0TGVzcztcbn1cblxuLy8gZ2V0VG90YWxMZW5ndGgoKSBlcXVpdmFsZW50IGZvciBjaXJjbGUsIHJlY3QsIHBvbHlsaW5lLCBwb2x5Z29uIGFuZCBsaW5lIHNoYXBlc1xuLy8gYWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL1NlYkxhbWJsYS8zZTA1NTBjNDk2YzIzNjcwOTc0NFxuXG5mdW5jdGlvbiBnZXREaXN0YW5jZShwMSwgcDIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMikpO1xufVxuXG5mdW5jdGlvbiBnZXRDaXJjbGVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIE1hdGguUEkgKiAyICogZ2V0QXR0cmlidXRlKGVsLCAncicpO1xufVxuXG5mdW5jdGlvbiBnZXRSZWN0TGVuZ3RoKGVsKSB7XG4gIHJldHVybiAoZ2V0QXR0cmlidXRlKGVsLCAnd2lkdGgnKSAqIDIpICsgKGdldEF0dHJpYnV0ZShlbCwgJ2hlaWdodCcpICogMik7XG59XG5cbmZ1bmN0aW9uIGdldExpbmVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIGdldERpc3RhbmNlKFxuICAgIHt4OiBnZXRBdHRyaWJ1dGUoZWwsICd4MScpLCB5OiBnZXRBdHRyaWJ1dGUoZWwsICd5MScpfSwgXG4gICAge3g6IGdldEF0dHJpYnV0ZShlbCwgJ3gyJyksIHk6IGdldEF0dHJpYnV0ZShlbCwgJ3kyJyl9XG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSB7XG4gIHZhciBwb2ludHMgPSBlbC5wb2ludHM7XG4gIHZhciB0b3RhbExlbmd0aCA9IDA7XG4gIHZhciBwcmV2aW91c1BvcztcbiAgZm9yICh2YXIgaSA9IDAgOyBpIDwgcG9pbnRzLm51bWJlck9mSXRlbXM7IGkrKykge1xuICAgIHZhciBjdXJyZW50UG9zID0gcG9pbnRzLmdldEl0ZW0oaSk7XG4gICAgaWYgKGkgPiAwKSB7IHRvdGFsTGVuZ3RoICs9IGdldERpc3RhbmNlKHByZXZpb3VzUG9zLCBjdXJyZW50UG9zKTsgfVxuICAgIHByZXZpb3VzUG9zID0gY3VycmVudFBvcztcbiAgfVxuICByZXR1cm4gdG90YWxMZW5ndGg7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlnb25MZW5ndGgoZWwpIHtcbiAgdmFyIHBvaW50cyA9IGVsLnBvaW50cztcbiAgcmV0dXJuIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSArIGdldERpc3RhbmNlKHBvaW50cy5nZXRJdGVtKHBvaW50cy5udW1iZXJPZkl0ZW1zIC0gMSksIHBvaW50cy5nZXRJdGVtKDApKTtcbn1cblxuLy8gUGF0aCBhbmltYXRpb25cblxuZnVuY3Rpb24gZ2V0VG90YWxMZW5ndGgoZWwpIHtcbiAgaWYgKGVsLmdldFRvdGFsTGVuZ3RoKSB7IHJldHVybiBlbC5nZXRUb3RhbExlbmd0aCgpOyB9XG4gIHN3aXRjaChlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdjaXJjbGUnOiByZXR1cm4gZ2V0Q2lyY2xlTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdyZWN0JzogcmV0dXJuIGdldFJlY3RMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ2xpbmUnOiByZXR1cm4gZ2V0TGluZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncG9seWxpbmUnOiByZXR1cm4gZ2V0UG9seWxpbmVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3BvbHlnb24nOiByZXR1cm4gZ2V0UG9seWdvbkxlbmd0aChlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0RGFzaG9mZnNldChlbCkge1xuICB2YXIgcGF0aExlbmd0aCA9IGdldFRvdGFsTGVuZ3RoKGVsKTtcbiAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaGFycmF5JywgcGF0aExlbmd0aCk7XG4gIHJldHVybiBwYXRoTGVuZ3RoO1xufVxuXG4vLyBNb3Rpb24gcGF0aFxuXG5mdW5jdGlvbiBnZXRQYXJlbnRTdmdFbChlbCkge1xuICB2YXIgcGFyZW50RWwgPSBlbC5wYXJlbnROb2RlO1xuICB3aGlsZSAoaXMuc3ZnKHBhcmVudEVsKSkge1xuICAgIGlmICghaXMuc3ZnKHBhcmVudEVsLnBhcmVudE5vZGUpKSB7IGJyZWFrOyB9XG4gICAgcGFyZW50RWwgPSBwYXJlbnRFbC5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBwYXJlbnRFbDtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50U3ZnKHBhdGhFbCwgc3ZnRGF0YSkge1xuICB2YXIgc3ZnID0gc3ZnRGF0YSB8fCB7fTtcbiAgdmFyIHBhcmVudFN2Z0VsID0gc3ZnLmVsIHx8IGdldFBhcmVudFN2Z0VsKHBhdGhFbCk7XG4gIHZhciByZWN0ID0gcGFyZW50U3ZnRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciB2aWV3Qm94QXR0ciA9IGdldEF0dHJpYnV0ZShwYXJlbnRTdmdFbCwgJ3ZpZXdCb3gnKTtcbiAgdmFyIHdpZHRoID0gcmVjdC53aWR0aDtcbiAgdmFyIGhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuICB2YXIgdmlld0JveCA9IHN2Zy52aWV3Qm94IHx8ICh2aWV3Qm94QXR0ciA/IHZpZXdCb3hBdHRyLnNwbGl0KCcgJykgOiBbMCwgMCwgd2lkdGgsIGhlaWdodF0pO1xuICByZXR1cm4ge1xuICAgIGVsOiBwYXJlbnRTdmdFbCxcbiAgICB2aWV3Qm94OiB2aWV3Qm94LFxuICAgIHg6IHZpZXdCb3hbMF0gLyAxLFxuICAgIHk6IHZpZXdCb3hbMV0gLyAxLFxuICAgIHc6IHdpZHRoLFxuICAgIGg6IGhlaWdodCxcbiAgICB2Vzogdmlld0JveFsyXSxcbiAgICB2SDogdmlld0JveFszXVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdGgocGF0aCwgcGVyY2VudCkge1xuICB2YXIgcGF0aEVsID0gaXMuc3RyKHBhdGgpID8gc2VsZWN0U3RyaW5nKHBhdGgpWzBdIDogcGF0aDtcbiAgdmFyIHAgPSBwZXJjZW50IHx8IDEwMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcbiAgICAgIGVsOiBwYXRoRWwsXG4gICAgICBzdmc6IGdldFBhcmVudFN2ZyhwYXRoRWwpLFxuICAgICAgdG90YWxMZW5ndGg6IGdldFRvdGFsTGVuZ3RoKHBhdGhFbCkgKiAocCAvIDEwMClcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGF0aFByb2dyZXNzKHBhdGgsIHByb2dyZXNzLCBpc1BhdGhUYXJnZXRJbnNpZGVTVkcpIHtcbiAgZnVuY3Rpb24gcG9pbnQob2Zmc2V0KSB7XG4gICAgaWYgKCBvZmZzZXQgPT09IHZvaWQgMCApIG9mZnNldCA9IDA7XG5cbiAgICB2YXIgbCA9IHByb2dyZXNzICsgb2Zmc2V0ID49IDEgPyBwcm9ncmVzcyArIG9mZnNldCA6IDA7XG4gICAgcmV0dXJuIHBhdGguZWwuZ2V0UG9pbnRBdExlbmd0aChsKTtcbiAgfVxuICB2YXIgc3ZnID0gZ2V0UGFyZW50U3ZnKHBhdGguZWwsIHBhdGguc3ZnKTtcbiAgdmFyIHAgPSBwb2ludCgpO1xuICB2YXIgcDAgPSBwb2ludCgtMSk7XG4gIHZhciBwMSA9IHBvaW50KCsxKTtcbiAgdmFyIHNjYWxlWCA9IGlzUGF0aFRhcmdldEluc2lkZVNWRyA/IDEgOiBzdmcudyAvIHN2Zy52VztcbiAgdmFyIHNjYWxlWSA9IGlzUGF0aFRhcmdldEluc2lkZVNWRyA/IDEgOiBzdmcuaCAvIHN2Zy52SDtcbiAgc3dpdGNoIChwYXRoLnByb3BlcnR5KSB7XG4gICAgY2FzZSAneCc6IHJldHVybiAocC54IC0gc3ZnLngpICogc2NhbGVYO1xuICAgIGNhc2UgJ3knOiByZXR1cm4gKHAueSAtIHN2Zy55KSAqIHNjYWxlWTtcbiAgICBjYXNlICdhbmdsZSc6IHJldHVybiBNYXRoLmF0YW4yKHAxLnkgLSBwMC55LCBwMS54IC0gcDAueCkgKiAxODAgLyBNYXRoLlBJO1xuICB9XG59XG5cbi8vIERlY29tcG9zZSB2YWx1ZVxuXG5mdW5jdGlvbiBkZWNvbXBvc2VWYWx1ZSh2YWwsIHVuaXQpIHtcbiAgLy8gY29uc3Qgcmd4ID0gLy0/XFxkKlxcLj9cXGQrL2c7IC8vIGhhbmRsZXMgYmFzaWMgbnVtYmVyc1xuICAvLyBjb25zdCByZ3ggPSAvWystXT9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/L2c7IC8vIGhhbmRsZXMgZXhwb25lbnRzIG5vdGF0aW9uXG4gIHZhciByZ3ggPSAvWystXT9cXGQqXFwuP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8vZzsgLy8gaGFuZGxlcyBleHBvbmVudHMgbm90YXRpb25cbiAgdmFyIHZhbHVlID0gdmFsaWRhdGVWYWx1ZSgoaXMucHRoKHZhbCkgPyB2YWwudG90YWxMZW5ndGggOiB2YWwpLCB1bml0KSArICcnO1xuICByZXR1cm4ge1xuICAgIG9yaWdpbmFsOiB2YWx1ZSxcbiAgICBudW1iZXJzOiB2YWx1ZS5tYXRjaChyZ3gpID8gdmFsdWUubWF0Y2gocmd4KS5tYXAoTnVtYmVyKSA6IFswXSxcbiAgICBzdHJpbmdzOiAoaXMuc3RyKHZhbCkgfHwgdW5pdCkgPyB2YWx1ZS5zcGxpdChyZ3gpIDogW11cbiAgfVxufVxuXG4vLyBBbmltYXRhYmxlc1xuXG5mdW5jdGlvbiBwYXJzZVRhcmdldHModGFyZ2V0cykge1xuICB2YXIgdGFyZ2V0c0FycmF5ID0gdGFyZ2V0cyA/IChmbGF0dGVuQXJyYXkoaXMuYXJyKHRhcmdldHMpID8gdGFyZ2V0cy5tYXAodG9BcnJheSkgOiB0b0FycmF5KHRhcmdldHMpKSkgOiBbXTtcbiAgcmV0dXJuIGZpbHRlckFycmF5KHRhcmdldHNBcnJheSwgZnVuY3Rpb24gKGl0ZW0sIHBvcywgc2VsZikgeyByZXR1cm4gc2VsZi5pbmRleE9mKGl0ZW0pID09PSBwb3M7IH0pO1xufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRhYmxlcyh0YXJnZXRzKSB7XG4gIHZhciBwYXJzZWQgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gIHJldHVybiBwYXJzZWQubWFwKGZ1bmN0aW9uICh0LCBpKSB7XG4gICAgcmV0dXJuIHt0YXJnZXQ6IHQsIGlkOiBpLCB0b3RhbDogcGFyc2VkLmxlbmd0aCwgdHJhbnNmb3JtczogeyBsaXN0OiBnZXRFbGVtZW50VHJhbnNmb3Jtcyh0KSB9IH07XG4gIH0pO1xufVxuXG4vLyBQcm9wZXJ0aWVzXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zKHByb3AsIHR3ZWVuU2V0dGluZ3MpIHtcbiAgdmFyIHNldHRpbmdzID0gY2xvbmVPYmplY3QodHdlZW5TZXR0aW5ncyk7XG4gIC8vIE92ZXJyaWRlIGR1cmF0aW9uIGlmIGVhc2luZyBpcyBhIHNwcmluZ1xuICBpZiAoL15zcHJpbmcvLnRlc3Qoc2V0dGluZ3MuZWFzaW5nKSkgeyBzZXR0aW5ncy5kdXJhdGlvbiA9IHNwcmluZyhzZXR0aW5ncy5lYXNpbmcpOyB9XG4gIGlmIChpcy5hcnIocHJvcCkpIHtcbiAgICB2YXIgbCA9IHByb3AubGVuZ3RoO1xuICAgIHZhciBpc0Zyb21UbyA9IChsID09PSAyICYmICFpcy5vYmoocHJvcFswXSkpO1xuICAgIGlmICghaXNGcm9tVG8pIHtcbiAgICAgIC8vIER1cmF0aW9uIGRpdmlkZWQgYnkgdGhlIG51bWJlciBvZiB0d2VlbnNcbiAgICAgIGlmICghaXMuZm5jKHR3ZWVuU2V0dGluZ3MuZHVyYXRpb24pKSB7IHNldHRpbmdzLmR1cmF0aW9uID0gdHdlZW5TZXR0aW5ncy5kdXJhdGlvbiAvIGw7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVHJhbnNmb3JtIFtmcm9tLCB0b10gdmFsdWVzIHNob3J0aGFuZCB0byBhIHZhbGlkIHR3ZWVuIHZhbHVlXG4gICAgICBwcm9wID0ge3ZhbHVlOiBwcm9wfTtcbiAgICB9XG4gIH1cbiAgdmFyIHByb3BBcnJheSA9IGlzLmFycihwcm9wKSA/IHByb3AgOiBbcHJvcF07XG4gIHJldHVybiBwcm9wQXJyYXkubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgdmFyIG9iaiA9IChpcy5vYmoodikgJiYgIWlzLnB0aCh2KSkgPyB2IDoge3ZhbHVlOiB2fTtcbiAgICAvLyBEZWZhdWx0IGRlbGF5IHZhbHVlIHNob3VsZCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGZpcnN0IHR3ZWVuXG4gICAgaWYgKGlzLnVuZChvYmouZGVsYXkpKSB7IG9iai5kZWxheSA9ICFpID8gdHdlZW5TZXR0aW5ncy5kZWxheSA6IDA7IH1cbiAgICAvLyBEZWZhdWx0IGVuZERlbGF5IHZhbHVlIHNob3VsZCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGxhc3QgdHdlZW5cbiAgICBpZiAoaXMudW5kKG9iai5lbmREZWxheSkpIHsgb2JqLmVuZERlbGF5ID0gaSA9PT0gcHJvcEFycmF5Lmxlbmd0aCAtIDEgPyB0d2VlblNldHRpbmdzLmVuZERlbGF5IDogMDsgfVxuICAgIHJldHVybiBvYmo7XG4gIH0pLm1hcChmdW5jdGlvbiAoaykgeyByZXR1cm4gbWVyZ2VPYmplY3RzKGssIHNldHRpbmdzKTsgfSk7XG59XG5cblxuZnVuY3Rpb24gZmxhdHRlbktleWZyYW1lcyhrZXlmcmFtZXMpIHtcbiAgdmFyIHByb3BlcnR5TmFtZXMgPSBmaWx0ZXJBcnJheShmbGF0dGVuQXJyYXkoa2V5ZnJhbWVzLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBPYmplY3Qua2V5cyhrZXkpOyB9KSksIGZ1bmN0aW9uIChwKSB7IHJldHVybiBpcy5rZXkocCk7IH0pXG4gIC5yZWR1Y2UoZnVuY3Rpb24gKGEsYikgeyBpZiAoYS5pbmRleE9mKGIpIDwgMCkgeyBhLnB1c2goYik7IH0gcmV0dXJuIGE7IH0sIFtdKTtcbiAgdmFyIHByb3BlcnRpZXMgPSB7fTtcbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGkgKSB7XG4gICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHlOYW1lc1tpXTtcbiAgICBwcm9wZXJ0aWVzW3Byb3BOYW1lXSA9IGtleWZyYW1lcy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIG5ld0tleSA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBrZXkpIHtcbiAgICAgICAgaWYgKGlzLmtleShwKSkge1xuICAgICAgICAgIGlmIChwID09IHByb3BOYW1lKSB7IG5ld0tleS52YWx1ZSA9IGtleVtwXTsgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0tleVtwXSA9IGtleVtwXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9KTtcbiAgfTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnR5TmFtZXMubGVuZ3RoOyBpKyspIGxvb3AoIGkgKTtcbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbmZ1bmN0aW9uIGdldFByb3BlcnRpZXModHdlZW5TZXR0aW5ncywgcGFyYW1zKSB7XG4gIHZhciBwcm9wZXJ0aWVzID0gW107XG4gIHZhciBrZXlmcmFtZXMgPSBwYXJhbXMua2V5ZnJhbWVzO1xuICBpZiAoa2V5ZnJhbWVzKSB7IHBhcmFtcyA9IG1lcmdlT2JqZWN0cyhmbGF0dGVuS2V5ZnJhbWVzKGtleWZyYW1lcyksIHBhcmFtcyk7IH1cbiAgZm9yICh2YXIgcCBpbiBwYXJhbXMpIHtcbiAgICBpZiAoaXMua2V5KHApKSB7XG4gICAgICBwcm9wZXJ0aWVzLnB1c2goe1xuICAgICAgICBuYW1lOiBwLFxuICAgICAgICB0d2VlbnM6IG5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zKHBhcmFtc1twXSwgdHdlZW5TZXR0aW5ncylcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcGVydGllcztcbn1cblxuLy8gVHdlZW5zXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVR3ZWVuVmFsdWVzKHR3ZWVuLCBhbmltYXRhYmxlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gdHdlZW4pIHtcbiAgICB2YXIgdmFsdWUgPSBnZXRGdW5jdGlvblZhbHVlKHR3ZWVuW3BdLCBhbmltYXRhYmxlKTtcbiAgICBpZiAoaXMuYXJyKHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGdldEZ1bmN0aW9uVmFsdWUodiwgYW5pbWF0YWJsZSk7IH0pO1xuICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMSkgeyB2YWx1ZSA9IHZhbHVlWzBdOyB9XG4gICAgfVxuICAgIHRbcF0gPSB2YWx1ZTtcbiAgfVxuICB0LmR1cmF0aW9uID0gcGFyc2VGbG9hdCh0LmR1cmF0aW9uKTtcbiAgdC5kZWxheSA9IHBhcnNlRmxvYXQodC5kZWxheSk7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVUd2VlbnMocHJvcCwgYW5pbWF0YWJsZSkge1xuICB2YXIgcHJldmlvdXNUd2VlbjtcbiAgcmV0dXJuIHByb3AudHdlZW5zLm1hcChmdW5jdGlvbiAodCkge1xuICAgIHZhciB0d2VlbiA9IG5vcm1hbGl6ZVR3ZWVuVmFsdWVzKHQsIGFuaW1hdGFibGUpO1xuICAgIHZhciB0d2VlblZhbHVlID0gdHdlZW4udmFsdWU7XG4gICAgdmFyIHRvID0gaXMuYXJyKHR3ZWVuVmFsdWUpID8gdHdlZW5WYWx1ZVsxXSA6IHR3ZWVuVmFsdWU7XG4gICAgdmFyIHRvVW5pdCA9IGdldFVuaXQodG8pO1xuICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZShhbmltYXRhYmxlLnRhcmdldCwgcHJvcC5uYW1lLCB0b1VuaXQsIGFuaW1hdGFibGUpO1xuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJldmlvdXNUd2VlbiA/IHByZXZpb3VzVHdlZW4udG8ub3JpZ2luYWwgOiBvcmlnaW5hbFZhbHVlO1xuICAgIHZhciBmcm9tID0gaXMuYXJyKHR3ZWVuVmFsdWUpID8gdHdlZW5WYWx1ZVswXSA6IHByZXZpb3VzVmFsdWU7XG4gICAgdmFyIGZyb21Vbml0ID0gZ2V0VW5pdChmcm9tKSB8fCBnZXRVbml0KG9yaWdpbmFsVmFsdWUpO1xuICAgIHZhciB1bml0ID0gdG9Vbml0IHx8IGZyb21Vbml0O1xuICAgIGlmIChpcy51bmQodG8pKSB7IHRvID0gcHJldmlvdXNWYWx1ZTsgfVxuICAgIHR3ZWVuLmZyb20gPSBkZWNvbXBvc2VWYWx1ZShmcm9tLCB1bml0KTtcbiAgICB0d2Vlbi50byA9IGRlY29tcG9zZVZhbHVlKGdldFJlbGF0aXZlVmFsdWUodG8sIGZyb20pLCB1bml0KTtcbiAgICB0d2Vlbi5zdGFydCA9IHByZXZpb3VzVHdlZW4gPyBwcmV2aW91c1R3ZWVuLmVuZCA6IDA7XG4gICAgdHdlZW4uZW5kID0gdHdlZW4uc3RhcnQgKyB0d2Vlbi5kZWxheSArIHR3ZWVuLmR1cmF0aW9uICsgdHdlZW4uZW5kRGVsYXk7XG4gICAgdHdlZW4uZWFzaW5nID0gcGFyc2VFYXNpbmdzKHR3ZWVuLmVhc2luZywgdHdlZW4uZHVyYXRpb24pO1xuICAgIHR3ZWVuLmlzUGF0aCA9IGlzLnB0aCh0d2VlblZhbHVlKTtcbiAgICB0d2Vlbi5pc1BhdGhUYXJnZXRJbnNpZGVTVkcgPSB0d2Vlbi5pc1BhdGggJiYgaXMuc3ZnKGFuaW1hdGFibGUudGFyZ2V0KTtcbiAgICB0d2Vlbi5pc0NvbG9yID0gaXMuY29sKHR3ZWVuLmZyb20ub3JpZ2luYWwpO1xuICAgIGlmICh0d2Vlbi5pc0NvbG9yKSB7IHR3ZWVuLnJvdW5kID0gMTsgfVxuICAgIHByZXZpb3VzVHdlZW4gPSB0d2VlbjtcbiAgICByZXR1cm4gdHdlZW47XG4gIH0pO1xufVxuXG4vLyBUd2VlbiBwcm9ncmVzc1xuXG52YXIgc2V0UHJvZ3Jlc3NWYWx1ZSA9IHtcbiAgY3NzOiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdC5zdHlsZVtwXSA9IHY7IH0sXG4gIGF0dHJpYnV0ZTogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHQuc2V0QXR0cmlidXRlKHAsIHYpOyB9LFxuICBvYmplY3Q6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0W3BdID0gdjsgfSxcbiAgdHJhbnNmb3JtOiBmdW5jdGlvbiAodCwgcCwgdiwgdHJhbnNmb3JtcywgbWFudWFsKSB7XG4gICAgdHJhbnNmb3Jtcy5saXN0LnNldChwLCB2KTtcbiAgICBpZiAocCA9PT0gdHJhbnNmb3Jtcy5sYXN0IHx8IG1hbnVhbCkge1xuICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgdHJhbnNmb3Jtcy5saXN0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBwcm9wKSB7IHN0ciArPSBwcm9wICsgXCIoXCIgKyB2YWx1ZSArIFwiKSBcIjsgfSk7XG4gICAgICB0LnN0eWxlLnRyYW5zZm9ybSA9IHN0cjtcbiAgICB9XG4gIH1cbn07XG5cbi8vIFNldCBWYWx1ZSBoZWxwZXJcblxuZnVuY3Rpb24gc2V0VGFyZ2V0c1ZhbHVlKHRhcmdldHMsIHByb3BlcnRpZXMpIHtcbiAgdmFyIGFuaW1hdGFibGVzID0gZ2V0QW5pbWF0YWJsZXModGFyZ2V0cyk7XG4gIGFuaW1hdGFibGVzLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hdGFibGUpIHtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRGdW5jdGlvblZhbHVlKHByb3BlcnRpZXNbcHJvcGVydHldLCBhbmltYXRhYmxlKTtcbiAgICAgIHZhciB0YXJnZXQgPSBhbmltYXRhYmxlLnRhcmdldDtcbiAgICAgIHZhciB2YWx1ZVVuaXQgPSBnZXRVbml0KHZhbHVlKTtcbiAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZVVuaXQsIGFuaW1hdGFibGUpO1xuICAgICAgdmFyIHVuaXQgPSB2YWx1ZVVuaXQgfHwgZ2V0VW5pdChvcmlnaW5hbFZhbHVlKTtcbiAgICAgIHZhciB0byA9IGdldFJlbGF0aXZlVmFsdWUodmFsaWRhdGVWYWx1ZSh2YWx1ZSwgdW5pdCksIG9yaWdpbmFsVmFsdWUpO1xuICAgICAgdmFyIGFuaW1UeXBlID0gZ2V0QW5pbWF0aW9uVHlwZSh0YXJnZXQsIHByb3BlcnR5KTtcbiAgICAgIHNldFByb2dyZXNzVmFsdWVbYW5pbVR5cGVdKHRhcmdldCwgcHJvcGVydHksIHRvLCBhbmltYXRhYmxlLnRyYW5zZm9ybXMsIHRydWUpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIEFuaW1hdGlvbnNcblxuZnVuY3Rpb24gY3JlYXRlQW5pbWF0aW9uKGFuaW1hdGFibGUsIHByb3ApIHtcbiAgdmFyIGFuaW1UeXBlID0gZ2V0QW5pbWF0aW9uVHlwZShhbmltYXRhYmxlLnRhcmdldCwgcHJvcC5uYW1lKTtcbiAgaWYgKGFuaW1UeXBlKSB7XG4gICAgdmFyIHR3ZWVucyA9IG5vcm1hbGl6ZVR3ZWVucyhwcm9wLCBhbmltYXRhYmxlKTtcbiAgICB2YXIgbGFzdFR3ZWVuID0gdHdlZW5zW3R3ZWVucy5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogYW5pbVR5cGUsXG4gICAgICBwcm9wZXJ0eTogcHJvcC5uYW1lLFxuICAgICAgYW5pbWF0YWJsZTogYW5pbWF0YWJsZSxcbiAgICAgIHR3ZWVuczogdHdlZW5zLFxuICAgICAgZHVyYXRpb246IGxhc3RUd2Vlbi5lbmQsXG4gICAgICBkZWxheTogdHdlZW5zWzBdLmRlbGF5LFxuICAgICAgZW5kRGVsYXk6IGxhc3RUd2Vlbi5lbmREZWxheVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25zKGFuaW1hdGFibGVzLCBwcm9wZXJ0aWVzKSB7XG4gIHJldHVybiBmaWx0ZXJBcnJheShmbGF0dGVuQXJyYXkoYW5pbWF0YWJsZXMubWFwKGZ1bmN0aW9uIChhbmltYXRhYmxlKSB7XG4gICAgcmV0dXJuIHByb3BlcnRpZXMubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQW5pbWF0aW9uKGFuaW1hdGFibGUsIHByb3ApO1xuICAgIH0pO1xuICB9KSksIGZ1bmN0aW9uIChhKSB7IHJldHVybiAhaXMudW5kKGEpOyB9KTtcbn1cblxuLy8gQ3JlYXRlIEluc3RhbmNlXG5cbmZ1bmN0aW9uIGdldEluc3RhbmNlVGltaW5ncyhhbmltYXRpb25zLCB0d2VlblNldHRpbmdzKSB7XG4gIHZhciBhbmltTGVuZ3RoID0gYW5pbWF0aW9ucy5sZW5ndGg7XG4gIHZhciBnZXRUbE9mZnNldCA9IGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBhbmltLnRpbWVsaW5lT2Zmc2V0ID8gYW5pbS50aW1lbGluZU9mZnNldCA6IDA7IH07XG4gIHZhciB0aW1pbmdzID0ge307XG4gIHRpbWluZ3MuZHVyYXRpb24gPSBhbmltTGVuZ3RoID8gTWF0aC5tYXguYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kdXJhdGlvbjsgfSkpIDogdHdlZW5TZXR0aW5ncy5kdXJhdGlvbjtcbiAgdGltaW5ncy5kZWxheSA9IGFuaW1MZW5ndGggPyBNYXRoLm1pbi5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmRlbGF5OyB9KSkgOiB0d2VlblNldHRpbmdzLmRlbGF5O1xuICB0aW1pbmdzLmVuZERlbGF5ID0gYW5pbUxlbmd0aCA/IHRpbWluZ3MuZHVyYXRpb24gLSBNYXRoLm1heC5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmR1cmF0aW9uIC0gYW5pbS5lbmREZWxheTsgfSkpIDogdHdlZW5TZXR0aW5ncy5lbmREZWxheTtcbiAgcmV0dXJuIHRpbWluZ3M7XG59XG5cbnZhciBpbnN0YW5jZUlEID0gMDtcblxuZnVuY3Rpb24gY3JlYXRlTmV3SW5zdGFuY2UocGFyYW1zKSB7XG4gIHZhciBpbnN0YW5jZVNldHRpbmdzID0gcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRJbnN0YW5jZVNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgdHdlZW5TZXR0aW5ncyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0VHdlZW5TZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIHByb3BlcnRpZXMgPSBnZXRQcm9wZXJ0aWVzKHR3ZWVuU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciBhbmltYXRhYmxlcyA9IGdldEFuaW1hdGFibGVzKHBhcmFtcy50YXJnZXRzKTtcbiAgdmFyIGFuaW1hdGlvbnMgPSBnZXRBbmltYXRpb25zKGFuaW1hdGFibGVzLCBwcm9wZXJ0aWVzKTtcbiAgdmFyIHRpbWluZ3MgPSBnZXRJbnN0YW5jZVRpbWluZ3MoYW5pbWF0aW9ucywgdHdlZW5TZXR0aW5ncyk7XG4gIHZhciBpZCA9IGluc3RhbmNlSUQ7XG4gIGluc3RhbmNlSUQrKztcbiAgcmV0dXJuIG1lcmdlT2JqZWN0cyhpbnN0YW5jZVNldHRpbmdzLCB7XG4gICAgaWQ6IGlkLFxuICAgIGNoaWxkcmVuOiBbXSxcbiAgICBhbmltYXRhYmxlczogYW5pbWF0YWJsZXMsXG4gICAgYW5pbWF0aW9uczogYW5pbWF0aW9ucyxcbiAgICBkdXJhdGlvbjogdGltaW5ncy5kdXJhdGlvbixcbiAgICBkZWxheTogdGltaW5ncy5kZWxheSxcbiAgICBlbmREZWxheTogdGltaW5ncy5lbmREZWxheVxuICB9KTtcbn1cblxuLy8gQ29yZVxuXG52YXIgYWN0aXZlSW5zdGFuY2VzID0gW107XG5cbnZhciBlbmdpbmUgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgcmFmO1xuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgaWYgKCFyYWYgJiYgKCFpc0RvY3VtZW50SGlkZGVuKCkgfHwgIWFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4pICYmIGFjdGl2ZUluc3RhbmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHN0ZXAodCkge1xuICAgIC8vIG1lbW8gb24gYWxnb3JpdGhtIGlzc3VlOlxuICAgIC8vIGRhbmdlcm91cyBpdGVyYXRpb24gb3ZlciBtdXRhYmxlIGBhY3RpdmVJbnN0YW5jZXNgXG4gICAgLy8gKHRoYXQgY29sbGVjdGlvbiBtYXkgYmUgdXBkYXRlZCBmcm9tIHdpdGhpbiBjYWxsYmFja3Mgb2YgYHRpY2tgLWVkIGFuaW1hdGlvbiBpbnN0YW5jZXMpXG4gICAgdmFyIGFjdGl2ZUluc3RhbmNlc0xlbmd0aCA9IGFjdGl2ZUluc3RhbmNlcy5sZW5ndGg7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoKSB7XG4gICAgICB2YXIgYWN0aXZlSW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZXNbaV07XG4gICAgICBpZiAoIWFjdGl2ZUluc3RhbmNlLnBhdXNlZCkge1xuICAgICAgICBhY3RpdmVJbnN0YW5jZS50aWNrKHQpO1xuICAgICAgICBpKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVJbnN0YW5jZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICBhY3RpdmVJbnN0YW5jZXNMZW5ndGgtLTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmFmID0gaSA+IDAgPyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCkgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKCkge1xuICAgIGlmICghYW5pbWUuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbikgeyByZXR1cm47IH1cblxuICAgIGlmIChpc0RvY3VtZW50SGlkZGVuKCkpIHtcbiAgICAgIC8vIHN1c3BlbmQgdGlja3NcbiAgICAgIHJhZiA9IGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgfSBlbHNlIHsgLy8gaXMgYmFjayB0byBhY3RpdmUgdGFiXG4gICAgICAvLyBmaXJzdCBhZGp1c3QgYW5pbWF0aW9ucyB0byBjb25zaWRlciB0aGUgdGltZSB0aGF0IHRpY2tzIHdlcmUgc3VzcGVuZGVkXG4gICAgICBhY3RpdmVJbnN0YW5jZXMuZm9yRWFjaChcbiAgICAgICAgZnVuY3Rpb24gKGluc3RhbmNlKSB7IHJldHVybiBpbnN0YW5jZSAuX29uRG9jdW1lbnRWaXNpYmlsaXR5KCk7IH1cbiAgICAgICk7XG4gICAgICBlbmdpbmUoKTtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gIH1cblxuICByZXR1cm4gcGxheTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGlzRG9jdW1lbnRIaWRkZW4oKSB7XG4gIHJldHVybiAhIWRvY3VtZW50ICYmIGRvY3VtZW50LmhpZGRlbjtcbn1cblxuLy8gUHVibGljIEluc3RhbmNlXG5cbmZ1bmN0aW9uIGFuaW1lKHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cblxuICB2YXIgc3RhcnRUaW1lID0gMCwgbGFzdFRpbWUgPSAwLCBub3cgPSAwO1xuICB2YXIgY2hpbGRyZW4sIGNoaWxkcmVuTGVuZ3RoID0gMDtcbiAgdmFyIHJlc29sdmUgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIG1ha2VQcm9taXNlKGluc3RhbmNlKSB7XG4gICAgdmFyIHByb21pc2UgPSB3aW5kb3cuUHJvbWlzZSAmJiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoX3Jlc29sdmUpIHsgcmV0dXJuIHJlc29sdmUgPSBfcmVzb2x2ZTsgfSk7XG4gICAgaW5zdGFuY2UuZmluaXNoZWQgPSBwcm9taXNlO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdmFyIGluc3RhbmNlID0gY3JlYXRlTmV3SW5zdGFuY2UocGFyYW1zKTtcbiAgdmFyIHByb21pc2UgPSBtYWtlUHJvbWlzZShpbnN0YW5jZSk7XG5cbiAgZnVuY3Rpb24gdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IGluc3RhbmNlLmRpcmVjdGlvbjtcbiAgICBpZiAoZGlyZWN0aW9uICE9PSAnYWx0ZXJuYXRlJykge1xuICAgICAgaW5zdGFuY2UuZGlyZWN0aW9uID0gZGlyZWN0aW9uICE9PSAnbm9ybWFsJyA/ICdub3JtYWwnIDogJ3JldmVyc2UnO1xuICAgIH1cbiAgICBpbnN0YW5jZS5yZXZlcnNlZCA9ICFpbnN0YW5jZS5yZXZlcnNlZDtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gY2hpbGQucmV2ZXJzZWQgPSBpbnN0YW5jZS5yZXZlcnNlZDsgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGp1c3RUaW1lKHRpbWUpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UucmV2ZXJzZWQgPyBpbnN0YW5jZS5kdXJhdGlvbiAtIHRpbWUgOiB0aW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lKCkge1xuICAgIHN0YXJ0VGltZSA9IDA7XG4gICAgbGFzdFRpbWUgPSBhZGp1c3RUaW1lKGluc3RhbmNlLmN1cnJlbnRUaW1lKSAqICgxIC8gYW5pbWUuc3BlZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2Vla0NoaWxkKHRpbWUsIGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkKSB7IGNoaWxkLnNlZWsodGltZSAtIGNoaWxkLnRpbWVsaW5lT2Zmc2V0KTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3luY0luc3RhbmNlQ2hpbGRyZW4odGltZSkge1xuICAgIGlmICghaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHsgc2Vla0NoaWxkKHRpbWUsIGNoaWxkcmVuW2ldKTsgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpJDEgPSBjaGlsZHJlbkxlbmd0aDsgaSQxLS07KSB7IHNlZWtDaGlsZCh0aW1lLCBjaGlsZHJlbltpJDFdKTsgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNUaW1lKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBhbmltYXRpb25zID0gaW5zdGFuY2UuYW5pbWF0aW9ucztcbiAgICB2YXIgYW5pbWF0aW9uc0xlbmd0aCA9IGFuaW1hdGlvbnMubGVuZ3RoO1xuICAgIHdoaWxlIChpIDwgYW5pbWF0aW9uc0xlbmd0aCkge1xuICAgICAgdmFyIGFuaW0gPSBhbmltYXRpb25zW2ldO1xuICAgICAgdmFyIGFuaW1hdGFibGUgPSBhbmltLmFuaW1hdGFibGU7XG4gICAgICB2YXIgdHdlZW5zID0gYW5pbS50d2VlbnM7XG4gICAgICB2YXIgdHdlZW5MZW5ndGggPSB0d2VlbnMubGVuZ3RoIC0gMTtcbiAgICAgIHZhciB0d2VlbiA9IHR3ZWVuc1t0d2Vlbkxlbmd0aF07XG4gICAgICAvLyBPbmx5IGNoZWNrIGZvciBrZXlmcmFtZXMgaWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSB0d2VlblxuICAgICAgaWYgKHR3ZWVuTGVuZ3RoKSB7IHR3ZWVuID0gZmlsdGVyQXJyYXkodHdlZW5zLCBmdW5jdGlvbiAodCkgeyByZXR1cm4gKGluc1RpbWUgPCB0LmVuZCk7IH0pWzBdIHx8IHR3ZWVuOyB9XG4gICAgICB2YXIgZWxhcHNlZCA9IG1pbk1heChpbnNUaW1lIC0gdHdlZW4uc3RhcnQgLSB0d2Vlbi5kZWxheSwgMCwgdHdlZW4uZHVyYXRpb24pIC8gdHdlZW4uZHVyYXRpb247XG4gICAgICB2YXIgZWFzZWQgPSBpc05hTihlbGFwc2VkKSA/IDEgOiB0d2Vlbi5lYXNpbmcoZWxhcHNlZCk7XG4gICAgICB2YXIgc3RyaW5ncyA9IHR3ZWVuLnRvLnN0cmluZ3M7XG4gICAgICB2YXIgcm91bmQgPSB0d2Vlbi5yb3VuZDtcbiAgICAgIHZhciBudW1iZXJzID0gW107XG4gICAgICB2YXIgdG9OdW1iZXJzTGVuZ3RoID0gdHdlZW4udG8ubnVtYmVycy5sZW5ndGg7XG4gICAgICB2YXIgcHJvZ3Jlc3MgPSAodm9pZCAwKTtcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdG9OdW1iZXJzTGVuZ3RoOyBuKyspIHtcbiAgICAgICAgdmFyIHZhbHVlID0gKHZvaWQgMCk7XG4gICAgICAgIHZhciB0b051bWJlciA9IHR3ZWVuLnRvLm51bWJlcnNbbl07XG4gICAgICAgIHZhciBmcm9tTnVtYmVyID0gdHdlZW4uZnJvbS5udW1iZXJzW25dIHx8IDA7XG4gICAgICAgIGlmICghdHdlZW4uaXNQYXRoKSB7XG4gICAgICAgICAgdmFsdWUgPSBmcm9tTnVtYmVyICsgKGVhc2VkICogKHRvTnVtYmVyIC0gZnJvbU51bWJlcikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gZ2V0UGF0aFByb2dyZXNzKHR3ZWVuLnZhbHVlLCBlYXNlZCAqIHRvTnVtYmVyLCB0d2Vlbi5pc1BhdGhUYXJnZXRJbnNpZGVTVkcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb3VuZCkge1xuICAgICAgICAgIGlmICghKHR3ZWVuLmlzQ29sb3IgJiYgbiA+IDIpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUgKiByb3VuZCkgLyByb3VuZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbnVtYmVycy5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1hbnVhbCBBcnJheS5yZWR1Y2UgZm9yIGJldHRlciBwZXJmb3JtYW5jZXNcbiAgICAgIHZhciBzdHJpbmdzTGVuZ3RoID0gc3RyaW5ncy5sZW5ndGg7XG4gICAgICBpZiAoIXN0cmluZ3NMZW5ndGgpIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBudW1iZXJzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBzdHJpbmdzWzBdO1xuICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IHN0cmluZ3NMZW5ndGg7IHMrKykge1xuICAgICAgICAgIHZhciBhID0gc3RyaW5nc1tzXTtcbiAgICAgICAgICB2YXIgYiA9IHN0cmluZ3NbcyArIDFdO1xuICAgICAgICAgIHZhciBuJDEgPSBudW1iZXJzW3NdO1xuICAgICAgICAgIGlmICghaXNOYU4obiQxKSkge1xuICAgICAgICAgICAgaWYgKCFiKSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzICs9IG4kMSArICcgJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzICs9IG4kMSArIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRQcm9ncmVzc1ZhbHVlW2FuaW0udHlwZV0oYW5pbWF0YWJsZS50YXJnZXQsIGFuaW0ucHJvcGVydHksIHByb2dyZXNzLCBhbmltYXRhYmxlLnRyYW5zZm9ybXMpO1xuICAgICAgYW5pbS5jdXJyZW50VmFsdWUgPSBwcm9ncmVzcztcbiAgICAgIGkrKztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRDYWxsYmFjayhjYikge1xuICAgIGlmIChpbnN0YW5jZVtjYl0gJiYgIWluc3RhbmNlLnBhc3NUaHJvdWdoKSB7IGluc3RhbmNlW2NiXShpbnN0YW5jZSk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvdW50SXRlcmF0aW9uKCkge1xuICAgIGlmIChpbnN0YW5jZS5yZW1haW5pbmcgJiYgaW5zdGFuY2UucmVtYWluaW5nICE9PSB0cnVlKSB7XG4gICAgICBpbnN0YW5jZS5yZW1haW5pbmctLTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRJbnN0YW5jZVByb2dyZXNzKGVuZ2luZVRpbWUpIHtcbiAgICB2YXIgaW5zRHVyYXRpb24gPSBpbnN0YW5jZS5kdXJhdGlvbjtcbiAgICB2YXIgaW5zRGVsYXkgPSBpbnN0YW5jZS5kZWxheTtcbiAgICB2YXIgaW5zRW5kRGVsYXkgPSBpbnNEdXJhdGlvbiAtIGluc3RhbmNlLmVuZERlbGF5O1xuICAgIHZhciBpbnNUaW1lID0gYWRqdXN0VGltZShlbmdpbmVUaW1lKTtcbiAgICBpbnN0YW5jZS5wcm9ncmVzcyA9IG1pbk1heCgoaW5zVGltZSAvIGluc0R1cmF0aW9uKSAqIDEwMCwgMCwgMTAwKTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2sgPSBpbnNUaW1lIDwgaW5zdGFuY2UuY3VycmVudFRpbWU7XG4gICAgaWYgKGNoaWxkcmVuKSB7IHN5bmNJbnN0YW5jZUNoaWxkcmVuKGluc1RpbWUpOyB9XG4gICAgaWYgKCFpbnN0YW5jZS5iZWdhbiAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgIGluc3RhbmNlLmJlZ2FuID0gdHJ1ZTtcbiAgICAgIHNldENhbGxiYWNrKCdiZWdpbicpO1xuICAgIH1cbiAgICBpZiAoIWluc3RhbmNlLmxvb3BCZWdhbiAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IHRydWU7XG4gICAgICBzZXRDYWxsYmFjaygnbG9vcEJlZ2luJyk7XG4gICAgfVxuICAgIGlmIChpbnNUaW1lIDw9IGluc0RlbGF5ICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lICE9PSAwKSB7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoMCk7XG4gICAgfVxuICAgIGlmICgoaW5zVGltZSA+PSBpbnNFbmREZWxheSAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSAhPT0gaW5zRHVyYXRpb24pIHx8ICFpbnNEdXJhdGlvbikge1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc0R1cmF0aW9uKTtcbiAgICB9XG4gICAgaWYgKGluc1RpbWUgPiBpbnNEZWxheSAmJiBpbnNUaW1lIDwgaW5zRW5kRGVsYXkpIHtcbiAgICAgIGlmICghaW5zdGFuY2UuY2hhbmdlQmVnYW4pIHtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZUJlZ2luJyk7XG4gICAgICB9XG4gICAgICBzZXRDYWxsYmFjaygnY2hhbmdlJyk7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zVGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbnN0YW5jZS5jaGFuZ2VCZWdhbikge1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IGZhbHNlO1xuICAgICAgICBzZXRDYWxsYmFjaygnY2hhbmdlQ29tcGxldGUnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UuY3VycmVudFRpbWUgPSBtaW5NYXgoaW5zVGltZSwgMCwgaW5zRHVyYXRpb24pO1xuICAgIGlmIChpbnN0YW5jZS5iZWdhbikgeyBzZXRDYWxsYmFjaygndXBkYXRlJyk7IH1cbiAgICBpZiAoZW5naW5lVGltZSA+PSBpbnNEdXJhdGlvbikge1xuICAgICAgbGFzdFRpbWUgPSAwO1xuICAgICAgY291bnRJdGVyYXRpb24oKTtcbiAgICAgIGlmICghaW5zdGFuY2UucmVtYWluaW5nKSB7XG4gICAgICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIGlmICghaW5zdGFuY2UuY29tcGxldGVkKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICBzZXRDYWxsYmFjaygnbG9vcENvbXBsZXRlJyk7XG4gICAgICAgICAgc2V0Q2FsbGJhY2soJ2NvbXBsZXRlJyk7XG4gICAgICAgICAgaWYgKCFpbnN0YW5jZS5wYXNzVGhyb3VnaCAmJiAnUHJvbWlzZScgaW4gd2luZG93KSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICBwcm9taXNlID0gbWFrZVByb21pc2UoaW5zdGFuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnRUaW1lID0gbm93O1xuICAgICAgICBzZXRDYWxsYmFjaygnbG9vcENvbXBsZXRlJyk7XG4gICAgICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5zdGFuY2UuZGlyZWN0aW9uID09PSAnYWx0ZXJuYXRlJykge1xuICAgICAgICAgIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbnN0YW5jZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkaXJlY3Rpb24gPSBpbnN0YW5jZS5kaXJlY3Rpb247XG4gICAgaW5zdGFuY2UucGFzc1Rocm91Z2ggPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jdXJyZW50VGltZSA9IDA7XG4gICAgaW5zdGFuY2UucHJvZ3Jlc3MgPSAwO1xuICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgaW5zdGFuY2UuYmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNoYW5nZUNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLnJldmVyc2VQbGF5YmFjayA9IGZhbHNlO1xuICAgIGluc3RhbmNlLnJldmVyc2VkID0gZGlyZWN0aW9uID09PSAncmV2ZXJzZSc7XG4gICAgaW5zdGFuY2UucmVtYWluaW5nID0gaW5zdGFuY2UubG9vcDtcbiAgICBjaGlsZHJlbiA9IGluc3RhbmNlLmNoaWxkcmVuO1xuICAgIGNoaWxkcmVuTGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbkxlbmd0aDsgaS0tOykgeyBpbnN0YW5jZS5jaGlsZHJlbltpXS5yZXNldCgpOyB9XG4gICAgaWYgKGluc3RhbmNlLnJldmVyc2VkICYmIGluc3RhbmNlLmxvb3AgIT09IHRydWUgfHwgKGRpcmVjdGlvbiA9PT0gJ2FsdGVybmF0ZScgJiYgaW5zdGFuY2UubG9vcCA9PT0gMSkpIHsgaW5zdGFuY2UucmVtYWluaW5nKys7IH1cbiAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zdGFuY2UucmV2ZXJzZWQgPyBpbnN0YW5jZS5kdXJhdGlvbiA6IDApO1xuICB9O1xuXG4gIC8vIGludGVybmFsIG1ldGhvZCAoZm9yIGVuZ2luZSkgdG8gYWRqdXN0IGFuaW1hdGlvbiB0aW1pbmdzIGJlZm9yZSByZXN0b3JpbmcgZW5naW5lIHRpY2tzIChyQUYpXG4gIGluc3RhbmNlLl9vbkRvY3VtZW50VmlzaWJpbGl0eSA9IHJlc2V0VGltZTtcblxuICAvLyBTZXQgVmFsdWUgaGVscGVyXG5cbiAgaW5zdGFuY2Uuc2V0ID0gZnVuY3Rpb24odGFyZ2V0cywgcHJvcGVydGllcykge1xuICAgIHNldFRhcmdldHNWYWx1ZSh0YXJnZXRzLCBwcm9wZXJ0aWVzKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG5cbiAgaW5zdGFuY2UudGljayA9IGZ1bmN0aW9uKHQpIHtcbiAgICBub3cgPSB0O1xuICAgIGlmICghc3RhcnRUaW1lKSB7IHN0YXJ0VGltZSA9IG5vdzsgfVxuICAgIHNldEluc3RhbmNlUHJvZ3Jlc3MoKG5vdyArIChsYXN0VGltZSAtIHN0YXJ0VGltZSkpICogYW5pbWUuc3BlZWQpO1xuICB9O1xuXG4gIGluc3RhbmNlLnNlZWsgPSBmdW5jdGlvbih0aW1lKSB7XG4gICAgc2V0SW5zdGFuY2VQcm9ncmVzcyhhZGp1c3RUaW1lKHRpbWUpKTtcbiAgfTtcblxuICBpbnN0YW5jZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgcmVzZXRUaW1lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghaW5zdGFuY2UucGF1c2VkKSB7IHJldHVybjsgfVxuICAgIGlmIChpbnN0YW5jZS5jb21wbGV0ZWQpIHsgaW5zdGFuY2UucmVzZXQoKTsgfVxuICAgIGluc3RhbmNlLnBhdXNlZCA9IGZhbHNlO1xuICAgIGFjdGl2ZUluc3RhbmNlcy5wdXNoKGluc3RhbmNlKTtcbiAgICByZXNldFRpbWUoKTtcbiAgICBlbmdpbmUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXZlcnNlID0gZnVuY3Rpb24oKSB7XG4gICAgdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKTtcbiAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSBpbnN0YW5jZS5yZXZlcnNlZCA/IGZhbHNlIDogdHJ1ZTtcbiAgICByZXNldFRpbWUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgaW5zdGFuY2UucmVzZXQoKTtcbiAgICBpbnN0YW5jZS5wbGF5KCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVtb3ZlID0gZnVuY3Rpb24odGFyZ2V0cykge1xuICAgIHZhciB0YXJnZXRzQXJyYXkgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSh0YXJnZXRzQXJyYXksIGluc3RhbmNlKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXNldCgpO1xuXG4gIGlmIChpbnN0YW5jZS5hdXRvcGxheSkgeyBpbnN0YW5jZS5wbGF5KCk7IH1cblxuICByZXR1cm4gaW5zdGFuY2U7XG5cbn1cblxuLy8gUmVtb3ZlIHRhcmdldHMgZnJvbSBhbmltYXRpb25cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgYW5pbWF0aW9ucykge1xuICBmb3IgKHZhciBhID0gYW5pbWF0aW9ucy5sZW5ndGg7IGEtLTspIHtcbiAgICBpZiAoYXJyYXlDb250YWlucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnNbYV0uYW5pbWF0YWJsZS50YXJnZXQpKSB7XG4gICAgICBhbmltYXRpb25zLnNwbGljZShhLCAxKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSh0YXJnZXRzQXJyYXksIGluc3RhbmNlKSB7XG4gIHZhciBhbmltYXRpb25zID0gaW5zdGFuY2UuYW5pbWF0aW9ucztcbiAgdmFyIGNoaWxkcmVuID0gaW5zdGFuY2UuY2hpbGRyZW47XG4gIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnMpO1xuICBmb3IgKHZhciBjID0gY2hpbGRyZW4ubGVuZ3RoOyBjLS07KSB7XG4gICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bY107XG4gICAgdmFyIGNoaWxkQW5pbWF0aW9ucyA9IGNoaWxkLmFuaW1hdGlvbnM7XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgY2hpbGRBbmltYXRpb25zKTtcbiAgICBpZiAoIWNoaWxkQW5pbWF0aW9ucy5sZW5ndGggJiYgIWNoaWxkLmNoaWxkcmVuLmxlbmd0aCkgeyBjaGlsZHJlbi5zcGxpY2UoYywgMSk7IH1cbiAgfVxuICBpZiAoIWFuaW1hdGlvbnMubGVuZ3RoICYmICFjaGlsZHJlbi5sZW5ndGgpIHsgaW5zdGFuY2UucGF1c2UoKTsgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVUYXJnZXRzRnJvbUFjdGl2ZUluc3RhbmNlcyh0YXJnZXRzKSB7XG4gIHZhciB0YXJnZXRzQXJyYXkgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gIGZvciAodmFyIGkgPSBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgdmFyIGluc3RhbmNlID0gYWN0aXZlSW5zdGFuY2VzW2ldO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSk7XG4gIH1cbn1cblxuLy8gU3RhZ2dlciBoZWxwZXJzXG5cbmZ1bmN0aW9uIHN0YWdnZXIodmFsLCBwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG4gIHZhciBkaXJlY3Rpb24gPSBwYXJhbXMuZGlyZWN0aW9uIHx8ICdub3JtYWwnO1xuICB2YXIgZWFzaW5nID0gcGFyYW1zLmVhc2luZyA/IHBhcnNlRWFzaW5ncyhwYXJhbXMuZWFzaW5nKSA6IG51bGw7XG4gIHZhciBncmlkID0gcGFyYW1zLmdyaWQ7XG4gIHZhciBheGlzID0gcGFyYW1zLmF4aXM7XG4gIHZhciBmcm9tSW5kZXggPSBwYXJhbXMuZnJvbSB8fCAwO1xuICB2YXIgZnJvbUZpcnN0ID0gZnJvbUluZGV4ID09PSAnZmlyc3QnO1xuICB2YXIgZnJvbUNlbnRlciA9IGZyb21JbmRleCA9PT0gJ2NlbnRlcic7XG4gIHZhciBmcm9tTGFzdCA9IGZyb21JbmRleCA9PT0gJ2xhc3QnO1xuICB2YXIgaXNSYW5nZSA9IGlzLmFycih2YWwpO1xuICB2YXIgdmFsMSA9IGlzUmFuZ2UgPyBwYXJzZUZsb2F0KHZhbFswXSkgOiBwYXJzZUZsb2F0KHZhbCk7XG4gIHZhciB2YWwyID0gaXNSYW5nZSA/IHBhcnNlRmxvYXQodmFsWzFdKSA6IDA7XG4gIHZhciB1bml0ID0gZ2V0VW5pdChpc1JhbmdlID8gdmFsWzFdIDogdmFsKSB8fCAwO1xuICB2YXIgc3RhcnQgPSBwYXJhbXMuc3RhcnQgfHwgMCArIChpc1JhbmdlID8gdmFsMSA6IDApO1xuICB2YXIgdmFsdWVzID0gW107XG4gIHZhciBtYXhWYWx1ZSA9IDA7XG4gIHJldHVybiBmdW5jdGlvbiAoZWwsIGksIHQpIHtcbiAgICBpZiAoZnJvbUZpcnN0KSB7IGZyb21JbmRleCA9IDA7IH1cbiAgICBpZiAoZnJvbUNlbnRlcikgeyBmcm9tSW5kZXggPSAodCAtIDEpIC8gMjsgfVxuICAgIGlmIChmcm9tTGFzdCkgeyBmcm9tSW5kZXggPSB0IC0gMTsgfVxuICAgIGlmICghdmFsdWVzLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHQ7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKCFncmlkKSB7XG4gICAgICAgICAgdmFsdWVzLnB1c2goTWF0aC5hYnMoZnJvbUluZGV4IC0gaW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZnJvbVggPSAhZnJvbUNlbnRlciA/IGZyb21JbmRleCVncmlkWzBdIDogKGdyaWRbMF0tMSkvMjtcbiAgICAgICAgICB2YXIgZnJvbVkgPSAhZnJvbUNlbnRlciA/IE1hdGguZmxvb3IoZnJvbUluZGV4L2dyaWRbMF0pIDogKGdyaWRbMV0tMSkvMjtcbiAgICAgICAgICB2YXIgdG9YID0gaW5kZXglZ3JpZFswXTtcbiAgICAgICAgICB2YXIgdG9ZID0gTWF0aC5mbG9vcihpbmRleC9ncmlkWzBdKTtcbiAgICAgICAgICB2YXIgZGlzdGFuY2VYID0gZnJvbVggLSB0b1g7XG4gICAgICAgICAgdmFyIGRpc3RhbmNlWSA9IGZyb21ZIC0gdG9ZO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IE1hdGguc3FydChkaXN0YW5jZVggKiBkaXN0YW5jZVggKyBkaXN0YW5jZVkgKiBkaXN0YW5jZVkpO1xuICAgICAgICAgIGlmIChheGlzID09PSAneCcpIHsgdmFsdWUgPSAtZGlzdGFuY2VYOyB9XG4gICAgICAgICAgaWYgKGF4aXMgPT09ICd5JykgeyB2YWx1ZSA9IC1kaXN0YW5jZVk7IH1cbiAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4VmFsdWUgPSBNYXRoLm1heC5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGVhc2luZykgeyB2YWx1ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGVhc2luZyh2YWwgLyBtYXhWYWx1ZSkgKiBtYXhWYWx1ZTsgfSk7IH1cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdyZXZlcnNlJykgeyB2YWx1ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGF4aXMgPyAodmFsIDwgMCkgPyB2YWwgKiAtMSA6IC12YWwgOiBNYXRoLmFicyhtYXhWYWx1ZSAtIHZhbCk7IH0pOyB9XG4gICAgfVxuICAgIHZhciBzcGFjaW5nID0gaXNSYW5nZSA/ICh2YWwyIC0gdmFsMSkgLyBtYXhWYWx1ZSA6IHZhbDE7XG4gICAgcmV0dXJuIHN0YXJ0ICsgKHNwYWNpbmcgKiAoTWF0aC5yb3VuZCh2YWx1ZXNbaV0gKiAxMDApIC8gMTAwKSkgKyB1bml0O1xuICB9XG59XG5cbi8vIFRpbWVsaW5lXG5cbmZ1bmN0aW9uIHRpbWVsaW5lKHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cbiAgdmFyIHRsID0gYW5pbWUocGFyYW1zKTtcbiAgdGwuZHVyYXRpb24gPSAwO1xuICB0bC5hZGQgPSBmdW5jdGlvbihpbnN0YW5jZVBhcmFtcywgdGltZWxpbmVPZmZzZXQpIHtcbiAgICB2YXIgdGxJbmRleCA9IGFjdGl2ZUluc3RhbmNlcy5pbmRleE9mKHRsKTtcbiAgICB2YXIgY2hpbGRyZW4gPSB0bC5jaGlsZHJlbjtcbiAgICBpZiAodGxJbmRleCA+IC0xKSB7IGFjdGl2ZUluc3RhbmNlcy5zcGxpY2UodGxJbmRleCwgMSk7IH1cbiAgICBmdW5jdGlvbiBwYXNzVGhyb3VnaChpbnMpIHsgaW5zLnBhc3NUaHJvdWdoID0gdHJ1ZTsgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsgcGFzc1Rocm91Z2goY2hpbGRyZW5baV0pOyB9XG4gICAgdmFyIGluc1BhcmFtcyA9IG1lcmdlT2JqZWN0cyhpbnN0YW5jZVBhcmFtcywgcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRUd2VlblNldHRpbmdzLCBwYXJhbXMpKTtcbiAgICBpbnNQYXJhbXMudGFyZ2V0cyA9IGluc1BhcmFtcy50YXJnZXRzIHx8IHBhcmFtcy50YXJnZXRzO1xuICAgIHZhciB0bER1cmF0aW9uID0gdGwuZHVyYXRpb247XG4gICAgaW5zUGFyYW1zLmF1dG9wbGF5ID0gZmFsc2U7XG4gICAgaW5zUGFyYW1zLmRpcmVjdGlvbiA9IHRsLmRpcmVjdGlvbjtcbiAgICBpbnNQYXJhbXMudGltZWxpbmVPZmZzZXQgPSBpcy51bmQodGltZWxpbmVPZmZzZXQpID8gdGxEdXJhdGlvbiA6IGdldFJlbGF0aXZlVmFsdWUodGltZWxpbmVPZmZzZXQsIHRsRHVyYXRpb24pO1xuICAgIHBhc3NUaHJvdWdoKHRsKTtcbiAgICB0bC5zZWVrKGluc1BhcmFtcy50aW1lbGluZU9mZnNldCk7XG4gICAgdmFyIGlucyA9IGFuaW1lKGluc1BhcmFtcyk7XG4gICAgcGFzc1Rocm91Z2goaW5zKTtcbiAgICBjaGlsZHJlbi5wdXNoKGlucyk7XG4gICAgdmFyIHRpbWluZ3MgPSBnZXRJbnN0YW5jZVRpbWluZ3MoY2hpbGRyZW4sIHBhcmFtcyk7XG4gICAgdGwuZGVsYXkgPSB0aW1pbmdzLmRlbGF5O1xuICAgIHRsLmVuZERlbGF5ID0gdGltaW5ncy5lbmREZWxheTtcbiAgICB0bC5kdXJhdGlvbiA9IHRpbWluZ3MuZHVyYXRpb247XG4gICAgdGwuc2VlaygwKTtcbiAgICB0bC5yZXNldCgpO1xuICAgIGlmICh0bC5hdXRvcGxheSkgeyB0bC5wbGF5KCk7IH1cbiAgICByZXR1cm4gdGw7XG4gIH07XG4gIHJldHVybiB0bDtcbn1cblxuYW5pbWUudmVyc2lvbiA9ICczLjIuMSc7XG5hbmltZS5zcGVlZCA9IDE7XG4vLyBUT0RPOiNyZXZpZXc6IG5hbWluZywgZG9jdW1lbnRhdGlvblxuYW5pbWUuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbiA9IHRydWU7XG5hbmltZS5ydW5uaW5nID0gYWN0aXZlSW5zdGFuY2VzO1xuYW5pbWUucmVtb3ZlID0gcmVtb3ZlVGFyZ2V0c0Zyb21BY3RpdmVJbnN0YW5jZXM7XG5hbmltZS5nZXQgPSBnZXRPcmlnaW5hbFRhcmdldFZhbHVlO1xuYW5pbWUuc2V0ID0gc2V0VGFyZ2V0c1ZhbHVlO1xuYW5pbWUuY29udmVydFB4ID0gY29udmVydFB4VG9Vbml0O1xuYW5pbWUucGF0aCA9IGdldFBhdGg7XG5hbmltZS5zZXREYXNob2Zmc2V0ID0gc2V0RGFzaG9mZnNldDtcbmFuaW1lLnN0YWdnZXIgPSBzdGFnZ2VyO1xuYW5pbWUudGltZWxpbmUgPSB0aW1lbGluZTtcbmFuaW1lLmVhc2luZyA9IHBhcnNlRWFzaW5ncztcbmFuaW1lLnBlbm5lciA9IHBlbm5lcjtcbmFuaW1lLnJhbmRvbSA9IGZ1bmN0aW9uIChtaW4sIG1heCkgeyByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsgfTtcblxuZXhwb3J0IGRlZmF1bHQgYW5pbWU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/animejs/lib/anime.es.js\n");

/***/ }),

/***/ "./src/autocomplete.ts":
/*!*****************************!*\
  !*** ./src/autocomplete.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Autocomplete = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    data: [],\n    onAutocomplete: null,\n    dropdownOptions: {\n        // Default dropdown options\n        autoFocus: false,\n        closeOnClick: false,\n        coverTrigger: false\n    },\n    minLength: 1,\n    isMultiSelect: false,\n    onSearch: function (text, autocomplete) {\n        const filteredData = autocomplete.options.data.filter(item => {\n            return Object.keys(item)\n                .map(key => item[key].toString().toLowerCase().indexOf(text.toLowerCase()) >= 0)\n                .some(isMatch => isMatch);\n        });\n        autocomplete.setMenuItems(filteredData);\n    },\n    maxDropDownHeight: '300px',\n    allowUnsafeHTML: false\n};\nclass Autocomplete extends component_1.Component {\n    constructor(el, options) {\n        super(Autocomplete, el, options);\n        this._handleInputBlur = () => {\n            if (!this._mousedown) {\n                this.close();\n                this._resetAutocomplete();\n            }\n        };\n        this._handleInputKeyupAndFocus = (e) => {\n            if (e.type === 'keyup')\n                Autocomplete._keydown = false;\n            this.count = 0;\n            const actualValue = this.el.value.toLowerCase();\n            // Don't capture enter or arrow key usage.\n            if (global_1.M.keys.ENTER.includes(e.key) || global_1.M.keys.ARROW_UP.includes(e.key) || global_1.M.keys.ARROW_DOWN.includes(e.key))\n                return;\n            // Check if the input isn't empty\n            // Check if focus triggered by tab\n            if (this.oldVal !== actualValue && (global_1.M.tabPressed || e.type !== 'focus')) {\n                this.open();\n            }\n            // Value has changed!\n            if (this.oldVal !== actualValue) {\n                this._setStatusLoading();\n                this.options.onSearch(this.el.value, this);\n            }\n            // Reset Single-Select when Input cleared\n            if (!this.options.isMultiSelect && this.el.value.length === 0) {\n                this.selectedValues = [];\n                this._triggerChanged();\n            }\n            this.oldVal = actualValue;\n        };\n        this._handleInputKeydown = (e) => {\n            var _a, _b;\n            Autocomplete._keydown = true;\n            // Arrow keys and enter key usage\n            const numItems = this.container.querySelectorAll('li').length;\n            // select element on Enter\n            if (global_1.M.keys.ENTER.includes(e.key) && this.activeIndex >= 0) {\n                const liElement = this.container.querySelectorAll('li')[this.activeIndex];\n                if (liElement) {\n                    this.selectOption(liElement.getAttribute('data-id'));\n                    e.preventDefault();\n                }\n                return;\n            }\n            // Capture up and down key\n            if (global_1.M.keys.ARROW_UP.includes(e.key) || global_1.M.keys.ARROW_DOWN.includes(e.key)) {\n                e.preventDefault();\n                if (global_1.M.keys.ARROW_UP.includes(e.key) && this.activeIndex > 0)\n                    this.activeIndex--;\n                if (global_1.M.keys.ARROW_DOWN.includes(e.key) && this.activeIndex < numItems - 1)\n                    this.activeIndex++;\n                (_a = this.$active) === null || _a === void 0 ? void 0 : _a.classList.remove('active');\n                if (this.activeIndex >= 0) {\n                    this.$active = this.container.querySelectorAll('li')[this.activeIndex];\n                    (_b = this.$active) === null || _b === void 0 ? void 0 : _b.classList.add('active');\n                    // Focus selected\n                    this.container.children[this.activeIndex].scrollIntoView({\n                        behavior: 'smooth',\n                        block: 'nearest',\n                        inline: 'nearest'\n                    });\n                }\n            }\n        };\n        this._handleInputClick = () => {\n            this.open();\n        };\n        this._handleContainerMousedownAndTouchstart = () => {\n            this._mousedown = true;\n        };\n        this._handleContainerMouseupAndTouchend = () => {\n            this._mousedown = false;\n        };\n        this.el.M_Autocomplete = this;\n        this.options = Object.assign(Object.assign({}, Autocomplete.defaults), options);\n        this.isOpen = false;\n        this.count = 0;\n        this.activeIndex = -1;\n        this.oldVal;\n        this.selectedValues = [];\n        this.menuItems = [];\n        this.$active = null;\n        this._mousedown = false;\n        this._setupDropdown();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = el.jquery ? el[0] : el;\n        return domElem.M_Autocomplete;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._removeDropdown();\n        this.el.M_Autocomplete = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('blur', this._handleInputBlur);\n        this.el.addEventListener('keyup', this._handleInputKeyupAndFocus);\n        this.el.addEventListener('focus', this._handleInputKeyupAndFocus);\n        this.el.addEventListener('keydown', this._handleInputKeydown);\n        this.el.addEventListener('click', this._handleInputClick);\n        this.container.addEventListener('mousedown', this._handleContainerMousedownAndTouchstart);\n        this.container.addEventListener('mouseup', this._handleContainerMouseupAndTouchend);\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.container.addEventListener('touchstart', this._handleContainerMousedownAndTouchstart);\n            this.container.addEventListener('touchend', this._handleContainerMouseupAndTouchend);\n        }\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('blur', this._handleInputBlur);\n        this.el.removeEventListener('keyup', this._handleInputKeyupAndFocus);\n        this.el.removeEventListener('focus', this._handleInputKeyupAndFocus);\n        this.el.removeEventListener('keydown', this._handleInputKeydown);\n        this.el.removeEventListener('click', this._handleInputClick);\n        this.container.removeEventListener('mousedown', this._handleContainerMousedownAndTouchstart);\n        this.container.removeEventListener('mouseup', this._handleContainerMouseupAndTouchend);\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.container.removeEventListener('touchstart', this._handleContainerMousedownAndTouchstart);\n            this.container.removeEventListener('touchend', this._handleContainerMouseupAndTouchend);\n        }\n    }\n    _setupDropdown() {\n        this.container = document.createElement('ul');\n        this.container.style.maxHeight = this.options.maxDropDownHeight;\n        this.container.id = `autocomplete-options-${global_1.M.guid()}`;\n        this.container.classList.add('autocomplete-content', 'dropdown-content');\n        this.el.setAttribute('data-target', this.container.id);\n        // ! Issue in Component Dropdown: _placeDropdown moves dom-position\n        this.el.parentElement.appendChild(this.container);\n        // Initialize dropdown\n        let dropdownOptions = Object.assign(Object.assign({}, Autocomplete.defaults.dropdownOptions), this.options.dropdownOptions);\n        let userOnItemClick = dropdownOptions.onItemClick;\n        // Ensuring the select Option call when user passes custom onItemClick function to dropdown\n        dropdownOptions.onItemClick = (li) => {\n            if (!li)\n                return;\n            const entryID = li.getAttribute('data-id');\n            this.selectOption(entryID);\n            // Handle user declared onItemClick if needed\n            if (userOnItemClick && typeof userOnItemClick === 'function')\n                userOnItemClick.call(this.dropdown, this.el);\n        };\n        this.dropdown = global_1.M.Dropdown.init(this.el, dropdownOptions);\n        // ! Workaround for Label: move label up again\n        // TODO: Just use PopperJS in future!\n        const label = this.el.parentElement.querySelector('label');\n        if (label)\n            this.el.after(label);\n        // Sketchy removal of dropdown click handler\n        this.el.removeEventListener('click', this.dropdown._handleClick);\n        // Set Value if already set in HTML\n        if (this.el.value)\n            this.selectOption(this.el.value);\n        // Add StatusInfo\n        const div = document.createElement('div');\n        div.classList.add('status-info');\n        div.setAttribute('style', 'position: absolute;right:0;top:0;');\n        this.el.parentElement.appendChild(div);\n        this._updateSelectedInfo();\n    }\n    _removeDropdown() {\n        this.container.parentNode.removeChild(this.container);\n    }\n    _resetCurrentElementPosition() {\n        var _a;\n        this.activeIndex = -1;\n        (_a = this.$active) === null || _a === void 0 ? void 0 : _a.classList.remove('active');\n    }\n    _resetAutocomplete() {\n        this.container.replaceChildren();\n        this._resetCurrentElementPosition();\n        this.oldVal = null;\n        this.isOpen = false;\n        this._mousedown = false;\n    }\n    _highlightPartialText(input, label) {\n        const start = label.toLowerCase().indexOf('' + input.toLowerCase() + '');\n        const end = start + input.length - 1;\n        //custom filters may return results where the string does not match any part\n        if (start == -1 || end == -1) {\n            return [label, '', ''];\n        }\n        return [label.slice(0, start), label.slice(start, end + 1), label.slice(end + 1)];\n    }\n    _createDropdownItem(entry) {\n        const item = document.createElement('li');\n        item.setAttribute('data-id', entry.id);\n        item.setAttribute('style', 'display:grid; grid-auto-flow: column; user-select: none; align-items: center;');\n        // Checkbox\n        if (this.options.isMultiSelect) {\n            item.innerHTML = `\n        <div class=\"item-selection\" style=\"text-align:center;\">\n        <input type=\"checkbox\"${this.selectedValues.some((sel) => sel.id === entry.id) ? ' checked=\"checked\"' : ''}><span style=\"padding-left:21px;\"></span>\n      </div>`;\n        }\n        // Image\n        if (entry.image) {\n            const img = document.createElement('img');\n            img.classList.add('circle');\n            img.src = entry.image;\n            item.appendChild(img);\n        }\n        // Text\n        const inputText = this.el.value.toLowerCase();\n        const parts = this._highlightPartialText(inputText, (entry.text || entry.id).toString());\n        const div = document.createElement('div');\n        div.setAttribute('style', 'line-height:1.2;font-weight:500;');\n        if (this.options.allowUnsafeHTML) {\n            div.innerHTML = parts[0] + '<span class=\"highlight\">' + parts[1] + '</span>' + parts[2];\n        }\n        else {\n            div.appendChild(document.createTextNode(parts[0]));\n            if (parts[1]) {\n                const highlight = document.createElement('span');\n                highlight.textContent = parts[1];\n                highlight.classList.add('highlight');\n                div.appendChild(highlight);\n                div.appendChild(document.createTextNode(parts[2]));\n            }\n        }\n        const itemText = document.createElement('div');\n        itemText.classList.add('item-text');\n        itemText.setAttribute('style', 'padding:5px;overflow:hidden;');\n        item.appendChild(itemText);\n        item.querySelector('.item-text').appendChild(div);\n        // Description\n        if (typeof entry.description === 'string' || (typeof entry.description === 'number' && !isNaN(entry.description))) {\n            const description = document.createElement('small');\n            description.setAttribute('style', 'line-height:1.3;color:grey;white-space:nowrap;text-overflow:ellipsis;display:block;width:90%;overflow:hidden;');\n            description.innerText = entry.description;\n            item.querySelector('.item-text').appendChild(description);\n        }\n        // Set Grid\n        const getGridConfig = () => {\n            if (this.options.isMultiSelect) {\n                if (entry.image)\n                    return '40px min-content auto'; // cb-img-txt\n                return '40px auto'; // cb-txt\n            }\n            if (entry.image)\n                return 'min-content auto'; // img-txt\n            return 'auto'; // txt\n        };\n        item.style.gridTemplateColumns = getGridConfig();\n        return item;\n    }\n    _renderDropdown() {\n        this._resetAutocomplete();\n        // Check if Data is empty\n        if (this.menuItems.length === 0) {\n            this.menuItems = this.selectedValues; // Show selected Items\n        }\n        for (let i = 0; i < this.menuItems.length; i++) {\n            const item = this._createDropdownItem(this.menuItems[i]);\n            this.container.append(item);\n        }\n    }\n    _setStatusLoading() {\n        this.el.parentElement.querySelector('.status-info').innerHTML = `<div style=\"height:100%;width:50px;\"><svg version=\"1.1\" id=\"L4\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\">\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"6\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.1\"/></circle>\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"26\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.2\"/></circle>\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"46\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\"  begin=\"0.3\"/></circle>\n  </svg></div>`;\n    }\n    _updateSelectedInfo() {\n        const statusElement = this.el.parentElement.querySelector('.status-info');\n        if (statusElement) {\n            if (this.options.isMultiSelect)\n                statusElement.innerHTML = this.selectedValues.length.toString();\n            else\n                statusElement.innerHTML = '';\n        }\n    }\n    _refreshInputText() {\n        if (this.selectedValues.length === 1) {\n            const entry = this.selectedValues[0];\n            this.el.value = entry.text || entry.id; // Write Text to Input\n        }\n    }\n    _triggerChanged() {\n        this.el.dispatchEvent(new Event('change'));\n        // Trigger Autocomplete Event\n        if (typeof this.options.onAutocomplete === 'function')\n            this.options.onAutocomplete.call(this, this.selectedValues);\n    }\n    open() {\n        const inputText = this.el.value.toLowerCase();\n        this._resetAutocomplete();\n        if (inputText.length >= this.options.minLength) {\n            this.isOpen = true;\n            this._renderDropdown();\n        }\n        // Open dropdown\n        if (!this.dropdown.isOpen) {\n            setTimeout(() => {\n                this.dropdown.open();\n            }, 100);\n        }\n        else\n            this.dropdown.recalculateDimensions(); // Recalculate dropdown when its already open\n    }\n    close() {\n        this.dropdown.close();\n    }\n    setMenuItems(menuItems) {\n        this.menuItems = menuItems;\n        this.open();\n        this._updateSelectedInfo();\n    }\n    setValues(entries) {\n        this.selectedValues = entries;\n        this._updateSelectedInfo();\n        if (!this.options.isMultiSelect) {\n            this._refreshInputText();\n        }\n        this._triggerChanged();\n    }\n    selectOption(id) {\n        const entry = this.menuItems.find((item) => item.id == id);\n        if (!entry)\n            return;\n        // Toggle Checkbox\n        const li = this.container.querySelector('li[data-id=\"' + id + '\"]');\n        if (!li)\n            return;\n        if (this.options.isMultiSelect) {\n            const checkbox = li.querySelector('input[type=\"checkbox\"]');\n            checkbox.checked = !checkbox.checked;\n            if (checkbox.checked)\n                this.selectedValues.push(entry);\n            else\n                this.selectedValues = this.selectedValues.filter((selectedEntry) => selectedEntry.id !== entry.id);\n            this.el.focus();\n        }\n        else {\n            // Single-Select\n            this.selectedValues = [entry];\n            this._refreshInputText();\n            this._resetAutocomplete();\n            this.close();\n        }\n        this._updateSelectedInfo();\n        this._triggerChanged();\n    }\n}\nexports.Autocomplete = Autocomplete;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b21wbGV0ZS50cz9kZWZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuaW1wb3J0IHsgRHJvcGRvd24gfSBmcm9tIFwiLi9kcm9wZG93blwiO1xuXG5sZXQgX2RlZmF1bHRzID0ge1xuICBkYXRhOiBbXSwgLy8gQXV0b2NvbXBsZXRlIGRhdGEgc2V0XG4gIG9uQXV0b2NvbXBsZXRlOiBudWxsLCAvLyBDYWxsYmFjayBmb3Igd2hlbiBhdXRvY29tcGxldGVkXG4gIGRyb3Bkb3duT3B0aW9uczoge1xuICAgIC8vIERlZmF1bHQgZHJvcGRvd24gb3B0aW9uc1xuICAgIGF1dG9Gb2N1czogZmFsc2UsXG4gICAgY2xvc2VPbkNsaWNrOiBmYWxzZSxcbiAgICBjb3ZlclRyaWdnZXI6IGZhbHNlXG4gIH0sXG4gIG1pbkxlbmd0aDogMSwgLy8gTWluIGNoYXJhY3RlcnMgYmVmb3JlIGF1dG9jb21wbGV0ZSBzdGFydHNcbiAgaXNNdWx0aVNlbGVjdDogZmFsc2UsXG4gIG9uU2VhcmNoOiBmdW5jdGlvbih0ZXh0LCBhdXRvY29tcGxldGUpIHtcbiAgICBjb25zdCBmaWx0ZXJlZERhdGEgPSBhdXRvY29tcGxldGUub3B0aW9ucy5kYXRhLmZpbHRlcihpdGVtID0+IHtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhpdGVtKVxuICAgICAgICAubWFwKGtleSA9PiBpdGVtW2tleV0udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGV4dC50b0xvd2VyQ2FzZSgpKSA+PSAwKVxuICAgICAgICAuc29tZShpc01hdGNoID0+IGlzTWF0Y2gpO1xuICAgIH0pO1xuICAgIGF1dG9jb21wbGV0ZS5zZXRNZW51SXRlbXMoZmlsdGVyZWREYXRhKTtcbiAgfSxcbiAgbWF4RHJvcERvd25IZWlnaHQ6ICczMDBweCcsXG4gIGFsbG93VW5zYWZlSFRNTDogZmFsc2Vcbn07XG5cblxuZXhwb3J0IGNsYXNzIEF1dG9jb21wbGV0ZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIGVsOiBIVE1MSW5wdXRFbGVtZW50O1xuICBpc09wZW46IGJvb2xlYW47XG4gIGNvdW50OiBudW1iZXI7XG4gIGFjdGl2ZUluZGV4OiBudW1iZXI7XG4gIHByaXZhdGUgb2xkVmFsOiBhbnk7XG4gIHByaXZhdGUgJGFjdGl2ZTogSFRNTEVsZW1lbnR8bnVsbDtcbiAgcHJpdmF0ZSBfbW91c2Vkb3duOiBib29sZWFuO1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBkcm9wZG93bjogRHJvcGRvd247XG4gIHN0YXRpYyBfa2V5ZG93bjogYm9vbGVhbjtcbiAgc2VsZWN0ZWRWYWx1ZXM6IGFueVtdO1xuICBtZW51SXRlbXM6IGFueVtdO1xuXG5cbiAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihBdXRvY29tcGxldGUsIGVsLCBvcHRpb25zKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQXV0b2NvbXBsZXRlID0gdGhpcztcbiAgICB0aGlzLm9wdGlvbnMgPSB7Li4uQXV0b2NvbXBsZXRlLmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuY291bnQgPSAwO1xuICAgIHRoaXMuYWN0aXZlSW5kZXggPSAtMTtcbiAgICB0aGlzLm9sZFZhbDtcbiAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gW107XG4gICAgdGhpcy5tZW51SXRlbXMgPSBbXTtcbiAgICB0aGlzLiRhY3RpdmUgPSBudWxsO1xuICAgIHRoaXMuX21vdXNlZG93biA9IGZhbHNlO1xuICAgIHRoaXMuX3NldHVwRHJvcGRvd24oKTtcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgfVxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cbiAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgfVxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICBsZXQgZG9tRWxlbSA9IGVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgcmV0dXJuIGRvbUVsZW0uTV9BdXRvY29tcGxldGU7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLl9yZW1vdmVEcm9wZG93bigpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9BdXRvY29tcGxldGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1cik7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1cyk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1cyk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljayk7XG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdtb3VzZWRvd24nLFxuICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydFxuICAgICk7XG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNldXBBbmRUb3VjaGVuZCk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cub250b3VjaHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3RvdWNoc3RhcnQnLFxuICAgICAgICB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZWRvd25BbmRUb3VjaHN0YXJ0XG4gICAgICApO1xuICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmQpO1xuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1cik7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1cyk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1cyk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljayk7XG4gICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdtb3VzZWRvd24nLFxuICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydFxuICAgICk7XG4gICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNldXBBbmRUb3VjaGVuZCk7XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAndG91Y2hzdGFydCcsXG4gICAgICAgIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnRcbiAgICAgICk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAndG91Y2hlbmQnLFxuICAgICAgICB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmRcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwRHJvcGRvd24oKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLm1heEhlaWdodCA9IHRoaXMub3B0aW9ucy5tYXhEcm9wRG93bkhlaWdodDtcbiAgICB0aGlzLmNvbnRhaW5lci5pZCA9IGBhdXRvY29tcGxldGUtb3B0aW9ucy0ke00uZ3VpZCgpfWA7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYXV0b2NvbXBsZXRlLWNvbnRlbnQnLCAnZHJvcGRvd24tY29udGVudCcpO1xuICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcsIHRoaXMuY29udGFpbmVyLmlkKTtcblxuICAgIC8vICEgSXNzdWUgaW4gQ29tcG9uZW50IERyb3Bkb3duOiBfcGxhY2VEcm9wZG93biBtb3ZlcyBkb20tcG9zaXRpb25cbiAgICB0aGlzLmVsLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBkcm9wZG93blxuICAgIGxldCBkcm9wZG93bk9wdGlvbnMgPSB7XG4gICAgICAuLi5BdXRvY29tcGxldGUuZGVmYXVsdHMuZHJvcGRvd25PcHRpb25zLFxuICAgICAgLi4udGhpcy5vcHRpb25zLmRyb3Bkb3duT3B0aW9uc1xuICAgIH07XG4gICAgbGV0IHVzZXJPbkl0ZW1DbGljayA9IGRyb3Bkb3duT3B0aW9ucy5vbkl0ZW1DbGljaztcbiAgICAvLyBFbnN1cmluZyB0aGUgc2VsZWN0IE9wdGlvbiBjYWxsIHdoZW4gdXNlciBwYXNzZXMgY3VzdG9tIG9uSXRlbUNsaWNrIGZ1bmN0aW9uIHRvIGRyb3Bkb3duXG4gICAgZHJvcGRvd25PcHRpb25zLm9uSXRlbUNsaWNrID0gKGxpKSA9PiB7XG4gICAgICBpZiAoIWxpKSByZXR1cm47XG4gICAgICBjb25zdCBlbnRyeUlEID0gbGkuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XG4gICAgICB0aGlzLnNlbGVjdE9wdGlvbihlbnRyeUlEKTtcbiAgICAgIC8vIEhhbmRsZSB1c2VyIGRlY2xhcmVkIG9uSXRlbUNsaWNrIGlmIG5lZWRlZFxuICAgICAgaWYgKHVzZXJPbkl0ZW1DbGljayAmJiB0eXBlb2YgdXNlck9uSXRlbUNsaWNrID09PSAnZnVuY3Rpb24nKVxuICAgICAgICB1c2VyT25JdGVtQ2xpY2suY2FsbCh0aGlzLmRyb3Bkb3duLCB0aGlzLmVsKTtcbiAgICB9O1xuICAgIHRoaXMuZHJvcGRvd24gPSBNLkRyb3Bkb3duLmluaXQodGhpcy5lbCwgZHJvcGRvd25PcHRpb25zKTtcblxuICAgIC8vICEgV29ya2Fyb3VuZCBmb3IgTGFiZWw6IG1vdmUgbGFiZWwgdXAgYWdhaW5cbiAgICAvLyBUT0RPOiBKdXN0IHVzZSBQb3BwZXJKUyBpbiBmdXR1cmUhXG4gICAgY29uc3QgbGFiZWwgPSB0aGlzLmVsLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWwnKTtcbiAgICBpZiAobGFiZWwpIHRoaXMuZWwuYWZ0ZXIobGFiZWwpO1xuXG4gICAgLy8gU2tldGNoeSByZW1vdmFsIG9mIGRyb3Bkb3duIGNsaWNrIGhhbmRsZXJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5kcm9wZG93bi5faGFuZGxlQ2xpY2spO1xuICAgIC8vIFNldCBWYWx1ZSBpZiBhbHJlYWR5IHNldCBpbiBIVE1MXG4gICAgaWYgKHRoaXMuZWwudmFsdWUpIHRoaXMuc2VsZWN0T3B0aW9uKHRoaXMuZWwudmFsdWUpO1xuICAgIC8vIEFkZCBTdGF0dXNJbmZvXG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoJ3N0YXR1cy1pbmZvJyk7XG4gICAgZGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAncG9zaXRpb246IGFic29sdXRlO3JpZ2h0OjA7dG9wOjA7Jyk7XG4gICAgdGhpcy5lbC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGRpdik7XG4gICAgdGhpcy5fdXBkYXRlU2VsZWN0ZWRJbmZvKCk7XG4gIH1cblxuICBfcmVtb3ZlRHJvcGRvd24oKSB7XG4gICAgdGhpcy5jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gIH1cblxuICBfaGFuZGxlSW5wdXRCbHVyID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy5fbW91c2Vkb3duKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB0aGlzLl9yZXNldEF1dG9jb21wbGV0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXMgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChlLnR5cGUgPT09ICdrZXl1cCcpIEF1dG9jb21wbGV0ZS5fa2V5ZG93biA9IGZhbHNlO1xuICAgIHRoaXMuY291bnQgPSAwO1xuICAgIGNvbnN0IGFjdHVhbFZhbHVlID0gdGhpcy5lbC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgIC8vIERvbid0IGNhcHR1cmUgZW50ZXIgb3IgYXJyb3cga2V5IHVzYWdlLlxuICAgIGlmIChNLmtleXMuRU5URVIuaW5jbHVkZXMoZS5rZXkpIHx8IE0ua2V5cy5BUlJPV19VUC5pbmNsdWRlcyhlLmtleSkgfHwgTS5rZXlzLkFSUk9XX0RPV04uaW5jbHVkZXMoZS5rZXkpKSByZXR1cm47XG4gICAgLy8gQ2hlY2sgaWYgdGhlIGlucHV0IGlzbid0IGVtcHR5XG4gICAgLy8gQ2hlY2sgaWYgZm9jdXMgdHJpZ2dlcmVkIGJ5IHRhYlxuICAgIGlmICh0aGlzLm9sZFZhbCAhPT0gYWN0dWFsVmFsdWUgJiYgKE0udGFiUHJlc3NlZCB8fCBlLnR5cGUgIT09ICdmb2N1cycpKSB7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gICAgLy8gVmFsdWUgaGFzIGNoYW5nZWQhXG4gICAgaWYgKHRoaXMub2xkVmFsICE9PSBhY3R1YWxWYWx1ZSkge1xuICAgICAgdGhpcy5fc2V0U3RhdHVzTG9hZGluZygpO1xuICAgICAgdGhpcy5vcHRpb25zLm9uU2VhcmNoKHRoaXMuZWwudmFsdWUsIHRoaXMpO1xuICAgIH1cbiAgICAvLyBSZXNldCBTaW5nbGUtU2VsZWN0IHdoZW4gSW5wdXQgY2xlYXJlZFxuICAgIGlmICghdGhpcy5vcHRpb25zLmlzTXVsdGlTZWxlY3QgJiYgdGhpcy5lbC52YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcbiAgICAgIHRoaXMuX3RyaWdnZXJDaGFuZ2VkKCk7XG4gICAgfVxuICAgIHRoaXMub2xkVmFsID0gYWN0dWFsVmFsdWU7XG4gIH1cblxuICBfaGFuZGxlSW5wdXRLZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBBdXRvY29tcGxldGUuX2tleWRvd24gPSB0cnVlO1xuICAgIC8vIEFycm93IGtleXMgYW5kIGVudGVyIGtleSB1c2FnZVxuICAgIGNvbnN0IG51bUl0ZW1zID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnbGknKS5sZW5ndGg7XG4gICAgLy8gc2VsZWN0IGVsZW1lbnQgb24gRW50ZXJcbiAgICBpZiAoTS5rZXlzLkVOVEVSLmluY2x1ZGVzKGUua2V5KSAmJiB0aGlzLmFjdGl2ZUluZGV4ID49IDApIHtcbiAgICAgIGNvbnN0IGxpRWxlbWVudCA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJylbdGhpcy5hY3RpdmVJbmRleF07XG4gICAgICBpZiAobGlFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uKGxpRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gQ2FwdHVyZSB1cCBhbmQgZG93biBrZXlcbiAgICBpZiAoTS5rZXlzLkFSUk9XX1VQLmluY2x1ZGVzKGUua2V5KSB8fCBNLmtleXMuQVJST1dfRE9XTi5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChNLmtleXMuQVJST1dfVVAuaW5jbHVkZXMoZS5rZXkpICYmIHRoaXMuYWN0aXZlSW5kZXggPiAwKSB0aGlzLmFjdGl2ZUluZGV4LS07XG4gICAgICBpZiAoTS5rZXlzLkFSUk9XX0RPV04uaW5jbHVkZXMoZS5rZXkpICYmIHRoaXMuYWN0aXZlSW5kZXggPCBudW1JdGVtcyAtIDEpIHRoaXMuYWN0aXZlSW5kZXgrKztcbiAgICAgIHRoaXMuJGFjdGl2ZT8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBpZiAodGhpcy5hY3RpdmVJbmRleCA+PSAwKSB7XG4gICAgICAgIHRoaXMuJGFjdGl2ZSA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJylbdGhpcy5hY3RpdmVJbmRleF07XG4gICAgICAgIHRoaXMuJGFjdGl2ZT8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIC8vIEZvY3VzIHNlbGVjdGVkXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNoaWxkcmVuW3RoaXMuYWN0aXZlSW5kZXhdLnNjcm9sbEludG9WaWV3KHtcbiAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXG4gICAgICAgICAgYmxvY2s6ICduZWFyZXN0JyxcbiAgICAgICAgICBpbmxpbmU6ICduZWFyZXN0J1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaGFuZGxlSW5wdXRDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLm9wZW4oKTtcbiAgfVxuXG4gIF9oYW5kbGVDb250YWluZXJNb3VzZWRvd25BbmRUb3VjaHN0YXJ0ID0gKCkgPT4ge1xuICAgIHRoaXMuX21vdXNlZG93biA9IHRydWU7XG4gIH1cblxuICBfaGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kID0gKCkgPT4ge1xuICAgIHRoaXMuX21vdXNlZG93biA9IGZhbHNlO1xuICB9XG5cbiAgX3Jlc2V0Q3VycmVudEVsZW1lbnRQb3NpdGlvbigpIHtcbiAgICB0aGlzLmFjdGl2ZUluZGV4ID0gLTE7XG4gICAgdGhpcy4kYWN0aXZlPy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfVxuXG4gIF9yZXNldEF1dG9jb21wbGV0ZSgpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5yZXBsYWNlQ2hpbGRyZW4oKTtcbiAgICB0aGlzLl9yZXNldEN1cnJlbnRFbGVtZW50UG9zaXRpb24oKTtcbiAgICB0aGlzLm9sZFZhbCA9IG51bGw7XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLl9tb3VzZWRvd24gPSBmYWxzZTtcbiAgfVxuXG4gIF9oaWdobGlnaHRQYXJ0aWFsVGV4dChpbnB1dCwgbGFiZWwpIHtcbiAgICBjb25zdCBzdGFydCA9IGxhYmVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignJyArIGlucHV0LnRvTG93ZXJDYXNlKCkgKyAnJyk7XG4gICAgY29uc3QgZW5kID0gc3RhcnQgKyBpbnB1dC5sZW5ndGggLSAxO1xuICAgIC8vY3VzdG9tIGZpbHRlcnMgbWF5IHJldHVybiByZXN1bHRzIHdoZXJlIHRoZSBzdHJpbmcgZG9lcyBub3QgbWF0Y2ggYW55IHBhcnRcbiAgICBpZiAoc3RhcnQgPT0gLTEgfHwgZW5kID09IC0xKSB7XG4gICAgICByZXR1cm4gW2xhYmVsLCAnJywgJyddO1xuICAgIH1cbiAgICByZXR1cm4gW2xhYmVsLnNsaWNlKDAsIHN0YXJ0KSwgbGFiZWwuc2xpY2Uoc3RhcnQsIGVuZCArIDEpLCBsYWJlbC5zbGljZShlbmQgKyAxKV07XG4gIH1cblxuICBfY3JlYXRlRHJvcGRvd25JdGVtKGVudHJ5KSB7XG4gICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBlbnRyeS5pZCk7XG4gICAgaXRlbS5zZXRBdHRyaWJ1dGUoXG4gICAgICAnc3R5bGUnLFxuICAgICAgJ2Rpc3BsYXk6Z3JpZDsgZ3JpZC1hdXRvLWZsb3c6IGNvbHVtbjsgdXNlci1zZWxlY3Q6IG5vbmU7IGFsaWduLWl0ZW1zOiBjZW50ZXI7J1xuICAgICk7XG4gICAgLy8gQ2hlY2tib3hcbiAgICBpZiAodGhpcy5vcHRpb25zLmlzTXVsdGlTZWxlY3QpIHtcbiAgICAgIGl0ZW0uaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbS1zZWxlY3Rpb25cIiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyO1wiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIke1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMuc29tZSgoc2VsKSA9PiBzZWwuaWQgPT09IGVudHJ5LmlkKSA/ICcgY2hlY2tlZD1cImNoZWNrZWRcIicgOiAnJ1xuICAgICAgICB9PjxzcGFuIHN0eWxlPVwicGFkZGluZy1sZWZ0OjIxcHg7XCI+PC9zcGFuPlxuICAgICAgPC9kaXY+YDtcbiAgICB9XG4gICAgLy8gSW1hZ2VcbiAgICBpZiAoZW50cnkuaW1hZ2UpIHtcbiAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoJ2NpcmNsZScpO1xuICAgICAgaW1nLnNyYyA9IGVudHJ5LmltYWdlO1xuICAgICAgaXRlbS5hcHBlbmRDaGlsZChpbWcpO1xuICAgIH1cblxuICAgIC8vIFRleHRcbiAgICBjb25zdCBpbnB1dFRleHQgPSB0aGlzLmVsLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgcGFydHMgPSB0aGlzLl9oaWdobGlnaHRQYXJ0aWFsVGV4dChpbnB1dFRleHQsIChlbnRyeS50ZXh0IHx8IGVudHJ5LmlkKS50b1N0cmluZygpKTtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsICdsaW5lLWhlaWdodDoxLjI7Zm9udC13ZWlnaHQ6NTAwOycpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dVbnNhZmVIVE1MKSB7XG4gICAgICBkaXYuaW5uZXJIVE1MID0gcGFydHNbMF0gKyAnPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRcIj4nICsgcGFydHNbMV0gKyAnPC9zcGFuPicgKyBwYXJ0c1syXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBhcnRzWzBdKSk7XG4gICAgICBpZiAocGFydHNbMV0pIHtcbiAgICAgICAgY29uc3QgaGlnaGxpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBoaWdobGlnaHQudGV4dENvbnRlbnQgPSBwYXJ0c1sxXTtcbiAgICAgICAgaGlnaGxpZ2h0LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0KTtcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBhcnRzWzJdKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpdGVtVGV4dC5jbGFzc0xpc3QuYWRkKCdpdGVtLXRleHQnKTtcbiAgICBpdGVtVGV4dC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3BhZGRpbmc6NXB4O292ZXJmbG93OmhpZGRlbjsnKTtcbiAgICBpdGVtLmFwcGVuZENoaWxkKGl0ZW1UZXh0KTtcbiAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5pdGVtLXRleHQnKS5hcHBlbmRDaGlsZChkaXYpO1xuICAgIC8vIERlc2NyaXB0aW9uXG4gICAgaWYgKHR5cGVvZiBlbnRyeS5kZXNjcmlwdGlvbiA9PT0gJ3N0cmluZycgfHwgKHR5cGVvZiBlbnRyeS5kZXNjcmlwdGlvbiA9PT0gJ251bWJlcicgJiYgIWlzTmFOKGVudHJ5LmRlc2NyaXB0aW9uKSkpIHtcbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc21hbGwnKTtcbiAgICAgIGRlc2NyaXB0aW9uLnNldEF0dHJpYnV0ZShcbiAgICAgICAgJ3N0eWxlJyxcbiAgICAgICAgJ2xpbmUtaGVpZ2h0OjEuMztjb2xvcjpncmV5O3doaXRlLXNwYWNlOm5vd3JhcDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO2Rpc3BsYXk6YmxvY2s7d2lkdGg6OTAlO292ZXJmbG93OmhpZGRlbjsnXG4gICAgICApO1xuICAgICAgZGVzY3JpcHRpb24uaW5uZXJUZXh0ID0gZW50cnkuZGVzY3JpcHRpb247XG4gICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5pdGVtLXRleHQnKS5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XG4gICAgfVxuICAgIC8vIFNldCBHcmlkXG4gICAgY29uc3QgZ2V0R3JpZENvbmZpZyA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNNdWx0aVNlbGVjdCkge1xuICAgICAgICBpZiAoZW50cnkuaW1hZ2UpIHJldHVybiAnNDBweCBtaW4tY29udGVudCBhdXRvJzsgLy8gY2ItaW1nLXR4dFxuICAgICAgICByZXR1cm4gJzQwcHggYXV0byc7IC8vIGNiLXR4dFxuICAgICAgfVxuICAgICAgaWYgKGVudHJ5LmltYWdlKSByZXR1cm4gJ21pbi1jb250ZW50IGF1dG8nOyAvLyBpbWctdHh0XG4gICAgICByZXR1cm4gJ2F1dG8nOyAvLyB0eHRcbiAgICB9O1xuICAgIGl0ZW0uc3R5bGUuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IGdldEdyaWRDb25maWcoKTtcbiAgICByZXR1cm4gaXRlbTtcbiAgfVxuXG4gIF9yZW5kZXJEcm9wZG93bigpIHtcbiAgICB0aGlzLl9yZXNldEF1dG9jb21wbGV0ZSgpO1xuICAgIC8vIENoZWNrIGlmIERhdGEgaXMgZW1wdHlcbiAgICBpZiAodGhpcy5tZW51SXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLm1lbnVJdGVtcyA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXM7IC8vIFNob3cgc2VsZWN0ZWQgSXRlbXNcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbnVJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX2NyZWF0ZURyb3Bkb3duSXRlbSh0aGlzLm1lbnVJdGVtc1tpXSk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQoaXRlbSk7XG4gICAgfVxuICB9XG5cbiAgX3NldFN0YXR1c0xvYWRpbmcoKSB7XG4gICAgdGhpcy5lbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnLnN0YXR1cy1pbmZvJ1xuICAgICkuaW5uZXJIVE1MID0gYDxkaXYgc3R5bGU9XCJoZWlnaHQ6MTAwJTt3aWR0aDo1MHB4O1wiPjxzdmcgdmVyc2lvbj1cIjEuMVwiIGlkPVwiTDRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMCAwXCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbiAgICA8Y2lyY2xlIGZpbGw9XCIjODg4Y1wiIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjZcIiBjeT1cIjUwXCIgcj1cIjZcIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwib3BhY2l0eVwiIGR1cj1cIjFzXCIgdmFsdWVzPVwiMDsxOzBcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiBiZWdpbj1cIjAuMVwiLz48L2NpcmNsZT5cbiAgICA8Y2lyY2xlIGZpbGw9XCIjODg4Y1wiIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjI2XCIgY3k9XCI1MFwiIHI9XCI2XCI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cIm9wYWNpdHlcIiBkdXI9XCIxc1wiIHZhbHVlcz1cIjA7MTswXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgYmVnaW49XCIwLjJcIi8+PC9jaXJjbGU+XG4gICAgPGNpcmNsZSBmaWxsPVwiIzg4OGNcIiBzdHJva2U9XCJub25lXCIgY3g9XCI0NlwiIGN5PVwiNTBcIiByPVwiNlwiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgZHVyPVwiMXNcIiB2YWx1ZXM9XCIwOzE7MFwiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiICBiZWdpbj1cIjAuM1wiLz48L2NpcmNsZT5cbiAgPC9zdmc+PC9kaXY+YDtcbiAgfVxuXG4gIF91cGRhdGVTZWxlY3RlZEluZm8oKSB7XG4gICAgY29uc3Qgc3RhdHVzRWxlbWVudCA9IHRoaXMuZWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhdHVzLWluZm8nKTtcbiAgICBpZiAoc3RhdHVzRWxlbWVudCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc011bHRpU2VsZWN0KSBzdGF0dXNFbGVtZW50LmlubmVySFRNTCA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgICBlbHNlIHN0YXR1c0VsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgfVxuICB9XG5cbiAgX3JlZnJlc2hJbnB1dFRleHQoKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICBjb25zdCBlbnRyeSA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXNbMF07XG4gICAgICB0aGlzLmVsLnZhbHVlID0gZW50cnkudGV4dCB8fCBlbnRyeS5pZDsgLy8gV3JpdGUgVGV4dCB0byBJbnB1dFxuICAgIH1cbiAgfVxuXG4gIF90cmlnZ2VyQ2hhbmdlZCgpIHtcbiAgICB0aGlzLmVsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSk7XG4gICAgLy8gVHJpZ2dlciBBdXRvY29tcGxldGUgRXZlbnRcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkF1dG9jb21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHRoaXMub3B0aW9ucy5vbkF1dG9jb21wbGV0ZS5jYWxsKHRoaXMsIHRoaXMuc2VsZWN0ZWRWYWx1ZXMpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBjb25zdCBpbnB1dFRleHQgPSB0aGlzLmVsLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5fcmVzZXRBdXRvY29tcGxldGUoKTtcbiAgICBpZiAoaW5wdXRUZXh0Lmxlbmd0aCA+PSB0aGlzLm9wdGlvbnMubWluTGVuZ3RoKSB7XG4gICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgICB0aGlzLl9yZW5kZXJEcm9wZG93bigpO1xuICAgIH1cbiAgICAvLyBPcGVuIGRyb3Bkb3duXG4gICAgaWYgKCF0aGlzLmRyb3Bkb3duLmlzT3Blbikge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuZHJvcGRvd24ub3BlbigpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9XG4gICAgZWxzZSB0aGlzLmRyb3Bkb3duLnJlY2FsY3VsYXRlRGltZW5zaW9ucygpOyAvLyBSZWNhbGN1bGF0ZSBkcm9wZG93biB3aGVuIGl0cyBhbHJlYWR5IG9wZW5cbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuZHJvcGRvd24uY2xvc2UoKTtcbiAgfVxuXG4gIHNldE1lbnVJdGVtcyhtZW51SXRlbXMpIHtcbiAgICB0aGlzLm1lbnVJdGVtcyA9IG1lbnVJdGVtcztcbiAgICB0aGlzLm9wZW4oKTtcbiAgICB0aGlzLl91cGRhdGVTZWxlY3RlZEluZm8oKTtcbiAgfVxuXG4gIHNldFZhbHVlcyhlbnRyaWVzKSB7XG4gICAgdGhpcy5zZWxlY3RlZFZhbHVlcyA9IGVudHJpZXM7XG4gICAgdGhpcy5fdXBkYXRlU2VsZWN0ZWRJbmZvKCk7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNNdWx0aVNlbGVjdCkge1xuICAgICAgdGhpcy5fcmVmcmVzaElucHV0VGV4dCgpO1xuICAgIH1cbiAgICB0aGlzLl90cmlnZ2VyQ2hhbmdlZCgpO1xuICB9XG5cbiAgc2VsZWN0T3B0aW9uKGlkKSB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLm1lbnVJdGVtcy5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09IGlkKTtcbiAgICBpZiAoIWVudHJ5KSByZXR1cm47XG4gICAgLy8gVG9nZ2xlIENoZWNrYm94XG4gICAgY29uc3QgbGkgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdsaVtkYXRhLWlkPVwiJytpZCsnXCJdJyk7XG4gICAgaWYgKCFsaSkgcmV0dXJuO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaXNNdWx0aVNlbGVjdCkge1xuICAgICAgY29uc3QgY2hlY2tib3ggPSA8SFRNTElucHV0RWxlbWVudHxudWxsPmxpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuICAgICAgY2hlY2tib3guY2hlY2tlZCA9ICFjaGVja2JveC5jaGVja2VkO1xuICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHRoaXMuc2VsZWN0ZWRWYWx1ZXMucHVzaChlbnRyeSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSB0aGlzLnNlbGVjdGVkVmFsdWVzLmZpbHRlcihcbiAgICAgICAgICAoc2VsZWN0ZWRFbnRyeSkgPT4gc2VsZWN0ZWRFbnRyeS5pZCAhPT0gZW50cnkuaWRcbiAgICAgICAgKTtcbiAgICAgIHRoaXMuZWwuZm9jdXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2luZ2xlLVNlbGVjdFxuICAgICAgdGhpcy5zZWxlY3RlZFZhbHVlcyA9IFtlbnRyeV07XG4gICAgICB0aGlzLl9yZWZyZXNoSW5wdXRUZXh0KCk7XG4gICAgICB0aGlzLl9yZXNldEF1dG9jb21wbGV0ZSgpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVTZWxlY3RlZEluZm8oKTtcbiAgICB0aGlzLl90cmlnZ2VyQ2hhbmdlZCgpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/autocomplete.ts\n");

/***/ }),

/***/ "./src/buttons.ts":
/*!************************!*\
  !*** ./src/buttons.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FloatingActionButton = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nlet _defaults = {\n    direction: 'top',\n    hoverEnabled: true,\n    toolbarEnabled: false\n};\nclass FloatingActionButton extends component_1.Component {\n    constructor(el, options) {\n        super(FloatingActionButton, el, options);\n        this._handleFABClick = () => {\n            if (this.isOpen) {\n                this.close();\n            }\n            else {\n                this.open();\n            }\n        };\n        this._handleDocumentClick = (e) => {\n            const elem = e.target;\n            if (elem !== this._menu)\n                this.close;\n            /*\n            if (!elem.closest(this.$menu)) {\n              this.close();\n            }*/\n        };\n        this.open = () => {\n            if (this.isOpen)\n                return;\n            if (this.options.toolbarEnabled)\n                this._animateInToolbar();\n            else\n                this._animateInFAB();\n            this.isOpen = true;\n        };\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            if (this.options.toolbarEnabled) {\n                window.removeEventListener('scroll', this.close, true);\n                document.body.removeEventListener('click', this._handleDocumentClick, true);\n                this._animateOutToolbar();\n            }\n            else {\n                this._animateOutFAB();\n            }\n            this.isOpen = false;\n        };\n        this.el.M_FloatingActionButton = this;\n        this.options = Object.assign(Object.assign({}, FloatingActionButton.defaults), options);\n        this.isOpen = false;\n        this._anchor = this.el.querySelector('a');\n        this._menu = this.el.querySelector('ul');\n        this._floatingBtns = Array.from(this.el.querySelectorAll('ul .btn-floating'));\n        this._floatingBtnsReverse = this._floatingBtns.reverse();\n        this.offsetY = 0;\n        this.offsetX = 0;\n        this.el.classList.add(`direction-${this.options.direction}`);\n        if (this.options.direction === 'top')\n            this.offsetY = 40;\n        else if (this.options.direction === 'right')\n            this.offsetX = -40;\n        else if (this.options.direction === 'bottom')\n            this.offsetY = -40;\n        else\n            this.offsetX = 40;\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_FloatingActionButton;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_FloatingActionButton = undefined;\n    }\n    _setupEventHandlers() {\n        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\n            this.el.addEventListener('mouseenter', this.open);\n            this.el.addEventListener('mouseleave', this.close);\n        }\n        else {\n            this.el.addEventListener('click', this._handleFABClick);\n        }\n    }\n    _removeEventHandlers() {\n        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\n            this.el.removeEventListener('mouseenter', this.open);\n            this.el.removeEventListener('mouseleave', this.close);\n        }\n        else {\n            this.el.removeEventListener('click', this._handleFABClick);\n        }\n    }\n    _animateInFAB() {\n        this.el.classList.add('active');\n        let time = 0;\n        this._floatingBtnsReverse.forEach((el) => {\n            (0, animejs_1.default)({\n                targets: el,\n                opacity: 1,\n                scale: [0.4, 1],\n                translateY: [this.offsetY, 0],\n                translateX: [this.offsetX, 0],\n                duration: 275,\n                delay: time,\n                easing: 'easeInOutQuad'\n            });\n            time += 40;\n        });\n    }\n    _animateOutFAB() {\n        this._floatingBtnsReverse.forEach((el) => {\n            animejs_1.default.remove(el);\n            (0, animejs_1.default)({\n                targets: el,\n                opacity: 0,\n                scale: 0.4,\n                translateY: this.offsetY,\n                translateX: this.offsetX,\n                duration: 175,\n                easing: 'easeOutQuad',\n                complete: () => {\n                    this.el.classList.remove('active');\n                }\n            });\n        });\n    }\n    _animateInToolbar() {\n        let scaleFactor;\n        let windowWidth = window.innerWidth;\n        let windowHeight = window.innerHeight;\n        let btnRect = this.el.getBoundingClientRect();\n        const backdrop = document.createElement('div');\n        backdrop.classList.add('fab-backdrop'); //  $('<div class=\"fab-backdrop\"></div>');\n        const fabColor = getComputedStyle(this._anchor).backgroundColor; // css('background-color');\n        this._anchor.append(backdrop);\n        this.offsetX = btnRect.left - windowWidth / 2 + btnRect.width / 2;\n        this.offsetY = windowHeight - btnRect.bottom;\n        scaleFactor = windowWidth / backdrop[0].clientWidth;\n        this.btnBottom = btnRect.bottom;\n        this.btnLeft = btnRect.left;\n        this.btnWidth = btnRect.width;\n        // Set initial state\n        this.el.classList.add('active');\n        this.el.style.textAlign = 'center';\n        this.el.style.width = '100%';\n        this.el.style.bottom = '0';\n        this.el.style.left = '0';\n        this.el.style.transform = 'translateX(' + this.offsetX + 'px)';\n        this.el.style.transition = 'none';\n        this._anchor.style.transform = `translateY(${this.offsetY}px`;\n        this._anchor.style.transition = 'none';\n        backdrop.style.backgroundColor = fabColor;\n        setTimeout(() => {\n            this.el.style.transform = '';\n            this.el.style.transition = 'transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s';\n            this._anchor.style.overflow = 'visible';\n            this._anchor.style.transform = '';\n            this._anchor.style.transition = 'transform .2s';\n            setTimeout(() => {\n                this.el.style.overflow = 'hidden';\n                this.el.style.backgroundColor = fabColor;\n                backdrop.style.transform = 'scale(' + scaleFactor + ')';\n                backdrop.style.transition = 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)';\n                this._menu.querySelectorAll('li > a').forEach((a) => a.style.opacity = '1');\n                // Scroll to close.\n                window.addEventListener('scroll', this.close, true);\n                document.body.addEventListener('click', this._handleDocumentClick, true);\n            }, 100);\n        }, 0);\n    }\n    _animateOutToolbar() {\n        return;\n        /*\n        let windowWidth = window.innerWidth;\n        let windowHeight = window.innerHeight;\n        let backdrop = this.$el.find('.fab-backdrop');\n        let fabColor = this.$anchor.css('background-color');\n    \n        this.offsetX = this.btnLeft - windowWidth / 2 + this.btnWidth / 2;\n        this.offsetY = windowHeight - this.btnBottom;\n    \n        // Hide backdrop\n        this.$el.removeClass('active');\n        this.$el.css({\n          'background-color': 'transparent',\n          transition: 'none'\n        });\n        // this.$anchor.css({\n        //   transition: 'none'\n        // });\n        backdrop.css({\n          transform: 'scale(0)',\n          'background-color': fabColor\n        });\n    \n        // this.$menu\n        //   .children('li')\n        //   .children('a')\n        //   .css({\n        //     opacity: ''\n        //   });\n    \n        setTimeout(() => {\n          backdrop.remove();\n    \n          // Set initial state.\n          this.$el.css({\n            'text-align': '',\n            width: '',\n            bottom: '',\n            left: '',\n            overflow: '',\n            'background-color': '',\n            transform: 'translate3d(' + -this.offsetX + 'px,0,0)'\n          });\n          // this.$anchor.css({\n          //   overflow: '',\n          //   transform: 'translate3d(0,' + this.offsetY + 'px,0)'\n          // });\n    \n          setTimeout(() => {\n            this.$el.css({\n              transform: 'translate3d(0,0,0)',\n              transition: 'transform .2s'\n            });\n            // this.$anchor.css({\n            //   transform: 'translate3d(0,0,0)',\n            //   transition: 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)'\n            // });\n          }, 20);\n        }, 200);\n        */\n    }\n}\nexports.FloatingActionButton = FloatingActionButton;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RS9GLG1CQUFtQjtnQkFDbkIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUNwRCxRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDM0UsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ1IsQ0FBQztJQUtELGtCQUFrQjtRQUNoQixPQUFPO1FBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1VBMkRFO0lBQ0osQ0FBQztDQUNGO0FBbFJELG9EQWtSQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9idXR0b25zLnRzPzNmYzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5sZXQgX2RlZmF1bHRzID0ge1xuICBkaXJlY3Rpb246ICd0b3AnLFxuICBob3ZlckVuYWJsZWQ6IHRydWUsXG4gIHRvb2xiYXJFbmFibGVkOiBmYWxzZVxufTtcblxuZXhwb3J0IGNsYXNzIEZsb2F0aW5nQWN0aW9uQnV0dG9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgZWw6IEhUTUxFbGVtZW50O1xuICBpc09wZW46IGJvb2xlYW47XG4gIHByaXZhdGUgX2FuY2hvcjogSFRNTEFuY2hvckVsZW1lbnQ7XG4gIHByaXZhdGUgX21lbnU6IEhUTUxFbGVtZW50fG51bGw7XG4gIHByaXZhdGUgX2Zsb2F0aW5nQnRuczogSFRNTEVsZW1lbnRbXTtcbiAgcHJpdmF0ZSBfZmxvYXRpbmdCdG5zUmV2ZXJzZTogSFRNTEVsZW1lbnRbXTtcbiAgb2Zmc2V0WTogbnVtYmVyO1xuICBvZmZzZXRYOiBudW1iZXI7XG4gIGJ0bkJvdHRvbTogbnVtYmVyO1xuICBidG5MZWZ0OiBudW1iZXI7XG4gIGJ0bldpZHRoOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihGbG9hdGluZ0FjdGlvbkJ1dHRvbiwgZWwsIG9wdGlvbnMpO1xuXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0Zsb2F0aW5nQWN0aW9uQnV0dG9uID0gdGhpcztcblxuICAgIHRoaXMub3B0aW9ucyA9IHsuLi5GbG9hdGluZ0FjdGlvbkJ1dHRvbi5kZWZhdWx0cywgLi4ub3B0aW9uc307XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLl9hbmNob3IgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2EnKTtcbiAgICB0aGlzLl9tZW51ID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCd1bCcpO1xuICAgIHRoaXMuX2Zsb2F0aW5nQnRucyA9IEFycmF5LmZyb20odGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCd1bCAuYnRuLWZsb2F0aW5nJykpO1xuICAgIHRoaXMuX2Zsb2F0aW5nQnRuc1JldmVyc2UgPSB0aGlzLl9mbG9hdGluZ0J0bnMucmV2ZXJzZSgpO1xuICAgIHRoaXMub2Zmc2V0WSA9IDA7XG4gICAgdGhpcy5vZmZzZXRYID0gMDtcblxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZChgZGlyZWN0aW9uLSR7dGhpcy5vcHRpb25zLmRpcmVjdGlvbn1gKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ3RvcCcpXG4gICAgICB0aGlzLm9mZnNldFkgPSA0MDtcbiAgICBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAncmlnaHQnKVxuICAgICAgdGhpcy5vZmZzZXRYID0gLTQwO1xuICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPT09ICdib3R0b20nKVxuICAgICAgdGhpcy5vZmZzZXRZID0gLTQwO1xuICAgIGVsc2VcbiAgICAgIHRoaXMub2Zmc2V0WCA9IDQwO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgIGxldCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgIHJldHVybiBkb21FbGVtLk1fRmxvYXRpbmdBY3Rpb25CdXR0b247XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fRmxvYXRpbmdBY3Rpb25CdXR0b24gPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaG92ZXJFbmFibGVkICYmICF0aGlzLm9wdGlvbnMudG9vbGJhckVuYWJsZWQpIHtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMub3Blbik7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmNsb3NlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUZBQkNsaWNrKTtcbiAgICB9XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmhvdmVyRW5hYmxlZCAmJiAhdGhpcy5vcHRpb25zLnRvb2xiYXJFbmFibGVkKSB7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLm9wZW4pO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5jbG9zZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVGQUJDbGljayk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUZBQkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlRG9jdW1lbnRDbGljayA9IChlKSA9PiB7XG4gICAgY29uc3QgZWxlbSA9IDxIVE1MRWxlbWVudD5lLnRhcmdldDtcbiAgICBpZiAoZWxlbSAhPT0gdGhpcy5fbWVudSkgdGhpcy5jbG9zZTtcbiAgICAvKlxuICAgIGlmICghZWxlbS5jbG9zZXN0KHRoaXMuJG1lbnUpKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSovXG4gIH1cblxuICBvcGVuID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbGJhckVuYWJsZWQpXG4gICAgICB0aGlzLl9hbmltYXRlSW5Ub29sYmFyKCk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5fYW5pbWF0ZUluRkFCKCk7XG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICB9XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbGJhckVuYWJsZWQpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmNsb3NlLCB0cnVlKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrLCB0cnVlKTtcbiAgICAgIHRoaXMuX2FuaW1hdGVPdXRUb29sYmFyKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fYW5pbWF0ZU91dEZBQigpO1xuICAgIH1cbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICB9XG5cbiAgX2FuaW1hdGVJbkZBQigpIHtcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGxldCB0aW1lID0gMDtcbiAgICB0aGlzLl9mbG9hdGluZ0J0bnNSZXZlcnNlLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogZWwsXG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHNjYWxlOiBbMC40LCAxXSxcbiAgICAgICAgdHJhbnNsYXRlWTogW3RoaXMub2Zmc2V0WSwgMF0sXG4gICAgICAgIHRyYW5zbGF0ZVg6IFt0aGlzLm9mZnNldFgsIDBdLFxuICAgICAgICBkdXJhdGlvbjogMjc1LFxuICAgICAgICBkZWxheTogdGltZSxcbiAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0UXVhZCdcbiAgICAgIH0pO1xuICAgICAgdGltZSArPSA0MDtcbiAgICB9KTtcbiAgfVxuXG4gIF9hbmltYXRlT3V0RkFCKCkge1xuICAgIHRoaXMuX2Zsb2F0aW5nQnRuc1JldmVyc2UuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGFuaW0ucmVtb3ZlKGVsKTtcbiAgICAgIGFuaW0oe1xuICAgICAgICB0YXJnZXRzOiBlbCxcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgc2NhbGU6IDAuNCxcbiAgICAgICAgdHJhbnNsYXRlWTogdGhpcy5vZmZzZXRZLFxuICAgICAgICB0cmFuc2xhdGVYOiB0aGlzLm9mZnNldFgsXG4gICAgICAgIGR1cmF0aW9uOiAxNzUsXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9hbmltYXRlSW5Ub29sYmFyKCkge1xuICAgIGxldCBzY2FsZUZhY3RvcjtcbiAgICBsZXQgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBsZXQgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGxldCBidG5SZWN0ID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGNvbnN0IGJhY2tkcm9wID0gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGJhY2tkcm9wLmNsYXNzTGlzdC5hZGQoJ2ZhYi1iYWNrZHJvcCcpOyAvLyAgJCgnPGRpdiBjbGFzcz1cImZhYi1iYWNrZHJvcFwiPjwvZGl2PicpO1xuXG4gICAgY29uc3QgZmFiQ29sb3IgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuX2FuY2hvcikuYmFja2dyb3VuZENvbG9yOyAvLyBjc3MoJ2JhY2tncm91bmQtY29sb3InKTtcblxuICAgIHRoaXMuX2FuY2hvci5hcHBlbmQoYmFja2Ryb3ApO1xuXG4gICAgdGhpcy5vZmZzZXRYID0gYnRuUmVjdC5sZWZ0IC0gd2luZG93V2lkdGggLyAyICsgYnRuUmVjdC53aWR0aCAvIDI7XG4gICAgdGhpcy5vZmZzZXRZID0gd2luZG93SGVpZ2h0IC0gYnRuUmVjdC5ib3R0b207XG4gICAgc2NhbGVGYWN0b3IgPSB3aW5kb3dXaWR0aCAvIGJhY2tkcm9wWzBdLmNsaWVudFdpZHRoO1xuICAgIHRoaXMuYnRuQm90dG9tID0gYnRuUmVjdC5ib3R0b207XG4gICAgdGhpcy5idG5MZWZ0ID0gYnRuUmVjdC5sZWZ0O1xuICAgIHRoaXMuYnRuV2lkdGggPSBidG5SZWN0LndpZHRoO1xuXG4gICAgLy8gU2V0IGluaXRpYWwgc3RhdGVcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIHRoaXMuZWwuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgdGhpcy5lbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmVsLnN0eWxlLmJvdHRvbSA9ICcwJztcbiAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgdGhpcy5lbC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgnICsgdGhpcy5vZmZzZXRYICsgJ3B4KSc7XG4gICAgdGhpcy5lbC5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuXG4gICAgdGhpcy5fYW5jaG9yLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7dGhpcy5vZmZzZXRZfXB4YDtcbiAgICB0aGlzLl9hbmNob3Iuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcblxuICAgICg8SFRNTEVsZW1lbnQ+YmFja2Ryb3ApLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGZhYkNvbG9yO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmVsLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgdGhpcy5lbC5zdHlsZS50cmFuc2l0aW9uICA9ICd0cmFuc2Zvcm0gLjJzIGN1YmljLWJlemllcigwLjU1MCwgMC4wODUsIDAuNjgwLCAwLjUzMCksIGJhY2tncm91bmQtY29sb3IgMHMgbGluZWFyIC4ycyc7XG5cbiAgICAgIHRoaXMuX2FuY2hvci5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIHRoaXMuX2FuY2hvci5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgIHRoaXMuX2FuY2hvci5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAuMnMnO1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGZhYkNvbG9yO1xuXG4gICAgICAgIGJhY2tkcm9wLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgnICsgc2NhbGVGYWN0b3IgKyAnKSc7XG4gICAgICAgIGJhY2tkcm9wLnN0eWxlLnRyYW5zaXRpb24gPSAndHJhbnNmb3JtIC4ycyBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTApJztcblxuICAgICAgICB0aGlzLl9tZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpID4gYScpLmZvckVhY2goKGE6IEhUTUxBbmNob3JFbGVtZW50KSA9PiBhLnN0eWxlLm9wYWNpdHkgPSAnMScpO1xuXG4gICAgICAgIC8vIFNjcm9sbCB0byBjbG9zZS5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuY2xvc2UsIHRydWUpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGljaywgdHJ1ZSk7XG4gICAgICB9LCAxMDApO1xuICAgIH0sIDApO1xuICB9XG5cblxuXG5cbiAgX2FuaW1hdGVPdXRUb29sYmFyKCkge1xuICAgIHJldHVybjtcbiAgICAvKlxuICAgIGxldCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGxldCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgbGV0IGJhY2tkcm9wID0gdGhpcy4kZWwuZmluZCgnLmZhYi1iYWNrZHJvcCcpO1xuICAgIGxldCBmYWJDb2xvciA9IHRoaXMuJGFuY2hvci5jc3MoJ2JhY2tncm91bmQtY29sb3InKTtcblxuICAgIHRoaXMub2Zmc2V0WCA9IHRoaXMuYnRuTGVmdCAtIHdpbmRvd1dpZHRoIC8gMiArIHRoaXMuYnRuV2lkdGggLyAyO1xuICAgIHRoaXMub2Zmc2V0WSA9IHdpbmRvd0hlaWdodCAtIHRoaXMuYnRuQm90dG9tO1xuXG4gICAgLy8gSGlkZSBiYWNrZHJvcFxuICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICB0aGlzLiRlbC5jc3Moe1xuICAgICAgJ2JhY2tncm91bmQtY29sb3InOiAndHJhbnNwYXJlbnQnLFxuICAgICAgdHJhbnNpdGlvbjogJ25vbmUnXG4gICAgfSk7XG4gICAgLy8gdGhpcy4kYW5jaG9yLmNzcyh7XG4gICAgLy8gICB0cmFuc2l0aW9uOiAnbm9uZSdcbiAgICAvLyB9KTtcbiAgICBiYWNrZHJvcC5jc3Moe1xuICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoMCknLFxuICAgICAgJ2JhY2tncm91bmQtY29sb3InOiBmYWJDb2xvclxuICAgIH0pO1xuXG4gICAgLy8gdGhpcy4kbWVudVxuICAgIC8vICAgLmNoaWxkcmVuKCdsaScpXG4gICAgLy8gICAuY2hpbGRyZW4oJ2EnKVxuICAgIC8vICAgLmNzcyh7XG4gICAgLy8gICAgIG9wYWNpdHk6ICcnXG4gICAgLy8gICB9KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYmFja2Ryb3AucmVtb3ZlKCk7XG5cbiAgICAgIC8vIFNldCBpbml0aWFsIHN0YXRlLlxuICAgICAgdGhpcy4kZWwuY3NzKHtcbiAgICAgICAgJ3RleHQtYWxpZ24nOiAnJyxcbiAgICAgICAgd2lkdGg6ICcnLFxuICAgICAgICBib3R0b206ICcnLFxuICAgICAgICBsZWZ0OiAnJyxcbiAgICAgICAgb3ZlcmZsb3c6ICcnLFxuICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICcnLFxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgnICsgLXRoaXMub2Zmc2V0WCArICdweCwwLDApJ1xuICAgICAgfSk7XG4gICAgICAvLyB0aGlzLiRhbmNob3IuY3NzKHtcbiAgICAgIC8vICAgb3ZlcmZsb3c6ICcnLFxuICAgICAgLy8gICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwLCcgKyB0aGlzLm9mZnNldFkgKyAncHgsMCknXG4gICAgICAvLyB9KTtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuJGVsLmNzcyh7XG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwwLDApJyxcbiAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtIC4ycydcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHRoaXMuJGFuY2hvci5jc3Moe1xuICAgICAgICAvLyAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsMCwwKScsXG4gICAgICAgIC8vICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAuMnMgY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwKSdcbiAgICAgICAgLy8gfSk7XG4gICAgICB9LCAyMCk7XG4gICAgfSwgMjAwKTtcbiAgICAqL1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/buttons.ts\n");

/***/ }),

/***/ "./src/cards.ts":
/*!**********************!*\
  !*** ./src/cards.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Cards = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nclass Cards {\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            document.body.addEventListener('click', e => {\n                const trigger = e.target;\n                const card = trigger.closest('.card');\n                if (!card)\n                    return;\n                const cardReveal = Array.from(card.children).find(elem => elem.classList.contains('card-reveal'));\n                if (!cardReveal)\n                    return;\n                const initialOverflow = getComputedStyle(card).overflow;\n                // Close Card\n                const closeArea = cardReveal.querySelector('.card-reveal .card-title');\n                if (trigger === closeArea || closeArea.contains(trigger)) {\n                    (0, animejs_1.default)({\n                        targets: cardReveal,\n                        translateY: 0,\n                        duration: 225,\n                        easing: 'easeInOutQuad',\n                        complete: (anim) => {\n                            cardReveal.style.display = 'none';\n                            card.style.overflow = initialOverflow;\n                        }\n                    });\n                }\n                ;\n                // Reveal Card\n                const activators = card.querySelectorAll('.activator');\n                activators.forEach(activator => {\n                    if (trigger === activator || activator.contains(trigger)) {\n                        card.style.overflow = 'hidden';\n                        cardReveal.style.display = 'block';\n                        (0, animejs_1.default)({\n                            targets: cardReveal,\n                            translateY: '-100%',\n                            duration: 300,\n                            easing: 'easeInOutQuad'\n                        });\n                    }\n                });\n            });\n        });\n    }\n}\nexports.Cards = Cards;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2FyZHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsZ0hBQTJCO0FBRTNCLE1BQWEsS0FBSztJQUVoQixNQUFNLENBQUMsSUFBSTtRQUVULFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7WUFDakQsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUU7Z0JBQzFDLE1BQU0sT0FBTyxHQUFnQixDQUFDLENBQUMsTUFBTSxDQUFDO2dCQUV0QyxNQUFNLElBQUksR0FBZ0IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDbkQsSUFBSSxDQUFDLElBQUk7b0JBQUUsT0FBTztnQkFFbEIsTUFBTSxVQUFVLEdBQXFCLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BILElBQUksQ0FBQyxVQUFVO29CQUFFLE9BQU87Z0JBQ3hCLE1BQU0sZUFBZSxHQUFHLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQztnQkFFeEQsYUFBYTtnQkFDYixNQUFNLFNBQVMsR0FBRyxVQUFVLENBQUMsYUFBYSxDQUFDLDBCQUEwQixDQUFDLENBQUM7Z0JBQ3ZFLElBQUksT0FBTyxLQUFLLFNBQVMsSUFBSSxTQUFTLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFO29CQUN4RCxxQkFBSSxFQUFDO3dCQUNILE9BQU8sRUFBRSxVQUFVO3dCQUNuQixVQUFVLEVBQUUsQ0FBQzt3QkFDYixRQUFRLEVBQUUsR0FBRzt3QkFDYixNQUFNLEVBQUUsZUFBZTt3QkFDdkIsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7NEJBQ2pCLFVBQVUsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQzs0QkFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsZUFBZSxDQUFDO3dCQUN4QyxDQUFDO3FCQUNGLENBQUMsQ0FBQztpQkFDSjtnQkFBQSxDQUFDO2dCQUVGLGNBQWM7Z0JBQ2QsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUN2RCxVQUFVLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFO29CQUM3QixJQUFJLE9BQU8sS0FBSyxTQUFTLElBQUksU0FBUyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRTt3QkFDeEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO3dCQUMvQixVQUFVLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7d0JBQ25DLHFCQUFJLEVBQUM7NEJBQ0gsT0FBTyxFQUFFLFVBQVU7NEJBQ25CLFVBQVUsRUFBRSxPQUFPOzRCQUNuQixRQUFRLEVBQUUsR0FBRzs0QkFDYixNQUFNLEVBQUUsZUFBZTt5QkFDeEIsQ0FBQyxDQUFDO3FCQUNKO2dCQUNILENBQUMsQ0FBQyxDQUFDO1lBR0wsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUVMLENBQUM7Q0FDRjtBQWxERCxzQkFrREMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvY2FyZHMudHM/MTM2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5leHBvcnQgY2xhc3MgQ2FyZHMge1xuXG4gIHN0YXRpYyBJbml0KCkge1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICBjb25zdCB0cmlnZ2VyID0gPEhUTUxFbGVtZW50PmUudGFyZ2V0O1xuXG4gICAgICAgIGNvbnN0IGNhcmQ6IEhUTUxFbGVtZW50ID0gdHJpZ2dlci5jbG9zZXN0KCcuY2FyZCcpO1xuICAgICAgICBpZiAoIWNhcmQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBjYXJkUmV2ZWFsID0gPEhUTUxFbGVtZW50fG51bGw+QXJyYXkuZnJvbShjYXJkLmNoaWxkcmVuKS5maW5kKGVsZW0gPT4gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmQtcmV2ZWFsJykpO1xuICAgICAgICBpZiAoIWNhcmRSZXZlYWwpIHJldHVybjtcbiAgICAgICAgY29uc3QgaW5pdGlhbE92ZXJmbG93ID0gZ2V0Q29tcHV0ZWRTdHlsZShjYXJkKS5vdmVyZmxvdztcblxuICAgICAgICAvLyBDbG9zZSBDYXJkXG4gICAgICAgIGNvbnN0IGNsb3NlQXJlYSA9IGNhcmRSZXZlYWwucXVlcnlTZWxlY3RvcignLmNhcmQtcmV2ZWFsIC5jYXJkLXRpdGxlJyk7XG4gICAgICAgIGlmICh0cmlnZ2VyID09PSBjbG9zZUFyZWEgfHwgY2xvc2VBcmVhLmNvbnRhaW5zKHRyaWdnZXIpKSB7XG4gICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICB0YXJnZXRzOiBjYXJkUmV2ZWFsLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMjUsXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRRdWFkJyxcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoYW5pbSkgPT4ge1xuICAgICAgICAgICAgICBjYXJkUmV2ZWFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgIGNhcmQuc3R5bGUub3ZlcmZsb3cgPSBpbml0aWFsT3ZlcmZsb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUmV2ZWFsIENhcmRcbiAgICAgICAgY29uc3QgYWN0aXZhdG9ycyA9IGNhcmQucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2YXRvcicpO1xuICAgICAgICBhY3RpdmF0b3JzLmZvckVhY2goYWN0aXZhdG9yID0+IHtcbiAgICAgICAgICBpZiAodHJpZ2dlciA9PT0gYWN0aXZhdG9yIHx8IGFjdGl2YXRvci5jb250YWlucyh0cmlnZ2VyKSkge1xuICAgICAgICAgICAgY2FyZC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgY2FyZFJldmVhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIGFuaW0oe1xuICAgICAgICAgICAgICB0YXJnZXRzOiBjYXJkUmV2ZWFsLFxuICAgICAgICAgICAgICB0cmFuc2xhdGVZOiAnLTEwMCUnLFxuICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRRdWFkJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICB9KTtcbiAgICB9KTtcblxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cards.ts\n");

/***/ }),

/***/ "./src/carousel.ts":
/*!*************************!*\
  !*** ./src/carousel.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Carousel = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    duration: 200,\n    dist: -100,\n    shift: 0,\n    padding: 0,\n    numVisible: 5,\n    fullWidth: false,\n    indicators: false,\n    noWrap: false,\n    onCycleTo: null // Callback for when a new slide is cycled to.\n};\nclass Carousel extends component_1.Component {\n    constructor(el, options) {\n        var _a;\n        super(Carousel, el, options);\n        this.center = 0;\n        this._handleThrottledResize = (() => global_1.M.throttle(function () { this._handleResize(); }, 200, null).bind(this))();\n        this._handleCarouselTap = (e) => {\n            // Fixes firefox draggable image bug\n            if (e.type === 'mousedown' && e.target.tagName === 'IMG') {\n                e.preventDefault();\n            }\n            this.pressed = true;\n            this.dragged = false;\n            this.verticalDragged = false;\n            this.reference = this._xpos(e);\n            this.referenceY = this._ypos(e);\n            this.velocity = this.amplitude = 0;\n            this.frame = this.offset;\n            this.timestamp = Date.now();\n            clearInterval(this.ticker);\n            this.ticker = setInterval(this._track, 100);\n        };\n        this._handleCarouselDrag = (e) => {\n            let x, y, delta, deltaY;\n            if (this.pressed) {\n                x = this._xpos(e);\n                y = this._ypos(e);\n                delta = this.reference - x;\n                deltaY = Math.abs(this.referenceY - y);\n                if (deltaY < 30 && !this.verticalDragged) {\n                    // If vertical scrolling don't allow dragging.\n                    if (delta > 2 || delta < -2) {\n                        this.dragged = true;\n                        this.reference = x;\n                        this._scroll(this.offset + delta);\n                    }\n                }\n                else if (this.dragged) {\n                    // If dragging don't allow vertical scroll.\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n                else {\n                    // Vertical scrolling.\n                    this.verticalDragged = true;\n                }\n            }\n            if (this.dragged) {\n                // If dragging don't allow vertical scroll.\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n            }\n        };\n        this._handleCarouselRelease = (e) => {\n            if (this.pressed) {\n                this.pressed = false;\n            }\n            else {\n                return;\n            }\n            clearInterval(this.ticker);\n            this.target = this.offset;\n            if (this.velocity > 10 || this.velocity < -10) {\n                this.amplitude = 0.9 * this.velocity;\n                this.target = this.offset + this.amplitude;\n            }\n            this.target = Math.round(this.target / this.dim) * this.dim;\n            // No wrap of items.\n            if (this.noWrap) {\n                if (this.target >= this.dim * (this.count - 1)) {\n                    this.target = this.dim * (this.count - 1);\n                }\n                else if (this.target < 0) {\n                    this.target = 0;\n                }\n            }\n            this.amplitude = this.target - this.offset;\n            this.timestamp = Date.now();\n            requestAnimationFrame(this._autoScroll);\n            if (this.dragged) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            return false;\n        };\n        this._handleCarouselClick = (e) => {\n            // Disable clicks if carousel was dragged.\n            if (this.dragged) {\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n            }\n            else if (!this.options.fullWidth) {\n                const clickedElem = e.target.closest('.carousel-item');\n                const clickedIndex = [...clickedElem.parentNode.children].indexOf(clickedElem);\n                const diff = this._wrap(this.center) - clickedIndex;\n                // Disable clicks if carousel was shifted by click\n                if (diff !== 0) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                // fixes https://github.com/materializecss/materialize/issues/180\n                if (clickedIndex < 0) {\n                    // relative X position > center of carousel = clicked at the right part of the carousel\n                    if (e.clientX - e.target.getBoundingClientRect().left > this.el.clientWidth / 2) {\n                        this.next();\n                    }\n                    else {\n                        this.prev();\n                    }\n                }\n                else {\n                    this._cycleTo(clickedIndex);\n                }\n            }\n        };\n        this._handleIndicatorClick = (e) => {\n            e.stopPropagation();\n            const indicator = e.target.closest('.indicator-item');\n            if (indicator) {\n                const index = [...indicator.parentNode.children].indexOf(indicator);\n                this._cycleTo(index);\n            }\n        };\n        this._handleResize = () => {\n            if (this.options.fullWidth) {\n                this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\n                this.imageHeight = this.el.querySelector('.carousel-item.active').clientHeight;\n                this.dim = this.itemWidth * 2 + this.options.padding;\n                this.offset = this.center * 2 * this.itemWidth;\n                this.target = this.offset;\n                this._setCarouselHeight(true);\n            }\n            else {\n                this._scroll();\n            }\n        };\n        this._track = () => {\n            let now, elapsed, delta, v;\n            now = Date.now();\n            elapsed = now - this.timestamp;\n            this.timestamp = now;\n            delta = this.offset - this.frame;\n            this.frame = this.offset;\n            v = (1000 * delta) / (1 + elapsed);\n            this.velocity = 0.8 * v + 0.2 * this.velocity;\n        };\n        this._autoScroll = () => {\n            let elapsed, delta;\n            if (this.amplitude) {\n                elapsed = Date.now() - this.timestamp;\n                delta = this.amplitude * Math.exp(-elapsed / this.options.duration);\n                if (delta > 2 || delta < -2) {\n                    this._scroll(this.target - delta);\n                    requestAnimationFrame(this._autoScroll);\n                }\n                else {\n                    this._scroll(this.target);\n                }\n            }\n        };\n        this.el.M_Carousel = this;\n        this.options = Object.assign(Object.assign({}, Carousel.defaults), options);\n        // Setup\n        this.hasMultipleSlides = this.el.querySelectorAll('.carousel-item').length > 1;\n        this.showIndicators = this.options.indicators && this.hasMultipleSlides;\n        this.noWrap = this.options.noWrap || !this.hasMultipleSlides;\n        this.pressed = false;\n        this.dragged = false;\n        this.offset = this.target = 0;\n        this.images = [];\n        this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\n        this.itemHeight = this.el.querySelector('.carousel-item').clientHeight;\n        this.dim = this.itemWidth * 2 + this.options.padding || 1; // Make sure dim is non zero for divisions.\n        // Full Width carousel setup\n        if (this.options.fullWidth) {\n            this.options.dist = 0;\n            this._setCarouselHeight();\n            // Offset fixed items when indicators.\n            if (this.showIndicators) {\n                (_a = this.el.querySelector('.carousel-fixed-item')) === null || _a === void 0 ? void 0 : _a.classList.add('with-indicators');\n            }\n        }\n        // Iterate through slides\n        this._indicators = document.createElement('ul');\n        this._indicators.classList.add('indicators');\n        this.el.querySelectorAll('.carousel-item').forEach((item, i) => {\n            this.images.push(item);\n            if (this.showIndicators) {\n                const indicator = document.createElement('li');\n                indicator.classList.add('indicator-item');\n                if (i === 0) {\n                    indicator.classList.add('active');\n                }\n                this._indicators.appendChild(indicator);\n            }\n        });\n        if (this.showIndicators)\n            this.el.appendChild(this._indicators);\n        this.count = this.images.length;\n        // Cap numVisible at count\n        this.options.numVisible = Math.min(this.count, this.options.numVisible);\n        // Setup cross browser string\n        this.xform = 'transform';\n        ['webkit', 'Moz', 'O', 'ms'].every((prefix) => {\n            var e = prefix + 'Transform';\n            if (typeof document.body.style[e] !== 'undefined') {\n                this.xform = e;\n                return false;\n            }\n            return true;\n        });\n        this._setupEventHandlers();\n        this._scroll(this.offset);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Carousel;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Carousel = undefined;\n    }\n    _setupEventHandlers() {\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.el.addEventListener('touchstart', this._handleCarouselTap);\n            this.el.addEventListener('touchmove', this._handleCarouselDrag);\n            this.el.addEventListener('touchend', this._handleCarouselRelease);\n        }\n        this.el.addEventListener('mousedown', this._handleCarouselTap);\n        this.el.addEventListener('mousemove', this._handleCarouselDrag);\n        this.el.addEventListener('mouseup', this._handleCarouselRelease);\n        this.el.addEventListener('mouseleave', this._handleCarouselRelease);\n        this.el.addEventListener('click', this._handleCarouselClick);\n        if (this.showIndicators && this._indicators) {\n            this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\n                el.addEventListener('click', this._handleIndicatorClick);\n            });\n        }\n        // Resize\n        window.addEventListener('resize', this._handleThrottledResize);\n    }\n    _removeEventHandlers() {\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.el.removeEventListener('touchstart', this._handleCarouselTap);\n            this.el.removeEventListener('touchmove', this._handleCarouselDrag);\n            this.el.removeEventListener('touchend', this._handleCarouselRelease);\n        }\n        this.el.removeEventListener('mousedown', this._handleCarouselTap);\n        this.el.removeEventListener('mousemove', this._handleCarouselDrag);\n        this.el.removeEventListener('mouseup', this._handleCarouselRelease);\n        this.el.removeEventListener('mouseleave', this._handleCarouselRelease);\n        this.el.removeEventListener('click', this._handleCarouselClick);\n        if (this.showIndicators && this._indicators) {\n            this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\n                el.removeEventListener('click', this._handleIndicatorClick);\n            });\n        }\n        window.removeEventListener('resize', this._handleThrottledResize);\n    }\n    _setCarouselHeight(imageOnly = false) {\n        const firstSlide = this.el.querySelector('.carousel-item.active')\n            ? this.el.querySelector('.carousel-item.active')\n            : this.el.querySelector('.carousel-item');\n        const firstImage = firstSlide.querySelector('img');\n        if (firstImage) {\n            if (firstImage.complete) {\n                // If image won't trigger the load event\n                const imageHeight = firstImage.clientHeight;\n                if (imageHeight > 0) {\n                    this.el.style.height = imageHeight + 'px';\n                }\n                else {\n                    // If image still has no height, use the natural dimensions to calculate\n                    const naturalWidth = firstImage.naturalWidth;\n                    const naturalHeight = firstImage.naturalHeight;\n                    const adjustedHeight = (this.el.clientWidth / naturalWidth) * naturalHeight;\n                    this.el.style.height = adjustedHeight + 'px';\n                }\n            }\n            else {\n                // Get height when image is loaded normally\n                firstImage.addEventListener('load', () => {\n                    this.el.style.height = firstImage.offsetHeight + 'px';\n                });\n            }\n        }\n        else if (!imageOnly) {\n            const slideHeight = firstSlide.clientHeight;\n            this.el.style.height = slideHeight + 'px';\n        }\n    }\n    _xpos(e) {\n        // touch event\n        if (e.targetTouches && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientX;\n        }\n        // mouse event\n        return e.clientX;\n    }\n    _ypos(e) {\n        // touch event\n        if (e.targetTouches && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientY;\n        }\n        // mouse event\n        return e.clientY;\n    }\n    _wrap(x) {\n        return x >= this.count\n            ? x % this.count\n            : x < 0\n                ? this._wrap(this.count + (x % this.count))\n                : x;\n    }\n    _scroll(x = 0) {\n        // Track scrolling state\n        if (!this.el.classList.contains('scrolling')) {\n            this.el.classList.add('scrolling');\n        }\n        if (this.scrollingTimeout != null) {\n            window.clearTimeout(this.scrollingTimeout);\n        }\n        this.scrollingTimeout = window.setTimeout(() => {\n            this.el.classList.remove('scrolling');\n        }, this.options.duration);\n        // Start actual scroll\n        let i, half, delta, dir, tween, el, alignment, zTranslation, tweenedOpacity, centerTweenedOpacity;\n        let lastCenter = this.center;\n        let numVisibleOffset = 1 / this.options.numVisible;\n        this.offset = typeof x === 'number' ? x : this.offset;\n        this.center = Math.floor((this.offset + this.dim / 2) / this.dim);\n        delta = this.offset - this.center * this.dim;\n        dir = delta < 0 ? 1 : -1;\n        tween = (-dir * delta * 2) / this.dim;\n        half = this.count >> 1;\n        if (this.options.fullWidth) {\n            alignment = 'translateX(0)';\n            centerTweenedOpacity = 1;\n        }\n        else {\n            alignment = 'translateX(' + (this.el.clientWidth - this.itemWidth) / 2 + 'px) ';\n            alignment += 'translateY(' + (this.el.clientHeight - this.itemHeight) / 2 + 'px)';\n            centerTweenedOpacity = 1 - numVisibleOffset * tween;\n        }\n        // Set indicator active\n        if (this.showIndicators) {\n            const diff = this.center % this.count;\n            const activeIndicator = this._indicators.querySelector('.indicator-item.active');\n            const activeIndicatorIndex = [...activeIndicator.parentNode.children].indexOf(activeIndicator);\n            if (activeIndicatorIndex !== diff) {\n                activeIndicator.classList.remove('active');\n                const pos = diff < 0 ? this.count + diff : diff;\n                this._indicators.querySelectorAll('.indicator-item')[pos].classList.add('active');\n            }\n        }\n        // center\n        // Don't show wrapped items.\n        if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\n            el = this.images[this._wrap(this.center)];\n            // Add active class to center item.\n            if (!el.classList.contains('active')) {\n                this.el.querySelector('.carousel-item').classList.remove('active');\n                el.classList.add('active');\n            }\n            let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\n                this.options.shift *\n                tween *\n                i}px) translateZ(${this.options.dist * tween}px)`;\n            this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\n        }\n        for (i = 1; i <= half; ++i) {\n            // right side\n            if (this.options.fullWidth) {\n                zTranslation = this.options.dist;\n                tweenedOpacity = i === half && delta < 0 ? 1 - tween : 1;\n            }\n            else {\n                zTranslation = this.options.dist * (i * 2 + tween * dir);\n                tweenedOpacity = 1 - numVisibleOffset * (i * 2 + tween * dir);\n            }\n            // Don't show wrapped items.\n            if (!this.noWrap || this.center + i < this.count) {\n                el = this.images[this._wrap(this.center + i)];\n                let transformString = `${alignment} translateX(${this.options.shift +\n                    (this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\n                this._updateItemStyle(el, tweenedOpacity, -i, transformString);\n            }\n            // left side\n            if (this.options.fullWidth) {\n                zTranslation = this.options.dist;\n                tweenedOpacity = i === half && delta > 0 ? 1 - tween : 1;\n            }\n            else {\n                zTranslation = this.options.dist * (i * 2 - tween * dir);\n                tweenedOpacity = 1 - numVisibleOffset * (i * 2 - tween * dir);\n            }\n            // Don't show wrapped items.\n            if (!this.noWrap || this.center - i >= 0) {\n                el = this.images[this._wrap(this.center - i)];\n                let transformString = `${alignment} translateX(${-this.options.shift +\n                    (-this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\n                this._updateItemStyle(el, tweenedOpacity, -i, transformString);\n            }\n        }\n        // center\n        // Don't show wrapped items.\n        if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\n            el = this.images[this._wrap(this.center)];\n            let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\n                this.options.shift *\n                tween}px) translateZ(${this.options.dist * tween}px)`;\n            this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\n        }\n        // onCycleTo callback\n        const _currItem = this.el.querySelectorAll('.carousel-item')[this._wrap(this.center)];\n        if (lastCenter !== this.center && typeof this.options.onCycleTo === 'function') {\n            this.options.onCycleTo.call(this, _currItem, this.dragged);\n        }\n        // One time callback\n        if (typeof this.oneTimeCallback === 'function') {\n            this.oneTimeCallback.call(this, _currItem, this.dragged);\n            this.oneTimeCallback = null;\n        }\n    }\n    _updateItemStyle(el, opacity, zIndex, transform) {\n        el.style[this.xform] = transform;\n        el.style.zIndex = zIndex.toString();\n        el.style.opacity = opacity.toString();\n        el.style.visibility = 'visible';\n    }\n    _cycleTo(n, callback = null) {\n        let diff = (this.center % this.count) - n;\n        // Account for wraparound.\n        if (!this.noWrap) {\n            if (diff < 0) {\n                if (Math.abs(diff + this.count) < Math.abs(diff)) {\n                    diff += this.count;\n                }\n            }\n            else if (diff > 0) {\n                if (Math.abs(diff - this.count) < diff) {\n                    diff -= this.count;\n                }\n            }\n        }\n        this.target = this.dim * Math.round(this.offset / this.dim);\n        // Next\n        if (diff < 0) {\n            this.target += this.dim * Math.abs(diff);\n        } // Prev\n        else if (diff > 0) {\n            this.target -= this.dim * diff;\n        }\n        // Set one time callback\n        if (typeof callback === 'function') {\n            this.oneTimeCallback = callback;\n        }\n        // Scroll\n        if (this.offset !== this.target) {\n            this.amplitude = this.target - this.offset;\n            this.timestamp = Date.now();\n            requestAnimationFrame(this._autoScroll);\n        }\n    }\n    next(n = 1) {\n        if (n === undefined || isNaN(n)) {\n            n = 1;\n        }\n        let index = this.center + n;\n        if (index >= this.count || index < 0) {\n            if (this.noWrap)\n                return;\n            index = this._wrap(index);\n        }\n        this._cycleTo(index);\n    }\n    prev(n = 1) {\n        if (n === undefined || isNaN(n)) {\n            n = 1;\n        }\n        let index = this.center - n;\n        if (index >= this.count || index < 0) {\n            if (this.noWrap)\n                return;\n            index = this._wrap(index);\n        }\n        this._cycleTo(index);\n    }\n    set(n, callback) {\n        if (n === undefined || isNaN(n)) {\n            n = 0;\n        }\n        if (n > this.count || n < 0) {\n            if (this.noWrap)\n                return;\n            n = this._wrap(n);\n        }\n        this._cycleTo(n, callback);\n    }\n}\nexports.Carousel = Carousel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDN0IsQ0FBQztDQUNGO0FBaGtCRCw0QkFna0JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL2Nhcm91c2VsLnRzP2U0YzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5cbmxldCBfZGVmYXVsdHMgPSB7XG4gIGR1cmF0aW9uOiAyMDAsIC8vIG1zXG4gIGRpc3Q6IC0xMDAsIC8vIHpvb20gc2NhbGUgVE9ETzogbWFrZSB0aGlzIG1vcmUgaW50dWl0aXZlIGFzIGFuIG9wdGlvblxuICBzaGlmdDogMCwgLy8gc3BhY2luZyBmb3IgY2VudGVyIGltYWdlXG4gIHBhZGRpbmc6IDAsIC8vIFBhZGRpbmcgYmV0d2VlbiBub24gY2VudGVyIGl0ZW1zXG4gIG51bVZpc2libGU6IDUsIC8vIE51bWJlciBvZiB2aXNpYmxlIGl0ZW1zIGluIGNhcm91c2VsXG4gIGZ1bGxXaWR0aDogZmFsc2UsIC8vIENoYW5nZSB0byBmdWxsIHdpZHRoIHN0eWxlc1xuICBpbmRpY2F0b3JzOiBmYWxzZSwgLy8gVG9nZ2xlIGluZGljYXRvcnNcbiAgbm9XcmFwOiBmYWxzZSwgLy8gRG9uJ3Qgd3JhcCBhcm91bmQgYW5kIGN5Y2xlIHRocm91Z2ggaXRlbXMuXG4gIG9uQ3ljbGVUbzogbnVsbCAvLyBDYWxsYmFjayBmb3Igd2hlbiBhIG5ldyBzbGlkZSBpcyBjeWNsZWQgdG8uXG59O1xuXG5leHBvcnQgY2xhc3MgQ2Fyb3VzZWwgZXh0ZW5kcyBDb21wb25lbnQge1xuICBlbDogSFRNTEVsZW1lbnQ7XG4gIGhhc011bHRpcGxlU2xpZGVzOiBib29sZWFuO1xuICBzaG93SW5kaWNhdG9yczogYm9vbGVhbjtcbiAgbm9XcmFwOiBhbnk7XG4gIHByZXNzZWQ6IGJvb2xlYW47XG4gIGRyYWdnZWQ6IGJvb2xlYW47XG4gIG9mZnNldDogbnVtYmVyO1xuICB0YXJnZXQ6IG51bWJlcjtcbiAgaW1hZ2VzOiBIVE1MRWxlbWVudFtdO1xuICBpdGVtV2lkdGg6IGFueTtcbiAgaXRlbUhlaWdodDogYW55O1xuICBkaW06IG51bWJlcjtcbiAgX2luZGljYXRvcnM6IGFueTtcbiAgY291bnQ6IG51bWJlcjtcbiAgeGZvcm06IHN0cmluZztcbiAgdmVydGljYWxEcmFnZ2VkOiBib29sZWFuO1xuICByZWZlcmVuY2U6IGFueTtcbiAgcmVmZXJlbmNlWTogYW55O1xuICB2ZWxvY2l0eTogbnVtYmVyO1xuICBmcmFtZTogbnVtYmVyO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgdGlja2VyOiBOb2RlSlMuVGltZXI7XG4gIGFtcGxpdHVkZTogbnVtYmVyO1xuICBjZW50ZXI6IG51bWJlciA9IDA7XG4gIGltYWdlSGVpZ2h0OiBhbnk7XG4gIHNjcm9sbGluZ1RpbWVvdXQ6IGFueTtcbiAgb25lVGltZUNhbGxiYWNrOiBhbnk7XG5cbiAgY29uc3RydWN0b3IoZWw6IEVsZW1lbnQsIG9wdGlvbnM6IE9iamVjdCkge1xuICAgIHN1cGVyKENhcm91c2VsLCBlbCwgb3B0aW9ucyk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0Nhcm91c2VsID0gdGhpcztcbiAgICB0aGlzLm9wdGlvbnMgPSB7Li4uQ2Fyb3VzZWwuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuXG4gICAgLy8gU2V0dXBcbiAgICB0aGlzLmhhc011bHRpcGxlU2xpZGVzID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwtaXRlbScpLmxlbmd0aCA+IDE7XG4gICAgdGhpcy5zaG93SW5kaWNhdG9ycyA9IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzICYmIHRoaXMuaGFzTXVsdGlwbGVTbGlkZXM7XG4gICAgdGhpcy5ub1dyYXAgPSB0aGlzLm9wdGlvbnMubm9XcmFwIHx8ICF0aGlzLmhhc011bHRpcGxlU2xpZGVzO1xuICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuZHJhZ2dlZCA9IGZhbHNlO1xuICAgIHRoaXMub2Zmc2V0ID0gdGhpcy50YXJnZXQgPSAwO1xuICAgIHRoaXMuaW1hZ2VzID0gW107XG4gICAgdGhpcy5pdGVtV2lkdGggPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtJykuY2xpZW50V2lkdGg7XG4gICAgdGhpcy5pdGVtSGVpZ2h0ID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbScpLmNsaWVudEhlaWdodDtcbiAgICB0aGlzLmRpbSA9IHRoaXMuaXRlbVdpZHRoICogMiArIHRoaXMub3B0aW9ucy5wYWRkaW5nIHx8IDE7IC8vIE1ha2Ugc3VyZSBkaW0gaXMgbm9uIHplcm8gZm9yIGRpdmlzaW9ucy5cblxuICAgIC8vIEZ1bGwgV2lkdGggY2Fyb3VzZWwgc2V0dXBcbiAgICBpZiAodGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgdGhpcy5vcHRpb25zLmRpc3QgPSAwO1xuICAgICAgdGhpcy5fc2V0Q2Fyb3VzZWxIZWlnaHQoKTtcblxuICAgICAgLy8gT2Zmc2V0IGZpeGVkIGl0ZW1zIHdoZW4gaW5kaWNhdG9ycy5cbiAgICAgIGlmICh0aGlzLnNob3dJbmRpY2F0b3JzKSB7XG4gICAgICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWZpeGVkLWl0ZW0nKT8uY2xhc3NMaXN0LmFkZCgnd2l0aC1pbmRpY2F0b3JzJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHNsaWRlc1xuICAgIHRoaXMuX2luZGljYXRvcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRoaXMuX2luZGljYXRvcnMuY2xhc3NMaXN0LmFkZCgnaW5kaWNhdG9ycycpO1xuXG4gICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwtaXRlbScpLmZvckVhY2goKGl0ZW06IEhUTUxFbGVtZW50LCBpKSA9PiB7XG4gICAgICB0aGlzLmltYWdlcy5wdXNoKGl0ZW0pO1xuICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMpIHtcbiAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoJ2luZGljYXRvci1pdGVtJyk7XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luZGljYXRvcnMuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0aGlzLnNob3dJbmRpY2F0b3JzKVxuICAgICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLl9pbmRpY2F0b3JzKTtcblxuICAgIHRoaXMuY291bnQgPSB0aGlzLmltYWdlcy5sZW5ndGg7XG5cbiAgICAvLyBDYXAgbnVtVmlzaWJsZSBhdCBjb3VudFxuICAgIHRoaXMub3B0aW9ucy5udW1WaXNpYmxlID0gTWF0aC5taW4odGhpcy5jb3VudCwgdGhpcy5vcHRpb25zLm51bVZpc2libGUpO1xuXG4gICAgLy8gU2V0dXAgY3Jvc3MgYnJvd3NlciBzdHJpbmdcbiAgICB0aGlzLnhmb3JtID0gJ3RyYW5zZm9ybSc7XG4gICAgWyd3ZWJraXQnLCAnTW96JywgJ08nLCAnbXMnXS5ldmVyeSgocHJlZml4KSA9PiB7XG4gICAgICB2YXIgZSA9IHByZWZpeCArICdUcmFuc2Zvcm0nO1xuICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudC5ib2R5LnN0eWxlW2VdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLnhmb3JtID0gZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLl9zY3JvbGwodGhpcy5vZmZzZXQpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgIGxldCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgIHJldHVybiBkb21FbGVtLk1fQ2Fyb3VzZWw7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQ2Fyb3VzZWwgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93Lm9udG91Y2hzdGFydCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2UpO1xuICAgIH1cbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZUNhcm91c2VsRHJhZyk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2UpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDYXJvdXNlbENsaWNrKTtcbiAgICBpZiAodGhpcy5zaG93SW5kaWNhdG9ycyAmJiB0aGlzLl9pbmRpY2F0b3JzKSB7XG4gICAgICB0aGlzLl9pbmRpY2F0b3JzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbmRpY2F0b3ItaXRlbScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5kaWNhdG9yQ2xpY2spO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFJlc2l6ZVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemUpO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cub250b3VjaHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXApO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbERyYWcpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZSk7XG4gICAgfVxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXApO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2UpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZSk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhcm91c2VsQ2xpY2spO1xuICAgIGlmICh0aGlzLnNob3dJbmRpY2F0b3JzICYmIHRoaXMuX2luZGljYXRvcnMpIHtcbiAgICAgIHRoaXMuX2luZGljYXRvcnMucXVlcnlTZWxlY3RvckFsbCgnLmluZGljYXRvci1pdGVtJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbmRpY2F0b3JDbGljayk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZSk7XG4gIH1cblxuICBfaGFuZGxlVGhyb3R0bGVkUmVzaXplID0gKCgpID0+IE0udGhyb3R0bGUoZnVuY3Rpb24oKXsgdGhpcy5faGFuZGxlUmVzaXplKCk7IH0sIDIwMCwgbnVsbCkuYmluZCh0aGlzKSkoKTtcblxuICBfaGFuZGxlQ2Fyb3VzZWxUYXAgPSAoZSkgPT4ge1xuICAgIC8vIEZpeGVzIGZpcmVmb3ggZHJhZ2dhYmxlIGltYWdlIGJ1Z1xuICAgIGlmIChlLnR5cGUgPT09ICdtb3VzZWRvd24nICYmICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLnRhZ05hbWUgPT09ICdJTUcnKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIHRoaXMucHJlc3NlZCA9IHRydWU7XG4gICAgdGhpcy5kcmFnZ2VkID0gZmFsc2U7XG4gICAgdGhpcy52ZXJ0aWNhbERyYWdnZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlZmVyZW5jZSA9IHRoaXMuX3hwb3MoZSk7XG4gICAgdGhpcy5yZWZlcmVuY2VZID0gdGhpcy5feXBvcyhlKTtcblxuICAgIHRoaXMudmVsb2NpdHkgPSB0aGlzLmFtcGxpdHVkZSA9IDA7XG4gICAgdGhpcy5mcmFtZSA9IHRoaXMub2Zmc2V0O1xuICAgIHRoaXMudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICBjbGVhckludGVydmFsKHRoaXMudGlja2VyKTtcbiAgICB0aGlzLnRpY2tlciA9IHNldEludGVydmFsKHRoaXMuX3RyYWNrLCAxMDApO1xuICB9XG5cbiAgX2hhbmRsZUNhcm91c2VsRHJhZyA9IChlKSA9PiB7XG4gICAgbGV0IHgsIHksIGRlbHRhLCBkZWx0YVk7XG4gICAgaWYgKHRoaXMucHJlc3NlZCkge1xuICAgICAgeCA9IHRoaXMuX3hwb3MoZSk7XG4gICAgICB5ID0gdGhpcy5feXBvcyhlKTtcbiAgICAgIGRlbHRhID0gdGhpcy5yZWZlcmVuY2UgLSB4O1xuICAgICAgZGVsdGFZID0gTWF0aC5hYnModGhpcy5yZWZlcmVuY2VZIC0geSk7XG4gICAgICBpZiAoZGVsdGFZIDwgMzAgJiYgIXRoaXMudmVydGljYWxEcmFnZ2VkKSB7XG4gICAgICAgIC8vIElmIHZlcnRpY2FsIHNjcm9sbGluZyBkb24ndCBhbGxvdyBkcmFnZ2luZy5cbiAgICAgICAgaWYgKGRlbHRhID4gMiB8fCBkZWx0YSA8IC0yKSB7XG4gICAgICAgICAgdGhpcy5kcmFnZ2VkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnJlZmVyZW5jZSA9IHg7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsKHRoaXMub2Zmc2V0ICsgZGVsdGEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZHJhZ2dlZCkge1xuICAgICAgICAvLyBJZiBkcmFnZ2luZyBkb24ndCBhbGxvdyB2ZXJ0aWNhbCBzY3JvbGwuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVmVydGljYWwgc2Nyb2xsaW5nLlxuICAgICAgICB0aGlzLnZlcnRpY2FsRHJhZ2dlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmRyYWdnZWQpIHtcbiAgICAgIC8vIElmIGRyYWdnaW5nIGRvbid0IGFsbG93IHZlcnRpY2FsIHNjcm9sbC5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUNhcm91c2VsUmVsZWFzZSA9IChlKSA9PiB7XG4gICAgaWYgKHRoaXMucHJlc3NlZCkge1xuICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpY2tlcik7XG4gICAgdGhpcy50YXJnZXQgPSB0aGlzLm9mZnNldDtcbiAgICBpZiAodGhpcy52ZWxvY2l0eSA+IDEwIHx8IHRoaXMudmVsb2NpdHkgPCAtMTApIHtcbiAgICAgIHRoaXMuYW1wbGl0dWRlID0gMC45ICogdGhpcy52ZWxvY2l0eTtcbiAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5vZmZzZXQgKyB0aGlzLmFtcGxpdHVkZTtcbiAgICB9XG4gICAgdGhpcy50YXJnZXQgPSBNYXRoLnJvdW5kKHRoaXMudGFyZ2V0IC8gdGhpcy5kaW0pICogdGhpcy5kaW07XG4gICAgLy8gTm8gd3JhcCBvZiBpdGVtcy5cbiAgICBpZiAodGhpcy5ub1dyYXApIHtcbiAgICAgIGlmICh0aGlzLnRhcmdldCA+PSB0aGlzLmRpbSAqICh0aGlzLmNvdW50IC0gMSkpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLmRpbSAqICh0aGlzLmNvdW50IC0gMSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudGFyZ2V0IDwgMCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYW1wbGl0dWRlID0gdGhpcy50YXJnZXQgLSB0aGlzLm9mZnNldDtcbiAgICB0aGlzLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2F1dG9TY3JvbGwpO1xuICAgIGlmICh0aGlzLmRyYWdnZWQpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIF9oYW5kbGVDYXJvdXNlbENsaWNrID0gKGUpID0+IHtcbiAgICAvLyBEaXNhYmxlIGNsaWNrcyBpZiBjYXJvdXNlbCB3YXMgZHJhZ2dlZC5cbiAgICBpZiAodGhpcy5kcmFnZ2VkKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIGlmICghdGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgY29uc3QgY2xpY2tlZEVsZW0gPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuY2Fyb3VzZWwtaXRlbScpO1xuICAgICAgY29uc3QgY2xpY2tlZEluZGV4ID0gWy4uLmNsaWNrZWRFbGVtLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YoY2xpY2tlZEVsZW0pO1xuICAgICAgY29uc3QgZGlmZiA9IHRoaXMuX3dyYXAodGhpcy5jZW50ZXIpIC0gY2xpY2tlZEluZGV4O1xuICAgICAgLy8gRGlzYWJsZSBjbGlja3MgaWYgY2Fyb3VzZWwgd2FzIHNoaWZ0ZWQgYnkgY2xpY2tcbiAgICAgIGlmIChkaWZmICE9PSAwKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIC8vIGZpeGVzIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS9pc3N1ZXMvMTgwXG4gICAgICBpZiAoY2xpY2tlZEluZGV4IDwgMCkge1xuICAgICAgICAvLyByZWxhdGl2ZSBYIHBvc2l0aW9uID4gY2VudGVyIG9mIGNhcm91c2VsID0gY2xpY2tlZCBhdCB0aGUgcmlnaHQgcGFydCBvZiB0aGUgY2Fyb3VzZWxcbiAgICAgICAgaWYgKGUuY2xpZW50WCAtIGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgPiB0aGlzLmVsLmNsaWVudFdpZHRoIC8gMikge1xuICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucHJldigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jeWNsZVRvKGNsaWNrZWRJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUluZGljYXRvckNsaWNrID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCBpbmRpY2F0b3IgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuaW5kaWNhdG9yLWl0ZW0nKTtcbiAgICBpZiAoaW5kaWNhdG9yKSB7XG4gICAgICBjb25zdCBpbmRleCA9IFsuLi5pbmRpY2F0b3IucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihpbmRpY2F0b3IpO1xuICAgICAgdGhpcy5fY3ljbGVUbyhpbmRleCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgdGhpcy5pdGVtV2lkdGggPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtJykuY2xpZW50V2lkdGg7XG4gICAgICB0aGlzLmltYWdlSGVpZ2h0ID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbS5hY3RpdmUnKS5jbGllbnRIZWlnaHQ7XG4gICAgICB0aGlzLmRpbSA9IHRoaXMuaXRlbVdpZHRoICogMiArIHRoaXMub3B0aW9ucy5wYWRkaW5nO1xuICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLmNlbnRlciAqIDIgKiB0aGlzLml0ZW1XaWR0aDtcbiAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5vZmZzZXQ7XG4gICAgICB0aGlzLl9zZXRDYXJvdXNlbEhlaWdodCh0cnVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9zY3JvbGwoKTtcbiAgICB9XG4gIH1cblxuICBfc2V0Q2Fyb3VzZWxIZWlnaHQoaW1hZ2VPbmx5OiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBjb25zdCBmaXJzdFNsaWRlID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbS5hY3RpdmUnKVxuICAgICAgPyB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtLmFjdGl2ZScpXG4gICAgICA6IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWl0ZW0nKTtcblxuICAgIGNvbnN0IGZpcnN0SW1hZ2UgPSBmaXJzdFNsaWRlLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgIGlmIChmaXJzdEltYWdlKSB7XG4gICAgICBpZiAoZmlyc3RJbWFnZS5jb21wbGV0ZSkge1xuICAgICAgICAvLyBJZiBpbWFnZSB3b24ndCB0cmlnZ2VyIHRoZSBsb2FkIGV2ZW50XG4gICAgICAgIGNvbnN0IGltYWdlSGVpZ2h0ID0gZmlyc3RJbWFnZS5jbGllbnRIZWlnaHQ7XG4gICAgICAgIGlmIChpbWFnZUhlaWdodCA+IDApIHtcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IGltYWdlSGVpZ2h0KydweCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gSWYgaW1hZ2Ugc3RpbGwgaGFzIG5vIGhlaWdodCwgdXNlIHRoZSBuYXR1cmFsIGRpbWVuc2lvbnMgdG8gY2FsY3VsYXRlXG4gICAgICAgICAgY29uc3QgbmF0dXJhbFdpZHRoID0gZmlyc3RJbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgICAgY29uc3QgbmF0dXJhbEhlaWdodCA9IGZpcnN0SW1hZ2UubmF0dXJhbEhlaWdodDtcbiAgICAgICAgICBjb25zdCBhZGp1c3RlZEhlaWdodCA9ICh0aGlzLmVsLmNsaWVudFdpZHRoIC8gbmF0dXJhbFdpZHRoKSAqIG5hdHVyYWxIZWlnaHQ7XG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBhZGp1c3RlZEhlaWdodCsncHgnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBHZXQgaGVpZ2h0IHdoZW4gaW1hZ2UgaXMgbG9hZGVkIG5vcm1hbGx5XG4gICAgICAgIGZpcnN0SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IGZpcnN0SW1hZ2Uub2Zmc2V0SGVpZ2h0KydweCc7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICghaW1hZ2VPbmx5KSB7XG4gICAgICBjb25zdCBzbGlkZUhlaWdodCA9IGZpcnN0U2xpZGUuY2xpZW50SGVpZ2h0O1xuICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBzbGlkZUhlaWdodCsncHgnO1xuICAgIH1cbiAgfVxuXG4gIF94cG9zKGUpIHtcbiAgICAvLyB0b3VjaCBldmVudFxuICAgIGlmIChlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICByZXR1cm4gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgfVxuICAgIC8vIG1vdXNlIGV2ZW50XG4gICAgcmV0dXJuIGUuY2xpZW50WDtcbiAgfVxuXG4gIF95cG9zKGUpIHtcbiAgICAvLyB0b3VjaCBldmVudFxuICAgIGlmIChlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICByZXR1cm4gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfVxuICAgIC8vIG1vdXNlIGV2ZW50XG4gICAgcmV0dXJuIGUuY2xpZW50WTtcbiAgfVxuXG4gIF93cmFwKHg6IG51bWJlcikge1xuICAgIHJldHVybiB4ID49IHRoaXMuY291bnRcbiAgICAgID8geCAlIHRoaXMuY291bnRcbiAgICAgIDogeCA8IDBcbiAgICAgID8gdGhpcy5fd3JhcCh0aGlzLmNvdW50ICsgKHggJSB0aGlzLmNvdW50KSlcbiAgICAgIDogeDtcbiAgfVxuXG4gIF90cmFjayA9ICgpID0+IHtcbiAgICBsZXQgbm93LCBlbGFwc2VkLCBkZWx0YSwgdjtcbiAgICBub3cgPSBEYXRlLm5vdygpO1xuICAgIGVsYXBzZWQgPSBub3cgLSB0aGlzLnRpbWVzdGFtcDtcbiAgICB0aGlzLnRpbWVzdGFtcCA9IG5vdztcbiAgICBkZWx0YSA9IHRoaXMub2Zmc2V0IC0gdGhpcy5mcmFtZTtcbiAgICB0aGlzLmZyYW1lID0gdGhpcy5vZmZzZXQ7XG4gICAgdiA9ICgxMDAwICogZGVsdGEpIC8gKDEgKyBlbGFwc2VkKTtcbiAgICB0aGlzLnZlbG9jaXR5ID0gMC44ICogdiArIDAuMiAqIHRoaXMudmVsb2NpdHk7XG4gIH1cblxuICBfYXV0b1Njcm9sbCA9ICgpID0+IHtcbiAgICBsZXQgZWxhcHNlZCwgZGVsdGE7XG4gICAgaWYgKHRoaXMuYW1wbGl0dWRlKSB7XG4gICAgICBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIHRoaXMudGltZXN0YW1wO1xuICAgICAgZGVsdGEgPSB0aGlzLmFtcGxpdHVkZSAqIE1hdGguZXhwKC1lbGFwc2VkIC8gdGhpcy5vcHRpb25zLmR1cmF0aW9uKTtcbiAgICAgIGlmIChkZWx0YSA+IDIgfHwgZGVsdGEgPCAtMikge1xuICAgICAgICB0aGlzLl9zY3JvbGwodGhpcy50YXJnZXQgLSBkZWx0YSk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9hdXRvU2Nyb2xsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Njcm9sbCh0aGlzLnRhcmdldCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3Njcm9sbCh4OiBudW1iZXIgPSAwKSB7XG4gICAgLy8gVHJhY2sgc2Nyb2xsaW5nIHN0YXRlXG4gICAgaWYgKCF0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygnc2Nyb2xsaW5nJykpIHtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsaW5nJyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnNjcm9sbGluZ1RpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnNjcm9sbGluZ1RpbWVvdXQpO1xuICAgIH1cbiAgICB0aGlzLnNjcm9sbGluZ1RpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Njcm9sbGluZycpO1xuICAgIH0sIHRoaXMub3B0aW9ucy5kdXJhdGlvbik7XG5cbiAgICAvLyBTdGFydCBhY3R1YWwgc2Nyb2xsXG4gICAgbGV0IGksXG4gICAgICBoYWxmLFxuICAgICAgZGVsdGEsXG4gICAgICBkaXIsXG4gICAgICB0d2VlbixcbiAgICAgIGVsLFxuICAgICAgYWxpZ25tZW50LFxuICAgICAgelRyYW5zbGF0aW9uLFxuICAgICAgdHdlZW5lZE9wYWNpdHksXG4gICAgICBjZW50ZXJUd2VlbmVkT3BhY2l0eTtcbiAgICBsZXQgbGFzdENlbnRlciA9IHRoaXMuY2VudGVyO1xuICAgIGxldCBudW1WaXNpYmxlT2Zmc2V0ID0gMSAvIHRoaXMub3B0aW9ucy5udW1WaXNpYmxlO1xuXG4gICAgdGhpcy5vZmZzZXQgPSB0eXBlb2YgeCA9PT0gJ251bWJlcicgPyB4IDogdGhpcy5vZmZzZXQ7XG4gICAgdGhpcy5jZW50ZXIgPSBNYXRoLmZsb29yKCh0aGlzLm9mZnNldCArIHRoaXMuZGltIC8gMikgLyB0aGlzLmRpbSk7XG5cbiAgICBkZWx0YSA9IHRoaXMub2Zmc2V0IC0gdGhpcy5jZW50ZXIgKiB0aGlzLmRpbTtcbiAgICBkaXIgPSBkZWx0YSA8IDAgPyAxIDogLTE7XG4gICAgdHdlZW4gPSAoLWRpciAqIGRlbHRhICogMikgLyB0aGlzLmRpbTtcbiAgICBoYWxmID0gdGhpcy5jb3VudCA+PiAxO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsV2lkdGgpIHtcbiAgICAgIGFsaWdubWVudCA9ICd0cmFuc2xhdGVYKDApJztcbiAgICAgIGNlbnRlclR3ZWVuZWRPcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBhbGlnbm1lbnQgPSAndHJhbnNsYXRlWCgnICsgKHRoaXMuZWwuY2xpZW50V2lkdGggLSB0aGlzLml0ZW1XaWR0aCkgLyAyICsgJ3B4KSAnO1xuICAgICAgYWxpZ25tZW50ICs9ICd0cmFuc2xhdGVZKCcgKyAodGhpcy5lbC5jbGllbnRIZWlnaHQgLSB0aGlzLml0ZW1IZWlnaHQpIC8gMiArICdweCknO1xuICAgICAgY2VudGVyVHdlZW5lZE9wYWNpdHkgPSAxIC0gbnVtVmlzaWJsZU9mZnNldCAqIHR3ZWVuO1xuICAgIH1cblxuICAgIC8vIFNldCBpbmRpY2F0b3IgYWN0aXZlXG4gICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMpIHtcbiAgICAgIGNvbnN0IGRpZmYgPSB0aGlzLmNlbnRlciAlIHRoaXMuY291bnQ7XG4gICAgICBjb25zdCBhY3RpdmVJbmRpY2F0b3IgPSB0aGlzLl9pbmRpY2F0b3JzLnF1ZXJ5U2VsZWN0b3IoJy5pbmRpY2F0b3ItaXRlbS5hY3RpdmUnKTtcbiAgICAgIGNvbnN0IGFjdGl2ZUluZGljYXRvckluZGV4ID0gWy4uLmFjdGl2ZUluZGljYXRvci5wYXJlbnROb2RlLmNoaWxkcmVuXS5pbmRleE9mKGFjdGl2ZUluZGljYXRvcik7XG4gICAgICBpZiAoYWN0aXZlSW5kaWNhdG9ySW5kZXggIT09IGRpZmYpIHtcbiAgICAgICAgYWN0aXZlSW5kaWNhdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBjb25zdCBwb3MgPSBkaWZmIDwgMCA/IHRoaXMuY291bnQgKyBkaWZmIDogZGlmZjtcbiAgICAgICAgdGhpcy5faW5kaWNhdG9ycy5xdWVyeVNlbGVjdG9yQWxsKCcuaW5kaWNhdG9yLWl0ZW0nKVtwb3NdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNlbnRlclxuICAgIC8vIERvbid0IHNob3cgd3JhcHBlZCBpdGVtcy5cbiAgICBpZiAoIXRoaXMubm9XcmFwIHx8ICh0aGlzLmNlbnRlciA+PSAwICYmIHRoaXMuY2VudGVyIDwgdGhpcy5jb3VudCkpIHtcbiAgICAgIGVsID0gdGhpcy5pbWFnZXNbdGhpcy5fd3JhcCh0aGlzLmNlbnRlcildO1xuXG4gICAgICAvLyBBZGQgYWN0aXZlIGNsYXNzIHRvIGNlbnRlciBpdGVtLlxuICAgICAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWl0ZW0nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB9XG5cbiAgICAgIGxldCB0cmFuc2Zvcm1TdHJpbmcgPSBgJHthbGlnbm1lbnR9IHRyYW5zbGF0ZVgoJHstZGVsdGEgLyAyfXB4KSB0cmFuc2xhdGVYKCR7ZGlyICpcbiAgICAgICAgdGhpcy5vcHRpb25zLnNoaWZ0ICpcbiAgICAgICAgdHdlZW4gKlxuICAgICAgICBpfXB4KSB0cmFuc2xhdGVaKCR7dGhpcy5vcHRpb25zLmRpc3QgKiB0d2Vlbn1weClgO1xuICAgICAgdGhpcy5fdXBkYXRlSXRlbVN0eWxlKGVsLCBjZW50ZXJUd2VlbmVkT3BhY2l0eSwgMCwgdHJhbnNmb3JtU3RyaW5nKTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxOyBpIDw9IGhhbGY7ICsraSkge1xuICAgICAgLy8gcmlnaHQgc2lkZVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsV2lkdGgpIHtcbiAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3Q7XG4gICAgICAgIHR3ZWVuZWRPcGFjaXR5ID0gaSA9PT0gaGFsZiAmJiBkZWx0YSA8IDAgPyAxIC0gdHdlZW4gOiAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3QgKiAoaSAqIDIgKyB0d2VlbiAqIGRpcik7XG4gICAgICAgIHR3ZWVuZWRPcGFjaXR5ID0gMSAtIG51bVZpc2libGVPZmZzZXQgKiAoaSAqIDIgKyB0d2VlbiAqIGRpcik7XG4gICAgICB9XG4gICAgICAvLyBEb24ndCBzaG93IHdyYXBwZWQgaXRlbXMuXG4gICAgICBpZiAoIXRoaXMubm9XcmFwIHx8IHRoaXMuY2VudGVyICsgaSA8IHRoaXMuY291bnQpIHtcbiAgICAgICAgZWwgPSB0aGlzLmltYWdlc1t0aGlzLl93cmFwKHRoaXMuY2VudGVyICsgaSldO1xuICAgICAgICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gYCR7YWxpZ25tZW50fSB0cmFuc2xhdGVYKCR7dGhpcy5vcHRpb25zLnNoaWZ0ICtcbiAgICAgICAgICAodGhpcy5kaW0gKiBpIC0gZGVsdGEpIC8gMn1weCkgdHJhbnNsYXRlWigke3pUcmFuc2xhdGlvbn1weClgO1xuICAgICAgICB0aGlzLl91cGRhdGVJdGVtU3R5bGUoZWwsIHR3ZWVuZWRPcGFjaXR5LCAtaSwgdHJhbnNmb3JtU3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIC8vIGxlZnQgc2lkZVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsV2lkdGgpIHtcbiAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3Q7XG4gICAgICAgIHR3ZWVuZWRPcGFjaXR5ID0gaSA9PT0gaGFsZiAmJiBkZWx0YSA+IDAgPyAxIC0gdHdlZW4gOiAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3QgKiAoaSAqIDIgLSB0d2VlbiAqIGRpcik7XG4gICAgICAgIHR3ZWVuZWRPcGFjaXR5ID0gMSAtIG51bVZpc2libGVPZmZzZXQgKiAoaSAqIDIgLSB0d2VlbiAqIGRpcik7XG4gICAgICB9XG4gICAgICAvLyBEb24ndCBzaG93IHdyYXBwZWQgaXRlbXMuXG4gICAgICBpZiAoIXRoaXMubm9XcmFwIHx8IHRoaXMuY2VudGVyIC0gaSA+PSAwKSB7XG4gICAgICAgIGVsID0gdGhpcy5pbWFnZXNbdGhpcy5fd3JhcCh0aGlzLmNlbnRlciAtIGkpXTtcbiAgICAgICAgbGV0IHRyYW5zZm9ybVN0cmluZyA9IGAke2FsaWdubWVudH0gdHJhbnNsYXRlWCgkey10aGlzLm9wdGlvbnMuc2hpZnQgK1xuICAgICAgICAgICgtdGhpcy5kaW0gKiBpIC0gZGVsdGEpIC8gMn1weCkgdHJhbnNsYXRlWigke3pUcmFuc2xhdGlvbn1weClgO1xuICAgICAgICB0aGlzLl91cGRhdGVJdGVtU3R5bGUoZWwsIHR3ZWVuZWRPcGFjaXR5LCAtaSwgdHJhbnNmb3JtU3RyaW5nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gY2VudGVyXG4gICAgLy8gRG9uJ3Qgc2hvdyB3cmFwcGVkIGl0ZW1zLlxuICAgIGlmICghdGhpcy5ub1dyYXAgfHwgKHRoaXMuY2VudGVyID49IDAgJiYgdGhpcy5jZW50ZXIgPCB0aGlzLmNvdW50KSkge1xuICAgICAgZWwgPSB0aGlzLmltYWdlc1t0aGlzLl93cmFwKHRoaXMuY2VudGVyKV07XG4gICAgICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gYCR7YWxpZ25tZW50fSB0cmFuc2xhdGVYKCR7LWRlbHRhIC8gMn1weCkgdHJhbnNsYXRlWCgke2RpciAqXG4gICAgICAgIHRoaXMub3B0aW9ucy5zaGlmdCAqXG4gICAgICAgIHR3ZWVufXB4KSB0cmFuc2xhdGVaKCR7dGhpcy5vcHRpb25zLmRpc3QgKiB0d2Vlbn1weClgO1xuICAgICAgdGhpcy5fdXBkYXRlSXRlbVN0eWxlKGVsLCBjZW50ZXJUd2VlbmVkT3BhY2l0eSwgMCwgdHJhbnNmb3JtU3RyaW5nKTtcbiAgICB9XG4gICAgLy8gb25DeWNsZVRvIGNhbGxiYWNrXG4gICAgY29uc3QgX2N1cnJJdGVtID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwtaXRlbScpW3RoaXMuX3dyYXAodGhpcy5jZW50ZXIpXTtcblxuICAgIGlmIChsYXN0Q2VudGVyICE9PSB0aGlzLmNlbnRlciAmJiB0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ3ljbGVUbyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ3ljbGVUby5jYWxsKHRoaXMsIF9jdXJySXRlbSwgdGhpcy5kcmFnZ2VkKTtcbiAgICB9XG4gICAgLy8gT25lIHRpbWUgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub25lVGltZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9uZVRpbWVDYWxsYmFjay5jYWxsKHRoaXMsIF9jdXJySXRlbSwgdGhpcy5kcmFnZ2VkKTtcbiAgICAgIHRoaXMub25lVGltZUNhbGxiYWNrID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBfdXBkYXRlSXRlbVN0eWxlKGVsOiBIVE1MRWxlbWVudCwgb3BhY2l0eTogbnVtYmVyLCB6SW5kZXg6IG51bWJlciwgdHJhbnNmb3JtOiBzdHJpbmcpIHtcbiAgICBlbC5zdHlsZVt0aGlzLnhmb3JtXSA9IHRyYW5zZm9ybTtcbiAgICBlbC5zdHlsZS56SW5kZXggPSB6SW5kZXgudG9TdHJpbmcoKTtcbiAgICBlbC5zdHlsZS5vcGFjaXR5ID0gb3BhY2l0eS50b1N0cmluZygpO1xuICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gIH1cblxuICBfY3ljbGVUbyhuOiBudW1iZXIsIGNhbGxiYWNrOiBGdW5jdGlvbiA9IG51bGwpIHtcbiAgICBsZXQgZGlmZiA9ICh0aGlzLmNlbnRlciAlIHRoaXMuY291bnQpIC0gbjtcbiAgICAvLyBBY2NvdW50IGZvciB3cmFwYXJvdW5kLlxuICAgIGlmICghdGhpcy5ub1dyYXApIHtcbiAgICAgIGlmIChkaWZmIDwgMCkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGlmZiArIHRoaXMuY291bnQpIDwgTWF0aC5hYnMoZGlmZikpIHtcbiAgICAgICAgICBkaWZmICs9IHRoaXMuY291bnQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZGlmZiA+IDApIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGRpZmYgLSB0aGlzLmNvdW50KSA8IGRpZmYpIHtcbiAgICAgICAgICBkaWZmIC09IHRoaXMuY291bnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50YXJnZXQgPSB0aGlzLmRpbSAqIE1hdGgucm91bmQodGhpcy5vZmZzZXQgLyB0aGlzLmRpbSk7XG4gICAgLy8gTmV4dFxuICAgIGlmIChkaWZmIDwgMCkge1xuICAgICAgdGhpcy50YXJnZXQgKz0gdGhpcy5kaW0gKiBNYXRoLmFicyhkaWZmKTtcbiAgICB9IC8vIFByZXZcbiAgICBlbHNlIGlmIChkaWZmID4gMCkge1xuICAgICAgdGhpcy50YXJnZXQgLT0gdGhpcy5kaW0gKiBkaWZmO1xuICAgIH1cbiAgICAvLyBTZXQgb25lIHRpbWUgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9uZVRpbWVDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICAvLyBTY3JvbGxcbiAgICBpZiAodGhpcy5vZmZzZXQgIT09IHRoaXMudGFyZ2V0KSB7XG4gICAgICB0aGlzLmFtcGxpdHVkZSA9IHRoaXMudGFyZ2V0IC0gdGhpcy5vZmZzZXQ7XG4gICAgICB0aGlzLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYXV0b1Njcm9sbCk7XG4gICAgfVxuICB9XG5cbiAgbmV4dChuOiBudW1iZXIgPSAxKSB7XG4gICAgaWYgKG4gPT09IHVuZGVmaW5lZCB8fCBpc05hTihuKSkge1xuICAgICAgbiA9IDE7XG4gICAgfVxuICAgIGxldCBpbmRleCA9IHRoaXMuY2VudGVyICsgbjtcbiAgICBpZiAoaW5kZXggPj0gdGhpcy5jb3VudCB8fCBpbmRleCA8IDApIHtcbiAgICAgIGlmICh0aGlzLm5vV3JhcCkgcmV0dXJuO1xuICAgICAgaW5kZXggPSB0aGlzLl93cmFwKGluZGV4KTtcbiAgICB9XG4gICAgdGhpcy5fY3ljbGVUbyhpbmRleCk7XG4gIH1cblxuICBwcmV2KG46IG51bWJlciA9IDEpIHtcbiAgICBpZiAobiA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKG4pKSB7XG4gICAgICBuID0gMTtcbiAgICB9XG4gICAgbGV0IGluZGV4ID0gdGhpcy5jZW50ZXIgLSBuO1xuICAgIGlmIChpbmRleCA+PSB0aGlzLmNvdW50IHx8IGluZGV4IDwgMCkge1xuICAgICAgaWYgKHRoaXMubm9XcmFwKSByZXR1cm47XG4gICAgICBpbmRleCA9IHRoaXMuX3dyYXAoaW5kZXgpO1xuICAgIH1cbiAgICB0aGlzLl9jeWNsZVRvKGluZGV4KTtcbiAgfVxuXG4gIHNldChuOiBudW1iZXIsIGNhbGxiYWNrOiBGdW5jdGlvbikge1xuICAgIGlmIChuID09PSB1bmRlZmluZWQgfHwgaXNOYU4obikpIHtcbiAgICAgIG4gPSAwO1xuICAgIH1cbiAgICBpZiAobiA+IHRoaXMuY291bnQgfHwgbiA8IDApIHtcbiAgICAgIGlmICh0aGlzLm5vV3JhcCkgcmV0dXJuO1xuICAgICAgbiA9IHRoaXMuX3dyYXAobik7XG4gICAgfVxuICAgIHRoaXMuX2N5Y2xlVG8obiwgY2FsbGJhY2spO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/carousel.ts\n");

/***/ }),

/***/ "./src/characterCounter.ts":
/*!*********************************!*\
  !*** ./src/characterCounter.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CharacterCounter = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {};\nclass CharacterCounter extends component_1.Component {\n    constructor(el, options) {\n        super(CharacterCounter, el, options);\n        this.updateCounter = () => {\n            let maxLength = parseInt(this.el.getAttribute('data-length')), actualLength = this.el.value.length;\n            this.isValidLength = actualLength <= maxLength;\n            let counterString = actualLength.toString();\n            if (maxLength) {\n                counterString += '/' + maxLength;\n                this._validateInput();\n            }\n            this.counterEl.innerHTML = counterString;\n        };\n        this.el.M_CharacterCounter = this;\n        this.options = Object.assign(Object.assign({}, CharacterCounter.defaults), options);\n        this.isInvalid = false;\n        this.isValidLength = false;\n        this._setupCounter();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_CharacterCounter;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.CharacterCounter = undefined;\n        this._removeCounter();\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('focus', this.updateCounter, true);\n        this.el.addEventListener('input', this.updateCounter, true);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('focus', this.updateCounter, true);\n        this.el.removeEventListener('input', this.updateCounter, true);\n    }\n    _setupCounter() {\n        this.counterEl = document.createElement('span');\n        this.counterEl.classList.add('character-counter');\n        this.counterEl.style.float = 'right';\n        this.counterEl.style.fontSize = '12px';\n        this.counterEl.style.height = '1';\n        this.el.parentElement.appendChild(this.counterEl);\n    }\n    _removeCounter() {\n        this.counterEl.remove();\n    }\n    _validateInput() {\n        if (this.isValidLength && this.isInvalid) {\n            this.isInvalid = false;\n            this.el.classList.remove('invalid');\n        }\n        else if (!this.isValidLength && !this.isInvalid) {\n            this.isInvalid = true;\n            this.el.classList.remove('valid');\n            this.el.classList.add('invalid');\n        }\n    }\n}\nexports.CharacterCounter = CharacterCounter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDbEQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQztRQUNyQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7UUFDbEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUQsY0FBYztRQUNaLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDMUIsQ0FBQztJQWVELGNBQWM7UUFDWixJQUFJLElBQUksQ0FBQyxhQUFhLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUN4QyxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztZQUN2QixJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDckM7YUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDL0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7WUFDdEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2xDLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUNsQztJQUNILENBQUM7Q0FDRjtBQWpGRCw0Q0FpRkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvY2hhcmFjdGVyQ291bnRlci50cz8zYjJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5sZXQgX2RlZmF1bHRzID0ge307XG5cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJDb3VudGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgaXNJbnZhbGlkOiBib29sZWFuO1xuICBpc1ZhbGlkTGVuZ3RoOiBib29sZWFuO1xuICBjb3VudGVyRWw6IEhUTUxTcGFuRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihlbDogRWxlbWVudCwgb3B0aW9uczogT2JqZWN0KSB7XG4gICAgc3VwZXIoQ2hhcmFjdGVyQ291bnRlciwgZWwsIG9wdGlvbnMpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9DaGFyYWN0ZXJDb3VudGVyID0gdGhpcztcbiAgICB0aGlzLm9wdGlvbnMgPSB7Li4uQ2hhcmFjdGVyQ291bnRlci5kZWZhdWx0cywgLi4ub3B0aW9uc307XG4gICAgdGhpcy5pc0ludmFsaWQgPSBmYWxzZTtcbiAgICB0aGlzLmlzVmFsaWRMZW5ndGggPSBmYWxzZTtcbiAgICB0aGlzLl9zZXR1cENvdW50ZXIoKTtcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgfVxuXG4gIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICBsZXQgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICByZXR1cm4gZG9tRWxlbS5NX0NoYXJhY3RlckNvdW50ZXI7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLkNoYXJhY3RlckNvdW50ZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fcmVtb3ZlQ291bnRlcigpO1xuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy51cGRhdGVDb3VudGVyLCB0cnVlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy51cGRhdGVDb3VudGVyLCB0cnVlKTtcbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLnVwZGF0ZUNvdW50ZXIsIHRydWUpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLnVwZGF0ZUNvdW50ZXIsIHRydWUpO1xuICB9XG5cbiAgX3NldHVwQ291bnRlcigpIHtcbiAgICB0aGlzLmNvdW50ZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB0aGlzLmNvdW50ZXJFbC5jbGFzc0xpc3QuYWRkKCdjaGFyYWN0ZXItY291bnRlcicpO1xuICAgIHRoaXMuY291bnRlckVsLnN0eWxlLmZsb2F0ID0gJ3JpZ2h0JztcbiAgICB0aGlzLmNvdW50ZXJFbC5zdHlsZS5mb250U2l6ZSA9ICcxMnB4JztcbiAgICB0aGlzLmNvdW50ZXJFbC5zdHlsZS5oZWlnaHQgPSAnMSc7XG4gICAgdGhpcy5lbC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY291bnRlckVsKTtcbiAgfVxuXG4gIF9yZW1vdmVDb3VudGVyKCkge1xuICAgIHRoaXMuY291bnRlckVsLnJlbW92ZSgpO1xuICB9XG5cbiAgdXBkYXRlQ291bnRlciA9ICgpID0+IHtcbiAgICBsZXQgbWF4TGVuZ3RoID0gcGFyc2VJbnQodGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbGVuZ3RoJykpLFxuICAgICAgYWN0dWFsTGVuZ3RoID0gKHRoaXMuZWwgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUubGVuZ3RoO1xuXG4gICAgdGhpcy5pc1ZhbGlkTGVuZ3RoID0gYWN0dWFsTGVuZ3RoIDw9IG1heExlbmd0aDtcbiAgICBsZXQgY291bnRlclN0cmluZyA9IGFjdHVhbExlbmd0aC50b1N0cmluZygpO1xuICAgIGlmIChtYXhMZW5ndGgpIHtcbiAgICAgIGNvdW50ZXJTdHJpbmcgKz0gJy8nICsgbWF4TGVuZ3RoO1xuICAgICAgdGhpcy5fdmFsaWRhdGVJbnB1dCgpO1xuICAgIH1cbiAgICB0aGlzLmNvdW50ZXJFbC5pbm5lckhUTUwgPSBjb3VudGVyU3RyaW5nO1xuICB9XG5cbiAgX3ZhbGlkYXRlSW5wdXQoKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZExlbmd0aCAmJiB0aGlzLmlzSW52YWxpZCkge1xuICAgICAgdGhpcy5pc0ludmFsaWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaW52YWxpZCcpO1xuICAgIH1cbiAgICBlbHNlIGlmICghdGhpcy5pc1ZhbGlkTGVuZ3RoICYmICF0aGlzLmlzSW52YWxpZCkge1xuICAgICAgdGhpcy5pc0ludmFsaWQgPSB0cnVlO1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCd2YWxpZCcpO1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdpbnZhbGlkJyk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/characterCounter.ts\n");

/***/ }),

/***/ "./src/chips.ts":
/*!**********************!*\
  !*** ./src/chips.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Chips = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst autocomplete_1 = __webpack_require__(/*! ./autocomplete */ \"./src/autocomplete.ts\");\nlet _defaults = {\n    data: [],\n    placeholder: '',\n    secondaryPlaceholder: '',\n    closeIconClass: 'material-icons',\n    autocompleteOptions: {},\n    autocompleteOnly: false,\n    limit: Infinity,\n    onChipAdd: null,\n    onChipSelect: null,\n    onChipDelete: null\n};\nfunction gGetIndex(el) {\n    return [...el.parentNode.children].indexOf(el);\n}\nclass Chips extends component_1.Component {\n    constructor(el, options) {\n        super(Chips, el, options);\n        this._handleChipClick = (e) => {\n            const _chip = e.target.closest('.chip');\n            const clickedClose = e.target.classList.contains('close');\n            if (_chip) {\n                const index = [..._chip.parentNode.children].indexOf(_chip);\n                if (clickedClose) {\n                    this.deleteChip(index);\n                    this._input.focus();\n                }\n                else {\n                    this.selectChip(index);\n                }\n                // Default handle click to focus on input\n            }\n            else {\n                this._input.focus();\n            }\n        };\n        this._handleInputFocus = () => {\n            this.el.classList.add('focus');\n        };\n        this._handleInputBlur = () => {\n            this.el.classList.remove('focus');\n        };\n        this._handleInputKeydown = (e) => {\n            Chips._keydown = true;\n            if (global_1.M.keys.ENTER.includes(e.key)) {\n                // Override enter if autocompleting.\n                if (this.hasAutocomplete && this.autocomplete && this.autocomplete.isOpen) {\n                    return;\n                }\n                e.preventDefault();\n                if (!this.hasAutocomplete || (this.hasAutocomplete && !this.options.autocompleteOnly)) {\n                    this.addChip({ id: this._input.value });\n                }\n                this._input.value = '';\n            }\n            else if ((global_1.M.keys.BACKSPACE.includes(e.key) || global_1.M.keys.ARROW_LEFT.includes(e.key)) &&\n                this._input.value === '' &&\n                this.chipsData.length) {\n                e.preventDefault();\n                this.selectChip(this.chipsData.length - 1);\n            }\n        };\n        this.el.M_Chips = this;\n        this.options = Object.assign(Object.assign({}, Chips.defaults), options);\n        this.el.classList.add('chips', 'input-field');\n        this.chipsData = [];\n        this._chips = [];\n        this._setupInput();\n        this.hasAutocomplete = Object.keys(this.options.autocompleteOptions).length > 0;\n        // Set input id\n        if (!this._input.getAttribute('id'))\n            this._input.setAttribute('id', global_1.M.guid());\n        // Render initial chips\n        if (this.options.data.length) {\n            this.chipsData = this.options.data;\n            this._renderChips();\n        }\n        // Setup autocomplete if needed\n        if (this.hasAutocomplete)\n            this._setupAutocomplete();\n        this._setPlaceholder();\n        this._setupLabel();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Chips;\n    }\n    getData() {\n        return this.chipsData;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._chips.forEach(c => c.remove());\n        this._chips = [];\n        this.el.M_Chips = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleChipClick);\n        document.addEventListener('keydown', Chips._handleChipsKeydown);\n        document.addEventListener('keyup', Chips._handleChipsKeyup);\n        this.el.addEventListener('blur', Chips._handleChipsBlur, true);\n        this._input.addEventListener('focus', this._handleInputFocus);\n        this._input.addEventListener('blur', this._handleInputBlur);\n        this._input.addEventListener('keydown', this._handleInputKeydown);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleChipClick);\n        document.removeEventListener('keydown', Chips._handleChipsKeydown);\n        document.removeEventListener('keyup', Chips._handleChipsKeyup);\n        this.el.removeEventListener('blur', Chips._handleChipsBlur, true);\n        this._input.removeEventListener('focus', this._handleInputFocus);\n        this._input.removeEventListener('blur', this._handleInputBlur);\n        this._input.removeEventListener('keydown', this._handleInputKeydown);\n    }\n    static _handleChipsKeydown(e) {\n        Chips._keydown = true;\n        const chips = e.target.closest('.chips');\n        const chipsKeydown = e.target && chips;\n        // Don't handle keydown inputs on input and textarea\n        const tag = e.target.tagName;\n        if (tag === 'INPUT' || tag === 'TEXTAREA' || !chipsKeydown)\n            return;\n        const currChips = chips.M_Chips;\n        if (global_1.M.keys.BACKSPACE.includes(e.key) || global_1.M.keys.DELETE.includes(e.key)) {\n            e.preventDefault();\n            let selectIndex = currChips.chipsData.length;\n            if (currChips._selectedChip) {\n                const index = gGetIndex(currChips._selectedChip);\n                currChips.deleteChip(index);\n                currChips._selectedChip = null;\n                // Make sure selectIndex doesn't go negative\n                selectIndex = Math.max(index - 1, 0);\n            }\n            if (currChips.chipsData.length)\n                currChips.selectChip(selectIndex);\n            else\n                currChips._input.focus();\n        }\n        else if (global_1.M.keys.ARROW_LEFT.includes(e.key)) {\n            if (currChips._selectedChip) {\n                const selectIndex = gGetIndex(currChips._selectedChip) - 1;\n                if (selectIndex < 0)\n                    return;\n                currChips.selectChip(selectIndex);\n            }\n        }\n        else if (global_1.M.keys.ARROW_RIGHT.includes(e.key)) {\n            if (currChips._selectedChip) {\n                const selectIndex = gGetIndex(currChips._selectedChip) + 1;\n                if (selectIndex >= currChips.chipsData.length)\n                    currChips._input.focus();\n                else\n                    currChips.selectChip(selectIndex);\n            }\n        }\n    }\n    static _handleChipsKeyup(e) {\n        Chips._keydown = false;\n    }\n    static _handleChipsBlur(e) {\n        if (!Chips._keydown && document.hidden) {\n            const chips = e.target.closest('.chips');\n            const currChips = chips.M_Chips;\n            currChips._selectedChip = null;\n        }\n    }\n    _renderChip(chip) {\n        if (!chip.id)\n            return;\n        const renderedChip = document.createElement('div');\n        renderedChip.classList.add('chip');\n        renderedChip.innerText = chip.text || chip.id;\n        renderedChip.setAttribute('tabindex', \"0\");\n        const closeIcon = document.createElement('i');\n        closeIcon.classList.add(this.options.closeIconClass, 'close');\n        closeIcon.innerText = 'close';\n        // attach image if needed\n        if (chip.image) {\n            const img = document.createElement('img');\n            img.setAttribute('src', chip.image);\n            renderedChip.insertBefore(img, renderedChip.firstChild);\n        }\n        renderedChip.appendChild(closeIcon);\n        return renderedChip;\n    }\n    _renderChips() {\n        this._chips = []; //.remove();\n        for (let i = 0; i < this.chipsData.length; i++) {\n            const chipElem = this._renderChip(this.chipsData[i]);\n            this.el.appendChild(chipElem);\n            this._chips.push(chipElem);\n        }\n        // move input to end\n        this.el.append(this._input);\n    }\n    _setupAutocomplete() {\n        this.options.autocompleteOptions.onAutocomplete = (items) => {\n            if (items.length > 0)\n                this.addChip(items[0]);\n            this._input.value = '';\n            this._input.focus();\n        };\n        this.autocomplete = autocomplete_1.Autocomplete.init(this._input, this.options.autocompleteOptions);\n    }\n    _setupInput() {\n        this._input = this.el.querySelector('input');\n        if (!this._input) {\n            this._input = document.createElement('input');\n            this.el.append(this._input);\n        }\n        this._input.classList.add('input');\n    }\n    _setupLabel() {\n        this._label = this.el.querySelector('label');\n        if (this._label)\n            this._label.setAttribute('for', this._input.getAttribute('id'));\n    }\n    _setPlaceholder() {\n        if (this.chipsData !== undefined && !this.chipsData.length && this.options.placeholder) {\n            this._input.placeholder = this.options.placeholder;\n        }\n        else if ((this.chipsData === undefined || !!this.chipsData.length) &&\n            this.options.secondaryPlaceholder) {\n            this._input.placeholder = this.options.secondaryPlaceholder;\n        }\n    }\n    _isValidAndNotExist(chip) {\n        const isValid = !!chip.id;\n        const doesNotExist = !this.chipsData.some(item => item.id == chip.id);\n        return isValid && doesNotExist;\n    }\n    addChip(chip) {\n        if (!this._isValidAndNotExist(chip) || this.chipsData.length >= this.options.limit)\n            return;\n        const renderedChip = this._renderChip(chip);\n        this._chips.push(renderedChip);\n        this.chipsData.push(chip);\n        //$(this._input).before(renderedChip);\n        this._input.before(renderedChip);\n        this._setPlaceholder();\n        // fire chipAdd callback\n        if (typeof this.options.onChipAdd === 'function') {\n            this.options.onChipAdd(this.el, renderedChip);\n        }\n    }\n    deleteChip(chipIndex) {\n        const chip = this._chips[chipIndex];\n        this._chips[chipIndex].remove();\n        this._chips.splice(chipIndex, 1);\n        this.chipsData.splice(chipIndex, 1);\n        this._setPlaceholder();\n        // fire chipDelete callback\n        if (typeof this.options.onChipDelete === 'function') {\n            this.options.onChipDelete(this.el, chip);\n        }\n    }\n    selectChip(chipIndex) {\n        const chip = this._chips[chipIndex];\n        this._selectedChip = chip;\n        chip.focus();\n        // fire chipSelect callback\n        if (typeof this.options.onChipSelect === 'function') {\n            this.options.onChipSelect(this.el, chip);\n        }\n    }\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            // Handle removal of static chips.\n            document.body.addEventListener('click', e => {\n                if (e.target.closest('.chip .close')) {\n                    const chips = e.target.closest('.chips');\n                    if (chips && chips.M_Chips == undefined)\n                        return;\n                    e.target.closest('.chip').remove();\n                }\n            });\n        });\n    }\n}\nexports.Chips = Chips;\n(() => {\n    Chips._keydown = false;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxDQUFDLE1BQU8sQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLEVBQUU7b0JBQ25ELE1BQU0sS0FBSyxHQUFpQixDQUFDLENBQUMsTUFBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDeEQsSUFBSSxLQUFLLElBQUssS0FBYSxDQUFDLE9BQU8sSUFBSSxTQUFTO3dCQUFFLE9BQU87b0JBQzNDLENBQUMsQ0FBQyxNQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO2lCQUNuRDtZQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0NBS0Y7QUF0VEQsc0JBc1RDO0FBSEM7SUFDRSxLQUFLLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztBQUN6QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL2NoaXBzLnRzP2U0ODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5pbXBvcnQgeyBBdXRvY29tcGxldGUgfSBmcm9tIFwiLi9hdXRvY29tcGxldGVcIjtcblxubGV0IF9kZWZhdWx0cyA9IHtcbiAgZGF0YTogW10sXG4gIHBsYWNlaG9sZGVyOiAnJyxcbiAgc2Vjb25kYXJ5UGxhY2Vob2xkZXI6ICcnLFxuICBjbG9zZUljb25DbGFzczogJ21hdGVyaWFsLWljb25zJyxcbiAgYXV0b2NvbXBsZXRlT3B0aW9uczoge30sXG4gIGF1dG9jb21wbGV0ZU9ubHk6IGZhbHNlLFxuICBsaW1pdDogSW5maW5pdHksXG4gIG9uQ2hpcEFkZDogbnVsbCxcbiAgb25DaGlwU2VsZWN0OiBudWxsLFxuICBvbkNoaXBEZWxldGU6IG51bGxcbn07XG5cbmludGVyZmFjZSBEYXRhQml0IHtcbiAgaWQ6IHN0cmluZywgLy8gcmVxdWlyZWRcbiAgdGV4dD86IHN0cmluZyxcbiAgaW1hZ2U/OiBzdHJpbmcsXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nLFxufVxuXG5mdW5jdGlvbiBnR2V0SW5kZXgoZWw6IEhUTUxFbGVtZW50KTogbnVtYmVyIHtcbiAgcmV0dXJuIFsuLi5lbC5wYXJlbnROb2RlLmNoaWxkcmVuXS5pbmRleE9mKGVsKTtcbn1cblxuZXhwb3J0IGNsYXNzIENoaXBzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY2hpcHNEYXRhOiBEYXRhQml0W107XG4gIGhhc0F1dG9jb21wbGV0ZTogYm9vbGVhbjtcbiAgYXV0b2NvbXBsZXRlOiBBdXRvY29tcGxldGU7XG4gIF9pbnB1dDogSFRNTElucHV0RWxlbWVudDtcbiAgX2xhYmVsOiBhbnk7XG4gIF9jaGlwczogSFRNTEVsZW1lbnRbXTtcbiAgc3RhdGljIF9rZXlkb3duOiBib29sZWFuO1xuICBwcml2YXRlIF9zZWxlY3RlZENoaXA6IGFueTtcblxuICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgIHN1cGVyKENoaXBzLCBlbCwgb3B0aW9ucyk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0NoaXBzID0gdGhpcztcbiAgICB0aGlzLm9wdGlvbnMgPSB7Li4uQ2hpcHMuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdjaGlwcycsICdpbnB1dC1maWVsZCcpO1xuICAgIHRoaXMuY2hpcHNEYXRhID0gW107XG4gICAgdGhpcy5fY2hpcHMgPSBbXTtcbiAgICB0aGlzLl9zZXR1cElucHV0KCk7XG4gICAgdGhpcy5oYXNBdXRvY29tcGxldGUgPSBPYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMuYXV0b2NvbXBsZXRlT3B0aW9ucykubGVuZ3RoID4gMDtcblxuICAgIC8vIFNldCBpbnB1dCBpZFxuICAgIGlmICghdGhpcy5faW5wdXQuZ2V0QXR0cmlidXRlKCdpZCcpKVxuICAgICAgdGhpcy5faW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsIE0uZ3VpZCgpKTtcblxuICAgIC8vIFJlbmRlciBpbml0aWFsIGNoaXBzXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kYXRhLmxlbmd0aCkge1xuICAgICAgdGhpcy5jaGlwc0RhdGEgPSB0aGlzLm9wdGlvbnMuZGF0YTtcbiAgICAgIHRoaXMuX3JlbmRlckNoaXBzKCk7XG4gICAgfVxuICAgIC8vIFNldHVwIGF1dG9jb21wbGV0ZSBpZiBuZWVkZWRcbiAgICBpZiAodGhpcy5oYXNBdXRvY29tcGxldGUpIHRoaXMuX3NldHVwQXV0b2NvbXBsZXRlKCk7XG4gICAgdGhpcy5fc2V0UGxhY2Vob2xkZXIoKTtcbiAgICB0aGlzLl9zZXR1cExhYmVsKCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgY29uc3QgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICByZXR1cm4gZG9tRWxlbS5NX0NoaXBzO1xuICB9XG5cbiAgZ2V0RGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5jaGlwc0RhdGE7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLl9jaGlwcy5mb3JFYWNoKGMgPT4gYy5yZW1vdmUoKSk7XG4gICAgdGhpcy5fY2hpcHMgPSBbXTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQ2hpcHMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDaGlwQ2xpY2spO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBDaGlwcy5faGFuZGxlQ2hpcHNLZXlkb3duKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIENoaXBzLl9oYW5kbGVDaGlwc0tleXVwKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBDaGlwcy5faGFuZGxlQ2hpcHNCbHVyLCB0cnVlKTtcbiAgICB0aGlzLl9pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUlucHV0Rm9jdXMpO1xuICAgIHRoaXMuX2lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVJbnB1dEJsdXIpO1xuICAgIHRoaXMuX2lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd24pO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNoaXBDbGljayk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIENoaXBzLl9oYW5kbGVDaGlwc0tleWRvd24pO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgQ2hpcHMuX2hhbmRsZUNoaXBzS2V5dXApO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIENoaXBzLl9oYW5kbGVDaGlwc0JsdXIsIHRydWUpO1xuICAgIHRoaXMuX2lucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlSW5wdXRGb2N1cyk7XG4gICAgdGhpcy5faW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1cik7XG4gICAgdGhpcy5faW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bik7XG4gIH1cblxuICBfaGFuZGxlQ2hpcENsaWNrID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgY29uc3QgX2NoaXAgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuY2hpcCcpO1xuICAgIGNvbnN0IGNsaWNrZWRDbG9zZSA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UnKTtcbiAgICBpZiAoX2NoaXApIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gWy4uLl9jaGlwLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YoX2NoaXApO1xuICAgICAgaWYgKGNsaWNrZWRDbG9zZSkge1xuICAgICAgICB0aGlzLmRlbGV0ZUNoaXAoaW5kZXgpO1xuICAgICAgICB0aGlzLl9pbnB1dC5mb2N1cygpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2VsZWN0Q2hpcChpbmRleCk7XG4gICAgICB9XG4gICAgICAvLyBEZWZhdWx0IGhhbmRsZSBjbGljayB0byBmb2N1cyBvbiBpbnB1dFxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2lucHV0LmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9oYW5kbGVDaGlwc0tleWRvd24oZTogS2V5Ym9hcmRFdmVudCkge1xuICAgIENoaXBzLl9rZXlkb3duID0gdHJ1ZTtcbiAgICBjb25zdCBjaGlwcyA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwcycpO1xuICAgIGNvbnN0IGNoaXBzS2V5ZG93biA9IGUudGFyZ2V0ICYmIGNoaXBzO1xuXG4gICAgLy8gRG9uJ3QgaGFuZGxlIGtleWRvd24gaW5wdXRzIG9uIGlucHV0IGFuZCB0ZXh0YXJlYVxuICAgIGNvbnN0IHRhZyA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLnRhZ05hbWU7XG4gICAgaWYgKHRhZyA9PT0gJ0lOUFVUJyB8fCB0YWcgPT09ICdURVhUQVJFQScgfHwgIWNoaXBzS2V5ZG93bikgcmV0dXJuO1xuXG4gICAgY29uc3QgY3VyckNoaXBzOiBDaGlwcyA9IChjaGlwcyBhcyBhbnkpLk1fQ2hpcHM7XG5cbiAgICBpZiAoTS5rZXlzLkJBQ0tTUEFDRS5pbmNsdWRlcyhlLmtleSkgfHwgTS5rZXlzLkRFTEVURS5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxldCBzZWxlY3RJbmRleCA9IGN1cnJDaGlwcy5jaGlwc0RhdGEubGVuZ3RoO1xuICAgICAgaWYgKGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZ0dldEluZGV4KGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwKTtcbiAgICAgICAgY3VyckNoaXBzLmRlbGV0ZUNoaXAoaW5kZXgpO1xuICAgICAgICBjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCA9IG51bGw7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSBzZWxlY3RJbmRleCBkb2Vzbid0IGdvIG5lZ2F0aXZlXG4gICAgICAgIHNlbGVjdEluZGV4ID0gTWF0aC5tYXgoaW5kZXggLSAxLCAwKTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyQ2hpcHMuY2hpcHNEYXRhLmxlbmd0aClcbiAgICAgICAgY3VyckNoaXBzLnNlbGVjdENoaXAoc2VsZWN0SW5kZXgpO1xuICAgICAgZWxzZVxuICAgICAgICBjdXJyQ2hpcHMuX2lucHV0LmZvY3VzKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKE0ua2V5cy5BUlJPV19MRUZULmluY2x1ZGVzKGUua2V5KSkge1xuICAgICAgaWYgKGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdEluZGV4ID0gZ0dldEluZGV4KGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwKSAtIDE7XG4gICAgICAgIGlmIChzZWxlY3RJbmRleCA8IDApIHJldHVybjtcbiAgICAgICAgY3VyckNoaXBzLnNlbGVjdENoaXAoc2VsZWN0SW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChNLmtleXMuQVJST1dfUklHSFQuaW5jbHVkZXMoZS5rZXkpKSB7XG4gICAgICBpZiAoY3VyckNoaXBzLl9zZWxlY3RlZENoaXApIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0SW5kZXggPSBnR2V0SW5kZXgoY3VyckNoaXBzLl9zZWxlY3RlZENoaXApICsgMTtcbiAgICAgICAgaWYgKHNlbGVjdEluZGV4ID49IGN1cnJDaGlwcy5jaGlwc0RhdGEubGVuZ3RoKVxuICAgICAgICAgIGN1cnJDaGlwcy5faW5wdXQuZm9jdXMoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGN1cnJDaGlwcy5zZWxlY3RDaGlwKHNlbGVjdEluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2hhbmRsZUNoaXBzS2V5dXAoZTogRXZlbnQpIHtcbiAgICBDaGlwcy5fa2V5ZG93biA9IGZhbHNlO1xuICB9XG5cbiAgc3RhdGljIF9oYW5kbGVDaGlwc0JsdXIoZTogRXZlbnQpIHtcbiAgICBpZiAoIUNoaXBzLl9rZXlkb3duICYmIGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgY29uc3QgY2hpcHMgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuY2hpcHMnKTtcbiAgICAgIGNvbnN0IGN1cnJDaGlwczogQ2hpcHMgPSAoY2hpcHMgYXMgYW55KS5NX0NoaXBzO1xuICAgICAgY3VyckNoaXBzLl9zZWxlY3RlZENoaXAgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVJbnB1dEZvY3VzID0gKCkgPT4ge1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnZm9jdXMnKTtcbiAgfVxuXG4gIF9oYW5kbGVJbnB1dEJsdXIgPSAoKSA9PiB7XG4gICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1cycpO1xuICB9XG5cbiAgX2hhbmRsZUlucHV0S2V5ZG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgQ2hpcHMuX2tleWRvd24gPSB0cnVlO1xuICAgIGlmIChNLmtleXMuRU5URVIuaW5jbHVkZXMoZS5rZXkpKSB7XG4gICAgICAvLyBPdmVycmlkZSBlbnRlciBpZiBhdXRvY29tcGxldGluZy5cbiAgICAgIGlmICh0aGlzLmhhc0F1dG9jb21wbGV0ZSAmJiB0aGlzLmF1dG9jb21wbGV0ZSAmJiB0aGlzLmF1dG9jb21wbGV0ZS5pc09wZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCF0aGlzLmhhc0F1dG9jb21wbGV0ZSB8fCAodGhpcy5oYXNBdXRvY29tcGxldGUgJiYgIXRoaXMub3B0aW9ucy5hdXRvY29tcGxldGVPbmx5KSkge1xuICAgICAgICB0aGlzLmFkZENoaXAoe2lkOiB0aGlzLl9pbnB1dC52YWx1ZX0pO1xuICAgICAgfVxuICAgICAgdGhpcy5faW5wdXQudmFsdWUgPSAnJztcbiAgICB9XG4gICAgZWxzZSBpZiAoICAgICAgXG4gICAgICAoTS5rZXlzLkJBQ0tTUEFDRS5pbmNsdWRlcyhlLmtleSkgfHwgTS5rZXlzLkFSUk9XX0xFRlQuaW5jbHVkZXMoZS5rZXkpKSAmJlxuICAgICAgdGhpcy5faW5wdXQudmFsdWUgPT09ICcnICYmXG4gICAgICB0aGlzLmNoaXBzRGF0YS5sZW5ndGhcbiAgICApIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuc2VsZWN0Q2hpcCh0aGlzLmNoaXBzRGF0YS5sZW5ndGggLSAxKTtcbiAgICB9XG4gIH1cblxuICBfcmVuZGVyQ2hpcChjaGlwOiBEYXRhQml0KTogSFRNTERpdkVsZW1lbnQge1xuICAgIGlmICghY2hpcC5pZCkgcmV0dXJuO1xuICAgIGNvbnN0IHJlbmRlcmVkQ2hpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJlbmRlcmVkQ2hpcC5jbGFzc0xpc3QuYWRkKCdjaGlwJyk7XG4gICAgcmVuZGVyZWRDaGlwLmlubmVyVGV4dCA9IGNoaXAudGV4dCB8fCBjaGlwLmlkO1xuICAgIHJlbmRlcmVkQ2hpcC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgXCIwXCIpO1xuICAgIGNvbnN0IGNsb3NlSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICBjbG9zZUljb24uY2xhc3NMaXN0LmFkZCh0aGlzLm9wdGlvbnMuY2xvc2VJY29uQ2xhc3MsICdjbG9zZScpO1xuICAgIGNsb3NlSWNvbi5pbm5lclRleHQgPSAnY2xvc2UnO1xuICAgIC8vIGF0dGFjaCBpbWFnZSBpZiBuZWVkZWRcbiAgICBpZiAoY2hpcC5pbWFnZSkge1xuICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBjaGlwLmltYWdlKTtcbiAgICAgIHJlbmRlcmVkQ2hpcC5pbnNlcnRCZWZvcmUoaW1nLCByZW5kZXJlZENoaXAuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHJlbmRlcmVkQ2hpcC5hcHBlbmRDaGlsZChjbG9zZUljb24pO1xuICAgIHJldHVybiByZW5kZXJlZENoaXA7XG4gIH1cblxuICBfcmVuZGVyQ2hpcHMoKSB7XG4gICAgdGhpcy5fY2hpcHMgPSBbXTsgLy8ucmVtb3ZlKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaXBzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hpcEVsZW0gPSB0aGlzLl9yZW5kZXJDaGlwKHRoaXMuY2hpcHNEYXRhW2ldKTtcbiAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQoY2hpcEVsZW0pO1xuICAgICAgdGhpcy5fY2hpcHMucHVzaChjaGlwRWxlbSk7XG4gICAgfVxuICAgIC8vIG1vdmUgaW5wdXQgdG8gZW5kXG4gICAgdGhpcy5lbC5hcHBlbmQodGhpcy5faW5wdXQpO1xuICB9XG5cbiAgX3NldHVwQXV0b2NvbXBsZXRlKCkge1xuICAgIHRoaXMub3B0aW9ucy5hdXRvY29tcGxldGVPcHRpb25zLm9uQXV0b2NvbXBsZXRlID0gKGl0ZW1zKSA9PiB7XG4gICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkgdGhpcy5hZGRDaGlwKGl0ZW1zWzBdKTtcbiAgICAgIHRoaXMuX2lucHV0LnZhbHVlID0gJyc7XG4gICAgICB0aGlzLl9pbnB1dC5mb2N1cygpO1xuICAgIH07XG4gICAgdGhpcy5hdXRvY29tcGxldGUgPSBBdXRvY29tcGxldGUuaW5pdCh0aGlzLl9pbnB1dCwgdGhpcy5vcHRpb25zLmF1dG9jb21wbGV0ZU9wdGlvbnMpO1xuICB9XG5cbiAgX3NldHVwSW5wdXQoKSB7XG4gICAgdGhpcy5faW5wdXQgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgaWYgKCF0aGlzLl9pbnB1dCkge1xuICAgICAgdGhpcy5faW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgdGhpcy5lbC5hcHBlbmQodGhpcy5faW5wdXQpO1xuICAgIH1cbiAgICB0aGlzLl9pbnB1dC5jbGFzc0xpc3QuYWRkKCdpbnB1dCcpO1xuICB9XG5cbiAgX3NldHVwTGFiZWwoKSB7XG4gICAgdGhpcy5fbGFiZWwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJyk7XG4gICAgaWYgKHRoaXMuX2xhYmVsKSB0aGlzLl9sYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIHRoaXMuX2lucHV0LmdldEF0dHJpYnV0ZSgnaWQnKSk7XG4gIH1cblxuICBfc2V0UGxhY2Vob2xkZXIoKSB7XG4gICAgaWYgKHRoaXMuY2hpcHNEYXRhICE9PSB1bmRlZmluZWQgJiYgIXRoaXMuY2hpcHNEYXRhLmxlbmd0aCAmJiB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIpIHtcbiAgICAgIHRoaXMuX2lucHV0LnBsYWNlaG9sZGVyID0gdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyO1xuICAgIH1cbiAgICBlbHNlIGlmIChcbiAgICAgICh0aGlzLmNoaXBzRGF0YSA9PT0gdW5kZWZpbmVkIHx8ICEhdGhpcy5jaGlwc0RhdGEubGVuZ3RoKSAmJlxuICAgICAgdGhpcy5vcHRpb25zLnNlY29uZGFyeVBsYWNlaG9sZGVyXG4gICAgKSB7XG4gICAgICB0aGlzLl9pbnB1dC5wbGFjZWhvbGRlciA9IHRoaXMub3B0aW9ucy5zZWNvbmRhcnlQbGFjZWhvbGRlcjtcbiAgICB9XG4gIH1cblxuICBfaXNWYWxpZEFuZE5vdEV4aXN0KGNoaXA6IERhdGFCaXQpIHtcbiAgICBjb25zdCBpc1ZhbGlkID0gISFjaGlwLmlkO1xuICAgIGNvbnN0IGRvZXNOb3RFeGlzdCA9ICF0aGlzLmNoaXBzRGF0YS5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PSBjaGlwLmlkKTtcbiAgICByZXR1cm4gaXNWYWxpZCAmJiBkb2VzTm90RXhpc3Q7XG4gIH1cblxuICBhZGRDaGlwKGNoaXA6IERhdGFCaXQpIHtcbiAgICBpZiAoIXRoaXMuX2lzVmFsaWRBbmROb3RFeGlzdChjaGlwKSB8fCB0aGlzLmNoaXBzRGF0YS5sZW5ndGggPj0gdGhpcy5vcHRpb25zLmxpbWl0KSByZXR1cm47XG4gICAgY29uc3QgcmVuZGVyZWRDaGlwID0gdGhpcy5fcmVuZGVyQ2hpcChjaGlwKTtcbiAgICB0aGlzLl9jaGlwcy5wdXNoKHJlbmRlcmVkQ2hpcCk7XG4gICAgdGhpcy5jaGlwc0RhdGEucHVzaChjaGlwKTtcbiAgICAvLyQodGhpcy5faW5wdXQpLmJlZm9yZShyZW5kZXJlZENoaXApO1xuICAgIHRoaXMuX2lucHV0LmJlZm9yZShyZW5kZXJlZENoaXApO1xuICAgIHRoaXMuX3NldFBsYWNlaG9sZGVyKCk7XG4gICAgLy8gZmlyZSBjaGlwQWRkIGNhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DaGlwQWRkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25DaGlwQWRkKHRoaXMuZWwsIHJlbmRlcmVkQ2hpcCk7XG4gICAgfVxuICB9XG5cbiAgZGVsZXRlQ2hpcChjaGlwSW5kZXg6IG51bWJlcikge1xuICAgIGNvbnN0IGNoaXAgPSB0aGlzLl9jaGlwc1tjaGlwSW5kZXhdO1xuICAgIHRoaXMuX2NoaXBzW2NoaXBJbmRleF0ucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2hpcHMuc3BsaWNlKGNoaXBJbmRleCwgMSk7XG4gICAgdGhpcy5jaGlwc0RhdGEuc3BsaWNlKGNoaXBJbmRleCwgMSk7XG4gICAgdGhpcy5fc2V0UGxhY2Vob2xkZXIoKTtcbiAgICAvLyBmaXJlIGNoaXBEZWxldGUgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNoaXBEZWxldGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vbkNoaXBEZWxldGUodGhpcy5lbCwgY2hpcCk7XG4gICAgfVxuICB9XG5cbiAgc2VsZWN0Q2hpcChjaGlwSW5kZXg6IG51bWJlcikge1xuICAgIGNvbnN0IGNoaXAgPSB0aGlzLl9jaGlwc1tjaGlwSW5kZXhdO1xuICAgIHRoaXMuX3NlbGVjdGVkQ2hpcCA9IGNoaXA7XG4gICAgY2hpcC5mb2N1cygpO1xuICAgIC8vIGZpcmUgY2hpcFNlbGVjdCBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2hpcFNlbGVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2hpcFNlbGVjdCh0aGlzLmVsLCBjaGlwKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgSW5pdCgpe1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgICAgIC8vIEhhbmRsZSByZW1vdmFsIG9mIHN0YXRpYyBjaGlwcy5cbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgaWYgKCg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwIC5jbG9zZScpKSB7XG4gICAgICAgICAgY29uc3QgY2hpcHMgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuY2hpcHMnKTtcbiAgICAgICAgICBpZiAoY2hpcHMgJiYgKGNoaXBzIGFzIGFueSkuTV9DaGlwcyA9PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuY2hpcCcpLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyB7XG4gICAgQ2hpcHMuX2tleWRvd24gPSBmYWxzZTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/chips.ts\n");

/***/ }),

/***/ "./src/collapsible.ts":
/*!****************************!*\
  !*** ./src/collapsible.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Collapsible = void 0;\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst _defaults = {\n    accordion: true,\n    onOpenStart: undefined,\n    onOpenEnd: undefined,\n    onCloseStart: undefined,\n    onCloseEnd: undefined,\n    inDuration: 300,\n    outDuration: 300\n};\nclass Collapsible extends component_1.Component {\n    constructor(el, options) {\n        super(Collapsible, el, options);\n        this._handleCollapsibleClick = (e) => {\n            const header = e.target.closest('.collapsible-header');\n            if (e.target && header) {\n                const collapsible = header.closest('.collapsible');\n                if (collapsible !== this.el)\n                    return;\n                const li = header.closest('li');\n                const isActive = li.classList.contains('active');\n                const index = [...li.parentNode.children].indexOf(li);\n                if (isActive)\n                    this.close(index);\n                else\n                    this.open(index);\n            }\n        };\n        this._handleCollapsibleKeydown = (e) => {\n            if (global_1.M.keys.ENTER.includes(e.key)) {\n                this._handleCollapsibleClick(e);\n            }\n        };\n        this.el['M_Collapsible'] = this;\n        this.options = Object.assign(Object.assign({}, Collapsible.defaults), options);\n        // Setup tab indices\n        this._headers = Array.from(this.el.querySelectorAll('li > .collapsible-header'));\n        this._headers.forEach(el => el.tabIndex = 0);\n        this._setupEventHandlers();\n        // Open first active\n        const activeBodies = Array.from(this.el.querySelectorAll('li.active > .collapsible-body'));\n        if (this.options.accordion)\n            if (activeBodies.length > 0)\n                activeBodies[0].style.display = 'block'; // Accordion\n            else\n                activeBodies.forEach(el => el.style.display = 'block'); // Expandables\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Collapsible;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el['M_Collapsible'].M_Collapsible = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleCollapsibleClick);\n        this._headers.forEach(header => header.addEventListener('keydown', this._handleCollapsibleKeydown));\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleCollapsibleClick);\n        this._headers.forEach(header => header.removeEventListener('keydown', this._handleCollapsibleKeydown));\n    }\n    _animateIn(index) {\n        const li = this.el.children[index];\n        if (!li)\n            return;\n        const body = li.querySelector('.collapsible-body');\n        animejs_1.default.remove(body);\n        body.style.display = 'block';\n        body.style.overflow = 'hidden';\n        body.style.height = '0';\n        body.style.paddingTop = '';\n        body.style.paddingBottom = '';\n        const pTop = getComputedStyle(body).paddingTop; //  . css('padding-top');\n        const pBottom = getComputedStyle(body).paddingBottom; //body.css('padding-bottom');\n        const finalHeight = body.scrollHeight;\n        body.style.paddingTop = '0';\n        body.style.paddingBottom = '0';\n        (0, animejs_1.default)({\n            targets: body,\n            height: finalHeight,\n            paddingTop: pTop,\n            paddingBottom: pBottom,\n            duration: this.options.inDuration,\n            easing: 'easeInOutCubic',\n            complete: (anim) => {\n                body.style.overflow = '';\n                body.style.height = '';\n                body.style.paddingTop = '';\n                body.style.paddingBottom = '';\n                // onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, li);\n                }\n            }\n        });\n    }\n    _animateOut(index) {\n        const li = this.el.children[index];\n        if (!li)\n            return;\n        const body = li.querySelector('.collapsible-body');\n        animejs_1.default.remove(body);\n        body.style.overflow = 'hidden';\n        (0, animejs_1.default)({\n            targets: body,\n            height: 0,\n            paddingTop: 0,\n            paddingBottom: 0,\n            duration: this.options.outDuration,\n            easing: 'easeInOutCubic',\n            complete: () => {\n                body.style.overflow = '';\n                body.style.height = '';\n                body.style.padding = '';\n                body.style.display = '';\n                // onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, li);\n                }\n            }\n        });\n    }\n    open(index) {\n        const listItems = Array.from(this.el.children).filter(c => c.tagName === 'LI');\n        const li = listItems[index];\n        if (li && !li.classList.contains('active')) {\n            // onOpenStart callback\n            if (typeof this.options.onOpenStart === 'function') {\n                this.options.onOpenStart.call(this, li);\n            }\n            // Handle accordion behavior\n            if (this.options.accordion) {\n                const activeLis = listItems.filter(li => li.classList.contains('active'));\n                activeLis.forEach(activeLi => {\n                    const index = listItems.indexOf(activeLi);\n                    this.close(index);\n                });\n            }\n            // Animate in\n            li.classList.add('active');\n            this._animateIn(index);\n        }\n    }\n    close(index) {\n        const li = Array.from(this.el.children).filter(c => c.tagName === 'LI')[index];\n        if (li && li.classList.contains('active')) {\n            // onCloseStart callback\n            if (typeof this.options.onCloseStart === 'function') {\n                this.options.onCloseStart.call(this, li);\n            }\n            // Animate out\n            li.classList.remove('active');\n            this._animateOut(index);\n        }\n    }\n}\nexports.Collapsible = Collapsible;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL2NvbGxhcHNpYmxlLnRzPzFkNTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5pbnRlcmZhY2UgQ29sbGFwc2libGVPcHRpb25zIHtcbiAgYWNjb3JkaW9uOiBib29sZWFuO1xuICBvbk9wZW5TdGFydDogRnVuY3Rpb258dW5kZWZpbmVkO1xuICBvbk9wZW5FbmQ6IEZ1bmN0aW9ufHVuZGVmaW5lZDtcbiAgb25DbG9zZVN0YXJ0OiBGdW5jdGlvbnx1bmRlZmluZWQ7XG4gIG9uQ2xvc2VFbmQ6IEZ1bmN0aW9ufHVuZGVmaW5lZDtcbiAgaW5EdXJhdGlvbjogbnVtYmVyO1xuICBvdXREdXJhdGlvbjogbnVtYmVyO1xufVxuXG5jb25zdCBfZGVmYXVsdHM6IENvbGxhcHNpYmxlT3B0aW9ucyA9IHtcbiAgYWNjb3JkaW9uOiB0cnVlLFxuICBvbk9wZW5TdGFydDogdW5kZWZpbmVkLFxuICBvbk9wZW5FbmQ6IHVuZGVmaW5lZCxcbiAgb25DbG9zZVN0YXJ0OiB1bmRlZmluZWQsICBcbiAgb25DbG9zZUVuZDogdW5kZWZpbmVkLFxuICBpbkR1cmF0aW9uOiAzMDAsXG4gIG91dER1cmF0aW9uOiAzMDBcbn07XG5cbmV4cG9ydCBjbGFzcyBDb2xsYXBzaWJsZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIHByaXZhdGUgX2hlYWRlcnM6IEhUTUxFbGVtZW50W107XG5cbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBDb2xsYXBzaWJsZU9wdGlvbnMpIHtcbiAgICBzdXBlcihDb2xsYXBzaWJsZSwgZWwsIG9wdGlvbnMpO1xuICAgIHRoaXMuZWxbJ01fQ29sbGFwc2libGUnXSA9IHRoaXM7XG4gICAgdGhpcy5vcHRpb25zID0gey4uLkNvbGxhcHNpYmxlLmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICAvLyBTZXR1cCB0YWIgaW5kaWNlc1xuICAgIHRoaXMuX2hlYWRlcnMgPSBBcnJheS5mcm9tKHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgnbGkgPiAuY29sbGFwc2libGUtaGVhZGVyJykpO1xuICAgIHRoaXMuX2hlYWRlcnMuZm9yRWFjaChlbCA9PiBlbC50YWJJbmRleCA9IDApO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgIC8vIE9wZW4gZmlyc3QgYWN0aXZlXG4gICAgY29uc3QgYWN0aXZlQm9kaWVzOiBIVE1MRWxlbWVudFtdID0gQXJyYXkuZnJvbSh0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpLmFjdGl2ZSA+IC5jb2xsYXBzaWJsZS1ib2R5JykpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuYWNjb3JkaW9uKVxuICAgICAgaWYgKGFjdGl2ZUJvZGllcy5sZW5ndGggPiAwKVxuICAgICAgICBhY3RpdmVCb2RpZXNbMF0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IC8vIEFjY29yZGlvblxuICAgIGVsc2VcbiAgICAgIGFjdGl2ZUJvZGllcy5mb3JFYWNoKGVsID0+IGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snKTsgLy8gRXhwYW5kYWJsZXNcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgfVxuXG4gIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICBjb25zdCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgIHJldHVybiBkb21FbGVtLk1fQ29sbGFwc2libGU7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLmVsWydNX0NvbGxhcHNpYmxlJ10uTV9Db2xsYXBzaWJsZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2spO1xuICAgIHRoaXMuX2hlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4gaGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVDb2xsYXBzaWJsZUtleWRvd24pKTtcbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDb2xsYXBzaWJsZUNsaWNrKTtcbiAgICB0aGlzLl9oZWFkZXJzLmZvckVhY2goaGVhZGVyID0+IGhlYWRlci5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlQ29sbGFwc2libGVLZXlkb3duKSk7XG4gIH1cblxuICBfaGFuZGxlQ29sbGFwc2libGVDbGljayA9IChlKSA9PiB7XG4gICAgY29uc3QgaGVhZGVyID0gZS50YXJnZXQuY2xvc2VzdCgnLmNvbGxhcHNpYmxlLWhlYWRlcicpO1xuICAgIGlmIChlLnRhcmdldCAmJiBoZWFkZXIpIHtcbiAgICAgIGNvbnN0IGNvbGxhcHNpYmxlID0gaGVhZGVyLmNsb3Nlc3QoJy5jb2xsYXBzaWJsZScpO1xuICAgICAgaWYgKGNvbGxhcHNpYmxlICE9PSB0aGlzLmVsKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGxpID0gaGVhZGVyLmNsb3Nlc3QoJ2xpJyk7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGxpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XG4gICAgICBjb25zdCBpbmRleCA9IFsuLi5saS5wYXJlbnROb2RlLmNoaWxkcmVuXS5pbmRleE9mKGxpKTtcblxuICAgICAgaWYgKGlzQWN0aXZlKVxuICAgICAgICB0aGlzLmNsb3NlKGluZGV4KTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhpcy5vcGVuKGluZGV4KTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQ29sbGFwc2libGVLZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBpZiAoTS5rZXlzLkVOVEVSLmluY2x1ZGVzKGUua2V5KSkge1xuICAgICAgdGhpcy5faGFuZGxlQ29sbGFwc2libGVDbGljayhlKTtcbiAgICB9XG4gIH1cblxuICBfYW5pbWF0ZUluKGluZGV4OiBudW1iZXIpIHtcbiAgICBjb25zdCBsaSA9IHRoaXMuZWwuY2hpbGRyZW5baW5kZXhdO1xuICAgIGlmICghbGkpIHJldHVybjtcbiAgICBjb25zdCBib2R5OiBIVE1MRWxlbWVudCA9IGxpLnF1ZXJ5U2VsZWN0b3IoJy5jb2xsYXBzaWJsZS1ib2R5Jyk7XG4gICAgYW5pbS5yZW1vdmUoYm9keSk7XG4gICAgYm9keS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgYm9keS5zdHlsZS5oZWlnaHQgPSAnMCc7XG4gICAgYm9keS5zdHlsZS5wYWRkaW5nVG9wID0gJyc7XG4gICAgYm9keS5zdHlsZS5wYWRkaW5nQm90dG9tID0gJyc7XG4gICAgY29uc3QgcFRvcCA9IGdldENvbXB1dGVkU3R5bGUoYm9keSkucGFkZGluZ1RvcDsgLy8gIC4gY3NzKCdwYWRkaW5nLXRvcCcpO1xuICAgIGNvbnN0IHBCb3R0b20gPSBnZXRDb21wdXRlZFN0eWxlKGJvZHkpLnBhZGRpbmdCb3R0b207IC8vYm9keS5jc3MoJ3BhZGRpbmctYm90dG9tJyk7XG4gICAgY29uc3QgZmluYWxIZWlnaHQgPSBib2R5LnNjcm9sbEhlaWdodDtcbiAgICBib2R5LnN0eWxlLnBhZGRpbmdUb3AgPSAnMCc7XG4gICAgYm9keS5zdHlsZS5wYWRkaW5nQm90dG9tID0gJzAnO1xuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogYm9keSxcbiAgICAgIGhlaWdodDogZmluYWxIZWlnaHQsXG4gICAgICBwYWRkaW5nVG9wOiBwVG9wLFxuICAgICAgcGFkZGluZ0JvdHRvbTogcEJvdHRvbSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VJbk91dEN1YmljJyxcbiAgICAgIGNvbXBsZXRlOiAoYW5pbSkgPT4ge1xuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgICAgIGJvZHkuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgIGJvZHkuc3R5bGUucGFkZGluZ1RvcCA9ICcnO1xuICAgICAgICBib2R5LnN0eWxlLnBhZGRpbmdCb3R0b20gPSAnJztcbiAgICAgICAgLy8gb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQuY2FsbCh0aGlzLCBsaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9hbmltYXRlT3V0KGluZGV4OiBudW1iZXIpIHtcbiAgICBjb25zdCBsaSA9IHRoaXMuZWwuY2hpbGRyZW5baW5kZXhdO1xuICAgIGlmICghbGkpIHJldHVybjtcbiAgICBjb25zdCBib2R5OiBIVE1MRWxlbWVudCA9IGxpLnF1ZXJ5U2VsZWN0b3IoJy5jb2xsYXBzaWJsZS1ib2R5Jyk7XG4gICAgYW5pbS5yZW1vdmUoYm9keSk7XG4gICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogYm9keSxcbiAgICAgIGhlaWdodDogMCxcbiAgICAgIHBhZGRpbmdUb3A6IDAsXG4gICAgICBwYWRkaW5nQm90dG9tOiAwLFxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VJbk91dEN1YmljJyxcbiAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgYm9keS5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgYm9keS5zdHlsZS5wYWRkaW5nID0gJyc7XG4gICAgICAgIGJvZHkuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAvLyBvbkNsb3NlRW5kIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKHRoaXMsIGxpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb3BlbihpbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgbGlzdEl0ZW1zID0gQXJyYXkuZnJvbSh0aGlzLmVsLmNoaWxkcmVuKS5maWx0ZXIoYyA9PiBjLnRhZ05hbWUgPT09ICdMSScpO1xuICAgIGNvbnN0IGxpID0gbGlzdEl0ZW1zW2luZGV4XTtcbiAgICBpZiAobGkgJiYgIWxpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIC8vIG9uT3BlblN0YXJ0IGNhbGxiYWNrXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCBsaSk7XG4gICAgICB9XG4gICAgICAvLyBIYW5kbGUgYWNjb3JkaW9uIGJlaGF2aW9yXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmFjY29yZGlvbikge1xuICAgICAgICBjb25zdCBhY3RpdmVMaXMgPSBsaXN0SXRlbXMuZmlsdGVyKGxpID0+IGxpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpO1xuICAgICAgICBhY3RpdmVMaXMuZm9yRWFjaChhY3RpdmVMaSA9PiB7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0SXRlbXMuaW5kZXhPZihhY3RpdmVMaSk7XG4gICAgICAgICAgdGhpcy5jbG9zZShpbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gQW5pbWF0ZSBpblxuICAgICAgbGkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB0aGlzLl9hbmltYXRlSW4oaW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlKGluZGV4OiBudW1iZXIpIHtcbiAgICBjb25zdCBsaSA9IEFycmF5LmZyb20odGhpcy5lbC5jaGlsZHJlbikuZmlsdGVyKGMgPT4gYy50YWdOYW1lID09PSAnTEknKVtpbmRleF07XG4gICAgaWYgKGxpICYmIGxpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIC8vIG9uQ2xvc2VTdGFydCBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQuY2FsbCh0aGlzLCBsaSk7XG4gICAgICB9XG4gICAgICAvLyBBbmltYXRlIG91dFxuICAgICAgbGkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICB0aGlzLl9hbmltYXRlT3V0KGluZGV4KTtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/collapsible.ts\n");

/***/ }),

/***/ "./src/component.ts":
/*!**************************!*\
  !*** ./src/component.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Component = void 0;\nclass Component {\n    constructor(classDef, el, options) {\n        this.el = el;\n        this.options = options;\n        // Display error if el is valid HTML Element\n        if (!(el instanceof Element)) {\n            console.error(Error(el + ' is not an HTML Element'));\n        }\n        // If exists, destroy and reinitialize in child\n        let ins = classDef.getInstance(el);\n        if (!!ins) {\n            ins.destroy();\n        }\n        this.el = el;\n    }\n    static init(classDef, els, options) {\n        let instances = null;\n        if (els instanceof Element) {\n            instances = new classDef(els, options);\n        }\n        else if (!!els && (els.jquery || els.cash || els instanceof NodeList || els instanceof HTMLCollection)) {\n            let instancesArr = [];\n            for (let i = 0; i < els.length; i++) {\n                instancesArr.push(new classDef(els[i], options));\n            }\n            instances = instancesArr;\n        }\n        return instances;\n    }\n}\nexports.Component = Component;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50LnRzLmpzIiwibWFwcGluZ3MiOiI7OztBQUNBLE1BQWEsU0FBUztJQUVwQixZQUFZLFFBQVEsRUFBWSxFQUFXLEVBQVksT0FBTztRQUE5QixPQUFFLEdBQUYsRUFBRSxDQUFTO1FBQVksWUFBTyxHQUFQLE9BQU87UUFDNUQsNENBQTRDO1FBQzVDLElBQUksQ0FBQyxDQUFDLEVBQUUsWUFBWSxPQUFPLENBQUMsRUFBRTtZQUM1QixPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcseUJBQXlCLENBQUMsQ0FBQyxDQUFDO1NBQ3REO1FBQ0QsK0NBQStDO1FBQy9DLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFO1lBQ1QsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ2Y7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUNmLENBQUM7SUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsT0FBTztRQUNoQyxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxHQUFHLFlBQVksT0FBTyxFQUFFO1lBQzFCLFNBQVMsR0FBRyxJQUFJLFFBQVEsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDeEM7YUFDSSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLEdBQUcsQ0FBQyxJQUFJLElBQUksR0FBRyxZQUFZLFFBQVEsSUFBSSxHQUFHLFlBQVksY0FBYyxDQUFDLEVBQUU7WUFDdEcsSUFBSSxZQUFZLEdBQUcsRUFBRSxDQUFDO1lBQ3RCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNuQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO2FBQ2xEO1lBQ0QsU0FBUyxHQUFHLFlBQVksQ0FBQztTQUMxQjtRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7Q0FDRjtBQTdCRCw4QkE2QkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvY29tcG9uZW50LnRzPzQzOWUiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50IHtcblxuICBjb25zdHJ1Y3RvcihjbGFzc0RlZiwgcHJvdGVjdGVkIGVsOiBFbGVtZW50LCBwcm90ZWN0ZWQgb3B0aW9ucykge1xuICAgIC8vIERpc3BsYXkgZXJyb3IgaWYgZWwgaXMgdmFsaWQgSFRNTCBFbGVtZW50XG4gICAgaWYgKCEoZWwgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgICAgY29uc29sZS5lcnJvcihFcnJvcihlbCArICcgaXMgbm90IGFuIEhUTUwgRWxlbWVudCcpKTtcbiAgICB9XG4gICAgLy8gSWYgZXhpc3RzLCBkZXN0cm95IGFuZCByZWluaXRpYWxpemUgaW4gY2hpbGRcbiAgICBsZXQgaW5zID0gY2xhc3NEZWYuZ2V0SW5zdGFuY2UoZWwpO1xuICAgIGlmICghIWlucykge1xuICAgICAgaW5zLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5lbCA9IGVsO1xuICB9XG5cbiAgc3RhdGljIGluaXQoY2xhc3NEZWYsIGVscywgb3B0aW9ucykge1xuICAgIGxldCBpbnN0YW5jZXMgPSBudWxsO1xuICAgIGlmIChlbHMgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICBpbnN0YW5jZXMgPSBuZXcgY2xhc3NEZWYoZWxzLCBvcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoISFlbHMgJiYgKGVscy5qcXVlcnkgfHwgZWxzLmNhc2ggfHwgZWxzIGluc3RhbmNlb2YgTm9kZUxpc3QgfHwgZWxzIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24pKSB7XG4gICAgICBsZXQgaW5zdGFuY2VzQXJyID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpbnN0YW5jZXNBcnIucHVzaChuZXcgY2xhc3NEZWYoZWxzW2ldLCBvcHRpb25zKSk7XG4gICAgICB9XG4gICAgICBpbnN0YW5jZXMgPSBpbnN0YW5jZXNBcnI7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZXM7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/component.ts\n");

/***/ }),

/***/ "./src/datepicker.ts":
/*!***************************!*\
  !*** ./src/datepicker.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Datepicker = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst modal_1 = __webpack_require__(/*! ./modal */ \"./src/modal.ts\");\nconst select_1 = __webpack_require__(/*! ./select */ \"./src/select.ts\");\nlet _defaults = {\n    // Close when date is selected\n    autoClose: false,\n    // the default output format for the input field value\n    format: 'mmm dd, yyyy',\n    // Used to create date object from current input string\n    parse: null,\n    // The initial date to view when first opened\n    defaultDate: null,\n    // Make the `defaultDate` the initial selected value\n    setDefaultDate: false,\n    disableWeekends: false,\n    disableDayFn: null,\n    // First day of week (0: Sunday, 1: Monday etc)\n    firstDay: 0,\n    // The earliest date that can be selected\n    minDate: null,\n    // Thelatest date that can be selected\n    maxDate: null,\n    // Number of years either side, or array of upper/lower range\n    yearRange: 10,\n    // used internally (don't config outside)\n    minYear: 0,\n    maxYear: 9999,\n    minMonth: undefined,\n    maxMonth: undefined,\n    startRange: null,\n    endRange: null,\n    isRTL: false,\n    // Render the month after year in the calendar title\n    showMonthAfterYear: false,\n    // Render days of the calendar grid that fall in the next or previous month\n    showDaysInNextAndPreviousMonths: false,\n    // Specify a DOM element to render the calendar in\n    container: null,\n    // Show clear button\n    showClearBtn: false,\n    // internationalization\n    i18n: {\n        cancel: 'Cancel',\n        clear: 'Clear',\n        done: 'Ok',\n        previousMonth: 'â¹',\n        nextMonth: 'âº',\n        months: [\n            'January',\n            'February',\n            'March',\n            'April',\n            'May',\n            'June',\n            'July',\n            'August',\n            'September',\n            'October',\n            'November',\n            'December'\n        ],\n        monthsShort: [\n            'Jan',\n            'Feb',\n            'Mar',\n            'Apr',\n            'May',\n            'Jun',\n            'Jul',\n            'Aug',\n            'Sep',\n            'Oct',\n            'Nov',\n            'Dec'\n        ],\n        weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n        weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n        weekdaysAbbrev: ['S', 'M', 'T', 'W', 'T', 'F', 'S']\n    },\n    // events array\n    events: [],\n    // callback function\n    onSelect: null,\n    onOpen: null,\n    onClose: null,\n    onDraw: null\n};\nclass Datepicker extends component_1.Component {\n    constructor(el, options) {\n        super(Datepicker, el, options);\n        this._handleInputClick = () => {\n            this.open();\n        };\n        this._handleInputKeydown = (e) => {\n            if (global_1.M.keys.ENTER.includes(e.key)) {\n                e.preventDefault();\n                this.open();\n            }\n        };\n        this._handleCalendarClick = (e) => {\n            if (!this.isOpen)\n                return;\n            const target = (e.target);\n            if (!target.classList.contains('is-disabled')) {\n                if (target.classList.contains('datepicker-day-button') &&\n                    !target.classList.contains('is-empty') &&\n                    !target.parentElement.classList.contains('is-disabled')) {\n                    this.setDate(new Date(e.target.getAttribute('data-year'), e.target.getAttribute('data-month'), e.target.getAttribute('data-day')));\n                    if (this.options.autoClose) {\n                        this._finishSelection();\n                    }\n                }\n                else if (target.closest('.month-prev')) {\n                    this.prevMonth();\n                }\n                else if (target.closest('.month-next')) {\n                    this.nextMonth();\n                }\n            }\n        };\n        this._handleClearClick = () => {\n            this.date = null;\n            this.setInputValue();\n            this.close();\n        };\n        this._handleMonthChange = (e) => {\n            this.gotoMonth(e.target.value);\n        };\n        this._handleYearChange = (e) => {\n            this.gotoYear(e.target.value);\n        };\n        this._handleInputChange = (e) => {\n            var _a;\n            let date;\n            // Prevent change event from being fired when triggered by the plugin\n            if (((_a = e['detail']) === null || _a === void 0 ? void 0 : _a.firedBy) === this)\n                return;\n            if (this.options.parse) {\n                date = this.options.parse(this.el.value, this.options.format);\n            }\n            else {\n                date = new Date(Date.parse(this.el.value));\n            }\n            if (Datepicker._isDate(date))\n                this.setDate(date);\n        };\n        // Set input value to the selected date and close Datepicker\n        this._finishSelection = () => {\n            this.setInputValue();\n            this.close();\n        };\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            this.isOpen = false;\n            if (typeof this.options.onClose === 'function') {\n                this.options.onClose.call(this);\n            }\n            this.modal.close();\n            return this;\n        };\n        this.el.M_Datepicker = this;\n        this.options = Object.assign(Object.assign({}, Datepicker.defaults), options);\n        // make sure i18n defaults are not lost when only few i18n option properties are passed\n        if (!!options && options.hasOwnProperty('i18n') && typeof options.i18n === 'object') {\n            this.options.i18n = Object.assign(Object.assign({}, Datepicker.defaults.i18n), options.i18n);\n        }\n        // Remove time component from minDate and maxDate options\n        if (this.options.minDate)\n            this.options.minDate.setHours(0, 0, 0, 0);\n        if (this.options.maxDate)\n            this.options.maxDate.setHours(0, 0, 0, 0);\n        this.id = global_1.M.guid();\n        this._setupVariables();\n        this._insertHTMLIntoDOM();\n        this._setupModal();\n        this._setupEventHandlers();\n        if (!this.options.defaultDate) {\n            this.options.defaultDate = new Date(Date.parse(this.el.value));\n        }\n        let defDate = this.options.defaultDate;\n        if (Datepicker._isDate(defDate)) {\n            if (this.options.setDefaultDate) {\n                this.setDate(defDate, true);\n                this.setInputValue();\n            }\n            else {\n                this.gotoDate(defDate);\n            }\n        }\n        else {\n            this.gotoDate(new Date());\n        }\n        this.isOpen = false;\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static _isDate(obj) {\n        return /Date/.test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    }\n    static _isWeekend(date) {\n        let day = date.getDay();\n        return day === 0 || day === 6;\n    }\n    static _setToStartOfDay(date) {\n        if (Datepicker._isDate(date))\n            date.setHours(0, 0, 0, 0);\n    }\n    static _getDaysInMonth(year, month) {\n        return [31, Datepicker._isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    }\n    static _isLeapYear(year) {\n        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n    static _compareDates(a, b) {\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n        return a.getTime() === b.getTime();\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Datepicker;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.modal.destroy();\n        this.modalEl.remove();\n        this.destroySelects();\n        this.el.M_Datepicker = undefined;\n    }\n    destroySelects() {\n        let oldYearSelect = this.calendarEl.querySelector('.orig-select-year');\n        if (oldYearSelect) {\n            select_1.FormSelect.getInstance(oldYearSelect).destroy();\n        }\n        let oldMonthSelect = this.calendarEl.querySelector('.orig-select-month');\n        if (oldMonthSelect) {\n            select_1.FormSelect.getInstance(oldMonthSelect).destroy();\n        }\n    }\n    _insertHTMLIntoDOM() {\n        if (this.options.showClearBtn) {\n            this.clearBtn.style.visibility = '';\n            this.clearBtn.innerText = this.options.i18n.clear;\n        }\n        this.doneBtn.innerText = this.options.i18n.done;\n        this.cancelBtn.innerText = this.options.i18n.cancel;\n        if (this.options.container) {\n            const optEl = this.options.container;\n            this.options.container =\n                optEl instanceof HTMLElement ? optEl : document.querySelector(optEl);\n            this.options.container.append(this.modalEl);\n        }\n        else {\n            //this.modalEl.before(this.el);\n            this.el.parentElement.appendChild(this.modalEl);\n        }\n    }\n    _setupModal() {\n        this.modalEl.id = 'modal-' + this.id;\n        this.modal = modal_1.Modal.init(this.modalEl, {\n            onCloseEnd: () => {\n                this.isOpen = false;\n            }\n        });\n    }\n    toString(format = null) {\n        format = format || this.options.format;\n        if (typeof format === 'function')\n            return format(this.date);\n        if (!Datepicker._isDate(this.date))\n            return '';\n        // String Format\n        const formatArray = format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g);\n        const formattedDate = formatArray\n            .map(label => this.formats[label] ? this.formats[label]() : label)\n            .join('');\n        return formattedDate;\n    }\n    setDate(date, preventOnSelect = false) {\n        if (!date) {\n            this.date = null;\n            this._renderDateDisplay();\n            return this.draw();\n        }\n        if (typeof date === 'string') {\n            date = new Date(Date.parse(date));\n        }\n        if (!Datepicker._isDate(date)) {\n            return;\n        }\n        let min = this.options.minDate, max = this.options.maxDate;\n        if (Datepicker._isDate(min) && date < min) {\n            date = min;\n        }\n        else if (Datepicker._isDate(max) && date > max) {\n            date = max;\n        }\n        this.date = new Date(date.getTime());\n        this._renderDateDisplay();\n        Datepicker._setToStartOfDay(this.date);\n        this.gotoDate(this.date);\n        if (!preventOnSelect && typeof this.options.onSelect === 'function') {\n            this.options.onSelect.call(this, this.date);\n        }\n    }\n    setInputValue() {\n        this.el.value = this.toString();\n        this.el.dispatchEvent(new CustomEvent('change', { detail: { firedBy: this } }));\n    }\n    _renderDateDisplay() {\n        let displayDate = Datepicker._isDate(this.date) ? this.date : new Date();\n        let i18n = this.options.i18n;\n        let day = i18n.weekdaysShort[displayDate.getDay()];\n        let month = i18n.monthsShort[displayDate.getMonth()];\n        let date = displayDate.getDate();\n        this.yearTextEl.innerHTML = displayDate.getFullYear();\n        this.dateTextEl.innerHTML = `${day}, ${month} ${date}`;\n    }\n    gotoDate(date) {\n        let newCalendar = true;\n        if (!Datepicker._isDate(date)) {\n            return;\n        }\n        if (this.calendars) {\n            let firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1), lastVisibleDate = new Date(this.calendars[this.calendars.length - 1].year, this.calendars[this.calendars.length - 1].month, 1), visibleDate = date.getTime();\n            // get the end of the month\n            lastVisibleDate.setMonth(lastVisibleDate.getMonth() + 1);\n            lastVisibleDate.setDate(lastVisibleDate.getDate() - 1);\n            newCalendar =\n                visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate;\n        }\n        if (newCalendar) {\n            this.calendars = [\n                {\n                    month: date.getMonth(),\n                    year: date.getFullYear()\n                }\n            ];\n        }\n        this.adjustCalendars();\n    }\n    adjustCalendars() {\n        this.calendars[0] = this.adjustCalendar(this.calendars[0]);\n        this.draw();\n    }\n    adjustCalendar(calendar) {\n        if (calendar.month < 0) {\n            calendar.year -= Math.ceil(Math.abs(calendar.month) / 12);\n            calendar.month += 12;\n        }\n        if (calendar.month > 11) {\n            calendar.year += Math.floor(Math.abs(calendar.month) / 12);\n            calendar.month -= 12;\n        }\n        return calendar;\n    }\n    nextMonth() {\n        this.calendars[0].month++;\n        this.adjustCalendars();\n    }\n    prevMonth() {\n        this.calendars[0].month--;\n        this.adjustCalendars();\n    }\n    render(year, month, randId) {\n        let opts = this.options, now = new Date(), days = Datepicker._getDaysInMonth(year, month), before = new Date(year, month, 1).getDay(), data = [], row = [];\n        Datepicker._setToStartOfDay(now);\n        if (opts.firstDay > 0) {\n            before -= opts.firstDay;\n            if (before < 0) {\n                before += 7;\n            }\n        }\n        let previousMonth = month === 0 ? 11 : month - 1, nextMonth = month === 11 ? 0 : month + 1, yearOfPreviousMonth = month === 0 ? year - 1 : year, yearOfNextMonth = month === 11 ? year + 1 : year, daysInPreviousMonth = Datepicker._getDaysInMonth(yearOfPreviousMonth, previousMonth);\n        let cells = days + before, after = cells;\n        while (after > 7) {\n            after -= 7;\n        }\n        cells += 7 - after;\n        let isWeekSelected = false;\n        for (let i = 0, r = 0; i < cells; i++) {\n            let day = new Date(year, month, 1 + (i - before)), isSelected = Datepicker._isDate(this.date)\n                ? Datepicker._compareDates(day, this.date)\n                : false, isToday = Datepicker._compareDates(day, now), hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false, isEmpty = i < before || i >= days + before, dayNumber = 1 + (i - before), monthNumber = month, yearNumber = year, isStartRange = opts.startRange && Datepicker._compareDates(opts.startRange, day), isEndRange = opts.endRange && Datepicker._compareDates(opts.endRange, day), isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange, isDisabled = (opts.minDate && day < opts.minDate) ||\n                (opts.maxDate && day > opts.maxDate) ||\n                (opts.disableWeekends && Datepicker._isWeekend(day)) ||\n                (opts.disableDayFn && opts.disableDayFn(day));\n            if (isEmpty) {\n                if (i < before) {\n                    dayNumber = daysInPreviousMonth + dayNumber;\n                    monthNumber = previousMonth;\n                    yearNumber = yearOfPreviousMonth;\n                }\n                else {\n                    dayNumber = dayNumber - days;\n                    monthNumber = nextMonth;\n                    yearNumber = yearOfNextMonth;\n                }\n            }\n            let dayConfig = {\n                day: dayNumber,\n                month: monthNumber,\n                year: yearNumber,\n                hasEvent: hasEvent,\n                isSelected: isSelected,\n                isToday: isToday,\n                isDisabled: isDisabled,\n                isEmpty: isEmpty,\n                isStartRange: isStartRange,\n                isEndRange: isEndRange,\n                isInRange: isInRange,\n                showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths\n            };\n            row.push(this.renderDay(dayConfig));\n            if (++r === 7) {\n                data.push(this.renderRow(row, opts.isRTL, isWeekSelected));\n                row = [];\n                r = 0;\n                isWeekSelected = false;\n            }\n        }\n        return this.renderTable(opts, data, randId);\n    }\n    renderDay(opts) {\n        let arr = [];\n        let ariaSelected = 'false';\n        if (opts.isEmpty) {\n            if (opts.showDaysInNextAndPreviousMonths) {\n                arr.push('is-outside-current-month');\n                arr.push('is-selection-disabled');\n            }\n            else {\n                return '<td class=\"is-empty\"></td>';\n            }\n        }\n        if (opts.isDisabled) {\n            arr.push('is-disabled');\n        }\n        if (opts.isToday) {\n            arr.push('is-today');\n        }\n        if (opts.isSelected) {\n            arr.push('is-selected');\n            ariaSelected = 'true';\n        }\n        if (opts.hasEvent) {\n            arr.push('has-event');\n        }\n        if (opts.isInRange) {\n            arr.push('is-inrange');\n        }\n        if (opts.isStartRange) {\n            arr.push('is-startrange');\n        }\n        if (opts.isEndRange) {\n            arr.push('is-endrange');\n        }\n        return (`<td data-day=\"${opts.day}\" class=\"${arr.join(' ')}\" aria-selected=\"${ariaSelected}\">` +\n            `<button class=\"datepicker-day-button\" type=\"button\" data-year=\"${opts.year}\" data-month=\"${opts.month}\" data-day=\"${opts.day}\">${opts.day}</button>` +\n            '</td>');\n    }\n    renderRow(days, isRTL, isRowSelected) {\n        return ('<tr class=\"datepicker-row' +\n            (isRowSelected ? ' is-selected' : '') +\n            '\">' +\n            (isRTL ? days.reverse() : days).join('') +\n            '</tr>');\n    }\n    renderTable(opts, data, randId) {\n        return ('<div class=\"datepicker-table-wrapper\"><table cellpadding=\"0\" cellspacing=\"0\" class=\"datepicker-table\" role=\"grid\" aria-labelledby=\"' +\n            randId +\n            '\">' +\n            this.renderHead(opts) +\n            this.renderBody(data) +\n            '</table></div>');\n    }\n    renderHead(opts) {\n        let i, arr = [];\n        for (i = 0; i < 7; i++) {\n            arr.push(`<th scope=\"col\"><abbr title=\"${this.renderDayName(opts, i)}\">${this.renderDayName(opts, i, true)}</abbr></th>`);\n        }\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    }\n    renderBody(rows) {\n        return '<tbody>' + rows.join('') + '</tbody>';\n    }\n    renderTitle(instance, c, year, month, refYear, randId) {\n        let i, j, arr, opts = this.options, isMinYear = year === opts.minYear, isMaxYear = year === opts.maxYear, html = '<div id=\"' +\n            randId +\n            '\" class=\"datepicker-controls\" role=\"heading\" aria-live=\"assertive\">', monthHtml, yearHtml, prev = true, next = true;\n        for (arr = [], i = 0; i < 12; i++) {\n            arr.push('<option value=\"' +\n                (year === refYear ? i - c : 12 + i - c) +\n                '\"' +\n                (i === month ? ' selected=\"selected\"' : '') +\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth)\n                    ? 'disabled=\"disabled\"'\n                    : '') +\n                '>' +\n                opts.i18n.months[i] +\n                '</option>');\n        }\n        monthHtml = '<select class=\"datepicker-select orig-select-month\" tabindex=\"-1\">' + arr.join('') + '</select>';\n        if (Array.isArray(opts.yearRange)) {\n            i = opts.yearRange[0];\n            j = opts.yearRange[1] + 1;\n        }\n        else {\n            i = year - opts.yearRange;\n            j = 1 + year + opts.yearRange;\n        }\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\n            if (i >= opts.minYear) {\n                arr.push(`<option value=\"${i}\" ${i === year ? 'selected=\"selected\"' : ''}>${i}</option>`);\n            }\n        }\n        if (opts.yearRangeReverse)\n            arr.reverse();\n        yearHtml = `<select class=\"datepicker-select orig-select-year\" tabindex=\"-1\">${arr.join('')}</select>`;\n        let leftArrow = '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"/><path d=\"M0-.5h24v24H0z\" fill=\"none\"/></svg>';\n        html += `<button class=\"month-prev${prev ? '' : ' is-disabled'} btn-flat\" type=\"button\">${leftArrow}</button>`;\n        html += '<div class=\"selects-container\">';\n        if (opts.showMonthAfterYear) {\n            html += yearHtml + monthHtml;\n        }\n        else {\n            html += monthHtml + yearHtml;\n        }\n        html += '</div>';\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n            prev = false;\n        }\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n            next = false;\n        }\n        let rightArrow = '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"/><path d=\"M0-.25h24v24H0z\" fill=\"none\"/></svg>';\n        html += `<button class=\"month-next${next ? '' : ' is-disabled'} btn-flat\" type=\"button\">${rightArrow}</button>`;\n        return (html += '</div>');\n    }\n    // refresh HTML\n    draw(force = false) {\n        if (!this.isOpen && !force)\n            return;\n        let opts = this.options, minYear = opts.minYear, maxYear = opts.maxYear, minMonth = opts.minMonth, maxMonth = opts.maxMonth, html = '', randId;\n        if (this._y <= minYear) {\n            this._y = minYear;\n            if (!isNaN(minMonth) && this._m < minMonth) {\n                this._m = minMonth;\n            }\n        }\n        if (this._y >= maxYear) {\n            this._y = maxYear;\n            if (!isNaN(maxMonth) && this._m > maxMonth) {\n                this._m = maxMonth;\n            }\n        }\n        randId =\n            'datepicker-title-' +\n                Math.random()\n                    .toString(36)\n                    .replace(/[^a-z]+/g, '')\n                    .substr(0, 2);\n        for (let c = 0; c < 1; c++) {\n            this._renderDateDisplay();\n            html +=\n                this.renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId);\n        }\n        this.destroySelects();\n        this.calendarEl.innerHTML = html;\n        // Init Materialize Select\n        let yearSelect = this.calendarEl.querySelector('.orig-select-year');\n        let monthSelect = this.calendarEl.querySelector('.orig-select-month');\n        select_1.FormSelect.init(yearSelect, {\n            classes: 'select-year',\n            dropdownOptions: { container: document.body, constrainWidth: false }\n        });\n        select_1.FormSelect.init(monthSelect, {\n            classes: 'select-month',\n            dropdownOptions: { container: document.body, constrainWidth: false }\n        });\n        // Add change handlers for select\n        yearSelect.addEventListener('change', () => this._handleYearChange);\n        monthSelect.addEventListener('change', () => this._handleMonthChange);\n        if (typeof this.options.onDraw === 'function') {\n            this.options.onDraw(this);\n        }\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleInputClick);\n        this.el.addEventListener('keydown', this._handleInputKeydown);\n        this.el.addEventListener('change', this._handleInputChange);\n        this.calendarEl.addEventListener('click', this._handleCalendarClick);\n        this.doneBtn.addEventListener('click', this._finishSelection);\n        this.cancelBtn.addEventListener('click', this.close);\n        if (this.options.showClearBtn) {\n            this.clearBtn.addEventListener('click', this._handleClearClick);\n        }\n    }\n    _setupVariables() {\n        const template = document.createElement('template');\n        template.innerHTML = Datepicker._template.trim();\n        this.modalEl = template.content.firstChild;\n        this.calendarEl = this.modalEl.querySelector('.datepicker-calendar');\n        this.yearTextEl = this.modalEl.querySelector('.year-text');\n        this.dateTextEl = this.modalEl.querySelector('.date-text');\n        if (this.options.showClearBtn) {\n            this.clearBtn = this.modalEl.querySelector('.datepicker-clear');\n        }\n        this.doneBtn = this.modalEl.querySelector('.datepicker-done');\n        this.cancelBtn = this.modalEl.querySelector('.datepicker-cancel');\n        this.formats = {\n            d: () => {\n                return this.date.getDate();\n            },\n            dd: () => {\n                let d = this.date.getDate();\n                return (d < 10 ? '0' : '') + d;\n            },\n            ddd: () => {\n                return this.options.i18n.weekdaysShort[this.date.getDay()];\n            },\n            dddd: () => {\n                return this.options.i18n.weekdays[this.date.getDay()];\n            },\n            m: () => {\n                return this.date.getMonth() + 1;\n            },\n            mm: () => {\n                let m = this.date.getMonth() + 1;\n                return (m < 10 ? '0' : '') + m;\n            },\n            mmm: () => {\n                return this.options.i18n.monthsShort[this.date.getMonth()];\n            },\n            mmmm: () => {\n                return this.options.i18n.months[this.date.getMonth()];\n            },\n            yy: () => {\n                return ('' + this.date.getFullYear()).slice(2);\n            },\n            yyyy: () => {\n                return this.date.getFullYear();\n            }\n        };\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleInputClick);\n        this.el.removeEventListener('keydown', this._handleInputKeydown);\n        this.el.removeEventListener('change', this._handleInputChange);\n        this.calendarEl.removeEventListener('click', this._handleCalendarClick);\n    }\n    // change view to a specific month (zero-index, e.g. 0: January)\n    gotoMonth(month) {\n        if (!isNaN(month)) {\n            this.calendars[0].month = parseInt(month, 10);\n            this.adjustCalendars();\n        }\n    }\n    // change view to a specific full year (e.g. \"2012\")\n    gotoYear(year) {\n        if (!isNaN(year)) {\n            this.calendars[0].year = parseInt(year, 10);\n            this.adjustCalendars();\n        }\n    }\n    renderDayName(opts, day, abbr = false) {\n        day += opts.firstDay;\n        while (day >= 7) {\n            day -= 7;\n        }\n        return abbr ? opts.i18n.weekdaysAbbrev[day] : opts.i18n.weekdays[day];\n    }\n    open() {\n        if (this.isOpen)\n            return;\n        this.isOpen = true;\n        if (typeof this.options.onOpen === 'function') {\n            this.options.onOpen.call(this);\n        }\n        this.draw();\n        this.modal.open(undefined);\n        return this;\n    }\n}\nexports.Datepicker = Datepicker;\n(() => {\n    Datepicker._template = `\n      <div class=\"modal datepicker-modal\">\n        <div class=\"modal-content datepicker-container\">\n          <div class=\"datepicker-date-display\">\n            <span class=\"year-text\"></span>\n            <span class=\"date-text\"></span>\n          </div>\n          <div class=\"datepicker-calendar-container\">\n            <div class=\"datepicker-calendar\"></div>\n            <div class=\"datepicker-footer\">\n              <button class=\"btn-flat datepicker-clear waves-effect\" style=\"visibility: hidden;\" type=\"button\"></button>\n              <div class=\"confirmation-btns\">\n                <button class=\"btn-flat datepicker-cancel waves-effect\" type=\"button\"></button>\n                <button class=\"btn-flat datepicker-done waves-effect\" type=\"button\"></button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>`;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SCxDQUFDO0lBZUQsYUFBYSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBZ0IsS0FBSztRQUM1QyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUNyQixPQUFPLEdBQUcsSUFBSSxDQUFDLEVBQUU7WUFDZixHQUFHLElBQUksQ0FBQyxDQUFDO1NBQ1Y7UUFDRCxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3hFLENBQUM7SUFRRCxJQUFJO1FBQ0YsSUFBSSxJQUFJLENBQUMsTUFBTTtZQUFFLE9BQU87UUFDeEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDbkIsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxLQUFLLFVBQVUsRUFBRTtZQUM3QyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDaEM7UUFDRCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDWixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMzQixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7Q0FpQ0Y7QUF0eEJELGdDQXN4QkM7QUFyQkM7SUFDRSxVQUFVLENBQUMsU0FBUyxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7YUFrQmQsQ0FBQztBQUNaLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvZGF0ZXBpY2tlci50cz9hOTM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuaW1wb3J0IHsgTW9kYWwgfSBmcm9tIFwiLi9tb2RhbFwiO1xuaW1wb3J0IHsgRm9ybVNlbGVjdCB9IGZyb20gXCIuL3NlbGVjdFwiO1xuXG5sZXQgX2RlZmF1bHRzID0ge1xuICAvLyBDbG9zZSB3aGVuIGRhdGUgaXMgc2VsZWN0ZWRcbiAgYXV0b0Nsb3NlOiBmYWxzZSxcbiAgLy8gdGhlIGRlZmF1bHQgb3V0cHV0IGZvcm1hdCBmb3IgdGhlIGlucHV0IGZpZWxkIHZhbHVlXG4gIGZvcm1hdDogJ21tbSBkZCwgeXl5eScsXG4gIC8vIFVzZWQgdG8gY3JlYXRlIGRhdGUgb2JqZWN0IGZyb20gY3VycmVudCBpbnB1dCBzdHJpbmdcbiAgcGFyc2U6IG51bGwsXG4gIC8vIFRoZSBpbml0aWFsIGRhdGUgdG8gdmlldyB3aGVuIGZpcnN0IG9wZW5lZFxuICBkZWZhdWx0RGF0ZTogbnVsbCxcbiAgLy8gTWFrZSB0aGUgYGRlZmF1bHREYXRlYCB0aGUgaW5pdGlhbCBzZWxlY3RlZCB2YWx1ZVxuICBzZXREZWZhdWx0RGF0ZTogZmFsc2UsXG4gIGRpc2FibGVXZWVrZW5kczogZmFsc2UsXG4gIGRpc2FibGVEYXlGbjogbnVsbCxcbiAgLy8gRmlyc3QgZGF5IG9mIHdlZWsgKDA6IFN1bmRheSwgMTogTW9uZGF5IGV0YylcbiAgZmlyc3REYXk6IDAsXG4gIC8vIFRoZSBlYXJsaWVzdCBkYXRlIHRoYXQgY2FuIGJlIHNlbGVjdGVkXG4gIG1pbkRhdGU6IG51bGwsXG4gIC8vIFRoZWxhdGVzdCBkYXRlIHRoYXQgY2FuIGJlIHNlbGVjdGVkXG4gIG1heERhdGU6IG51bGwsXG4gIC8vIE51bWJlciBvZiB5ZWFycyBlaXRoZXIgc2lkZSwgb3IgYXJyYXkgb2YgdXBwZXIvbG93ZXIgcmFuZ2VcbiAgeWVhclJhbmdlOiAxMCxcbiAgLy8gdXNlZCBpbnRlcm5hbGx5IChkb24ndCBjb25maWcgb3V0c2lkZSlcbiAgbWluWWVhcjogMCxcbiAgbWF4WWVhcjogOTk5OSxcbiAgbWluTW9udGg6IHVuZGVmaW5lZCxcbiAgbWF4TW9udGg6IHVuZGVmaW5lZCxcbiAgc3RhcnRSYW5nZTogbnVsbCxcbiAgZW5kUmFuZ2U6IG51bGwsXG4gIGlzUlRMOiBmYWxzZSxcbiAgLy8gUmVuZGVyIHRoZSBtb250aCBhZnRlciB5ZWFyIGluIHRoZSBjYWxlbmRhciB0aXRsZVxuICBzaG93TW9udGhBZnRlclllYXI6IGZhbHNlLFxuICAvLyBSZW5kZXIgZGF5cyBvZiB0aGUgY2FsZW5kYXIgZ3JpZCB0aGF0IGZhbGwgaW4gdGhlIG5leHQgb3IgcHJldmlvdXMgbW9udGhcbiAgc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRoczogZmFsc2UsXG4gIC8vIFNwZWNpZnkgYSBET00gZWxlbWVudCB0byByZW5kZXIgdGhlIGNhbGVuZGFyIGluXG4gIGNvbnRhaW5lcjogbnVsbCxcbiAgLy8gU2hvdyBjbGVhciBidXR0b25cbiAgc2hvd0NsZWFyQnRuOiBmYWxzZSxcbiAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb25cbiAgaTE4bjoge1xuICAgIGNhbmNlbDogJ0NhbmNlbCcsXG4gICAgY2xlYXI6ICdDbGVhcicsXG4gICAgZG9uZTogJ09rJyxcbiAgICBwcmV2aW91c01vbnRoOiAn4oC5JyxcbiAgICBuZXh0TW9udGg6ICfigLonLFxuICAgIG1vbnRoczogW1xuICAgICAgJ0phbnVhcnknLFxuICAgICAgJ0ZlYnJ1YXJ5JyxcbiAgICAgICdNYXJjaCcsXG4gICAgICAnQXByaWwnLFxuICAgICAgJ01heScsXG4gICAgICAnSnVuZScsXG4gICAgICAnSnVseScsXG4gICAgICAnQXVndXN0JyxcbiAgICAgICdTZXB0ZW1iZXInLFxuICAgICAgJ09jdG9iZXInLFxuICAgICAgJ05vdmVtYmVyJyxcbiAgICAgICdEZWNlbWJlcidcbiAgICBdLFxuICAgIG1vbnRoc1Nob3J0OiBbXG4gICAgICAnSmFuJyxcbiAgICAgICdGZWInLFxuICAgICAgJ01hcicsXG4gICAgICAnQXByJyxcbiAgICAgICdNYXknLFxuICAgICAgJ0p1bicsXG4gICAgICAnSnVsJyxcbiAgICAgICdBdWcnLFxuICAgICAgJ1NlcCcsXG4gICAgICAnT2N0JyxcbiAgICAgICdOb3YnLFxuICAgICAgJ0RlYydcbiAgICBdLFxuICAgIHdlZWtkYXlzOiBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J10sXG4gICAgd2Vla2RheXNTaG9ydDogWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXSxcbiAgICB3ZWVrZGF5c0FiYnJldjogWydTJywgJ00nLCAnVCcsICdXJywgJ1QnLCAnRicsICdTJ11cbiAgfSxcbiAgLy8gZXZlbnRzIGFycmF5XG4gIGV2ZW50czogW10sXG4gIC8vIGNhbGxiYWNrIGZ1bmN0aW9uXG4gIG9uU2VsZWN0OiBudWxsLFxuICBvbk9wZW46IG51bGwsXG4gIG9uQ2xvc2U6IG51bGwsXG4gIG9uRHJhdzogbnVsbFxufTtcblxuZXhwb3J0IGNsYXNzIERhdGVwaWNrZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBlbDogSFRNTElucHV0RWxlbWVudFxuICBpZDogc3RyaW5nO1xuICBpc09wZW46IGJvb2xlYW47XG4gIG1vZGFsOiBNb2RhbDtcbiAgY2FsZW5kYXJFbDogSFRNTEVsZW1lbnQ7XG4gIGNsZWFyQnRuOiBIVE1MRWxlbWVudDtcbiAgZG9uZUJ0bjogSFRNTEVsZW1lbnQ7XG4gIGNhbmNlbEJ0bjogSFRNTEVsZW1lbnQ7XG4gIG1vZGFsRWw6IEhUTUxFbGVtZW50O1xuICB5ZWFyVGV4dEVsOiBIVE1MRWxlbWVudDtcbiAgZGF0ZVRleHRFbDogSFRNTEVsZW1lbnQ7XG4gIGRhdGU6IGFueTtcbiAgZm9ybWF0czogYW55O1xuICBjYWxlbmRhcnM6IGFueTtcbiAgcHJpdmF0ZSBfeTogYW55O1xuICBwcml2YXRlIF9tOiBhbnk7XG4gIHN0YXRpYyBfdGVtcGxhdGU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgIHN1cGVyKERhdGVwaWNrZXIsIGVsLCBvcHRpb25zKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fRGF0ZXBpY2tlciA9IHRoaXM7XG4gICAgdGhpcy5vcHRpb25zID0gey4uLkRhdGVwaWNrZXIuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuXG4gICAgLy8gbWFrZSBzdXJlIGkxOG4gZGVmYXVsdHMgYXJlIG5vdCBsb3N0IHdoZW4gb25seSBmZXcgaTE4biBvcHRpb24gcHJvcGVydGllcyBhcmUgcGFzc2VkXG4gICAgaWYgKCEhb3B0aW9ucyAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KCdpMThuJykgJiYgdHlwZW9mIG9wdGlvbnMuaTE4biA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5pMThuID0gey4uLkRhdGVwaWNrZXIuZGVmYXVsdHMuaTE4biwgLi4ub3B0aW9ucy5pMThufTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgdGltZSBjb21wb25lbnQgZnJvbSBtaW5EYXRlIGFuZCBtYXhEYXRlIG9wdGlvbnNcbiAgICBpZiAodGhpcy5vcHRpb25zLm1pbkRhdGUpIHRoaXMub3B0aW9ucy5taW5EYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgIGlmICh0aGlzLm9wdGlvbnMubWF4RGF0ZSkgdGhpcy5vcHRpb25zLm1heERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG5cbiAgICB0aGlzLmlkID0gTS5ndWlkKCk7XG5cbiAgICB0aGlzLl9zZXR1cFZhcmlhYmxlcygpO1xuICAgIHRoaXMuX2luc2VydEhUTUxJbnRvRE9NKCk7XG4gICAgdGhpcy5fc2V0dXBNb2RhbCgpO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZGVmYXVsdERhdGUpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5kZWZhdWx0RGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UodGhpcy5lbC52YWx1ZSkpO1xuICAgIH1cblxuICAgIGxldCBkZWZEYXRlID0gdGhpcy5vcHRpb25zLmRlZmF1bHREYXRlO1xuICAgIGlmIChEYXRlcGlja2VyLl9pc0RhdGUoZGVmRGF0ZSkpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2V0RGVmYXVsdERhdGUpIHtcbiAgICAgICAgdGhpcy5zZXREYXRlKGRlZkRhdGUsIHRydWUpO1xuICAgICAgICB0aGlzLnNldElucHV0VmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmdvdG9EYXRlKGRlZkRhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuZ290b0RhdGUobmV3IERhdGUoKSk7XG4gICAgfVxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIF9pc0RhdGUob2JqKSB7XG4gICAgcmV0dXJuIC9EYXRlLy50ZXN0KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSAmJiAhaXNOYU4ob2JqLmdldFRpbWUoKSk7XG4gIH1cblxuICBzdGF0aWMgX2lzV2Vla2VuZChkYXRlKSB7XG4gICAgbGV0IGRheSA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgcmV0dXJuIGRheSA9PT0gMCB8fCBkYXkgPT09IDY7XG4gIH1cblxuICBzdGF0aWMgX3NldFRvU3RhcnRPZkRheShkYXRlKSB7XG4gICAgaWYgKERhdGVwaWNrZXIuX2lzRGF0ZShkYXRlKSkgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgfVxuXG4gIHN0YXRpYyBfZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcbiAgICByZXR1cm4gWzMxLCBEYXRlcGlja2VyLl9pc0xlYXBZZWFyKHllYXIpID8gMjkgOiAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdW1xuICAgICAgbW9udGhcbiAgICBdO1xuICB9XG5cbiAgc3RhdGljIF9pc0xlYXBZZWFyKHllYXIpIHtcbiAgICAvLyBzb2x1dGlvbiBieSBNYXR0aSBWaXJra3VuZW46IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ4ODE5NTFcbiAgICByZXR1cm4gKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDA7XG4gIH1cblxuICBzdGF0aWMgX2NvbXBhcmVEYXRlcyhhLCBiKSB7XG4gICAgLy8gd2VhayBkYXRlIGNvbXBhcmlzb24gKHVzZSBzZXRUb1N0YXJ0T2ZEYXkoZGF0ZSkgdG8gZW5zdXJlIGNvcnJlY3QgcmVzdWx0KVxuICAgIHJldHVybiBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICBsZXQgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICByZXR1cm4gZG9tRWxlbS5NX0RhdGVwaWNrZXI7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLm1vZGFsLmRlc3Ryb3koKTtcbiAgICB0aGlzLm1vZGFsRWwucmVtb3ZlKCk7XG4gICAgdGhpcy5kZXN0cm95U2VsZWN0cygpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9EYXRlcGlja2VyID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZGVzdHJveVNlbGVjdHMoKSB7XG4gICAgbGV0IG9sZFllYXJTZWxlY3QgPSB0aGlzLmNhbGVuZGFyRWwucXVlcnlTZWxlY3RvcignLm9yaWctc2VsZWN0LXllYXInKTtcbiAgICBpZiAob2xkWWVhclNlbGVjdCkge1xuICAgICAgRm9ybVNlbGVjdC5nZXRJbnN0YW5jZShvbGRZZWFyU2VsZWN0KS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGxldCBvbGRNb250aFNlbGVjdCA9IHRoaXMuY2FsZW5kYXJFbC5xdWVyeVNlbGVjdG9yKCcub3JpZy1zZWxlY3QtbW9udGgnKTtcbiAgICBpZiAob2xkTW9udGhTZWxlY3QpIHtcbiAgICAgIEZvcm1TZWxlY3QuZ2V0SW5zdGFuY2Uob2xkTW9udGhTZWxlY3QpLmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cblxuICBfaW5zZXJ0SFRNTEludG9ET00oKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Q2xlYXJCdG4pIHtcbiAgICAgIHRoaXMuY2xlYXJCdG4uc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICAgICAgdGhpcy5jbGVhckJ0bi5pbm5lclRleHQgPSB0aGlzLm9wdGlvbnMuaTE4bi5jbGVhcjtcbiAgICB9XG4gICAgdGhpcy5kb25lQnRuLmlubmVyVGV4dCA9IHRoaXMub3B0aW9ucy5pMThuLmRvbmU7XG4gICAgdGhpcy5jYW5jZWxCdG4uaW5uZXJUZXh0ID0gdGhpcy5vcHRpb25zLmkxOG4uY2FuY2VsO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgIGNvbnN0IG9wdEVsID0gdGhpcy5vcHRpb25zLmNvbnRhaW5lcjtcbiAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIgPVxuICAgICAgICBvcHRFbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gb3B0RWwgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdEVsKTtcbiAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIuYXBwZW5kKHRoaXMubW9kYWxFbCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy90aGlzLm1vZGFsRWwuYmVmb3JlKHRoaXMuZWwpO1xuICAgICAgdGhpcy5lbC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMubW9kYWxFbCk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwTW9kYWwoKSB7XG4gICAgdGhpcy5tb2RhbEVsLmlkID0gJ21vZGFsLScgKyB0aGlzLmlkO1xuICAgIHRoaXMubW9kYWwgPSBNb2RhbC5pbml0KHRoaXMubW9kYWxFbCwge1xuICAgICAgb25DbG9zZUVuZDogKCkgPT4ge1xuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdG9TdHJpbmcoZm9ybWF0OiBzdHJpbmcgfCAoKGQ6IERhdGUpID0+IHN0cmluZykgPSBudWxsKTogc3RyaW5nIHtcbiAgICBmb3JtYXQgPSBmb3JtYXQgfHwgdGhpcy5vcHRpb25zLmZvcm1hdDtcbiAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZvcm1hdCh0aGlzLmRhdGUpO1xuICAgIGlmICghRGF0ZXBpY2tlci5faXNEYXRlKHRoaXMuZGF0ZSkpIHJldHVybiAnJztcbiAgICAvLyBTdHJpbmcgRm9ybWF0XG4gICAgY29uc3QgZm9ybWF0QXJyYXkgPSBmb3JtYXQuc3BsaXQoLyhkezEsNH18bXsxLDR9fHl7NH18eXl8IS4pL2cpO1xuICAgIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXRBcnJheVxuICAgICAgLm1hcChsYWJlbCA9PiB0aGlzLmZvcm1hdHNbbGFiZWxdID8gdGhpcy5mb3JtYXRzW2xhYmVsXSgpIDogbGFiZWwpXG4gICAgICAuam9pbignJyk7XG4gICAgcmV0dXJuIGZvcm1hdHRlZERhdGU7XG4gIH1cblxuICBzZXREYXRlKGRhdGUsIHByZXZlbnRPblNlbGVjdDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgaWYgKCFkYXRlKSB7XG4gICAgICB0aGlzLmRhdGUgPSBudWxsO1xuICAgICAgdGhpcy5fcmVuZGVyRGF0ZURpc3BsYXkoKTtcbiAgICAgIHJldHVybiB0aGlzLmRyYXcoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UoZGF0ZSkpO1xuICAgIH1cbiAgICBpZiAoIURhdGVwaWNrZXIuX2lzRGF0ZShkYXRlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbWluID0gdGhpcy5vcHRpb25zLm1pbkRhdGUsXG4gICAgICBtYXggPSB0aGlzLm9wdGlvbnMubWF4RGF0ZTtcbiAgICBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKG1pbikgJiYgZGF0ZSA8IG1pbikge1xuICAgICAgZGF0ZSA9IG1pbjtcbiAgICB9XG4gICAgZWxzZSBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKG1heCkgJiYgZGF0ZSA+IG1heCkge1xuICAgICAgZGF0ZSA9IG1heDtcbiAgICB9XG4gICAgdGhpcy5kYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICAgIHRoaXMuX3JlbmRlckRhdGVEaXNwbGF5KCk7XG4gICAgRGF0ZXBpY2tlci5fc2V0VG9TdGFydE9mRGF5KHRoaXMuZGF0ZSk7XG4gICAgdGhpcy5nb3RvRGF0ZSh0aGlzLmRhdGUpO1xuICAgIGlmICghcHJldmVudE9uU2VsZWN0ICYmIHR5cGVvZiB0aGlzLm9wdGlvbnMub25TZWxlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vblNlbGVjdC5jYWxsKHRoaXMsIHRoaXMuZGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZSgpIHtcbiAgICB0aGlzLmVsLnZhbHVlID0gdGhpcy50b1N0cmluZygpO1xuICAgIHRoaXMuZWwuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2NoYW5nZScsIHtkZXRhaWw6IHtmaXJlZEJ5OiB0aGlzfX0pKTtcbiAgfVxuXG4gIF9yZW5kZXJEYXRlRGlzcGxheSgpIHtcbiAgICBsZXQgZGlzcGxheURhdGUgPSBEYXRlcGlja2VyLl9pc0RhdGUodGhpcy5kYXRlKSA/IHRoaXMuZGF0ZSA6IG5ldyBEYXRlKCk7XG4gICAgbGV0IGkxOG4gPSB0aGlzLm9wdGlvbnMuaTE4bjtcbiAgICBsZXQgZGF5ID0gaTE4bi53ZWVrZGF5c1Nob3J0W2Rpc3BsYXlEYXRlLmdldERheSgpXTtcbiAgICBsZXQgbW9udGggPSBpMThuLm1vbnRoc1Nob3J0W2Rpc3BsYXlEYXRlLmdldE1vbnRoKCldO1xuICAgIGxldCBkYXRlID0gZGlzcGxheURhdGUuZ2V0RGF0ZSgpO1xuICAgIHRoaXMueWVhclRleHRFbC5pbm5lckhUTUwgPSBkaXNwbGF5RGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIHRoaXMuZGF0ZVRleHRFbC5pbm5lckhUTUwgPSBgJHtkYXl9LCAke21vbnRofSAke2RhdGV9YDtcbiAgfVxuXG4gIGdvdG9EYXRlKGRhdGUpIHtcbiAgICBsZXQgbmV3Q2FsZW5kYXIgPSB0cnVlO1xuICAgIGlmICghRGF0ZXBpY2tlci5faXNEYXRlKGRhdGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmNhbGVuZGFycykge1xuICAgICAgbGV0IGZpcnN0VmlzaWJsZURhdGUgPSBuZXcgRGF0ZSh0aGlzLmNhbGVuZGFyc1swXS55ZWFyLCB0aGlzLmNhbGVuZGFyc1swXS5tb250aCwgMSksXG4gICAgICAgIGxhc3RWaXNpYmxlRGF0ZSA9IG5ldyBEYXRlKFxuICAgICAgICAgIHRoaXMuY2FsZW5kYXJzW3RoaXMuY2FsZW5kYXJzLmxlbmd0aCAtIDFdLnllYXIsXG4gICAgICAgICAgdGhpcy5jYWxlbmRhcnNbdGhpcy5jYWxlbmRhcnMubGVuZ3RoIC0gMV0ubW9udGgsXG4gICAgICAgICAgMVxuICAgICAgICApLFxuICAgICAgICB2aXNpYmxlRGF0ZSA9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgLy8gZ2V0IHRoZSBlbmQgb2YgdGhlIG1vbnRoXG4gICAgICBsYXN0VmlzaWJsZURhdGUuc2V0TW9udGgobGFzdFZpc2libGVEYXRlLmdldE1vbnRoKCkgKyAxKTtcbiAgICAgIGxhc3RWaXNpYmxlRGF0ZS5zZXREYXRlKGxhc3RWaXNpYmxlRGF0ZS5nZXREYXRlKCkgLSAxKTtcbiAgICAgIG5ld0NhbGVuZGFyID1cbiAgICAgICAgdmlzaWJsZURhdGUgPCBmaXJzdFZpc2libGVEYXRlLmdldFRpbWUoKSB8fCBsYXN0VmlzaWJsZURhdGUuZ2V0VGltZSgpIDwgdmlzaWJsZURhdGU7XG4gICAgfVxuICAgIGlmIChuZXdDYWxlbmRhcikge1xuICAgICAgdGhpcy5jYWxlbmRhcnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBtb250aDogZGF0ZS5nZXRNb250aCgpLFxuICAgICAgICAgIHllYXI6IGRhdGUuZ2V0RnVsbFllYXIoKVxuICAgICAgICB9XG4gICAgICBdO1xuICAgIH1cbiAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICB9XG5cbiAgYWRqdXN0Q2FsZW5kYXJzKCkge1xuICAgIHRoaXMuY2FsZW5kYXJzWzBdID0gdGhpcy5hZGp1c3RDYWxlbmRhcih0aGlzLmNhbGVuZGFyc1swXSk7XG4gICAgdGhpcy5kcmF3KCk7XG4gIH1cblxuICBhZGp1c3RDYWxlbmRhcihjYWxlbmRhcikge1xuICAgIGlmIChjYWxlbmRhci5tb250aCA8IDApIHtcbiAgICAgIGNhbGVuZGFyLnllYXIgLT0gTWF0aC5jZWlsKE1hdGguYWJzKGNhbGVuZGFyLm1vbnRoKSAvIDEyKTtcbiAgICAgIGNhbGVuZGFyLm1vbnRoICs9IDEyO1xuICAgIH1cbiAgICBpZiAoY2FsZW5kYXIubW9udGggPiAxMSkge1xuICAgICAgY2FsZW5kYXIueWVhciArPSBNYXRoLmZsb29yKE1hdGguYWJzKGNhbGVuZGFyLm1vbnRoKSAvIDEyKTtcbiAgICAgIGNhbGVuZGFyLm1vbnRoIC09IDEyO1xuICAgIH1cbiAgICByZXR1cm4gY2FsZW5kYXI7XG4gIH1cblxuICBuZXh0TW9udGgoKSB7XG4gICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGgrKztcbiAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICB9XG5cbiAgcHJldk1vbnRoKCkge1xuICAgIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoLS07XG4gICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgfVxuXG4gIHJlbmRlcih5ZWFyLCBtb250aCwgcmFuZElkKSB7XG4gICAgbGV0IG9wdHMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICBub3cgPSBuZXcgRGF0ZSgpLFxuICAgICAgZGF5cyA9IERhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKHllYXIsIG1vbnRoKSxcbiAgICAgIGJlZm9yZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKS5nZXREYXkoKSxcbiAgICAgIGRhdGEgPSBbXSxcbiAgICAgIHJvdyA9IFtdO1xuICAgIERhdGVwaWNrZXIuX3NldFRvU3RhcnRPZkRheShub3cpO1xuICAgIGlmIChvcHRzLmZpcnN0RGF5ID4gMCkge1xuICAgICAgYmVmb3JlIC09IG9wdHMuZmlyc3REYXk7XG4gICAgICBpZiAoYmVmb3JlIDwgMCkge1xuICAgICAgICBiZWZvcmUgKz0gNztcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHByZXZpb3VzTW9udGggPSBtb250aCA9PT0gMCA/IDExIDogbW9udGggLSAxLFxuICAgICAgbmV4dE1vbnRoID0gbW9udGggPT09IDExID8gMCA6IG1vbnRoICsgMSxcbiAgICAgIHllYXJPZlByZXZpb3VzTW9udGggPSBtb250aCA9PT0gMCA/IHllYXIgLSAxIDogeWVhcixcbiAgICAgIHllYXJPZk5leHRNb250aCA9IG1vbnRoID09PSAxMSA/IHllYXIgKyAxIDogeWVhcixcbiAgICAgIGRheXNJblByZXZpb3VzTW9udGggPSBEYXRlcGlja2VyLl9nZXREYXlzSW5Nb250aCh5ZWFyT2ZQcmV2aW91c01vbnRoLCBwcmV2aW91c01vbnRoKTtcbiAgICBsZXQgY2VsbHMgPSBkYXlzICsgYmVmb3JlLFxuICAgICAgYWZ0ZXIgPSBjZWxscztcbiAgICB3aGlsZSAoYWZ0ZXIgPiA3KSB7XG4gICAgICBhZnRlciAtPSA3O1xuICAgIH1cbiAgICBjZWxscyArPSA3IC0gYWZ0ZXI7XG4gICAgbGV0IGlzV2Vla1NlbGVjdGVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDAsIHIgPSAwOyBpIDwgY2VsbHM7IGkrKykge1xuICAgICAgbGV0IGRheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxICsgKGkgLSBiZWZvcmUpKSxcbiAgICAgICAgaXNTZWxlY3RlZCA9IERhdGVwaWNrZXIuX2lzRGF0ZSh0aGlzLmRhdGUpXG4gICAgICAgICAgPyBEYXRlcGlja2VyLl9jb21wYXJlRGF0ZXMoZGF5LCB0aGlzLmRhdGUpXG4gICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgaXNUb2RheSA9IERhdGVwaWNrZXIuX2NvbXBhcmVEYXRlcyhkYXksIG5vdyksXG4gICAgICAgIGhhc0V2ZW50ID0gb3B0cy5ldmVudHMuaW5kZXhPZihkYXkudG9EYXRlU3RyaW5nKCkpICE9PSAtMSA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgaXNFbXB0eSA9IGkgPCBiZWZvcmUgfHwgaSA+PSBkYXlzICsgYmVmb3JlLFxuICAgICAgICBkYXlOdW1iZXIgPSAxICsgKGkgLSBiZWZvcmUpLFxuICAgICAgICBtb250aE51bWJlciA9IG1vbnRoLFxuICAgICAgICB5ZWFyTnVtYmVyID0geWVhcixcbiAgICAgICAgaXNTdGFydFJhbmdlID0gb3B0cy5zdGFydFJhbmdlICYmIERhdGVwaWNrZXIuX2NvbXBhcmVEYXRlcyhvcHRzLnN0YXJ0UmFuZ2UsIGRheSksXG4gICAgICAgIGlzRW5kUmFuZ2UgPSBvcHRzLmVuZFJhbmdlICYmIERhdGVwaWNrZXIuX2NvbXBhcmVEYXRlcyhvcHRzLmVuZFJhbmdlLCBkYXkpLFxuICAgICAgICBpc0luUmFuZ2UgPVxuICAgICAgICAgIG9wdHMuc3RhcnRSYW5nZSAmJiBvcHRzLmVuZFJhbmdlICYmIG9wdHMuc3RhcnRSYW5nZSA8IGRheSAmJiBkYXkgPCBvcHRzLmVuZFJhbmdlLFxuICAgICAgICBpc0Rpc2FibGVkID1cbiAgICAgICAgICAob3B0cy5taW5EYXRlICYmIGRheSA8IG9wdHMubWluRGF0ZSkgfHxcbiAgICAgICAgICAob3B0cy5tYXhEYXRlICYmIGRheSA+IG9wdHMubWF4RGF0ZSkgfHxcbiAgICAgICAgICAob3B0cy5kaXNhYmxlV2Vla2VuZHMgJiYgRGF0ZXBpY2tlci5faXNXZWVrZW5kKGRheSkpIHx8XG4gICAgICAgICAgKG9wdHMuZGlzYWJsZURheUZuICYmIG9wdHMuZGlzYWJsZURheUZuKGRheSkpO1xuXG4gICAgICBpZiAoaXNFbXB0eSkge1xuICAgICAgICBpZiAoaSA8IGJlZm9yZSkge1xuICAgICAgICAgIGRheU51bWJlciA9IGRheXNJblByZXZpb3VzTW9udGggKyBkYXlOdW1iZXI7XG4gICAgICAgICAgbW9udGhOdW1iZXIgPSBwcmV2aW91c01vbnRoO1xuICAgICAgICAgIHllYXJOdW1iZXIgPSB5ZWFyT2ZQcmV2aW91c01vbnRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRheU51bWJlciA9IGRheU51bWJlciAtIGRheXM7XG4gICAgICAgICAgbW9udGhOdW1iZXIgPSBuZXh0TW9udGg7XG4gICAgICAgICAgeWVhck51bWJlciA9IHllYXJPZk5leHRNb250aDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsZXQgZGF5Q29uZmlnID0ge1xuICAgICAgICBkYXk6IGRheU51bWJlcixcbiAgICAgICAgbW9udGg6IG1vbnRoTnVtYmVyLFxuICAgICAgICB5ZWFyOiB5ZWFyTnVtYmVyLFxuICAgICAgICBoYXNFdmVudDogaGFzRXZlbnQsXG4gICAgICAgIGlzU2VsZWN0ZWQ6IGlzU2VsZWN0ZWQsXG4gICAgICAgIGlzVG9kYXk6IGlzVG9kYXksXG4gICAgICAgIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgICAgIGlzRW1wdHk6IGlzRW1wdHksXG4gICAgICAgIGlzU3RhcnRSYW5nZTogaXNTdGFydFJhbmdlLFxuICAgICAgICBpc0VuZFJhbmdlOiBpc0VuZFJhbmdlLFxuICAgICAgICBpc0luUmFuZ2U6IGlzSW5SYW5nZSxcbiAgICAgICAgc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRoczogb3B0cy5zaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzXG4gICAgICB9O1xuXG4gICAgICByb3cucHVzaCh0aGlzLnJlbmRlckRheShkYXlDb25maWcpKTtcblxuICAgICAgaWYgKCsrciA9PT0gNykge1xuICAgICAgICBkYXRhLnB1c2godGhpcy5yZW5kZXJSb3cocm93LCBvcHRzLmlzUlRMLCBpc1dlZWtTZWxlY3RlZCkpO1xuICAgICAgICByb3cgPSBbXTtcbiAgICAgICAgciA9IDA7XG4gICAgICAgIGlzV2Vla1NlbGVjdGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlbmRlclRhYmxlKG9wdHMsIGRhdGEsIHJhbmRJZCk7XG4gIH1cblxuICByZW5kZXJEYXkob3B0cykge1xuICAgIGxldCBhcnIgPSBbXTtcbiAgICBsZXQgYXJpYVNlbGVjdGVkID0gJ2ZhbHNlJztcbiAgICBpZiAob3B0cy5pc0VtcHR5KSB7XG4gICAgICBpZiAob3B0cy5zaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzKSB7XG4gICAgICAgIGFyci5wdXNoKCdpcy1vdXRzaWRlLWN1cnJlbnQtbW9udGgnKTtcbiAgICAgICAgYXJyLnB1c2goJ2lzLXNlbGVjdGlvbi1kaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICc8dGQgY2xhc3M9XCJpcy1lbXB0eVwiPjwvdGQ+JztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdHMuaXNEaXNhYmxlZCkge1xuICAgICAgYXJyLnB1c2goJ2lzLWRpc2FibGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuaXNUb2RheSkge1xuICAgICAgYXJyLnB1c2goJ2lzLXRvZGF5Jyk7XG4gICAgfVxuICAgIGlmIChvcHRzLmlzU2VsZWN0ZWQpIHtcbiAgICAgIGFyci5wdXNoKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgYXJpYVNlbGVjdGVkID0gJ3RydWUnO1xuICAgIH1cbiAgICBpZiAob3B0cy5oYXNFdmVudCkge1xuICAgICAgYXJyLnB1c2goJ2hhcy1ldmVudCcpO1xuICAgIH1cbiAgICBpZiAob3B0cy5pc0luUmFuZ2UpIHtcbiAgICAgIGFyci5wdXNoKCdpcy1pbnJhbmdlJyk7XG4gICAgfVxuICAgIGlmIChvcHRzLmlzU3RhcnRSYW5nZSkge1xuICAgICAgYXJyLnB1c2goJ2lzLXN0YXJ0cmFuZ2UnKTtcbiAgICB9XG4gICAgaWYgKG9wdHMuaXNFbmRSYW5nZSkge1xuICAgICAgYXJyLnB1c2goJ2lzLWVuZHJhbmdlJyk7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBgPHRkIGRhdGEtZGF5PVwiJHtvcHRzLmRheX1cIiBjbGFzcz1cIiR7YXJyLmpvaW4oJyAnKX1cIiBhcmlhLXNlbGVjdGVkPVwiJHthcmlhU2VsZWN0ZWR9XCI+YCArXG4gICAgICBgPGJ1dHRvbiBjbGFzcz1cImRhdGVwaWNrZXItZGF5LWJ1dHRvblwiIHR5cGU9XCJidXR0b25cIiBkYXRhLXllYXI9XCIke29wdHMueWVhcn1cIiBkYXRhLW1vbnRoPVwiJHtvcHRzLm1vbnRofVwiIGRhdGEtZGF5PVwiJHtvcHRzLmRheX1cIj4ke29wdHMuZGF5fTwvYnV0dG9uPmAgK1xuICAgICAgJzwvdGQ+J1xuICAgICk7XG4gIH1cblxuICByZW5kZXJSb3coZGF5cywgaXNSVEwsIGlzUm93U2VsZWN0ZWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgJzx0ciBjbGFzcz1cImRhdGVwaWNrZXItcm93JyArXG4gICAgICAoaXNSb3dTZWxlY3RlZCA/ICcgaXMtc2VsZWN0ZWQnIDogJycpICtcbiAgICAgICdcIj4nICtcbiAgICAgIChpc1JUTCA/IGRheXMucmV2ZXJzZSgpIDogZGF5cykuam9pbignJykgK1xuICAgICAgJzwvdHI+J1xuICAgICk7XG4gIH1cblxuICByZW5kZXJUYWJsZShvcHRzLCBkYXRhLCByYW5kSWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLXRhYmxlLXdyYXBwZXJcIj48dGFibGUgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCIgY2xhc3M9XCJkYXRlcGlja2VyLXRhYmxlXCIgcm9sZT1cImdyaWRcIiBhcmlhLWxhYmVsbGVkYnk9XCInICtcbiAgICAgIHJhbmRJZCArXG4gICAgICAnXCI+JyArXG4gICAgICB0aGlzLnJlbmRlckhlYWQob3B0cykgK1xuICAgICAgdGhpcy5yZW5kZXJCb2R5KGRhdGEpICtcbiAgICAgICc8L3RhYmxlPjwvZGl2PidcbiAgICApO1xuICB9XG5cbiAgcmVuZGVySGVhZChvcHRzKSB7XG4gICAgbGV0IGksXG4gICAgICBhcnIgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICBhcnIucHVzaChcbiAgICAgICAgYDx0aCBzY29wZT1cImNvbFwiPjxhYmJyIHRpdGxlPVwiJHt0aGlzLnJlbmRlckRheU5hbWUob3B0cywgaSl9XCI+JHt0aGlzLnJlbmRlckRheU5hbWUoXG4gICAgICAgICAgb3B0cyxcbiAgICAgICAgICBpLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKX08L2FiYnI+PC90aD5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gJzx0aGVhZD48dHI+JyArIChvcHRzLmlzUlRMID8gYXJyLnJldmVyc2UoKSA6IGFycikuam9pbignJykgKyAnPC90cj48L3RoZWFkPic7XG4gIH1cblxuICByZW5kZXJCb2R5KHJvd3MpIHtcbiAgICByZXR1cm4gJzx0Ym9keT4nICsgcm93cy5qb2luKCcnKSArICc8L3Rib2R5Pic7XG4gIH1cblxuICByZW5kZXJUaXRsZShpbnN0YW5jZSwgYywgeWVhciwgbW9udGgsIHJlZlllYXIsIHJhbmRJZCkge1xuICAgIGxldCBpLFxuICAgICAgaixcbiAgICAgIGFycixcbiAgICAgIG9wdHMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICBpc01pblllYXIgPSB5ZWFyID09PSBvcHRzLm1pblllYXIsXG4gICAgICBpc01heFllYXIgPSB5ZWFyID09PSBvcHRzLm1heFllYXIsXG4gICAgICBodG1sID1cbiAgICAgICAgJzxkaXYgaWQ9XCInICtcbiAgICAgICAgcmFuZElkICtcbiAgICAgICAgJ1wiIGNsYXNzPVwiZGF0ZXBpY2tlci1jb250cm9sc1wiIHJvbGU9XCJoZWFkaW5nXCIgYXJpYS1saXZlPVwiYXNzZXJ0aXZlXCI+JyxcbiAgICAgIG1vbnRoSHRtbCxcbiAgICAgIHllYXJIdG1sLFxuICAgICAgcHJldiA9IHRydWUsXG4gICAgICBuZXh0ID0gdHJ1ZTtcblxuICAgIGZvciAoYXJyID0gW10sIGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgYXJyLnB1c2goXG4gICAgICAgICc8b3B0aW9uIHZhbHVlPVwiJyArXG4gICAgICAgICAgKHllYXIgPT09IHJlZlllYXIgPyBpIC0gYyA6IDEyICsgaSAtIGMpICtcbiAgICAgICAgICAnXCInICtcbiAgICAgICAgICAoaSA9PT0gbW9udGggPyAnIHNlbGVjdGVkPVwic2VsZWN0ZWRcIicgOiAnJykgK1xuICAgICAgICAgICgoaXNNaW5ZZWFyICYmIGkgPCBvcHRzLm1pbk1vbnRoKSB8fCAoaXNNYXhZZWFyICYmIGkgPiBvcHRzLm1heE1vbnRoKVxuICAgICAgICAgICAgPyAnZGlzYWJsZWQ9XCJkaXNhYmxlZFwiJ1xuICAgICAgICAgICAgOiAnJykgK1xuICAgICAgICAgICc+JyArXG4gICAgICAgICAgb3B0cy5pMThuLm1vbnRoc1tpXSArXG4gICAgICAgICAgJzwvb3B0aW9uPidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgbW9udGhIdG1sID0gJzxzZWxlY3QgY2xhc3M9XCJkYXRlcGlja2VyLXNlbGVjdCBvcmlnLXNlbGVjdC1tb250aFwiIHRhYmluZGV4PVwiLTFcIj4nK2Fyci5qb2luKCcnKSsnPC9zZWxlY3Q+JztcblxuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdHMueWVhclJhbmdlKSkge1xuICAgICAgaSA9IG9wdHMueWVhclJhbmdlWzBdO1xuICAgICAgaiA9IG9wdHMueWVhclJhbmdlWzFdICsgMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpID0geWVhciAtIG9wdHMueWVhclJhbmdlO1xuICAgICAgaiA9IDEgKyB5ZWFyICsgb3B0cy55ZWFyUmFuZ2U7XG4gICAgfVxuXG4gICAgZm9yIChhcnIgPSBbXTsgaSA8IGogJiYgaSA8PSBvcHRzLm1heFllYXI7IGkrKykge1xuICAgICAgaWYgKGkgPj0gb3B0cy5taW5ZZWFyKSB7XG4gICAgICAgIGFyci5wdXNoKGA8b3B0aW9uIHZhbHVlPVwiJHtpfVwiICR7aSA9PT0geWVhciA/ICdzZWxlY3RlZD1cInNlbGVjdGVkXCInIDogJyd9PiR7aX08L29wdGlvbj5gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdHMueWVhclJhbmdlUmV2ZXJzZSkgYXJyLnJldmVyc2UoKTtcblxuICAgIHllYXJIdG1sID0gYDxzZWxlY3QgY2xhc3M9XCJkYXRlcGlja2VyLXNlbGVjdCBvcmlnLXNlbGVjdC15ZWFyXCIgdGFiaW5kZXg9XCItMVwiPiR7YXJyLmpvaW4oJycpfTwvc2VsZWN0PmA7XG5cbiAgICBsZXQgbGVmdEFycm93ID1cbiAgICAgICc8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xNS40MSAxNi4wOWwtNC41OC00LjU5IDQuNTgtNC41OUwxNCA1LjVsLTYgNiA2IDZ6XCIvPjxwYXRoIGQ9XCJNMC0uNWgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIvPjwvc3ZnPic7XG4gICAgaHRtbCArPSBgPGJ1dHRvbiBjbGFzcz1cIm1vbnRoLXByZXYke1xuICAgICAgcHJldiA/ICcnIDogJyBpcy1kaXNhYmxlZCdcbiAgICB9IGJ0bi1mbGF0XCIgdHlwZT1cImJ1dHRvblwiPiR7bGVmdEFycm93fTwvYnV0dG9uPmA7XG5cbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwic2VsZWN0cy1jb250YWluZXJcIj4nO1xuICAgIGlmIChvcHRzLnNob3dNb250aEFmdGVyWWVhcikge1xuICAgICAgaHRtbCArPSB5ZWFySHRtbCArIG1vbnRoSHRtbDtcbiAgICB9IGVsc2Uge1xuICAgICAgaHRtbCArPSBtb250aEh0bWwgKyB5ZWFySHRtbDtcbiAgICB9XG4gICAgaHRtbCArPSAnPC9kaXY+JztcblxuICAgIGlmIChpc01pblllYXIgJiYgKG1vbnRoID09PSAwIHx8IG9wdHMubWluTW9udGggPj0gbW9udGgpKSB7XG4gICAgICBwcmV2ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGlzTWF4WWVhciAmJiAobW9udGggPT09IDExIHx8IG9wdHMubWF4TW9udGggPD0gbW9udGgpKSB7XG4gICAgICBuZXh0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IHJpZ2h0QXJyb3cgPVxuICAgICAgJzxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTguNTkgMTYuMzRsNC41OC00LjU5LTQuNTgtNC41OUwxMCA1Ljc1bDYgNi02IDZ6XCIvPjxwYXRoIGQ9XCJNMC0uMjVoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiLz48L3N2Zz4nO1xuICAgIGh0bWwgKz0gYDxidXR0b24gY2xhc3M9XCJtb250aC1uZXh0JHtcbiAgICAgIG5leHQgPyAnJyA6ICcgaXMtZGlzYWJsZWQnXG4gICAgfSBidG4tZmxhdFwiIHR5cGU9XCJidXR0b25cIj4ke3JpZ2h0QXJyb3d9PC9idXR0b24+YDtcblxuICAgIHJldHVybiAoaHRtbCArPSAnPC9kaXY+Jyk7XG4gIH1cblxuICAvLyByZWZyZXNoIEhUTUxcbiAgZHJhdyhmb3JjZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgaWYgKCF0aGlzLmlzT3BlbiAmJiAhZm9yY2UpIHJldHVybjtcbiAgICBsZXQgb3B0cyA9IHRoaXMub3B0aW9ucyxcbiAgICAgIG1pblllYXIgPSBvcHRzLm1pblllYXIsXG4gICAgICBtYXhZZWFyID0gb3B0cy5tYXhZZWFyLFxuICAgICAgbWluTW9udGggPSBvcHRzLm1pbk1vbnRoLFxuICAgICAgbWF4TW9udGggPSBvcHRzLm1heE1vbnRoLFxuICAgICAgaHRtbCA9ICcnLFxuICAgICAgcmFuZElkO1xuXG4gICAgaWYgKHRoaXMuX3kgPD0gbWluWWVhcikge1xuICAgICAgdGhpcy5feSA9IG1pblllYXI7XG4gICAgICBpZiAoIWlzTmFOKG1pbk1vbnRoKSAmJiB0aGlzLl9tIDwgbWluTW9udGgpIHtcbiAgICAgICAgdGhpcy5fbSA9IG1pbk1vbnRoO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5feSA+PSBtYXhZZWFyKSB7XG4gICAgICB0aGlzLl95ID0gbWF4WWVhcjtcbiAgICAgIGlmICghaXNOYU4obWF4TW9udGgpICYmIHRoaXMuX20gPiBtYXhNb250aCkge1xuICAgICAgICB0aGlzLl9tID0gbWF4TW9udGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmFuZElkID1cbiAgICAgICdkYXRlcGlja2VyLXRpdGxlLScgK1xuICAgICAgTWF0aC5yYW5kb20oKVxuICAgICAgICAudG9TdHJpbmcoMzYpXG4gICAgICAgIC5yZXBsYWNlKC9bXmEtel0rL2csICcnKVxuICAgICAgICAuc3Vic3RyKDAsIDIpO1xuXG4gICAgZm9yIChsZXQgYyA9IDA7IGMgPCAxOyBjKyspIHtcbiAgICAgIHRoaXMuX3JlbmRlckRhdGVEaXNwbGF5KCk7XG4gICAgICBodG1sICs9XG4gICAgICAgIHRoaXMucmVuZGVyVGl0bGUoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBjLFxuICAgICAgICAgIHRoaXMuY2FsZW5kYXJzW2NdLnllYXIsXG4gICAgICAgICAgdGhpcy5jYWxlbmRhcnNbY10ubW9udGgsXG4gICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ueWVhcixcbiAgICAgICAgICByYW5kSWRcbiAgICAgICAgKSArIHRoaXMucmVuZGVyKHRoaXMuY2FsZW5kYXJzW2NdLnllYXIsIHRoaXMuY2FsZW5kYXJzW2NdLm1vbnRoLCByYW5kSWQpO1xuICAgIH1cblxuICAgIHRoaXMuZGVzdHJveVNlbGVjdHMoKTtcblxuICAgIHRoaXMuY2FsZW5kYXJFbC5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgLy8gSW5pdCBNYXRlcmlhbGl6ZSBTZWxlY3RcbiAgICBsZXQgeWVhclNlbGVjdCA9IHRoaXMuY2FsZW5kYXJFbC5xdWVyeVNlbGVjdG9yKCcub3JpZy1zZWxlY3QteWVhcicpO1xuICAgIGxldCBtb250aFNlbGVjdCA9IHRoaXMuY2FsZW5kYXJFbC5xdWVyeVNlbGVjdG9yKCcub3JpZy1zZWxlY3QtbW9udGgnKTtcbiAgICBGb3JtU2VsZWN0LmluaXQoeWVhclNlbGVjdCwge1xuICAgICAgY2xhc3NlczogJ3NlbGVjdC15ZWFyJyxcbiAgICAgIGRyb3Bkb3duT3B0aW9uczogeyBjb250YWluZXI6IGRvY3VtZW50LmJvZHksIGNvbnN0cmFpbldpZHRoOiBmYWxzZSB9XG4gICAgfSk7XG4gICAgRm9ybVNlbGVjdC5pbml0KG1vbnRoU2VsZWN0LCB7XG4gICAgICBjbGFzc2VzOiAnc2VsZWN0LW1vbnRoJyxcbiAgICAgIGRyb3Bkb3duT3B0aW9uczogeyBjb250YWluZXI6IGRvY3VtZW50LmJvZHksIGNvbnN0cmFpbldpZHRoOiBmYWxzZSB9XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgY2hhbmdlIGhhbmRsZXJzIGZvciBzZWxlY3RcbiAgICB5ZWFyU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHRoaXMuX2hhbmRsZVllYXJDaGFuZ2UpO1xuICAgIG1vbnRoU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHRoaXMuX2hhbmRsZU1vbnRoQ2hhbmdlKTtcblxuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uRHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uRHJhdyh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd24pO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlSW5wdXRDaGFuZ2UpO1xuICAgIHRoaXMuY2FsZW5kYXJFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhbGVuZGFyQ2xpY2spO1xuICAgIHRoaXMuZG9uZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2ZpbmlzaFNlbGVjdGlvbik7XG4gICAgdGhpcy5jYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NsZWFyQnRuKSB7XG4gICAgICB0aGlzLmNsZWFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xlYXJDbGljayk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwVmFyaWFibGVzKCkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBEYXRlcGlja2VyLl90ZW1wbGF0ZS50cmltKCk7XG4gICAgdGhpcy5tb2RhbEVsID0gPEhUTUxFbGVtZW50PnRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcblxuICAgIHRoaXMuY2FsZW5kYXJFbCA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcuZGF0ZXBpY2tlci1jYWxlbmRhcicpO1xuICAgIHRoaXMueWVhclRleHRFbCA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcueWVhci10ZXh0Jyk7XG4gICAgdGhpcy5kYXRlVGV4dEVsID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy5kYXRlLXRleHQnKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDbGVhckJ0bikge1xuICAgICAgdGhpcy5jbGVhckJ0biA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcuZGF0ZXBpY2tlci1jbGVhcicpO1xuICAgIH1cbiAgICB0aGlzLmRvbmVCdG4gPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmRhdGVwaWNrZXItZG9uZScpO1xuICAgIHRoaXMuY2FuY2VsQnRuID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy5kYXRlcGlja2VyLWNhbmNlbCcpO1xuXG4gICAgdGhpcy5mb3JtYXRzID0ge1xuICAgICAgZDogKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRlLmdldERhdGUoKTtcbiAgICAgIH0sXG4gICAgICBkZDogKCkgPT4ge1xuICAgICAgICBsZXQgZCA9IHRoaXMuZGF0ZS5nZXREYXRlKCk7XG4gICAgICAgIHJldHVybiAoZCA8IDEwID8gJzAnIDogJycpICsgZDtcbiAgICAgIH0sXG4gICAgICBkZGQ6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pMThuLndlZWtkYXlzU2hvcnRbdGhpcy5kYXRlLmdldERheSgpXTtcbiAgICAgIH0sXG4gICAgICBkZGRkOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaTE4bi53ZWVrZGF5c1t0aGlzLmRhdGUuZ2V0RGF5KCldO1xuICAgICAgfSxcbiAgICAgIG06ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICAgIH0sXG4gICAgICBtbTogKCkgPT4ge1xuICAgICAgICBsZXQgbSA9IHRoaXMuZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgcmV0dXJuIChtIDwgMTAgPyAnMCcgOiAnJykgKyBtO1xuICAgICAgfSxcbiAgICAgIG1tbTogKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmkxOG4ubW9udGhzU2hvcnRbdGhpcy5kYXRlLmdldE1vbnRoKCldO1xuICAgICAgfSxcbiAgICAgIG1tbW06ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pMThuLm1vbnRoc1t0aGlzLmRhdGUuZ2V0TW9udGgoKV07XG4gICAgICB9LFxuICAgICAgeXk6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuICgnJyArIHRoaXMuZGF0ZS5nZXRGdWxsWWVhcigpKS5zbGljZSgyKTtcbiAgICAgIH0sXG4gICAgICB5eXl5OiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2spO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bik7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVJbnB1dENoYW5nZSk7XG4gICAgdGhpcy5jYWxlbmRhckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2FsZW5kYXJDbGljayk7XG4gIH1cblxuICBfaGFuZGxlSW5wdXRDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLm9wZW4oKTtcbiAgfVxuXG4gIF9oYW5kbGVJbnB1dEtleWRvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChNLmtleXMuRU5URVIuaW5jbHVkZXMoZS5rZXkpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQ2FsZW5kYXJDbGljayA9IChlKSA9PiB7XG4gICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIGNvbnN0IHRhcmdldCA9IDxIVE1MRWxlbWVudD4oZS50YXJnZXQpO1xuICAgIGlmICghdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaXMtZGlzYWJsZWQnKSkge1xuICAgICAgaWYgKFxuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkYXRlcGlja2VyLWRheS1idXR0b24nKSAmJlxuICAgICAgICAhdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaXMtZW1wdHknKSAmJlxuICAgICAgICAhdGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1kaXNhYmxlZCcpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5zZXREYXRlKFxuICAgICAgICAgIG5ldyBEYXRlKFxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXllYXInKSxcbiAgICAgICAgICAgIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1tb250aCcpLFxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWRheScpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9DbG9zZSkge1xuICAgICAgICAgIHRoaXMuX2ZpbmlzaFNlbGVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0YXJnZXQuY2xvc2VzdCgnLm1vbnRoLXByZXYnKSkge1xuICAgICAgICB0aGlzLnByZXZNb250aCgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5tb250aC1uZXh0JykpIHtcbiAgICAgICAgdGhpcy5uZXh0TW9udGgoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQ2xlYXJDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLmRhdGUgPSBudWxsO1xuICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgpO1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIF9oYW5kbGVNb250aENoYW5nZSA9IChlKSA9PiB7XG4gICAgdGhpcy5nb3RvTW9udGgoZS50YXJnZXQudmFsdWUpO1xuICB9XG5cbiAgX2hhbmRsZVllYXJDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIHRoaXMuZ290b1llYXIoZS50YXJnZXQudmFsdWUpO1xuICB9XG5cbiAgLy8gY2hhbmdlIHZpZXcgdG8gYSBzcGVjaWZpYyBtb250aCAoemVyby1pbmRleCwgZS5nLiAwOiBKYW51YXJ5KVxuICBnb3RvTW9udGgobW9udGgpIHtcbiAgICBpZiAoIWlzTmFOKG1vbnRoKSkge1xuICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGggPSBwYXJzZUludChtb250aCwgMTApO1xuICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICB9XG4gIH1cblxuICAvLyBjaGFuZ2UgdmlldyB0byBhIHNwZWNpZmljIGZ1bGwgeWVhciAoZS5nLiBcIjIwMTJcIilcbiAgZ290b1llYXIoeWVhcikge1xuICAgIGlmICghaXNOYU4oeWVhcikpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLnllYXIgPSBwYXJzZUludCh5ZWFyLCAxMCk7XG4gICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVJbnB1dENoYW5nZSA9IChlOiBFdmVudCkgPT4ge1xuICAgIGxldCBkYXRlO1xuICAgIC8vIFByZXZlbnQgY2hhbmdlIGV2ZW50IGZyb20gYmVpbmcgZmlyZWQgd2hlbiB0cmlnZ2VyZWQgYnkgdGhlIHBsdWdpblxuICAgIGlmIChlWydkZXRhaWwnXT8uZmlyZWRCeSA9PT0gdGhpcykgcmV0dXJuO1xuICAgIGlmICh0aGlzLm9wdGlvbnMucGFyc2UpIHtcbiAgICAgIGRhdGUgPSB0aGlzLm9wdGlvbnMucGFyc2UodGhpcy5lbC52YWx1ZSwgdGhpcy5vcHRpb25zLmZvcm1hdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UodGhpcy5lbC52YWx1ZSkpO1xuICAgIH1cbiAgICBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKGRhdGUpKSB0aGlzLnNldERhdGUoZGF0ZSk7XG4gIH1cblxuICByZW5kZXJEYXlOYW1lKG9wdHMsIGRheSwgYWJicjogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgZGF5ICs9IG9wdHMuZmlyc3REYXk7XG4gICAgd2hpbGUgKGRheSA+PSA3KSB7XG4gICAgICBkYXkgLT0gNztcbiAgICB9XG4gICAgcmV0dXJuIGFiYnIgPyBvcHRzLmkxOG4ud2Vla2RheXNBYmJyZXZbZGF5XSA6IG9wdHMuaTE4bi53ZWVrZGF5c1tkYXldO1xuICB9XG5cbiAgLy8gU2V0IGlucHV0IHZhbHVlIHRvIHRoZSBzZWxlY3RlZCBkYXRlIGFuZCBjbG9zZSBEYXRlcGlja2VyXG4gIF9maW5pc2hTZWxlY3Rpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKCk7XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBpZiAodGhpcy5pc09wZW4pIHJldHVybjtcbiAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25PcGVuLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIHRoaXMuZHJhdygpO1xuICAgIHRoaXMubW9kYWwub3Blbih1bmRlZmluZWQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2UuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgdGhpcy5tb2RhbC5jbG9zZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc3RhdGljIHtcbiAgICBEYXRlcGlja2VyLl90ZW1wbGF0ZSA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbCBkYXRlcGlja2VyLW1vZGFsXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50IGRhdGVwaWNrZXItY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItZGF0ZS1kaXNwbGF5XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInllYXItdGV4dFwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGF0ZS10ZXh0XCI+PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWNhbGVuZGFyLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItY2FsZW5kYXJcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLWZsYXQgZGF0ZXBpY2tlci1jbGVhciB3YXZlcy1lZmZlY3RcIiBzdHlsZT1cInZpc2liaWxpdHk6IGhpZGRlbjtcIiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb25maXJtYXRpb24tYnRuc1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tZmxhdCBkYXRlcGlja2VyLWNhbmNlbCB3YXZlcy1lZmZlY3RcIiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1mbGF0IGRhdGVwaWNrZXItZG9uZSB3YXZlcy1lZmZlY3RcIiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+YDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/datepicker.ts\n");

/***/ }),

/***/ "./src/dropdown.ts":
/*!*************************!*\
  !*** ./src/dropdown.ts ***!
  \*************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Dropdown = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst _defaults = {\n    alignment: 'left',\n    autoFocus: true,\n    constrainWidth: true,\n    container: null,\n    coverTrigger: true,\n    closeOnClick: true,\n    hover: false,\n    inDuration: 150,\n    outDuration: 250,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    onItemClick: null\n};\nclass Dropdown extends component_1.Component {\n    constructor(el, options) {\n        super(Dropdown, el, options);\n        this._handleClick = (e) => {\n            e.preventDefault();\n            this.open();\n        };\n        this._handleMouseEnter = () => {\n            this.open();\n        };\n        this._handleMouseLeave = (e) => {\n            const toEl = e.toElement || e.relatedTarget;\n            const leaveToDropdownContent = !!toEl.closest('.dropdown-content');\n            let leaveToActiveDropdownTrigger = false;\n            const closestTrigger = toEl.closest('.dropdown-trigger');\n            if (closestTrigger &&\n                !!closestTrigger.M_Dropdown &&\n                closestTrigger.M_Dropdown.isOpen) {\n                leaveToActiveDropdownTrigger = true;\n            }\n            // Close hover dropdown if mouse did not leave to either active dropdown-trigger or dropdown-content\n            if (!leaveToActiveDropdownTrigger && !leaveToDropdownContent) {\n                this.close();\n            }\n        };\n        this._handleDocumentClick = (e) => {\n            const target = e.target;\n            if (this.options.closeOnClick &&\n                target.closest('.dropdown-content') &&\n                !this.isTouchMoving) {\n                // isTouchMoving to check if scrolling on mobile.\n                //setTimeout(() => {\n                this.close();\n                //}, 0);\n            }\n            else if (target.closest('.dropdown-trigger') ||\n                !target.closest('.dropdown-content')) {\n                //setTimeout(() => {\n                this.close();\n                //}, 0);\n            }\n            this.isTouchMoving = false;\n        };\n        this._handleTriggerKeydown = (e) => {\n            // ARROW DOWN OR ENTER WHEN SELECT IS CLOSED - open Dropdown\n            const arrowDownOrEnter = global_1.M.keys.ARROW_DOWN.includes(e.key) || global_1.M.keys.ENTER.includes(e.key);\n            if (arrowDownOrEnter && !this.isOpen) {\n                e.preventDefault();\n                this.open();\n            }\n        };\n        this._handleDocumentTouchmove = (e) => {\n            const target = e.target;\n            if (target.closest('.dropdown-content')) {\n                this.isTouchMoving = true;\n            }\n        };\n        this._handleDropdownClick = (e) => {\n            // onItemClick callback\n            if (typeof this.options.onItemClick === 'function') {\n                const itemEl = e.target.closest('li');\n                this.options.onItemClick.call(this, itemEl);\n            }\n        };\n        this._handleDropdownKeydown = (e) => {\n            const arrowUpOrDown = global_1.M.keys.ARROW_DOWN.includes(e.key) || global_1.M.keys.ARROW_UP.includes(e.key);\n            if (global_1.M.keys.TAB.includes(e.key)) {\n                e.preventDefault();\n                this.close();\n            }\n            // Navigate down dropdown list\n            else if (arrowUpOrDown && this.isOpen) {\n                e.preventDefault();\n                const direction = global_1.M.keys.ARROW_DOWN.includes(e.key) ? 1 : -1;\n                let newFocusedIndex = this.focusedIndex;\n                let hasFoundNewIndex = false;\n                do {\n                    newFocusedIndex = newFocusedIndex + direction;\n                    if (!!this.dropdownEl.children[newFocusedIndex] &&\n                        this.dropdownEl.children[newFocusedIndex].tabIndex !== -1) {\n                        hasFoundNewIndex = true;\n                        break;\n                    }\n                } while (newFocusedIndex < this.dropdownEl.children.length && newFocusedIndex >= 0);\n                if (hasFoundNewIndex) {\n                    // Remove active class from old element\n                    if (this.focusedIndex >= 0)\n                        this.dropdownEl.children[this.focusedIndex].classList.remove('active');\n                    this.focusedIndex = newFocusedIndex;\n                    this._focusFocusedItem();\n                }\n            }\n            // ENTER selects choice on focused item\n            else if (global_1.M.keys.ENTER.includes(e.key) && this.isOpen) {\n                // Search for <a> and <button>\n                const focusedElement = this.dropdownEl.children[this.focusedIndex];\n                const activatableElement = focusedElement.querySelector('a, button');\n                // Click a or button tag if exists, otherwise click li tag\n                if (!!activatableElement) {\n                    activatableElement.click();\n                }\n                else if (!!focusedElement) {\n                    if (focusedElement instanceof HTMLElement) {\n                        focusedElement.click();\n                    }\n                }\n            }\n            // Close dropdown on ESC\n            else if (global_1.M.keys.ESC.includes(e.key) && this.isOpen) {\n                e.preventDefault();\n                this.close();\n            }\n            // CASE WHEN USER TYPE LTTERS\n            const keyText = e.key.toLowerCase();\n            const isLetter = /[a-zA-Z0-9-_]/.test(keyText);\n            const specialKeys = [...global_1.M.keys.ARROW_DOWN, ...global_1.M.keys.ARROW_UP, ...global_1.M.keys.ENTER, ...global_1.M.keys.ESC, ...global_1.M.keys.TAB];\n            if (isLetter && !specialKeys.includes(e.key)) {\n                this.filterQuery.push(keyText);\n                const string = this.filterQuery.join('');\n                const newOptionEl = Array.from(this.dropdownEl.querySelectorAll('li'))\n                    .find((el) => el.innerText.toLowerCase().indexOf(string) === 0);\n                if (newOptionEl) {\n                    this.focusedIndex = [...newOptionEl.parentNode.children].indexOf(newOptionEl);\n                    this._focusFocusedItem();\n                }\n            }\n            this.filterTimeout = setTimeout(this._resetFilterQuery, 1000);\n        };\n        this._resetFilterQuery = () => {\n            this.filterQuery = [];\n        };\n        this.el.M_Dropdown = this;\n        Dropdown._dropdowns.push(this);\n        this.id = global_1.M.getIdFromTrigger(el);\n        this.dropdownEl = document.getElementById(this.id);\n        //this.$dropdownEl = $(this.dropdownEl);\n        this.options = Object.assign(Object.assign({}, Dropdown.defaults), options);\n        this.isOpen = false;\n        this.isScrollable = false;\n        this.isTouchMoving = false;\n        this.focusedIndex = -1;\n        this.filterQuery = [];\n        // Move dropdown-content after dropdown-trigger\n        this._moveDropdown();\n        this._makeDropdownFocusable();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Dropdown;\n    }\n    destroy() {\n        this._resetDropdownStyles();\n        this._removeEventHandlers();\n        Dropdown._dropdowns.splice(Dropdown._dropdowns.indexOf(this), 1);\n        this.el.M_Dropdown = undefined;\n    }\n    _setupEventHandlers() {\n        var _a;\n        // Trigger keydown handler\n        this.el.addEventListener('keydown', this._handleTriggerKeydown);\n        // Item click handler\n        (_a = this.dropdownEl) === null || _a === void 0 ? void 0 : _a.addEventListener('click', this._handleDropdownClick);\n        // Hover event handlers\n        if (this.options.hover) {\n            this.el.addEventListener('mouseenter', this._handleMouseEnter);\n            this.el.addEventListener('mouseleave', this._handleMouseLeave);\n            this.dropdownEl.addEventListener('mouseleave', this._handleMouseLeave);\n            // Click event handlers\n        }\n        else {\n            this.el.addEventListener('click', this._handleClick);\n        }\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('keydown', this._handleTriggerKeydown);\n        this.dropdownEl.removeEventListener('click', this._handleDropdownClick);\n        if (this.options.hover) {\n            this.el.removeEventListener('mouseenter', this._handleMouseEnter);\n            this.el.removeEventListener('mouseleave', this._handleMouseLeave);\n            this.dropdownEl.removeEventListener('mouseleave', this._handleMouseLeave);\n        }\n        else {\n            this.el.removeEventListener('click', this._handleClick);\n        }\n    }\n    _setupTemporaryEventHandlers() {\n        // Use capture phase event handler to prevent click\n        document.body.addEventListener('click', this._handleDocumentClick, true);\n        document.body.addEventListener('touchmove', this._handleDocumentTouchmove);\n        this.dropdownEl.addEventListener('keydown', this._handleDropdownKeydown);\n    }\n    _removeTemporaryEventHandlers() {\n        // Use capture phase event handler to prevent click\n        document.body.removeEventListener('click', this._handleDocumentClick, true);\n        document.body.removeEventListener('touchmove', this._handleDocumentTouchmove);\n        this.dropdownEl.removeEventListener('keydown', this._handleDropdownKeydown);\n    }\n    _resetDropdownStyles() {\n        this.dropdownEl.style.display = '';\n        this.dropdownEl.style.width = '';\n        this.dropdownEl.style.height = '';\n        this.dropdownEl.style.left = '';\n        this.dropdownEl.style.top = '';\n        this.dropdownEl.style.transformOrigin = '';\n        this.dropdownEl.style.transform = '';\n        this.dropdownEl.style.opacity = '';\n    }\n    // Move dropdown after container or trigger\n    _moveDropdown(containerEl = null) {\n        if (!!this.options.container) {\n            this.options.container.append(this.dropdownEl);\n        }\n        else if (containerEl) {\n            if (!containerEl.contains(this.dropdownEl)) {\n                containerEl.append(this.dropdownEl);\n            }\n        }\n        else {\n            this.el.after(this.dropdownEl);\n        }\n    }\n    _makeDropdownFocusable() {\n        if (!this.dropdownEl)\n            return;\n        // Needed for arrow key navigation\n        this.dropdownEl.tabIndex = 0;\n        // Only set tabindex if it hasn't been set by user\n        Array.from(this.dropdownEl.children).forEach((el) => {\n            if (!el.getAttribute('tabindex'))\n                el.setAttribute('tabindex', '0');\n        });\n    }\n    _focusFocusedItem() {\n        if (this.focusedIndex >= 0 &&\n            this.focusedIndex < this.dropdownEl.children.length &&\n            this.options.autoFocus) {\n            this.dropdownEl.children[this.focusedIndex].focus({\n                preventScroll: true\n            });\n            this.dropdownEl.children[this.focusedIndex].scrollIntoView({\n                behavior: 'smooth',\n                block: 'nearest',\n                inline: 'nearest'\n            });\n        }\n    }\n    _getDropdownPosition(closestOverflowParent) {\n        const offsetParentBRect = this.el.offsetParent.getBoundingClientRect();\n        const triggerBRect = this.el.getBoundingClientRect();\n        const dropdownBRect = this.dropdownEl.getBoundingClientRect();\n        let idealHeight = dropdownBRect.height;\n        let idealWidth = dropdownBRect.width;\n        let idealXPos = triggerBRect.left - dropdownBRect.left;\n        let idealYPos = triggerBRect.top - dropdownBRect.top;\n        const dropdownBounds = {\n            left: idealXPos,\n            top: idealYPos,\n            height: idealHeight,\n            width: idealWidth\n        };\n        const alignments = global_1.M.checkPossibleAlignments(this.el, closestOverflowParent, dropdownBounds, this.options.coverTrigger ? 0 : triggerBRect.height);\n        let verticalAlignment = 'top';\n        let horizontalAlignment = this.options.alignment;\n        idealYPos += this.options.coverTrigger ? 0 : triggerBRect.height;\n        // Reset isScrollable\n        this.isScrollable = false;\n        if (!alignments.top) {\n            if (alignments.bottom) {\n                verticalAlignment = 'bottom';\n                if (!this.options.coverTrigger) {\n                    idealYPos -= triggerBRect.height;\n                }\n            }\n            else {\n                this.isScrollable = true;\n                // Determine which side has most space and cutoff at correct height\n                idealHeight -= 20; // Add padding when cutoff\n                if (alignments.spaceOnTop > alignments.spaceOnBottom) {\n                    verticalAlignment = 'bottom';\n                    idealHeight += alignments.spaceOnTop;\n                    idealYPos -= this.options.coverTrigger\n                        ? alignments.spaceOnTop - 20\n                        : alignments.spaceOnTop - 20 + triggerBRect.height;\n                }\n                else {\n                    idealHeight += alignments.spaceOnBottom;\n                }\n            }\n        }\n        // If preferred horizontal alignment is possible\n        if (!alignments[horizontalAlignment]) {\n            const oppositeAlignment = horizontalAlignment === 'left' ? 'right' : 'left';\n            if (alignments[oppositeAlignment]) {\n                horizontalAlignment = oppositeAlignment;\n            }\n            else {\n                // Determine which side has most space and cutoff at correct height\n                if (alignments.spaceOnLeft > alignments.spaceOnRight) {\n                    horizontalAlignment = 'right';\n                    idealWidth += alignments.spaceOnLeft;\n                    idealXPos -= alignments.spaceOnLeft;\n                }\n                else {\n                    horizontalAlignment = 'left';\n                    idealWidth += alignments.spaceOnRight;\n                }\n            }\n        }\n        if (verticalAlignment === 'bottom') {\n            idealYPos =\n                idealYPos - dropdownBRect.height + (this.options.coverTrigger ? triggerBRect.height : 0);\n        }\n        if (horizontalAlignment === 'right') {\n            idealXPos = idealXPos - dropdownBRect.width + triggerBRect.width;\n        }\n        return {\n            x: idealXPos,\n            y: idealYPos,\n            verticalAlignment: verticalAlignment,\n            horizontalAlignment: horizontalAlignment,\n            height: idealHeight,\n            width: idealWidth\n        };\n    }\n    _animateIn() {\n        animejs_1.default.remove(this.dropdownEl);\n        (0, animejs_1.default)({\n            targets: this.dropdownEl,\n            opacity: {\n                value: [0, 1],\n                easing: 'easeOutQuad'\n            },\n            scaleX: [0.3, 1],\n            scaleY: [0.3, 1],\n            duration: this.options.inDuration,\n            easing: 'easeOutQuint',\n            complete: (anim) => {\n                if (this.options.autoFocus)\n                    this.dropdownEl.focus();\n                // onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _animateOut() {\n        animejs_1.default.remove(this.dropdownEl);\n        (0, animejs_1.default)({\n            targets: this.dropdownEl,\n            opacity: {\n                value: 0,\n                easing: 'easeOutQuint'\n            },\n            scaleX: 0.3,\n            scaleY: 0.3,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuint',\n            complete: (anim) => {\n                this._resetDropdownStyles();\n                // onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _getClosestAncestor(el, condition) {\n        let ancestor = el.parentNode;\n        while (ancestor !== null && ancestor !== document) {\n            if (condition(ancestor)) {\n                return ancestor;\n            }\n            ancestor = ancestor.parentNode;\n        }\n        return null;\n    }\n    ;\n    _placeDropdown() {\n        // Container here will be closest ancestor with overflow: hidden\n        let closestOverflowParent = this._getClosestAncestor(this.dropdownEl, (ancestor) => {\n            return !['HTML', 'BODY'].includes(ancestor.tagName) && getComputedStyle(ancestor).overflow !== 'visible';\n        });\n        // Fallback\n        if (!closestOverflowParent) {\n            closestOverflowParent = (!!this.dropdownEl.offsetParent\n                ? this.dropdownEl.offsetParent\n                : this.dropdownEl.parentNode);\n        }\n        if (getComputedStyle(closestOverflowParent).position === 'static')\n            closestOverflowParent.style.position = 'relative';\n        this._moveDropdown(closestOverflowParent);\n        // Set width before calculating positionInfo\n        const idealWidth = this.options.constrainWidth\n            ? this.el.getBoundingClientRect().width\n            : this.dropdownEl.getBoundingClientRect().width;\n        this.dropdownEl.style.width = idealWidth + 'px';\n        const positionInfo = this._getDropdownPosition(closestOverflowParent);\n        this.dropdownEl.style.left = positionInfo.x + 'px';\n        this.dropdownEl.style.top = positionInfo.y + 'px';\n        this.dropdownEl.style.height = positionInfo.height + 'px';\n        this.dropdownEl.style.width = positionInfo.width + 'px';\n        this.dropdownEl.style.transformOrigin = `${positionInfo.horizontalAlignment === 'left' ? '0' : '100%'} ${positionInfo.verticalAlignment === 'top' ? '0' : '100%'}`;\n    }\n    open() {\n        if (this.isOpen)\n            return;\n        this.isOpen = true;\n        // onOpenStart callback\n        if (typeof this.options.onOpenStart === 'function') {\n            this.options.onOpenStart.call(this, this.el);\n        }\n        // Reset styles\n        this._resetDropdownStyles();\n        this.dropdownEl.style.display = 'block';\n        this._placeDropdown();\n        this._animateIn();\n        this._setupTemporaryEventHandlers();\n    }\n    close() {\n        if (!this.isOpen)\n            return;\n        this.isOpen = false;\n        this.focusedIndex = -1;\n        // onCloseStart callback\n        if (typeof this.options.onCloseStart === 'function') {\n            this.options.onCloseStart.call(this, this.el);\n        }\n        this._animateOut();\n        this._removeTemporaryEventHandlers();\n        if (this.options.autoFocus) {\n            this.el.focus();\n        }\n    }\n    recalculateDimensions() {\n        if (this.isOpen) {\n            this.dropdownEl.style.width = '';\n            this.dropdownEl.style.height = '';\n            this.dropdownEl.style.left = '';\n            this.dropdownEl.style.top = '';\n            this.dropdownEl.style.transformOrigin = '';\n            this._placeDropdown();\n        }\n    }\n}\nexports.Dropdown = Dropdown;\nDropdown._dropdowns = [];\n(() => {\n    Dropdown._dropdowns = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUksR0FBRyxFQUFFLENBQUM7WUFDaEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztZQUMvQixJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxlQUFlLEdBQUcsRUFBRSxDQUFDO1lBQzNDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztTQUN2QjtJQUNILENBQUM7O0FBamdCSCw0QkFzZ0JDO0FBcGdCUSxtQkFBVSxHQUFlLEVBQUUsQ0FBQztBQWlnQm5DO0lBQ0UsUUFBUSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFDM0IsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9kcm9wZG93bi50cz9jNzU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxuY29uc3QgX2RlZmF1bHRzID0ge1xuICBhbGlnbm1lbnQ6ICdsZWZ0JyxcbiAgYXV0b0ZvY3VzOiB0cnVlLFxuICBjb25zdHJhaW5XaWR0aDogdHJ1ZSxcbiAgY29udGFpbmVyOiBudWxsLFxuICBjb3ZlclRyaWdnZXI6IHRydWUsXG4gIGNsb3NlT25DbGljazogdHJ1ZSxcbiAgaG92ZXI6IGZhbHNlLFxuICBpbkR1cmF0aW9uOiAxNTAsXG4gIG91dER1cmF0aW9uOiAyNTAsXG4gIG9uT3BlblN0YXJ0OiBudWxsLFxuICBvbk9wZW5FbmQ6IG51bGwsXG4gIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgb25DbG9zZUVuZDogbnVsbCxcbiAgb25JdGVtQ2xpY2s6IG51bGxcbn07XG5cbmV4cG9ydCBjbGFzcyBEcm9wZG93biBleHRlbmRzIENvbXBvbmVudCB7XG4gIGVsOiBIVE1MRWxlbWVudDtcbiAgc3RhdGljIF9kcm9wZG93bnM6IERyb3Bkb3duW10gPSBbXTtcbiAgaWQ6IHN0cmluZztcbiAgZHJvcGRvd25FbDogSFRNTEVsZW1lbnQ7XG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgaXNTY3JvbGxhYmxlOiBib29sZWFuO1xuICBpc1RvdWNoTW92aW5nOiBib29sZWFuO1xuICBmb2N1c2VkSW5kZXg6IG51bWJlcjtcbiAgZmlsdGVyUXVlcnk6IGFueVtdO1xuICBmaWx0ZXJUaW1lb3V0OiBOb2RlSlMuVGltZW91dDtcblxuICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgIHN1cGVyKERyb3Bkb3duLCBlbCwgb3B0aW9ucyk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0Ryb3Bkb3duID0gdGhpcztcbiAgICBEcm9wZG93bi5fZHJvcGRvd25zLnB1c2godGhpcyk7XG4gICAgdGhpcy5pZCA9IE0uZ2V0SWRGcm9tVHJpZ2dlcihlbCk7XG4gICAgdGhpcy5kcm9wZG93bkVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCk7XG4gICAgLy90aGlzLiRkcm9wZG93bkVsID0gJCh0aGlzLmRyb3Bkb3duRWwpO1xuICAgIHRoaXMub3B0aW9ucyA9IHsuLi5Ecm9wZG93bi5kZWZhdWx0cywgLi4ub3B0aW9uc307XG5cbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuaXNTY3JvbGxhYmxlID0gZmFsc2U7XG4gICAgdGhpcy5pc1RvdWNoTW92aW5nID0gZmFsc2U7XG4gICAgdGhpcy5mb2N1c2VkSW5kZXggPSAtMTtcbiAgICB0aGlzLmZpbHRlclF1ZXJ5ID0gW107XG5cbiAgICAvLyBNb3ZlIGRyb3Bkb3duLWNvbnRlbnQgYWZ0ZXIgZHJvcGRvd24tdHJpZ2dlclxuICAgIHRoaXMuX21vdmVEcm9wZG93bigpO1xuICAgIHRoaXMuX21ha2VEcm9wZG93bkZvY3VzYWJsZSgpO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgIGNvbnN0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgcmV0dXJuIGRvbUVsZW0uTV9Ecm9wZG93bjtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVzZXREcm9wZG93blN0eWxlcygpO1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICBEcm9wZG93bi5fZHJvcGRvd25zLnNwbGljZShEcm9wZG93bi5fZHJvcGRvd25zLmluZGV4T2YodGhpcyksIDEpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9Ecm9wZG93biA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgLy8gVHJpZ2dlciBrZXlkb3duIGhhbmRsZXJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVUcmlnZ2VyS2V5ZG93bik7XG4gICAgLy8gSXRlbSBjbGljayBoYW5kbGVyXG4gICAgdGhpcy5kcm9wZG93bkVsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURyb3Bkb3duQ2xpY2spO1xuICAgIC8vIEhvdmVyIGV2ZW50IGhhbmRsZXJzXG4gICAgaWYgKHRoaXMub3B0aW9ucy5ob3Zlcikge1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlTW91c2VFbnRlcik7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlKTtcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZSk7XG4gICAgICAvLyBDbGljayBldmVudCBoYW5kbGVyc1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2spO1xuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZVRyaWdnZXJLZXlkb3duKTtcbiAgICB0aGlzLmRyb3Bkb3duRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEcm9wZG93bkNsaWNrKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmhvdmVyKSB7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVNb3VzZUVudGVyKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmUpO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrKTtcbiAgICB9XG4gIH1cblxuICBfc2V0dXBUZW1wb3JhcnlFdmVudEhhbmRsZXJzKCkge1xuICAgIC8vIFVzZSBjYXB0dXJlIHBoYXNlIGV2ZW50IGhhbmRsZXIgdG8gcHJldmVudCBjbGlja1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrLCB0cnVlKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50VG91Y2htb3ZlKTtcbiAgICB0aGlzLmRyb3Bkb3duRWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZURyb3Bkb3duS2V5ZG93bik7XG4gIH1cblxuICBfcmVtb3ZlVGVtcG9yYXJ5RXZlbnRIYW5kbGVycygpIHtcbiAgICAvLyBVc2UgY2FwdHVyZSBwaGFzZSBldmVudCBoYW5kbGVyIHRvIHByZXZlbnQgY2xpY2tcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGljaywgdHJ1ZSk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudFRvdWNobW92ZSk7XG4gICAgdGhpcy5kcm9wZG93bkVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVEcm9wZG93bktleWRvd24pO1xuICB9XG5cbiAgX2hhbmRsZUNsaWNrID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5vcGVuKCk7XG4gIH1cblxuICBfaGFuZGxlTW91c2VFbnRlciA9ICgpID0+IHtcbiAgICB0aGlzLm9wZW4oKTtcbiAgfVxuXG4gIF9oYW5kbGVNb3VzZUxlYXZlID0gKGUpID0+IHtcbiAgICBjb25zdCB0b0VsID0gZS50b0VsZW1lbnQgfHwgZS5yZWxhdGVkVGFyZ2V0O1xuICAgIGNvbnN0IGxlYXZlVG9Ecm9wZG93bkNvbnRlbnQgPSAhIXRvRWwuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKTtcbiAgICBsZXQgbGVhdmVUb0FjdGl2ZURyb3Bkb3duVHJpZ2dlciA9IGZhbHNlO1xuICAgIGNvbnN0IGNsb3Nlc3RUcmlnZ2VyID0gdG9FbC5jbG9zZXN0KCcuZHJvcGRvd24tdHJpZ2dlcicpO1xuICAgIGlmIChcbiAgICAgIGNsb3Nlc3RUcmlnZ2VyICYmXG4gICAgICAhISg8YW55PmNsb3Nlc3RUcmlnZ2VyKS5NX0Ryb3Bkb3duICYmXG4gICAgICAoPGFueT5jbG9zZXN0VHJpZ2dlcikuTV9Ecm9wZG93bi5pc09wZW5cbiAgICApIHtcbiAgICAgIGxlYXZlVG9BY3RpdmVEcm9wZG93blRyaWdnZXIgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBDbG9zZSBob3ZlciBkcm9wZG93biBpZiBtb3VzZSBkaWQgbm90IGxlYXZlIHRvIGVpdGhlciBhY3RpdmUgZHJvcGRvd24tdHJpZ2dlciBvciBkcm9wZG93bi1jb250ZW50XG4gICAgaWYgKCFsZWF2ZVRvQWN0aXZlRHJvcGRvd25UcmlnZ2VyICYmICFsZWF2ZVRvRHJvcGRvd25Db250ZW50KSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZURvY3VtZW50Q2xpY2sgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IDxIVE1MRWxlbWVudD5lLnRhcmdldDtcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrICYmXG4gICAgICB0YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKSAmJlxuICAgICAgIXRoaXMuaXNUb3VjaE1vdmluZ1xuICAgICkge1xuICAgICAgLy8gaXNUb3VjaE1vdmluZyB0byBjaGVjayBpZiBzY3JvbGxpbmcgb24gbW9iaWxlLlxuICAgICAgLy9zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIC8vfSwgMCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKFxuICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bi10cmlnZ2VyJykgfHxcbiAgICAgICF0YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKVxuICAgICkge1xuICAgICAgLy9zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIC8vfSwgMCk7XG4gICAgfVxuICAgIHRoaXMuaXNUb3VjaE1vdmluZyA9IGZhbHNlO1xuICB9XG5cbiAgX2hhbmRsZVRyaWdnZXJLZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAvLyBBUlJPVyBET1dOIE9SIEVOVEVSIFdIRU4gU0VMRUNUIElTIENMT1NFRCAtIG9wZW4gRHJvcGRvd25cbiAgICBjb25zdCBhcnJvd0Rvd25PckVudGVyID0gTS5rZXlzLkFSUk9XX0RPV04uaW5jbHVkZXMoZS5rZXkpIHx8IE0ua2V5cy5FTlRFUi5pbmNsdWRlcyhlLmtleSk7XG4gICAgaWYgKGFycm93RG93bk9yRW50ZXIgJiYgIXRoaXMuaXNPcGVuKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlRG9jdW1lbnRUb3VjaG1vdmUgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IDxIVE1MRWxlbWVudD5lLnRhcmdldDtcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bi1jb250ZW50JykpIHtcbiAgICAgIHRoaXMuaXNUb3VjaE1vdmluZyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZURyb3Bkb3duQ2xpY2sgPSAoZSkgPT4ge1xuICAgIC8vIG9uSXRlbUNsaWNrIGNhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25JdGVtQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IGl0ZW1FbCA9IDxIVE1MRWxlbWVudD5lLnRhcmdldC5jbG9zZXN0KCdsaScpO1xuICAgICAgdGhpcy5vcHRpb25zLm9uSXRlbUNsaWNrLmNhbGwodGhpcywgaXRlbUVsKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlRHJvcGRvd25LZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBjb25zdCBhcnJvd1VwT3JEb3duID0gTS5rZXlzLkFSUk9XX0RPV04uaW5jbHVkZXMoZS5rZXkpIHx8IE0ua2V5cy5BUlJPV19VUC5pbmNsdWRlcyhlLmtleSk7XG4gICAgaWYgKE0ua2V5cy5UQUIuaW5jbHVkZXMoZS5rZXkpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICAgIC8vIE5hdmlnYXRlIGRvd24gZHJvcGRvd24gbGlzdFxuICAgIGVsc2UgaWYgKGFycm93VXBPckRvd24gJiYgdGhpcy5pc09wZW4pIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IE0ua2V5cy5BUlJPV19ET1dOLmluY2x1ZGVzKGUua2V5KSA/IDEgOiAtMTtcbiAgICAgIGxldCBuZXdGb2N1c2VkSW5kZXggPSB0aGlzLmZvY3VzZWRJbmRleDtcbiAgICAgIGxldCBoYXNGb3VuZE5ld0luZGV4ID0gZmFsc2U7XG4gICAgICBkbyB7XG4gICAgICAgIG5ld0ZvY3VzZWRJbmRleCA9IG5ld0ZvY3VzZWRJbmRleCArIGRpcmVjdGlvbjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICEhdGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuW25ld0ZvY3VzZWRJbmRleF0gJiZcbiAgICAgICAgICAoPGFueT50aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bbmV3Rm9jdXNlZEluZGV4XSkudGFiSW5kZXggIT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIGhhc0ZvdW5kTmV3SW5kZXggPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuZXdGb2N1c2VkSW5kZXggPCB0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW4ubGVuZ3RoICYmIG5ld0ZvY3VzZWRJbmRleCA+PSAwKTtcblxuICAgICAgaWYgKGhhc0ZvdW5kTmV3SW5kZXgpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGFjdGl2ZSBjbGFzcyBmcm9tIG9sZCBlbGVtZW50XG4gICAgICAgIGlmICh0aGlzLmZvY3VzZWRJbmRleCA+PSAwKVxuICAgICAgICAgIHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlblt0aGlzLmZvY3VzZWRJbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHRoaXMuZm9jdXNlZEluZGV4ID0gbmV3Rm9jdXNlZEluZGV4O1xuICAgICAgICB0aGlzLl9mb2N1c0ZvY3VzZWRJdGVtKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEVOVEVSIHNlbGVjdHMgY2hvaWNlIG9uIGZvY3VzZWQgaXRlbVxuICAgIGVsc2UgaWYgKE0ua2V5cy5FTlRFUi5pbmNsdWRlcyhlLmtleSkgJiYgdGhpcy5pc09wZW4pIHtcbiAgICAgIC8vIFNlYXJjaCBmb3IgPGE+IGFuZCA8YnV0dG9uPlxuICAgICAgY29uc3QgZm9jdXNlZEVsZW1lbnQgPSB0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bdGhpcy5mb2N1c2VkSW5kZXhdO1xuICAgICAgY29uc3QgYWN0aXZhdGFibGVFbGVtZW50ID0gPEhUTUxFbGVtZW50PmZvY3VzZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2EsIGJ1dHRvbicpO1xuICAgICAgLy8gQ2xpY2sgYSBvciBidXR0b24gdGFnIGlmIGV4aXN0cywgb3RoZXJ3aXNlIGNsaWNrIGxpIHRhZ1xuICAgICAgaWYgKCEhYWN0aXZhdGFibGVFbGVtZW50KSB7XG4gICAgICAgIGFjdGl2YXRhYmxlRWxlbWVudC5jbGljaygpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoISFmb2N1c2VkRWxlbWVudCkge1xuICAgICAgICBpZiAoZm9jdXNlZEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgIGZvY3VzZWRFbGVtZW50LmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQ2xvc2UgZHJvcGRvd24gb24gRVNDXG4gICAgZWxzZSBpZiAoTS5rZXlzLkVTQy5pbmNsdWRlcyhlLmtleSkgJiYgdGhpcy5pc09wZW4pIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG5cbiAgICAvLyBDQVNFIFdIRU4gVVNFUiBUWVBFIExUVEVSU1xuICAgIGNvbnN0IGtleVRleHQgPSBlLmtleS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGlzTGV0dGVyID0gL1thLXpBLVowLTktX10vLnRlc3Qoa2V5VGV4dCk7XG4gICAgY29uc3Qgc3BlY2lhbEtleXMgPSBbLi4uTS5rZXlzLkFSUk9XX0RPV04sIC4uLk0ua2V5cy5BUlJPV19VUCwgLi4uTS5rZXlzLkVOVEVSLCAuLi5NLmtleXMuRVNDLCAuLi5NLmtleXMuVEFCXTtcbiAgICBpZiAoaXNMZXR0ZXIgJiYgIXNwZWNpYWxLZXlzLmluY2x1ZGVzKGUua2V5KSkge1xuICAgICAgdGhpcy5maWx0ZXJRdWVyeS5wdXNoKGtleVRleHQpO1xuICAgICAgY29uc3Qgc3RyaW5nID0gdGhpcy5maWx0ZXJRdWVyeS5qb2luKCcnKTtcbiAgICAgIGNvbnN0IG5ld09wdGlvbkVsID0gQXJyYXkuZnJvbSh0aGlzLmRyb3Bkb3duRWwucXVlcnlTZWxlY3RvckFsbCgnbGknKSlcbiAgICAgICAgLmZpbmQoKGVsKSA9PiBlbC5pbm5lclRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHN0cmluZykgPT09IDApO1xuICAgICAgaWYgKG5ld09wdGlvbkVsKSB7XG4gICAgICAgIHRoaXMuZm9jdXNlZEluZGV4ID0gWy4uLm5ld09wdGlvbkVsLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YobmV3T3B0aW9uRWwpO1xuICAgICAgICB0aGlzLl9mb2N1c0ZvY3VzZWRJdGVtKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZmlsdGVyVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fcmVzZXRGaWx0ZXJRdWVyeSwgMTAwMCk7XG4gIH1cblxuICBfcmVzZXRGaWx0ZXJRdWVyeSA9ICgpID0+IHtcbiAgICB0aGlzLmZpbHRlclF1ZXJ5ID0gW107XG4gIH1cblxuICBfcmVzZXREcm9wZG93blN0eWxlcygpIHtcbiAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS53aWR0aCA9ICcnO1xuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUubGVmdCA9ICcnO1xuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS50b3AgPSAnJztcbiAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJyc7XG4gICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5vcGFjaXR5ID0gJyc7XG4gIH1cblxuICAvLyBNb3ZlIGRyb3Bkb3duIGFmdGVyIGNvbnRhaW5lciBvciB0cmlnZ2VyXG4gIF9tb3ZlRHJvcGRvd24oY29udGFpbmVyRWwgPSBudWxsKSB7XG4gICAgaWYgKCEhdGhpcy5vcHRpb25zLmNvbnRhaW5lcikge1xuICAgICAgdGhpcy5vcHRpb25zLmNvbnRhaW5lci5hcHBlbmQodGhpcy5kcm9wZG93bkVsKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29udGFpbmVyRWwpIHtcbiAgICAgIGlmICghY29udGFpbmVyRWwuY29udGFpbnModGhpcy5kcm9wZG93bkVsKSkge1xuICAgICAgICBjb250YWluZXJFbC5hcHBlbmQodGhpcy5kcm9wZG93bkVsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmVsLmFmdGVyKHRoaXMuZHJvcGRvd25FbCk7XG4gICAgfVxuICB9XG5cbiAgX21ha2VEcm9wZG93bkZvY3VzYWJsZSgpIHtcbiAgICBpZiAoIXRoaXMuZHJvcGRvd25FbCkgcmV0dXJuO1xuICAgIC8vIE5lZWRlZCBmb3IgYXJyb3cga2V5IG5hdmlnYXRpb25cbiAgICB0aGlzLmRyb3Bkb3duRWwudGFiSW5kZXggPSAwO1xuICAgIC8vIE9ubHkgc2V0IHRhYmluZGV4IGlmIGl0IGhhc24ndCBiZWVuIHNldCBieSB1c2VyXG4gICAgQXJyYXkuZnJvbSh0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW4pLmZvckVhY2goKGVsKT0+IHtcbiAgICAgIGlmICghZWwuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpKVxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9mb2N1c0ZvY3VzZWRJdGVtKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuZm9jdXNlZEluZGV4ID49IDAgJiZcbiAgICAgIHRoaXMuZm9jdXNlZEluZGV4IDwgdGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuLmxlbmd0aCAmJlxuICAgICAgdGhpcy5vcHRpb25zLmF1dG9Gb2N1c1xuICAgICkge1xuICAgICAgKHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlblt0aGlzLmZvY3VzZWRJbmRleF0gYXMgSFRNTEVsZW1lbnQpLmZvY3VzKHtcbiAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bdGhpcy5mb2N1c2VkSW5kZXhdLnNjcm9sbEludG9WaWV3KHtcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgICAgICBibG9jazogJ25lYXJlc3QnLFxuICAgICAgICBpbmxpbmU6ICduZWFyZXN0J1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX2dldERyb3Bkb3duUG9zaXRpb24oY2xvc2VzdE92ZXJmbG93UGFyZW50KSB7XG4gICAgY29uc3Qgb2Zmc2V0UGFyZW50QlJlY3QgPSB0aGlzLmVsLm9mZnNldFBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB0cmlnZ2VyQlJlY3QgPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGRyb3Bkb3duQlJlY3QgPSB0aGlzLmRyb3Bkb3duRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBsZXQgaWRlYWxIZWlnaHQgPSBkcm9wZG93bkJSZWN0LmhlaWdodDtcbiAgICBsZXQgaWRlYWxXaWR0aCA9IGRyb3Bkb3duQlJlY3Qud2lkdGg7XG4gICAgbGV0IGlkZWFsWFBvcyA9IHRyaWdnZXJCUmVjdC5sZWZ0IC0gZHJvcGRvd25CUmVjdC5sZWZ0O1xuICAgIGxldCBpZGVhbFlQb3MgPSB0cmlnZ2VyQlJlY3QudG9wIC0gZHJvcGRvd25CUmVjdC50b3A7XG5cbiAgICBjb25zdCBkcm9wZG93bkJvdW5kcyA9IHtcbiAgICAgIGxlZnQ6IGlkZWFsWFBvcyxcbiAgICAgIHRvcDogaWRlYWxZUG9zLFxuICAgICAgaGVpZ2h0OiBpZGVhbEhlaWdodCxcbiAgICAgIHdpZHRoOiBpZGVhbFdpZHRoXG4gICAgfTtcblxuICAgIGNvbnN0IGFsaWdubWVudHMgPSBNLmNoZWNrUG9zc2libGVBbGlnbm1lbnRzKFxuICAgICAgdGhpcy5lbCxcbiAgICAgIGNsb3Nlc3RPdmVyZmxvd1BhcmVudCxcbiAgICAgIGRyb3Bkb3duQm91bmRzLFxuICAgICAgdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlciA/IDAgOiB0cmlnZ2VyQlJlY3QuaGVpZ2h0XG4gICAgKTtcblxuICAgIGxldCB2ZXJ0aWNhbEFsaWdubWVudCA9ICd0b3AnO1xuICAgIGxldCBob3Jpem9udGFsQWxpZ25tZW50ID0gdGhpcy5vcHRpb25zLmFsaWdubWVudDtcbiAgICBpZGVhbFlQb3MgKz0gdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlciA/IDAgOiB0cmlnZ2VyQlJlY3QuaGVpZ2h0O1xuXG4gICAgLy8gUmVzZXQgaXNTY3JvbGxhYmxlXG4gICAgdGhpcy5pc1Njcm9sbGFibGUgPSBmYWxzZTtcblxuICAgIGlmICghYWxpZ25tZW50cy50b3ApIHtcbiAgICAgIGlmIChhbGlnbm1lbnRzLmJvdHRvbSkge1xuICAgICAgICB2ZXJ0aWNhbEFsaWdubWVudCA9ICdib3R0b20nO1xuXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlcikge1xuICAgICAgICAgIGlkZWFsWVBvcyAtPSB0cmlnZ2VyQlJlY3QuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmlzU2Nyb2xsYWJsZSA9IHRydWU7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHNpZGUgaGFzIG1vc3Qgc3BhY2UgYW5kIGN1dG9mZiBhdCBjb3JyZWN0IGhlaWdodFxuICAgICAgICBpZGVhbEhlaWdodCAtPSAyMDsgLy8gQWRkIHBhZGRpbmcgd2hlbiBjdXRvZmZcbiAgICAgICAgaWYgKGFsaWdubWVudHMuc3BhY2VPblRvcCA+IGFsaWdubWVudHMuc3BhY2VPbkJvdHRvbSkge1xuICAgICAgICAgIHZlcnRpY2FsQWxpZ25tZW50ID0gJ2JvdHRvbSc7XG4gICAgICAgICAgaWRlYWxIZWlnaHQgKz0gYWxpZ25tZW50cy5zcGFjZU9uVG9wO1xuICAgICAgICAgIGlkZWFsWVBvcyAtPSB0aGlzLm9wdGlvbnMuY292ZXJUcmlnZ2VyXG4gICAgICAgICAgICA/IGFsaWdubWVudHMuc3BhY2VPblRvcCAtIDIwXG4gICAgICAgICAgICA6IGFsaWdubWVudHMuc3BhY2VPblRvcCAtIDIwICsgdHJpZ2dlckJSZWN0LmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZGVhbEhlaWdodCArPSBhbGlnbm1lbnRzLnNwYWNlT25Cb3R0b207XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBwcmVmZXJyZWQgaG9yaXpvbnRhbCBhbGlnbm1lbnQgaXMgcG9zc2libGVcbiAgICBpZiAoIWFsaWdubWVudHNbaG9yaXpvbnRhbEFsaWdubWVudF0pIHtcbiAgICAgIGNvbnN0IG9wcG9zaXRlQWxpZ25tZW50ID0gaG9yaXpvbnRhbEFsaWdubWVudCA9PT0gJ2xlZnQnID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgIGlmIChhbGlnbm1lbnRzW29wcG9zaXRlQWxpZ25tZW50XSkge1xuICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50ID0gb3Bwb3NpdGVBbGlnbm1lbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggc2lkZSBoYXMgbW9zdCBzcGFjZSBhbmQgY3V0b2ZmIGF0IGNvcnJlY3QgaGVpZ2h0XG4gICAgICAgIGlmIChhbGlnbm1lbnRzLnNwYWNlT25MZWZ0ID4gYWxpZ25tZW50cy5zcGFjZU9uUmlnaHQpIHtcbiAgICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50ID0gJ3JpZ2h0JztcbiAgICAgICAgICBpZGVhbFdpZHRoICs9IGFsaWdubWVudHMuc3BhY2VPbkxlZnQ7XG4gICAgICAgICAgaWRlYWxYUG9zIC09IGFsaWdubWVudHMuc3BhY2VPbkxlZnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaG9yaXpvbnRhbEFsaWdubWVudCA9ICdsZWZ0JztcbiAgICAgICAgICBpZGVhbFdpZHRoICs9IGFsaWdubWVudHMuc3BhY2VPblJpZ2h0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHZlcnRpY2FsQWxpZ25tZW50ID09PSAnYm90dG9tJykge1xuICAgICAgaWRlYWxZUG9zID1cbiAgICAgICAgaWRlYWxZUG9zIC0gZHJvcGRvd25CUmVjdC5oZWlnaHQgKyAodGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlciA/IHRyaWdnZXJCUmVjdC5oZWlnaHQgOiAwKTtcbiAgICB9XG4gICAgaWYgKGhvcml6b250YWxBbGlnbm1lbnQgPT09ICdyaWdodCcpIHtcbiAgICAgIGlkZWFsWFBvcyA9IGlkZWFsWFBvcyAtIGRyb3Bkb3duQlJlY3Qud2lkdGggKyB0cmlnZ2VyQlJlY3Qud2lkdGg7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB4OiBpZGVhbFhQb3MsXG4gICAgICB5OiBpZGVhbFlQb3MsXG4gICAgICB2ZXJ0aWNhbEFsaWdubWVudDogdmVydGljYWxBbGlnbm1lbnQsXG4gICAgICBob3Jpem9udGFsQWxpZ25tZW50OiBob3Jpem9udGFsQWxpZ25tZW50LFxuICAgICAgaGVpZ2h0OiBpZGVhbEhlaWdodCxcbiAgICAgIHdpZHRoOiBpZGVhbFdpZHRoXG4gICAgfTtcbiAgfVxuXG4gIF9hbmltYXRlSW4oKSB7XG4gICAgYW5pbS5yZW1vdmUodGhpcy5kcm9wZG93bkVsKTtcbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IHRoaXMuZHJvcGRvd25FbCxcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgdmFsdWU6IFswLCAxXSxcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICB9LFxuICAgICAgc2NhbGVYOiBbMC4zLCAxXSxcbiAgICAgIHNjYWxlWTogWzAuMywgMV0sXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVpbnQnLFxuICAgICAgY29tcGxldGU6IChhbmltKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzKSB0aGlzLmRyb3Bkb3duRWwuZm9jdXMoKTtcbiAgICAgICAgLy8gb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2FuaW1hdGVPdXQoKSB7XG4gICAgYW5pbS5yZW1vdmUodGhpcy5kcm9wZG93bkVsKTtcbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IHRoaXMuZHJvcGRvd25FbCxcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWludCdcbiAgICAgIH0sXG4gICAgICBzY2FsZVg6IDAuMyxcbiAgICAgIHNjYWxlWTogMC4zLFxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWludCcsXG4gICAgICBjb21wbGV0ZTogKGFuaW0pID0+IHtcbiAgICAgICAgdGhpcy5fcmVzZXREcm9wZG93blN0eWxlcygpO1xuICAgICAgICAvLyBvbkNsb3NlRW5kIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRDbG9zZXN0QW5jZXN0b3IoZWw6IEVsZW1lbnQsIGNvbmRpdGlvbjogRnVuY3Rpb24pOiBFbGVtZW50IHtcbiAgICBsZXQgYW5jZXN0b3IgPSBlbC5wYXJlbnROb2RlO1xuICAgIHdoaWxlIChhbmNlc3RvciAhPT0gbnVsbCAmJiBhbmNlc3RvciAhPT0gZG9jdW1lbnQpIHtcbiAgICAgIGlmIChjb25kaXRpb24oYW5jZXN0b3IpKSB7XG4gICAgICAgIHJldHVybiA8RWxlbWVudD5hbmNlc3RvcjtcbiAgICAgIH1cbiAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgX3BsYWNlRHJvcGRvd24oKSB7XG4gICAgLy8gQ29udGFpbmVyIGhlcmUgd2lsbCBiZSBjbG9zZXN0IGFuY2VzdG9yIHdpdGggb3ZlcmZsb3c6IGhpZGRlblxuICAgIGxldCBjbG9zZXN0T3ZlcmZsb3dQYXJlbnQ6IEhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PnRoaXMuX2dldENsb3Nlc3RBbmNlc3Rvcih0aGlzLmRyb3Bkb3duRWwsIChhbmNlc3RvcjogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhWydIVE1MJywnQk9EWSddLmluY2x1ZGVzKGFuY2VzdG9yLnRhZ05hbWUpICYmIGdldENvbXB1dGVkU3R5bGUoYW5jZXN0b3IpLm92ZXJmbG93ICE9PSAndmlzaWJsZSc7XG4gICAgfSk7XG4gICAgLy8gRmFsbGJhY2tcbiAgICBpZiAoIWNsb3Nlc3RPdmVyZmxvd1BhcmVudCkge1xuICAgICAgY2xvc2VzdE92ZXJmbG93UGFyZW50ID0gPEhUTUxFbGVtZW50PighIXRoaXMuZHJvcGRvd25FbC5vZmZzZXRQYXJlbnRcbiAgICAgICAgPyB0aGlzLmRyb3Bkb3duRWwub2Zmc2V0UGFyZW50XG4gICAgICAgIDogdGhpcy5kcm9wZG93bkVsLnBhcmVudE5vZGUpO1xuICAgIH1cblxuICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKGNsb3Nlc3RPdmVyZmxvd1BhcmVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnKVxuICAgICAgY2xvc2VzdE92ZXJmbG93UGFyZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblxuICAgIHRoaXMuX21vdmVEcm9wZG93bihjbG9zZXN0T3ZlcmZsb3dQYXJlbnQpO1xuXG4gICAgLy8gU2V0IHdpZHRoIGJlZm9yZSBjYWxjdWxhdGluZyBwb3NpdGlvbkluZm9cbiAgICBjb25zdCBpZGVhbFdpZHRoID0gdGhpcy5vcHRpb25zLmNvbnN0cmFpbldpZHRoXG4gICAgICA/IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGhcbiAgICAgIDogdGhpcy5kcm9wZG93bkVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS53aWR0aCA9IGlkZWFsV2lkdGggKyAncHgnO1xuXG4gICAgY29uc3QgcG9zaXRpb25JbmZvID0gdGhpcy5fZ2V0RHJvcGRvd25Qb3NpdGlvbihjbG9zZXN0T3ZlcmZsb3dQYXJlbnQpO1xuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5sZWZ0ID0gcG9zaXRpb25JbmZvLnggKyAncHgnO1xuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS50b3AgPSBwb3NpdGlvbkluZm8ueSArICdweCc7XG4gICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLmhlaWdodCA9IHBvc2l0aW9uSW5mby5oZWlnaHQgKyAncHgnO1xuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS53aWR0aCA9IHBvc2l0aW9uSW5mby53aWR0aCArICdweCc7XG4gICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGAke1xuICAgICAgcG9zaXRpb25JbmZvLmhvcml6b250YWxBbGlnbm1lbnQgPT09ICdsZWZ0JyA/ICcwJyA6ICcxMDAlJ1xuICAgIH0gJHtwb3NpdGlvbkluZm8udmVydGljYWxBbGlnbm1lbnQgPT09ICd0b3AnID8gJzAnIDogJzEwMCUnfWA7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIGlmICh0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICB9XG4gICAgLy8gUmVzZXQgc3R5bGVzXG4gICAgdGhpcy5fcmVzZXREcm9wZG93blN0eWxlcygpO1xuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLl9wbGFjZURyb3Bkb3duKCk7XG4gICAgdGhpcy5fYW5pbWF0ZUluKCk7XG4gICAgdGhpcy5fc2V0dXBUZW1wb3JhcnlFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBpZiAoIXRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLmZvY3VzZWRJbmRleCA9IC0xO1xuICAgIC8vIG9uQ2xvc2VTdGFydCBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgIH1cbiAgICB0aGlzLl9hbmltYXRlT3V0KCk7XG4gICAgdGhpcy5fcmVtb3ZlVGVtcG9yYXJ5RXZlbnRIYW5kbGVycygpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzKSB7XG4gICAgICB0aGlzLmVsLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgcmVjYWxjdWxhdGVEaW1lbnNpb25zKCkge1xuICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUubGVmdCA9ICcnO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLnRvcCA9ICcnO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICcnO1xuICAgICAgdGhpcy5fcGxhY2VEcm9wZG93bigpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB7XG4gICAgRHJvcGRvd24uX2Ryb3Bkb3ducyA9IFtdO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/dropdown.ts\n");

/***/ }),

/***/ "./src/forms.ts":
/*!**********************!*\
  !*** ./src/forms.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Forms = void 0;\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nclass Forms {\n    static textareaAutoResize(textarea) {\n        if (!textarea) {\n            console.error('No textarea element found');\n            return;\n        }\n        // Textarea Auto Resize\n        let hiddenDiv = document.querySelector('.hiddendiv');\n        if (!hiddenDiv) {\n            hiddenDiv = document.createElement('div');\n            hiddenDiv.classList.add('hiddendiv', 'common');\n            document.body.append(hiddenDiv);\n        }\n        const style = getComputedStyle(textarea);\n        // Set font properties of hiddenDiv\n        const fontFamily = style.fontFamily; //textarea.css('font-family');\n        const fontSize = style.fontSize; //textarea.css('font-size');\n        const lineHeight = style.lineHeight; //textarea.css('line-height');\n        // Firefox can't handle padding shorthand.\n        const paddingTop = style.paddingTop; //getComputedStyle(textarea).css('padding-top');\n        const paddingRight = style.paddingRight; //textarea.css('padding-right');\n        const paddingBottom = style.paddingBottom; //textarea.css('padding-bottom');\n        const paddingLeft = style.paddingLeft; //textarea.css('padding-left');\n        if (fontSize)\n            hiddenDiv.style.fontSize = fontSize; //('font-size', fontSize);\n        if (fontFamily)\n            hiddenDiv.style.fontFamily = fontFamily; //css('font-family', fontFamily);\n        if (lineHeight)\n            hiddenDiv.style.lineHeight = lineHeight; //css('line-height', lineHeight);\n        if (paddingTop)\n            hiddenDiv.style.paddingTop = paddingTop; //ss('padding-top', paddingTop);\n        if (paddingRight)\n            hiddenDiv.style.paddingRight = paddingRight; //css('padding-right', paddingRight);\n        if (paddingBottom)\n            hiddenDiv.style.paddingBottom = paddingBottom; //css('padding-bottom', paddingBottom);\n        if (paddingLeft)\n            hiddenDiv.style.paddingLeft = paddingLeft; //css('padding-left', paddingLeft);\n        // Set original-height, if none\n        if (!textarea.hasAttribute('original-height'))\n            textarea.setAttribute('original-height', textarea.getBoundingClientRect().height.toString());\n        if (textarea.getAttribute('wrap') === 'off') {\n            hiddenDiv.style.overflowWrap = 'normal'; // ('overflow-wrap', 'normal')\n            hiddenDiv.style.whiteSpace = 'pre'; //.css('white-space', 'pre');\n        }\n        hiddenDiv.innerText = textarea.value + '\\n';\n        const content = hiddenDiv.innerHTML.replace(/\\n/g, '<br>');\n        hiddenDiv.innerHTML = content;\n        // When textarea is hidden, width goes crazy.\n        // Approximate with half of window size\n        if (textarea.offsetWidth > 0 && textarea.offsetHeight > 0) {\n            hiddenDiv.style.width = textarea.getBoundingClientRect().width + 'px'; // ('width', textarea.width() + 'px');\n        }\n        else {\n            hiddenDiv.style.width = (window.innerWidth / 2) + 'px'; //css('width', window.innerWidth / 2 + 'px');\n        }\n        // Resize if the new height is greater than the\n        // original height of the textarea\n        const originalHeight = parseInt(textarea.getAttribute('original-height'));\n        const prevLength = parseInt(textarea.getAttribute('previous-length'));\n        if (isNaN(originalHeight))\n            return;\n        if (originalHeight <= hiddenDiv.clientHeight) {\n            textarea.style.height = hiddenDiv.clientHeight + 'px'; //css('height', hiddenDiv.innerHeight() + 'px');\n        }\n        else if (textarea.value.length < prevLength) {\n            // In case the new height is less than original height, it\n            // means the textarea has less text than before\n            // So we set the height to the original one\n            textarea.style.height = originalHeight + 'px';\n        }\n        textarea.setAttribute('previous-length', textarea.value.length.toString());\n    }\n    ;\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            document.addEventListener('keyup', (e) => {\n                const target = e.target;\n                // Radio and Checkbox focus class\n                if (target instanceof HTMLInputElement && ['radio', 'checkbox'].includes(target.type)) {\n                    // TAB, check if tabbing to radio or checkbox.\n                    if (global_1.M.keys.TAB.includes(e.key)) {\n                        target.classList.add('tabbed');\n                        target.addEventListener('blur', e => target.classList.remove('tabbed'), { once: true });\n                    }\n                }\n            });\n            document.querySelectorAll('.materialize-textarea').forEach((textArea) => {\n                // Save Data in Element\n                textArea.setAttribute('original-height', textArea.getBoundingClientRect().height.toString());\n                textArea.setAttribute('previous-length', textArea.value.length.toString());\n                Forms.textareaAutoResize(textArea);\n                textArea.addEventListener('keyup', e => Forms.textareaAutoResize(textArea));\n                textArea.addEventListener('keydown', e => Forms.textareaAutoResize(textArea));\n            });\n            // File Input Path\n            document.querySelectorAll('.file-field input[type=\"file\"]').forEach((fileInput) => {\n                fileInput.addEventListener('change', e => {\n                    const fileField = fileInput.closest('.file-field');\n                    const pathInput = fileField.querySelector('input.file-path');\n                    const files = fileInput.files;\n                    const filenames = [];\n                    for (let i = 0; i < files.length; i++) {\n                        filenames.push(files[i].name);\n                    }\n                    pathInput.value = filenames.join(', ');\n                    pathInput.dispatchEvent(new Event('change'));\n                });\n            });\n        });\n    }\n}\nexports.Forms = Forms;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxDQUFDO29CQUN2QyxTQUFTLENBQUMsYUFBYSxDQUFDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQy9DLENBQUMsQ0FBQyxDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRjtBQW5IRCxzQkFtSEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvZm9ybXMudHM/NTBiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5cbmV4cG9ydCBjbGFzcyBGb3JtcyB7XG5cbiAgc3RhdGljIHRleHRhcmVhQXV0b1Jlc2l6ZSh0ZXh0YXJlYTogSFRNTFRleHRBcmVhRWxlbWVudCkge1xuICAgIGlmICghdGV4dGFyZWEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHRleHRhcmVhIGVsZW1lbnQgZm91bmQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gVGV4dGFyZWEgQXV0byBSZXNpemVcbiAgICBsZXQgaGlkZGVuRGl2OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWRkZW5kaXYnKTtcbiAgICBpZiAoIWhpZGRlbkRpdikge1xuICAgICAgaGlkZGVuRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBoaWRkZW5EaXYuY2xhc3NMaXN0LmFkZCgnaGlkZGVuZGl2JywgJ2NvbW1vbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQoaGlkZGVuRGl2KTtcbiAgICB9XG4gICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKHRleHRhcmVhKTtcbiAgICAvLyBTZXQgZm9udCBwcm9wZXJ0aWVzIG9mIGhpZGRlbkRpdlxuICAgIGNvbnN0IGZvbnRGYW1pbHkgPSBzdHlsZS5mb250RmFtaWx5OyAvL3RleHRhcmVhLmNzcygnZm9udC1mYW1pbHknKTtcbiAgICBjb25zdCBmb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplOyAvL3RleHRhcmVhLmNzcygnZm9udC1zaXplJyk7XG4gICAgY29uc3QgbGluZUhlaWdodCA9IHN0eWxlLmxpbmVIZWlnaHQ7IC8vdGV4dGFyZWEuY3NzKCdsaW5lLWhlaWdodCcpO1xuICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHBhZGRpbmcgc2hvcnRoYW5kLlxuICAgIGNvbnN0IHBhZGRpbmdUb3AgPSBzdHlsZS5wYWRkaW5nVG9wOyAvL2dldENvbXB1dGVkU3R5bGUodGV4dGFyZWEpLmNzcygncGFkZGluZy10b3AnKTtcbiAgICBjb25zdCBwYWRkaW5nUmlnaHQgPSBzdHlsZS5wYWRkaW5nUmlnaHQ7IC8vdGV4dGFyZWEuY3NzKCdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgY29uc3QgcGFkZGluZ0JvdHRvbSA9IHN0eWxlLnBhZGRpbmdCb3R0b207IC8vdGV4dGFyZWEuY3NzKCdwYWRkaW5nLWJvdHRvbScpO1xuICAgIGNvbnN0IHBhZGRpbmdMZWZ0ID0gc3R5bGUucGFkZGluZ0xlZnQ7IC8vdGV4dGFyZWEuY3NzKCdwYWRkaW5nLWxlZnQnKTtcblxuICAgIGlmIChmb250U2l6ZSkgaGlkZGVuRGl2LnN0eWxlLmZvbnRTaXplID0gZm9udFNpemU7IC8vKCdmb250LXNpemUnLCBmb250U2l6ZSk7XG4gICAgaWYgKGZvbnRGYW1pbHkpIGhpZGRlbkRpdi5zdHlsZS5mb250RmFtaWx5ID0gZm9udEZhbWlseTsgLy9jc3MoJ2ZvbnQtZmFtaWx5JywgZm9udEZhbWlseSk7XG4gICAgaWYgKGxpbmVIZWlnaHQpIGhpZGRlbkRpdi5zdHlsZS5saW5lSGVpZ2h0ID0gbGluZUhlaWdodDsgLy9jc3MoJ2xpbmUtaGVpZ2h0JywgbGluZUhlaWdodCk7XG4gICAgaWYgKHBhZGRpbmdUb3ApIGhpZGRlbkRpdi5zdHlsZS5wYWRkaW5nVG9wID0gcGFkZGluZ1RvcDsgLy9zcygncGFkZGluZy10b3AnLCBwYWRkaW5nVG9wKTtcbiAgICBpZiAocGFkZGluZ1JpZ2h0KSBoaWRkZW5EaXYuc3R5bGUucGFkZGluZ1JpZ2h0ID0gcGFkZGluZ1JpZ2h0OyAvL2NzcygncGFkZGluZy1yaWdodCcsIHBhZGRpbmdSaWdodCk7XG4gICAgaWYgKHBhZGRpbmdCb3R0b20pIGhpZGRlbkRpdi5zdHlsZS5wYWRkaW5nQm90dG9tID0gcGFkZGluZ0JvdHRvbTsgLy9jc3MoJ3BhZGRpbmctYm90dG9tJywgcGFkZGluZ0JvdHRvbSk7XG4gICAgaWYgKHBhZGRpbmdMZWZ0KSBoaWRkZW5EaXYuc3R5bGUucGFkZGluZ0xlZnQgPSBwYWRkaW5nTGVmdDsgLy9jc3MoJ3BhZGRpbmctbGVmdCcsIHBhZGRpbmdMZWZ0KTtcblxuICAgIC8vIFNldCBvcmlnaW5hbC1oZWlnaHQsIGlmIG5vbmVcbiAgICBpZiAoIXRleHRhcmVhLmhhc0F0dHJpYnV0ZSgnb3JpZ2luYWwtaGVpZ2h0JykpXG4gICAgICB0ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ29yaWdpbmFsLWhlaWdodCcsIHRleHRhcmVhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodC50b1N0cmluZygpKTtcblxuICAgIGlmICh0ZXh0YXJlYS5nZXRBdHRyaWJ1dGUoJ3dyYXAnKSA9PT0gJ29mZicpIHtcbiAgICAgIGhpZGRlbkRpdi5zdHlsZS5vdmVyZmxvd1dyYXAgPSAnbm9ybWFsJzsgLy8gKCdvdmVyZmxvdy13cmFwJywgJ25vcm1hbCcpXG4gICAgICBoaWRkZW5EaXYuc3R5bGUud2hpdGVTcGFjZSA9ICdwcmUnOyAgLy8uY3NzKCd3aGl0ZS1zcGFjZScsICdwcmUnKTtcbiAgICB9XG5cbiAgICBoaWRkZW5EaXYuaW5uZXJUZXh0ID0gdGV4dGFyZWEudmFsdWUgKyAnXFxuJztcblxuICAgIGNvbnN0IGNvbnRlbnQgPSBoaWRkZW5EaXYuaW5uZXJIVE1MLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpO1xuICAgIGhpZGRlbkRpdi5pbm5lckhUTUwgPSBjb250ZW50O1xuXG4gICAgLy8gV2hlbiB0ZXh0YXJlYSBpcyBoaWRkZW4sIHdpZHRoIGdvZXMgY3JhenkuXG4gICAgLy8gQXBwcm94aW1hdGUgd2l0aCBoYWxmIG9mIHdpbmRvdyBzaXplXG4gICAgaWYgKHRleHRhcmVhLm9mZnNldFdpZHRoID4gMCAmJiB0ZXh0YXJlYS5vZmZzZXRIZWlnaHQgPiAwKSB7XG4gICAgICBoaWRkZW5EaXYuc3R5bGUud2lkdGggPSB0ZXh0YXJlYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArJ3B4JzsgLy8gKCd3aWR0aCcsIHRleHRhcmVhLndpZHRoKCkgKyAncHgnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBoaWRkZW5EaXYuc3R5bGUud2lkdGggPSAod2luZG93LmlubmVyV2lkdGggLyAyKSsncHgnIC8vY3NzKCd3aWR0aCcsIHdpbmRvdy5pbm5lcldpZHRoIC8gMiArICdweCcpO1xuICAgIH1cblxuICAgIC8vIFJlc2l6ZSBpZiB0aGUgbmV3IGhlaWdodCBpcyBncmVhdGVyIHRoYW4gdGhlXG4gICAgLy8gb3JpZ2luYWwgaGVpZ2h0IG9mIHRoZSB0ZXh0YXJlYVxuICAgIGNvbnN0IG9yaWdpbmFsSGVpZ2h0ID0gcGFyc2VJbnQodGV4dGFyZWEuZ2V0QXR0cmlidXRlKCdvcmlnaW5hbC1oZWlnaHQnKSk7XG4gICAgY29uc3QgcHJldkxlbmd0aCA9IHBhcnNlSW50KHRleHRhcmVhLmdldEF0dHJpYnV0ZSgncHJldmlvdXMtbGVuZ3RoJykpO1xuICAgIGlmIChpc05hTihvcmlnaW5hbEhlaWdodCkpIHJldHVybjtcbiAgICBpZiAob3JpZ2luYWxIZWlnaHQgPD0gaGlkZGVuRGl2LmNsaWVudEhlaWdodCkge1xuICAgICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gaGlkZGVuRGl2LmNsaWVudEhlaWdodCsncHgnOyAgLy9jc3MoJ2hlaWdodCcsIGhpZGRlbkRpdi5pbm5lckhlaWdodCgpICsgJ3B4Jyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRleHRhcmVhLnZhbHVlLmxlbmd0aCA8IHByZXZMZW5ndGgpIHtcbiAgICAvLyBJbiBjYXNlIHRoZSBuZXcgaGVpZ2h0IGlzIGxlc3MgdGhhbiBvcmlnaW5hbCBoZWlnaHQsIGl0XG4gICAgLy8gbWVhbnMgdGhlIHRleHRhcmVhIGhhcyBsZXNzIHRleHQgdGhhbiBiZWZvcmVcbiAgICAvLyBTbyB3ZSBzZXQgdGhlIGhlaWdodCB0byB0aGUgb3JpZ2luYWwgb25lXG4gICAgICB0ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSBvcmlnaW5hbEhlaWdodCsncHgnO1xuICAgIH1cbiAgICB0ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ3ByZXZpb3VzLWxlbmd0aCcsIHRleHRhcmVhLnZhbHVlLmxlbmd0aC50b1N0cmluZygpKTtcbiAgfTtcblxuICBzdGF0aWMgSW5pdCgpe1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSA8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldDtcbiAgICAgICAgLy8gUmFkaW8gYW5kIENoZWNrYm94IGZvY3VzIGNsYXNzXG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIFsncmFkaW8nLCdjaGVja2JveCddLmluY2x1ZGVzKHRhcmdldC50eXBlKSkge1xuICAgICAgICAgIC8vIFRBQiwgY2hlY2sgaWYgdGFiYmluZyB0byByYWRpbyBvciBjaGVja2JveC5cbiAgICAgICAgICBpZiAoTS5rZXlzLlRBQi5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCd0YWJiZWQnKTtcbiAgICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZSA9PiB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgndGFiYmVkJyksIHtvbmNlOiB0cnVlfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1hdGVyaWFsaXplLXRleHRhcmVhJykuZm9yRWFjaCgodGV4dEFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQpID0+IHtcbiAgICAgICAgLy8gU2F2ZSBEYXRhIGluIEVsZW1lbnRcbiAgICAgICAgdGV4dEFyZWEuc2V0QXR0cmlidXRlKCdvcmlnaW5hbC1oZWlnaHQnLCB0ZXh0QXJlYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQudG9TdHJpbmcoKSk7XG4gICAgICAgIHRleHRBcmVhLnNldEF0dHJpYnV0ZSgncHJldmlvdXMtbGVuZ3RoJywgdGV4dEFyZWEudmFsdWUubGVuZ3RoLnRvU3RyaW5nKCkpO1xuICAgICAgICBGb3Jtcy50ZXh0YXJlYUF1dG9SZXNpemUodGV4dEFyZWEpO1xuXG4gICAgICAgIHRleHRBcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiBGb3Jtcy50ZXh0YXJlYUF1dG9SZXNpemUodGV4dEFyZWEpKTtcbiAgICAgICAgdGV4dEFyZWEuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4gRm9ybXMudGV4dGFyZWFBdXRvUmVzaXplKHRleHRBcmVhKSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gRmlsZSBJbnB1dCBQYXRoXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmlsZS1maWVsZCBpbnB1dFt0eXBlPVwiZmlsZVwiXScpLmZvckVhY2goKGZpbGVJbnB1dDogSFRNTElucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBmaWxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZSA9PiB7XG4gICAgICAgICAgY29uc3QgZmlsZUZpZWxkID0gZmlsZUlucHV0LmNsb3Nlc3QoJy5maWxlLWZpZWxkJyk7XG4gICAgICAgICAgY29uc3QgcGF0aElucHV0ID0gPEhUTUxJbnB1dEVsZW1lbnQ+ZmlsZUZpZWxkLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0LmZpbGUtcGF0aCcpO1xuICAgICAgICAgIGNvbnN0IGZpbGVzID0gZmlsZUlucHV0LmZpbGVzO1xuICAgICAgICAgIGNvbnN0IGZpbGVuYW1lcyA9IFtdO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZpbGVuYW1lcy5wdXNoKGZpbGVzW2ldLm5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRoSW5wdXQudmFsdWUgPSBmaWxlbmFtZXMuam9pbignLCAnKTtcbiAgICAgICAgICBwYXRoSW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/forms.ts\n");

/***/ }),

/***/ "./src/global.ts":
/*!***********************!*\
  !*** ./src/global.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.M = void 0;\nconst autocomplete_1 = __webpack_require__(/*! ./autocomplete */ \"./src/autocomplete.ts\");\nconst buttons_1 = __webpack_require__(/*! ./buttons */ \"./src/buttons.ts\");\nconst cards_1 = __webpack_require__(/*! ./cards */ \"./src/cards.ts\");\nconst carousel_1 = __webpack_require__(/*! ./carousel */ \"./src/carousel.ts\");\nconst characterCounter_1 = __webpack_require__(/*! ./characterCounter */ \"./src/characterCounter.ts\");\nconst chips_1 = __webpack_require__(/*! ./chips */ \"./src/chips.ts\");\nconst collapsible_1 = __webpack_require__(/*! ./collapsible */ \"./src/collapsible.ts\");\nconst datepicker_1 = __webpack_require__(/*! ./datepicker */ \"./src/datepicker.ts\");\nconst dropdown_1 = __webpack_require__(/*! ./dropdown */ \"./src/dropdown.ts\");\nconst forms_1 = __webpack_require__(/*! ./forms */ \"./src/forms.ts\");\nconst materialbox_1 = __webpack_require__(/*! ./materialbox */ \"./src/materialbox.ts\");\nconst modal_1 = __webpack_require__(/*! ./modal */ \"./src/modal.ts\");\nconst parallax_1 = __webpack_require__(/*! ./parallax */ \"./src/parallax.ts\");\nconst pushpin_1 = __webpack_require__(/*! ./pushpin */ \"./src/pushpin.ts\");\nconst scrollspy_1 = __webpack_require__(/*! ./scrollspy */ \"./src/scrollspy.ts\");\nconst select_1 = __webpack_require__(/*! ./select */ \"./src/select.ts\");\nconst sidenav_1 = __webpack_require__(/*! ./sidenav */ \"./src/sidenav.ts\");\nconst slider_1 = __webpack_require__(/*! ./slider */ \"./src/slider.ts\");\nconst tabs_1 = __webpack_require__(/*! ./tabs */ \"./src/tabs.ts\");\nconst tapTarget_1 = __webpack_require__(/*! ./tapTarget */ \"./src/tapTarget.ts\");\nconst timepicker_1 = __webpack_require__(/*! ./timepicker */ \"./src/timepicker.ts\");\nconst toasts_1 = __webpack_require__(/*! ./toasts */ \"./src/toasts.ts\");\nconst tooltip_1 = __webpack_require__(/*! ./tooltip */ \"./src/tooltip.ts\");\nconst waves_1 = __webpack_require__(/*! ./waves */ \"./src/waves.ts\");\nconst range_1 = __webpack_require__(/*! ./range */ \"./src/range.ts\");\nclass M {\n    static docHandleKeydown(e) {\n        M.keyDown = true;\n        if ([...M.keys.TAB, ...M.keys.ARROW_DOWN, ...M.keys.ARROW_UP].includes(e.key)) {\n            M.tabPressed = true;\n        }\n    }\n    static docHandleKeyup(e) {\n        M.keyDown = false;\n        if ([...M.keys.TAB, ...M.keys.ARROW_DOWN, ...M.keys.ARROW_UP].includes(e.key)) {\n            M.tabPressed = false;\n        }\n    }\n    static docHandleFocus(e) {\n        if (M.keyDown) {\n            document.body.classList.add('keyboard-focused');\n        }\n    }\n    static docHandleBlur(e) {\n        document.body.classList.remove('keyboard-focused');\n    }\n    //--- TODO: Remove!\n    static jQueryLoaded() {\n        return !!window.jQuery;\n    }\n    static initializeJqueryWrapper(plugin, pluginName, classRef) {\n        if (!this.jQueryLoaded())\n            return;\n        var jq = window.jQuery;\n        jq.fn[pluginName] = function (methodOrOptions) {\n            // Call plugin method if valid method name is passed in\n            if (plugin.prototype[methodOrOptions]) {\n                let params = Array.prototype.slice.call(arguments, 1);\n                // Getter methods\n                if (methodOrOptions.slice(0, 3) === 'get') {\n                    let instance = this.first()[0][classRef];\n                    return instance[methodOrOptions].apply(instance, params);\n                }\n                // Void methods\n                return this.each(function () {\n                    let instance = this[classRef];\n                    instance[methodOrOptions].apply(instance, params);\n                });\n                // Initialize plugin if options or no argument is passed in\n            }\n            else if (typeof methodOrOptions === 'object' || !methodOrOptions) {\n                plugin.init(this, arguments[0]);\n                return this;\n            }\n            // Return error if an unrecognized  method name is passed in\n            jq.error(`Method ${methodOrOptions} does not exist on jQuery.${pluginName}`);\n        };\n    }\n    //---\n    static AutoInit(context = null) {\n        let root = !!context ? context : document.body;\n        let registry = {\n            Autocomplete: root.querySelectorAll('.autocomplete:not(.no-autoinit)'),\n            Carousel: root.querySelectorAll('.carousel:not(.no-autoinit)'),\n            Chips: root.querySelectorAll('.chips:not(.no-autoinit)'),\n            Collapsible: root.querySelectorAll('.collapsible:not(.no-autoinit)'),\n            Datepicker: root.querySelectorAll('.datepicker:not(.no-autoinit)'),\n            Dropdown: root.querySelectorAll('.dropdown-trigger:not(.no-autoinit)'),\n            Materialbox: root.querySelectorAll('.materialboxed:not(.no-autoinit)'),\n            Modal: root.querySelectorAll('.modal:not(.no-autoinit)'),\n            Parallax: root.querySelectorAll('.parallax:not(.no-autoinit)'),\n            Pushpin: root.querySelectorAll('.pushpin:not(.no-autoinit)'),\n            ScrollSpy: root.querySelectorAll('.scrollspy:not(.no-autoinit)'),\n            FormSelect: root.querySelectorAll('select:not(.no-autoinit)'),\n            Sidenav: root.querySelectorAll('.sidenav:not(.no-autoinit)'),\n            Tabs: root.querySelectorAll('.tabs:not(.no-autoinit)'),\n            TapTarget: root.querySelectorAll('.tap-target:not(.no-autoinit)'),\n            Timepicker: root.querySelectorAll('.timepicker:not(.no-autoinit)'),\n            Tooltip: root.querySelectorAll('.tooltipped:not(.no-autoinit)'),\n            FloatingActionButton: root.querySelectorAll('.fixed-action-btn:not(.no-autoinit)'),\n        };\n        M.Autocomplete.init(registry.Autocomplete, null);\n        M.Carousel.init(registry.Carousel, null);\n        M.Chips.init(registry.Chips, null);\n        M.Collapsible.init(registry.Collapsible, null);\n        M.Datepicker.init(registry.Datepicker, null);\n        M.Dropdown.init(registry.Dropdown, null);\n        M.Materialbox.init(registry.Materialbox, null);\n        M.Modal.init(registry.Modal, null);\n        M.Parallax.init(registry.Parallax, null);\n        M.Pushpin.init(registry.Pushpin, null);\n        M.ScrollSpy.init(registry.ScrollSpy, null);\n        M.FormSelect.init(registry.FormSelect, null);\n        M.Sidenav.init(registry.Sidenav, null);\n        M.Tabs.init(registry.Tabs, null);\n        M.TapTarget.init(registry.TapTarget, null);\n        M.Timepicker.init(registry.Timepicker, null);\n        M.Tooltip.init(registry.Tooltip, null);\n        M.FloatingActionButton.init(registry.FloatingActionButton, null);\n    }\n    static objectSelectorString(obj) {\n        let tagStr = obj.prop('tagName') || '';\n        let idStr = obj.attr('id') || '';\n        let classStr = obj.attr('class') || '';\n        return (tagStr + idStr + classStr).replace(/\\s/g, '');\n    }\n    static guid() {\n        function s4() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        }\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n    }\n    static checkWithinContainer(container, bounding, offset) {\n        let edges = {\n            top: false,\n            right: false,\n            bottom: false,\n            left: false\n        };\n        let containerRect = container.getBoundingClientRect();\n        // If body element is smaller than viewport, use viewport height instead.\n        let containerBottom = container === document.body\n            ? Math.max(containerRect.bottom, window.innerHeight)\n            : containerRect.bottom;\n        let scrollLeft = container.scrollLeft;\n        let scrollTop = container.scrollTop;\n        let scrolledX = bounding.left - scrollLeft;\n        let scrolledY = bounding.top - scrollTop;\n        // Check for container and viewport for each edge\n        if (scrolledX < containerRect.left + offset || scrolledX < offset) {\n            edges.left = true;\n        }\n        if (scrolledX + bounding.width > containerRect.right - offset ||\n            scrolledX + bounding.width > window.innerWidth - offset) {\n            edges.right = true;\n        }\n        if (scrolledY < containerRect.top + offset || scrolledY < offset) {\n            edges.top = true;\n        }\n        if (scrolledY + bounding.height > containerBottom - offset ||\n            scrolledY + bounding.height > window.innerHeight - offset) {\n            edges.bottom = true;\n        }\n        return edges;\n    }\n    static checkPossibleAlignments(el, container, bounding, offset) {\n        let canAlign = {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true,\n            spaceOnTop: null,\n            spaceOnRight: null,\n            spaceOnBottom: null,\n            spaceOnLeft: null\n        };\n        let containerAllowsOverflow = getComputedStyle(container).overflow === 'visible';\n        let containerRect = container.getBoundingClientRect();\n        let containerHeight = Math.min(containerRect.height, window.innerHeight);\n        let containerWidth = Math.min(containerRect.width, window.innerWidth);\n        let elOffsetRect = el.getBoundingClientRect();\n        let scrollLeft = container.scrollLeft;\n        let scrollTop = container.scrollTop;\n        let scrolledX = bounding.left - scrollLeft;\n        let scrolledYTopEdge = bounding.top - scrollTop;\n        let scrolledYBottomEdge = bounding.top + elOffsetRect.height - scrollTop;\n        // Check for container and viewport for left\n        canAlign.spaceOnRight = !containerAllowsOverflow\n            ? containerWidth - (scrolledX + bounding.width)\n            : window.innerWidth - (elOffsetRect.left + bounding.width);\n        if (canAlign.spaceOnRight < 0) {\n            canAlign.left = false;\n        }\n        // Check for container and viewport for Right\n        canAlign.spaceOnLeft = !containerAllowsOverflow\n            ? scrolledX - bounding.width + elOffsetRect.width\n            : elOffsetRect.right - bounding.width;\n        if (canAlign.spaceOnLeft < 0) {\n            canAlign.right = false;\n        }\n        // Check for container and viewport for Top\n        canAlign.spaceOnBottom = !containerAllowsOverflow\n            ? containerHeight - (scrolledYTopEdge + bounding.height + offset)\n            : window.innerHeight - (elOffsetRect.top + bounding.height + offset);\n        if (canAlign.spaceOnBottom < 0) {\n            canAlign.top = false;\n        }\n        // Check for container and viewport for Bottom\n        canAlign.spaceOnTop = !containerAllowsOverflow\n            ? scrolledYBottomEdge - (bounding.height - offset)\n            : elOffsetRect.bottom - (bounding.height + offset);\n        if (canAlign.spaceOnTop < 0) {\n            canAlign.bottom = false;\n        }\n        return canAlign;\n    }\n    static getOverflowParent(element) {\n        if (element == null) {\n            return null;\n        }\n        if (element === document.body || getComputedStyle(element).overflow !== 'visible') {\n            return element;\n        }\n        return this.getOverflowParent(element.parentElement);\n    }\n    static getIdFromTrigger(trigger) {\n        let id = trigger.getAttribute('data-target');\n        if (!id) {\n            id = trigger.getAttribute('href');\n            if (id) {\n                id = id.slice(1);\n            }\n            else {\n                id = '';\n            }\n        }\n        return id;\n    }\n    static getDocumentScrollTop() {\n        return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n    }\n    ;\n    static getDocumentScrollLeft() {\n        return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n    }\n    static throttle(func, wait, options = null) {\n        let context, args, result;\n        let timeout = null;\n        let previous = 0;\n        options || (options = {});\n        let later = function () {\n            previous = options.leading === false ? 0 : new Date().getTime();\n            timeout = null;\n            result = func.apply(context, args);\n            context = args = null;\n        };\n        return function () {\n            let now = new Date().getTime();\n            if (!previous && options.leading === false)\n                previous = now;\n            let remaining = wait - (now - previous);\n            context = this;\n            args = arguments;\n            if (remaining <= 0) {\n                clearTimeout(timeout);\n                timeout = null;\n                previous = now;\n                result = func.apply(context, args);\n                context = args = null;\n            }\n            else if (!timeout && options.trailing !== false) {\n                timeout = setTimeout(later, remaining);\n            }\n            return result;\n        };\n    }\n}\nexports.M = M;\n_a = M;\nM.version = '2.0.1-alpha';\nM.keys = {\n    TAB: ['Tab'],\n    ENTER: ['Enter'],\n    ESC: ['Escape', 'Esc'],\n    BACKSPACE: ['Backspace'],\n    ARROW_UP: ['ArrowUp', 'Up'],\n    ARROW_DOWN: ['ArrowDown', 'Down'],\n    ARROW_LEFT: ['ArrowLeft', 'Left'],\n    ARROW_RIGHT: ['ArrowRight', 'Right'],\n    DELETE: ['Delete', 'Del'],\n};\nM.Autocomplete = autocomplete_1.Autocomplete;\nM.Tabs = tabs_1.Tabs;\nM.Carousel = carousel_1.Carousel;\nM.Dropdown = dropdown_1.Dropdown;\nM.FloatingActionButton = buttons_1.FloatingActionButton;\nM.Chips = chips_1.Chips;\nM.Collapsible = collapsible_1.Collapsible;\nM.Datepicker = datepicker_1.Datepicker;\nM.CharacterCounter = characterCounter_1.CharacterCounter;\nM.FormSelect = select_1.FormSelect;\nM.Modal = modal_1.Modal;\nM.Pushpin = pushpin_1.Pushpin;\nM.Materialbox = materialbox_1.Materialbox;\nM.Parallax = parallax_1.Parallax;\nM.Slider = slider_1.Slider;\nM.Timepicker = timepicker_1.Timepicker;\nM.toast = (opt) => new toasts_1.Toast(opt);\nM.Tooltip = tooltip_1.Tooltip;\nM.Sidenav = sidenav_1.Sidenav;\nM.TapTarget = tapTarget_1.TapTarget;\nM.ScrollSpy = scrollspy_1.ScrollSpy;\nM.Range = range_1.Range;\nM.Waves = waves_1.Waves;\nM.tabPressed = false;\nM.keyDown = false;\n(() => {\n    document.addEventListener('keydown', _a.docHandleKeydown, true);\n    document.addEventListener('keyup', _a.docHandleKeyup, true);\n    document.addEventListener('focus', _a.docHandleFocus, true);\n    document.addEventListener('blur', _a.docHandleBlur, true);\n    _a.initializeJqueryWrapper(tabs_1.Tabs, 'tabs', 'M_Tabs');\n    _a.initializeJqueryWrapper(carousel_1.Carousel, 'carousel', 'M_Carousel');\n    _a.initializeJqueryWrapper(autocomplete_1.Autocomplete, 'autocomplete', 'M_Autocomplete');\n    _a.initializeJqueryWrapper(dropdown_1.Dropdown, 'dropdown', 'M_Dropdown');\n    _a.initializeJqueryWrapper(buttons_1.FloatingActionButton, 'floatingActionButton', 'M_FloatingActionButton');\n    M.initializeJqueryWrapper(collapsible_1.Collapsible, 'collapsible', 'M_Collapsible');\n    M.initializeJqueryWrapper(characterCounter_1.CharacterCounter, 'characterCounter', 'M_CharacterCounter');\n    M.initializeJqueryWrapper(datepicker_1.Datepicker, 'datepicker', 'M_Datepicker');\n    M.initializeJqueryWrapper(select_1.FormSelect, 'formSelect', 'M_FormSelect');\n    M.initializeJqueryWrapper(modal_1.Modal, 'modal', 'M_Modal');\n    M.initializeJqueryWrapper(pushpin_1.Pushpin, 'pushpin', 'M_Pushpin');\n    M.initializeJqueryWrapper(materialbox_1.Materialbox, 'materialbox', 'M_Materialbox');\n    M.initializeJqueryWrapper(parallax_1.Parallax, 'parallax', 'M_Parallax');\n    M.initializeJqueryWrapper(slider_1.Slider, 'slider', 'M_Slider');\n    M.initializeJqueryWrapper(timepicker_1.Timepicker, 'timepicker', 'M_Timepicker');\n    M.initializeJqueryWrapper(tooltip_1.Tooltip, 'tooltip', 'M_Tooltip');\n    M.initializeJqueryWrapper(tapTarget_1.TapTarget, 'tapTarget', 'M_TapTarget');\n    M.initializeJqueryWrapper(sidenav_1.Sidenav, 'sidenav', 'M_Sidenav');\n    M.initializeJqueryWrapper(scrollspy_1.ScrollSpy, 'scrollSpy', 'M_ScrollSpy');\n    M.initializeJqueryWrapper(range_1.Range, 'range', 'M_Range');\n    M.initializeJqueryWrapper(chips_1.Chips, 'chips', 'M_Chips');\n    cards_1.Cards.Init();\n    forms_1.Forms.Init();\n    chips_1.Chips.Init();\n    waves_1.Waves.Init();\n    range_1.Range.Init();\n})();\nexports[\"default\"] = M;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMvQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMvQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ25DLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN2QyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzNDLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDN0MsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN2QyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pDLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDM0MsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBRSxJQUFJ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Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvZ2xvYmFsLnRzPzA0YTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXV0b2NvbXBsZXRlIH0gZnJvbSAnLi9hdXRvY29tcGxldGUnO1xuaW1wb3J0IHsgQm91bmRpbmcgfSBmcm9tICcuL2JvdW5kaW5nJztcbmltcG9ydCB7IEZsb2F0aW5nQWN0aW9uQnV0dG9uIH0gZnJvbSAnLi9idXR0b25zJztcbmltcG9ydCB7IENhcmRzIH0gZnJvbSAnLi9jYXJkcyc7XG5pbXBvcnQgeyBDYXJvdXNlbCB9IGZyb20gJy4vY2Fyb3VzZWwnO1xuaW1wb3J0IHsgQ2hhcmFjdGVyQ291bnRlciB9IGZyb20gJy4vY2hhcmFjdGVyQ291bnRlcic7XG5pbXBvcnQgeyBDaGlwcyB9IGZyb20gJy4vY2hpcHMnO1xuaW1wb3J0IHsgQ29sbGFwc2libGUgfSBmcm9tICcuL2NvbGxhcHNpYmxlJztcbmltcG9ydCB7IERhdGVwaWNrZXIgfSBmcm9tICcuL2RhdGVwaWNrZXInO1xuaW1wb3J0IHsgRHJvcGRvd24gfSBmcm9tICcuL2Ryb3Bkb3duJztcbmltcG9ydCB7IEVkZ2VzIH0gZnJvbSAnLi9lZGdlcyc7XG5pbXBvcnQgeyBGb3JtcyB9IGZyb20gJy4vZm9ybXMnO1xuaW1wb3J0IHsgTWF0ZXJpYWxib3ggfSBmcm9tICcuL21hdGVyaWFsYm94JztcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnLi9tb2RhbCc7XG5pbXBvcnQgeyBQYXJhbGxheCB9IGZyb20gJy4vcGFyYWxsYXgnO1xuaW1wb3J0IHsgUHVzaHBpbiB9IGZyb20gJy4vcHVzaHBpbic7XG5pbXBvcnQgeyBTY3JvbGxTcHkgfSBmcm9tICcuL3Njcm9sbHNweSc7XG5pbXBvcnQgeyBGb3JtU2VsZWN0IH0gZnJvbSAnLi9zZWxlY3QnO1xuaW1wb3J0IHsgU2lkZW5hdiB9IGZyb20gJy4vc2lkZW5hdic7XG5pbXBvcnQgeyBTbGlkZXIgfSBmcm9tICcuL3NsaWRlcic7XG5pbXBvcnQgeyBUYWJzIH0gZnJvbSAnLi90YWJzJztcbmltcG9ydCB7IFRhcFRhcmdldCB9IGZyb20gJy4vdGFwVGFyZ2V0JztcbmltcG9ydCB7IFRpbWVwaWNrZXIgfSBmcm9tICcuL3RpbWVwaWNrZXInO1xuaW1wb3J0IHsgVG9hc3QgfSBmcm9tICcuL3RvYXN0cyc7XG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnLi90b29sdGlwJztcbmltcG9ydCB7IFdhdmVzIH0gZnJvbSAnLi93YXZlcyc7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4vcmFuZ2UnO1xuXG5leHBvcnQgY2xhc3MgTSB7XG4gIHN0YXRpYyB2ZXJzaW9uID0gJzIuMC4xLWFscGhhJztcblxuICBzdGF0aWMga2V5cyA9IHtcbiAgICBUQUI6IFsnVGFiJ10sXG4gICAgRU5URVI6IFsnRW50ZXInXSxcbiAgICBFU0M6IFsnRXNjYXBlJywgJ0VzYyddLFxuICAgIEJBQ0tTUEFDRTogWydCYWNrc3BhY2UnXSxcbiAgICBBUlJPV19VUDogWydBcnJvd1VwJywgJ1VwJ10sXG4gICAgQVJST1dfRE9XTjogWydBcnJvd0Rvd24nLCAnRG93biddLFxuICAgIEFSUk9XX0xFRlQ6IFsnQXJyb3dMZWZ0JywgJ0xlZnQnXSxcbiAgICBBUlJPV19SSUdIVDogWydBcnJvd1JpZ2h0JywgJ1JpZ2h0J10sXG4gICAgREVMRVRFOiBbJ0RlbGV0ZScsICdEZWwnXSxcbiAgfTtcblxuICBzdGF0aWMgQXV0b2NvbXBsZXRlOiB0eXBlb2YgQXV0b2NvbXBsZXRlID0gQXV0b2NvbXBsZXRlO1xuICBzdGF0aWMgVGFiczogdHlwZW9mIFRhYnMgPSBUYWJzO1xuICBzdGF0aWMgQ2Fyb3VzZWw6IHR5cGVvZiBDYXJvdXNlbCA9IENhcm91c2VsO1xuICBzdGF0aWMgRHJvcGRvd246IHR5cGVvZiBEcm9wZG93biA9IERyb3Bkb3duO1xuICBzdGF0aWMgRmxvYXRpbmdBY3Rpb25CdXR0b246IHR5cGVvZiBGbG9hdGluZ0FjdGlvbkJ1dHRvbiA9IEZsb2F0aW5nQWN0aW9uQnV0dG9uO1xuICBzdGF0aWMgQ2hpcHM6IHR5cGVvZiBDaGlwcyA9IENoaXBzO1xuICBzdGF0aWMgQ29sbGFwc2libGU6IHR5cGVvZiBDb2xsYXBzaWJsZSA9IENvbGxhcHNpYmxlO1xuICBzdGF0aWMgRGF0ZXBpY2tlcjogdHlwZW9mIERhdGVwaWNrZXIgPSBEYXRlcGlja2VyO1xuICBzdGF0aWMgQ2hhcmFjdGVyQ291bnRlcjogdHlwZW9mIENoYXJhY3RlckNvdW50ZXIgPSBDaGFyYWN0ZXJDb3VudGVyO1xuICBzdGF0aWMgRm9ybVNlbGVjdDogdHlwZW9mIEZvcm1TZWxlY3QgPSBGb3JtU2VsZWN0O1xuICBzdGF0aWMgTW9kYWw6IHR5cGVvZiBNb2RhbCA9IE1vZGFsO1xuICBzdGF0aWMgUHVzaHBpbjogdHlwZW9mIFB1c2hwaW4gPSBQdXNocGluO1xuICBzdGF0aWMgTWF0ZXJpYWxib3g6IHR5cGVvZiBNYXRlcmlhbGJveCA9IE1hdGVyaWFsYm94O1xuICBzdGF0aWMgUGFyYWxsYXg6IHR5cGVvZiBQYXJhbGxheCA9IFBhcmFsbGF4O1xuICBzdGF0aWMgU2xpZGVyOiB0eXBlb2YgU2xpZGVyID0gU2xpZGVyO1xuICBzdGF0aWMgVGltZXBpY2tlcjogdHlwZW9mIFRpbWVwaWNrZXIgPSBUaW1lcGlja2VyO1xuICBzdGF0aWMgdG9hc3Q6IChvcHQ6IGFueSkgPT4gVG9hc3QgPSAob3B0KSA9PiBuZXcgVG9hc3Qob3B0KSA7XG4gIHN0YXRpYyBUb29sdGlwOiB0eXBlb2YgVG9vbHRpcCA9IFRvb2x0aXA7XG4gIHN0YXRpYyBTaWRlbmF2OiB0eXBlb2YgU2lkZW5hdiA9IFNpZGVuYXY7XG4gIHN0YXRpYyBUYXBUYXJnZXQ6IHR5cGVvZiBUYXBUYXJnZXQgPSBUYXBUYXJnZXQ7XG4gIHN0YXRpYyBTY3JvbGxTcHk6IHR5cGVvZiBTY3JvbGxTcHkgPSBTY3JvbGxTcHk7XG4gIHN0YXRpYyBSYW5nZTogdHlwZW9mIFJhbmdlID0gUmFuZ2U7XG4gIHN0YXRpYyBXYXZlczogdHlwZW9mIFdhdmVzID0gV2F2ZXM7XG5cbiAgc3RhdGljIHRhYlByZXNzZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgc3RhdGljIGtleURvd246IGJvb2xlYW4gPSBmYWxzZTtcblxuICBzdGF0aWMgZG9jSGFuZGxlS2V5ZG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgTS5rZXlEb3duID0gdHJ1ZTtcbiAgICBpZiAoWy4uLk0ua2V5cy5UQUIsIC4uLk0ua2V5cy5BUlJPV19ET1dOLCAuLi5NLmtleXMuQVJST1dfVVBdLmluY2x1ZGVzKGUua2V5KSkge1xuICAgICAgTS50YWJQcmVzc2VkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZG9jSGFuZGxlS2V5dXAoZTogS2V5Ym9hcmRFdmVudCkge1xuICAgIE0ua2V5RG93biA9IGZhbHNlO1xuICAgIGlmIChbLi4uTS5rZXlzLlRBQiwgLi4uTS5rZXlzLkFSUk9XX0RPV04sIC4uLk0ua2V5cy5BUlJPV19VUF0uaW5jbHVkZXMoZS5rZXkpKSB7XG4gICAgICBNLnRhYlByZXNzZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZG9jSGFuZGxlRm9jdXMoZSkge1xuICAgIGlmIChNLmtleURvd24pIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgna2V5Ym9hcmQtZm9jdXNlZCcpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBkb2NIYW5kbGVCbHVyKGUpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2tleWJvYXJkLWZvY3VzZWQnKTtcbiAgfVxuXG4gIHN0YXRpYyB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuZG9jSGFuZGxlS2V5ZG93biwgdHJ1ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmRvY0hhbmRsZUtleXVwLCB0cnVlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuZG9jSGFuZGxlRm9jdXMsIHRydWUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLmRvY0hhbmRsZUJsdXIsIHRydWUpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoVGFicywgJ3RhYnMnLCAnTV9UYWJzJyk7XG4gICAgdGhpcy5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihDYXJvdXNlbCwgJ2Nhcm91c2VsJywgJ01fQ2Fyb3VzZWwnKTtcbiAgICB0aGlzLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKEF1dG9jb21wbGV0ZSwgJ2F1dG9jb21wbGV0ZScsICdNX0F1dG9jb21wbGV0ZScpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoRHJvcGRvd24sICdkcm9wZG93bicsICdNX0Ryb3Bkb3duJyk7XG4gICAgdGhpcy5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihGbG9hdGluZ0FjdGlvbkJ1dHRvbiwgJ2Zsb2F0aW5nQWN0aW9uQnV0dG9uJywgJ01fRmxvYXRpbmdBY3Rpb25CdXR0b24nKTtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKENvbGxhcHNpYmxlLCAnY29sbGFwc2libGUnLCAnTV9Db2xsYXBzaWJsZScpO1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoQ2hhcmFjdGVyQ291bnRlciwgJ2NoYXJhY3RlckNvdW50ZXInLCAnTV9DaGFyYWN0ZXJDb3VudGVyJyk7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihEYXRlcGlja2VyLCAnZGF0ZXBpY2tlcicsICdNX0RhdGVwaWNrZXInKTtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKEZvcm1TZWxlY3QsICdmb3JtU2VsZWN0JywgJ01fRm9ybVNlbGVjdCcpO1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoTW9kYWwsICdtb2RhbCcsICdNX01vZGFsJyk7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihQdXNocGluLCAncHVzaHBpbicsICdNX1B1c2hwaW4nKTtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKE1hdGVyaWFsYm94LCAnbWF0ZXJpYWxib3gnLCAnTV9NYXRlcmlhbGJveCcpO1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoUGFyYWxsYXgsICdwYXJhbGxheCcsICdNX1BhcmFsbGF4Jyk7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihTbGlkZXIsICdzbGlkZXInLCAnTV9TbGlkZXInKTtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFRpbWVwaWNrZXIsICd0aW1lcGlja2VyJywgJ01fVGltZXBpY2tlcicpO1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoVG9vbHRpcCwgJ3Rvb2x0aXAnLCAnTV9Ub29sdGlwJyk7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihUYXBUYXJnZXQsICd0YXBUYXJnZXQnLCAnTV9UYXBUYXJnZXQnKTtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKFNpZGVuYXYsICdzaWRlbmF2JywgJ01fU2lkZW5hdicpO1xuICAgIE0uaW5pdGlhbGl6ZUpxdWVyeVdyYXBwZXIoU2Nyb2xsU3B5LCAnc2Nyb2xsU3B5JywgJ01fU2Nyb2xsU3B5Jyk7XG4gICAgTS5pbml0aWFsaXplSnF1ZXJ5V3JhcHBlcihSYW5nZSwgJ3JhbmdlJywgJ01fUmFuZ2UnKTtcbiAgICBNLmluaXRpYWxpemVKcXVlcnlXcmFwcGVyKENoaXBzLCAnY2hpcHMnLCAnTV9DaGlwcycpO1xuICAgIENhcmRzLkluaXQoKTtcbiAgICBGb3Jtcy5Jbml0KCk7XG4gICAgQ2hpcHMuSW5pdCgpO1xuICAgIFdhdmVzLkluaXQoKTtcbiAgICBSYW5nZS5Jbml0KCk7XG4gIH1cblxuICAvLy0tLSBUT0RPOiBSZW1vdmUhXG4gIHN0YXRpYyBqUXVlcnlMb2FkZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhKDxhbnk+d2luZG93KS5qUXVlcnk7XG4gIH1cbiAgc3RhdGljIGluaXRpYWxpemVKcXVlcnlXcmFwcGVyKHBsdWdpbjogYW55LCBwbHVnaW5OYW1lOiBzdHJpbmcsIGNsYXNzUmVmOiBzdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMualF1ZXJ5TG9hZGVkKCkpXG4gICAgICByZXR1cm47XG4gICAgdmFyIGpxID0gKDxhbnk+d2luZG93KS5qUXVlcnk7XG5cbiAgICBqcS5mbltwbHVnaW5OYW1lXSA9IGZ1bmN0aW9uKG1ldGhvZE9yT3B0aW9ucykge1xuICAgICAgLy8gQ2FsbCBwbHVnaW4gbWV0aG9kIGlmIHZhbGlkIG1ldGhvZCBuYW1lIGlzIHBhc3NlZCBpblxuICAgICAgaWYgKHBsdWdpbi5wcm90b3R5cGVbbWV0aG9kT3JPcHRpb25zXSkge1xuICAgICAgICBsZXQgcGFyYW1zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgLy8gR2V0dGVyIG1ldGhvZHNcbiAgICAgICAgaWYgKG1ldGhvZE9yT3B0aW9ucy5zbGljZSgwLCAzKSA9PT0gJ2dldCcpIHtcbiAgICAgICAgICBsZXQgaW5zdGFuY2UgPSB0aGlzLmZpcnN0KClbMF1bY2xhc3NSZWZdO1xuICAgICAgICAgIHJldHVybiBpbnN0YW5jZVttZXRob2RPck9wdGlvbnNdLmFwcGx5KGluc3RhbmNlLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFZvaWQgbWV0aG9kc1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGxldCBpbnN0YW5jZSA9IHRoaXNbY2xhc3NSZWZdO1xuICAgICAgICAgIGluc3RhbmNlW21ldGhvZE9yT3B0aW9uc10uYXBwbHkoaW5zdGFuY2UsIHBhcmFtcyk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBJbml0aWFsaXplIHBsdWdpbiBpZiBvcHRpb25zIG9yIG5vIGFyZ3VtZW50IGlzIHBhc3NlZCBpblxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWV0aG9kT3JPcHRpb25zID09PSAnb2JqZWN0JyB8fCAhbWV0aG9kT3JPcHRpb25zKSB7XG4gICAgICAgIHBsdWdpbi5pbml0KHRoaXMsIGFyZ3VtZW50c1swXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgLy8gUmV0dXJuIGVycm9yIGlmIGFuIHVucmVjb2duaXplZCAgbWV0aG9kIG5hbWUgaXMgcGFzc2VkIGluXG4gICAgICBqcS5lcnJvcihgTWV0aG9kICR7bWV0aG9kT3JPcHRpb25zfSBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkuJHtwbHVnaW5OYW1lfWApO1xuICAgIH07XG4gIH1cbiAgLy8tLS1cblxuICBzdGF0aWMgQXV0b0luaXQoY29udGV4dDpFbGVtZW50ID0gbnVsbCkge1xuICAgIGxldCByb290ID0gISFjb250ZXh0ID8gY29udGV4dCA6IGRvY3VtZW50LmJvZHk7XG4gICAgbGV0IHJlZ2lzdHJ5ID0ge1xuICAgICAgQXV0b2NvbXBsZXRlOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hdXRvY29tcGxldGU6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICAgIENhcm91c2VsOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgQ2hpcHM6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmNoaXBzOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBDb2xsYXBzaWJsZTogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuY29sbGFwc2libGU6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICAgIERhdGVwaWNrZXI6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmRhdGVwaWNrZXI6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICAgIERyb3Bkb3duOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wZG93bi10cmlnZ2VyOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBNYXRlcmlhbGJveDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcubWF0ZXJpYWxib3hlZDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgTW9kYWw6IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBQYXJhbGxheDogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcucGFyYWxsYXg6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICAgIFB1c2hwaW46IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLnB1c2hwaW46bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICAgIFNjcm9sbFNweTogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuc2Nyb2xsc3B5Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBGb3JtU2VsZWN0OiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlbGVjdDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgU2lkZW5hdjogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuc2lkZW5hdjpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgVGFiczogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiczpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgVGFwVGFyZ2V0OiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXAtdGFyZ2V0Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBUaW1lcGlja2VyOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy50aW1lcGlja2VyOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBUb29sdGlwOiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b29sdGlwcGVkOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBGbG9hdGluZ0FjdGlvbkJ1dHRvbjogcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuZml4ZWQtYWN0aW9uLWJ0bjpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgIH07XG4gICAgTS5BdXRvY29tcGxldGUuaW5pdChyZWdpc3RyeS5BdXRvY29tcGxldGUsIG51bGwpO1xuICAgIE0uQ2Fyb3VzZWwuaW5pdChyZWdpc3RyeS5DYXJvdXNlbCwgbnVsbCk7XG4gICAgTS5DaGlwcy5pbml0KHJlZ2lzdHJ5LkNoaXBzLCBudWxsKTtcbiAgICBNLkNvbGxhcHNpYmxlLmluaXQocmVnaXN0cnkuQ29sbGFwc2libGUsIG51bGwpO1xuICAgIE0uRGF0ZXBpY2tlci5pbml0KHJlZ2lzdHJ5LkRhdGVwaWNrZXIsIG51bGwpO1xuICAgIE0uRHJvcGRvd24uaW5pdChyZWdpc3RyeS5Ecm9wZG93biwgbnVsbCk7XG4gICAgTS5NYXRlcmlhbGJveC5pbml0KHJlZ2lzdHJ5Lk1hdGVyaWFsYm94LCBudWxsKTtcbiAgICBNLk1vZGFsLmluaXQocmVnaXN0cnkuTW9kYWwsIG51bGwpO1xuICAgIE0uUGFyYWxsYXguaW5pdChyZWdpc3RyeS5QYXJhbGxheCwgbnVsbCk7XG4gICAgTS5QdXNocGluLmluaXQocmVnaXN0cnkuUHVzaHBpbiwgbnVsbCk7XG4gICAgTS5TY3JvbGxTcHkuaW5pdChyZWdpc3RyeS5TY3JvbGxTcHksIG51bGwpO1xuICAgIE0uRm9ybVNlbGVjdC5pbml0KHJlZ2lzdHJ5LkZvcm1TZWxlY3QsIG51bGwpO1xuICAgIE0uU2lkZW5hdi5pbml0KHJlZ2lzdHJ5LlNpZGVuYXYsIG51bGwpO1xuICAgIE0uVGFicy5pbml0KHJlZ2lzdHJ5LlRhYnMsIG51bGwpO1xuICAgIE0uVGFwVGFyZ2V0LmluaXQocmVnaXN0cnkuVGFwVGFyZ2V0LCBudWxsKTtcbiAgICBNLlRpbWVwaWNrZXIuaW5pdChyZWdpc3RyeS5UaW1lcGlja2VyLCBudWxsKTtcbiAgICBNLlRvb2x0aXAuaW5pdChyZWdpc3RyeS5Ub29sdGlwLCBudWxsKTtcbiAgICBNLkZsb2F0aW5nQWN0aW9uQnV0dG9uLmluaXQocmVnaXN0cnkuRmxvYXRpbmdBY3Rpb25CdXR0b24sIG51bGwpO1xuICB9XG5cbiAgc3RhdGljIG9iamVjdFNlbGVjdG9yU3RyaW5nKG9iajogYW55KTogc3RyaW5nIHtcbiAgICBsZXQgdGFnU3RyID0gb2JqLnByb3AoJ3RhZ05hbWUnKSB8fCAnJztcbiAgICBsZXQgaWRTdHIgPSBvYmouYXR0cignaWQnKSB8fCAnJztcbiAgICBsZXQgY2xhc3NTdHIgPSBvYmouYXR0cignY2xhc3MnKSB8fCAnJztcbiAgICByZXR1cm4gKHRhZ1N0ciArIGlkU3RyICsgY2xhc3NTdHIpLnJlcGxhY2UoL1xccy9nLCAnJyk7XG4gIH1cblxuICBzdGF0aWMgZ3VpZCgpOiBzdHJpbmcge1xuICAgIGZ1bmN0aW9uIHM0KCk6c3RyaW5nIHtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKVxuICAgICAgICAudG9TdHJpbmcoMTYpXG4gICAgICAgIC5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIHJldHVybiBzNCgpICsgczQoKSArICctJyArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArIHM0KCkgKyBzNCgpICsgczQoKTtcbiAgfVxuXG4gIHN0YXRpYyBjaGVja1dpdGhpbkNvbnRhaW5lcihjb250YWluZXI6IEVsZW1lbnQsIGJvdW5kaW5nOiBCb3VuZGluZywgb2Zmc2V0OiBudW1iZXIpOiBFZGdlcyB7XG4gICAgbGV0IGVkZ2VzID0ge1xuICAgICAgdG9wOiBmYWxzZSxcbiAgICAgIHJpZ2h0OiBmYWxzZSxcbiAgICAgIGJvdHRvbTogZmFsc2UsXG4gICAgICBsZWZ0OiBmYWxzZVxuICAgIH07XG5cbiAgICBsZXQgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvLyBJZiBib2R5IGVsZW1lbnQgaXMgc21hbGxlciB0aGFuIHZpZXdwb3J0LCB1c2Ugdmlld3BvcnQgaGVpZ2h0IGluc3RlYWQuXG4gICAgbGV0IGNvbnRhaW5lckJvdHRvbSA9XG4gICAgICBjb250YWluZXIgPT09IGRvY3VtZW50LmJvZHlcbiAgICAgICAgPyBNYXRoLm1heChjb250YWluZXJSZWN0LmJvdHRvbSwgd2luZG93LmlubmVySGVpZ2h0KVxuICAgICAgICA6IGNvbnRhaW5lclJlY3QuYm90dG9tO1xuXG4gICAgbGV0IHNjcm9sbExlZnQgPSBjb250YWluZXIuc2Nyb2xsTGVmdDtcbiAgICBsZXQgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDtcblxuICAgIGxldCBzY3JvbGxlZFggPSBib3VuZGluZy5sZWZ0IC0gc2Nyb2xsTGVmdDtcbiAgICBsZXQgc2Nyb2xsZWRZID0gYm91bmRpbmcudG9wIC0gc2Nyb2xsVG9wO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIGVhY2ggZWRnZVxuICAgIGlmIChzY3JvbGxlZFggPCBjb250YWluZXJSZWN0LmxlZnQgKyBvZmZzZXQgfHwgc2Nyb2xsZWRYIDwgb2Zmc2V0KSB7XG4gICAgICBlZGdlcy5sZWZ0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBzY3JvbGxlZFggKyBib3VuZGluZy53aWR0aCA+IGNvbnRhaW5lclJlY3QucmlnaHQgLSBvZmZzZXQgfHxcbiAgICAgIHNjcm9sbGVkWCArIGJvdW5kaW5nLndpZHRoID4gd2luZG93LmlubmVyV2lkdGggLSBvZmZzZXRcbiAgICApIHtcbiAgICAgIGVkZ2VzLnJpZ2h0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoc2Nyb2xsZWRZIDwgY29udGFpbmVyUmVjdC50b3AgKyBvZmZzZXQgfHwgc2Nyb2xsZWRZIDwgb2Zmc2V0KSB7XG4gICAgICBlZGdlcy50b3AgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHNjcm9sbGVkWSArIGJvdW5kaW5nLmhlaWdodCA+IGNvbnRhaW5lckJvdHRvbSAtIG9mZnNldCB8fFxuICAgICAgc2Nyb2xsZWRZICsgYm91bmRpbmcuaGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0IC0gb2Zmc2V0XG4gICAgKSB7XG4gICAgICBlZGdlcy5ib3R0b20gPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBlZGdlcztcbiAgfVxuXG4gIHN0YXRpYyBjaGVja1Bvc3NpYmxlQWxpZ25tZW50cyhlbCwgY29udGFpbmVyLCBib3VuZGluZywgb2Zmc2V0KSB7XG4gICAgbGV0IGNhbkFsaWduID0ge1xuICAgICAgdG9wOiB0cnVlLFxuICAgICAgcmlnaHQ6IHRydWUsXG4gICAgICBib3R0b206IHRydWUsXG4gICAgICBsZWZ0OiB0cnVlLFxuICAgICAgc3BhY2VPblRvcDogbnVsbCxcbiAgICAgIHNwYWNlT25SaWdodDogbnVsbCxcbiAgICAgIHNwYWNlT25Cb3R0b206IG51bGwsXG4gICAgICBzcGFjZU9uTGVmdDogbnVsbFxuICAgIH07XG5cbiAgICBsZXQgY29udGFpbmVyQWxsb3dzT3ZlcmZsb3cgPSBnZXRDb21wdXRlZFN0eWxlKGNvbnRhaW5lcikub3ZlcmZsb3cgPT09ICd2aXNpYmxlJztcbiAgICBsZXQgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgY29udGFpbmVySGVpZ2h0ID0gTWF0aC5taW4oY29udGFpbmVyUmVjdC5oZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgbGV0IGNvbnRhaW5lcldpZHRoID0gTWF0aC5taW4oY29udGFpbmVyUmVjdC53aWR0aCwgd2luZG93LmlubmVyV2lkdGgpO1xuICAgIGxldCBlbE9mZnNldFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGxldCBzY3JvbGxMZWZ0ID0gY29udGFpbmVyLnNjcm9sbExlZnQ7XG4gICAgbGV0IHNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XG5cbiAgICBsZXQgc2Nyb2xsZWRYID0gYm91bmRpbmcubGVmdCAtIHNjcm9sbExlZnQ7XG4gICAgbGV0IHNjcm9sbGVkWVRvcEVkZ2UgPSBib3VuZGluZy50b3AgLSBzY3JvbGxUb3A7XG4gICAgbGV0IHNjcm9sbGVkWUJvdHRvbUVkZ2UgPSBib3VuZGluZy50b3AgKyBlbE9mZnNldFJlY3QuaGVpZ2h0IC0gc2Nyb2xsVG9wO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIGxlZnRcbiAgICBjYW5BbGlnbi5zcGFjZU9uUmlnaHQgPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3dcbiAgICAgID8gY29udGFpbmVyV2lkdGggLSAoc2Nyb2xsZWRYICsgYm91bmRpbmcud2lkdGgpXG4gICAgICA6IHdpbmRvdy5pbm5lcldpZHRoIC0gKGVsT2Zmc2V0UmVjdC5sZWZ0ICsgYm91bmRpbmcud2lkdGgpO1xuICAgIGlmIChjYW5BbGlnbi5zcGFjZU9uUmlnaHQgPCAwKSB7XG4gICAgICBjYW5BbGlnbi5sZWZ0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIFJpZ2h0XG4gICAgY2FuQWxpZ24uc3BhY2VPbkxlZnQgPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3dcbiAgICAgID8gc2Nyb2xsZWRYIC0gYm91bmRpbmcud2lkdGggKyBlbE9mZnNldFJlY3Qud2lkdGhcbiAgICAgIDogZWxPZmZzZXRSZWN0LnJpZ2h0IC0gYm91bmRpbmcud2lkdGg7XG4gICAgaWYgKGNhbkFsaWduLnNwYWNlT25MZWZ0IDwgMCkge1xuICAgICAgY2FuQWxpZ24ucmlnaHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgVG9wXG4gICAgY2FuQWxpZ24uc3BhY2VPbkJvdHRvbSA9ICFjb250YWluZXJBbGxvd3NPdmVyZmxvd1xuICAgICAgPyBjb250YWluZXJIZWlnaHQgLSAoc2Nyb2xsZWRZVG9wRWRnZSArIGJvdW5kaW5nLmhlaWdodCArIG9mZnNldClcbiAgICAgIDogd2luZG93LmlubmVySGVpZ2h0IC0gKGVsT2Zmc2V0UmVjdC50b3AgKyBib3VuZGluZy5oZWlnaHQgKyBvZmZzZXQpO1xuICAgIGlmIChjYW5BbGlnbi5zcGFjZU9uQm90dG9tIDwgMCkge1xuICAgICAgY2FuQWxpZ24udG9wID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIEJvdHRvbVxuICAgIGNhbkFsaWduLnNwYWNlT25Ub3AgPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3dcbiAgICAgID8gc2Nyb2xsZWRZQm90dG9tRWRnZSAtIChib3VuZGluZy5oZWlnaHQgLSBvZmZzZXQpXG4gICAgICA6IGVsT2Zmc2V0UmVjdC5ib3R0b20gLSAoYm91bmRpbmcuaGVpZ2h0ICsgb2Zmc2V0KTtcbiAgICBpZiAoY2FuQWxpZ24uc3BhY2VPblRvcCA8IDApIHtcbiAgICAgIGNhbkFsaWduLmJvdHRvbSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBjYW5BbGlnbjtcbiAgfVxuXG4gIHN0YXRpYyBnZXRPdmVyZmxvd1BhcmVudChlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChlbGVtZW50ID09PSBkb2N1bWVudC5ib2R5IHx8IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkub3ZlcmZsb3cgIT09ICd2aXNpYmxlJykge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdldE92ZXJmbG93UGFyZW50KGVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SWRGcm9tVHJpZ2dlcih0cmlnZ2VyOiBFbGVtZW50KTogc3RyaW5nIHtcbiAgICBsZXQgaWQgPSB0cmlnZ2VyLmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKTtcbiAgICBpZiAoIWlkKSB7XG4gICAgICBpZCA9IHRyaWdnZXIuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICBpZiAoaWQpIHtcbiAgICAgICAgaWQgPSBpZC5zbGljZSgxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkID0gJyc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpZDtcbiAgfVxuXG4gIHN0YXRpYyBnZXREb2N1bWVudFNjcm9sbFRvcCgpOiBudW1iZXIge1xuICAgIHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwO1xuICB9O1xuXG4gIHN0YXRpYyBnZXREb2N1bWVudFNjcm9sbExlZnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCB8fCAwO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zID0gbnVsbCkge1xuICAgIGxldCBjb250ZXh0LCBhcmdzLCByZXN1bHQ7XG4gICAgbGV0IHRpbWVvdXQgPSBudWxsO1xuICAgIGxldCBwcmV2aW91cyA9IDA7XG4gICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcbiAgICBsZXQgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIGlmICghcHJldmlvdXMgJiYgb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSkgcHJldmlvdXMgPSBub3c7XG4gICAgICBsZXQgcmVtYWluaW5nID0gd2FpdCAtIChub3cgLSBwcmV2aW91cyk7XG4gICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICBpZiAocmVtYWluaW5nIDw9IDApIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQgJiYgb3B0aW9ucy50cmFpbGluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/global.ts\n");

/***/ }),

/***/ "./src/materialbox.ts":
/*!****************************!*\
  !*** ./src/materialbox.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Materialbox = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst _defaults = {\n    inDuration: 275,\n    outDuration: 200,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null\n};\nclass Materialbox extends component_1.Component {\n    constructor(el, options) {\n        super(Materialbox, el, options);\n        this._handleMaterialboxClick = () => {\n            // If already modal, return to original\n            if (this.doneAnimating === false || (this.overlayActive && this.doneAnimating))\n                this.close();\n            else\n                this.open();\n        };\n        this._handleWindowScroll = () => {\n            if (this.overlayActive)\n                this.close();\n        };\n        this._handleWindowResize = () => {\n            if (this.overlayActive)\n                this.close();\n        };\n        this._handleWindowEscape = (e) => {\n            if (global_1.M.keys.ESC.includes(e.key) && this.doneAnimating && this.overlayActive)\n                this.close();\n        };\n        this.el.M_Materialbox = this;\n        this.options = Object.assign(Object.assign({}, Materialbox.defaults), options);\n        this.overlayActive = false;\n        this.doneAnimating = true;\n        this.placeholder = document.createElement('div');\n        this.placeholder.classList.add('material-placeholder');\n        this.originalWidth = 0;\n        this.originalHeight = 0;\n        this.originInlineStyles = this.el.getAttribute('style');\n        this.caption = this.el.getAttribute('data-caption') || '';\n        // Wrap\n        this.el.before(this.placeholder);\n        this.placeholder.append(this.el);\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Materialbox;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Materialbox = undefined;\n        // Unwrap image\n        //this.placeholder.after(this.el).remove();\n        this.placeholder.remove();\n        this.el.removeAttribute('style');\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleMaterialboxClick);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleMaterialboxClick);\n    }\n    _makeAncestorsOverflowVisible() {\n        this._changedAncestorList = [];\n        let ancestor = this.placeholder.parentNode;\n        while (ancestor !== null && ancestor !== document) {\n            const curr = ancestor;\n            if (curr.style.overflow !== 'visible') {\n                curr.style.overflow = 'visible';\n                this._changedAncestorList.push(curr);\n            }\n            ancestor = ancestor.parentNode;\n        }\n    }\n    _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    _animateImageIn() {\n        this.el.style.maxHeight = this.newHeight.toString() + 'px';\n        this.el.style.maxWidth = this.newWidth.toString() + 'px';\n        const animOptions = {\n            targets: this.el,\n            height: [this.originalHeight, this.newHeight],\n            width: [this.originalWidth, this.newWidth],\n            left: global_1.M.getDocumentScrollLeft() +\n                this.windowWidth / 2 -\n                this._offset(this.placeholder).left -\n                this.newWidth / 2,\n            top: global_1.M.getDocumentScrollTop() +\n                this.windowHeight / 2 -\n                this._offset(this.placeholder).top -\n                this.newHeight / 2,\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this.doneAnimating = true;\n                // onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el);\n                }\n            }\n        };\n        // Override max-width or max-height if needed\n        //const elStyle = this.el.style;\n        //console.log('mh', elStyle.maxHeight, '->', this.newHeight);\n        //console.log('mw', elStyle.maxWidth, '->', this.newWidth);\n        //if (elStyle.maxWidth !== 'none') animOptions.maxWidth = this.newWidth;\n        //if (elStyle.maxHeight !== 'none') animOptions.maxHeight = this.newHeight;\n        //console.log('>>> animate');\n        //console.log(JSON.stringify(animOptions));\n        (0, animejs_1.default)(animOptions);\n    }\n    _animateImageOut() {\n        const animOptions = {\n            targets: this.el,\n            width: this.originalWidth,\n            height: this.originalHeight,\n            left: 0,\n            top: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this.placeholder.style.height = '';\n                this.placeholder.style.width = '';\n                this.placeholder.style.position = '';\n                this.placeholder.style.top = '';\n                this.placeholder.style.left = '';\n                // Revert to width or height attribute\n                if (this.attrWidth)\n                    this.el.setAttribute('width', this.attrWidth.toString());\n                if (this.attrHeight)\n                    this.el.setAttribute('height', this.attrHeight.toString());\n                this.el.removeAttribute('style');\n                this.originInlineStyles && this.el.setAttribute('style', this.originInlineStyles);\n                // Remove class\n                this.el.classList.remove('active');\n                this.doneAnimating = true;\n                // Remove overflow overrides on ancestors\n                this._changedAncestorList.forEach(anchestor => anchestor.style.overflow = '');\n                // onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        };\n        (0, animejs_1.default)(animOptions);\n    }\n    _updateVars() {\n        this.windowWidth = window.innerWidth;\n        this.windowHeight = window.innerHeight;\n        this.caption = this.el.getAttribute('data-caption') || '';\n    }\n    open() {\n        this._updateVars();\n        this.originalWidth = this.el.getBoundingClientRect().width;\n        this.originalHeight = this.el.getBoundingClientRect().height;\n        // Set states\n        this.doneAnimating = false;\n        this.el.classList.add('active');\n        this.overlayActive = true;\n        // onOpenStart callback\n        if (typeof this.options.onOpenStart === 'function') {\n            this.options.onOpenStart.call(this, this.el);\n        }\n        // Set positioning for placeholder\n        this.placeholder.style.width = this.placeholder.getBoundingClientRect().width + 'px';\n        this.placeholder.style.height = this.placeholder.getBoundingClientRect().height + 'px';\n        this.placeholder.style.position = 'relative';\n        this.placeholder.style.top = '0';\n        this.placeholder.style.left = '0';\n        this._makeAncestorsOverflowVisible();\n        // Set css on origin\n        this.el.style.position = 'absolute';\n        this.el.style.zIndex = '1000';\n        this.el.style.willChange = 'left, top, width, height';\n        // Change from width or height attribute to css\n        this.attrWidth = this.el.getAttribute('width');\n        this.attrHeight = this.el.getAttribute('height');\n        if (this.attrWidth) {\n            this.el.style.width = this.attrWidth + 'px';\n            this.el.removeAttribute('width');\n        }\n        if (this.attrHeight) {\n            this.el.style.width = this.attrHeight + 'px';\n            this.el.removeAttribute('height');\n        }\n        // Add overlay\n        this._overlay = document.createElement('div');\n        this._overlay.id = 'materialbox-overlay';\n        this._overlay.style.opacity = '0';\n        this._overlay.addEventListener('click', e => {\n            if (this.doneAnimating)\n                this.close();\n        }, { once: true });\n        // Put before in origin image to preserve z-index layering.\n        this.el.before(this._overlay);\n        // Set dimensions if needed\n        const overlayOffset = this._overlay.getBoundingClientRect();\n        this._overlay.style.width = this.windowWidth + 'px';\n        this._overlay.style.height = this.windowHeight + 'px';\n        this._overlay.style.left = -1 * overlayOffset.left + 'px';\n        this._overlay.style.top = -1 * overlayOffset.top + 'px';\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this._overlay);\n        // Animate Overlay\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: 1,\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad'\n        });\n        // Add and animate caption if it exists\n        if (this.caption !== '') {\n            if (this._photoCaption)\n                animejs_1.default.remove(this._photoCaption);\n            this._photoCaption = document.createElement('div');\n            this._photoCaption.classList.add('materialbox-caption');\n            this._photoCaption.innerText = this.caption;\n            document.body.append(this._photoCaption);\n            this._photoCaption.style.display = 'inline';\n            (0, animejs_1.default)({\n                targets: this._photoCaption,\n                opacity: 1,\n                duration: this.options.inDuration,\n                easing: 'easeOutQuad'\n            });\n        }\n        // Resize Image\n        const widthPercent = this.originalWidth / this.windowWidth;\n        const heightPercent = this.originalHeight / this.windowHeight;\n        this.newWidth = 0;\n        this.newHeight = 0;\n        if (widthPercent > heightPercent) {\n            // Width first\n            const ratio = this.originalHeight / this.originalWidth;\n            this.newWidth = this.windowWidth * 0.9;\n            this.newHeight = this.windowWidth * 0.9 * ratio;\n        }\n        else {\n            // Height first\n            const ratio = this.originalWidth / this.originalHeight;\n            this.newWidth = this.windowHeight * 0.9 * ratio;\n            this.newHeight = this.windowHeight * 0.9;\n        }\n        this._animateImageIn();\n        // Handle Exit triggers\n        window.addEventListener('scroll', this._handleWindowScroll);\n        window.addEventListener('resize', this._handleWindowResize);\n        window.addEventListener('keyup', this._handleWindowEscape);\n    }\n    close() {\n        this._updateVars();\n        this.doneAnimating = false;\n        // onCloseStart callback\n        if (typeof this.options.onCloseStart === 'function') {\n            this.options.onCloseStart.call(this, this.el);\n        }\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this._overlay);\n        if (this.caption !== '')\n            animejs_1.default.remove(this._photoCaption);\n        // disable exit handlers\n        window.removeEventListener('scroll', this._handleWindowScroll);\n        window.removeEventListener('resize', this._handleWindowResize);\n        window.removeEventListener('keyup', this._handleWindowEscape);\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this.overlayActive = false;\n                this._overlay.remove();\n            }\n        });\n        this._animateImageOut();\n        // Remove Caption + reset css settings on image\n        if (this.caption !== '') {\n            (0, animejs_1.default)({\n                targets: this._photoCaption,\n                opacity: 0,\n                duration: this.options.outDuration,\n                easing: 'easeOutQuad',\n                complete: () => {\n                    this._photoCaption.remove();\n                }\n            });\n        }\n    }\n}\nexports.Materialbox = Materialbox;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SCxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUN4QiwrQ0FBK0M7UUFDL0MsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLEVBQUUsRUFBRTtZQUN2QixxQkFBSSxFQUFDO2dCQUNILE9BQU8sRUFBRSxJQUFJLENBQUMsYUFBYTtnQkFDM0IsT0FBTyxFQUFFLENBQUM7Z0JBQ1YsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVztnQkFDbEMsTUFBTSxFQUFFLGFBQWE7Z0JBQ3JCLFFBQVEsRUFBRSxHQUFHLEVBQUU7b0JBQ2IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDOUIsQ0FBQzthQUNGLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQztDQUNGO0FBclVELGtDQXFVQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9tYXRlcmlhbGJveC50cz85N2Y1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcblxuY29uc3QgX2RlZmF1bHRzID0ge1xuICBpbkR1cmF0aW9uOiAyNzUsXG4gIG91dER1cmF0aW9uOiAyMDAsXG4gIG9uT3BlblN0YXJ0OiBudWxsLFxuICBvbk9wZW5FbmQ6IG51bGwsXG4gIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgb25DbG9zZUVuZDogbnVsbFxufTtcblxuZXhwb3J0IGNsYXNzIE1hdGVyaWFsYm94IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgZWw6IEhUTUxFbGVtZW50O1xuICBvdmVybGF5QWN0aXZlOiBib29sZWFuO1xuICBkb25lQW5pbWF0aW5nOiBib29sZWFuO1xuICBjYXB0aW9uOiBzdHJpbmc7XG4gIG9yaWdpbmFsV2lkdGg6IG51bWJlcjtcbiAgb3JpZ2luYWxIZWlnaHQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBvcmlnaW5JbmxpbmVTdHlsZXM6IHN0cmluZztcbiAgcHJpdmF0ZSBwbGFjZWhvbGRlcjogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgX2NoYW5nZWRBbmNlc3Rvckxpc3Q6IEhUTUxFbGVtZW50W107XG4gIHByaXZhdGUgbmV3SGVpZ2h0OiBudW1iZXI7XG4gIHByaXZhdGUgbmV3V2lkdGg6IG51bWJlcjtcbiAgcHJpdmF0ZSB3aW5kb3dXaWR0aDogbnVtYmVyO1xuICBwcml2YXRlIHdpbmRvd0hlaWdodDogbnVtYmVyO1xuICBwcml2YXRlIGF0dHJXaWR0aDogc3RyaW5nO1xuICBwcml2YXRlIGF0dHJIZWlnaHQ6IHN0cmluZztcbiAgcHJpdmF0ZSBfb3ZlcmxheTogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgX3Bob3RvQ2FwdGlvbjogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihNYXRlcmlhbGJveCwgZWwsIG9wdGlvbnMpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9NYXRlcmlhbGJveCA9IHRoaXM7XG4gICAgdGhpcy5vcHRpb25zID0gey4uLk1hdGVyaWFsYm94LmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICB0aGlzLm92ZXJsYXlBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLmRvbmVBbmltYXRpbmcgPSB0cnVlO1xuICAgIHRoaXMucGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnBsYWNlaG9sZGVyLmNsYXNzTGlzdC5hZGQoJ21hdGVyaWFsLXBsYWNlaG9sZGVyJyk7XG4gICAgdGhpcy5vcmlnaW5hbFdpZHRoID0gMDtcbiAgICB0aGlzLm9yaWdpbmFsSGVpZ2h0ID0gMDtcbiAgICB0aGlzLm9yaWdpbklubGluZVN0eWxlcyA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuICAgIHRoaXMuY2FwdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNhcHRpb24nKSB8fCAnJztcbiAgICAvLyBXcmFwXG4gICAgdGhpcy5lbC5iZWZvcmUodGhpcy5wbGFjZWhvbGRlcik7XG4gICAgdGhpcy5wbGFjZWhvbGRlci5hcHBlbmQodGhpcy5lbCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgY29uc3QgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICByZXR1cm4gZG9tRWxlbS5NX01hdGVyaWFsYm94O1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX01hdGVyaWFsYm94ID0gdW5kZWZpbmVkO1xuICAgIC8vIFVud3JhcCBpbWFnZVxuICAgIC8vdGhpcy5wbGFjZWhvbGRlci5hZnRlcih0aGlzLmVsKS5yZW1vdmUoKTtcbiAgICB0aGlzLnBsYWNlaG9sZGVyLnJlbW92ZSgpO1xuICAgIHRoaXMuZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTWF0ZXJpYWxib3hDbGljayk7XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTWF0ZXJpYWxib3hDbGljayk7XG4gIH1cblxuICBfaGFuZGxlTWF0ZXJpYWxib3hDbGljayA9ICgpID0+IHtcbiAgICAvLyBJZiBhbHJlYWR5IG1vZGFsLCByZXR1cm4gdG8gb3JpZ2luYWxcbiAgICBpZiAodGhpcy5kb25lQW5pbWF0aW5nID09PSBmYWxzZSB8fCAodGhpcy5vdmVybGF5QWN0aXZlICYmIHRoaXMuZG9uZUFuaW1hdGluZykpXG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5vcGVuKCk7XG4gIH1cblxuICBfaGFuZGxlV2luZG93U2Nyb2xsID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLm92ZXJsYXlBY3RpdmUpIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIF9oYW5kbGVXaW5kb3dSZXNpemUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMub3ZlcmxheUFjdGl2ZSkgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgX2hhbmRsZVdpbmRvd0VzY2FwZSA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKE0ua2V5cy5FU0MuaW5jbHVkZXMoZS5rZXkpICYmIHRoaXMuZG9uZUFuaW1hdGluZyAmJiB0aGlzLm92ZXJsYXlBY3RpdmUpIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIF9tYWtlQW5jZXN0b3JzT3ZlcmZsb3dWaXNpYmxlKCkge1xuICAgIHRoaXMuX2NoYW5nZWRBbmNlc3Rvckxpc3QgPSBbXTtcbiAgICBsZXQgYW5jZXN0b3IgPSB0aGlzLnBsYWNlaG9sZGVyLnBhcmVudE5vZGU7XG4gICAgd2hpbGUgKGFuY2VzdG9yICE9PSBudWxsICYmIGFuY2VzdG9yICE9PSBkb2N1bWVudCkge1xuICAgICAgY29uc3QgY3VyciA9IDxIVE1MRWxlbWVudD5hbmNlc3RvcjtcbiAgICAgIGlmIChjdXJyLnN0eWxlLm92ZXJmbG93ICE9PSAndmlzaWJsZScpIHtcbiAgICAgICAgY3Vyci5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgICAgdGhpcy5fY2hhbmdlZEFuY2VzdG9yTGlzdC5wdXNoKGN1cnIpO1xuICAgICAgfVxuICAgICAgYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnROb2RlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX29mZnNldChlbCkge1xuICAgIGNvbnN0IGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogYm94LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxuICAgICAgbGVmdDogYm94LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnRcbiAgICB9O1xuICB9XG5cbiAgX2FuaW1hdGVJbWFnZUluKCkge1xuICAgIHRoaXMuZWwuc3R5bGUubWF4SGVpZ2h0ID0gdGhpcy5uZXdIZWlnaHQudG9TdHJpbmcoKSsncHgnO1xuICAgIHRoaXMuZWwuc3R5bGUubWF4V2lkdGggPSB0aGlzLm5ld1dpZHRoLnRvU3RyaW5nKCkrJ3B4JztcblxuICAgIGNvbnN0IGFuaW1PcHRpb25zID0ge1xuICAgICAgdGFyZ2V0czogdGhpcy5lbCwgLy8gaW1hZ2VcbiAgICAgIGhlaWdodDogW3RoaXMub3JpZ2luYWxIZWlnaHQsIHRoaXMubmV3SGVpZ2h0XSxcbiAgICAgIHdpZHRoOiBbdGhpcy5vcmlnaW5hbFdpZHRoLCB0aGlzLm5ld1dpZHRoXSxcbiAgICAgIGxlZnQ6XG4gICAgICAgIE0uZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCkgK1xuICAgICAgICB0aGlzLndpbmRvd1dpZHRoIC8gMiAtXG4gICAgICAgIHRoaXMuX29mZnNldCh0aGlzLnBsYWNlaG9sZGVyKS5sZWZ0IC1cbiAgICAgICAgdGhpcy5uZXdXaWR0aCAvIDIsXG4gICAgICB0b3A6XG4gICAgICAgIE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKSArXG4gICAgICAgIHRoaXMud2luZG93SGVpZ2h0IC8gMiAtXG4gICAgICAgIHRoaXMuX29mZnNldCh0aGlzLnBsYWNlaG9sZGVyKS50b3AgLVxuICAgICAgICB0aGlzLm5ld0hlaWdodCAvIDIsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICB0aGlzLmRvbmVBbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAvLyBvbk9wZW5FbmQgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlbkVuZC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBPdmVycmlkZSBtYXgtd2lkdGggb3IgbWF4LWhlaWdodCBpZiBuZWVkZWRcbiAgICAvL2NvbnN0IGVsU3R5bGUgPSB0aGlzLmVsLnN0eWxlO1xuICAgIC8vY29uc29sZS5sb2coJ21oJywgZWxTdHlsZS5tYXhIZWlnaHQsICctPicsIHRoaXMubmV3SGVpZ2h0KTtcbiAgICAvL2NvbnNvbGUubG9nKCdtdycsIGVsU3R5bGUubWF4V2lkdGgsICctPicsIHRoaXMubmV3V2lkdGgpO1xuICAgIC8vaWYgKGVsU3R5bGUubWF4V2lkdGggIT09ICdub25lJykgYW5pbU9wdGlvbnMubWF4V2lkdGggPSB0aGlzLm5ld1dpZHRoO1xuICAgIC8vaWYgKGVsU3R5bGUubWF4SGVpZ2h0ICE9PSAnbm9uZScpIGFuaW1PcHRpb25zLm1heEhlaWdodCA9IHRoaXMubmV3SGVpZ2h0O1xuICAgIC8vY29uc29sZS5sb2coJz4+PiBhbmltYXRlJyk7XG4gICAgLy9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShhbmltT3B0aW9ucykpO1xuICAgIGFuaW0oYW5pbU9wdGlvbnMpO1xuICB9XG5cbiAgX2FuaW1hdGVJbWFnZU91dCgpIHtcbiAgICBjb25zdCBhbmltT3B0aW9ucyA9IHtcbiAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICB3aWR0aDogdGhpcy5vcmlnaW5hbFdpZHRoLFxuICAgICAgaGVpZ2h0OiB0aGlzLm9yaWdpbmFsSGVpZ2h0LFxuICAgICAgbGVmdDogMCxcbiAgICAgIHRvcDogMCxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlci5zdHlsZS50b3AgPSAnJztcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlci5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgICAgIC8vIFJldmVydCB0byB3aWR0aCBvciBoZWlnaHQgYXR0cmlidXRlXG4gICAgICAgIGlmICh0aGlzLmF0dHJXaWR0aCkgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdGhpcy5hdHRyV2lkdGgudG9TdHJpbmcoKSk7XG4gICAgICAgIGlmICh0aGlzLmF0dHJIZWlnaHQpIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCB0aGlzLmF0dHJIZWlnaHQudG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICB0aGlzLm9yaWdpbklubGluZVN0eWxlcyAmJiB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0aGlzLm9yaWdpbklubGluZVN0eWxlcyk7XG4gICAgICAgIC8vIFJlbW92ZSBjbGFzc1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLmRvbmVBbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAvLyBSZW1vdmUgb3ZlcmZsb3cgb3ZlcnJpZGVzIG9uIGFuY2VzdG9yc1xuICAgICAgICB0aGlzLl9jaGFuZ2VkQW5jZXN0b3JMaXN0LmZvckVhY2goYW5jaGVzdG9yID0+IGFuY2hlc3Rvci5zdHlsZS5vdmVyZmxvdyA9ICcnKTtcbiAgICAgICAgLy8gb25DbG9zZUVuZCBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgYW5pbShhbmltT3B0aW9ucyk7XG4gIH1cblxuICBfdXBkYXRlVmFycygpIHtcbiAgICB0aGlzLndpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy53aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgdGhpcy5jYXB0aW9uID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2FwdGlvbicpIHx8ICcnO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl91cGRhdGVWYXJzKCk7XG4gICAgdGhpcy5vcmlnaW5hbFdpZHRoID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICB0aGlzLm9yaWdpbmFsSGVpZ2h0ID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgLy8gU2V0IHN0YXRlc1xuICAgIHRoaXMuZG9uZUFuaW1hdGluZyA9IGZhbHNlO1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgdGhpcy5vdmVybGF5QWN0aXZlID0gdHJ1ZTtcbiAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICB9XG4gICAgLy8gU2V0IHBvc2l0aW9uaW5nIGZvciBwbGFjZWhvbGRlclxuICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUud2lkdGggPSB0aGlzLnBsYWNlaG9sZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKydweCc7XG4gICAgdGhpcy5wbGFjZWhvbGRlci5zdHlsZS5oZWlnaHQgPSB0aGlzLnBsYWNlaG9sZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCsncHgnO1xuICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUudG9wID0gJzAnO1xuICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUubGVmdCA9ICcwJztcbiAgICB0aGlzLl9tYWtlQW5jZXN0b3JzT3ZlcmZsb3dWaXNpYmxlKCk7XG4gICAgLy8gU2V0IGNzcyBvbiBvcmlnaW5cbiAgICB0aGlzLmVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLmVsLnN0eWxlLnpJbmRleCA9ICcxMDAwJztcbiAgICB0aGlzLmVsLnN0eWxlLndpbGxDaGFuZ2UgPSAnbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0JztcbiAgICAvLyBDaGFuZ2UgZnJvbSB3aWR0aCBvciBoZWlnaHQgYXR0cmlidXRlIHRvIGNzc1xuICAgIHRoaXMuYXR0cldpZHRoID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyk7XG4gICAgdGhpcy5hdHRySGVpZ2h0ID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpO1xuICAgIGlmICh0aGlzLmF0dHJXaWR0aCkge1xuICAgICAgdGhpcy5lbC5zdHlsZS53aWR0aCA9IHRoaXMuYXR0cldpZHRoKydweCc7XG4gICAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYXR0ckhlaWdodCkge1xuICAgICAgdGhpcy5lbC5zdHlsZS53aWR0aCA9IHRoaXMuYXR0ckhlaWdodCsncHgnO1xuICAgICAgdGhpcy5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2hlaWdodCcpO1xuICAgIH1cbiAgICAvLyBBZGQgb3ZlcmxheVxuICAgIHRoaXMuX292ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9vdmVybGF5LmlkID0gJ21hdGVyaWFsYm94LW92ZXJsYXknO1xuICAgIHRoaXMuX292ZXJsYXkuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICB0aGlzLl9vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICBpZiAodGhpcy5kb25lQW5pbWF0aW5nKSB0aGlzLmNsb3NlKCk7XG4gICAgfSwge29uY2U6IHRydWV9KTtcbiAgICAvLyBQdXQgYmVmb3JlIGluIG9yaWdpbiBpbWFnZSB0byBwcmVzZXJ2ZSB6LWluZGV4IGxheWVyaW5nLlxuICAgIHRoaXMuZWwuYmVmb3JlKHRoaXMuX292ZXJsYXkpO1xuICAgIC8vIFNldCBkaW1lbnNpb25zIGlmIG5lZWRlZFxuICAgIGNvbnN0IG92ZXJsYXlPZmZzZXQgPSB0aGlzLl9vdmVybGF5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHRoaXMuX292ZXJsYXkuc3R5bGUud2lkdGggPSB0aGlzLndpbmRvd1dpZHRoKydweCc7XG4gICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5oZWlnaHQgPSB0aGlzLndpbmRvd0hlaWdodCsncHgnO1xuICAgIHRoaXMuX292ZXJsYXkuc3R5bGUubGVmdCA9IC0xICogb3ZlcmxheU9mZnNldC5sZWZ0KydweCc7XG4gICAgdGhpcy5fb3ZlcmxheS5zdHlsZS50b3AgPSAtMSAqIG92ZXJsYXlPZmZzZXQudG9wKydweCc7XG4gICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XG4gICAgYW5pbS5yZW1vdmUodGhpcy5fb3ZlcmxheSk7XG4gICAgLy8gQW5pbWF0ZSBPdmVybGF5XG4gICAgYW5pbSh7XG4gICAgICB0YXJnZXRzOiB0aGlzLl9vdmVybGF5LFxuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgIH0pO1xuICAgIC8vIEFkZCBhbmQgYW5pbWF0ZSBjYXB0aW9uIGlmIGl0IGV4aXN0c1xuICAgIGlmICh0aGlzLmNhcHRpb24gIT09ICcnKSB7XG4gICAgICBpZiAodGhpcy5fcGhvdG9DYXB0aW9uKSBhbmltLnJlbW92ZSh0aGlzLl9waG90b0NhcHRpb24pO1xuICAgICAgdGhpcy5fcGhvdG9DYXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLl9waG90b0NhcHRpb24uY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWxib3gtY2FwdGlvbicpO1xuICAgICAgdGhpcy5fcGhvdG9DYXB0aW9uLmlubmVyVGV4dCA9IHRoaXMuY2FwdGlvbjtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuX3Bob3RvQ2FwdGlvbik7XG4gICAgICB0aGlzLl9waG90b0NhcHRpb24uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnO1xuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuX3Bob3RvQ2FwdGlvbixcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlc2l6ZSBJbWFnZVxuICAgIGNvbnN0IHdpZHRoUGVyY2VudCA9IHRoaXMub3JpZ2luYWxXaWR0aCAvIHRoaXMud2luZG93V2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0UGVyY2VudCA9IHRoaXMub3JpZ2luYWxIZWlnaHQgLyB0aGlzLndpbmRvd0hlaWdodDtcbiAgICB0aGlzLm5ld1dpZHRoID0gMDtcbiAgICB0aGlzLm5ld0hlaWdodCA9IDA7XG4gICAgaWYgKHdpZHRoUGVyY2VudCA+IGhlaWdodFBlcmNlbnQpIHtcbiAgICAgIC8vIFdpZHRoIGZpcnN0XG4gICAgICBjb25zdCByYXRpbyA9IHRoaXMub3JpZ2luYWxIZWlnaHQgLyB0aGlzLm9yaWdpbmFsV2lkdGg7XG4gICAgICB0aGlzLm5ld1dpZHRoID0gdGhpcy53aW5kb3dXaWR0aCAqIDAuOTtcbiAgICAgIHRoaXMubmV3SGVpZ2h0ID0gdGhpcy53aW5kb3dXaWR0aCAqIDAuOSAqIHJhdGlvO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIEhlaWdodCBmaXJzdFxuICAgICAgY29uc3QgcmF0aW8gPSB0aGlzLm9yaWdpbmFsV2lkdGggLyB0aGlzLm9yaWdpbmFsSGVpZ2h0O1xuICAgICAgdGhpcy5uZXdXaWR0aCA9IHRoaXMud2luZG93SGVpZ2h0ICogMC45ICogcmF0aW87XG4gICAgICB0aGlzLm5ld0hlaWdodCA9IHRoaXMud2luZG93SGVpZ2h0ICogMC45O1xuICAgIH1cbiAgICB0aGlzLl9hbmltYXRlSW1hZ2VJbigpO1xuXG4gICAgLy8gSGFuZGxlIEV4aXQgdHJpZ2dlcnNcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVXaW5kb3dFc2NhcGUpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fdXBkYXRlVmFycygpO1xuICAgIHRoaXMuZG9uZUFuaW1hdGluZyA9IGZhbHNlO1xuICAgIC8vIG9uQ2xvc2VTdGFydCBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgIH1cbiAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICBhbmltLnJlbW92ZSh0aGlzLl9vdmVybGF5KTtcbiAgICBpZiAodGhpcy5jYXB0aW9uICE9PSAnJykgYW5pbS5yZW1vdmUodGhpcy5fcGhvdG9DYXB0aW9uKTtcbiAgICAvLyBkaXNhYmxlIGV4aXQgaGFuZGxlcnNcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVXaW5kb3dFc2NhcGUpO1xuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogdGhpcy5fb3ZlcmxheSxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5vdmVybGF5QWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX292ZXJsYXkucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fYW5pbWF0ZUltYWdlT3V0KCk7XG4gICAgLy8gUmVtb3ZlIENhcHRpb24gKyByZXNldCBjc3Mgc2V0dGluZ3Mgb24gaW1hZ2VcbiAgICBpZiAodGhpcy5jYXB0aW9uICE9PSAnJykge1xuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuX3Bob3RvQ2FwdGlvbixcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX3Bob3RvQ2FwdGlvbi5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/materialbox.ts\n");

/***/ }),

/***/ "./src/modal.ts":
/*!**********************!*\
  !*** ./src/modal.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Modal = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst _defaults = {\n    opacity: 0.5,\n    inDuration: 250,\n    outDuration: 250,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    preventScrolling: true,\n    dismissible: true,\n    startingTop: '4%',\n    endingTop: '10%'\n};\nclass Modal extends component_1.Component {\n    constructor(el, options) {\n        super(Modal, el, options);\n        this._handleTriggerClick = (e) => {\n            const trigger = e.target.closest('.modal-trigger');\n            if (!trigger)\n                return;\n            const modalId = global_1.M.getIdFromTrigger(trigger);\n            const modalInstance = document.getElementById(modalId).M_Modal;\n            if (modalInstance)\n                modalInstance.open(trigger);\n            e.preventDefault();\n        };\n        this._handleOverlayClick = () => {\n            if (this.options.dismissible)\n                this.close();\n        };\n        this._handleModalCloseClick = (e) => {\n            const closeTrigger = e.target.closest('.modal-close');\n            if (closeTrigger)\n                this.close();\n        };\n        this._handleKeydown = (e) => {\n            if (global_1.M.keys.ESC.includes(e.key) && this.options.dismissible)\n                this.close();\n        };\n        this._handleFocus = (e) => {\n            // Only trap focus if this modal is the last model opened (prevents loops in nested modals).\n            if (!this.el.contains(e.target) && this._nthModalOpened === Modal._modalsOpen) {\n                this.el.focus();\n            }\n        };\n        this.el.M_Modal = this;\n        this.options = Object.assign(Object.assign({}, Modal.defaults), options);\n        this.isOpen = false;\n        this.id = this.el.id;\n        this._openingTrigger = undefined;\n        this._overlay = document.createElement('div');\n        this._overlay.classList.add('modal-overlay');\n        this.el.tabIndex = 0;\n        this._nthModalOpened = 0;\n        Modal._count++;\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Modal;\n    }\n    destroy() {\n        Modal._count--;\n        this._removeEventHandlers();\n        this.el.removeAttribute('style');\n        this._overlay.remove();\n        this.el.M_Modal = undefined;\n    }\n    _setupEventHandlers() {\n        if (Modal._count === 1) {\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n        this._overlay.addEventListener('click', this._handleOverlayClick);\n        this.el.addEventListener('click', this._handleModalCloseClick);\n    }\n    _removeEventHandlers() {\n        if (Modal._count === 0) {\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n        this._overlay.removeEventListener('click', this._handleOverlayClick);\n        this.el.removeEventListener('click', this._handleModalCloseClick);\n    }\n    _animateIn() {\n        // Set initial styles\n        this.el.style.display = 'block';\n        this.el.style.opacity = '0';\n        this._overlay.style.display = 'block';\n        this._overlay.style.opacity = '0';\n        // Animate overlay\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: this.options.opacity,\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad'\n        });\n        // Define modal animation options\n        const enterAnimOptions = {\n            targets: this.el,\n            duration: this.options.inDuration,\n            easing: 'easeOutCubic',\n            // Handle modal onOpenEnd callback\n            complete: () => {\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el, this._openingTrigger);\n                }\n            }\n        };\n        // Bottom sheet animation\n        if (this.el.classList.contains('bottom-sheet')) {\n            enterAnimOptions['bottom'] = 0;\n            enterAnimOptions['opacity'] = 1;\n        }\n        // Normal modal animation\n        else {\n            enterAnimOptions['top'] = [this.options.startingTop, this.options.endingTop];\n            enterAnimOptions['opacity'] = 1;\n            enterAnimOptions['scaleX'] = [0.8, 1];\n            enterAnimOptions['scaleY'] = [0.8, 1];\n        }\n        (0, animejs_1.default)(enterAnimOptions);\n    }\n    _animateOut() {\n        // Animate overlay\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuart'\n        });\n        // Define modal animation options\n        const exitAnimOptions = {\n            targets: this.el,\n            duration: this.options.outDuration,\n            easing: 'easeOutCubic',\n            // Handle modal ready callback\n            complete: () => {\n                this.el.style.display = 'none';\n                this._overlay.remove();\n                // Call onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        };\n        // Bottom sheet animation\n        if (this.el.classList.contains('bottom-sheet')) {\n            exitAnimOptions['bottom'] = '-100%';\n            exitAnimOptions['opacity'] = 0;\n        }\n        // Normal modal animation\n        else {\n            exitAnimOptions['top'] = [this.options.endingTop, this.options.startingTop];\n            exitAnimOptions['opacity'] = 0;\n            exitAnimOptions['scaleX'] = 0.8;\n            exitAnimOptions['scaleY'] = 0.8;\n        }\n        (0, animejs_1.default)(exitAnimOptions);\n    }\n    open(trigger) {\n        if (this.isOpen)\n            return;\n        this.isOpen = true;\n        Modal._modalsOpen++;\n        this._nthModalOpened = Modal._modalsOpen;\n        // Set Z-Index based on number of currently open modals\n        this._overlay.style.zIndex = (1000 + Modal._modalsOpen * 2).toString();\n        this.el.style.zIndex = (1000 + Modal._modalsOpen * 2 + 1).toString();\n        // Set opening trigger, undefined indicates modal was opened by javascript\n        this._openingTrigger = !!trigger ? trigger : undefined;\n        // onOpenStart callback\n        if (typeof this.options.onOpenStart === 'function') {\n            this.options.onOpenStart.call(this, this.el, this._openingTrigger);\n        }\n        if (this.options.preventScrolling) {\n            document.body.style.overflow = 'hidden';\n        }\n        this.el.classList.add('open');\n        this.el.insertAdjacentElement('afterend', this._overlay);\n        if (this.options.dismissible) {\n            document.addEventListener('keydown', this._handleKeydown);\n            document.addEventListener('focus', this._handleFocus, true);\n        }\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this._overlay);\n        this._animateIn();\n        // Focus modal\n        this.el.focus();\n        return this;\n    }\n    close() {\n        if (!this.isOpen)\n            return;\n        this.isOpen = false;\n        Modal._modalsOpen--;\n        this._nthModalOpened = 0;\n        // Call onCloseStart callback\n        if (typeof this.options.onCloseStart === 'function') {\n            this.options.onCloseStart.call(this, this.el);\n        }\n        this.el.classList.remove('open');\n        // Enable body scrolling only if there are no more modals open.\n        if (Modal._modalsOpen === 0) {\n            document.body.style.overflow = '';\n        }\n        if (this.options.dismissible) {\n            document.removeEventListener('keydown', this._handleKeydown);\n            document.removeEventListener('focus', this._handleFocus, true);\n        }\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this._overlay);\n        this._animateOut();\n        return this;\n    }\n}\nexports.Modal = Modal;\n(() => {\n    Modal._modalsOpen = 0;\n    Modal._count = 0;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO1FBQ2pDLCtEQUErRDtRQUMvRCxJQUFJLEtBQUssQ0FBQyxXQUFXLEtBQUssQ0FBQyxFQUFFO1lBQzNCLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7U0FDbkM7UUFDRCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFO1lBQzVCLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQzdELFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNoRTtRQUNELGlCQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNyQixpQkFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25CLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztDQU1GO0FBcE9ELHNCQW9PQztBQUpDO0lBQ0UsS0FBSyxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7SUFDdEIsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDbkIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9tb2RhbC50cz8wZTUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcblxuY29uc3QgX2RlZmF1bHRzID0ge1xuICBvcGFjaXR5OiAwLjUsXG4gIGluRHVyYXRpb246IDI1MCxcbiAgb3V0RHVyYXRpb246IDI1MCxcbiAgb25PcGVuU3RhcnQ6IG51bGwsXG4gIG9uT3BlbkVuZDogbnVsbCxcbiAgb25DbG9zZVN0YXJ0OiBudWxsLFxuICBvbkNsb3NlRW5kOiBudWxsLFxuICBwcmV2ZW50U2Nyb2xsaW5nOiB0cnVlLFxuICBkaXNtaXNzaWJsZTogdHJ1ZSxcbiAgc3RhcnRpbmdUb3A6ICc0JScsXG4gIGVuZGluZ1RvcDogJzEwJSdcbn07XG5cbmV4cG9ydCBjbGFzcyBNb2RhbCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGVsOiBIVE1MRWxlbWVudDtcbiAgc3RhdGljIF9tb2RhbHNPcGVuOiBudW1iZXI7XG4gIHN0YXRpYyBfY291bnQ6IG51bWJlcjtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBpZDogc3RyaW5nO1xuICBwcml2YXRlIF9vcGVuaW5nVHJpZ2dlcjogYW55O1xuICBwcml2YXRlIF9vdmVybGF5OiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBfbnRoTW9kYWxPcGVuZWQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgIHN1cGVyKE1vZGFsLCBlbCwgb3B0aW9ucyk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX01vZGFsID0gdGhpcztcbiAgICB0aGlzLm9wdGlvbnMgPSB7Li4uTW9kYWwuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5pZCA9IHRoaXMuZWwuaWQ7XG4gICAgdGhpcy5fb3BlbmluZ1RyaWdnZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX292ZXJsYXkuY2xhc3NMaXN0LmFkZCgnbW9kYWwtb3ZlcmxheScpO1xuICAgIHRoaXMuZWwudGFiSW5kZXggPSAwO1xuICAgIHRoaXMuX250aE1vZGFsT3BlbmVkID0gMDtcbiAgICBNb2RhbC5fY291bnQrKztcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgfVxuXG4gIHN0YXRpYyBpbml0KGVscywgb3B0aW9ucykge1xuICAgIHJldHVybiBzdXBlci5pbml0KHRoaXMsIGVscywgb3B0aW9ucyk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWwpIHtcbiAgICBjb25zdCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgIHJldHVybiBkb21FbGVtLk1fTW9kYWw7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIE1vZGFsLl9jb3VudC0tO1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICB0aGlzLl9vdmVybGF5LnJlbW92ZSgpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9Nb2RhbCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgaWYgKE1vZGFsLl9jb3VudCA9PT0gMSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyaWdnZXJDbGljayk7XG4gICAgfVxuICAgIHRoaXMuX292ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xpY2spO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVNb2RhbENsb3NlQ2xpY2spO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgaWYgKE1vZGFsLl9jb3VudCA9PT0gMCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyaWdnZXJDbGljayk7XG4gICAgfVxuICAgIHRoaXMuX292ZXJsYXkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xpY2spO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVNb2RhbENsb3NlQ2xpY2spO1xuICB9XG5cbiAgX2hhbmRsZVRyaWdnZXJDbGljayA9IChlKSA9PiB7XG4gICAgY29uc3QgdHJpZ2dlciA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tb2RhbC10cmlnZ2VyJyk7XG4gICAgaWYgKCF0cmlnZ2VyKSByZXR1cm47XG4gICAgY29uc3QgbW9kYWxJZCA9IE0uZ2V0SWRGcm9tVHJpZ2dlcih0cmlnZ2VyKTtcbiAgICBjb25zdCBtb2RhbEluc3RhbmNlID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpIGFzIGFueSkuTV9Nb2RhbDtcbiAgICBpZiAobW9kYWxJbnN0YW5jZSkgbW9kYWxJbnN0YW5jZS5vcGVuKHRyaWdnZXIpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIF9oYW5kbGVPdmVybGF5Q2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSkgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgX2hhbmRsZU1vZGFsQ2xvc2VDbGljayA9IChlKSA9PiB7XG4gICAgY29uc3QgY2xvc2VUcmlnZ2VyID0gZS50YXJnZXQuY2xvc2VzdCgnLm1vZGFsLWNsb3NlJyk7XG4gICAgaWYgKGNsb3NlVHJpZ2dlcikgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgX2hhbmRsZUtleWRvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChNLmtleXMuRVNDLmluY2x1ZGVzKGUua2V5KSAmJiB0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUpIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIF9oYW5kbGVGb2N1cyA9IChlKSA9PiB7XG4gICAgLy8gT25seSB0cmFwIGZvY3VzIGlmIHRoaXMgbW9kYWwgaXMgdGhlIGxhc3QgbW9kZWwgb3BlbmVkIChwcmV2ZW50cyBsb29wcyBpbiBuZXN0ZWQgbW9kYWxzKS5cbiAgICBpZiAoIXRoaXMuZWwuY29udGFpbnMoZS50YXJnZXQpICYmIHRoaXMuX250aE1vZGFsT3BlbmVkID09PSBNb2RhbC5fbW9kYWxzT3Blbikge1xuICAgICAgdGhpcy5lbC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIF9hbmltYXRlSW4oKSB7XG4gICAgLy8gU2V0IGluaXRpYWwgc3R5bGVzXG4gICAgdGhpcy5lbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLmVsLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLl9vdmVybGF5LnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgLy8gQW5pbWF0ZSBvdmVybGF5XG4gICAgYW5pbSh7XG4gICAgICB0YXJnZXRzOiB0aGlzLl9vdmVybGF5LFxuICAgICAgb3BhY2l0eTogdGhpcy5vcHRpb25zLm9wYWNpdHksXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICB9KTtcbiAgICAvLyBEZWZpbmUgbW9kYWwgYW5pbWF0aW9uIG9wdGlvbnNcbiAgICBjb25zdCBlbnRlckFuaW1PcHRpb25zID0ge1xuICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYycsXG4gICAgICAvLyBIYW5kbGUgbW9kYWwgb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuRW5kLmNhbGwodGhpcywgdGhpcy5lbCwgdGhpcy5fb3BlbmluZ1RyaWdnZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBCb3R0b20gc2hlZXQgYW5pbWF0aW9uXG4gICAgaWYgKHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdib3R0b20tc2hlZXQnKSkge1xuICAgICAgZW50ZXJBbmltT3B0aW9uc1snYm90dG9tJ10gPSAwO1xuICAgICAgZW50ZXJBbmltT3B0aW9uc1snb3BhY2l0eSddID0gMTtcbiAgICB9XG4gICAgLy8gTm9ybWFsIG1vZGFsIGFuaW1hdGlvblxuICAgIGVsc2Uge1xuICAgICAgZW50ZXJBbmltT3B0aW9uc1sndG9wJ10gPSBbdGhpcy5vcHRpb25zLnN0YXJ0aW5nVG9wLCB0aGlzLm9wdGlvbnMuZW5kaW5nVG9wXTtcbiAgICAgIGVudGVyQW5pbU9wdGlvbnNbJ29wYWNpdHknXSA9IDE7XG4gICAgICBlbnRlckFuaW1PcHRpb25zWydzY2FsZVgnXSA9IFswLjgsIDFdO1xuICAgICAgZW50ZXJBbmltT3B0aW9uc1snc2NhbGVZJ10gPSBbMC44LCAxXTtcbiAgICB9XG4gICAgYW5pbShlbnRlckFuaW1PcHRpb25zKTtcbiAgfVxuXG4gIF9hbmltYXRlT3V0KCkge1xuICAgIC8vIEFuaW1hdGUgb3ZlcmxheVxuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogdGhpcy5fb3ZlcmxheSxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YXJ0J1xuICAgIH0pO1xuICAgIC8vIERlZmluZSBtb2RhbCBhbmltYXRpb24gb3B0aW9uc1xuICAgIGNvbnN0IGV4aXRBbmltT3B0aW9ucyA9IHtcbiAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJyxcbiAgICAgIC8vIEhhbmRsZSBtb2RhbCByZWFkeSBjYWxsYmFja1xuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLl9vdmVybGF5LnJlbW92ZSgpO1xuICAgICAgICAvLyBDYWxsIG9uQ2xvc2VFbmQgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kLmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIEJvdHRvbSBzaGVldCBhbmltYXRpb25cbiAgICBpZiAodGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2JvdHRvbS1zaGVldCcpKSB7XG4gICAgICBleGl0QW5pbU9wdGlvbnNbJ2JvdHRvbSddID0gJy0xMDAlJztcbiAgICAgIGV4aXRBbmltT3B0aW9uc1snb3BhY2l0eSddID0gMDtcbiAgICB9XG4gICAgLy8gTm9ybWFsIG1vZGFsIGFuaW1hdGlvblxuICAgIGVsc2Uge1xuICAgICAgZXhpdEFuaW1PcHRpb25zWyd0b3AnXSA9IFt0aGlzLm9wdGlvbnMuZW5kaW5nVG9wLCB0aGlzLm9wdGlvbnMuc3RhcnRpbmdUb3BdO1xuICAgICAgZXhpdEFuaW1PcHRpb25zWydvcGFjaXR5J10gPSAwO1xuICAgICAgZXhpdEFuaW1PcHRpb25zWydzY2FsZVgnXSA9IDAuODtcbiAgICAgIGV4aXRBbmltT3B0aW9uc1snc2NhbGVZJ10gPSAwLjg7XG4gICAgfVxuICAgIGFuaW0oZXhpdEFuaW1PcHRpb25zKTtcbiAgfVxuXG4gIG9wZW4odHJpZ2dlcjogSFRNTEVsZW1lbnR8dW5kZWZpbmVkKTogTW9kYWwge1xuICAgIGlmICh0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICBNb2RhbC5fbW9kYWxzT3BlbisrO1xuICAgIHRoaXMuX250aE1vZGFsT3BlbmVkID0gTW9kYWwuX21vZGFsc09wZW47XG4gICAgLy8gU2V0IFotSW5kZXggYmFzZWQgb24gbnVtYmVyIG9mIGN1cnJlbnRseSBvcGVuIG1vZGFsc1xuICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuekluZGV4ID0gKDEwMDAgKyBNb2RhbC5fbW9kYWxzT3BlbiAqIDIpLnRvU3RyaW5nKCk7XG4gICAgdGhpcy5lbC5zdHlsZS56SW5kZXggPSAoMTAwMCArIE1vZGFsLl9tb2RhbHNPcGVuICogMiArIDEpLnRvU3RyaW5nKCk7XG4gICAgLy8gU2V0IG9wZW5pbmcgdHJpZ2dlciwgdW5kZWZpbmVkIGluZGljYXRlcyBtb2RhbCB3YXMgb3BlbmVkIGJ5IGphdmFzY3JpcHRcbiAgICB0aGlzLl9vcGVuaW5nVHJpZ2dlciA9ICEhdHJpZ2dlciA/IHRyaWdnZXIgOiB1bmRlZmluZWQ7XG4gICAgLy8gb25PcGVuU3RhcnQgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCwgdGhpcy5fb3BlbmluZ1RyaWdnZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLnByZXZlbnRTY3JvbGxpbmcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICB9XG4gICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XG4gICAgdGhpcy5lbC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgdGhpcy5fb3ZlcmxheSk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVGb2N1cywgdHJ1ZSk7XG4gICAgfVxuICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xuICAgIHRoaXMuX2FuaW1hdGVJbigpO1xuICAgIC8vIEZvY3VzIG1vZGFsXG4gICAgdGhpcy5lbC5mb2N1cygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgTW9kYWwuX21vZGFsc09wZW4tLTtcbiAgICB0aGlzLl9udGhNb2RhbE9wZW5lZCA9IDA7XG4gICAgLy8gQ2FsbCBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICB9XG4gICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG4gICAgLy8gRW5hYmxlIGJvZHkgc2Nyb2xsaW5nIG9ubHkgaWYgdGhlcmUgYXJlIG5vIG1vcmUgbW9kYWxzIG9wZW4uXG4gICAgaWYgKE1vZGFsLl9tb2RhbHNPcGVuID09PSAwKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVLZXlkb3duKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXMsIHRydWUpO1xuICAgIH1cbiAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICBhbmltLnJlbW92ZSh0aGlzLl9vdmVybGF5KTtcbiAgICB0aGlzLl9hbmltYXRlT3V0KCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzdGF0aWN7XG4gICAgTW9kYWwuX21vZGFsc09wZW4gPSAwO1xuICAgIE1vZGFsLl9jb3VudCA9IDA7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modal.ts\n");

/***/ }),

/***/ "./src/parallax.ts":
/*!*************************!*\
  !*** ./src/parallax.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Parallax = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    responsiveThreshold: 0 // breakpoint for swipeable\n};\nclass Parallax extends component_1.Component {\n    constructor(el, options) {\n        super(Parallax, el, options);\n        this._handleImageLoad = () => {\n            this._updateParallax();\n        };\n        this.el.M_Parallax = this;\n        this.options = Object.assign(Object.assign({}, Parallax.defaults), options);\n        this._enabled = window.innerWidth > this.options.responsiveThreshold;\n        this._img = this.el.querySelector('img');\n        this._updateParallax();\n        this._setupEventHandlers();\n        this._setupStyles();\n        Parallax._parallaxes.push(this);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Parallax;\n    }\n    destroy() {\n        Parallax._parallaxes.splice(Parallax._parallaxes.indexOf(this), 1);\n        this._img.style.transform = '';\n        this._removeEventHandlers();\n        this.el.M_Parallax = undefined;\n    }\n    static _handleScroll() {\n        for (let i = 0; i < Parallax._parallaxes.length; i++) {\n            let parallaxInstance = Parallax._parallaxes[i];\n            parallaxInstance._updateParallax.call(parallaxInstance);\n        }\n    }\n    static _handleWindowResize() {\n        for (let i = 0; i < Parallax._parallaxes.length; i++) {\n            let parallaxInstance = Parallax._parallaxes[i];\n            parallaxInstance._enabled =\n                window.innerWidth > parallaxInstance.options.responsiveThreshold;\n        }\n    }\n    _setupEventHandlers() {\n        this._img.addEventListener('load', this._handleImageLoad);\n        if (Parallax._parallaxes.length === 0) {\n            if (!Parallax._handleScrollThrottled) {\n                Parallax._handleScrollThrottled = global_1.M.throttle(Parallax._handleScroll, 5);\n            }\n            if (!Parallax._handleWindowResizeThrottled) {\n                Parallax._handleWindowResizeThrottled = global_1.M.throttle(Parallax._handleWindowResize, 5);\n            }\n            window.addEventListener('scroll', Parallax._handleScrollThrottled);\n            window.addEventListener('resize', Parallax._handleWindowResizeThrottled);\n        }\n    }\n    _removeEventHandlers() {\n        this._img.removeEventListener('load', this._handleImageLoad);\n        if (Parallax._parallaxes.length === 0) {\n            window.removeEventListener('scroll', Parallax._handleScrollThrottled);\n            window.removeEventListener('resize', Parallax._handleWindowResizeThrottled);\n        }\n    }\n    _setupStyles() {\n        this._img.style.opacity = '1';\n    }\n    _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    _updateParallax() {\n        const containerHeight = this.el.getBoundingClientRect().height > 0 ? this.el.parentNode.offsetHeight : 500;\n        const imgHeight = this._img.offsetHeight;\n        const parallaxDist = imgHeight - containerHeight;\n        const bottom = this._offset(this.el).top + containerHeight;\n        const top = this._offset(this.el).top;\n        const scrollTop = global_1.M.getDocumentScrollTop();\n        const windowHeight = window.innerHeight;\n        const windowBottom = scrollTop + windowHeight;\n        const percentScrolled = (windowBottom - top) / (containerHeight + windowHeight);\n        const parallax = parallaxDist * percentScrolled;\n        if (!this._enabled) {\n            this._img.style.transform = '';\n        }\n        else if (bottom > scrollTop && top < scrollTop + windowHeight) {\n            this._img.style.transform = `translate3D(-50%, ${parallax}px, 0)`;\n        }\n    }\n}\nexports.Parallax = Parallax;\nParallax._parallaxes = [];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEdBQUcsWUFBWSxDQUFDLENBQUM7UUFDaEYsTUFBTSxRQUFRLEdBQUcsWUFBWSxHQUFHLGVBQWUsQ0FBQztRQUVoRCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1NBQ2hDO2FBQ0ksSUFBSSxNQUFNLEdBQUcsU0FBUyxJQUFJLEdBQUcsR0FBRyxTQUFTLEdBQUcsWUFBWSxFQUFFO1lBQzdELElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxxQkFBcUIsUUFBUSxRQUFRLENBQUM7U0FDbkU7SUFDSCxDQUFDOztBQS9HSCw0QkFnSEM7QUE3R1Esb0JBQVcsR0FBZSxFQUFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvcGFyYWxsYXgudHM/YzNiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcblxubGV0IF9kZWZhdWx0cyA9IHtcbiAgcmVzcG9uc2l2ZVRocmVzaG9sZDogMCAvLyBicmVha3BvaW50IGZvciBzd2lwZWFibGVcbn07XG5cbmV4cG9ydCBjbGFzcyBQYXJhbGxheCBleHRlbmRzIENvbXBvbmVudCB7XG4gIHByaXZhdGUgX2VuYWJsZWQ6IGJvb2xlYW47XG4gIHByaXZhdGUgX2ltZzogSFRNTEltYWdlRWxlbWVudDtcbiAgc3RhdGljIF9wYXJhbGxheGVzOiBQYXJhbGxheFtdID0gW107XG4gIHN0YXRpYyBfaGFuZGxlU2Nyb2xsVGhyb3R0bGVkOiAoKSA9PiBhbnk7XG4gIHN0YXRpYyBfaGFuZGxlV2luZG93UmVzaXplVGhyb3R0bGVkOiAoKSA9PiBhbnk7XG5cbiAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihQYXJhbGxheCwgZWwsIG9wdGlvbnMpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9QYXJhbGxheCA9IHRoaXM7XG4gICAgdGhpcy5vcHRpb25zID0gey4uLlBhcmFsbGF4LmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICB0aGlzLl9lbmFibGVkID0gd2luZG93LmlubmVyV2lkdGggPiB0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZVRocmVzaG9sZDtcbiAgICB0aGlzLl9pbWcgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgIHRoaXMuX3VwZGF0ZVBhcmFsbGF4KCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5fc2V0dXBTdHlsZXMoKTtcbiAgICBQYXJhbGxheC5fcGFyYWxsYXhlcy5wdXNoKHRoaXMpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgIGxldCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgIHJldHVybiBkb21FbGVtLk1fUGFyYWxsYXg7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIFBhcmFsbGF4Ll9wYXJhbGxheGVzLnNwbGljZShQYXJhbGxheC5fcGFyYWxsYXhlcy5pbmRleE9mKHRoaXMpLCAxKTtcbiAgICB0aGlzLl9pbWcuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9QYXJhbGxheCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHN0YXRpYyBfaGFuZGxlU2Nyb2xsKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUGFyYWxsYXguX3BhcmFsbGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBwYXJhbGxheEluc3RhbmNlID0gUGFyYWxsYXguX3BhcmFsbGF4ZXNbaV07XG4gICAgICBwYXJhbGxheEluc3RhbmNlLl91cGRhdGVQYXJhbGxheC5jYWxsKHBhcmFsbGF4SW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfaGFuZGxlV2luZG93UmVzaXplKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUGFyYWxsYXguX3BhcmFsbGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBwYXJhbGxheEluc3RhbmNlID0gUGFyYWxsYXguX3BhcmFsbGF4ZXNbaV07XG4gICAgICBwYXJhbGxheEluc3RhbmNlLl9lbmFibGVkID1cbiAgICAgICAgd2luZG93LmlubmVyV2lkdGggPiBwYXJhbGxheEluc3RhbmNlLm9wdGlvbnMucmVzcG9uc2l2ZVRocmVzaG9sZDtcbiAgICB9XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuX2ltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5faGFuZGxlSW1hZ2VMb2FkKTtcbiAgICBpZiAoUGFyYWxsYXguX3BhcmFsbGF4ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoIVBhcmFsbGF4Ll9oYW5kbGVTY3JvbGxUaHJvdHRsZWQpe1xuICAgICAgICBQYXJhbGxheC5faGFuZGxlU2Nyb2xsVGhyb3R0bGVkID0gTS50aHJvdHRsZShQYXJhbGxheC5faGFuZGxlU2Nyb2xsLCA1KTtcbiAgICAgIH1cbiAgICAgIGlmICghUGFyYWxsYXguX2hhbmRsZVdpbmRvd1Jlc2l6ZVRocm90dGxlZCl7XG4gICAgICAgIFBhcmFsbGF4Ll9oYW5kbGVXaW5kb3dSZXNpemVUaHJvdHRsZWQgPSBNLnRocm90dGxlKFBhcmFsbGF4Ll9oYW5kbGVXaW5kb3dSZXNpemUsIDUpO1xuICAgICAgfVxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFBhcmFsbGF4Ll9oYW5kbGVTY3JvbGxUaHJvdHRsZWQpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIFBhcmFsbGF4Ll9oYW5kbGVXaW5kb3dSZXNpemVUaHJvdHRsZWQpO1xuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuX2ltZy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5faGFuZGxlSW1hZ2VMb2FkKTtcbiAgICBpZiAoUGFyYWxsYXguX3BhcmFsbGF4ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgUGFyYWxsYXguX2hhbmRsZVNjcm9sbFRocm90dGxlZCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgUGFyYWxsYXguX2hhbmRsZVdpbmRvd1Jlc2l6ZVRocm90dGxlZCk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwU3R5bGVzKCkge1xuICAgIHRoaXMuX2ltZy5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICB9XG5cbiAgX2hhbmRsZUltYWdlTG9hZCA9ICgpID0+IHtcbiAgICB0aGlzLl91cGRhdGVQYXJhbGxheCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfb2Zmc2V0KGVsOiBFbGVtZW50KSB7XG4gICAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiBib3gudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRUb3AsXG4gICAgICBsZWZ0OiBib3gubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdFxuICAgIH07XG4gIH1cblxuICBfdXBkYXRlUGFyYWxsYXgoKSB7XG4gICAgY29uc3QgY29udGFpbmVySGVpZ2h0ID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgPiAwID8gKHRoaXMuZWwucGFyZW50Tm9kZSBhcyBhbnkpLm9mZnNldEhlaWdodCA6IDUwMDtcbiAgICBjb25zdCBpbWdIZWlnaHQgPSB0aGlzLl9pbWcub2Zmc2V0SGVpZ2h0O1xuICAgIGNvbnN0IHBhcmFsbGF4RGlzdCA9IGltZ0hlaWdodCAtIGNvbnRhaW5lckhlaWdodDtcbiAgICBjb25zdCBib3R0b20gPSB0aGlzLl9vZmZzZXQodGhpcy5lbCkudG9wICsgY29udGFpbmVySGVpZ2h0O1xuICAgIGNvbnN0IHRvcCA9IHRoaXMuX29mZnNldCh0aGlzLmVsKS50b3A7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBjb25zdCB3aW5kb3dCb3R0b20gPSBzY3JvbGxUb3AgKyB3aW5kb3dIZWlnaHQ7XG4gICAgY29uc3QgcGVyY2VudFNjcm9sbGVkID0gKHdpbmRvd0JvdHRvbSAtIHRvcCkgLyAoY29udGFpbmVySGVpZ2h0ICsgd2luZG93SGVpZ2h0KTtcbiAgICBjb25zdCBwYXJhbGxheCA9IHBhcmFsbGF4RGlzdCAqIHBlcmNlbnRTY3JvbGxlZDtcblxuICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgdGhpcy5faW1nLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgIH1cbiAgICBlbHNlIGlmIChib3R0b20gPiBzY3JvbGxUb3AgJiYgdG9wIDwgc2Nyb2xsVG9wICsgd2luZG93SGVpZ2h0KSB7XG4gICAgICB0aGlzLl9pbWcuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNEKC01MCUsICR7cGFyYWxsYXh9cHgsIDApYDtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/parallax.ts\n");

/***/ }),

/***/ "./src/pushpin.ts":
/*!************************!*\
  !*** ./src/pushpin.ts ***!
  \************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Pushpin = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    top: 0,\n    bottom: Infinity,\n    offset: 0,\n    onPositionChange: null\n};\nclass Pushpin extends component_1.Component {\n    constructor(el, options) {\n        super(Pushpin, el, options);\n        this.el.M_Pushpin = this;\n        this.options = Object.assign(Object.assign({}, Pushpin.defaults), options);\n        this.originalOffset = this.el.offsetTop;\n        Pushpin._pushpins.push(this);\n        this._setupEventHandlers();\n        this._updatePosition();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Pushpin;\n    }\n    destroy() {\n        this.el.style.top = null;\n        this._removePinClasses();\n        // Remove pushpin Inst\n        let index = Pushpin._pushpins.indexOf(this);\n        Pushpin._pushpins.splice(index, 1);\n        if (Pushpin._pushpins.length === 0) {\n            this._removeEventHandlers();\n        }\n        this.el.M_Pushpin = undefined;\n    }\n    static _updateElements() {\n        for (let elIndex in Pushpin._pushpins) {\n            let pInstance = Pushpin._pushpins[elIndex];\n            pInstance._updatePosition();\n        }\n    }\n    _setupEventHandlers() {\n        document.addEventListener('scroll', Pushpin._updateElements);\n    }\n    _removeEventHandlers() {\n        document.removeEventListener('scroll', Pushpin._updateElements);\n    }\n    _updatePosition() {\n        let scrolled = global_1.M.getDocumentScrollTop() + this.options.offset;\n        if (this.options.top <= scrolled &&\n            this.options.bottom >= scrolled &&\n            !this.el.classList.contains('pinned')) {\n            this._removePinClasses();\n            this.el.style.top = `${this.options.offset}px`;\n            this.el.classList.add('pinned');\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pinned');\n            }\n        }\n        // Add pin-top (when scrolled position is above top)\n        if (scrolled < this.options.top && !this.el.classList.contains('pin-top')) {\n            this._removePinClasses();\n            this.el.style.top = '0';\n            this.el.classList.add('pin-top');\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pin-top');\n            }\n        }\n        // Add pin-bottom (when scrolled position is below bottom)\n        if (scrolled > this.options.bottom && !this.el.classList.contains('pin-bottom')) {\n            this._removePinClasses();\n            this.el.classList.add('pin-bottom');\n            this.el.style.top = `${this.options.bottom - this.originalOffset}px`;\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pin-bottom');\n            }\n        }\n    }\n    _removePinClasses() {\n        // IE 11 bug (can't remove multiple classes in one line)\n        this.el.classList.remove('pin-top');\n        this.el.classList.remove('pinned');\n        this.el.classList.remove('pin-bottom');\n    }\n}\nexports.Pushpin = Pushpin;\n(() => {\n    Pushpin._pushpins = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQy9FLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3pCLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNuQyxJQUFJLENBQUMsRUFBa0IsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLGNBQWMsSUFBSSxDQUFDO1lBRXRGLDRCQUE0QjtZQUM1QixJQUFJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsS0FBSyxVQUFVLEVBQUU7Z0JBQ3ZELElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxZQUFZLENBQUMsQ0FBQzthQUN4RDtTQUNGO0lBQ0gsQ0FBQztJQUVELGlCQUFpQjtRQUNmLHdEQUF3RDtRQUN4RCxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN6QyxDQUFDO0NBS0Y7QUEzR0QsMEJBMkdDO0FBSEM7SUFDRSxPQUFPLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztBQUN6QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL3B1c2hwaW4udHM/MmZiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcblxubGV0IF9kZWZhdWx0cyA9IHtcbiAgdG9wOiAwLFxuICBib3R0b206IEluZmluaXR5LFxuICBvZmZzZXQ6IDAsXG4gIG9uUG9zaXRpb25DaGFuZ2U6IG51bGxcbn07XG5cbmV4cG9ydCBjbGFzcyBQdXNocGluIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgc3RhdGljIF9wdXNocGluczogYW55W107XG4gIG9yaWdpbmFsT2Zmc2V0OiBhbnk7XG5cbiAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihQdXNocGluLCBlbCwgb3B0aW9ucyk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1B1c2hwaW4gPSB0aGlzO1xuICAgIHRoaXMub3B0aW9ucyA9IHsuLi5QdXNocGluLmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICB0aGlzLm9yaWdpbmFsT2Zmc2V0ID0gKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLm9mZnNldFRvcDtcbiAgICBQdXNocGluLl9wdXNocGlucy5wdXNoKHRoaXMpO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgcmV0dXJuIGRvbUVsZW0uTV9QdXNocGluO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUudG9wID0gbnVsbDtcbiAgICB0aGlzLl9yZW1vdmVQaW5DbGFzc2VzKCk7XG4gICAgLy8gUmVtb3ZlIHB1c2hwaW4gSW5zdFxuICAgIGxldCBpbmRleCA9IFB1c2hwaW4uX3B1c2hwaW5zLmluZGV4T2YodGhpcyk7XG4gICAgUHVzaHBpbi5fcHVzaHBpbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICBpZiAoUHVzaHBpbi5fcHVzaHBpbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgfVxuICAgICh0aGlzLmVsIGFzIGFueSkuTV9QdXNocGluID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgc3RhdGljIF91cGRhdGVFbGVtZW50cygpIHtcbiAgICBmb3IgKGxldCBlbEluZGV4IGluIFB1c2hwaW4uX3B1c2hwaW5zKSB7XG4gICAgICBsZXQgcEluc3RhbmNlID0gUHVzaHBpbi5fcHVzaHBpbnNbZWxJbmRleF07XG4gICAgICBwSW5zdGFuY2UuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBQdXNocGluLl91cGRhdGVFbGVtZW50cyk7XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBQdXNocGluLl91cGRhdGVFbGVtZW50cyk7XG4gIH1cblxuICBfdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgbGV0IHNjcm9sbGVkID0gTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpICsgdGhpcy5vcHRpb25zLm9mZnNldDtcblxuICAgIGlmIChcbiAgICAgIHRoaXMub3B0aW9ucy50b3AgPD0gc2Nyb2xsZWQgJiZcbiAgICAgIHRoaXMub3B0aW9ucy5ib3R0b20gPj0gc2Nyb2xsZWQgJiZcbiAgICAgICF0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygncGlubmVkJylcbiAgICApIHtcbiAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcbiAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50b3AgPSBgJHt0aGlzLm9wdGlvbnMub2Zmc2V0fXB4YDtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgncGlubmVkJyk7XG5cbiAgICAgIC8vIG9uUG9zaXRpb25DaGFuZ2UgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UuY2FsbCh0aGlzLCAncGlubmVkJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIHBpbi10b3AgKHdoZW4gc2Nyb2xsZWQgcG9zaXRpb24gaXMgYWJvdmUgdG9wKVxuICAgIGlmIChzY3JvbGxlZCA8IHRoaXMub3B0aW9ucy50b3AgJiYgIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwaW4tdG9wJykpIHtcbiAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcbiAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50b3AgPSAnMCc7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3Bpbi10b3AnKTtcblxuICAgICAgLy8gb25Qb3NpdGlvbkNoYW5nZSBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZS5jYWxsKHRoaXMsICdwaW4tdG9wJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIHBpbi1ib3R0b20gKHdoZW4gc2Nyb2xsZWQgcG9zaXRpb24gaXMgYmVsb3cgYm90dG9tKVxuICAgIGlmIChzY3JvbGxlZCA+IHRoaXMub3B0aW9ucy5ib3R0b20gJiYgIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwaW4tYm90dG9tJykpIHtcbiAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgncGluLWJvdHRvbScpO1xuICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRvcCA9IGAke3RoaXMub3B0aW9ucy5ib3R0b20gLSB0aGlzLm9yaWdpbmFsT2Zmc2V0fXB4YDtcblxuICAgICAgLy8gb25Qb3NpdGlvbkNoYW5nZSBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZS5jYWxsKHRoaXMsICdwaW4tYm90dG9tJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3JlbW92ZVBpbkNsYXNzZXMoKSB7XG4gICAgLy8gSUUgMTEgYnVnIChjYW4ndCByZW1vdmUgbXVsdGlwbGUgY2xhc3NlcyBpbiBvbmUgbGluZSlcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Bpbi10b3AnKTtcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Bpbm5lZCcpO1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncGluLWJvdHRvbScpO1xuICB9XG5cbiAgc3RhdGljIHtcbiAgICBQdXNocGluLl9wdXNocGlucyA9IFtdO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pushpin.ts\n");

/***/ }),

/***/ "./src/range.ts":
/*!**********************!*\
  !*** ./src/range.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Range = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst _defaults = {};\n// TODO: !!!!!\nclass Range extends component_1.Component {\n    constructor(el, options) {\n        super(Range, el, options);\n        this._handleRangeChange = () => {\n            this.value.innerHTML = this.el.value;\n            if (!this.thumb.classList.contains('active')) {\n                this._showRangeBubble();\n            }\n            const offsetLeft = this._calcRangeOffset();\n            this.thumb.classList.add('active');\n            this.thumb.style.left = offsetLeft + 'px';\n        };\n        this._handleRangeMousedownTouchstart = (e) => {\n            // Set indicator value\n            this.value.innerHTML = this.el.value;\n            this._mousedown = true;\n            this.el.classList.add('active');\n            if (!this.thumb.classList.contains('active')) {\n                this._showRangeBubble();\n            }\n            if (e.type !== 'input') {\n                const offsetLeft = this._calcRangeOffset();\n                this.thumb.classList.add('active');\n                this.thumb.style.left = offsetLeft + 'px';\n            }\n        };\n        this._handleRangeInputMousemoveTouchmove = () => {\n            if (this._mousedown) {\n                if (!this.thumb.classList.contains('active')) {\n                    this._showRangeBubble();\n                }\n                const offsetLeft = this._calcRangeOffset();\n                this.thumb.classList.add('active');\n                this.thumb.style.left = offsetLeft + 'px';\n                this.value.innerHTML = this.el.value;\n            }\n        };\n        this._handleRangeMouseupTouchend = () => {\n            this._mousedown = false;\n            this.el.classList.remove('active');\n        };\n        this._handleRangeBlurMouseoutTouchleave = () => {\n            if (!this._mousedown) {\n                const paddingLeft = parseInt(getComputedStyle(this.el).paddingLeft);\n                const marginLeft = 7 + paddingLeft + 'px';\n                if (this.thumb.classList.contains('active')) {\n                    animejs_1.default.remove(this.thumb);\n                    (0, animejs_1.default)({\n                        targets: this.thumb,\n                        height: 0,\n                        width: 0,\n                        top: 10,\n                        easing: 'easeOutQuad',\n                        marginLeft: marginLeft,\n                        duration: 100\n                    });\n                }\n                this.thumb.classList.remove('active');\n            }\n        };\n        this.el.M_Range = this;\n        this.options = Object.assign(Object.assign({}, Range.defaults), options);\n        this._mousedown = false;\n        this._setupThumb();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Range;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._removeThumb();\n        this.el.M_Range = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('change', this._handleRangeChange);\n        this.el.addEventListener('mousedown', this._handleRangeMousedownTouchstart);\n        this.el.addEventListener('touchstart', this._handleRangeMousedownTouchstart);\n        this.el.addEventListener('input', this._handleRangeInputMousemoveTouchmove);\n        this.el.addEventListener('mousemove', this._handleRangeInputMousemoveTouchmove);\n        this.el.addEventListener('touchmove', this._handleRangeInputMousemoveTouchmove);\n        this.el.addEventListener('mouseup', this._handleRangeMouseupTouchend);\n        this.el.addEventListener('touchend', this._handleRangeMouseupTouchend);\n        this.el.addEventListener('blur', this._handleRangeBlurMouseoutTouchleave);\n        this.el.addEventListener('mouseout', this._handleRangeBlurMouseoutTouchleave);\n        this.el.addEventListener('touchleave', this._handleRangeBlurMouseoutTouchleave);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('change', this._handleRangeChange);\n        this.el.removeEventListener('mousedown', this._handleRangeMousedownTouchstart);\n        this.el.removeEventListener('touchstart', this._handleRangeMousedownTouchstart);\n        this.el.removeEventListener('input', this._handleRangeInputMousemoveTouchmove);\n        this.el.removeEventListener('mousemove', this._handleRangeInputMousemoveTouchmove);\n        this.el.removeEventListener('touchmove', this._handleRangeInputMousemoveTouchmove);\n        this.el.removeEventListener('mouseup', this._handleRangeMouseupTouchend);\n        this.el.removeEventListener('touchend', this._handleRangeMouseupTouchend);\n        this.el.removeEventListener('blur', this._handleRangeBlurMouseoutTouchleave);\n        this.el.removeEventListener('mouseout', this._handleRangeBlurMouseoutTouchleave);\n        this.el.removeEventListener('touchleave', this._handleRangeBlurMouseoutTouchleave);\n    }\n    _setupThumb() {\n        this.thumb = document.createElement('span');\n        this.value = document.createElement('span');\n        this.thumb.classList.add('thumb');\n        this.value.classList.add('value');\n        this.thumb.append(this.value);\n        this.el.after(this.thumb);\n    }\n    _removeThumb() {\n        this.thumb.remove();\n    }\n    _showRangeBubble() {\n        const paddingLeft = parseInt(getComputedStyle(this.thumb.parentElement).paddingLeft);\n        const marginLeft = -7 + paddingLeft + 'px'; // TODO: fix magic number?\n        animejs_1.default.remove(this.thumb);\n        (0, animejs_1.default)({\n            targets: this.thumb,\n            height: 30,\n            width: 30,\n            top: -30,\n            marginLeft: marginLeft,\n            duration: 300,\n            easing: 'easeOutQuint'\n        });\n    }\n    _calcRangeOffset() {\n        const width = this.el.getBoundingClientRect().width - 15;\n        const max = parseFloat(this.el.getAttribute('max')) || 100; // Range default max\n        const min = parseFloat(this.el.getAttribute('min')) || 0; // Range default min\n        const percent = (parseFloat(this.el.value) - min) / (max - min);\n        return percent * width;\n    }\n    static Init() {\n        Range.init(document.querySelectorAll('input[type=range]'), {});\n    }\n}\nexports.Range = Range;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmFuZ2UudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsaUZBQXdDO0FBQ3hDLGdIQUEyQjtBQUUzQixNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUM7QUFFckIsY0FBYztBQUVkLE1BQWEsS0FBTSxTQUFRLHFCQUFTO0lBTWxDLFlBQVksRUFBRSxFQUFFLE9BQU87UUFDckIsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7UUF1RDVCLHVCQUFrQixHQUFHLEdBQUcsRUFBRTtZQUN4QixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUNyQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUM1QyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQzthQUN6QjtZQUNELE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1lBQzNDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsVUFBVSxHQUFDLElBQUksQ0FBQztRQUMxQyxDQUFDO1FBRUQsb0NBQStCLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUN0QyxzQkFBc0I7WUFDdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDckMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7WUFDdkIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2hDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQzVDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO2FBQ3pCO1lBQ0QsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLE9BQU8sRUFBRTtnQkFDdEIsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7Z0JBQzNDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDbkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLFVBQVUsR0FBQyxJQUFJLENBQUM7YUFDekM7UUFDSCxDQUFDO1FBRUQsd0NBQW1DLEdBQUcsR0FBRyxFQUFFO1lBQ3pDLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDbkIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRTtvQkFDNUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7aUJBQ3pCO2dCQUNELE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO2dCQUMzQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxVQUFVLEdBQUMsSUFBSSxDQUFDO2dCQUN4QyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzthQUN0QztRQUNILENBQUM7UUFFRCxnQ0FBMkIsR0FBRyxHQUFHLEVBQUU7WUFDakMsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7WUFDeEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JDLENBQUM7UUFFRCx1Q0FBa0MsR0FBRyxHQUFHLEVBQUU7WUFDeEMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQ3BCLE1BQU0sV0FBVyxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQ3BFLE1BQU0sVUFBVSxHQUFHLENBQUMsR0FBRyxXQUFXLEdBQUcsSUFBSSxDQUFDO2dCQUMxQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRTtvQkFDM0MsaUJBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUN4QixxQkFBSSxFQUFDO3dCQUNILE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSzt3QkFDbkIsTUFBTSxFQUFFLENBQUM7d0JBQ1QsS0FBSyxFQUFFLENBQUM7d0JBQ1IsR0FBRyxFQUFFLEVBQUU7d0JBQ1AsTUFBTSxFQUFFLGFBQWE7d0JBQ3JCLFVBQVUsRUFBRSxVQUFVO3dCQUN0QixRQUFRLEVBQUUsR0FBRztxQkFDZCxDQUFDLENBQUM7aUJBQ0o7Z0JBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQ3ZDO1FBQ0gsQ0FBQztRQWxIRSxJQUFJLENBQUMsRUFBVSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFDaEMsSUFBSSxDQUFDLE9BQU8sbUNBQU8sS0FBSyxDQUFDLFFBQVEsR0FBSyxPQUFPLENBQUMsQ0FBQztRQUMvQyxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztRQUN4QixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELE1BQU0sS0FBSyxRQUFRO1FBQ2pCLE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7SUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxPQUFPO1FBQ3RCLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFRCxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUU7UUFDbkIsTUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ3pDLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQztJQUN6QixDQUFDO0lBRUQsT0FBTztRQUNMLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQzVCLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUNuQixJQUFJLENBQUMsRUFBVSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUM7SUFDdkMsQ0FBQztJQUVELG1CQUFtQjtRQUNqQixJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUM1RCxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsK0JBQStCLENBQUMsQ0FBQztRQUM1RSxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsK0JBQStCLENBQUMsQ0FBQztRQUM3RSxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsbUNBQW1DLENBQUMsQ0FBQztRQUM1RSxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsbUNBQW1DLENBQUMsQ0FBQztRQUNoRixJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsbUNBQW1DLENBQUMsQ0FBQztRQUNoRixJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsMkJBQTJCLENBQUMsQ0FBQztRQUN0RSxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsMkJBQTJCLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsa0NBQWtDLENBQUMsQ0FBQztRQUMxRSxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsa0NBQWtDLENBQUMsQ0FBQztRQUM5RSxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsa0NBQWtDLENBQUMsQ0FBQztJQUNsRixDQUFDO0lBRUQsb0JBQW9CO1FBQ2xCLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQy9ELElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO1FBQy9FLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO1FBQ2hGLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO1FBQy9FLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO1FBQ25GLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO1FBQ25GLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1FBQzFFLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO1FBQzdFLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO1FBQ2pGLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO0lBQ3JGLENBQUM7SUFnRUQsV0FBVztRQUNULElBQUksQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDNUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRCxZQUFZO1FBQ1YsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBRUQsZ0JBQWdCO1FBQ2QsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDckYsTUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsV0FBVyxHQUFHLElBQUksQ0FBQyxDQUFDLDBCQUEwQjtRQUN0RSxpQkFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDeEIscUJBQUksRUFBQztZQUNILE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSztZQUNuQixNQUFNLEVBQUUsRUFBRTtZQUNWLEtBQUssRUFBRSxFQUFFO1lBQ1QsR0FBRyxFQUFFLENBQUMsRUFBRTtZQUNSLFVBQVUsRUFBRSxVQUFVO1lBQ3RCLFFBQVEsRUFBRSxHQUFHO1lBQ2IsTUFBTSxFQUFFLGNBQWM7U0FDdkIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGdCQUFnQjtRQUNkLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ3pELE1BQU0sR0FBRyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLG9CQUFvQjtRQUNoRixNQUFNLEdBQUcsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxvQkFBb0I7UUFDOUUsTUFBTSxPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUNoRSxPQUFPLE9BQU8sR0FBRyxLQUFLLENBQUM7SUFDekIsQ0FBQztJQUVELE1BQU0sQ0FBQyxJQUFJO1FBQ1QsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNqRSxDQUFDO0NBQ0Y7QUFuS0Qsc0JBbUtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL3JhbmdlLnRzPzY1OGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5jb25zdCBfZGVmYXVsdHMgPSB7fTtcblxuLy8gVE9ETzogISEhISFcblxuZXhwb3J0IGNsYXNzIFJhbmdlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgZWw6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHByaXZhdGUgX21vdXNlZG93bjogYm9vbGVhbjtcbiAgdmFsdWU6IEhUTUxFbGVtZW50O1xuICB0aHVtYjogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihSYW5nZSwgZWwsIG9wdGlvbnMpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9SYW5nZSA9IHRoaXM7XG4gICAgdGhpcy5vcHRpb25zID0gey4uLlJhbmdlLmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICB0aGlzLl9tb3VzZWRvd24gPSBmYWxzZTtcbiAgICB0aGlzLl9zZXR1cFRodW1iKCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgY29uc3QgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICByZXR1cm4gZG9tRWxlbS5NX1JhbmdlO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5fcmVtb3ZlVGh1bWIoKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fUmFuZ2UgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlUmFuZ2VDaGFuZ2UpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0KTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnQpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmUpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZSk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmQpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZCk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobGVhdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmUpO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVSYW5nZUNoYW5nZSk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnQpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZVJhbmdlTW91c2Vkb3duVG91Y2hzdGFydCk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmUpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZSk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZCk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZVJhbmdlTW91c2V1cFRvdWNoZW5kKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmUpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmUpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hsZWF2ZScsIHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZSk7XG4gIH1cblxuICBfaGFuZGxlUmFuZ2VDaGFuZ2UgPSAoKSA9PiB7XG4gICAgdGhpcy52YWx1ZS5pbm5lckhUTUwgPSB0aGlzLmVsLnZhbHVlO1xuICAgIGlmICghdGhpcy50aHVtYi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICB0aGlzLl9zaG93UmFuZ2VCdWJibGUoKTtcbiAgICB9XG4gICAgY29uc3Qgb2Zmc2V0TGVmdCA9IHRoaXMuX2NhbGNSYW5nZU9mZnNldCgpO1xuICAgIHRoaXMudGh1bWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgdGhpcy50aHVtYi5zdHlsZS5sZWZ0ID0gb2Zmc2V0TGVmdCsncHgnO1xuICB9XG5cbiAgX2hhbmRsZVJhbmdlTW91c2Vkb3duVG91Y2hzdGFydCA9IChlKSA9PiB7XG4gICAgLy8gU2V0IGluZGljYXRvciB2YWx1ZVxuICAgIHRoaXMudmFsdWUuaW5uZXJIVE1MID0gdGhpcy5lbC52YWx1ZTtcbiAgICB0aGlzLl9tb3VzZWRvd24gPSB0cnVlO1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgaWYgKCF0aGlzLnRodW1iLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIHRoaXMuX3Nob3dSYW5nZUJ1YmJsZSgpO1xuICAgIH1cbiAgICBpZiAoZS50eXBlICE9PSAnaW5wdXQnKSB7XG4gICAgICBjb25zdCBvZmZzZXRMZWZ0ID0gdGhpcy5fY2FsY1JhbmdlT2Zmc2V0KCk7XG4gICAgICB0aGlzLnRodW1iLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy50aHVtYi5zdHlsZS5sZWZ0ID0gb2Zmc2V0TGVmdCsncHgnO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9tb3VzZWRvd24pIHtcbiAgICAgIGlmICghdGhpcy50aHVtYi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuX3Nob3dSYW5nZUJ1YmJsZSgpO1xuICAgICAgfVxuICAgICAgY29uc3Qgb2Zmc2V0TGVmdCA9IHRoaXMuX2NhbGNSYW5nZU9mZnNldCgpO1xuICAgICAgdGhpcy50aHVtYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMudGh1bWIuc3R5bGUubGVmdCA9IG9mZnNldExlZnQrJ3B4JztcbiAgICAgIHRoaXMudmFsdWUuaW5uZXJIVE1MID0gdGhpcy5lbC52YWx1ZTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmQgPSAoKSA9PiB7XG4gICAgdGhpcy5fbW91c2Vkb3duID0gZmFsc2U7XG4gICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfVxuXG4gIF9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmUgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLl9tb3VzZWRvd24pIHtcbiAgICAgIGNvbnN0IHBhZGRpbmdMZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsKS5wYWRkaW5nTGVmdCk7XG4gICAgICBjb25zdCBtYXJnaW5MZWZ0ID0gNyArIHBhZGRpbmdMZWZ0ICsgJ3B4JztcbiAgICAgIGlmICh0aGlzLnRodW1iLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgYW5pbS5yZW1vdmUodGhpcy50aHVtYik7XG4gICAgICAgIGFuaW0oe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMudGh1bWIsXG4gICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgIHRvcDogMTAsXG4gICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICAgIG1hcmdpbkxlZnQ6IG1hcmdpbkxlZnQsXG4gICAgICAgICAgZHVyYXRpb246IDEwMFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMudGh1bWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwVGh1bWIoKSB7XG4gICAgdGhpcy50aHVtYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB0aGlzLnZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRoaXMudGh1bWIuY2xhc3NMaXN0LmFkZCgndGh1bWInKTtcbiAgICB0aGlzLnZhbHVlLmNsYXNzTGlzdC5hZGQoJ3ZhbHVlJyk7XG4gICAgdGhpcy50aHVtYi5hcHBlbmQodGhpcy52YWx1ZSk7XG4gICAgdGhpcy5lbC5hZnRlcih0aGlzLnRodW1iKTtcbiAgfVxuXG4gIF9yZW1vdmVUaHVtYigpIHtcbiAgICB0aGlzLnRodW1iLnJlbW92ZSgpO1xuICB9XG5cbiAgX3Nob3dSYW5nZUJ1YmJsZSgpIHtcbiAgICBjb25zdCBwYWRkaW5nTGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUodGhpcy50aHVtYi5wYXJlbnRFbGVtZW50KS5wYWRkaW5nTGVmdCk7XG4gICAgY29uc3QgbWFyZ2luTGVmdCA9IC03ICsgcGFkZGluZ0xlZnQgKyAncHgnOyAvLyBUT0RPOiBmaXggbWFnaWMgbnVtYmVyP1xuICAgIGFuaW0ucmVtb3ZlKHRoaXMudGh1bWIpO1xuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogdGhpcy50aHVtYixcbiAgICAgIGhlaWdodDogMzAsXG4gICAgICB3aWR0aDogMzAsXG4gICAgICB0b3A6IC0zMCxcbiAgICAgIG1hcmdpbkxlZnQ6IG1hcmdpbkxlZnQsXG4gICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1aW50J1xuICAgIH0pO1xuICB9XG5cbiAgX2NhbGNSYW5nZU9mZnNldCgpOiBudW1iZXIge1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIDE1O1xuICAgIGNvbnN0IG1heCA9IHBhcnNlRmxvYXQodGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ21heCcpKSB8fCAxMDA7IC8vIFJhbmdlIGRlZmF1bHQgbWF4XG4gICAgY29uc3QgbWluID0gcGFyc2VGbG9hdCh0aGlzLmVsLmdldEF0dHJpYnV0ZSgnbWluJykpIHx8IDA7IC8vIFJhbmdlIGRlZmF1bHQgbWluXG4gICAgY29uc3QgcGVyY2VudCA9IChwYXJzZUZsb2F0KHRoaXMuZWwudmFsdWUpIC0gbWluKSAvIChtYXggLSBtaW4pO1xuICAgIHJldHVybiBwZXJjZW50ICogd2lkdGg7XG4gIH1cblxuICBzdGF0aWMgSW5pdCgpe1xuICAgIFJhbmdlLmluaXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1yYW5nZV0nKSwge30pO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/range.ts\n");

/***/ }),

/***/ "./src/scrollspy.ts":
/*!**************************!*\
  !*** ./src/scrollspy.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ScrollSpy = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nlet _defaults = {\n    throttle: 100,\n    scrollOffset: 200,\n    activeClass: 'active',\n    getActiveElement: (id) => { return 'a[href=\"#' + id + '\"]'; }\n};\nclass ScrollSpy extends component_1.Component {\n    constructor(el, options) {\n        super(ScrollSpy, el, options);\n        this._handleThrottledResize = (() => global_1.M.throttle(function () { this._handleWindowScroll(); }, 200).bind(this))();\n        this._handleTriggerClick = (e) => {\n            const trigger = e.target;\n            for (let i = ScrollSpy._elements.length - 1; i >= 0; i--) {\n                const scrollspy = ScrollSpy._elements[i];\n                const x = document.querySelector('a[href=\"#' + scrollspy.el.id + '\"]');\n                if (trigger === x) {\n                    e.preventDefault();\n                    const offset = ScrollSpy._offset(scrollspy.el).top + 1;\n                    (0, animejs_1.default)({\n                        targets: [document.documentElement, document.body],\n                        scrollTop: offset - scrollspy.options.scrollOffset,\n                        duration: 400,\n                        easing: 'easeOutCubic'\n                    });\n                    break;\n                }\n            }\n        };\n        this._handleWindowScroll = () => {\n            // unique tick id\n            ScrollSpy._ticks++;\n            // viewport rectangle\n            let top = global_1.M.getDocumentScrollTop(), left = global_1.M.getDocumentScrollLeft(), right = left + window.innerWidth, bottom = top + window.innerHeight;\n            // determine which elements are in view\n            let intersections = ScrollSpy._findElements(top, right, bottom, left);\n            for (let i = 0; i < intersections.length; i++) {\n                let scrollspy = intersections[i];\n                let lastTick = scrollspy.tickId;\n                if (lastTick < 0) {\n                    // entered into view\n                    scrollspy._enter();\n                }\n                // update tick id\n                scrollspy.tickId = ScrollSpy._ticks;\n            }\n            for (let i = 0; i < ScrollSpy._elementsInView.length; i++) {\n                let scrollspy = ScrollSpy._elementsInView[i];\n                let lastTick = scrollspy.tickId;\n                if (lastTick >= 0 && lastTick !== ScrollSpy._ticks) {\n                    // exited from view\n                    scrollspy._exit();\n                    scrollspy.tickId = -1;\n                }\n            }\n            // remember elements in view for next tick\n            ScrollSpy._elementsInView = intersections;\n        };\n        this.el.M_ScrollSpy = this;\n        this.options = Object.assign(Object.assign({}, ScrollSpy.defaults), options);\n        ScrollSpy._elements.push(this);\n        ScrollSpy._count++;\n        ScrollSpy._increment++;\n        this.tickId = -1;\n        this.id = ScrollSpy._increment;\n        this._setupEventHandlers();\n        this._handleWindowScroll();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_ScrollSpy;\n    }\n    destroy() {\n        ScrollSpy._elements.splice(ScrollSpy._elements.indexOf(this), 1);\n        ScrollSpy._elementsInView.splice(ScrollSpy._elementsInView.indexOf(this), 1);\n        ScrollSpy._visibleElements.splice(ScrollSpy._visibleElements.indexOf(this.el), 1);\n        ScrollSpy._count--;\n        this._removeEventHandlers();\n        const actElem = document.querySelector(this.options.getActiveElement(this.el.id));\n        actElem.classList.remove(this.options.activeClass);\n        this.el.M_ScrollSpy = undefined;\n    }\n    _setupEventHandlers() {\n        if (ScrollSpy._count === 1) {\n            window.addEventListener('scroll', this._handleWindowScroll);\n            window.addEventListener('resize', this._handleThrottledResize);\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n    }\n    _removeEventHandlers() {\n        if (ScrollSpy._count === 0) {\n            window.removeEventListener('scroll', this._handleWindowScroll);\n            window.removeEventListener('resize', this._handleThrottledResize);\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n    }\n    static _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    static _findElements(top, right, bottom, left) {\n        let hits = [];\n        for (let i = 0; i < ScrollSpy._elements.length; i++) {\n            let scrollspy = ScrollSpy._elements[i];\n            let currTop = top + scrollspy.options.scrollOffset || 200;\n            if (scrollspy.el.getBoundingClientRect().height > 0) {\n                let elTop = ScrollSpy._offset(scrollspy.el).top, elLeft = ScrollSpy._offset(scrollspy.el).left, elRight = elLeft + scrollspy.el.getBoundingClientRect().width, elBottom = elTop + scrollspy.el.getBoundingClientRect().height;\n                let isIntersect = !(elLeft > right ||\n                    elRight < left ||\n                    elTop > bottom ||\n                    elBottom < currTop);\n                if (isIntersect) {\n                    hits.push(scrollspy);\n                }\n            }\n        }\n        return hits;\n    }\n    _enter() {\n        var _a;\n        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(value => value.getBoundingClientRect().height !== 0);\n        if (ScrollSpy._visibleElements[0]) {\n            const actElem = document.querySelector(this.options.getActiveElement(ScrollSpy._visibleElements[0].id));\n            actElem === null || actElem === void 0 ? void 0 : actElem.classList.remove(this.options.activeClass);\n            if (ScrollSpy._visibleElements[0].M_ScrollSpy && this.id < ScrollSpy._visibleElements[0].M_ScrollSpy.id) {\n                ScrollSpy._visibleElements.unshift(this.el);\n            }\n            else {\n                ScrollSpy._visibleElements.push(this.el);\n            }\n        }\n        else {\n            ScrollSpy._visibleElements.push(this.el);\n        }\n        const selector = this.options.getActiveElement(ScrollSpy._visibleElements[0].id);\n        (_a = document.querySelector(selector)) === null || _a === void 0 ? void 0 : _a.classList.add(this.options.activeClass);\n    }\n    _exit() {\n        var _a;\n        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(value => value.getBoundingClientRect().height !== 0);\n        if (ScrollSpy._visibleElements[0]) {\n            const actElem = document.querySelector(this.options.getActiveElement(ScrollSpy._visibleElements[0].id));\n            actElem === null || actElem === void 0 ? void 0 : actElem.classList.remove(this.options.activeClass);\n            ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter((x) => x.id != this.el.id);\n            if (ScrollSpy._visibleElements[0]) {\n                // Check if empty\n                const selector = this.options.getActiveElement(ScrollSpy._visibleElements[0].id);\n                (_a = document.querySelector(selector)) === null || _a === void 0 ? void 0 : _a.classList.add(this.options.activeClass);\n            }\n        }\n    }\n}\nexports.ScrollSpy = ScrollSpy;\n(() => {\n    ScrollSpy._elements = [];\n    ScrollSpy._elementsInView = [];\n    ScrollSpy._visibleElements = []; // Array.<cash>\n    ScrollSpy._count = 0;\n    ScrollSpy._increment = 0;\n    ScrollSpy._ticks = 0;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO2FBQzNFO1NBQ0Y7SUFDSCxDQUFDO0NBVUY7QUEvTUQsOEJBK01DO0FBUkM7SUFDRSxTQUFTLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUN6QixTQUFTLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztJQUMvQixTQUFTLENBQUMsZ0JBQWdCLEdBQUcsRUFBRSxDQUFDLENBQUMsZUFBZTtJQUNoRCxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUNyQixTQUFTLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztJQUN6QixTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztBQUN2QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL3Njcm9sbHNweS50cz81ZjIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgTSB9IGZyb20gXCIuL2dsb2JhbFwiO1xuaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxubGV0IF9kZWZhdWx0cyA9IHtcbiAgdGhyb3R0bGU6IDEwMCxcbiAgc2Nyb2xsT2Zmc2V0OiAyMDAsIC8vIG9mZnNldCAtIDIwMCBhbGxvd3MgZWxlbWVudHMgbmVhciBib3R0b20gb2YgcGFnZSB0byBzY3JvbGxcbiAgYWN0aXZlQ2xhc3M6ICdhY3RpdmUnLFxuICBnZXRBY3RpdmVFbGVtZW50OiAoaWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7IHJldHVybiAnYVtocmVmPVwiIycraWQrJ1wiXSc7IH1cbn07XG5cbmV4cG9ydCBjbGFzcyBTY3JvbGxTcHkgZXh0ZW5kcyBDb21wb25lbnQge1xuICBlbDogSFRNTEVsZW1lbnQ7XG4gIHN0YXRpYyBfZWxlbWVudHM6IFNjcm9sbFNweVtdO1xuICBzdGF0aWMgX2NvdW50OiBudW1iZXI7XG4gIHN0YXRpYyBfaW5jcmVtZW50OiBudW1iZXI7XG4gIHRpY2tJZDogbnVtYmVyO1xuICBpZDogYW55O1xuICBzdGF0aWMgX2VsZW1lbnRzSW5WaWV3OiBTY3JvbGxTcHlbXTtcbiAgc3RhdGljIF92aXNpYmxlRWxlbWVudHM6IGFueVtdO1xuICBzdGF0aWMgX3RpY2tzOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihTY3JvbGxTcHksIGVsLCBvcHRpb25zKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fU2Nyb2xsU3B5ID0gdGhpcztcbiAgICB0aGlzLm9wdGlvbnMgPSB7Li4uU2Nyb2xsU3B5LmRlZmF1bHRzLCAuLi5vcHRpb25zfTtcbiAgICBTY3JvbGxTcHkuX2VsZW1lbnRzLnB1c2godGhpcyk7XG4gICAgU2Nyb2xsU3B5Ll9jb3VudCsrO1xuICAgIFNjcm9sbFNweS5faW5jcmVtZW50Kys7XG4gICAgdGhpcy50aWNrSWQgPSAtMTtcbiAgICB0aGlzLmlkID0gU2Nyb2xsU3B5Ll9pbmNyZW1lbnQ7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgcmV0dXJuIGRvbUVsZW0uTV9TY3JvbGxTcHk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIFNjcm9sbFNweS5fZWxlbWVudHMuc3BsaWNlKFNjcm9sbFNweS5fZWxlbWVudHMuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgU2Nyb2xsU3B5Ll9lbGVtZW50c0luVmlldy5zcGxpY2UoU2Nyb2xsU3B5Ll9lbGVtZW50c0luVmlldy5pbmRleE9mKHRoaXMpLCAxKTtcbiAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5zcGxpY2UoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMuaW5kZXhPZih0aGlzLmVsKSwgMSk7XG4gICAgU2Nyb2xsU3B5Ll9jb3VudC0tO1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICBjb25zdCBhY3RFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudCh0aGlzLmVsLmlkKSk7XG4gICAgYWN0RWxlbS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1Njcm9sbFNweSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgaWYgKFNjcm9sbFNweS5fY291bnQgPT09IDEpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZSk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcbiAgICB9XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICBpZiAoU2Nyb2xsU3B5Ll9jb3VudCA9PT0gMCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVUaHJvdHRsZWRSZXNpemUgPSAoKCkgPT4gTS50aHJvdHRsZShmdW5jdGlvbigpeyB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwoKTsgfSwgMjAwKS5iaW5kKHRoaXMpKSgpOyBcblxuICBfaGFuZGxlVHJpZ2dlckNsaWNrID0gKGUpID0+IHtcbiAgICBjb25zdCB0cmlnZ2VyID0gZS50YXJnZXQ7XG4gICAgZm9yIChsZXQgaSA9IFNjcm9sbFNweS5fZWxlbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IHNjcm9sbHNweSA9IFNjcm9sbFNweS5fZWxlbWVudHNbaV07XG5cbiAgICAgIGNvbnN0IHggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhW2hyZWY9XCIjJytzY3JvbGxzcHkuZWwuaWQrJ1wiXScpO1xuICAgICAgaWYgKHRyaWdnZXIgPT09IHgpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBTY3JvbGxTcHkuX29mZnNldChzY3JvbGxzcHkuZWwpLnRvcCArIDE7XG5cbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZG9jdW1lbnQuYm9keV0sXG4gICAgICAgICAgc2Nyb2xsVG9wOiBvZmZzZXQgLSBzY3JvbGxzcHkub3B0aW9ucy5zY3JvbGxPZmZzZXQsXG4gICAgICAgICAgZHVyYXRpb246IDQwMCxcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVXaW5kb3dTY3JvbGwgPSAoKSA9PiB7XG4gICAgLy8gdW5pcXVlIHRpY2sgaWRcbiAgICBTY3JvbGxTcHkuX3RpY2tzKys7XG5cbiAgICAvLyB2aWV3cG9ydCByZWN0YW5nbGVcbiAgICBsZXQgdG9wID0gTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpLFxuICAgICAgbGVmdCA9IE0uZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCksXG4gICAgICByaWdodCA9IGxlZnQgKyB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgIGJvdHRvbSA9IHRvcCArIHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgIC8vIGRldGVybWluZSB3aGljaCBlbGVtZW50cyBhcmUgaW4gdmlld1xuICAgIGxldCBpbnRlcnNlY3Rpb25zID0gU2Nyb2xsU3B5Ll9maW5kRWxlbWVudHModG9wLCByaWdodCwgYm90dG9tLCBsZWZ0KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludGVyc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBzY3JvbGxzcHkgPSBpbnRlcnNlY3Rpb25zW2ldO1xuICAgICAgbGV0IGxhc3RUaWNrID0gc2Nyb2xsc3B5LnRpY2tJZDtcbiAgICAgIGlmIChsYXN0VGljayA8IDApIHtcbiAgICAgICAgLy8gZW50ZXJlZCBpbnRvIHZpZXdcbiAgICAgICAgc2Nyb2xsc3B5Ll9lbnRlcigpO1xuICAgICAgfVxuXG4gICAgICAvLyB1cGRhdGUgdGljayBpZFxuICAgICAgc2Nyb2xsc3B5LnRpY2tJZCA9IFNjcm9sbFNweS5fdGlja3M7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgc2Nyb2xsc3B5ID0gU2Nyb2xsU3B5Ll9lbGVtZW50c0luVmlld1tpXTtcbiAgICAgIGxldCBsYXN0VGljayA9IHNjcm9sbHNweS50aWNrSWQ7XG4gICAgICBpZiAobGFzdFRpY2sgPj0gMCAmJiBsYXN0VGljayAhPT0gU2Nyb2xsU3B5Ll90aWNrcykge1xuICAgICAgICAvLyBleGl0ZWQgZnJvbSB2aWV3XG4gICAgICAgIHNjcm9sbHNweS5fZXhpdCgpO1xuICAgICAgICBzY3JvbGxzcHkudGlja0lkID0gLTE7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHJlbWVtYmVyIGVsZW1lbnRzIGluIHZpZXcgZm9yIG5leHQgdGlja1xuICAgIFNjcm9sbFNweS5fZWxlbWVudHNJblZpZXcgPSBpbnRlcnNlY3Rpb25zO1xuICB9XG5cbiAgc3RhdGljIF9vZmZzZXQoZWwpIHtcbiAgICBjb25zdCBib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IGJveC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBkb2NFbGVtLmNsaWVudFRvcCxcbiAgICAgIGxlZnQ6IGJveC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBfZmluZEVsZW1lbnRzKHRvcDogbnVtYmVyLCByaWdodDogbnVtYmVyLCBib3R0b206IG51bWJlciwgbGVmdDogbnVtYmVyKTogU2Nyb2xsU3B5W10ge1xuICAgIGxldCBoaXRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTY3JvbGxTcHkuX2VsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgc2Nyb2xsc3B5ID0gU2Nyb2xsU3B5Ll9lbGVtZW50c1tpXTtcbiAgICAgIGxldCBjdXJyVG9wID0gdG9wICsgc2Nyb2xsc3B5Lm9wdGlvbnMuc2Nyb2xsT2Zmc2V0IHx8IDIwMDtcblxuICAgICAgaWYgKHNjcm9sbHNweS5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgPiAwKSB7XG4gICAgICAgIGxldCBlbFRvcCA9IFNjcm9sbFNweS5fb2Zmc2V0KHNjcm9sbHNweS5lbCkudG9wLFxuICAgICAgICAgIGVsTGVmdCA9IFNjcm9sbFNweS5fb2Zmc2V0KHNjcm9sbHNweS5lbCkubGVmdCxcbiAgICAgICAgICBlbFJpZ2h0ID0gZWxMZWZ0ICsgc2Nyb2xsc3B5LmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLFxuICAgICAgICAgIGVsQm90dG9tID0gZWxUb3AgKyBzY3JvbGxzcHkuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXG4gICAgICAgIGxldCBpc0ludGVyc2VjdCA9ICEoXG4gICAgICAgICAgZWxMZWZ0ID4gcmlnaHQgfHxcbiAgICAgICAgICBlbFJpZ2h0IDwgbGVmdCB8fFxuICAgICAgICAgIGVsVG9wID4gYm90dG9tIHx8XG4gICAgICAgICAgZWxCb3R0b20gPCBjdXJyVG9wXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGlzSW50ZXJzZWN0KSB7XG4gICAgICAgICAgaGl0cy5wdXNoKHNjcm9sbHNweSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhpdHM7XG4gIH1cblxuICBfZW50ZXIoKSB7XG4gICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMgPSBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5maWx0ZXIodmFsdWUgPT4gdmFsdWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ICE9PSAwKTtcblxuICAgIGlmIChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXSkge1xuICAgICAgY29uc3QgYWN0RWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmdldEFjdGl2ZUVsZW1lbnQoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0uaWQpKTtcbiAgICAgIGFjdEVsZW0/LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcblxuICAgICAgaWYgKFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdLk1fU2Nyb2xsU3B5ICYmIHRoaXMuaWQgPCBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5NX1Njcm9sbFNweS5pZCkge1xuICAgICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy51bnNoaWZ0KHRoaXMuZWwpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLnB1c2godGhpcy5lbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMucHVzaCh0aGlzLmVsKTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5pZCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik/LmNsYXNzTGlzdC5hZGQodGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcbiAgfVxuXG4gIF9leGl0KCkge1xuICAgIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzID0gU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMuZmlsdGVyKHZhbHVlID0+IHZhbHVlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCAhPT0gMCk7XG5cbiAgICBpZiAoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0pIHtcbiAgICAgIGNvbnN0IGFjdEVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5nZXRBY3RpdmVFbGVtZW50KFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdLmlkKSk7XG4gICAgICBhY3RFbGVtPy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XG5cbiAgICAgIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzID0gU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMuZmlsdGVyKCh4KSA9PiB4LmlkICE9IHRoaXMuZWwuaWQpO1xuXG4gICAgICBpZiAoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0pIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZW1wdHlcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5pZCk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpPy5jbGFzc0xpc3QuYWRkKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHtcbiAgICBTY3JvbGxTcHkuX2VsZW1lbnRzID0gW107XG4gICAgU2Nyb2xsU3B5Ll9lbGVtZW50c0luVmlldyA9IFtdO1xuICAgIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzID0gW107IC8vIEFycmF5LjxjYXNoPlxuICAgIFNjcm9sbFNweS5fY291bnQgPSAwO1xuICAgIFNjcm9sbFNweS5faW5jcmVtZW50ID0gMDtcbiAgICBTY3JvbGxTcHkuX3RpY2tzID0gMDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scrollspy.ts\n");

/***/ }),

/***/ "./src/select.ts":
/*!***********************!*\
  !*** ./src/select.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FormSelect = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    classes: '',\n    dropdownOptions: {}\n};\nclass FormSelect extends component_1.Component {\n    constructor(el, options) {\n        super(FormSelect, el, options);\n        this._handleSelectChange = () => {\n            this._setValueToInput();\n        };\n        this._handleOptionClick = (e) => {\n            e.preventDefault();\n            const virtualOption = e.target.closest('li');\n            this._selectOptionElement(virtualOption);\n            e.stopPropagation();\n        };\n        this._handleInputClick = () => {\n            if (this.dropdown && this.dropdown.isOpen) {\n                this._setValueToInput();\n                this._setSelectedStates();\n            }\n        };\n        if (this.el.classList.contains('browser-default'))\n            return;\n        this.el.M_FormSelect = this;\n        this.options = Object.assign(Object.assign({}, FormSelect.defaults), options);\n        this.isMultiple = this.el.multiple;\n        this.el.tabIndex = -1;\n        this._values = [];\n        //this.labelEl = null;\n        //this._labelFor = false;\n        this._setupDropdown();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_FormSelect;\n    }\n    destroy() {\n        // Returns label to its original owner\n        //if (this._labelFor) this.labelEl.setAttribute(\"for\", this.el.id);\n        this._removeEventHandlers();\n        this._removeDropdown();\n        this.el.M_FormSelect = undefined;\n    }\n    _setupEventHandlers() {\n        this.dropdownOptions.querySelectorAll('li:not(.optgroup)').forEach((el) => {\n            el.addEventListener('click', this._handleOptionClick);\n            el.addEventListener('keydown', (e) => {\n                if (e.key === \" \" || e.key === \"Enter\")\n                    this._handleOptionClick(e);\n            });\n        });\n        this.el.addEventListener('change', this._handleSelectChange);\n        this.input.addEventListener('click', this._handleInputClick);\n    }\n    _removeEventHandlers() {\n        this.dropdownOptions.querySelectorAll('li:not(.optgroup)').forEach((el) => {\n            el.removeEventListener('click', this._handleOptionClick);\n        });\n        this.el.removeEventListener('change', this._handleSelectChange);\n        this.input.removeEventListener('click', this._handleInputClick);\n    }\n    _arraysEqual(a, b) {\n        if (a === b)\n            return true;\n        if (a == null || b == null)\n            return false;\n        if (a.length !== b.length)\n            return false;\n        for (let i = 0; i < a.length; ++i)\n            if (a[i] !== b[i])\n                return false;\n        return true;\n    }\n    _selectOptionElement(virtualOption) {\n        if (!virtualOption.classList.contains('disabled') && !virtualOption.classList.contains('optgroup')) {\n            const value = this._values.find((value) => value.optionEl === virtualOption);\n            const previousSelectedValues = this.getSelectedValues();\n            if (this.isMultiple) {\n                // Multi-Select\n                this._toggleEntryFromArray(value);\n            }\n            else {\n                // Single-Select\n                this._deselectAll();\n                this._selectValue(value);\n            }\n            // Refresh Input-Text\n            this._setValueToInput();\n            // Trigger Change-Event only when data is different\n            const actualSelectedValues = this.getSelectedValues();\n            const selectionHasChanged = !this._arraysEqual(previousSelectedValues, actualSelectedValues);\n            if (selectionHasChanged)\n                this.el.dispatchEvent(new Event('change')); // trigger('change');\n        }\n        if (!this.isMultiple)\n            this.dropdown.close();\n    }\n    _setupDropdown() {\n        // Get Label\n        this.labelEl = this.el.parentElement.querySelector('label');\n        // Create Wrapper\n        this.wrapper = document.createElement('div');\n        this.wrapper.classList.add('select-wrapper', 'input-field');\n        if (this.options.classes.length > 0) {\n            this.wrapper.classList.add(this.options.classes.split(' '));\n        }\n        this.el.before(this.wrapper);\n        // Move actual select element into overflow hidden wrapper\n        const hideSelect = document.createElement('div');\n        hideSelect.classList.add('hide-select');\n        this.wrapper.append(hideSelect);\n        hideSelect.appendChild(this.el);\n        if (this.el.disabled)\n            this.wrapper.classList.add('disabled');\n        this.selectOptions = Array.from(this.el.children).filter(el => ['OPTION', 'OPTGROUP'].includes(el.tagName));\n        // Create dropdown\n        this.dropdownOptions = document.createElement('ul');\n        this.dropdownOptions.id = `select-options-${global_1.M.guid()}`;\n        this.dropdownOptions.classList.add('dropdown-content', 'select-dropdown');\n        this.dropdownOptions.setAttribute('role', 'listbox');\n        this.dropdownOptions.ariaMultiSelectable = this.isMultiple.toString();\n        if (this.isMultiple)\n            this.dropdownOptions.classList.add('multiple-select-dropdown');\n        // Create dropdown structure\n        if (this.selectOptions.length > 0) {\n            this.selectOptions.forEach((realOption) => {\n                if (realOption.tagName === 'OPTION') {\n                    // Option\n                    const virtualOption = this._createAndAppendOptionWithIcon(realOption, this.isMultiple ? 'multiple' : undefined);\n                    this._addOptionToValues(realOption, virtualOption);\n                }\n                else if (realOption.tagName === 'OPTGROUP') {\n                    // Optgroup\n                    const groupId = \"opt-group-\" + global_1.M.guid();\n                    const groupParent = document.createElement('li');\n                    groupParent.classList.add('optgroup');\n                    groupParent.tabIndex = -1;\n                    groupParent.setAttribute('role', 'group');\n                    groupParent.setAttribute('aria-labelledby', groupId);\n                    groupParent.innerHTML = `<span id=\"${groupId}\" role=\"presentation\">${realOption.getAttribute('label')}</span>`;\n                    this.dropdownOptions.append(groupParent);\n                    const groupChildren = [];\n                    const selectOptions = Array.from(realOption.children).filter(el => el.tagName === 'OPTION');\n                    selectOptions.forEach(realOption => {\n                        const virtualOption = this._createAndAppendOptionWithIcon(realOption, 'optgroup-option');\n                        const childId = \"opt-child-\" + global_1.M.guid();\n                        virtualOption.id = childId;\n                        groupChildren.push(childId);\n                        this._addOptionToValues(realOption, virtualOption);\n                    });\n                    groupParent.setAttribute(\"aria-owns\", groupChildren.join(\" \"));\n                }\n            });\n        }\n        this.wrapper.append(this.dropdownOptions);\n        // Add input dropdown\n        this.input = document.createElement('input');\n        this.input.id = \"m_select-input-\" + global_1.M.guid();\n        this.input.classList.add('select-dropdown', 'dropdown-trigger');\n        this.input.type = 'text';\n        this.input.readOnly = true;\n        this.input.setAttribute('data-target', this.dropdownOptions.id);\n        this.input.ariaReadOnly = 'true';\n        this.input.ariaRequired = this.el.hasAttribute(\"required\").toString(); //setAttribute(\"aria-required\", this.el.hasAttribute(\"required\"));\n        if (this.el.disabled)\n            this.input.disabled = true; // 'true');\n        // Place Label after input\n        if (this.labelEl) {\n            this.input.after(this.labelEl);\n            this.labelEl.setAttribute('for', this.input.id);\n            this.labelEl.id = \"m_select-label-\" + global_1.M.guid();\n            this.dropdownOptions.setAttribute(\"aria-labelledby\", this.labelEl.id);\n        }\n        // Makes new element to assume HTML's select label and aria-attributes, if exists\n        /*\n        if (this.el.hasAttribute(\"aria-labelledby\")){\n          console.log(1);\n          this.labelEl = <HTMLLabelElement>document.getElementById(this.el.getAttribute(\"aria-labelledby\"));\n        }\n        else if (this.el.id != \"\"){\n          console.log(2);\n          const label = document.createElement('label');\n          label.setAttribute('for', this.el.id);\n          if (label){\n            this.labelEl = label;\n            this.labelEl.removeAttribute(\"for\");\n            this._labelFor = true;\n          }\n        }\n        */\n        // Tries to find a valid label in parent element\n        // if (!this.labelEl) {\n        //   this.labelEl = this.el.parentElement.querySelector('label');\n        // }\n        // if (this.labelEl && this.labelEl.id == \"\") {\n        //   this.labelEl.id = \"m_select-label-\" + M.guid();\n        // }\n        // if (this.labelEl) {\n        //   this.labelEl.setAttribute(\"for\", this.input.id);\n        //   this.dropdownOptions.setAttribute(\"aria-labelledby\", this.labelEl.id);\n        // }\n        // else\n        //   this.dropdownOptions.ariaLabel = '';\n        const attrs = this.el.attributes;\n        for (let i = 0; i < attrs.length; ++i) {\n            const attr = attrs[i];\n            if (attr.name.startsWith(\"aria-\"))\n                this.input.setAttribute(attr.name, attr.value);\n        }\n        // Adds aria-attributes to input element\n        this.input.setAttribute('role', 'combobox');\n        this.input.ariaExpanded = 'false';\n        this.input.setAttribute(\"aria-owns\", this.dropdownOptions.id);\n        this.input.setAttribute(\"aria-controls\", this.dropdownOptions.id);\n        this.input.placeholder = \" \";\n        this.wrapper.prepend(this.input);\n        this._setValueToInput();\n        // Add caret\n        const dropdownIcon = document.createElementNS('http://www.w3.org/2000/svg', 'svg'); //document.createElement('svg')\n        dropdownIcon.classList.add('caret');\n        dropdownIcon.setAttribute('height', '24');\n        dropdownIcon.setAttribute('width', '24');\n        dropdownIcon.setAttribute('viewBox', '0 0 24 24');\n        dropdownIcon.ariaHidden = 'true';\n        dropdownIcon.innerHTML = `<path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/>`;\n        this.wrapper.prepend(dropdownIcon);\n        // Initialize dropdown\n        if (!this.el.disabled) {\n            const dropdownOptions = Object.assign({}, this.options.dropdownOptions); // TODO:\n            dropdownOptions.coverTrigger = false;\n            const userOnOpenEnd = dropdownOptions.onOpenEnd;\n            const userOnCloseEnd = dropdownOptions.onCloseEnd;\n            // Add callback for centering selected option when dropdown content is scrollable\n            dropdownOptions.onOpenEnd = (el) => {\n                const selectedOption = this.dropdownOptions.querySelector('.selected');\n                if (selectedOption) {\n                    // Focus selected option in dropdown\n                    global_1.M.keyDown = true;\n                    this.dropdown.focusedIndex = [...selectedOption.parentNode.children].indexOf(selectedOption);\n                    this.dropdown._focusFocusedItem();\n                    global_1.M.keyDown = false;\n                    // Handle scrolling to selected option\n                    if (this.dropdown.isScrollable) {\n                        let scrollOffset = selectedOption.getBoundingClientRect().top -\n                            this.dropdownOptions.getBoundingClientRect().top; // scroll to selected option\n                        scrollOffset -= this.dropdownOptions.clientHeight / 2; // center in dropdown\n                        this.dropdownOptions.scrollTop = scrollOffset;\n                    }\n                }\n                this.input.ariaExpanded = 'true';\n                // Handle user declared onOpenEnd if needed\n                if (userOnOpenEnd && typeof userOnOpenEnd === 'function')\n                    userOnOpenEnd.call(this.dropdown, this.el);\n            };\n            // Add callback for reseting \"expanded\" state\n            dropdownOptions.onCloseEnd = (el) => {\n                this.input.ariaExpanded = 'false';\n                // Handle user declared onOpenEnd if needed\n                if (userOnCloseEnd && typeof userOnCloseEnd === 'function')\n                    userOnCloseEnd.call(this.dropdown, this.el);\n            };\n            // Prevent dropdown from closing too early\n            dropdownOptions.closeOnClick = false;\n            this.dropdown = global_1.M.Dropdown.init(this.input, dropdownOptions);\n        }\n        // Add initial selections\n        this._setSelectedStates();\n        // ! Workaround for Label: move label up again\n        if (this.labelEl)\n            this.input.after(this.labelEl);\n    }\n    _addOptionToValues(realOption, virtualOption) {\n        this._values.push({ el: realOption, optionEl: virtualOption });\n    }\n    _removeDropdown() {\n        this.wrapper.querySelector('.caret').remove();\n        this.input.remove();\n        this.dropdownOptions.remove();\n        this.wrapper.before(this.el);\n        this.wrapper.remove();\n    }\n    _createAndAppendOptionWithIcon(realOption, type) {\n        var _a;\n        const li = document.createElement('li');\n        li.setAttribute('role', 'option');\n        if (realOption.disabled) {\n            li.classList.add('disabled');\n            li.ariaDisabled = 'true';\n        }\n        if (type === 'optgroup-option')\n            li.classList.add(type);\n        // Text / Checkbox\n        const span = document.createElement('span');\n        if (this.isMultiple)\n            span.innerHTML = `<label><input type=\"checkbox\"${realOption.disabled ? ' disabled=\"disabled\"' : ''}><span>${realOption.innerHTML}</span></label>`;\n        else\n            span.innerHTML = realOption.innerHTML;\n        li.appendChild(span);\n        // add Icon\n        const iconUrl = realOption.getAttribute('data-icon');\n        const classes = (_a = realOption.getAttribute('class')) === null || _a === void 0 ? void 0 : _a.split();\n        if (iconUrl) {\n            const img = document.createElement('img');\n            if (classes)\n                img.classList.add(classes);\n            img.src = iconUrl;\n            img.ariaHidden = 'true';\n            li.prepend(img);\n        }\n        // Check for multiple type\n        this.dropdownOptions.append(li);\n        return li;\n    }\n    _selectValue(value) {\n        value.el.selected = true;\n        value.optionEl.classList.add('selected');\n        value.optionEl.ariaSelected = 'true'; // setAttribute(\"aria-selected\", true);\n        const checkbox = value.optionEl.querySelector('input[type=\"checkbox\"]');\n        if (checkbox)\n            checkbox.checked = true;\n    }\n    _deselectValue(value) {\n        value.el.selected = false;\n        value.optionEl.classList.remove('selected');\n        value.optionEl.ariaSelected = 'false'; //setAttribute(\"aria-selected\", false);\n        const checkbox = value.optionEl.querySelector('input[type=\"checkbox\"]');\n        if (checkbox)\n            checkbox.checked = false;\n    }\n    _deselectAll() {\n        this._values.forEach(value => this._deselectValue(value));\n    }\n    _isValueSelected(value) {\n        const realValues = this.getSelectedValues();\n        return realValues.some((realValue) => realValue === value.el.value);\n    }\n    _toggleEntryFromArray(value) {\n        if (this._isValueSelected(value))\n            this._deselectValue(value);\n        else\n            this._selectValue(value);\n    }\n    _getSelectedOptions() {\n        // remove null, false, ... values\n        return Array.prototype.filter.call(this.el.selectedOptions, (realOption) => realOption);\n    }\n    _setValueToInput() {\n        const realOptions = this._getSelectedOptions();\n        const values = this._values.filter((value) => realOptions.indexOf(value.el) >= 0);\n        const texts = values.map((value) => value.optionEl.querySelector('span').innerText.trim());\n        // Set input-text to first Option with empty value which indicates a description like \"choose your option\"\n        if (texts.length === 0) {\n            const firstDisabledOption = this.el.querySelector('option:disabled');\n            if (firstDisabledOption && firstDisabledOption.value === '') {\n                this.input.value = firstDisabledOption.innerText;\n                return;\n            }\n        }\n        this.input.value = texts.join(', ');\n    }\n    _setSelectedStates() {\n        this._values.forEach((value) => {\n            const optionIsSelected = value.el.selected;\n            const cb = value.optionEl.querySelector('input[type=\"checkbox\"]');\n            if (cb)\n                cb.checked = optionIsSelected;\n            if (optionIsSelected) {\n                this._activateOption(this.dropdownOptions, value.optionEl);\n            }\n            else {\n                value.optionEl.classList.remove('selected');\n                value.optionEl.ariaSelected = 'false'; // attr(\"aria-selected\", 'false');\n            }\n        });\n    }\n    _activateOption(ul, li) {\n        if (!li)\n            return;\n        if (!this.isMultiple)\n            ul.querySelectorAll('li.selected').forEach(li => li.classList.remove('selected'));\n        li.classList.add('selected');\n        li.ariaSelected = 'true';\n    }\n    getSelectedValues() {\n        return this._getSelectedOptions().map((realOption) => realOption.value);\n    }\n}\nexports.FormSelect = FormSelect;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBRSxFQUFFLENBQUMsT0FBTyxHQUFHLGdCQUFnQixDQUFDO1lBQ3RDLElBQUksZ0JBQWdCLEVBQUU7Z0JBQ3BCLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDNUQ7aUJBQ0k7Z0JBQ0gsS0FBSyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUM1QyxLQUFLLENBQUMsUUFBUSxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUMsQ0FBQyxrQ0FBa0M7YUFDMUU7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxlQUFlLENBQUMsRUFBZSxFQUFFLEVBQWU7UUFDOUMsSUFBSSxDQUFDLEVBQUU7WUFBRSxPQUFPO1FBQ2hCLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVTtZQUFFLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3hHLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzdCLEVBQUUsQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDO0lBQzNCLENBQUM7SUFFRCxpQkFBaUI7UUFDZixPQUFPLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzFFLENBQUM7Q0FDRjtBQTNhRCxnQ0EyYUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvc2VsZWN0LnRzPzVhZDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBEcm9wZG93biB9IGZyb20gXCIuL2Ryb3Bkb3duXCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5cbmxldCBfZGVmYXVsdHMgPSB7XG4gIGNsYXNzZXM6ICcnLFxuICBkcm9wZG93bk9wdGlvbnM6IHt9XG59O1xuXG50eXBlIFZhbHVlU3RydWN0ID0ge1xuICBlbDogYW55LFxuICBvcHRpb25FbDogSFRNTE9wdGlvbkVsZW1lbnQsXG59XG5cbmV4cG9ydCBjbGFzcyBGb3JtU2VsZWN0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgZWw6IEhUTUxTZWxlY3RFbGVtZW50O1xuICBpc011bHRpcGxlOiBib29sZWFuO1xuICBwcml2YXRlIF92YWx1ZXM6IFZhbHVlU3RydWN0W107XG4gIGxhYmVsRWw6IEhUTUxMYWJlbEVsZW1lbnQ7XG4gIC8vcHJpdmF0ZSBfbGFiZWxGb3I6IGJvb2xlYW47XG4gIGRyb3Bkb3duT3B0aW9uczogSFRNTFVMaXN0RWxlbWVudDtcbiAgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGRyb3Bkb3duOiBEcm9wZG93bjtcbiAgd3JhcHBlcjogSFRNTERpdkVsZW1lbnQ7XG4gIHNlbGVjdE9wdGlvbnM6IEhUTUxFbGVtZW50W107XG5cbiAgY29uc3RydWN0b3IoZWwsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihGb3JtU2VsZWN0LCBlbCwgb3B0aW9ucyk7XG4gICAgaWYgKHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdicm93c2VyLWRlZmF1bHQnKSkgcmV0dXJuO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9Gb3JtU2VsZWN0ID0gdGhpcztcbiAgICB0aGlzLm9wdGlvbnMgPSB7Li4uRm9ybVNlbGVjdC5kZWZhdWx0cywgLi4ub3B0aW9uc307XG4gICAgdGhpcy5pc011bHRpcGxlID0gdGhpcy5lbC5tdWx0aXBsZTtcbiAgICB0aGlzLmVsLnRhYkluZGV4ID0gLTE7XG4gICAgdGhpcy5fdmFsdWVzID0gW107XG4gICAgLy90aGlzLmxhYmVsRWwgPSBudWxsO1xuICAgIC8vdGhpcy5fbGFiZWxGb3IgPSBmYWxzZTtcbiAgICB0aGlzLl9zZXR1cERyb3Bkb3duKCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgcmV0dXJuIGRvbUVsZW0uTV9Gb3JtU2VsZWN0O1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICAvLyBSZXR1cm5zIGxhYmVsIHRvIGl0cyBvcmlnaW5hbCBvd25lclxuICAgIC8vaWYgKHRoaXMuX2xhYmVsRm9yKSB0aGlzLmxhYmVsRWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIHRoaXMuZWwuaWQpO1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLl9yZW1vdmVEcm9wZG93bigpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9Gb3JtU2VsZWN0ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5xdWVyeVNlbGVjdG9yQWxsKCdsaTpub3QoLm9wdGdyb3VwKScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9wdGlvbkNsaWNrKTtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICBpZiAoZS5rZXkgPT09IFwiIFwiIHx8IGUua2V5ID09PSBcIkVudGVyXCIpIHRoaXMuX2hhbmRsZU9wdGlvbkNsaWNrKGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVTZWxlY3RDaGFuZ2UpO1xuICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrKTtcbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZHJvcGRvd25PcHRpb25zLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpOm5vdCgub3B0Z3JvdXApJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlT3B0aW9uQ2xpY2spO1xuICAgIH0pO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlU2VsZWN0Q2hhbmdlKTtcbiAgICB0aGlzLmlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljayk7XG4gIH1cblxuICBfaGFuZGxlU2VsZWN0Q2hhbmdlID0gKCkgPT4ge1xuICAgIHRoaXMuX3NldFZhbHVlVG9JbnB1dCgpO1xuICB9XG5cbiAgX2hhbmRsZU9wdGlvbkNsaWNrID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgdmlydHVhbE9wdGlvbiA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJyk7XG4gICAgdGhpcy5fc2VsZWN0T3B0aW9uRWxlbWVudCh2aXJ0dWFsT3B0aW9uKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG5cbiAgX2FycmF5c0VxdWFsKGEsIGIpIHtcbiAgICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG4gICAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSBpZiAoYVtpXSAhPT0gYltpXSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgX3NlbGVjdE9wdGlvbkVsZW1lbnQodmlydHVhbE9wdGlvbjogSFRNTEVsZW1lbnQpIHtcbiAgICBpZiAoIXZpcnR1YWxPcHRpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpICYmICF2aXJ0dWFsT3B0aW9uLmNsYXNzTGlzdC5jb250YWlucygnb3B0Z3JvdXAnKSkge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl92YWx1ZXMuZmluZCgodmFsdWUpID0+IHZhbHVlLm9wdGlvbkVsID09PSB2aXJ0dWFsT3B0aW9uKTtcbiAgICAgIGNvbnN0IHByZXZpb3VzU2VsZWN0ZWRWYWx1ZXMgPSB0aGlzLmdldFNlbGVjdGVkVmFsdWVzKCk7XG4gICAgICBpZiAodGhpcy5pc011bHRpcGxlKSB7XG4gICAgICAgIC8vIE11bHRpLVNlbGVjdFxuICAgICAgICB0aGlzLl90b2dnbGVFbnRyeUZyb21BcnJheSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gU2luZ2xlLVNlbGVjdFxuICAgICAgICB0aGlzLl9kZXNlbGVjdEFsbCgpO1xuICAgICAgICB0aGlzLl9zZWxlY3RWYWx1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBSZWZyZXNoIElucHV0LVRleHRcbiAgICAgIHRoaXMuX3NldFZhbHVlVG9JbnB1dCgpO1xuICAgICAgLy8gVHJpZ2dlciBDaGFuZ2UtRXZlbnQgb25seSB3aGVuIGRhdGEgaXMgZGlmZmVyZW50XG4gICAgICBjb25zdCBhY3R1YWxTZWxlY3RlZFZhbHVlcyA9IHRoaXMuZ2V0U2VsZWN0ZWRWYWx1ZXMoKTtcbiAgICAgIGNvbnN0IHNlbGVjdGlvbkhhc0NoYW5nZWQgPSAhdGhpcy5fYXJyYXlzRXF1YWwoXG4gICAgICAgIHByZXZpb3VzU2VsZWN0ZWRWYWx1ZXMsXG4gICAgICAgIGFjdHVhbFNlbGVjdGVkVmFsdWVzXG4gICAgICApO1xuICAgICAgaWYgKHNlbGVjdGlvbkhhc0NoYW5nZWQpIHRoaXMuZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScpKTsgLy8gdHJpZ2dlcignY2hhbmdlJyk7XG4gICAgfVxuICAgIGlmICghdGhpcy5pc011bHRpcGxlKSB0aGlzLmRyb3Bkb3duLmNsb3NlKCk7XG4gIH1cblxuICBfaGFuZGxlSW5wdXRDbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5kcm9wZG93biAmJiB0aGlzLmRyb3Bkb3duLmlzT3Blbikge1xuICAgICAgdGhpcy5fc2V0VmFsdWVUb0lucHV0KCk7XG4gICAgICB0aGlzLl9zZXRTZWxlY3RlZFN0YXRlcygpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXR1cERyb3Bkb3duKCkge1xuICAgIC8vIEdldCBMYWJlbFxuICAgIHRoaXMubGFiZWxFbCA9IHRoaXMuZWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpO1xuXG4gICAgLy8gQ3JlYXRlIFdyYXBwZXJcbiAgICB0aGlzLndyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCgnc2VsZWN0LXdyYXBwZXInLCAnaW5wdXQtZmllbGQnKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNsYXNzZXMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5vcHRpb25zLmNsYXNzZXMuc3BsaXQoJyAnKSk7XG4gICAgfVxuICAgIHRoaXMuZWwuYmVmb3JlKHRoaXMud3JhcHBlcik7XG5cbiAgICAvLyBNb3ZlIGFjdHVhbCBzZWxlY3QgZWxlbWVudCBpbnRvIG92ZXJmbG93IGhpZGRlbiB3cmFwcGVyXG4gICAgY29uc3QgaGlkZVNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGhpZGVTZWxlY3QuY2xhc3NMaXN0LmFkZCgnaGlkZS1zZWxlY3QnKTtcbiAgICB0aGlzLndyYXBwZXIuYXBwZW5kKGhpZGVTZWxlY3QpO1xuICAgIGhpZGVTZWxlY3QuYXBwZW5kQ2hpbGQodGhpcy5lbCk7XG5cbiAgICBpZiAodGhpcy5lbC5kaXNhYmxlZCkgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG5cbiAgICB0aGlzLnNlbGVjdE9wdGlvbnMgPSA8SFRNTEVsZW1lbnRbXT5BcnJheS5mcm9tKHRoaXMuZWwuY2hpbGRyZW4pLmZpbHRlcihlbCA9PiBbJ09QVElPTicsJ09QVEdST1VQJ10uaW5jbHVkZXMoZWwudGFnTmFtZSkpO1xuXG4gICAgLy8gQ3JlYXRlIGRyb3Bkb3duXG4gICAgdGhpcy5kcm9wZG93bk9wdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRoaXMuZHJvcGRvd25PcHRpb25zLmlkID0gYHNlbGVjdC1vcHRpb25zLSR7TS5ndWlkKCl9YDtcbiAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5jbGFzc0xpc3QuYWRkKCdkcm9wZG93bi1jb250ZW50JywgJ3NlbGVjdC1kcm9wZG93bicpO1xuICAgIHRoaXMuZHJvcGRvd25PcHRpb25zLnNldEF0dHJpYnV0ZSgncm9sZScsICdsaXN0Ym94Jyk7XG4gICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuYXJpYU11bHRpU2VsZWN0YWJsZSA9IHRoaXMuaXNNdWx0aXBsZS50b1N0cmluZygpO1xuICAgIGlmICh0aGlzLmlzTXVsdGlwbGUpIHRoaXMuZHJvcGRvd25PcHRpb25zLmNsYXNzTGlzdC5hZGQoJ211bHRpcGxlLXNlbGVjdC1kcm9wZG93bicpO1xuXG4gICAgLy8gQ3JlYXRlIGRyb3Bkb3duIHN0cnVjdHVyZVxuICAgIGlmICh0aGlzLnNlbGVjdE9wdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5zZWxlY3RPcHRpb25zLmZvckVhY2goKHJlYWxPcHRpb24pID0+IHtcbiAgICAgICAgaWYgKHJlYWxPcHRpb24udGFnTmFtZSA9PT0gJ09QVElPTicpIHtcbiAgICAgICAgICAvLyBPcHRpb25cbiAgICAgICAgICBjb25zdCB2aXJ0dWFsT3B0aW9uID0gdGhpcy5fY3JlYXRlQW5kQXBwZW5kT3B0aW9uV2l0aEljb24ocmVhbE9wdGlvbiwgdGhpcy5pc011bHRpcGxlID8gJ211bHRpcGxlJyA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgdGhpcy5fYWRkT3B0aW9uVG9WYWx1ZXMocmVhbE9wdGlvbiwgdmlydHVhbE9wdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVhbE9wdGlvbi50YWdOYW1lID09PSAnT1BUR1JPVVAnKSB7XG4gICAgICAgICAgLy8gT3B0Z3JvdXBcbiAgICAgICAgICBjb25zdCBncm91cElkID0gXCJvcHQtZ3JvdXAtXCIrTS5ndWlkKCk7XG4gICAgICAgICAgY29uc3QgZ3JvdXBQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGdyb3VwUGFyZW50LmNsYXNzTGlzdC5hZGQoJ29wdGdyb3VwJyk7XG4gICAgICAgICAgZ3JvdXBQYXJlbnQudGFiSW5kZXggPSAtMTtcbiAgICAgICAgICBncm91cFBhcmVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZ3JvdXAnKTtcbiAgICAgICAgICBncm91cFBhcmVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWxsZWRieScsIGdyb3VwSWQpO1xuICAgICAgICAgIGdyb3VwUGFyZW50LmlubmVySFRNTCA9IGA8c3BhbiBpZD1cIiR7Z3JvdXBJZH1cIiByb2xlPVwicHJlc2VudGF0aW9uXCI+JHtyZWFsT3B0aW9uLmdldEF0dHJpYnV0ZSgnbGFiZWwnKX08L3NwYW4+YDtcbiAgICAgICAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5hcHBlbmQoZ3JvdXBQYXJlbnQpO1xuXG4gICAgICAgICAgY29uc3QgZ3JvdXBDaGlsZHJlbiA9IFtdO1xuICAgICAgICAgIGNvbnN0IHNlbGVjdE9wdGlvbnMgPSA8SFRNTE9wdGlvbkVsZW1lbnRbXT5BcnJheS5mcm9tKHJlYWxPcHRpb24uY2hpbGRyZW4pLmZpbHRlcihlbCA9PiBlbC50YWdOYW1lID09PSAnT1BUSU9OJyk7XG4gICAgICAgICAgc2VsZWN0T3B0aW9ucy5mb3JFYWNoKHJlYWxPcHRpb24gPT4ge1xuICAgICAgICAgICAgY29uc3QgdmlydHVhbE9wdGlvbiA9IHRoaXMuX2NyZWF0ZUFuZEFwcGVuZE9wdGlvbldpdGhJY29uKHJlYWxPcHRpb24sICdvcHRncm91cC1vcHRpb24nKTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkSWQgPSBcIm9wdC1jaGlsZC1cIitNLmd1aWQoKTtcbiAgICAgICAgICAgIHZpcnR1YWxPcHRpb24uaWQgPSBjaGlsZElkO1xuICAgICAgICAgICAgZ3JvdXBDaGlsZHJlbi5wdXNoKGNoaWxkSWQpO1xuICAgICAgICAgICAgdGhpcy5fYWRkT3B0aW9uVG9WYWx1ZXMocmVhbE9wdGlvbiwgdmlydHVhbE9wdGlvbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZ3JvdXBQYXJlbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1vd25zXCIsIGdyb3VwQ2hpbGRyZW4uam9pbihcIiBcIikpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy53cmFwcGVyLmFwcGVuZCh0aGlzLmRyb3Bkb3duT3B0aW9ucyk7XG5cbiAgICAvLyBBZGQgaW5wdXQgZHJvcGRvd25cbiAgICB0aGlzLmlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB0aGlzLmlucHV0LmlkID0gXCJtX3NlbGVjdC1pbnB1dC1cIiArIE0uZ3VpZCgpO1xuICAgIHRoaXMuaW5wdXQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0LWRyb3Bkb3duJywgJ2Ryb3Bkb3duLXRyaWdnZXInKTtcbiAgICB0aGlzLmlucHV0LnR5cGUgPSAndGV4dCc7XG4gICAgdGhpcy5pbnB1dC5yZWFkT25seSA9IHRydWU7XG4gICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0JywgdGhpcy5kcm9wZG93bk9wdGlvbnMuaWQpO1xuICAgIHRoaXMuaW5wdXQuYXJpYVJlYWRPbmx5ID0gJ3RydWUnO1xuICAgIHRoaXMuaW5wdXQuYXJpYVJlcXVpcmVkID0gdGhpcy5lbC5oYXNBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiKS50b1N0cmluZygpOyAvL3NldEF0dHJpYnV0ZShcImFyaWEtcmVxdWlyZWRcIiwgdGhpcy5lbC5oYXNBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiKSk7XG4gICAgaWYgKHRoaXMuZWwuZGlzYWJsZWQpIHRoaXMuaW5wdXQuZGlzYWJsZWQgPSB0cnVlOyAvLyAndHJ1ZScpO1xuXG4gICAgLy8gUGxhY2UgTGFiZWwgYWZ0ZXIgaW5wdXRcbiAgICBpZiAodGhpcy5sYWJlbEVsKSB7XG4gICAgICB0aGlzLmlucHV0LmFmdGVyKHRoaXMubGFiZWxFbCk7XG4gICAgICB0aGlzLmxhYmVsRWwuc2V0QXR0cmlidXRlKCdmb3InLCB0aGlzLmlucHV0LmlkKTtcbiAgICAgIHRoaXMubGFiZWxFbC5pZCA9IFwibV9zZWxlY3QtbGFiZWwtXCIgKyBNLmd1aWQoKTtcbiAgICAgIHRoaXMuZHJvcGRvd25PcHRpb25zLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiLCB0aGlzLmxhYmVsRWwuaWQpO1xuICAgIH1cblxuICAgIC8vIE1ha2VzIG5ldyBlbGVtZW50IHRvIGFzc3VtZSBIVE1MJ3Mgc2VsZWN0IGxhYmVsIGFuZCBhcmlhLWF0dHJpYnV0ZXMsIGlmIGV4aXN0c1xuICAgIC8qXG4gICAgaWYgKHRoaXMuZWwuaGFzQXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIpKXtcbiAgICAgIGNvbnNvbGUubG9nKDEpO1xuICAgICAgdGhpcy5sYWJlbEVsID0gPEhUTUxMYWJlbEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIikpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmVsLmlkICE9IFwiXCIpe1xuICAgICAgY29uc29sZS5sb2coMik7XG4gICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIHRoaXMuZWwuaWQpO1xuICAgICAgaWYgKGxhYmVsKXtcbiAgICAgICAgdGhpcy5sYWJlbEVsID0gbGFiZWw7XG4gICAgICAgIHRoaXMubGFiZWxFbC5yZW1vdmVBdHRyaWJ1dGUoXCJmb3JcIik7XG4gICAgICAgIHRoaXMuX2xhYmVsRm9yID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgKi9cbiAgICAvLyBUcmllcyB0byBmaW5kIGEgdmFsaWQgbGFiZWwgaW4gcGFyZW50IGVsZW1lbnRcbiAgICAvLyBpZiAoIXRoaXMubGFiZWxFbCkge1xuICAgIC8vICAgdGhpcy5sYWJlbEVsID0gdGhpcy5lbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJyk7XG4gICAgLy8gfVxuICAgIC8vIGlmICh0aGlzLmxhYmVsRWwgJiYgdGhpcy5sYWJlbEVsLmlkID09IFwiXCIpIHtcbiAgICAvLyAgIHRoaXMubGFiZWxFbC5pZCA9IFwibV9zZWxlY3QtbGFiZWwtXCIgKyBNLmd1aWQoKTtcbiAgICAvLyB9XG4gICAgLy8gaWYgKHRoaXMubGFiZWxFbCkge1xuICAgIC8vICAgdGhpcy5sYWJlbEVsLnNldEF0dHJpYnV0ZShcImZvclwiLCB0aGlzLmlucHV0LmlkKTtcbiAgICAvLyAgIHRoaXMuZHJvcGRvd25PcHRpb25zLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiLCB0aGlzLmxhYmVsRWwuaWQpO1xuICAgIC8vIH1cbiAgICAvLyBlbHNlXG4gICAgLy8gICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5hcmlhTGFiZWwgPSAnJztcblxuICAgIGNvbnN0IGF0dHJzID0gdGhpcy5lbC5hdHRyaWJ1dGVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyArK2kpe1xuICAgICAgY29uc3QgYXR0ciA9IGF0dHJzW2ldO1xuICAgICAgaWYgKGF0dHIubmFtZS5zdGFydHNXaXRoKFwiYXJpYS1cIikpXG4gICAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gQWRkcyBhcmlhLWF0dHJpYnV0ZXMgdG8gaW5wdXQgZWxlbWVudFxuICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2NvbWJvYm94Jyk7XG4gICAgdGhpcy5pbnB1dC5hcmlhRXhwYW5kZWQgPSAnZmFsc2UnO1xuICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKFwiYXJpYS1vd25zXCIsIHRoaXMuZHJvcGRvd25PcHRpb25zLmlkKTtcbiAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZShcImFyaWEtY29udHJvbHNcIiwgdGhpcy5kcm9wZG93bk9wdGlvbnMuaWQpO1xuICAgIHRoaXMuaW5wdXQucGxhY2Vob2xkZXIgPSBcIiBcIjtcblxuICAgIHRoaXMud3JhcHBlci5wcmVwZW5kKHRoaXMuaW5wdXQpO1xuICAgIHRoaXMuX3NldFZhbHVlVG9JbnB1dCgpO1xuXG4gICAgLy8gQWRkIGNhcmV0XG4gICAgY29uc3QgZHJvcGRvd25JY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTsgLy9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdmcnKVxuICAgIGRyb3Bkb3duSWNvbi5jbGFzc0xpc3QuYWRkKCdjYXJldCcpO1xuICAgIGRyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsICcyNCcpO1xuICAgIGRyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgJzI0Jyk7XG4gICAgZHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgndmlld0JveCcsICcwIDAgMjQgMjQnKTtcbiAgICBkcm9wZG93bkljb24uYXJpYUhpZGRlbiA9ICd0cnVlJztcbiAgICBkcm9wZG93bkljb24uaW5uZXJIVE1MID0gYDxwYXRoIGQ9XCJNNyAxMGw1IDUgNS01elwiLz48cGF0aCBkPVwiTTAgMGgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIvPmA7XG4gICAgdGhpcy53cmFwcGVyLnByZXBlbmQoZHJvcGRvd25JY29uKTtcblxuICAgIC8vIEluaXRpYWxpemUgZHJvcGRvd25cbiAgICBpZiAoIXRoaXMuZWwuZGlzYWJsZWQpIHtcbiAgICAgIGNvbnN0IGRyb3Bkb3duT3B0aW9ucyA9IHsuLi50aGlzLm9wdGlvbnMuZHJvcGRvd25PcHRpb25zfTsgLy8gVE9ETzpcbiAgICAgIGRyb3Bkb3duT3B0aW9ucy5jb3ZlclRyaWdnZXIgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHVzZXJPbk9wZW5FbmQgPSBkcm9wZG93bk9wdGlvbnMub25PcGVuRW5kO1xuICAgICAgY29uc3QgdXNlck9uQ2xvc2VFbmQgPSBkcm9wZG93bk9wdGlvbnMub25DbG9zZUVuZDtcbiAgICAgIC8vIEFkZCBjYWxsYmFjayBmb3IgY2VudGVyaW5nIHNlbGVjdGVkIG9wdGlvbiB3aGVuIGRyb3Bkb3duIGNvbnRlbnQgaXMgc2Nyb2xsYWJsZVxuICAgICAgZHJvcGRvd25PcHRpb25zLm9uT3BlbkVuZCA9IChlbCkgPT4ge1xuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHRoaXMuZHJvcGRvd25PcHRpb25zLnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RlZCcpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb24pIHtcbiAgICAgICAgICAvLyBGb2N1cyBzZWxlY3RlZCBvcHRpb24gaW4gZHJvcGRvd25cbiAgICAgICAgICBNLmtleURvd24gPSB0cnVlO1xuICAgICAgICAgIHRoaXMuZHJvcGRvd24uZm9jdXNlZEluZGV4ID0gWy4uLnNlbGVjdGVkT3B0aW9uLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2Yoc2VsZWN0ZWRPcHRpb24pO1xuICAgICAgICAgIHRoaXMuZHJvcGRvd24uX2ZvY3VzRm9jdXNlZEl0ZW0oKTtcbiAgICAgICAgICBNLmtleURvd24gPSBmYWxzZTtcbiAgICAgICAgICAvLyBIYW5kbGUgc2Nyb2xsaW5nIHRvIHNlbGVjdGVkIG9wdGlvblxuICAgICAgICAgIGlmICh0aGlzLmRyb3Bkb3duLmlzU2Nyb2xsYWJsZSkge1xuICAgICAgICAgICAgbGV0IHNjcm9sbE9mZnNldCA9XG4gICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtXG4gICAgICAgICAgICAgICh0aGlzLmRyb3Bkb3duT3B0aW9ucyBhcyBIVE1MRWxlbWVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOyAvLyBzY3JvbGwgdG8gc2VsZWN0ZWQgb3B0aW9uXG4gICAgICAgICAgICBzY3JvbGxPZmZzZXQgLT0gdGhpcy5kcm9wZG93bk9wdGlvbnMuY2xpZW50SGVpZ2h0IC8gMjsgLy8gY2VudGVyIGluIGRyb3Bkb3duXG4gICAgICAgICAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5zY3JvbGxUb3AgPSBzY3JvbGxPZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5wdXQuYXJpYUV4cGFuZGVkID0gJ3RydWUnO1xuICAgICAgICAvLyBIYW5kbGUgdXNlciBkZWNsYXJlZCBvbk9wZW5FbmQgaWYgbmVlZGVkXG4gICAgICAgIGlmICh1c2VyT25PcGVuRW5kICYmIHR5cGVvZiB1c2VyT25PcGVuRW5kID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgIHVzZXJPbk9wZW5FbmQuY2FsbCh0aGlzLmRyb3Bkb3duLCB0aGlzLmVsKTtcbiAgICAgIH07XG4gICAgICAvLyBBZGQgY2FsbGJhY2sgZm9yIHJlc2V0aW5nIFwiZXhwYW5kZWRcIiBzdGF0ZVxuICAgICAgZHJvcGRvd25PcHRpb25zLm9uQ2xvc2VFbmQgPSAoZWwpID0+IHtcbiAgICAgICAgdGhpcy5pbnB1dC5hcmlhRXhwYW5kZWQgPSAnZmFsc2UnO1xuICAgICAgICAvLyBIYW5kbGUgdXNlciBkZWNsYXJlZCBvbk9wZW5FbmQgaWYgbmVlZGVkXG4gICAgICAgIGlmICh1c2VyT25DbG9zZUVuZCAmJiB0eXBlb2YgdXNlck9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgdXNlck9uQ2xvc2VFbmQuY2FsbCh0aGlzLmRyb3Bkb3duLCB0aGlzLmVsKTtcbiAgICAgIH07XG4gICAgICAvLyBQcmV2ZW50IGRyb3Bkb3duIGZyb20gY2xvc2luZyB0b28gZWFybHlcbiAgICAgIGRyb3Bkb3duT3B0aW9ucy5jbG9zZU9uQ2xpY2sgPSBmYWxzZTtcbiAgICAgIHRoaXMuZHJvcGRvd24gPSBNLkRyb3Bkb3duLmluaXQodGhpcy5pbnB1dCwgZHJvcGRvd25PcHRpb25zKTtcbiAgICB9XG4gICAgLy8gQWRkIGluaXRpYWwgc2VsZWN0aW9uc1xuICAgIHRoaXMuX3NldFNlbGVjdGVkU3RhdGVzKCk7XG5cbiAgICAvLyAhIFdvcmthcm91bmQgZm9yIExhYmVsOiBtb3ZlIGxhYmVsIHVwIGFnYWluXG4gICAgaWYgKHRoaXMubGFiZWxFbCkgdGhpcy5pbnB1dC5hZnRlcih0aGlzLmxhYmVsRWwpO1xuICB9XG5cbiAgX2FkZE9wdGlvblRvVmFsdWVzKHJlYWxPcHRpb24sIHZpcnR1YWxPcHRpb24pIHtcbiAgICB0aGlzLl92YWx1ZXMucHVzaCh7IGVsOiByZWFsT3B0aW9uLCBvcHRpb25FbDogdmlydHVhbE9wdGlvbiB9KTtcbiAgfVxuXG4gIF9yZW1vdmVEcm9wZG93bigpIHtcbiAgICB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcignLmNhcmV0JykucmVtb3ZlKCk7XG4gICAgdGhpcy5pbnB1dC5yZW1vdmUoKTtcbiAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5yZW1vdmUoKTtcbiAgICB0aGlzLndyYXBwZXIuYmVmb3JlKHRoaXMuZWwpO1xuICAgIHRoaXMud3JhcHBlci5yZW1vdmUoKTtcbiAgfVxuXG4gIF9jcmVhdGVBbmRBcHBlbmRPcHRpb25XaXRoSWNvbihyZWFsT3B0aW9uLCB0eXBlOiBzdHJpbmcpIHtcbiAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgbGkuc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgIGlmIChyZWFsT3B0aW9uLmRpc2FibGVkKXtcbiAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgICBsaS5hcmlhRGlzYWJsZWQgPSAndHJ1ZSc7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnb3B0Z3JvdXAtb3B0aW9uJykgbGkuY2xhc3NMaXN0LmFkZCh0eXBlKTtcbiAgICAvLyBUZXh0IC8gQ2hlY2tib3hcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGlmICh0aGlzLmlzTXVsdGlwbGUpXG4gICAgICBzcGFuLmlubmVySFRNTCA9IGA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiJHtcbiAgICAgICAgcmVhbE9wdGlvbi5kaXNhYmxlZCA/ICcgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiJyA6ICcnXG4gICAgICB9PjxzcGFuPiR7cmVhbE9wdGlvbi5pbm5lckhUTUx9PC9zcGFuPjwvbGFiZWw+YDtcbiAgICBlbHNlXG4gICAgICBzcGFuLmlubmVySFRNTCA9IHJlYWxPcHRpb24uaW5uZXJIVE1MO1xuICAgIGxpLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgIC8vIGFkZCBJY29uXG4gICAgY29uc3QgaWNvblVybCA9IHJlYWxPcHRpb24uZ2V0QXR0cmlidXRlKCdkYXRhLWljb24nKTtcbiAgICBjb25zdCBjbGFzc2VzID0gcmVhbE9wdGlvbi5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk/LnNwbGl0KCk7XG4gICAgaWYgKGljb25VcmwpIHtcbiAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgaWYgKGNsYXNzZXMpIGltZy5jbGFzc0xpc3QuYWRkKGNsYXNzZXMpO1xuICAgICAgaW1nLnNyYyA9IGljb25Vcmw7XG4gICAgICBpbWcuYXJpYUhpZGRlbiA9ICd0cnVlJztcbiAgICAgIGxpLnByZXBlbmQoaW1nKTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgZm9yIG11bHRpcGxlIHR5cGVcbiAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5hcHBlbmQobGkpO1xuICAgIHJldHVybiBsaTtcbiAgfVxuXG4gIF9zZWxlY3RWYWx1ZSh2YWx1ZSkge1xuICAgIHZhbHVlLmVsLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB2YWx1ZS5vcHRpb25FbC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIHZhbHVlLm9wdGlvbkVsLmFyaWFTZWxlY3RlZCA9ICd0cnVlJzsgLy8gc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCB0cnVlKTtcbiAgICBjb25zdCBjaGVja2JveCA9IHZhbHVlLm9wdGlvbkVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuICAgIGlmIChjaGVja2JveCkgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gIH1cblxuICBfZGVzZWxlY3RWYWx1ZSh2YWx1ZSkge1xuICAgIHZhbHVlLmVsLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgdmFsdWUub3B0aW9uRWwuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICB2YWx1ZS5vcHRpb25FbC5hcmlhU2VsZWN0ZWQgPSAnZmFsc2UnOyAvL3NldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgZmFsc2UpO1xuICAgIGNvbnN0IGNoZWNrYm94ID0gdmFsdWUub3B0aW9uRWwucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgaWYgKGNoZWNrYm94KSBjaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gIH1cblxuICBfZGVzZWxlY3RBbGwoKSB7XG4gICAgdGhpcy5fdmFsdWVzLmZvckVhY2godmFsdWUgPT4gdGhpcy5fZGVzZWxlY3RWYWx1ZSh2YWx1ZSkpO1xuICB9XG5cbiAgX2lzVmFsdWVTZWxlY3RlZCh2YWx1ZSkge1xuICAgIGNvbnN0IHJlYWxWYWx1ZXMgPSB0aGlzLmdldFNlbGVjdGVkVmFsdWVzKCk7XG4gICAgcmV0dXJuIHJlYWxWYWx1ZXMuc29tZSgocmVhbFZhbHVlKSA9PiByZWFsVmFsdWUgPT09IHZhbHVlLmVsLnZhbHVlKTtcbiAgfVxuXG4gIF90b2dnbGVFbnRyeUZyb21BcnJheSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9pc1ZhbHVlU2VsZWN0ZWQodmFsdWUpKVxuICAgICAgdGhpcy5fZGVzZWxlY3RWYWx1ZSh2YWx1ZSk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5fc2VsZWN0VmFsdWUodmFsdWUpO1xuICB9XG5cbiAgX2dldFNlbGVjdGVkT3B0aW9ucygpIHtcbiAgICAvLyByZW1vdmUgbnVsbCwgZmFsc2UsIC4uLiB2YWx1ZXNcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKHRoaXMuZWwuc2VsZWN0ZWRPcHRpb25zLCAocmVhbE9wdGlvbikgPT4gcmVhbE9wdGlvbik7XG4gIH1cblxuICBfc2V0VmFsdWVUb0lucHV0KCkge1xuICAgIGNvbnN0IHJlYWxPcHRpb25zID0gdGhpcy5fZ2V0U2VsZWN0ZWRPcHRpb25zKCk7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy5fdmFsdWVzLmZpbHRlcigodmFsdWUpID0+IHJlYWxPcHRpb25zLmluZGV4T2YodmFsdWUuZWwpID49IDApO1xuICAgIGNvbnN0IHRleHRzID0gdmFsdWVzLm1hcCgodmFsdWUpID0+IHZhbHVlLm9wdGlvbkVsLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5pbm5lclRleHQudHJpbSgpKTtcbiAgICAvLyBTZXQgaW5wdXQtdGV4dCB0byBmaXJzdCBPcHRpb24gd2l0aCBlbXB0eSB2YWx1ZSB3aGljaCBpbmRpY2F0ZXMgYSBkZXNjcmlwdGlvbiBsaWtlIFwiY2hvb3NlIHlvdXIgb3B0aW9uXCJcbiAgICBpZiAodGV4dHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBmaXJzdERpc2FibGVkT3B0aW9uID0gPEhUTUxPcHRpb25FbGVtZW50PnRoaXMuZWwucXVlcnlTZWxlY3Rvcignb3B0aW9uOmRpc2FibGVkJyk7XG4gICAgICBpZiAoZmlyc3REaXNhYmxlZE9wdGlvbiAmJiBmaXJzdERpc2FibGVkT3B0aW9uLnZhbHVlID09PSAnJykge1xuICAgICAgICB0aGlzLmlucHV0LnZhbHVlID0gZmlyc3REaXNhYmxlZE9wdGlvbi5pbm5lclRleHQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5pbnB1dC52YWx1ZSA9IHRleHRzLmpvaW4oJywgJyk7XG4gIH1cblxuICBfc2V0U2VsZWN0ZWRTdGF0ZXMoKSB7XG4gICAgdGhpcy5fdmFsdWVzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25Jc1NlbGVjdGVkID0gdmFsdWUuZWwuc2VsZWN0ZWQ7XG4gICAgICBjb25zdCBjYiA9IDxIVE1MSW5wdXRFbGVtZW50PnZhbHVlLm9wdGlvbkVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuICAgICAgaWYgKGNiKSBjYi5jaGVja2VkID0gb3B0aW9uSXNTZWxlY3RlZDtcbiAgICAgIGlmIChvcHRpb25Jc1NlbGVjdGVkKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlT3B0aW9uKHRoaXMuZHJvcGRvd25PcHRpb25zLCB2YWx1ZS5vcHRpb25FbCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFsdWUub3B0aW9uRWwuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgdmFsdWUub3B0aW9uRWwuYXJpYVNlbGVjdGVkID0gJ2ZhbHNlJzsgLy8gYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwgJ2ZhbHNlJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfYWN0aXZhdGVPcHRpb24odWw6IEhUTUxFbGVtZW50LCBsaTogSFRNTEVsZW1lbnQpIHtcbiAgICBpZiAoIWxpKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLmlzTXVsdGlwbGUpIHVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpLnNlbGVjdGVkJykuZm9yRWFjaChsaSA9PiBsaS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTtcbiAgICBsaS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIGxpLmFyaWFTZWxlY3RlZCA9ICd0cnVlJztcbiAgfVxuXG4gIGdldFNlbGVjdGVkVmFsdWVzKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTZWxlY3RlZE9wdGlvbnMoKS5tYXAoKHJlYWxPcHRpb24pID0+IHJlYWxPcHRpb24udmFsdWUpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/select.ts\n");

/***/ }),

/***/ "./src/sidenav.ts":
/*!************************!*\
  !*** ./src/sidenav.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Sidenav = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst _defaults = {\n    edge: 'left',\n    draggable: true,\n    dragTargetWidth: '10px',\n    inDuration: 250,\n    outDuration: 200,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    preventScrolling: true\n};\nclass Sidenav extends component_1.Component {\n    constructor(el, options) {\n        super(Sidenav, el, options);\n        this._handleDragTargetDrag = (e) => {\n            // Check if draggable\n            if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\n                return;\n            }\n            // If not being dragged, set initial drag start variables\n            if (!this.isDragged) {\n                this._startDrag(e);\n            }\n            // Run touchmove updates\n            this._dragMoveUpdate(e);\n            // Calculate raw deltaX\n            let totalDeltaX = this._xPos - this._startingXpos;\n            // dragDirection is the attempted user drag direction\n            const dragDirection = totalDeltaX > 0 ? 'right' : 'left';\n            // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\n            totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\n            if (this.options.edge === dragDirection) {\n                totalDeltaX = 0;\n            }\n            /**\n             * transformX is the drag displacement\n             * transformPrefix is the initial transform placement\n             * Invert values if Sidenav is right edge\n             */\n            let transformX = totalDeltaX;\n            let transformPrefix = 'translateX(-100%)';\n            if (this.options.edge === 'right') {\n                transformPrefix = 'translateX(100%)';\n                transformX = -transformX;\n            }\n            // Calculate open/close percentage of sidenav, with open = 1 and close = 0\n            this.percentOpen = Math.min(1, totalDeltaX / this._width);\n            // Set transform and opacity styles\n            this.el.style.transform = `${transformPrefix} translateX(${transformX}px)`;\n            this._overlay.style.opacity = this.percentOpen.toString();\n        };\n        this._handleDragTargetRelease = () => {\n            if (this.isDragged) {\n                if (this.percentOpen > 0.2) {\n                    this.open();\n                }\n                else {\n                    this._animateOut();\n                }\n                this.isDragged = false;\n                this._verticallyScrolling = false;\n            }\n        };\n        this._handleCloseDrag = (e) => {\n            if (this.isOpen) {\n                // Check if draggable\n                if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\n                    return;\n                }\n                // If not being dragged, set initial drag start variables\n                if (!this.isDragged) {\n                    this._startDrag(e);\n                }\n                // Run touchmove updates\n                this._dragMoveUpdate(e);\n                // Calculate raw deltaX\n                let totalDeltaX = this._xPos - this._startingXpos;\n                // dragDirection is the attempted user drag direction\n                let dragDirection = totalDeltaX > 0 ? 'right' : 'left';\n                // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\n                totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\n                if (this.options.edge !== dragDirection) {\n                    totalDeltaX = 0;\n                }\n                let transformX = -totalDeltaX;\n                if (this.options.edge === 'right') {\n                    transformX = -transformX;\n                }\n                // Calculate open/close percentage of sidenav, with open = 1 and close = 0\n                this.percentOpen = Math.min(1, 1 - totalDeltaX / this._width);\n                // Set transform and opacity styles\n                this.el.style.transform = `translateX(${transformX}px)`;\n                this._overlay.style.opacity = this.percentOpen.toString();\n            }\n        };\n        this._handleCloseRelease = () => {\n            if (this.isOpen && this.isDragged) {\n                if (this.percentOpen > 0.8) {\n                    this._animateIn();\n                }\n                else {\n                    this.close();\n                }\n                this.isDragged = false;\n                this._verticallyScrolling = false;\n            }\n        };\n        // Handles closing of Sidenav when element with class .sidenav-close\n        this._handleCloseTriggerClick = (e) => {\n            const closeTrigger = e.target.closest('.sidenav-close');\n            if (closeTrigger && !this._isCurrentlyFixed()) {\n                this.close();\n            }\n        };\n        this._handleWindowResize = () => {\n            // Only handle horizontal resizes\n            if (this.lastWindowWidth !== window.innerWidth) {\n                if (window.innerWidth > 992) {\n                    this.open();\n                }\n                else {\n                    this.close();\n                }\n            }\n            this.lastWindowWidth = window.innerWidth;\n            this.lastWindowHeight = window.innerHeight;\n        };\n        this.close = () => {\n            if (this.isOpen === false)\n                return;\n            this.isOpen = false;\n            // Run onCloseStart callback\n            if (typeof this.options.onCloseStart === 'function') {\n                this.options.onCloseStart.call(this, this.el);\n            }\n            // Handle fixed Sidenav\n            if (this._isCurrentlyFixed()) {\n                const transformX = this.options.edge === 'left' ? '-105%' : '105%';\n                this.el.style.transform = `translateX(${transformX})`;\n            }\n            // Handle non-fixed Sidenav\n            else {\n                this._enableBodyScrolling();\n                if (!this.isDragged || this.percentOpen != 0) {\n                    this._animateOut();\n                }\n                else {\n                    this._overlay.style.display = 'none';\n                }\n            }\n        };\n        this.el.M_Sidenav = this;\n        this.id = this.el.id;\n        this.options = Object.assign(Object.assign({}, Sidenav.defaults), options);\n        this.isOpen = false;\n        this.isFixed = this.el.classList.contains('sidenav-fixed');\n        this.isDragged = false;\n        // Window size variables for window resize checks\n        this.lastWindowWidth = window.innerWidth;\n        this.lastWindowHeight = window.innerHeight;\n        this._createOverlay();\n        this._createDragTarget();\n        this._setupEventHandlers();\n        this._setupClasses();\n        this._setupFixed();\n        Sidenav._sidenavs.push(this);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Sidenav;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._enableBodyScrolling();\n        this._overlay.parentNode.removeChild(this._overlay);\n        this.dragTarget.parentNode.removeChild(this.dragTarget);\n        this.el.M_Sidenav = undefined;\n        this.el.style.transform = '';\n        const index = Sidenav._sidenavs.indexOf(this);\n        if (index >= 0) {\n            Sidenav._sidenavs.splice(index, 1);\n        }\n    }\n    _createOverlay() {\n        this._overlay = document.createElement('div');\n        this._overlay.classList.add('sidenav-overlay');\n        this._overlay.addEventListener('click', this.close);\n        document.body.appendChild(this._overlay);\n    }\n    _setupEventHandlers() {\n        if (Sidenav._sidenavs.length === 0) {\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n        var passiveIfSupported = null;\n        this.dragTarget.addEventListener('touchmove', this._handleDragTargetDrag, passiveIfSupported);\n        this.dragTarget.addEventListener('touchend', this._handleDragTargetRelease);\n        this._overlay.addEventListener('touchmove', this._handleCloseDrag, passiveIfSupported);\n        this._overlay.addEventListener('touchend', this._handleCloseRelease);\n        this.el.addEventListener('touchmove', this._handleCloseDrag, passiveIfSupported);\n        this.el.addEventListener('touchend', this._handleCloseRelease);\n        this.el.addEventListener('click', this._handleCloseTriggerClick);\n        // Add resize for side nav fixed\n        if (this.isFixed) {\n            window.addEventListener('resize', this._handleWindowResize);\n        }\n    }\n    _removeEventHandlers() {\n        if (Sidenav._sidenavs.length === 1) {\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n        this.dragTarget.removeEventListener('touchmove', this._handleDragTargetDrag);\n        this.dragTarget.removeEventListener('touchend', this._handleDragTargetRelease);\n        this._overlay.removeEventListener('touchmove', this._handleCloseDrag);\n        this._overlay.removeEventListener('touchend', this._handleCloseRelease);\n        this.el.removeEventListener('touchmove', this._handleCloseDrag);\n        this.el.removeEventListener('touchend', this._handleCloseRelease);\n        this.el.removeEventListener('click', this._handleCloseTriggerClick);\n        // Remove resize for side nav fixed\n        if (this.isFixed) {\n            window.removeEventListener('resize', this._handleWindowResize);\n        }\n    }\n    _handleTriggerClick(e) {\n        const trigger = e.target.closest('.sidenav-trigger');\n        if (e.target && trigger) {\n            const sidenavId = global_1.M.getIdFromTrigger(trigger);\n            const sidenavInstance = document.getElementById(sidenavId).M_Sidenav;\n            if (sidenavInstance) {\n                sidenavInstance.open(trigger);\n            }\n            e.preventDefault();\n        }\n    }\n    // Set variables needed at the beginning of drag and stop any current transition.\n    _startDrag(e) {\n        const clientX = e.targetTouches[0].clientX;\n        this.isDragged = true;\n        this._startingXpos = clientX;\n        this._xPos = this._startingXpos;\n        this._time = Date.now();\n        this._width = this.el.getBoundingClientRect().width;\n        this._overlay.style.display = 'block';\n        this._initialScrollTop = this.isOpen ? this.el.scrollTop : global_1.M.getDocumentScrollTop();\n        this._verticallyScrolling = false;\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this._overlay);\n    }\n    //Set variables needed at each drag move update tick\n    _dragMoveUpdate(e) {\n        const clientX = e.targetTouches[0].clientX;\n        const currentScrollTop = this.isOpen ? this.el.scrollTop : global_1.M.getDocumentScrollTop();\n        this.deltaX = Math.abs(this._xPos - clientX);\n        this._xPos = clientX;\n        this.velocityX = this.deltaX / (Date.now() - this._time);\n        this._time = Date.now();\n        if (this._initialScrollTop !== currentScrollTop) {\n            this._verticallyScrolling = true;\n        }\n    }\n    _setupClasses() {\n        if (this.options.edge === 'right') {\n            this.el.classList.add('right-aligned');\n            this.dragTarget.classList.add('right-aligned');\n        }\n    }\n    _removeClasses() {\n        this.el.classList.remove('right-aligned');\n        this.dragTarget.classList.remove('right-aligned');\n    }\n    _setupFixed() {\n        if (this._isCurrentlyFixed())\n            this.open();\n    }\n    _isCurrentlyFixed() {\n        return this.isFixed && window.innerWidth > 992;\n    }\n    _createDragTarget() {\n        const dragTarget = document.createElement('div');\n        dragTarget.classList.add('drag-target');\n        dragTarget.style.width = this.options.dragTargetWidth;\n        document.body.appendChild(dragTarget);\n        this.dragTarget = dragTarget;\n    }\n    _preventBodyScrolling() {\n        document.body.style.overflow = 'hidden';\n    }\n    _enableBodyScrolling() {\n        document.body.style.overflow = '';\n    }\n    open() {\n        if (this.isOpen === true)\n            return;\n        this.isOpen = true;\n        // Run onOpenStart callback\n        if (typeof this.options.onOpenStart === 'function') {\n            this.options.onOpenStart.call(this, this.el);\n        }\n        // Handle fixed Sidenav\n        if (this._isCurrentlyFixed()) {\n            animejs_1.default.remove(this.el);\n            (0, animejs_1.default)({\n                targets: this.el,\n                translateX: 0,\n                duration: 0,\n                easing: 'easeOutQuad'\n            });\n            this._enableBodyScrolling();\n            this._overlay.style.display = 'none';\n        }\n        // Handle non-fixed Sidenav\n        else {\n            if (this.options.preventScrolling) {\n                this._preventBodyScrolling();\n            }\n            if (!this.isDragged || this.percentOpen != 1) {\n                this._animateIn();\n            }\n        }\n    }\n    _animateIn() {\n        this._animateSidenavIn();\n        this._animateOverlayIn();\n    }\n    _animateSidenavIn() {\n        let slideOutPercent = this.options.edge === 'left' ? -1 : 1;\n        if (this.isDragged) {\n            slideOutPercent =\n                this.options.edge === 'left'\n                    ? slideOutPercent + this.percentOpen\n                    : slideOutPercent - this.percentOpen;\n        }\n        animejs_1.default.remove(this.el);\n        (0, animejs_1.default)({\n            targets: this.el,\n            translateX: [`${slideOutPercent * 100}%`, 0],\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                // Run onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _animateOverlayIn() {\n        let start = 0;\n        if (this.isDragged) {\n            start = this.percentOpen;\n        }\n        else {\n            this._overlay.style.display = 'block';\n        }\n        animejs_1.default.remove(this._overlay);\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: [start, 1],\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad'\n        });\n    }\n    _animateOut() {\n        this._animateSidenavOut();\n        this._animateOverlayOut();\n    }\n    _animateSidenavOut() {\n        const endPercent = this.options.edge === 'left' ? -1 : 1;\n        let slideOutPercent = 0;\n        if (this.isDragged) {\n            slideOutPercent =\n                this.options.edge === 'left'\n                    ? endPercent + this.percentOpen\n                    : endPercent - this.percentOpen;\n        }\n        animejs_1.default.remove(this.el);\n        (0, animejs_1.default)({\n            targets: this.el,\n            translateX: [`${slideOutPercent * 100}%`, `${endPercent * 105}%`],\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                // Run onOpenEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _animateOverlayOut() {\n        animejs_1.default.remove(this._overlay);\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this._overlay.style.display = 'none';\n            }\n        });\n    }\n}\nexports.Sidenav = Sidenav;\n(() => {\n    Sidenav._sidenavs = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2lkZW5hdi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxpRkFBd0M7QUFDeEMsd0VBQTZCO0FBQzdCLGdIQUEyQjtBQUUzQixNQUFNLFNBQVMsR0FBRztJQUNoQixJQUFJLEVBQUUsTUFBTTtJQUNaLFNBQVMsRUFBRSxJQUFJO0lBQ2YsZUFBZSxFQUFFLE1BQU07SUFDdkIsVUFBVSxFQUFFLEdBQUc7SUFDZixXQUFXLEVBQUUsR0FBRztJQUNoQixXQUFXLEVBQUUsSUFBSTtJQUNqQixTQUFTLEVBQUUsSUFBSTtJQUNmLFlBQVksRUFBRSxJQUFJO0lBQ2xCLFVBQVUsRUFBRSxJQUFJO0lBQ2hCLGdCQUFnQixFQUFFLElBQUk7Q0FDdkIsQ0FBQztBQUVGLE1BQWEsT0FBUSxTQUFRLHFCQUFTO0lBb0JwQyxZQUFZLEVBQUUsRUFBRSxPQUFPO1FBQ3JCLEtBQUssQ0FBQyxPQUFPLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBK0g5QiwwQkFBcUIsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFO1lBQzVCLHFCQUFxQjtZQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFO2dCQUNwRixPQUFPO2FBQ1I7WUFDRCx5REFBeUQ7WUFDekQsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7Z0JBQ25CLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDcEI7WUFDRCx3QkFBd0I7WUFDeEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4Qix1QkFBdUI7WUFDdkIsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO1lBQ2xELHFEQUFxRDtZQUNyRCxNQUFNLGFBQWEsR0FBRyxXQUFXLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztZQUN6RCwwRkFBMEY7WUFDMUYsV0FBVyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7WUFDM0QsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksS0FBSyxhQUFhLEVBQUU7Z0JBQ3ZDLFdBQVcsR0FBRyxDQUFDLENBQUM7YUFDakI7WUFDRDs7OztlQUlHO1lBQ0gsSUFBSSxVQUFVLEdBQUcsV0FBVyxDQUFDO1lBQzdCLElBQUksZUFBZSxHQUFHLG1CQUFtQixDQUFDO1lBQzFDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEtBQUssT0FBTyxFQUFFO2dCQUNqQyxlQUFlLEdBQUcsa0JBQWtCLENBQUM7Z0JBQ3JDLFVBQVUsR0FBRyxDQUFDLFVBQVUsQ0FBQzthQUMxQjtZQUNELDBFQUEwRTtZQUMxRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDMUQsbUNBQW1DO1lBQ2xDLElBQUksQ0FBQyxFQUFrQixDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsR0FBRyxlQUFlLGVBQWUsVUFBVSxLQUFLLENBQUM7WUFDNUYsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDNUQsQ0FBQztRQUVELDZCQUF3QixHQUFHLEdBQUcsRUFBRTtZQUM5QixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7Z0JBQ2xCLElBQUksSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFHLEVBQUU7b0JBQzFCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztpQkFDYjtxQkFBTTtvQkFDTCxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7aUJBQ3BCO2dCQUNELElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO2dCQUN2QixJQUFJLENBQUMsb0JBQW9CLEdBQUcsS0FBSyxDQUFDO2FBQ25DO1FBQ0gsQ0FBQztRQUVELHFCQUFnQixHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDdkIsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUNmLHFCQUFxQjtnQkFDckIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtvQkFDcEYsT0FBTztpQkFDUjtnQkFDRCx5REFBeUQ7Z0JBQ3pELElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO29CQUNuQixJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNwQjtnQkFDRCx3QkFBd0I7Z0JBQ3hCLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hCLHVCQUF1QjtnQkFDdkIsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO2dCQUNsRCxxREFBcUQ7Z0JBQ3JELElBQUksYUFBYSxHQUFHLFdBQVcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO2dCQUN2RCwwRkFBMEY7Z0JBQzFGLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO2dCQUMzRCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLGFBQWEsRUFBRTtvQkFDdkMsV0FBVyxHQUFHLENBQUMsQ0FBQztpQkFDakI7Z0JBQ0QsSUFBSSxVQUFVLEdBQUcsQ0FBQyxXQUFXLENBQUM7Z0JBQzlCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEtBQUssT0FBTyxFQUFFO29CQUNqQyxVQUFVLEdBQUcsQ0FBQyxVQUFVLENBQUM7aUJBQzFCO2dCQUNELDBFQUEwRTtnQkFDMUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDOUQsbUNBQW1DO2dCQUNsQyxJQUFJLENBQUMsRUFBa0IsQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLGNBQWMsVUFBVSxLQUFLLENBQUM7Z0JBQ3pFLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDO2FBQzNEO1FBQ0gsQ0FBQztRQUVELHdCQUFtQixHQUFHLEdBQUcsRUFBRTtZQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDakMsSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsRUFBRTtvQkFDMUIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO2lCQUNuQjtxQkFBTTtvQkFDTCxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7aUJBQ2Q7Z0JBQ0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxLQUFLLENBQUM7YUFDbkM7UUFDSCxDQUFDO1FBRUQsb0VBQW9FO1FBQ3BFLDZCQUF3QixHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDL0IsTUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUN4RCxJQUFJLFlBQVksSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxFQUFFO2dCQUM3QyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7YUFDZDtRQUNILENBQUM7UUFFRCx3QkFBbUIsR0FBRyxHQUFHLEVBQUU7WUFDekIsaUNBQWlDO1lBQ2pDLElBQUksSUFBSSxDQUFDLGVBQWUsS0FBSyxNQUFNLENBQUMsVUFBVSxFQUFFO2dCQUM5QyxJQUFJLE1BQU0sQ0FBQyxVQUFVLEdBQUcsR0FBRyxFQUFFO29CQUMzQixJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7aUJBQ2I7cUJBQU07b0JBQ0wsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO2lCQUNkO2FBQ0Y7WUFDRCxJQUFJLENBQUMsZUFBZSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUM7WUFDekMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUM7UUFDN0MsQ0FBQztRQXFFRCxVQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ1gsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLEtBQUs7Z0JBQUUsT0FBTztZQUNsQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUNwQiw0QkFBNEI7WUFDNUIsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxLQUFLLFVBQVUsRUFBRTtnQkFDbkQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7YUFDL0M7WUFDRCx1QkFBdUI7WUFDdkIsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsRUFBRTtnQkFDNUIsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztnQkFDbEUsSUFBSSxDQUFDLEVBQWtCLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxjQUFjLFVBQVUsR0FBRyxDQUFDO2FBQ3hFO1lBQ0QsMkJBQTJCO2lCQUN0QjtnQkFDSCxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztnQkFDNUIsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSSxDQUFDLEVBQUU7b0JBQzVDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztpQkFDcEI7cUJBQU07b0JBQ0wsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztpQkFDdEM7YUFDRjtRQUNILENBQUM7UUExVUUsSUFBSSxDQUFDLEVBQVUsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLE9BQU8sbUNBQU8sT0FBTyxDQUFDLFFBQVEsR0FBSyxPQUFPLENBQUMsQ0FBQztRQUNqRCxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUN2QixpREFBaUQ7UUFDakQsSUFBSSxDQUFDLGVBQWUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDO1FBQ3pDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO1FBQzNDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25CLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRCxNQUFNLEtBQUssUUFBUTtRQUNqQixPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0lBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsT0FBTztRQUN0QixPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1FBQ25CLE1BQU0sT0FBTyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUN6QyxPQUFPLE9BQU8sQ0FBQyxTQUFTLENBQUM7SUFDM0IsQ0FBQztJQUVELE9BQU87UUFDTCxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUM1QixJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUM1QixJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLEVBQVUsQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxFQUFrQixDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQzlDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtZQUNkLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztTQUNwQztJQUNILENBQUM7SUFFRCxjQUFjO1FBQ1osSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNwRCxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVELG1CQUFtQjtRQUNqQixJQUFJLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUNsQyxRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztTQUNuRTtRQUNELElBQUksa0JBQWtCLEdBQVksSUFBSSxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1FBQzlGLElBQUksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBQzVFLElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3ZGLElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2pGLElBQUksQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQy9ELElBQUksQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBQ2pFLGdDQUFnQztRQUNoQyxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDaEIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztTQUM3RDtJQUNILENBQUM7SUFFRCxvQkFBb0I7UUFDbEIsSUFBSSxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDbEMsUUFBUSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7U0FDdEU7UUFDRCxJQUFJLENBQUMsVUFBVSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUM3RSxJQUFJLENBQUMsVUFBVSxDQUFDLG1CQUFtQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUMvRSxJQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUN0RSxJQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsRUFBRSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUNoRSxJQUFJLENBQUMsRUFBRSxDQUFDLG1CQUFtQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUNsRSxJQUFJLENBQUMsRUFBRSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUVwRSxtQ0FBbUM7UUFDbkMsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2hCLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7U0FDaEU7SUFDSCxDQUFDO0lBRUQsbUJBQW1CLENBQUMsQ0FBQztRQUNuQixNQUFNLE9BQU8sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxDQUFDLE1BQU0sSUFBSSxPQUFPLEVBQUU7WUFDdkIsTUFBTSxTQUFTLEdBQUcsVUFBQyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzlDLE1BQU0sZUFBZSxHQUFJLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFTLENBQUMsU0FBUyxDQUFDO1lBQzlFLElBQUksZUFBZSxFQUFFO2dCQUNuQixlQUFlLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQy9CO1lBQ0QsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO1NBQ3BCO0lBQ0gsQ0FBQztJQUVELGlGQUFpRjtJQUNqRixVQUFVLENBQUMsQ0FBQztRQUNWLE1BQU0sT0FBTyxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQzNDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxhQUFhLEdBQUcsT0FBTyxDQUFDO1FBQzdCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUNoQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxLQUFLLENBQUM7UUFDcEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN0QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFVBQUMsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQ3BGLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxLQUFLLENBQUM7UUFDbEMsaUJBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3JCLGlCQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsb0RBQW9EO0lBQ3BELGVBQWUsQ0FBQyxDQUFDO1FBQ2YsTUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7UUFDM0MsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsVUFBQyxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDcEYsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUM7UUFDckIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN6RCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN4QixJQUFJLElBQUksQ0FBQyxpQkFBaUIsS0FBSyxnQkFBZ0IsRUFBRTtZQUMvQyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDO1NBQ2xDO0lBQ0gsQ0FBQztJQXNIRCxhQUFhO1FBQ1gsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksS0FBSyxPQUFPLEVBQUU7WUFDakMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUNoRDtJQUNILENBQUM7SUFFRCxjQUFjO1FBQ1osSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUQsV0FBVztRQUNULElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFO1lBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzVDLENBQUM7SUFFRCxpQkFBaUI7UUFDZixPQUFPLElBQUksQ0FBQyxPQUFPLElBQUksTUFBTSxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUM7SUFDakQsQ0FBQztJQUVELGlCQUFpQjtRQUNmLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDakQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDeEMsVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUM7UUFDdEQsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDL0IsQ0FBQztJQUVELHFCQUFxQjtRQUNuQixRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQzFDLENBQUM7SUFFRCxvQkFBb0I7UUFDbEIsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztJQUNwQyxDQUFDO0lBRUQsSUFBSTtRQUNGLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxJQUFJO1lBQUUsT0FBTztRQUNqQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNuQiwyQkFBMkI7UUFDM0IsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxLQUFLLFVBQVUsRUFBRTtZQUNsRCxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUM5QztRQUNELHVCQUF1QjtRQUN2QixJQUFJLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxFQUFFO1lBQzVCLGlCQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNyQixxQkFBSSxFQUFDO2dCQUNILE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRTtnQkFDaEIsVUFBVSxFQUFFLENBQUM7Z0JBQ2IsUUFBUSxFQUFFLENBQUM7Z0JBQ1gsTUFBTSxFQUFFLGFBQWE7YUFDdEIsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7WUFDNUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztTQUN0QztRQUNELDJCQUEyQjthQUN0QjtZQUNILElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRTtnQkFDakMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7YUFDOUI7WUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsRUFBRTtnQkFDNUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO2FBQ25CO1NBQ0Y7SUFDSCxDQUFDO0lBeUJELFVBQVU7UUFDUixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBRUQsaUJBQWlCO1FBQ2YsSUFBSSxlQUFlLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVELElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNsQixlQUFlO2dCQUNiLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLE1BQU07b0JBQzFCLENBQUMsQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLFdBQVc7b0JBQ3BDLENBQUMsQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztTQUMxQztRQUNELGlCQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNyQixxQkFBSSxFQUFDO1lBQ0gsT0FBTyxFQUFFLElBQUksQ0FBQyxFQUFFO1lBQ2hCLFVBQVUsRUFBRSxDQUFDLEdBQUcsZUFBZSxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQztZQUM1QyxRQUFRLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVO1lBQ2pDLE1BQU0sRUFBRSxhQUFhO1lBQ3JCLFFBQVEsRUFBRSxHQUFHLEVBQUU7Z0JBQ2IseUJBQXlCO2dCQUN6QixJQUFJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEtBQUssVUFBVSxFQUFFO29CQUNoRCxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztpQkFDNUM7WUFDSCxDQUFDO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGlCQUFpQjtRQUNmLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNkLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNsQixLQUFLLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztTQUMxQjthQUNJO1lBQ0gsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztTQUN2QztRQUNELGlCQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzQixxQkFBSSxFQUFDO1lBQ0gsT0FBTyxFQUFFLElBQUksQ0FBQyxRQUFRO1lBQ3RCLE9BQU8sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7WUFDbkIsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVTtZQUNqQyxNQUFNLEVBQUUsYUFBYTtTQUN0QixDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsV0FBVztRQUNULElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBQzFCLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFRCxrQkFBa0I7UUFDaEIsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pELElBQUksZUFBZSxHQUFHLENBQUMsQ0FBQztRQUN4QixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDbEIsZUFBZTtnQkFDYixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksS0FBSyxNQUFNO29CQUMxQixDQUFDLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXO29CQUMvQixDQUFDLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7U0FDckM7UUFFRCxpQkFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDckIscUJBQUksRUFBQztZQUNILE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRTtZQUNoQixVQUFVLEVBQUUsQ0FBQyxHQUFHLGVBQWUsR0FBRyxHQUFHLEdBQUcsRUFBRSxHQUFHLFVBQVUsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUNqRSxRQUFRLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXO1lBQ2xDLE1BQU0sRUFBRSxhQUFhO1lBQ3JCLFFBQVEsRUFBRSxHQUFHLEVBQUU7Z0JBQ2IseUJBQXlCO2dCQUN6QixJQUFJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEtBQUssVUFBVSxFQUFFO29CQUNqRCxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztpQkFDN0M7WUFDSCxDQUFDO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGtCQUFrQjtRQUNoQixpQkFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0IscUJBQUksRUFBQztZQUNILE9BQU8sRUFBRSxJQUFJLENBQUMsUUFBUTtZQUN0QixPQUFPLEVBQUUsQ0FBQztZQUNWLFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVc7WUFDbEMsTUFBTSxFQUFFLGFBQWE7WUFDckIsUUFBUSxFQUFFLEdBQUcsRUFBRTtnQkFDYixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1lBQ3ZDLENBQUM7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDO0NBS0Y7QUE3YkQsMEJBNmJDO0FBSEM7SUFDRSxPQUFPLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztBQUN6QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL3NpZGVuYXYudHM/ODJiMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcbmltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5cbmNvbnN0IF9kZWZhdWx0cyA9IHtcbiAgZWRnZTogJ2xlZnQnLFxuICBkcmFnZ2FibGU6IHRydWUsXG4gIGRyYWdUYXJnZXRXaWR0aDogJzEwcHgnLFxuICBpbkR1cmF0aW9uOiAyNTAsXG4gIG91dER1cmF0aW9uOiAyMDAsXG4gIG9uT3BlblN0YXJ0OiBudWxsLFxuICBvbk9wZW5FbmQ6IG51bGwsXG4gIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgb25DbG9zZUVuZDogbnVsbCxcbiAgcHJldmVudFNjcm9sbGluZzogdHJ1ZVxufTtcblxuZXhwb3J0IGNsYXNzIFNpZGVuYXYgZXh0ZW5kcyBDb21wb25lbnQge1xuICBpZDogYW55O1xuICBpc09wZW46IGJvb2xlYW47XG4gIGlzRml4ZWQ6IGJvb2xlYW47XG4gIGlzRHJhZ2dlZDogYm9vbGVhbjtcbiAgbGFzdFdpbmRvd1dpZHRoOiBudW1iZXI7XG4gIGxhc3RXaW5kb3dIZWlnaHQ6IG51bWJlcjtcbiAgc3RhdGljIF9zaWRlbmF2czogYW55O1xuICBwcml2YXRlIF9vdmVybGF5OiBIVE1MRWxlbWVudDtcbiAgZHJhZ1RhcmdldDogRWxlbWVudDtcbiAgcHJpdmF0ZSBfc3RhcnRpbmdYcG9zOiBudW1iZXI7XG4gIHByaXZhdGUgX3hQb3M6IG51bWJlcjtcbiAgcHJpdmF0ZSBfdGltZTogbnVtYmVyO1xuICBwcml2YXRlIF93aWR0aDogbnVtYmVyO1xuICBwcml2YXRlIF9pbml0aWFsU2Nyb2xsVG9wOiBudW1iZXI7XG4gIHByaXZhdGUgX3ZlcnRpY2FsbHlTY3JvbGxpbmc6IGJvb2xlYW47XG4gIHByaXZhdGUgZGVsdGFYOiBudW1iZXI7XG4gIHByaXZhdGUgdmVsb2NpdHlYOiBudW1iZXI7XG4gIHByaXZhdGUgcGVyY2VudE9wZW46IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgIHN1cGVyKFNpZGVuYXYsIGVsLCBvcHRpb25zKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fU2lkZW5hdiA9IHRoaXM7XG4gICAgdGhpcy5pZCA9IHRoaXMuZWwuaWQ7XG4gICAgdGhpcy5vcHRpb25zID0gey4uLlNpZGVuYXYuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5pc0ZpeGVkID0gdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3NpZGVuYXYtZml4ZWQnKTtcbiAgICB0aGlzLmlzRHJhZ2dlZCA9IGZhbHNlO1xuICAgIC8vIFdpbmRvdyBzaXplIHZhcmlhYmxlcyBmb3Igd2luZG93IHJlc2l6ZSBjaGVja3NcbiAgICB0aGlzLmxhc3RXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMubGFzdFdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB0aGlzLl9jcmVhdGVPdmVybGF5KCk7XG4gICAgdGhpcy5fY3JlYXRlRHJhZ1RhcmdldCgpO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMuX3NldHVwQ2xhc3NlcygpO1xuICAgIHRoaXMuX3NldHVwRml4ZWQoKTtcbiAgICBTaWRlbmF2Ll9zaWRlbmF2cy5wdXNoKHRoaXMpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgIGNvbnN0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgcmV0dXJuIGRvbUVsZW0uTV9TaWRlbmF2O1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5fZW5hYmxlQm9keVNjcm9sbGluZygpO1xuICAgIHRoaXMuX292ZXJsYXkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9vdmVybGF5KTtcbiAgICB0aGlzLmRyYWdUYXJnZXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRyYWdUYXJnZXQpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9TaWRlbmF2ID0gdW5kZWZpbmVkO1xuICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICBjb25zdCBpbmRleCA9IFNpZGVuYXYuX3NpZGVuYXZzLmluZGV4T2YodGhpcyk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIFNpZGVuYXYuX3NpZGVuYXZzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgX2NyZWF0ZU92ZXJsYXkoKSB7XG4gICAgdGhpcy5fb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX292ZXJsYXkuY2xhc3NMaXN0LmFkZCgnc2lkZW5hdi1vdmVybGF5Jyk7XG4gICAgdGhpcy5fb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fb3ZlcmxheSk7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIGlmIChTaWRlbmF2Ll9zaWRlbmF2cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xuICAgIH1cbiAgICB2YXIgcGFzc2l2ZUlmU3VwcG9ydGVkOiBib29sZWFuID0gbnVsbDtcbiAgICB0aGlzLmRyYWdUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRHJhZ1RhcmdldERyYWcsIHBhc3NpdmVJZlN1cHBvcnRlZCk7XG4gICAgdGhpcy5kcmFnVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRHJhZ1RhcmdldFJlbGVhc2UpO1xuICAgIHRoaXMuX292ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2xvc2VEcmFnLCBwYXNzaXZlSWZTdXBwb3J0ZWQpO1xuICAgIHRoaXMuX292ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2UpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2xvc2VEcmFnLCBwYXNzaXZlSWZTdXBwb3J0ZWQpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2UpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbG9zZVRyaWdnZXJDbGljayk7XG4gICAgLy8gQWRkIHJlc2l6ZSBmb3Igc2lkZSBuYXYgZml4ZWRcbiAgICBpZiAodGhpcy5pc0ZpeGVkKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplKTtcbiAgICB9XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICBpZiAoU2lkZW5hdi5fc2lkZW5hdnMubGVuZ3RoID09PSAxKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcbiAgICB9XG4gICAgdGhpcy5kcmFnVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURyYWdUYXJnZXREcmFnKTtcbiAgICB0aGlzLmRyYWdUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0UmVsZWFzZSk7XG4gICAgdGhpcy5fb3ZlcmxheS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVDbG9zZURyYWcpO1xuICAgIHRoaXMuX292ZXJsYXkucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2UpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2xvc2VEcmFnKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ2xvc2VSZWxlYXNlKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xvc2VUcmlnZ2VyQ2xpY2spO1xuXG4gICAgLy8gUmVtb3ZlIHJlc2l6ZSBmb3Igc2lkZSBuYXYgZml4ZWRcbiAgICBpZiAodGhpcy5pc0ZpeGVkKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlVHJpZ2dlckNsaWNrKGUpIHtcbiAgICBjb25zdCB0cmlnZ2VyID0gZS50YXJnZXQuY2xvc2VzdCgnLnNpZGVuYXYtdHJpZ2dlcicpO1xuICAgIGlmIChlLnRhcmdldCAmJiB0cmlnZ2VyKSB7XG4gICAgICBjb25zdCBzaWRlbmF2SWQgPSBNLmdldElkRnJvbVRyaWdnZXIodHJpZ2dlcik7XG4gICAgICBjb25zdCBzaWRlbmF2SW5zdGFuY2UgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2lkZW5hdklkKSBhcyBhbnkpLk1fU2lkZW5hdjtcbiAgICAgIGlmIChzaWRlbmF2SW5zdGFuY2UpIHtcbiAgICAgICAgc2lkZW5hdkluc3RhbmNlLm9wZW4odHJpZ2dlcik7XG4gICAgICB9XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2V0IHZhcmlhYmxlcyBuZWVkZWQgYXQgdGhlIGJlZ2lubmluZyBvZiBkcmFnIGFuZCBzdG9wIGFueSBjdXJyZW50IHRyYW5zaXRpb24uXG4gIF9zdGFydERyYWcoZSkge1xuICAgIGNvbnN0IGNsaWVudFggPSBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICB0aGlzLmlzRHJhZ2dlZCA9IHRydWU7XG4gICAgdGhpcy5fc3RhcnRpbmdYcG9zID0gY2xpZW50WDtcbiAgICB0aGlzLl94UG9zID0gdGhpcy5fc3RhcnRpbmdYcG9zO1xuICAgIHRoaXMuX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuX3dpZHRoID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICB0aGlzLl9vdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIHRoaXMuX2luaXRpYWxTY3JvbGxUb3AgPSB0aGlzLmlzT3BlbiA/IHRoaXMuZWwuc2Nyb2xsVG9wIDogTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICBhbmltLnJlbW92ZSh0aGlzLl9vdmVybGF5KTtcbiAgfVxuXG4gIC8vU2V0IHZhcmlhYmxlcyBuZWVkZWQgYXQgZWFjaCBkcmFnIG1vdmUgdXBkYXRlIHRpY2tcbiAgX2RyYWdNb3ZlVXBkYXRlKGUpIHtcbiAgICBjb25zdCBjbGllbnRYID0gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgY29uc3QgY3VycmVudFNjcm9sbFRvcCA9IHRoaXMuaXNPcGVuID8gdGhpcy5lbC5zY3JvbGxUb3AgOiBNLmdldERvY3VtZW50U2Nyb2xsVG9wKCk7XG4gICAgdGhpcy5kZWx0YVggPSBNYXRoLmFicyh0aGlzLl94UG9zIC0gY2xpZW50WCk7XG4gICAgdGhpcy5feFBvcyA9IGNsaWVudFg7XG4gICAgdGhpcy52ZWxvY2l0eVggPSB0aGlzLmRlbHRhWCAvIChEYXRlLm5vdygpIC0gdGhpcy5fdGltZSk7XG4gICAgdGhpcy5fdGltZSA9IERhdGUubm93KCk7XG4gICAgaWYgKHRoaXMuX2luaXRpYWxTY3JvbGxUb3AgIT09IGN1cnJlbnRTY3JvbGxUb3ApIHtcbiAgICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVEcmFnVGFyZ2V0RHJhZyA9IChlKSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgZHJhZ2dhYmxlXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlIHx8IHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSB8fCB0aGlzLl92ZXJ0aWNhbGx5U2Nyb2xsaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIElmIG5vdCBiZWluZyBkcmFnZ2VkLCBzZXQgaW5pdGlhbCBkcmFnIHN0YXJ0IHZhcmlhYmxlc1xuICAgIGlmICghdGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgIHRoaXMuX3N0YXJ0RHJhZyhlKTtcbiAgICB9XG4gICAgLy8gUnVuIHRvdWNobW92ZSB1cGRhdGVzXG4gICAgdGhpcy5fZHJhZ01vdmVVcGRhdGUoZSk7XG4gICAgLy8gQ2FsY3VsYXRlIHJhdyBkZWx0YVhcbiAgICBsZXQgdG90YWxEZWx0YVggPSB0aGlzLl94UG9zIC0gdGhpcy5fc3RhcnRpbmdYcG9zO1xuICAgIC8vIGRyYWdEaXJlY3Rpb24gaXMgdGhlIGF0dGVtcHRlZCB1c2VyIGRyYWcgZGlyZWN0aW9uXG4gICAgY29uc3QgZHJhZ0RpcmVjdGlvbiA9IHRvdGFsRGVsdGFYID4gMCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgLy8gRG9uJ3QgYWxsb3cgdG90YWxEZWx0YVggdG8gZXhjZWVkIFNpZGVuYXYgd2lkdGggb3IgYmUgZHJhZ2dlZCBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uXG4gICAgdG90YWxEZWx0YVggPSBNYXRoLm1pbih0aGlzLl93aWR0aCwgTWF0aC5hYnModG90YWxEZWx0YVgpKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgPT09IGRyYWdEaXJlY3Rpb24pIHtcbiAgICAgIHRvdGFsRGVsdGFYID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdHJhbnNmb3JtWCBpcyB0aGUgZHJhZyBkaXNwbGFjZW1lbnRcbiAgICAgKiB0cmFuc2Zvcm1QcmVmaXggaXMgdGhlIGluaXRpYWwgdHJhbnNmb3JtIHBsYWNlbWVudFxuICAgICAqIEludmVydCB2YWx1ZXMgaWYgU2lkZW5hdiBpcyByaWdodCBlZGdlXG4gICAgICovXG4gICAgbGV0IHRyYW5zZm9ybVggPSB0b3RhbERlbHRhWDtcbiAgICBsZXQgdHJhbnNmb3JtUHJlZml4ID0gJ3RyYW5zbGF0ZVgoLTEwMCUpJztcbiAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgPT09ICdyaWdodCcpIHtcbiAgICAgIHRyYW5zZm9ybVByZWZpeCA9ICd0cmFuc2xhdGVYKDEwMCUpJztcbiAgICAgIHRyYW5zZm9ybVggPSAtdHJhbnNmb3JtWDtcbiAgICB9XG4gICAgLy8gQ2FsY3VsYXRlIG9wZW4vY2xvc2UgcGVyY2VudGFnZSBvZiBzaWRlbmF2LCB3aXRoIG9wZW4gPSAxIGFuZCBjbG9zZSA9IDBcbiAgICB0aGlzLnBlcmNlbnRPcGVuID0gTWF0aC5taW4oMSwgdG90YWxEZWx0YVggLyB0aGlzLl93aWR0aCk7XG4gICAgLy8gU2V0IHRyYW5zZm9ybSBhbmQgb3BhY2l0eSBzdHlsZXNcbiAgICAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUudHJhbnNmb3JtID0gYCR7dHJhbnNmb3JtUHJlZml4fSB0cmFuc2xhdGVYKCR7dHJhbnNmb3JtWH1weClgO1xuICAgIHRoaXMuX292ZXJsYXkuc3R5bGUub3BhY2l0eSA9IHRoaXMucGVyY2VudE9wZW4udG9TdHJpbmcoKTtcbiAgfVxuXG4gIF9oYW5kbGVEcmFnVGFyZ2V0UmVsZWFzZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgIGlmICh0aGlzLnBlcmNlbnRPcGVuID4gMC4yKSB7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5pc0RyYWdnZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQ2xvc2VEcmFnID0gKGUpID0+IHtcbiAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgIC8vIENoZWNrIGlmIGRyYWdnYWJsZVxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlIHx8IHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSB8fCB0aGlzLl92ZXJ0aWNhbGx5U2Nyb2xsaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIElmIG5vdCBiZWluZyBkcmFnZ2VkLCBzZXQgaW5pdGlhbCBkcmFnIHN0YXJ0IHZhcmlhYmxlc1xuICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICB0aGlzLl9zdGFydERyYWcoZSk7XG4gICAgICB9XG4gICAgICAvLyBSdW4gdG91Y2htb3ZlIHVwZGF0ZXNcbiAgICAgIHRoaXMuX2RyYWdNb3ZlVXBkYXRlKGUpO1xuICAgICAgLy8gQ2FsY3VsYXRlIHJhdyBkZWx0YVhcbiAgICAgIGxldCB0b3RhbERlbHRhWCA9IHRoaXMuX3hQb3MgLSB0aGlzLl9zdGFydGluZ1hwb3M7XG4gICAgICAvLyBkcmFnRGlyZWN0aW9uIGlzIHRoZSBhdHRlbXB0ZWQgdXNlciBkcmFnIGRpcmVjdGlvblxuICAgICAgbGV0IGRyYWdEaXJlY3Rpb24gPSB0b3RhbERlbHRhWCA+IDAgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgLy8gRG9uJ3QgYWxsb3cgdG90YWxEZWx0YVggdG8gZXhjZWVkIFNpZGVuYXYgd2lkdGggb3IgYmUgZHJhZ2dlZCBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uXG4gICAgICB0b3RhbERlbHRhWCA9IE1hdGgubWluKHRoaXMuX3dpZHRoLCBNYXRoLmFicyh0b3RhbERlbHRhWCkpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lZGdlICE9PSBkcmFnRGlyZWN0aW9uKSB7XG4gICAgICAgIHRvdGFsRGVsdGFYID0gMDtcbiAgICAgIH1cbiAgICAgIGxldCB0cmFuc2Zvcm1YID0gLXRvdGFsRGVsdGFYO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lZGdlID09PSAncmlnaHQnKSB7XG4gICAgICAgIHRyYW5zZm9ybVggPSAtdHJhbnNmb3JtWDtcbiAgICAgIH1cbiAgICAgIC8vIENhbGN1bGF0ZSBvcGVuL2Nsb3NlIHBlcmNlbnRhZ2Ugb2Ygc2lkZW5hdiwgd2l0aCBvcGVuID0gMSBhbmQgY2xvc2UgPSAwXG4gICAgICB0aGlzLnBlcmNlbnRPcGVuID0gTWF0aC5taW4oMSwgMSAtIHRvdGFsRGVsdGFYIC8gdGhpcy5fd2lkdGgpO1xuICAgICAgLy8gU2V0IHRyYW5zZm9ybSBhbmQgb3BhY2l0eSBzdHlsZXNcbiAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3RyYW5zZm9ybVh9cHgpYDtcbiAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUub3BhY2l0eSA9IHRoaXMucGVyY2VudE9wZW4udG9TdHJpbmcoKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQ2xvc2VSZWxlYXNlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmlzT3BlbiAmJiB0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgaWYgKHRoaXMucGVyY2VudE9wZW4gPiAwLjgpIHtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZUluKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmlzRHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fdmVydGljYWxseVNjcm9sbGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEhhbmRsZXMgY2xvc2luZyBvZiBTaWRlbmF2IHdoZW4gZWxlbWVudCB3aXRoIGNsYXNzIC5zaWRlbmF2LWNsb3NlXG4gIF9oYW5kbGVDbG9zZVRyaWdnZXJDbGljayA9IChlKSA9PiB7XG4gICAgY29uc3QgY2xvc2VUcmlnZ2VyID0gZS50YXJnZXQuY2xvc2VzdCgnLnNpZGVuYXYtY2xvc2UnKTtcbiAgICBpZiAoY2xvc2VUcmlnZ2VyICYmICF0aGlzLl9pc0N1cnJlbnRseUZpeGVkKCkpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlV2luZG93UmVzaXplID0gKCkgPT4ge1xuICAgIC8vIE9ubHkgaGFuZGxlIGhvcml6b250YWwgcmVzaXplc1xuICAgIGlmICh0aGlzLmxhc3RXaW5kb3dXaWR0aCAhPT0gd2luZG93LmlubmVyV2lkdGgpIHtcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDk5Mikge1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5sYXN0V2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLmxhc3RXaW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBfc2V0dXBDbGFzc2VzKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdyaWdodC1hbGlnbmVkJyk7XG4gICAgICB0aGlzLmRyYWdUYXJnZXQuY2xhc3NMaXN0LmFkZCgncmlnaHQtYWxpZ25lZCcpO1xuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVDbGFzc2VzKCkge1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncmlnaHQtYWxpZ25lZCcpO1xuICAgIHRoaXMuZHJhZ1RhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyaWdodC1hbGlnbmVkJyk7XG4gIH1cblxuICBfc2V0dXBGaXhlZCgpIHtcbiAgICBpZiAodGhpcy5faXNDdXJyZW50bHlGaXhlZCgpKSB0aGlzLm9wZW4oKTtcbiAgfVxuXG4gIF9pc0N1cnJlbnRseUZpeGVkKCkge1xuICAgIHJldHVybiB0aGlzLmlzRml4ZWQgJiYgd2luZG93LmlubmVyV2lkdGggPiA5OTI7XG4gIH1cblxuICBfY3JlYXRlRHJhZ1RhcmdldCgpIHtcbiAgICBjb25zdCBkcmFnVGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZHJhZ1RhcmdldC5jbGFzc0xpc3QuYWRkKCdkcmFnLXRhcmdldCcpO1xuICAgIGRyYWdUYXJnZXQuc3R5bGUud2lkdGggPSB0aGlzLm9wdGlvbnMuZHJhZ1RhcmdldFdpZHRoO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZHJhZ1RhcmdldCk7XG4gICAgdGhpcy5kcmFnVGFyZ2V0ID0gZHJhZ1RhcmdldDtcbiAgfVxuXG4gIF9wcmV2ZW50Qm9keVNjcm9sbGluZygpIHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gIH1cblxuICBfZW5hYmxlQm9keVNjcm9sbGluZygpIHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIGlmICh0aGlzLmlzT3BlbiA9PT0gdHJ1ZSkgcmV0dXJuO1xuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAvLyBSdW4gb25PcGVuU3RhcnQgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgfVxuICAgIC8vIEhhbmRsZSBmaXhlZCBTaWRlbmF2XG4gICAgaWYgKHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSkge1xuICAgICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgICAgdHJhbnNsYXRlWDogMCxcbiAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9lbmFibGVCb2R5U2Nyb2xsaW5nKCk7XG4gICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICAgIC8vIEhhbmRsZSBub24tZml4ZWQgU2lkZW5hdlxuICAgIGVsc2Uge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcmV2ZW50U2Nyb2xsaW5nKSB7XG4gICAgICAgIHRoaXMuX3ByZXZlbnRCb2R5U2Nyb2xsaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5pc0RyYWdnZWQgfHwgdGhpcy5wZXJjZW50T3BlbiAhPSAxKSB7XG4gICAgICAgIHRoaXMuX2FuaW1hdGVJbigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsb3NlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmlzT3BlbiA9PT0gZmFsc2UpIHJldHVybjtcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIC8vIFJ1biBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICB9XG4gICAgLy8gSGFuZGxlIGZpeGVkIFNpZGVuYXZcbiAgICBpZiAodGhpcy5faXNDdXJyZW50bHlGaXhlZCgpKSB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm1YID0gdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0JyA/ICctMTA1JScgOiAnMTA1JSc7XG4gICAgICAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHt0cmFuc2Zvcm1YfSlgO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgbm9uLWZpeGVkIFNpZGVuYXZcbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZUJvZHlTY3JvbGxpbmcoKTtcbiAgICAgIGlmICghdGhpcy5pc0RyYWdnZWQgfHwgdGhpcy5wZXJjZW50T3BlbiAhPSAwKSB7XG4gICAgICAgIHRoaXMuX2FuaW1hdGVPdXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfYW5pbWF0ZUluKCkge1xuICAgIHRoaXMuX2FuaW1hdGVTaWRlbmF2SW4oKTtcbiAgICB0aGlzLl9hbmltYXRlT3ZlcmxheUluKCk7XG4gIH1cblxuICBfYW5pbWF0ZVNpZGVuYXZJbigpIHtcbiAgICBsZXQgc2xpZGVPdXRQZXJjZW50ID0gdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0JyA/IC0xIDogMTtcbiAgICBpZiAodGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgIHNsaWRlT3V0UGVyY2VudCA9XG4gICAgICAgIHRoaXMub3B0aW9ucy5lZGdlID09PSAnbGVmdCdcbiAgICAgICAgICA/IHNsaWRlT3V0UGVyY2VudCArIHRoaXMucGVyY2VudE9wZW5cbiAgICAgICAgICA6IHNsaWRlT3V0UGVyY2VudCAtIHRoaXMucGVyY2VudE9wZW47XG4gICAgfVxuICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgIHRyYW5zbGF0ZVg6IFtgJHtzbGlkZU91dFBlcmNlbnQgKiAxMDB9JWAsIDBdLFxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgLy8gUnVuIG9uT3BlbkVuZCBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuRW5kLmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9hbmltYXRlT3ZlcmxheUluKCkge1xuICAgIGxldCBzdGFydCA9IDA7XG4gICAgaWYgKHRoaXMuaXNEcmFnZ2VkKSB7XG4gICAgICBzdGFydCA9IHRoaXMucGVyY2VudE9wZW47XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG4gICAgYW5pbS5yZW1vdmUodGhpcy5fb3ZlcmxheSk7XG4gICAgYW5pbSh7XG4gICAgICB0YXJnZXRzOiB0aGlzLl9vdmVybGF5LFxuICAgICAgb3BhY2l0eTogW3N0YXJ0LCAxXSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgIH0pO1xuICB9XG5cbiAgX2FuaW1hdGVPdXQoKSB7XG4gICAgdGhpcy5fYW5pbWF0ZVNpZGVuYXZPdXQoKTtcbiAgICB0aGlzLl9hbmltYXRlT3ZlcmxheU91dCgpO1xuICB9XG5cbiAgX2FuaW1hdGVTaWRlbmF2T3V0KCkge1xuICAgIGNvbnN0IGVuZFBlcmNlbnQgPSB0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ2xlZnQnID8gLTEgOiAxO1xuICAgIGxldCBzbGlkZU91dFBlcmNlbnQgPSAwO1xuICAgIGlmICh0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgc2xpZGVPdXRQZXJjZW50ID1cbiAgICAgICAgdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0J1xuICAgICAgICAgID8gZW5kUGVyY2VudCArIHRoaXMucGVyY2VudE9wZW5cbiAgICAgICAgICA6IGVuZFBlcmNlbnQgLSB0aGlzLnBlcmNlbnRPcGVuO1xuICAgIH1cblxuICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgIHRyYW5zbGF0ZVg6IFtgJHtzbGlkZU91dFBlcmNlbnQgKiAxMDB9JWAsIGAke2VuZFBlcmNlbnQgKiAxMDV9JWBdLFxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIC8vIFJ1biBvbk9wZW5FbmQgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kLmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9hbmltYXRlT3ZlcmxheU91dCgpIHtcbiAgICBhbmltLnJlbW92ZSh0aGlzLl9vdmVybGF5KTtcbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IHRoaXMuX292ZXJsYXksXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyAge1xuICAgIFNpZGVuYXYuX3NpZGVuYXZzID0gW107XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/sidenav.ts\n");

/***/ }),

/***/ "./src/slider.ts":
/*!***********************!*\
  !*** ./src/slider.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Slider = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nlet _defaults = {\n    indicators: true,\n    height: 400,\n    duration: 500,\n    interval: 6000,\n    pauseOnFocus: true,\n    pauseOnHover: true,\n    indicatorLabelFunc: null // Function which will generate a label for the indicators (ARIA)\n};\nclass Slider extends component_1.Component {\n    constructor(el, options) {\n        super(Slider, el, options);\n        this._handleIndicatorClick = (e) => {\n            const el = e.target.parentElement;\n            const currIndex = [...el.parentNode.children].indexOf(el);\n            this._focusCurrent = true;\n            this.set(currIndex);\n        };\n        this._handleAutoPauseHover = () => {\n            this._hovered = true;\n            if (this.interval != null) {\n                this._pause(true);\n            }\n        };\n        this._handleAutoPauseFocus = () => {\n            this._focused = true;\n            if (this.interval != null) {\n                this._pause(true);\n            }\n        };\n        this._handleAutoStartHover = () => {\n            this._hovered = false;\n            if (!(this.options.pauseOnFocus && this._focused) && this.eventPause) {\n                this.start();\n            }\n        };\n        this._handleAutoStartFocus = () => {\n            this._focused = false;\n            if (!(this.options.pauseOnHover && this._hovered) && this.eventPause) {\n                this.start();\n            }\n        };\n        this._handleInterval = () => {\n            const activeElem = this._slider.querySelector('.active');\n            let newActiveIndex = [...activeElem.parentNode.children].indexOf(activeElem);\n            if (this._slides.length === newActiveIndex + 1)\n                newActiveIndex = 0; // loop to start\n            else\n                newActiveIndex += 1;\n            this.set(newActiveIndex);\n        };\n        this.el.M_Slider = this;\n        this.options = Object.assign(Object.assign({}, Slider.defaults), options);\n        // init props\n        this.interval = null;\n        this.eventPause = false;\n        this._hovered = false;\n        this._focused = false;\n        this._focusCurrent = false;\n        // setup\n        this._slider = this.el.querySelector('.slides');\n        this._slides = Array.from(this._slider.querySelectorAll('li'));\n        this.activeIndex = this._slides.findIndex(li => li.classList.contains('active'));\n        if (this.activeIndex !== -1) {\n            this._activeSlide = this._slides[this.activeIndex];\n        }\n        this._setSliderHeight();\n        // Sets element id if it does not have one\n        if (this._slider.hasAttribute('id'))\n            this._sliderId = this._slider.getAttribute('id');\n        else {\n            this._sliderId = 'slider-' + global_1.M.guid();\n            this._slider.setAttribute('id', this._sliderId);\n        }\n        const placeholderBase64 = 'data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n        // Set initial positions of captions\n        this._slides.forEach(slide => {\n            // Caption\n            //const caption = <HTMLElement|null>slide.querySelector('.caption');\n            //if (caption) this._animateCaptionIn(caption, 0);\n            // Set Images as Background Images\n            const img = slide.querySelector('img');\n            if (img) {\n                if (img.src !== placeholderBase64) {\n                    img.style.backgroundImage = 'url(' + img.src + ')';\n                    img.src = placeholderBase64;\n                }\n            }\n            // Sets slide as focusable by code\n            if (!slide.hasAttribute('tabindex'))\n                slide.setAttribute('tabindex', '-1');\n            // Removes initial visibility from \"inactive\" slides\n            slide.style.visibility = 'hidden';\n        });\n        this._setupIndicators();\n        // Show active slide\n        if (this._activeSlide) {\n            this._activeSlide.style.display = 'block';\n            this._activeSlide.style.visibility = 'visible';\n        }\n        else {\n            this.activeIndex = 0;\n            this._slides[0].classList.add('active');\n            this._slides[0].style.visibility = 'visible';\n            this._activeSlide = this._slides[0];\n            this._animateSlide(this._slides[0], true);\n            /*anim({\n              targets: this._slides[0],\n              opacity: 1,\n              duration: this.options.duration,\n              easing: 'easeOutQuad'\n            });\n            */\n            // Update indicators\n            if (this.options.indicators) {\n                this._indicators[this.activeIndex].children[0].classList.add('active');\n            }\n        }\n        // Adjust height to current slide\n        // TODO: ??? Code does not do what it says in comment\n        /*\n        this._activeSlide.querySelectorAll('img').forEach(el => {\n          anim({\n            targets: this._activeSlide.querySelector('.caption'),\n            opacity: 1,\n            translateX: 0,\n            translateY: 0,\n            duration: this.options.duration,\n            easing: 'easeOutQuad'\n          });\n        });\n        */\n        this._setupEventHandlers();\n        // auto scroll\n        this.start();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Slider;\n    }\n    destroy() {\n        this.pause();\n        this._removeIndicators();\n        this._removeEventHandlers();\n        this.el.M_Slider = undefined;\n    }\n    _setupEventHandlers() {\n        if (this.options.pauseOnFocus) {\n            this.el.addEventListener('focusin', this._handleAutoPauseFocus);\n            this.el.addEventListener('focusout', this._handleAutoStartFocus);\n        }\n        if (this.options.pauseOnHover) {\n            this.el.addEventListener('mouseenter', this._handleAutoPauseHover);\n            this.el.addEventListener('mouseleave', this._handleAutoStartHover);\n        }\n        if (this.options.indicators) {\n            this._indicators.forEach((el) => {\n                el.addEventListener('click', this._handleIndicatorClick);\n            });\n        }\n    }\n    _removeEventHandlers() {\n        if (this.options.pauseOnFocus) {\n            this.el.removeEventListener('focusin', this._handleAutoPauseFocus);\n            this.el.removeEventListener('focusout', this._handleAutoStartFocus);\n        }\n        if (this.options.pauseOnHover) {\n            this.el.removeEventListener('mouseenter', this._handleAutoPauseHover);\n            this.el.removeEventListener('mouseleave', this._handleAutoStartHover);\n        }\n        if (this.options.indicators) {\n            this._indicators.forEach((el) => {\n                el.removeEventListener('click', this._handleIndicatorClick);\n            });\n        }\n    }\n    _animateSlide(slide, isDirectionIn) {\n        let dx = 0, dy = 0;\n        (0, animejs_1.default)({\n            targets: slide,\n            opacity: isDirectionIn ? [0, 1] : [1, 0],\n            duration: this.options.duration,\n            easing: 'easeOutQuad'\n        });\n        const caption = slide.querySelector('.caption');\n        if (!caption)\n            return;\n        if (caption.classList.contains('center-align'))\n            dy = -100;\n        else if (caption.classList.contains('right-align'))\n            dx = 100;\n        else if (caption.classList.contains('left-align'))\n            dx = -100;\n        (0, animejs_1.default)({\n            targets: caption,\n            opacity: isDirectionIn ? [0, 1] : [1, 0],\n            translateX: isDirectionIn ? [dx, 0] : [0, dx],\n            translateY: isDirectionIn ? [dy, 0] : [0, dy],\n            duration: this.options.duration,\n            delay: this.options.duration,\n            easing: 'easeOutQuad'\n        });\n    }\n    _setSliderHeight() {\n        // If fullscreen, do nothing\n        if (!this.el.classList.contains('fullscreen')) {\n            if (this.options.indicators) {\n                // Add height if indicators are present\n                this.el.style.height = (this.options.height + 40) + 'px'; //.css('height', this.options.height + 40 + 'px');\n            }\n            else {\n                this.el.style.height = this.options.height + 'px';\n            }\n            this._slider.style.height = this.options.height + 'px';\n        }\n    }\n    _setupIndicators() {\n        if (this.options.indicators) {\n            const ul = document.createElement('ul');\n            ul.classList.add('indicators');\n            const arrLi = [];\n            this._slides.forEach((el, i) => {\n                const label = this.options.indicatorLabelFunc\n                    ? this.options.indicatorLabelFunc.call(this, i + 1, i === 0)\n                    : `${i + 1}`;\n                const li = document.createElement('li');\n                li.classList.add('indicator-item');\n                li.innerHTML = `<button type=\"button\" class=\"indicator-item-btn\" aria-label=\"${label}\" aria-controls=\"${this._sliderId}\"></button>`;\n                arrLi.push(li);\n                ul.append(li);\n            });\n            this.el.append(ul);\n            this._indicators = arrLi;\n        }\n    }\n    _removeIndicators() {\n        this.el.querySelector('ul.indicators').remove(); //find('ul.indicators').remove();\n    }\n    set(index) {\n        // Wrap around indices.\n        if (index >= this._slides.length)\n            index = 0;\n        else if (index < 0)\n            index = this._slides.length - 1;\n        // Only do if index changes\n        if (this.activeIndex === index)\n            return;\n        this._activeSlide = this._slides[this.activeIndex];\n        const _caption = this._activeSlide.querySelector('.caption');\n        this._activeSlide.classList.remove('active');\n        // Enables every slide\n        this._slides.forEach(slide => slide.style.visibility = 'visible');\n        //--- Hide active Slide + Caption\n        // TODO: What does this do?\n        (0, animejs_1.default)({\n            targets: this._activeSlide,\n            opacity: 0,\n            duration: this.options.duration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this._slides.forEach(el => {\n                    if (el.classList.contains('active'))\n                        return;\n                    (0, animejs_1.default)({\n                        targets: el,\n                        opacity: 0,\n                        translateX: 0,\n                        translateY: 0,\n                        duration: 0,\n                        easing: 'easeOutQuad'\n                    });\n                    // Disables invisible slides (for assistive technologies)\n                    el.style.visibility = 'hidden';\n                });\n            }\n        });\n        // Hide active Caption\n        //this._animateCaptionIn(_caption, this.options.duration);\n        _caption.style.opacity = '0';\n        // Update indicators\n        if (this.options.indicators) {\n            const activeIndicator = this._indicators[this.activeIndex].children[0];\n            const nextIndicator = this._indicators[index].children[0];\n            activeIndicator.classList.remove('active');\n            nextIndicator.classList.add('active');\n            if (typeof this.options.indicatorLabelFunc === \"function\") {\n                activeIndicator.ariaLabel = this.options.indicatorLabelFunc.call(this, this.activeIndex, false);\n                nextIndicator.ariaLabel = this.options.indicatorLabelFunc.call(this, index, true);\n            }\n        }\n        //--- Show new Slide + Caption\n        this._animateSlide(this._slides[index], true);\n        this._slides[index].classList.add('active');\n        // TODO: Why focus? => causes uncontrollable page scroll\n        /*\n        if (this._focusCurrent) {\n          this._slides[index].focus();\n          this._focusCurrent = false;\n        }\n        */\n        this.activeIndex = index;\n        // Reset interval, if allowed. This check prevents autostart\n        // when slider is paused, since it can be changed though indicators.\n        if (this.interval != null) {\n            this.start();\n        }\n    }\n    _pause(fromEvent) {\n        clearInterval(this.interval);\n        this.eventPause = fromEvent;\n        this.interval = null;\n    }\n    pause() {\n        this._pause(false);\n    }\n    start() {\n        clearInterval(this.interval);\n        this.interval = setInterval(this._handleInterval, this.options.duration + this.options.interval);\n        this.eventPause = false;\n    }\n    next() {\n        let newIndex = this.activeIndex + 1;\n        // Wrap around indices.\n        if (newIndex >= this._slides.length)\n            newIndex = 0;\n        else if (newIndex < 0)\n            newIndex = this._slides.length - 1;\n        this.set(newIndex);\n    }\n    prev() {\n        let newIndex = this.activeIndex - 1;\n        // Wrap around indices.\n        if (newIndex >= this._slides.length)\n            newIndex = 0;\n        else if (newIndex < 0)\n            newIndex = this._slides.length - 1;\n        this.set(newIndex);\n    }\n}\nexports.Slider = Slider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUs7UUFDSCxhQUFhLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxRQUFRLEdBQUcsV0FBVyxDQUN6QixJQUFJLENBQUMsZUFBZSxFQUNwQixJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FDOUMsQ0FBQztRQUNGLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJO1FBQ0YsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFDcEMsdUJBQXVCO1FBQ3ZCLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTTtZQUFFLFFBQVEsR0FBRyxDQUFDLENBQUM7YUFDN0MsSUFBSSxRQUFRLEdBQUcsQ0FBQztZQUFFLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDMUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNyQixDQUFDO0lBRUQsSUFBSTtRQUNGLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQ3BDLHVCQUF1QjtRQUN2QixJQUFJLFFBQVEsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU07WUFBRSxRQUFRLEdBQUcsQ0FBQyxDQUFDO2FBQzdDLElBQUksUUFBUSxHQUFHLENBQUM7WUFBRSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckIsQ0FBQztDQUNGO0FBallELHdCQWlZQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9zbGlkZXIudHM/Y2FjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcbmltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5cbmxldCBfZGVmYXVsdHMgPSB7XG4gIGluZGljYXRvcnM6IHRydWUsXG4gIGhlaWdodDogNDAwLFxuICBkdXJhdGlvbjogNTAwLFxuICBpbnRlcnZhbDogNjAwMCxcbiAgcGF1c2VPbkZvY3VzOiB0cnVlLFxuICBwYXVzZU9uSG92ZXI6IHRydWUsXG4gIGluZGljYXRvckxhYmVsRnVuYzogbnVsbCAvLyBGdW5jdGlvbiB3aGljaCB3aWxsIGdlbmVyYXRlIGEgbGFiZWwgZm9yIHRoZSBpbmRpY2F0b3JzIChBUklBKVxufTtcblxuZXhwb3J0IGNsYXNzIFNsaWRlciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGVsOiBIVE1MRWxlbWVudDtcbiAgX3NsaWRlcjogSFRNTFVMaXN0RWxlbWVudDtcbiAgX3NsaWRlczogSFRNTExJRWxlbWVudFtdO1xuICBhY3RpdmVJbmRleDogbnVtYmVyO1xuICBfYWN0aXZlU2xpZGU6IEhUTUxMSUVsZW1lbnQ7XG4gIF9pbmRpY2F0b3JzOiBIVE1MTElFbGVtZW50W107XG4gIGludGVydmFsOiBzdHJpbmcgfCBudW1iZXIgfCBOb2RlSlMuVGltZW91dDtcbiAgZXZlbnRQYXVzZTogYW55O1xuICBfaG92ZXJlZDogYm9vbGVhbjtcbiAgX2ZvY3VzZWQ6IGJvb2xlYW47XG4gIF9mb2N1c0N1cnJlbnQ6IGJvb2xlYW47XG4gIF9zbGlkZXJJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgc3VwZXIoU2xpZGVyLCBlbCwgb3B0aW9ucyk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1NsaWRlciA9IHRoaXM7XG4gICAgdGhpcy5vcHRpb25zID0gey4uLlNsaWRlci5kZWZhdWx0cywgLi4ub3B0aW9uc307XG5cbiAgICAvLyBpbml0IHByb3BzXG4gICAgdGhpcy5pbnRlcnZhbCA9IG51bGw7XG4gICAgdGhpcy5ldmVudFBhdXNlID0gZmFsc2U7XG4gICAgdGhpcy5faG92ZXJlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2ZvY3VzZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9mb2N1c0N1cnJlbnQgPSBmYWxzZTtcblxuICAgIC8vIHNldHVwXG4gICAgdGhpcy5fc2xpZGVyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVzJyk7XG4gICAgdGhpcy5fc2xpZGVzID0gQXJyYXkuZnJvbSh0aGlzLl9zbGlkZXIucXVlcnlTZWxlY3RvckFsbCgnbGknKSk7XG4gICAgdGhpcy5hY3RpdmVJbmRleCA9IHRoaXMuX3NsaWRlcy5maW5kSW5kZXgobGkgPT4gbGkuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSk7XG5cbiAgICBpZiAodGhpcy5hY3RpdmVJbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZVNsaWRlID0gdGhpcy5fc2xpZGVzW3RoaXMuYWN0aXZlSW5kZXhdO1xuICAgIH1cblxuICAgIHRoaXMuX3NldFNsaWRlckhlaWdodCgpO1xuXG4gICAgLy8gU2V0cyBlbGVtZW50IGlkIGlmIGl0IGRvZXMgbm90IGhhdmUgb25lXG4gICAgaWYgKHRoaXMuX3NsaWRlci5oYXNBdHRyaWJ1dGUoJ2lkJykpXG4gICAgICB0aGlzLl9zbGlkZXJJZCA9IHRoaXMuX3NsaWRlci5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9zbGlkZXJJZCA9ICdzbGlkZXItJyArIE0uZ3VpZCgpO1xuICAgICAgdGhpcy5fc2xpZGVyLnNldEF0dHJpYnV0ZSgnaWQnLCB0aGlzLl9zbGlkZXJJZCk7XG4gICAgfVxuXG4gICAgY29uc3QgcGxhY2Vob2xkZXJCYXNlNjQgPSAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUJBUC8vL3dBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PSc7XG4gICAgLy8gU2V0IGluaXRpYWwgcG9zaXRpb25zIG9mIGNhcHRpb25zXG4gICAgdGhpcy5fc2xpZGVzLmZvckVhY2goc2xpZGUgPT4ge1xuICAgICAgLy8gQ2FwdGlvblxuICAgICAgLy9jb25zdCBjYXB0aW9uID0gPEhUTUxFbGVtZW50fG51bGw+c2xpZGUucXVlcnlTZWxlY3RvcignLmNhcHRpb24nKTtcbiAgICAgIC8vaWYgKGNhcHRpb24pIHRoaXMuX2FuaW1hdGVDYXB0aW9uSW4oY2FwdGlvbiwgMCk7XG4gICAgICAvLyBTZXQgSW1hZ2VzIGFzIEJhY2tncm91bmQgSW1hZ2VzXG4gICAgICBjb25zdCBpbWcgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcbiAgICAgIGlmIChpbWcpIHtcbiAgICAgICAgaWYgKGltZy5zcmMgIT09IHBsYWNlaG9sZGVyQmFzZTY0KSB7XG4gICAgICAgICAgaW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJysgaW1nLnNyYyArJyknO1xuICAgICAgICAgIGltZy5zcmMgPSBwbGFjZWhvbGRlckJhc2U2NDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gU2V0cyBzbGlkZSBhcyBmb2N1c2FibGUgYnkgY29kZVxuICAgICAgaWYgKCFzbGlkZS5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JykpXG4gICAgICAgIHNsaWRlLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgIC8vIFJlbW92ZXMgaW5pdGlhbCB2aXNpYmlsaXR5IGZyb20gXCJpbmFjdGl2ZVwiIHNsaWRlc1xuICAgICAgc2xpZGUuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fc2V0dXBJbmRpY2F0b3JzKCk7XG5cbiAgICAvLyBTaG93IGFjdGl2ZSBzbGlkZVxuICAgIGlmICh0aGlzLl9hY3RpdmVTbGlkZSkge1xuICAgICAgdGhpcy5fYWN0aXZlU2xpZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB0aGlzLl9hY3RpdmVTbGlkZS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAwO1xuICAgICAgdGhpcy5fc2xpZGVzWzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5fc2xpZGVzWzBdLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICB0aGlzLl9hY3RpdmVTbGlkZSA9IHRoaXMuX3NsaWRlc1swXTtcbiAgICAgIHRoaXMuX2FuaW1hdGVTbGlkZSh0aGlzLl9zbGlkZXNbMF0sIHRydWUpO1xuICAgICAgLyphbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5fc2xpZGVzWzBdLFxuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgIH0pO1xuICAgICAgKi9cbiAgICAgIC8vIFVwZGF0ZSBpbmRpY2F0b3JzXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgICAgdGhpcy5faW5kaWNhdG9yc1t0aGlzLmFjdGl2ZUluZGV4XS5jaGlsZHJlblswXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGp1c3QgaGVpZ2h0IHRvIGN1cnJlbnQgc2xpZGVcbiAgICAvLyBUT0RPOiA/Pz8gQ29kZSBkb2VzIG5vdCBkbyB3aGF0IGl0IHNheXMgaW4gY29tbWVudFxuICAgIC8qXG4gICAgdGhpcy5fYWN0aXZlU2xpZGUucXVlcnlTZWxlY3RvckFsbCgnaW1nJykuZm9yRWFjaChlbCA9PiB7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5fYWN0aXZlU2xpZGUucXVlcnlTZWxlY3RvcignLmNhcHRpb24nKSxcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgdHJhbnNsYXRlWDogMCxcbiAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICAqL1xuXG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgLy8gYXV0byBzY3JvbGxcbiAgICB0aGlzLnN0YXJ0KCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgcmV0dXJuIGRvbUVsZW0uTV9TbGlkZXI7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucGF1c2UoKTtcbiAgICB0aGlzLl9yZW1vdmVJbmRpY2F0b3JzKCk7XG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9TbGlkZXIgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMucGF1c2VPbkZvY3VzKSB7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0aGlzLl9oYW5kbGVBdXRvUGF1c2VGb2N1cyk7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5faGFuZGxlQXV0b1N0YXJ0Rm9jdXMpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLnBhdXNlT25Ib3Zlcikge1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlQXV0b1BhdXNlSG92ZXIpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlQXV0b1N0YXJ0SG92ZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgIHRoaXMuX2luZGljYXRvcnMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbmRpY2F0b3JDbGljayk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnBhdXNlT25Gb2N1cykge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdGhpcy5faGFuZGxlQXV0b1BhdXNlRm9jdXMpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX2hhbmRsZUF1dG9TdGFydEZvY3VzKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5wYXVzZU9uSG92ZXIpIHtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZUF1dG9QYXVzZUhvdmVyKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZUF1dG9TdGFydEhvdmVyKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XG4gICAgICB0aGlzLl9pbmRpY2F0b3JzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5kaWNhdG9yQ2xpY2spO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUluZGljYXRvckNsaWNrID0gKGUpID0+IHtcbiAgICBjb25zdCBlbCA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgY3VyckluZGV4ID0gWy4uLmVsLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YoZWwpO1xuICAgIHRoaXMuX2ZvY3VzQ3VycmVudCA9IHRydWU7XG4gICAgdGhpcy5zZXQoY3VyckluZGV4KTtcbiAgfVxuXG4gIF9oYW5kbGVBdXRvUGF1c2VIb3ZlciA9ICgpID0+IHtcbiAgICB0aGlzLl9ob3ZlcmVkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5pbnRlcnZhbCAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9wYXVzZSh0cnVlKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQXV0b1BhdXNlRm9jdXMgPSAoKSA9PiB7XG4gICAgdGhpcy5fZm9jdXNlZCA9IHRydWU7XG4gICAgaWYgKHRoaXMuaW50ZXJ2YWwgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fcGF1c2UodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUF1dG9TdGFydEhvdmVyID0gKCkgPT4ge1xuICAgIHRoaXMuX2hvdmVyZWQgPSBmYWxzZTtcbiAgICBpZiAoISh0aGlzLm9wdGlvbnMucGF1c2VPbkZvY3VzICYmIHRoaXMuX2ZvY3VzZWQpICYmIHRoaXMuZXZlbnRQYXVzZSkge1xuICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVBdXRvU3RhcnRGb2N1cyA9ICgpID0+IHtcbiAgICB0aGlzLl9mb2N1c2VkID0gZmFsc2U7XG4gICAgaWYgKCEodGhpcy5vcHRpb25zLnBhdXNlT25Ib3ZlciAmJiB0aGlzLl9ob3ZlcmVkKSAmJiB0aGlzLmV2ZW50UGF1c2UpIHtcbiAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlSW50ZXJ2YWwgPSAoKSA9PiB7XG4gICAgY29uc3QgYWN0aXZlRWxlbSA9IHRoaXMuX3NsaWRlci5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJyk7XG4gICAgbGV0IG5ld0FjdGl2ZUluZGV4ID0gWy4uLmFjdGl2ZUVsZW0ucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihhY3RpdmVFbGVtKTtcbiAgICBpZiAodGhpcy5fc2xpZGVzLmxlbmd0aCA9PT0gbmV3QWN0aXZlSW5kZXggKyAxKVxuICAgICAgbmV3QWN0aXZlSW5kZXggPSAwOyAvLyBsb29wIHRvIHN0YXJ0XG4gICAgZWxzZVxuICAgICAgbmV3QWN0aXZlSW5kZXggKz0gMTtcbiAgICB0aGlzLnNldChuZXdBY3RpdmVJbmRleCk7XG4gIH1cblxuICBfYW5pbWF0ZVNsaWRlKHNsaWRlOiBIVE1MRWxlbWVudCwgaXNEaXJlY3Rpb25JbjogYm9vbGVhbik6IHZvaWQge1xuICAgIGxldCBkeCA9IDAsIGR5ID0gMDtcbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IHNsaWRlLFxuICAgICAgb3BhY2l0eTogaXNEaXJlY3Rpb25JbiA/IFswLCAxXSA6IFsxLCAwXSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICB9KTtcblxuICAgIGNvbnN0IGNhcHRpb24gPSBzbGlkZS5xdWVyeVNlbGVjdG9yKCcuY2FwdGlvbicpO1xuICAgIGlmICghY2FwdGlvbikgcmV0dXJuO1xuICAgIGlmIChjYXB0aW9uLmNsYXNzTGlzdC5jb250YWlucygnY2VudGVyLWFsaWduJykpIGR5ID0gLTEwMDtcbiAgICBlbHNlIGlmIChjYXB0aW9uLmNsYXNzTGlzdC5jb250YWlucygncmlnaHQtYWxpZ24nKSkgZHggPSAxMDA7XG4gICAgZWxzZSBpZiAoY2FwdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2xlZnQtYWxpZ24nKSkgZHggPSAtMTAwO1xuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogY2FwdGlvbixcbiAgICAgIG9wYWNpdHk6IGlzRGlyZWN0aW9uSW4gPyBbMCwgMV0gOiBbMSwgMF0sXG4gICAgICB0cmFuc2xhdGVYOiBpc0RpcmVjdGlvbkluID8gW2R4LCAwXSA6IFswLCBkeF0sXG4gICAgICB0cmFuc2xhdGVZOiBpc0RpcmVjdGlvbkluID8gW2R5LCAwXSA6IFswLCBkeV0sXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgZGVsYXk6IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgIH0pO1xuICB9XG5cbiAgX3NldFNsaWRlckhlaWdodCgpIHtcbiAgICAvLyBJZiBmdWxsc2NyZWVuLCBkbyBub3RoaW5nXG4gICAgaWYgKCF0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygnZnVsbHNjcmVlbicpKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgICAgLy8gQWRkIGhlaWdodCBpZiBpbmRpY2F0b3JzIGFyZSBwcmVzZW50XG4gICAgICAgIHRoaXMuZWwuc3R5bGUuaGVpZ2h0ID0gKHRoaXMub3B0aW9ucy5oZWlnaHQgKyA0MCkrJ3B4JzsgLy8uY3NzKCdoZWlnaHQnLCB0aGlzLm9wdGlvbnMuaGVpZ2h0ICsgNDAgKyAncHgnKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IHRoaXMub3B0aW9ucy5oZWlnaHQrJ3B4JztcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NsaWRlci5zdHlsZS5oZWlnaHQgPSB0aGlzLm9wdGlvbnMuaGVpZ2h0KydweCc7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwSW5kaWNhdG9ycygpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgIHVsLmNsYXNzTGlzdC5hZGQoJ2luZGljYXRvcnMnKTtcblxuICAgICAgY29uc3QgYXJyTGkgPSBbXTtcbiAgICAgIHRoaXMuX3NsaWRlcy5mb3JFYWNoKChlbCwgaSkgPT4ge1xuICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JMYWJlbEZ1bmNcbiAgICAgICAgICA/IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JMYWJlbEZ1bmMuY2FsbCh0aGlzLCBpICsgMSwgaSA9PT0gMClcbiAgICAgICAgICA6IGAke2kgKyAxfWA7XG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgbGkuY2xhc3NMaXN0LmFkZCgnaW5kaWNhdG9yLWl0ZW0nKTtcbiAgICAgICAgbGkuaW5uZXJIVE1MID0gYDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiaW5kaWNhdG9yLWl0ZW0tYnRuXCIgYXJpYS1sYWJlbD1cIiR7bGFiZWx9XCIgYXJpYS1jb250cm9scz1cIiR7dGhpcy5fc2xpZGVySWR9XCI+PC9idXR0b24+YDtcbiAgICAgICAgYXJyTGkucHVzaChsaSk7XG4gICAgICAgIHVsLmFwcGVuZChsaSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5lbC5hcHBlbmQodWwpO1xuICAgICAgdGhpcy5faW5kaWNhdG9ycyA9IGFyckxpO1xuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVJbmRpY2F0b3JzKCkge1xuICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcigndWwuaW5kaWNhdG9ycycpLnJlbW92ZSgpOyAvL2ZpbmQoJ3VsLmluZGljYXRvcnMnKS5yZW1vdmUoKTtcbiAgfVxuXG4gIHNldChpbmRleDogbnVtYmVyKSB7XG4gICAgLy8gV3JhcCBhcm91bmQgaW5kaWNlcy5cbiAgICBpZiAoaW5kZXggPj0gdGhpcy5fc2xpZGVzLmxlbmd0aCkgaW5kZXggPSAwO1xuICAgIGVsc2UgaWYgKGluZGV4IDwgMCkgaW5kZXggPSB0aGlzLl9zbGlkZXMubGVuZ3RoIC0gMTtcblxuICAgIC8vIE9ubHkgZG8gaWYgaW5kZXggY2hhbmdlc1xuICAgIGlmICh0aGlzLmFjdGl2ZUluZGV4ID09PSBpbmRleCkgcmV0dXJuO1xuXG4gICAgdGhpcy5fYWN0aXZlU2xpZGUgPSB0aGlzLl9zbGlkZXNbdGhpcy5hY3RpdmVJbmRleF07XG4gICAgY29uc3QgX2NhcHRpb24gPSA8SFRNTEVsZW1lbnR8bnVsbD50aGlzLl9hY3RpdmVTbGlkZS5xdWVyeVNlbGVjdG9yKCcuY2FwdGlvbicpO1xuXG4gICAgdGhpcy5fYWN0aXZlU2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgLy8gRW5hYmxlcyBldmVyeSBzbGlkZVxuICAgIHRoaXMuX3NsaWRlcy5mb3JFYWNoKHNsaWRlID0+IHNsaWRlLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZScpO1xuXG4gICAgLy8tLS0gSGlkZSBhY3RpdmUgU2xpZGUgKyBDYXB0aW9uXG4gICAgLy8gVE9ETzogV2hhdCBkb2VzIHRoaXMgZG8/XG4gICAgYW5pbSh7XG4gICAgICB0YXJnZXRzOiB0aGlzLl9hY3RpdmVTbGlkZSxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5fc2xpZGVzLmZvckVhY2goZWwgPT4ge1xuICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSByZXR1cm47XG4gICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICB0YXJnZXRzOiBlbCxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLCAvLyBBbmltYXRpb24gd2l0aCBkdXJhdGlvbiAwLi4uIHdoeSB1c2UgYW5pbSBhdCBhbGwgdGhlbj9cbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIERpc2FibGVzIGludmlzaWJsZSBzbGlkZXMgKGZvciBhc3Npc3RpdmUgdGVjaG5vbG9naWVzKVxuICAgICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBIaWRlIGFjdGl2ZSBDYXB0aW9uXG4gICAgLy90aGlzLl9hbmltYXRlQ2FwdGlvbkluKF9jYXB0aW9uLCB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuICAgIF9jYXB0aW9uLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG5cbiAgICAvLyBVcGRhdGUgaW5kaWNhdG9yc1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaW5kaWNhdG9ycykge1xuICAgICAgY29uc3QgYWN0aXZlSW5kaWNhdG9yID0gdGhpcy5faW5kaWNhdG9yc1t0aGlzLmFjdGl2ZUluZGV4XS5jaGlsZHJlblswXTtcbiAgICAgIGNvbnN0IG5leHRJbmRpY2F0b3IgPSB0aGlzLl9pbmRpY2F0b3JzW2luZGV4XS5jaGlsZHJlblswXTtcbiAgICAgIGFjdGl2ZUluZGljYXRvci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIG5leHRJbmRpY2F0b3IuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5pbmRpY2F0b3JMYWJlbEZ1bmMgPT09IFwiZnVuY3Rpb25cIil7XG4gICAgICAgIGFjdGl2ZUluZGljYXRvci5hcmlhTGFiZWwgPSB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yTGFiZWxGdW5jLmNhbGwodGhpcywgdGhpcy5hY3RpdmVJbmRleCwgZmFsc2UpO1xuICAgICAgICBuZXh0SW5kaWNhdG9yLmFyaWFMYWJlbCA9IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JMYWJlbEZ1bmMuY2FsbCh0aGlzLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8tLS0gU2hvdyBuZXcgU2xpZGUgKyBDYXB0aW9uXG4gICAgdGhpcy5fYW5pbWF0ZVNsaWRlKHRoaXMuX3NsaWRlc1tpbmRleF0sIHRydWUpO1xuXG4gICAgdGhpcy5fc2xpZGVzW2luZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgIC8vIFRPRE86IFdoeSBmb2N1cz8gPT4gY2F1c2VzIHVuY29udHJvbGxhYmxlIHBhZ2Ugc2Nyb2xsXG4gICAgLypcbiAgICBpZiAodGhpcy5fZm9jdXNDdXJyZW50KSB7XG4gICAgICB0aGlzLl9zbGlkZXNbaW5kZXhdLmZvY3VzKCk7XG4gICAgICB0aGlzLl9mb2N1c0N1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG4gICAgKi9cblxuICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleDtcblxuICAgIC8vIFJlc2V0IGludGVydmFsLCBpZiBhbGxvd2VkLiBUaGlzIGNoZWNrIHByZXZlbnRzIGF1dG9zdGFydFxuICAgIC8vIHdoZW4gc2xpZGVyIGlzIHBhdXNlZCwgc2luY2UgaXQgY2FuIGJlIGNoYW5nZWQgdGhvdWdoIGluZGljYXRvcnMuXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWwgIT0gbnVsbCkge1xuICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgfVxuXG4gIF9wYXVzZShmcm9tRXZlbnQ6IGJvb2xlYW4pIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgIHRoaXMuZXZlbnRQYXVzZSA9IGZyb21FdmVudDtcbiAgICB0aGlzLmludGVydmFsID0gbnVsbDtcbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIHRoaXMuX3BhdXNlKGZhbHNlKTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKFxuICAgICAgdGhpcy5faGFuZGxlSW50ZXJ2YWwsXG4gICAgICB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKyB0aGlzLm9wdGlvbnMuaW50ZXJ2YWxcbiAgICApO1xuICAgIHRoaXMuZXZlbnRQYXVzZSA9IGZhbHNlO1xuICB9XG5cbiAgbmV4dCgpIHtcbiAgICBsZXQgbmV3SW5kZXggPSB0aGlzLmFjdGl2ZUluZGV4ICsgMTtcbiAgICAvLyBXcmFwIGFyb3VuZCBpbmRpY2VzLlxuICAgIGlmIChuZXdJbmRleCA+PSB0aGlzLl9zbGlkZXMubGVuZ3RoKSBuZXdJbmRleCA9IDA7XG4gICAgZWxzZSBpZiAobmV3SW5kZXggPCAwKSBuZXdJbmRleCA9IHRoaXMuX3NsaWRlcy5sZW5ndGggLSAxO1xuICAgIHRoaXMuc2V0KG5ld0luZGV4KTtcbiAgfVxuXG4gIHByZXYoKSB7XG4gICAgbGV0IG5ld0luZGV4ID0gdGhpcy5hY3RpdmVJbmRleCAtIDE7XG4gICAgLy8gV3JhcCBhcm91bmQgaW5kaWNlcy5cbiAgICBpZiAobmV3SW5kZXggPj0gdGhpcy5fc2xpZGVzLmxlbmd0aCkgbmV3SW5kZXggPSAwO1xuICAgIGVsc2UgaWYgKG5ld0luZGV4IDwgMCkgbmV3SW5kZXggPSB0aGlzLl9zbGlkZXMubGVuZ3RoIC0gMTtcbiAgICB0aGlzLnNldChuZXdJbmRleCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/slider.ts\n");

/***/ }),

/***/ "./src/tabs.ts":
/*!*********************!*\
  !*** ./src/tabs.ts ***!
  \*********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Tabs = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst carousel_1 = __webpack_require__(/*! ./carousel */ \"./src/carousel.ts\");\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nlet _defaults = {\n    duration: 300,\n    onShow: null,\n    swipeable: false,\n    responsiveThreshold: Infinity, // breakpoint for swipeable\n};\nclass Tabs extends component_1.Component {\n    constructor(el, options) {\n        super(Tabs, el, options);\n        this._handleWindowResize = () => {\n            this._setTabsAndTabWidth();\n            if (this._tabWidth !== 0 && this._tabsWidth !== 0) {\n                this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\n                this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\n            }\n        };\n        this._handleTabClick = (e) => {\n            const tabLink = e.target;\n            const tab = tabLink.parentElement;\n            // Handle click on tab link only\n            if (!tabLink || !tab.classList.contains('tab'))\n                return;\n            // is disabled?\n            if (tab.classList.contains('disabled')) {\n                e.preventDefault();\n                return;\n            }\n            // Act as regular link if target attribute is specified.\n            if (tabLink.hasAttribute('target'))\n                return;\n            // Make the old tab inactive.\n            this._activeTabLink.classList.remove('active');\n            const _oldContent = this._content;\n            // Update the variables with the new link and content\n            this._activeTabLink = tabLink;\n            if (tabLink.hash)\n                this._content = document.querySelector(tabLink.hash);\n            this._tabLinks = this.el.querySelectorAll('li.tab > a');\n            // Make the tab active\n            this._activeTabLink.classList.add('active');\n            const prevIndex = this._index;\n            this._index = Math.max(Array.from(this._tabLinks).indexOf(tabLink), 0);\n            // Swap content\n            if (this.options.swipeable) {\n                if (this._tabsCarousel) {\n                    this._tabsCarousel.set(this._index, () => {\n                        if (typeof this.options.onShow === 'function')\n                            this.options.onShow.call(this, this._content);\n                    });\n                }\n            }\n            else {\n                if (this._content) {\n                    this._content.style.display = 'block';\n                    this._content.classList.add('active');\n                    if (typeof this.options.onShow === 'function')\n                        this.options.onShow.call(this, this._content);\n                    if (_oldContent && _oldContent !== this._content) {\n                        _oldContent.style.display = 'none';\n                        _oldContent.classList.remove('active');\n                    }\n                }\n            }\n            // Update widths after content is swapped (scrollbar bugfix)\n            this._setTabsAndTabWidth();\n            this._animateIndicator(prevIndex);\n            e.preventDefault();\n        };\n        this.el.M_Tabs = this;\n        this.options = Object.assign(Object.assign({}, Tabs.defaults), options);\n        this._tabLinks = this.el.querySelectorAll('li.tab > a');\n        this._index = 0;\n        this._setupActiveTabLink();\n        if (this.options.swipeable) {\n            this._setupSwipeableTabs();\n        }\n        else {\n            this._setupNormalTabs();\n        }\n        // Setup tabs indicator after content to ensure accurate widths\n        this._setTabsAndTabWidth();\n        this._createIndicator();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Tabs;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._indicator.parentNode.removeChild(this._indicator);\n        if (this.options.swipeable) {\n            this._teardownSwipeableTabs();\n        }\n        else {\n            this._teardownNormalTabs();\n        }\n        this.el.M_Tabs = undefined;\n    }\n    _setupEventHandlers() {\n        window.addEventListener('resize', this._handleWindowResize);\n        this.el.addEventListener('click', this._handleTabClick);\n    }\n    _removeEventHandlers() {\n        window.removeEventListener('resize', this._handleWindowResize);\n        this.el.removeEventListener('click', this._handleTabClick);\n    }\n    _createIndicator() {\n        const indicator = document.createElement('li');\n        indicator.classList.add('indicator');\n        this.el.appendChild(indicator);\n        this._indicator = indicator;\n        this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\n        this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\n    }\n    _setupActiveTabLink() {\n        // If the location.hash matches one of the links, use that as the active tab.\n        this._activeTabLink = Array.from(this._tabLinks).find((a) => a.getAttribute('href') === location.hash);\n        // If no match is found, use the first link or any with class 'active' as the initial active tab.\n        if (!this._activeTabLink) {\n            this._activeTabLink = this.el.querySelector('li.tab a.active');\n        }\n        if (this._activeTabLink.length === 0) {\n            this._activeTabLink = this.el.querySelector('li.tab a');\n        }\n        Array.from(this._tabLinks).forEach((a) => a.classList.remove('active'));\n        this._activeTabLink.classList.add('active');\n        this._index = Math.max(Array.from(this._tabLinks).indexOf(this._activeTabLink), 0);\n        if (this._activeTabLink && this._activeTabLink.hash) {\n            this._content = document.querySelector(this._activeTabLink.hash);\n            this._content.classList.add('active');\n        }\n    }\n    _setupSwipeableTabs() {\n        // Change swipeable according to responsive threshold\n        if (window.innerWidth > this.options.responsiveThreshold)\n            this.options.swipeable = false;\n        const tabsContent = [];\n        this._tabLinks.forEach(a => {\n            if (a.hash) {\n                const currContent = document.querySelector(a.hash);\n                currContent.classList.add('carousel-item');\n                tabsContent.push(currContent);\n            }\n        });\n        // Create Carousel-Wrapper around Tab-Contents\n        const tabsWrapper = document.createElement('div');\n        tabsWrapper.classList.add('tabs-content', 'carousel', 'carousel-slider');\n        // Wrap around\n        tabsContent[0].parentElement.insertBefore(tabsWrapper, tabsContent[0]);\n        tabsContent.forEach(tabContent => {\n            tabsWrapper.appendChild(tabContent);\n            tabContent.style.display = '';\n        });\n        // Keep active tab index to set initial carousel slide\n        const tab = this._activeTabLink.parentElement;\n        const activeTabIndex = Array.from(tab.parentNode.children).indexOf(tab);\n        this._tabsCarousel = carousel_1.Carousel.init(tabsWrapper, {\n            fullWidth: true,\n            noWrap: true,\n            onCycleTo: (item) => {\n                const prevIndex = this._index;\n                this._index = Array.from(item.parentNode.children).indexOf(item);\n                this._activeTabLink.classList.remove('active');\n                this._activeTabLink = Array.from(this._tabLinks)[this._index];\n                this._activeTabLink.classList.add('active');\n                this._animateIndicator(prevIndex);\n                if (typeof this.options.onShow === 'function')\n                    this.options.onShow.call(this, this._content);\n            }\n        });\n        // Set initial carousel slide to active tab\n        this._tabsCarousel.set(activeTabIndex);\n    }\n    _teardownSwipeableTabs() {\n        const tabsWrapper = this._tabsCarousel.el;\n        this._tabsCarousel.destroy();\n        // Unwrap\n        tabsWrapper.after(tabsWrapper.children);\n        tabsWrapper.remove();\n    }\n    _setupNormalTabs() {\n        // Hide Tabs Content\n        Array.from(this._tabLinks).forEach((a) => {\n            if (a === this._activeTabLink)\n                return;\n            if (a.hash) {\n                const currContent = document.querySelector(a.hash);\n                if (currContent)\n                    currContent.style.display = 'none';\n            }\n        });\n    }\n    _teardownNormalTabs() {\n        // show Tabs Content\n        this._tabLinks.forEach(a => {\n            if (a.hash) {\n                const currContent = document.querySelector(a.hash);\n                if (currContent)\n                    currContent.style.display = '';\n            }\n        });\n    }\n    _setTabsAndTabWidth() {\n        this._tabsWidth = this.el.getBoundingClientRect().width;\n        this._tabWidth = Math.max(this._tabsWidth, this.el.scrollWidth) / this._tabLinks.length;\n    }\n    _calcRightPos(el) {\n        return Math.ceil(this._tabsWidth - el.offsetLeft - el.getBoundingClientRect().width);\n    }\n    _calcLeftPos(el) {\n        return Math.floor(el.offsetLeft);\n    }\n    updateTabIndicator() {\n        this._setTabsAndTabWidth();\n        this._animateIndicator(this._index);\n    }\n    _animateIndicator(prevIndex) {\n        let leftDelay = 0, rightDelay = 0;\n        if (this._index - prevIndex >= 0)\n            leftDelay = 90;\n        else\n            rightDelay = 90;\n        const animOptions = {\n            targets: this._indicator,\n            left: {\n                value: this._calcLeftPos(this._activeTabLink),\n                delay: leftDelay\n            },\n            right: {\n                value: this._calcRightPos(this._activeTabLink),\n                delay: rightDelay\n            },\n            duration: this.options.duration,\n            easing: 'easeOutQuad'\n        };\n        animejs_1.default.remove(this._indicator);\n        (0, animejs_1.default)(animOptions);\n    }\n    select(tabId) {\n        const tab = Array.from(this._tabLinks).find((a) => a.getAttribute('href') === '#' + tabId);\n        if (tab)\n            tab.click();\n    }\n}\nexports.Tabs = Tabs;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsVUFBVTthQUNsQjtZQUNELFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVE7WUFDL0IsTUFBTSxFQUFFLGFBQWE7U0FDdEIsQ0FBQztRQUNGLGlCQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM3QixxQkFBSSxFQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3BCLENBQUM7SUFFRCxNQUFNLENBQUMsS0FBSztRQUNWLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQW9CLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxHQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzVHLElBQUksR0FBRztZQUFzQixHQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDNUMsQ0FBQztDQUNGO0FBclJELG9CQXFSQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy90YWJzLnRzP2ZmMzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDYXJvdXNlbCB9IGZyb20gXCIuL2Nhcm91c2VsXCI7XG5pbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5sZXQgX2RlZmF1bHRzID0ge1xuICBkdXJhdGlvbjogMzAwLFxuICBvblNob3c6IG51bGwsXG4gIHN3aXBlYWJsZTogZmFsc2UsXG4gIHJlc3BvbnNpdmVUaHJlc2hvbGQ6IEluZmluaXR5LCAvLyBicmVha3BvaW50IGZvciBzd2lwZWFibGVcbn07XG5cbmV4cG9ydCBjbGFzcyBUYWJzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgZWw6IEhUTUxFbGVtZW50O1xuICBfdGFiTGlua3M6IGFueTtcbiAgX2luZGV4OiBudW1iZXI7XG4gIF9pbmRpY2F0b3I6IGFueTtcbiAgX3RhYldpZHRoOiBudW1iZXI7XG4gIF90YWJzV2lkdGg6IG51bWJlcjtcbiAgX3RhYnNDYXJvdXNlbDogYW55O1xuICBfYWN0aXZlVGFiTGluazogYW55O1xuICBfY29udGVudDogYW55O1xuXG4gIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zOiBhbnkpIHtcbiAgICBzdXBlcihUYWJzLCBlbCwgb3B0aW9ucyk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1RhYnMgPSB0aGlzO1xuXG4gICAgdGhpcy5vcHRpb25zID0gey4uLlRhYnMuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuICAgIHRoaXMuX3RhYkxpbmtzID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCdsaS50YWIgPiBhJyk7XG4gICAgdGhpcy5faW5kZXggPSAwO1xuICAgIHRoaXMuX3NldHVwQWN0aXZlVGFiTGluaygpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc3dpcGVhYmxlKSB7XG4gICAgICB0aGlzLl9zZXR1cFN3aXBlYWJsZVRhYnMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2V0dXBOb3JtYWxUYWJzKCk7XG4gICAgfVxuICAgIC8vIFNldHVwIHRhYnMgaW5kaWNhdG9yIGFmdGVyIGNvbnRlbnQgdG8gZW5zdXJlIGFjY3VyYXRlIHdpZHRoc1xuICAgIHRoaXMuX3NldFRhYnNBbmRUYWJXaWR0aCgpO1xuICAgIHRoaXMuX2NyZWF0ZUluZGljYXRvcigpO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgIGNvbnN0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgcmV0dXJuIGRvbUVsZW0uTV9UYWJzO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5faW5kaWNhdG9yLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5faW5kaWNhdG9yKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnN3aXBlYWJsZSkge1xuICAgICAgdGhpcy5fdGVhcmRvd25Td2lwZWFibGVUYWJzKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fdGVhcmRvd25Ob3JtYWxUYWJzKCk7XG4gICAgfVxuICAgICh0aGlzLmVsIGFzIGFueSkuTV9UYWJzID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVGFiQ2xpY2spO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZSk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRhYkNsaWNrKTtcbiAgfVxuXG4gIF9oYW5kbGVXaW5kb3dSZXNpemUgPSAoKSA9PiB7XG4gICAgdGhpcy5fc2V0VGFic0FuZFRhYldpZHRoKCk7XG4gICAgaWYgKHRoaXMuX3RhYldpZHRoICE9PSAwICYmIHRoaXMuX3RhYnNXaWR0aCAhPT0gMCkge1xuICAgICAgdGhpcy5faW5kaWNhdG9yLnN0eWxlLmxlZnQgPSB0aGlzLl9jYWxjTGVmdFBvcyh0aGlzLl9hY3RpdmVUYWJMaW5rKSsncHgnO1xuICAgICAgdGhpcy5faW5kaWNhdG9yLnN0eWxlLnJpZ2h0ID0gdGhpcy5fY2FsY1JpZ2h0UG9zKHRoaXMuX2FjdGl2ZVRhYkxpbmspKydweCc7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVRhYkNsaWNrID0gKGUpID0+IHtcbiAgICBjb25zdCB0YWJMaW5rID0gZS50YXJnZXQ7XG4gICAgY29uc3QgdGFiID0gdGFiTGluay5wYXJlbnRFbGVtZW50O1xuICAgIC8vIEhhbmRsZSBjbGljayBvbiB0YWIgbGluayBvbmx5XG4gICAgaWYgKCF0YWJMaW5rIHx8ICF0YWIuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWInKSkgcmV0dXJuO1xuICAgIC8vIGlzIGRpc2FibGVkP1xuICAgIGlmICh0YWIuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEFjdCBhcyByZWd1bGFyIGxpbmsgaWYgdGFyZ2V0IGF0dHJpYnV0ZSBpcyBzcGVjaWZpZWQuXG4gICAgaWYgKHRhYkxpbmsuaGFzQXR0cmlidXRlKCd0YXJnZXQnKSkgcmV0dXJuO1xuICAgIC8vIE1ha2UgdGhlIG9sZCB0YWIgaW5hY3RpdmUuXG4gICAgdGhpcy5fYWN0aXZlVGFiTGluay5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBjb25zdCBfb2xkQ29udGVudCA9IHRoaXMuX2NvbnRlbnQ7XG4gICAgLy8gVXBkYXRlIHRoZSB2YXJpYWJsZXMgd2l0aCB0aGUgbmV3IGxpbmsgYW5kIGNvbnRlbnRcblxuICAgICAgdGhpcy5fYWN0aXZlVGFiTGluayA9IHRhYkxpbms7XG4gICAgICBpZiAodGFiTGluay5oYXNoKVxuICAgICAgICB0aGlzLl9jb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YWJMaW5rLmhhc2gpO1xuICAgICAgdGhpcy5fdGFiTGlua3MgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpLnRhYiA+IGEnKTtcbiAgICAgIC8vIE1ha2UgdGhlIHRhYiBhY3RpdmVcbiAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBjb25zdCBwcmV2SW5kZXggPSB0aGlzLl9pbmRleDtcbiAgICAgIHRoaXMuX2luZGV4ID0gTWF0aC5tYXgoQXJyYXkuZnJvbSh0aGlzLl90YWJMaW5rcykuaW5kZXhPZih0YWJMaW5rKSwgMCk7XG5cbiAgICAvLyBTd2FwIGNvbnRlbnRcbiAgICBpZiAodGhpcy5vcHRpb25zLnN3aXBlYWJsZSkge1xuICAgICAgaWYgKHRoaXMuX3RhYnNDYXJvdXNlbCkge1xuICAgICAgICB0aGlzLl90YWJzQ2Fyb3VzZWwuc2V0KHRoaXMuX2luZGV4LCAoKSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TaG93ID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uU2hvdy5jYWxsKHRoaXMsIHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5fY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgdGhpcy5fY29udGVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TaG93ID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgIHRoaXMub3B0aW9ucy5vblNob3cuY2FsbCh0aGlzLCB0aGlzLl9jb250ZW50KTtcbiAgICAgICAgaWYgKF9vbGRDb250ZW50ICYmIF9vbGRDb250ZW50ICE9PSB0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgX29sZENvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICBfb2xkQ29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBVcGRhdGUgd2lkdGhzIGFmdGVyIGNvbnRlbnQgaXMgc3dhcHBlZCAoc2Nyb2xsYmFyIGJ1Z2ZpeClcbiAgICB0aGlzLl9zZXRUYWJzQW5kVGFiV2lkdGgoKTtcbiAgICB0aGlzLl9hbmltYXRlSW5kaWNhdG9yKHByZXZJbmRleCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgX2NyZWF0ZUluZGljYXRvcigpIHtcbiAgICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgIGluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdpbmRpY2F0b3InKTtcbiAgICB0aGlzLmVsLmFwcGVuZENoaWxkKGluZGljYXRvcik7XG4gICAgdGhpcy5faW5kaWNhdG9yID0gaW5kaWNhdG9yO1xuICAgIHRoaXMuX2luZGljYXRvci5zdHlsZS5sZWZ0ID0gdGhpcy5fY2FsY0xlZnRQb3ModGhpcy5fYWN0aXZlVGFiTGluaykrJ3B4JztcbiAgICB0aGlzLl9pbmRpY2F0b3Iuc3R5bGUucmlnaHQgPSB0aGlzLl9jYWxjUmlnaHRQb3ModGhpcy5fYWN0aXZlVGFiTGluaykrJ3B4JztcbiAgfVxuXG4gIF9zZXR1cEFjdGl2ZVRhYkxpbmsoKSB7XG4gICAgLy8gSWYgdGhlIGxvY2F0aW9uLmhhc2ggbWF0Y2hlcyBvbmUgb2YgdGhlIGxpbmtzLCB1c2UgdGhhdCBhcyB0aGUgYWN0aXZlIHRhYi5cbiAgICB0aGlzLl9hY3RpdmVUYWJMaW5rID0gQXJyYXkuZnJvbSh0aGlzLl90YWJMaW5rcykuZmluZCgoYTogSFRNTEFuY2hvckVsZW1lbnQpID0+IGEuZ2V0QXR0cmlidXRlKCdocmVmJykgPT09IGxvY2F0aW9uLmhhc2gpO1xuICAgIC8vIElmIG5vIG1hdGNoIGlzIGZvdW5kLCB1c2UgdGhlIGZpcnN0IGxpbmsgb3IgYW55IHdpdGggY2xhc3MgJ2FjdGl2ZScgYXMgdGhlIGluaXRpYWwgYWN0aXZlIHRhYi5cbiAgICBpZiAoIXRoaXMuX2FjdGl2ZVRhYkxpbmspIHtcbiAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xpLnRhYiBhLmFjdGl2ZScpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fYWN0aXZlVGFiTGluay5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xpLnRhYiBhJyk7XG4gICAgfVxuICAgIEFycmF5LmZyb20odGhpcy5fdGFiTGlua3MpLmZvckVhY2goKGE6IEhUTUxBbmNob3JFbGVtZW50KSA9PiBhLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcbiAgICB0aGlzLl9hY3RpdmVUYWJMaW5rLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXG4gICAgICB0aGlzLl9pbmRleCA9IE1hdGgubWF4KEFycmF5LmZyb20odGhpcy5fdGFiTGlua3MpLmluZGV4T2YodGhpcy5fYWN0aXZlVGFiTGluayksIDApO1xuICAgICAgaWYgKHRoaXMuX2FjdGl2ZVRhYkxpbmsgJiYgdGhpcy5fYWN0aXZlVGFiTGluay5oYXNoKSB7XG4gICAgICAgIHRoaXMuX2NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2FjdGl2ZVRhYkxpbmsuaGFzaCk7XG4gICAgICAgIHRoaXMuX2NvbnRlbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfVxuXG4gIF9zZXR1cFN3aXBlYWJsZVRhYnMoKSB7XG4gICAgLy8gQ2hhbmdlIHN3aXBlYWJsZSBhY2NvcmRpbmcgdG8gcmVzcG9uc2l2ZSB0aHJlc2hvbGRcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPiB0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZVRocmVzaG9sZClcbiAgICAgIHRoaXMub3B0aW9ucy5zd2lwZWFibGUgPSBmYWxzZTtcblxuICAgICAgY29uc3QgdGFic0NvbnRlbnQgPSBbXTtcbiAgICAgIHRoaXMuX3RhYkxpbmtzLmZvckVhY2goYSA9PiB7XG4gICAgICAgIGlmIChhLmhhc2gpIHtcbiAgICAgICAgICBjb25zdCBjdXJyQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYS5oYXNoKTtcbiAgICAgICAgICBjdXJyQ29udGVudC5jbGFzc0xpc3QuYWRkKCdjYXJvdXNlbC1pdGVtJyk7XG4gICAgICAgICAgdGFic0NvbnRlbnQucHVzaChjdXJyQ29udGVudCk7ICBcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgQ2Fyb3VzZWwtV3JhcHBlciBhcm91bmQgVGFiLUNvbnRlbnRzXG4gICAgY29uc3QgdGFic1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0YWJzV3JhcHBlci5jbGFzc0xpc3QuYWRkKCd0YWJzLWNvbnRlbnQnLCAnY2Fyb3VzZWwnLCAnY2Fyb3VzZWwtc2xpZGVyJyk7XG5cbiAgICAvLyBXcmFwIGFyb3VuZFxuICAgIHRhYnNDb250ZW50WzBdLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRhYnNXcmFwcGVyLCB0YWJzQ29udGVudFswXSk7XG4gICAgdGFic0NvbnRlbnQuZm9yRWFjaCh0YWJDb250ZW50ID0+IHtcbiAgICAgIHRhYnNXcmFwcGVyLmFwcGVuZENoaWxkKHRhYkNvbnRlbnQpO1xuICAgICAgdGFiQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgfSk7XG5cbiAgICAvLyBLZWVwIGFjdGl2ZSB0YWIgaW5kZXggdG8gc2V0IGluaXRpYWwgY2Fyb3VzZWwgc2xpZGVcbiAgICBjb25zdCB0YWIgPSB0aGlzLl9hY3RpdmVUYWJMaW5rLnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgYWN0aXZlVGFiSW5kZXggPSBBcnJheS5mcm9tKHRhYi5wYXJlbnROb2RlLmNoaWxkcmVuKS5pbmRleE9mKHRhYik7XG5cbiAgICB0aGlzLl90YWJzQ2Fyb3VzZWwgPSBDYXJvdXNlbC5pbml0KHRhYnNXcmFwcGVyLCB7XG4gICAgICBmdWxsV2lkdGg6IHRydWUsXG4gICAgICBub1dyYXA6IHRydWUsXG4gICAgICBvbkN5Y2xlVG86IChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZJbmRleCA9IHRoaXMuX2luZGV4O1xuICAgICAgICB0aGlzLl9pbmRleCA9IEFycmF5LmZyb20oaXRlbS5wYXJlbnROb2RlLmNoaWxkcmVuKS5pbmRleE9mKGl0ZW0pO1xuICAgICAgICB0aGlzLl9hY3RpdmVUYWJMaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLl9hY3RpdmVUYWJMaW5rID0gQXJyYXkuZnJvbSh0aGlzLl90YWJMaW5rcylbdGhpcy5faW5kZXhdO1xuICAgICAgICB0aGlzLl9hY3RpdmVUYWJMaW5rLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLl9hbmltYXRlSW5kaWNhdG9yKHByZXZJbmRleCk7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uU2hvdyA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25TaG93LmNhbGwodGhpcywgdGhpcy5fY29udGVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gU2V0IGluaXRpYWwgY2Fyb3VzZWwgc2xpZGUgdG8gYWN0aXZlIHRhYlxuICAgIHRoaXMuX3RhYnNDYXJvdXNlbC5zZXQoYWN0aXZlVGFiSW5kZXgpO1xuICB9XG5cbiAgX3RlYXJkb3duU3dpcGVhYmxlVGFicygpIHtcbiAgICBjb25zdCB0YWJzV3JhcHBlciA9IHRoaXMuX3RhYnNDYXJvdXNlbC5lbDtcbiAgICB0aGlzLl90YWJzQ2Fyb3VzZWwuZGVzdHJveSgpO1xuICAgIC8vIFVud3JhcFxuICAgIHRhYnNXcmFwcGVyLmFmdGVyKHRhYnNXcmFwcGVyLmNoaWxkcmVuKTtcbiAgICB0YWJzV3JhcHBlci5yZW1vdmUoKTtcbiAgfVxuXG4gIF9zZXR1cE5vcm1hbFRhYnMoKSB7XG4gICAgLy8gSGlkZSBUYWJzIENvbnRlbnRcbiAgICBBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5mb3JFYWNoKChhKSA9PiB7XG4gICAgICBpZiAoYSA9PT0gdGhpcy5fYWN0aXZlVGFiTGluaykgcmV0dXJuO1xuICAgICAgaWYgKCg8SFRNTEFuY2hvckVsZW1lbnQ+YSkuaGFzaCkge1xuICAgICAgICBjb25zdCBjdXJyQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoKDxIVE1MQW5jaG9yRWxlbWVudD5hKS5oYXNoKTtcbiAgICAgICAgaWYgKGN1cnJDb250ZW50KSAoPEhUTUxFbGVtZW50PmN1cnJDb250ZW50KS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX3RlYXJkb3duTm9ybWFsVGFicygpIHtcbiAgICAvLyBzaG93IFRhYnMgQ29udGVudFxuICAgIHRoaXMuX3RhYkxpbmtzLmZvckVhY2goYSA9PiB7XG4gICAgICBpZiAoYS5oYXNoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhLmhhc2gpO1xuICAgICAgICBpZiAoY3VyckNvbnRlbnQpIGN1cnJDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRUYWJzQW5kVGFiV2lkdGgoKSB7XG4gICAgdGhpcy5fdGFic1dpZHRoID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICB0aGlzLl90YWJXaWR0aCA9IE1hdGgubWF4KHRoaXMuX3RhYnNXaWR0aCwgdGhpcy5lbC5zY3JvbGxXaWR0aCkgLyB0aGlzLl90YWJMaW5rcy5sZW5ndGg7XG4gIH1cblxuICBfY2FsY1JpZ2h0UG9zKGVsKSB7XG4gICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLl90YWJzV2lkdGggLSBlbC5vZmZzZXRMZWZ0IC0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpO1xuICB9XG5cbiAgX2NhbGNMZWZ0UG9zKGVsKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoZWwub2Zmc2V0TGVmdCk7XG4gIH1cblxuICB1cGRhdGVUYWJJbmRpY2F0b3IoKSB7XG4gICAgdGhpcy5fc2V0VGFic0FuZFRhYldpZHRoKCk7XG4gICAgdGhpcy5fYW5pbWF0ZUluZGljYXRvcih0aGlzLl9pbmRleCk7XG4gIH1cblxuICBfYW5pbWF0ZUluZGljYXRvcihwcmV2SW5kZXgpIHtcbiAgICBsZXQgbGVmdERlbGF5ID0gMCwgcmlnaHREZWxheSA9IDA7XG5cbiAgICBpZiAodGhpcy5faW5kZXggLSBwcmV2SW5kZXggPj0gMClcbiAgICAgIGxlZnREZWxheSA9IDkwO1xuICAgIGVsc2VcbiAgICAgIHJpZ2h0RGVsYXkgPSA5MDtcblxuICAgIGNvbnN0IGFuaW1PcHRpb25zID0ge1xuICAgICAgdGFyZ2V0czogdGhpcy5faW5kaWNhdG9yLFxuICAgICAgbGVmdDoge1xuICAgICAgICB2YWx1ZTogdGhpcy5fY2FsY0xlZnRQb3ModGhpcy5fYWN0aXZlVGFiTGluayksXG4gICAgICAgIGRlbGF5OiBsZWZ0RGVsYXlcbiAgICAgIH0sXG4gICAgICByaWdodDoge1xuICAgICAgICB2YWx1ZTogdGhpcy5fY2FsY1JpZ2h0UG9zKHRoaXMuX2FjdGl2ZVRhYkxpbmspLFxuICAgICAgICBkZWxheTogcmlnaHREZWxheVxuICAgICAgfSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICB9O1xuICAgIGFuaW0ucmVtb3ZlKHRoaXMuX2luZGljYXRvcik7XG4gICAgYW5pbShhbmltT3B0aW9ucyk7XG4gIH1cblxuICBzZWxlY3QodGFiSWQpIHtcbiAgICBjb25zdCB0YWIgPSBBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5maW5kKChhOiBIVE1MQW5jaG9yRWxlbWVudCkgPT4gYS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA9PT0gJyMnK3RhYklkKTtcbiAgICBpZiAodGFiKSAoPEhUTUxBbmNob3JFbGVtZW50PnRhYikuY2xpY2soKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/tabs.ts\n");

/***/ }),

/***/ "./src/tapTarget.ts":
/*!**************************!*\
  !*** ./src/tapTarget.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TapTarget = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    onOpen: undefined,\n    onClose: undefined\n};\nclass TapTarget extends component_1.Component {\n    constructor(el, options) {\n        super(TapTarget, el, options);\n        this._handleThrottledResize = (() => global_1.M.throttle(function () { this._handleResize(); }, 200).bind(this))();\n        this._handleTargetClick = () => {\n            this.open();\n        };\n        this._handleOriginClick = () => {\n            this.close();\n        };\n        this._handleResize = () => {\n            this._calculatePositioning();\n        };\n        this._handleDocumentClick = (e) => {\n            if (!e.target.closest('.tap-target-wrapper')) {\n                this.close();\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        };\n        this.el.M_TapTarget = this;\n        this.options = Object.assign(Object.assign({}, TapTarget.defaults), options);\n        this.isOpen = false;\n        // setup\n        this._origin = document.querySelector('#' + this.el.getAttribute('data-target'));\n        this._setup();\n        this._calculatePositioning();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_TapTarget;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.TapTarget = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleTargetClick);\n        this.originEl.addEventListener('click', this._handleOriginClick);\n        // Resize\n        window.addEventListener('resize', this._handleThrottledResize);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleTargetClick);\n        this.originEl.removeEventListener('click', this._handleOriginClick);\n        window.removeEventListener('resize', this._handleThrottledResize);\n    }\n    _setup() {\n        // Creating tap target\n        this.wrapper = this.el.parentElement;\n        this.waveEl = this.wrapper.querySelector('.tap-target-wave');\n        this.originEl = this.wrapper.querySelector('.tap-target-origin');\n        this.contentEl = this.el.querySelector('.tap-target-content');\n        // Creating wrapper\n        if (!this.wrapper.classList.contains('.tap-target-wrapper')) {\n            this.wrapper = document.createElement('div');\n            this.wrapper.classList.add('tap-target-wrapper');\n            this.el.before(this.wrapper);\n            this.wrapper.append(this.el);\n        }\n        // Creating content\n        if (!this.contentEl) {\n            this.contentEl = document.createElement('div');\n            this.contentEl.classList.add('tap-target-content');\n            this.el.append(this.contentEl);\n        }\n        // Creating foreground wave\n        if (!this.waveEl) {\n            this.waveEl = document.createElement('div');\n            this.waveEl.classList.add('tap-target-wave');\n            // Creating origin\n            if (!this.originEl) {\n                this.originEl = this._origin.cloneNode(true); // .clone(true, true);\n                this.originEl.classList.add('tap-target-origin');\n                this.originEl.removeAttribute('id');\n                this.originEl.removeAttribute('style');\n                this.waveEl.append(this.originEl);\n            }\n            this.wrapper.append(this.waveEl);\n        }\n    }\n    _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    _calculatePositioning() {\n        // Element or parent is fixed position?\n        let isFixed = getComputedStyle(this._origin).position === 'fixed';\n        if (!isFixed) {\n            let currentElem = this._origin;\n            const parents = [];\n            while ((currentElem = currentElem.parentNode) && currentElem !== document)\n                parents.push(currentElem);\n            for (let i = 0; i < parents.length; i++) {\n                isFixed = getComputedStyle(parents[i]).position === 'fixed';\n                if (isFixed)\n                    break;\n            }\n        }\n        // Calculating origin\n        const originWidth = this._origin.offsetWidth;\n        const originHeight = this._origin.offsetHeight;\n        const originTop = isFixed ? this._offset(this._origin).top - global_1.M.getDocumentScrollTop() : this._offset(this._origin).top;\n        const originLeft = isFixed ? this._offset(this._origin).left - global_1.M.getDocumentScrollLeft() : this._offset(this._origin).left;\n        // Calculating screen\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n        const scrollBarWidth = windowWidth - document.documentElement.clientWidth;\n        const centerX = windowWidth / 2;\n        const centerY = windowHeight / 2;\n        const isLeft = originLeft <= centerX;\n        const isRight = originLeft > centerX;\n        const isTop = originTop <= centerY;\n        const isBottom = originTop > centerY;\n        const isCenterX = originLeft >= windowWidth * 0.25 && originLeft <= windowWidth * 0.75;\n        // Calculating tap target\n        const tapTargetWidth = this.el.offsetWidth;\n        const tapTargetHeight = this.el.offsetHeight;\n        const tapTargetTop = originTop + originHeight / 2 - tapTargetHeight / 2;\n        const tapTargetLeft = originLeft + originWidth / 2 - tapTargetWidth / 2;\n        const tapTargetPosition = isFixed ? 'fixed' : 'absolute';\n        // Calculating content\n        const tapTargetTextWidth = isCenterX ? tapTargetWidth : tapTargetWidth / 2 + originWidth;\n        const tapTargetTextHeight = tapTargetHeight / 2;\n        const tapTargetTextTop = isTop ? tapTargetHeight / 2 : 0;\n        const tapTargetTextBottom = 0;\n        const tapTargetTextLeft = isLeft && !isCenterX ? tapTargetWidth / 2 - originWidth : 0;\n        const tapTargetTextRight = 0;\n        const tapTargetTextPadding = originWidth;\n        const tapTargetTextAlign = isBottom ? 'bottom' : 'top';\n        // Calculating wave\n        const tapTargetWaveWidth = originWidth > originHeight ? originWidth * 2 : originWidth * 2;\n        const tapTargetWaveHeight = tapTargetWaveWidth;\n        const tapTargetWaveTop = tapTargetHeight / 2 - tapTargetWaveHeight / 2;\n        const tapTargetWaveLeft = tapTargetWidth / 2 - tapTargetWaveWidth / 2;\n        // Setting tap target\n        this.wrapper.style.top = isTop ? tapTargetTop + 'px' : '';\n        this.wrapper.style.right = isRight ? windowWidth - tapTargetLeft - tapTargetWidth - scrollBarWidth + 'px' : '';\n        this.wrapper.style.bottom = isBottom ? windowHeight - tapTargetTop - tapTargetHeight + 'px' : '';\n        this.wrapper.style.left = isLeft ? tapTargetLeft + 'px' : '';\n        this.wrapper.style.position = tapTargetPosition;\n        // Setting content\n        this.contentEl.style.width = tapTargetTextWidth + 'px';\n        this.contentEl.style.height = tapTargetTextHeight + 'px';\n        this.contentEl.style.top = tapTargetTextTop + 'px';\n        this.contentEl.style.right = tapTargetTextRight + 'px';\n        this.contentEl.style.bottom = tapTargetTextBottom + 'px';\n        this.contentEl.style.left = tapTargetTextLeft + 'px';\n        this.contentEl.style.padding = tapTargetTextPadding + 'px';\n        this.contentEl.style.verticalAlign = tapTargetTextAlign;\n        // Setting wave\n        this.waveEl.style.top = tapTargetWaveTop + 'px';\n        this.waveEl.style.left = tapTargetWaveLeft + 'px';\n        this.waveEl.style.width = tapTargetWaveWidth + 'px';\n        this.waveEl.style.height = tapTargetWaveHeight + 'px';\n    }\n    open() {\n        if (this.isOpen)\n            return;\n        // onOpen callback\n        if (typeof this.options.onOpen === 'function') {\n            this.options.onOpen.call(this, this._origin);\n        }\n        this.isOpen = true;\n        this.wrapper.classList.add('open');\n        document.body.addEventListener('click', this._handleDocumentClick, true);\n        document.body.addEventListener('touchend', this._handleDocumentClick);\n    }\n    close() {\n        if (!this.isOpen)\n            return;\n        // onClose callback\n        if (typeof this.options.onClose === 'function') {\n            this.options.onClose.call(this, this._origin);\n        }\n        this.isOpen = false;\n        this.wrapper.classList.remove('open');\n        document.body.removeEventListener('click', this._handleDocumentClick, true);\n        document.body.removeEventListener('touchend', this._handleDocumentClick);\n    }\n}\nexports.TapTarget = TapTarget;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDbkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ25DLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6RSxRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBRUQsS0FBSztRQUNILElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTTtZQUFFLE9BQU87UUFDekIsbUJBQW1CO1FBQ25CLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sS0FBSyxVQUFVLEVBQUU7WUFDOUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDL0M7UUFDRCxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDdEMsUUFBUSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVFLFFBQVEsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQzNFLENBQUM7Q0FDRjtBQTdORCw4QkE2TkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvdGFwVGFyZ2V0LnRzP2ZiMjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5cbmxldCBfZGVmYXVsdHMgPSB7XG4gIG9uT3BlbjogdW5kZWZpbmVkLFxuICBvbkNsb3NlOiB1bmRlZmluZWRcbn07XG5cbmV4cG9ydCBjbGFzcyBUYXBUYXJnZXQgZXh0ZW5kcyBDb21wb25lbnQge1xuICBlbDogSFRNTEVsZW1lbnRcbiAgaXNPcGVuOiBib29sZWFuO1xuICBwcml2YXRlIHdyYXBwZXI6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIF9vcmlnaW46IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIG9yaWdpbkVsOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSB3YXZlRWw6IEhUTUxFbGVtZW50ICYgRWxlbWVudCAmIE5vZGU7XG4gIHByaXZhdGUgY29udGVudEVsOiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgIHN1cGVyKFRhcFRhcmdldCwgZWwsIG9wdGlvbnMpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9UYXBUYXJnZXQgPSB0aGlzO1xuICAgIHRoaXMub3B0aW9ucyA9IHsuLi5UYXBUYXJnZXQuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgLy8gc2V0dXBcbiAgICB0aGlzLl9vcmlnaW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyt0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKSk7XG4gICAgdGhpcy5fc2V0dXAoKTtcbiAgICB0aGlzLl9jYWxjdWxhdGVQb3NpdGlvbmluZygpO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgIGxldCBkb21FbGVtID0gISFlbC5qcXVlcnkgPyBlbFswXSA6IGVsO1xuICAgIHJldHVybiBkb21FbGVtLk1fVGFwVGFyZ2V0O1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5UYXBUYXJnZXQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUYXJnZXRDbGljayk7XG4gICAgdGhpcy5vcmlnaW5FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9yaWdpbkNsaWNrKTtcbiAgICAvLyBSZXNpemVcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplKTtcbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUYXJnZXRDbGljayk7XG4gICAgdGhpcy5vcmlnaW5FbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9yaWdpbkNsaWNrKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplKTtcbiAgfVxuXG4gIF9oYW5kbGVUaHJvdHRsZWRSZXNpemUgPSAoKCkgPT4gTS50aHJvdHRsZShmdW5jdGlvbigpeyB0aGlzLl9oYW5kbGVSZXNpemUoKTsgfSwgMjAwKS5iaW5kKHRoaXMpKSgpO1xuXG4gIF9oYW5kbGVUYXJnZXRDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLm9wZW4oKTtcbiAgfVxuXG4gIF9oYW5kbGVPcmlnaW5DbGljayA9ICgpID0+IHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cblxuICBfaGFuZGxlUmVzaXplID0gKCkgPT4ge1xuICAgIHRoaXMuX2NhbGN1bGF0ZVBvc2l0aW9uaW5nKCk7XG4gIH1cblxuICBfaGFuZGxlRG9jdW1lbnRDbGljayA9IChlKSA9PiB7XG4gICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCcudGFwLXRhcmdldC13cmFwcGVyJykpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwKCkge1xuICAgIC8vIENyZWF0aW5nIHRhcCB0YXJnZXRcbiAgICB0aGlzLndyYXBwZXIgPSB0aGlzLmVsLnBhcmVudEVsZW1lbnQ7XG4gICAgdGhpcy53YXZlRWwgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcignLnRhcC10YXJnZXQtd2F2ZScpO1xuICAgIHRoaXMub3JpZ2luRWwgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcignLnRhcC10YXJnZXQtb3JpZ2luJyk7XG4gICAgdGhpcy5jb250ZW50RWwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy50YXAtdGFyZ2V0LWNvbnRlbnQnKTtcbiAgICAvLyBDcmVhdGluZyB3cmFwcGVyXG4gICAgaWYgKCF0aGlzLndyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCcudGFwLXRhcmdldC13cmFwcGVyJykpIHtcbiAgICAgIHRoaXMud3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ3RhcC10YXJnZXQtd3JhcHBlcicpO1xuICAgICAgdGhpcy5lbC5iZWZvcmUodGhpcy53cmFwcGVyKTtcbiAgICAgIHRoaXMud3JhcHBlci5hcHBlbmQodGhpcy5lbCk7XG4gICAgfVxuICAgIC8vIENyZWF0aW5nIGNvbnRlbnRcbiAgICBpZiAoIXRoaXMuY29udGVudEVsKSB7XG4gICAgICB0aGlzLmNvbnRlbnRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGhpcy5jb250ZW50RWwuY2xhc3NMaXN0LmFkZCgndGFwLXRhcmdldC1jb250ZW50Jyk7XG4gICAgICB0aGlzLmVsLmFwcGVuZCh0aGlzLmNvbnRlbnRFbCk7XG4gICAgfVxuICAgIC8vIENyZWF0aW5nIGZvcmVncm91bmQgd2F2ZVxuICAgIGlmICghdGhpcy53YXZlRWwpIHtcbiAgICAgIHRoaXMud2F2ZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLndhdmVFbC5jbGFzc0xpc3QuYWRkKCd0YXAtdGFyZ2V0LXdhdmUnKTtcbiAgICAgIC8vIENyZWF0aW5nIG9yaWdpblxuICAgICAgaWYgKCF0aGlzLm9yaWdpbkVsKSB7XG4gICAgICAgIHRoaXMub3JpZ2luRWwgPSA8SFRNTEVsZW1lbnQ+dGhpcy5fb3JpZ2luLmNsb25lTm9kZSh0cnVlKTsgLy8gLmNsb25lKHRydWUsIHRydWUpO1xuICAgICAgICB0aGlzLm9yaWdpbkVsLmNsYXNzTGlzdC5hZGQoJ3RhcC10YXJnZXQtb3JpZ2luJyk7XG4gICAgICAgIHRoaXMub3JpZ2luRWwucmVtb3ZlQXR0cmlidXRlKCdpZCcpO1xuICAgICAgICB0aGlzLm9yaWdpbkVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgdGhpcy53YXZlRWwuYXBwZW5kKHRoaXMub3JpZ2luRWwpO1xuICAgICAgfVxuICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZCh0aGlzLndhdmVFbCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfb2Zmc2V0KGVsKSB7XG4gICAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiBib3gudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRUb3AsXG4gICAgICBsZWZ0OiBib3gubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdFxuICAgIH07XG4gIH1cblxuICBfY2FsY3VsYXRlUG9zaXRpb25pbmcoKSB7XG4gICAgLy8gRWxlbWVudCBvciBwYXJlbnQgaXMgZml4ZWQgcG9zaXRpb24/XG4gICAgbGV0IGlzRml4ZWQgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuX29yaWdpbikucG9zaXRpb24gPT09ICdmaXhlZCc7XG4gICAgaWYgKCFpc0ZpeGVkKSB7XG5cbiAgICAgIGxldCBjdXJyZW50RWxlbTogYW55ID0gdGhpcy5fb3JpZ2luO1xuICAgICAgY29uc3QgcGFyZW50cyA9IFtdO1xuICAgICAgd2hpbGUgKChjdXJyZW50RWxlbSA9IGN1cnJlbnRFbGVtLnBhcmVudE5vZGUpICYmIGN1cnJlbnRFbGVtICE9PSBkb2N1bWVudClcbiAgICAgICAgcGFyZW50cy5wdXNoKGN1cnJlbnRFbGVtKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlzRml4ZWQgPSBnZXRDb21wdXRlZFN0eWxlKHBhcmVudHNbaV0pLnBvc2l0aW9uID09PSAnZml4ZWQnO1xuICAgICAgICBpZiAoaXNGaXhlZCkgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIENhbGN1bGF0aW5nIG9yaWdpblxuICAgIGNvbnN0IG9yaWdpbldpZHRoID0gdGhpcy5fb3JpZ2luLm9mZnNldFdpZHRoO1xuICAgIGNvbnN0IG9yaWdpbkhlaWdodCA9IHRoaXMuX29yaWdpbi5vZmZzZXRIZWlnaHQ7XG4gICAgY29uc3Qgb3JpZ2luVG9wID0gaXNGaXhlZCA/IHRoaXMuX29mZnNldCh0aGlzLl9vcmlnaW4pLnRvcCAtIE0uZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKSA6IHRoaXMuX29mZnNldCh0aGlzLl9vcmlnaW4pLnRvcDtcbiAgICBjb25zdCBvcmlnaW5MZWZ0ID0gaXNGaXhlZCA/IHRoaXMuX29mZnNldCh0aGlzLl9vcmlnaW4pLmxlZnQgLSBNLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpIDogdGhpcy5fb2Zmc2V0KHRoaXMuX29yaWdpbikubGVmdDtcblxuICAgIC8vIENhbGN1bGF0aW5nIHNjcmVlblxuICAgIGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGNvbnN0IHNjcm9sbEJhcldpZHRoID0gd2luZG93V2lkdGggLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgY29uc3QgY2VudGVyWCA9IHdpbmRvd1dpZHRoIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gd2luZG93SGVpZ2h0IC8gMjtcbiAgICBjb25zdCBpc0xlZnQgPSBvcmlnaW5MZWZ0IDw9IGNlbnRlclg7XG4gICAgY29uc3QgaXNSaWdodCA9IG9yaWdpbkxlZnQgPiBjZW50ZXJYO1xuICAgIGNvbnN0IGlzVG9wID0gb3JpZ2luVG9wIDw9IGNlbnRlclk7XG4gICAgY29uc3QgaXNCb3R0b20gPSBvcmlnaW5Ub3AgPiBjZW50ZXJZO1xuICAgIGNvbnN0IGlzQ2VudGVyWCA9IG9yaWdpbkxlZnQgPj0gd2luZG93V2lkdGggKiAwLjI1ICYmIG9yaWdpbkxlZnQgPD0gd2luZG93V2lkdGggKiAwLjc1O1xuXG4gICAgLy8gQ2FsY3VsYXRpbmcgdGFwIHRhcmdldFxuICAgIGNvbnN0IHRhcFRhcmdldFdpZHRoID0gdGhpcy5lbC5vZmZzZXRXaWR0aDtcbiAgICBjb25zdCB0YXBUYXJnZXRIZWlnaHQgPSB0aGlzLmVsLm9mZnNldEhlaWdodDtcbiAgICBjb25zdCB0YXBUYXJnZXRUb3AgPSBvcmlnaW5Ub3AgKyBvcmlnaW5IZWlnaHQgLyAyIC0gdGFwVGFyZ2V0SGVpZ2h0IC8gMjtcbiAgICBjb25zdCB0YXBUYXJnZXRMZWZ0ID0gb3JpZ2luTGVmdCArIG9yaWdpbldpZHRoIC8gMiAtIHRhcFRhcmdldFdpZHRoIC8gMjtcbiAgICBjb25zdCB0YXBUYXJnZXRQb3NpdGlvbiA9IGlzRml4ZWQgPyAnZml4ZWQnIDogJ2Fic29sdXRlJztcblxuICAgIC8vIENhbGN1bGF0aW5nIGNvbnRlbnRcbiAgICBjb25zdCB0YXBUYXJnZXRUZXh0V2lkdGggPSBpc0NlbnRlclggPyB0YXBUYXJnZXRXaWR0aCA6IHRhcFRhcmdldFdpZHRoIC8gMiArIG9yaWdpbldpZHRoO1xuICAgIGNvbnN0IHRhcFRhcmdldFRleHRIZWlnaHQgPSB0YXBUYXJnZXRIZWlnaHQgLyAyO1xuICAgIGNvbnN0IHRhcFRhcmdldFRleHRUb3AgPSBpc1RvcCA/IHRhcFRhcmdldEhlaWdodCAvIDIgOiAwO1xuICAgIGNvbnN0IHRhcFRhcmdldFRleHRCb3R0b20gPSAwO1xuICAgIGNvbnN0IHRhcFRhcmdldFRleHRMZWZ0ID0gaXNMZWZ0ICYmICFpc0NlbnRlclggPyB0YXBUYXJnZXRXaWR0aCAvIDIgLSBvcmlnaW5XaWR0aCA6IDA7XG4gICAgY29uc3QgdGFwVGFyZ2V0VGV4dFJpZ2h0ID0gMDtcbiAgICBjb25zdCB0YXBUYXJnZXRUZXh0UGFkZGluZyA9IG9yaWdpbldpZHRoO1xuICAgIGNvbnN0IHRhcFRhcmdldFRleHRBbGlnbiA9IGlzQm90dG9tID8gJ2JvdHRvbScgOiAndG9wJztcblxuICAgIC8vIENhbGN1bGF0aW5nIHdhdmVcbiAgICBjb25zdCB0YXBUYXJnZXRXYXZlV2lkdGggPSBvcmlnaW5XaWR0aCA+IG9yaWdpbkhlaWdodCA/IG9yaWdpbldpZHRoICogMiA6IG9yaWdpbldpZHRoICogMjtcbiAgICBjb25zdCB0YXBUYXJnZXRXYXZlSGVpZ2h0ID0gdGFwVGFyZ2V0V2F2ZVdpZHRoO1xuICAgIGNvbnN0IHRhcFRhcmdldFdhdmVUb3AgPSB0YXBUYXJnZXRIZWlnaHQgLyAyIC0gdGFwVGFyZ2V0V2F2ZUhlaWdodCAvIDI7XG4gICAgY29uc3QgdGFwVGFyZ2V0V2F2ZUxlZnQgPSB0YXBUYXJnZXRXaWR0aCAvIDIgLSB0YXBUYXJnZXRXYXZlV2lkdGggLyAyO1xuXG4gICAgLy8gU2V0dGluZyB0YXAgdGFyZ2V0XG4gICAgdGhpcy53cmFwcGVyLnN0eWxlLnRvcCA9IGlzVG9wID8gdGFwVGFyZ2V0VG9wICsgJ3B4JyA6ICcnO1xuICAgIHRoaXMud3JhcHBlci5zdHlsZS5yaWdodCA9IGlzUmlnaHQgPyB3aW5kb3dXaWR0aCAtIHRhcFRhcmdldExlZnQgLSB0YXBUYXJnZXRXaWR0aCAtIHNjcm9sbEJhcldpZHRoICsgJ3B4JyA6ICcnO1xuICAgIHRoaXMud3JhcHBlci5zdHlsZS5ib3R0b20gPSBpc0JvdHRvbSA/IHdpbmRvd0hlaWdodCAtIHRhcFRhcmdldFRvcCAtIHRhcFRhcmdldEhlaWdodCArICdweCcgOiAnJztcbiAgICB0aGlzLndyYXBwZXIuc3R5bGUubGVmdCA9IGlzTGVmdCA/IHRhcFRhcmdldExlZnQgKyAncHgnIDogJyc7XG4gICAgdGhpcy53cmFwcGVyLnN0eWxlLnBvc2l0aW9uID0gdGFwVGFyZ2V0UG9zaXRpb247XG5cbiAgICAvLyBTZXR0aW5nIGNvbnRlbnRcbiAgICB0aGlzLmNvbnRlbnRFbC5zdHlsZS53aWR0aCA9IHRhcFRhcmdldFRleHRXaWR0aCArICdweCc7XG4gICAgdGhpcy5jb250ZW50RWwuc3R5bGUuaGVpZ2h0ID0gdGFwVGFyZ2V0VGV4dEhlaWdodCArICdweCc7XG4gICAgdGhpcy5jb250ZW50RWwuc3R5bGUudG9wID0gdGFwVGFyZ2V0VGV4dFRvcCArICdweCc7XG4gICAgdGhpcy5jb250ZW50RWwuc3R5bGUucmlnaHQgPSB0YXBUYXJnZXRUZXh0UmlnaHQgKyAncHgnO1xuICAgIHRoaXMuY29udGVudEVsLnN0eWxlLmJvdHRvbSA9IHRhcFRhcmdldFRleHRCb3R0b20gKyAncHgnO1xuICAgIHRoaXMuY29udGVudEVsLnN0eWxlLmxlZnQgPSB0YXBUYXJnZXRUZXh0TGVmdCArICdweCc7XG4gICAgdGhpcy5jb250ZW50RWwuc3R5bGUucGFkZGluZyA9IHRhcFRhcmdldFRleHRQYWRkaW5nICsgJ3B4JztcbiAgICB0aGlzLmNvbnRlbnRFbC5zdHlsZS52ZXJ0aWNhbEFsaWduID0gdGFwVGFyZ2V0VGV4dEFsaWduO1xuXG4gICAgLy8gU2V0dGluZyB3YXZlXG4gICAgdGhpcy53YXZlRWwuc3R5bGUudG9wID0gdGFwVGFyZ2V0V2F2ZVRvcCsncHgnO1xuICAgIHRoaXMud2F2ZUVsLnN0eWxlLmxlZnQgPSB0YXBUYXJnZXRXYXZlTGVmdCsncHgnO1xuICAgIHRoaXMud2F2ZUVsLnN0eWxlLndpZHRoID0gdGFwVGFyZ2V0V2F2ZVdpZHRoKydweCc7XG4gICAgdGhpcy53YXZlRWwuc3R5bGUuaGVpZ2h0ID0gdGFwVGFyZ2V0V2F2ZUhlaWdodCsncHgnO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBpZiAodGhpcy5pc09wZW4pIHJldHVybjtcbiAgICAvLyBvbk9wZW4gY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW4uY2FsbCh0aGlzLCB0aGlzLl9vcmlnaW4pO1xuICAgIH1cbiAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGljaywgdHJ1ZSk7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2spO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIC8vIG9uQ2xvc2UgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25DbG9zZS5jYWxsKHRoaXMsIHRoaXMuX29yaWdpbik7XG4gICAgfVxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGljaywgdHJ1ZSk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2spO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/tapTarget.ts\n");

/***/ }),

/***/ "./src/timepicker.ts":
/*!***************************!*\
  !*** ./src/timepicker.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Timepicker = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nlet _defaults = {\n    dialRadius: 135,\n    outerRadius: 105,\n    innerRadius: 70,\n    tickRadius: 20,\n    duration: 350,\n    container: null,\n    defaultTime: 'now',\n    fromNow: 0,\n    showClearBtn: false,\n    // internationalization\n    i18n: {\n        cancel: 'Cancel',\n        clear: 'Clear',\n        done: 'Ok'\n    },\n    autoClose: false,\n    twelveHour: true,\n    vibrate: true,\n    // Callbacks\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    onSelect: null\n};\nclass Timepicker extends component_1.Component {\n    constructor(el, options) {\n        super(Timepicker, el, options);\n        this._handleInputClick = () => {\n            this.open();\n        };\n        this._handleInputKeydown = (e) => {\n            if (global_1.M.keys.ENTER.includes(e.key)) {\n                e.preventDefault();\n                this.open();\n            }\n        };\n        this._handleTimeInputEnterKey = (e) => {\n            if (global_1.M.keys.ENTER.includes(e.key)) {\n                e.preventDefault();\n                this._inputFromTextField();\n            }\n        };\n        this._handleClockClickStart = (e) => {\n            e.preventDefault();\n            let clockPlateBR = this.plate.getBoundingClientRect();\n            let offset = { x: clockPlateBR.left, y: clockPlateBR.top };\n            this.x0 = offset.x + this.options.dialRadius;\n            this.y0 = offset.y + this.options.dialRadius;\n            this.moved = false;\n            let clickPos = Timepicker._Pos(e);\n            this.dx = clickPos.x - this.x0;\n            this.dy = clickPos.y - this.y0;\n            // Set clock hands\n            this.setHand(this.dx, this.dy, false);\n            // Mousemove on document\n            document.addEventListener('mousemove', this._handleDocumentClickMove);\n            document.addEventListener('touchmove', this._handleDocumentClickMove);\n            // Mouseup on document\n            document.addEventListener('mouseup', this._handleDocumentClickEnd);\n            document.addEventListener('touchend', this._handleDocumentClickEnd);\n        };\n        this._handleDocumentClickMove = (e) => {\n            e.preventDefault();\n            let clickPos = Timepicker._Pos(e);\n            let x = clickPos.x - this.x0;\n            let y = clickPos.y - this.y0;\n            this.moved = true;\n            this.setHand(x, y, false);\n        };\n        this._handleDocumentClickEnd = (e) => {\n            e.preventDefault();\n            document.removeEventListener('mouseup', this._handleDocumentClickEnd);\n            document.removeEventListener('touchend', this._handleDocumentClickEnd);\n            let clickPos = Timepicker._Pos(e);\n            let x = clickPos.x - this.x0;\n            let y = clickPos.y - this.y0;\n            if (this.moved && x === this.dx && y === this.dy) {\n                this.setHand(x, y);\n            }\n            if (this.currentView === 'hours') {\n                this.showView('minutes', this.options.duration / 2);\n            }\n            else if (this.options.autoClose) {\n                this.minutesView.classList.add('timepicker-dial-out');\n                setTimeout(() => {\n                    this.done();\n                }, this.options.duration / 2);\n            }\n            if (typeof this.options.onSelect === 'function') {\n                this.options.onSelect.call(this, this.hours, this.minutes);\n            }\n            // Unbind mousemove event\n            document.removeEventListener('mousemove', this._handleDocumentClickMove);\n            document.removeEventListener('touchmove', this._handleDocumentClickMove);\n        };\n        this._handleAmPmClick = (e) => {\n            const btnClicked = e.target;\n            this.amOrPm = btnClicked.classList.contains('am-btn') ? 'AM' : 'PM';\n            this._updateAmPmView();\n        };\n        this.showView = (view, delay = null) => {\n            if (view === 'minutes' && getComputedStyle(this.hoursView).visibility === 'visible') {\n                // raiseCallback(this.options.beforeHourSelect);\n            }\n            let isHours = view === 'hours', nextView = isHours ? this.hoursView : this.minutesView, hideView = isHours ? this.minutesView : this.hoursView;\n            this.currentView = view;\n            if (isHours) {\n                this.inputHours.classList.add('text-primary');\n                this.inputMinutes.classList.remove('text-primary');\n            }\n            else {\n                this.inputHours.classList.remove('text-primary');\n                this.inputMinutes.classList.add('text-primary');\n            }\n            // Transition view\n            hideView.classList.add('timepicker-dial-out');\n            nextView.style.visibility = 'visible';\n            nextView.classList.remove('timepicker-dial-out');\n            // Reset clock hand\n            this.resetClock(delay);\n            // After transitions ended\n            clearTimeout(this.toggleViewTimer);\n            this.toggleViewTimer = setTimeout(() => {\n                hideView.style.visibility = 'hidden';\n            }, this.options.duration);\n        };\n        this._inputFromTextField = () => {\n            const isHours = this.currentView === 'hours';\n            if (isHours) {\n                const value = parseInt(this.inputHours.value);\n                if (value > 0 && value < 13) {\n                    this.drawClockFromTimeInput(value, isHours);\n                    this.showView('minutes', this.options.duration / 2);\n                    this.hours = value;\n                    this.inputMinutes.focus();\n                }\n                else {\n                    const hour = new Date().getHours();\n                    this.inputHours.value = (hour % 12).toString();\n                }\n            }\n            else {\n                const value = parseInt(this.inputMinutes.value);\n                if (value >= 0 && value < 60) {\n                    this.inputMinutes.value = Timepicker._addLeadingZero(value);\n                    this.drawClockFromTimeInput(value, isHours);\n                    this.minutes = value;\n                    this.modalEl.querySelector('.confirmation-btns :nth-child(2)').focus();\n                }\n                else {\n                    const minutes = new Date().getMinutes();\n                    this.inputMinutes.value = Timepicker._addLeadingZero(minutes);\n                }\n            }\n        };\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            this.isOpen = false;\n            this.modal.close();\n        };\n        this.done = (e = null, clearValue = null) => {\n            // Set input value\n            let last = this.el.value;\n            let value = clearValue\n                ? ''\n                : Timepicker._addLeadingZero(this.hours) + ':' + Timepicker._addLeadingZero(this.minutes);\n            this.time = value;\n            if (!clearValue && this.options.twelveHour) {\n                value = `${value} ${this.amOrPm}`;\n            }\n            this.el.value = value;\n            // Trigger change event\n            if (value !== last) {\n                this.el.dispatchEvent(new Event('change'));\n            }\n            this.close();\n            this.el.focus();\n        };\n        this.clear = () => {\n            this.done(null, true);\n        };\n        this.el.M_Timepicker = this;\n        this.options = Object.assign(Object.assign({}, Timepicker.defaults), options);\n        this.id = global_1.M.guid();\n        this._insertHTMLIntoDOM();\n        this._setupModal();\n        this._setupVariables();\n        this._setupEventHandlers();\n        this._clockSetup();\n        this._pickerSetup();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static _addLeadingZero(num) {\n        return (num < 10 ? '0' : '') + num;\n    }\n    static _createSVGEl(name) {\n        let svgNS = 'http://www.w3.org/2000/svg';\n        return document.createElementNS(svgNS, name);\n    }\n    static _Pos(e) {\n        if (e.targetTouches && e.targetTouches.length >= 1) {\n            return { x: e.targetTouches[0].clientX, y: e.targetTouches[0].clientY };\n        }\n        // mouse event\n        return { x: e.clientX, y: e.clientY };\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Timepicker;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.modal.destroy();\n        this.modalEl.remove();\n        this.el.M_Timepicker = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleInputClick);\n        this.el.addEventListener('keydown', this._handleInputKeydown);\n        this.plate.addEventListener('mousedown', this._handleClockClickStart);\n        this.plate.addEventListener('touchstart', this._handleClockClickStart);\n        this.digitalClock.addEventListener('keyup', this._inputFromTextField);\n        this.inputHours.addEventListener('click', () => this.showView('hours'));\n        this.inputMinutes.addEventListener('click', () => this.showView('minutes'));\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleInputClick);\n        this.el.removeEventListener('keydown', this._handleInputKeydown);\n    }\n    _insertHTMLIntoDOM() {\n        const template = document.createElement('template');\n        template.innerHTML = Timepicker._template.trim();\n        this.modalEl = template.content.firstChild;\n        this.modalEl.id = 'modal-' + this.id;\n        // Append popover to input by default\n        const optEl = this.options.container;\n        const containerEl = optEl instanceof HTMLElement ? optEl : document.querySelector(optEl);\n        if (this.options.container && !!containerEl) {\n            containerEl.append(this.modalEl);\n        }\n        else {\n            this.el.parentElement.appendChild(this.modalEl);\n        }\n    }\n    _setupModal() {\n        this.modal = global_1.M.Modal.init(this.modalEl, {\n            onOpenStart: this.options.onOpenStart,\n            onOpenEnd: this.options.onOpenEnd,\n            onCloseStart: this.options.onCloseStart,\n            onCloseEnd: () => {\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this);\n                }\n                this.isOpen = false;\n            }\n        });\n    }\n    _setupVariables() {\n        this.currentView = 'hours';\n        this.vibrate = navigator.vibrate\n            ? 'vibrate'\n            : navigator.webkitVibrate\n                ? 'webkitVibrate'\n                : null;\n        this._canvas = this.modalEl.querySelector('.timepicker-canvas');\n        this.plate = this.modalEl.querySelector('.timepicker-plate');\n        this.digitalClock = this.modalEl.querySelector('.timepicker-display-column');\n        this.hoursView = this.modalEl.querySelector('.timepicker-hours');\n        this.minutesView = this.modalEl.querySelector('.timepicker-minutes');\n        this.inputHours = this.modalEl.querySelector('.timepicker-input-hours');\n        this.inputMinutes = this.modalEl.querySelector('.timepicker-input-minutes');\n        this.spanAmPm = this.modalEl.querySelector('.timepicker-span-am-pm');\n        this.footer = this.modalEl.querySelector('.timepicker-footer');\n        this.amOrPm = 'PM';\n    }\n    _createButton(text, visibility) {\n        const button = document.createElement('button');\n        button.classList.add('btn-flat', 'waves-effect');\n        button.style.visibility = visibility;\n        button.type = 'button';\n        button.tabIndex = this.options.twelveHour ? 3 : 1;\n        button.innerText = text;\n        return button;\n    }\n    _pickerSetup() {\n        const clearButton = this._createButton(this.options.i18n.clear, this.options.showClearBtn ? '' : 'hidden');\n        clearButton.classList.add('timepicker-clear');\n        clearButton.addEventListener('click', this.clear);\n        this.footer.appendChild(clearButton);\n        const confirmationBtnsContainer = document.createElement('div');\n        confirmationBtnsContainer.classList.add('confirmation-btns');\n        this.footer.append(confirmationBtnsContainer);\n        const cancelButton = this._createButton(this.options.i18n.cancel, '');\n        cancelButton.classList.add('timepicker-close');\n        cancelButton.addEventListener('click', this.close);\n        confirmationBtnsContainer.appendChild(cancelButton);\n        const doneButton = this._createButton(this.options.i18n.done, '');\n        doneButton.classList.add('timepicker-close');\n        doneButton.addEventListener('click', this.done);\n        confirmationBtnsContainer.appendChild(doneButton);\n    }\n    _clockSetup() {\n        if (this.options.twelveHour) {\n            // AM Button\n            this._amBtn = document.createElement('div');\n            this._amBtn.classList.add('am-btn');\n            this._amBtn.innerText = 'AM';\n            this._amBtn.addEventListener('click', this._handleAmPmClick);\n            this.spanAmPm.appendChild(this._amBtn);\n            // PM Button\n            this._pmBtn = document.createElement('div');\n            this._pmBtn.classList.add('pm-btn');\n            this._pmBtn.innerText = 'PM';\n            this._pmBtn.addEventListener('click', this._handleAmPmClick);\n            this.spanAmPm.appendChild(this._pmBtn);\n        }\n        this._buildHoursView();\n        this._buildMinutesView();\n        this._buildSVGClock();\n    }\n    _buildSVGClock() {\n        // Draw clock hands and others\n        let dialRadius = this.options.dialRadius;\n        let tickRadius = this.options.tickRadius;\n        let diameter = dialRadius * 2;\n        let svg = Timepicker._createSVGEl('svg');\n        svg.setAttribute('class', 'timepicker-svg');\n        svg.setAttribute('width', diameter.toString());\n        svg.setAttribute('height', diameter.toString());\n        let g = Timepicker._createSVGEl('g');\n        g.setAttribute('transform', 'translate(' + dialRadius + ',' + dialRadius + ')');\n        let bearing = Timepicker._createSVGEl('circle');\n        bearing.setAttribute('class', 'timepicker-canvas-bearing');\n        bearing.setAttribute('cx', '0');\n        bearing.setAttribute('cy', '0');\n        bearing.setAttribute('r', '4');\n        let hand = Timepicker._createSVGEl('line');\n        hand.setAttribute('x1', '0');\n        hand.setAttribute('y1', '0');\n        let bg = Timepicker._createSVGEl('circle');\n        bg.setAttribute('class', 'timepicker-canvas-bg');\n        bg.setAttribute('r', tickRadius);\n        g.appendChild(hand);\n        g.appendChild(bg);\n        g.appendChild(bearing);\n        svg.appendChild(g);\n        this._canvas.appendChild(svg);\n        this.hand = hand;\n        this.bg = bg;\n        this.bearing = bearing;\n        this.g = g;\n    }\n    _buildHoursView() {\n        const $tick = document.createElement('div');\n        $tick.classList.add('timepicker-tick');\n        // Hours view\n        if (this.options.twelveHour) {\n            for (let i = 1; i < 13; i += 1) {\n                const tick = $tick.cloneNode(true);\n                const radian = (i / 6) * Math.PI;\n                const radius = this.options.outerRadius;\n                tick.style.left = this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px';\n                tick.style.top = this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px';\n                tick.innerHTML = i === 0 ? '00' : i.toString();\n                this.hoursView.appendChild(tick);\n                // tick.on(mousedownEvent, mousedown);\n            }\n        }\n        else {\n            for (let i = 0; i < 24; i += 1) {\n                const tick = $tick.cloneNode(true);\n                const radian = (i / 6) * Math.PI;\n                const inner = i > 0 && i < 13;\n                const radius = inner ? this.options.innerRadius : this.options.outerRadius;\n                tick.style.left = this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px';\n                tick.style.top = this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px';\n                tick.innerHTML = i === 0 ? '00' : i.toString();\n                this.hoursView.appendChild(tick);\n                // tick.on(mousedownEvent, mousedown);\n            }\n        }\n    }\n    _buildMinutesView() {\n        const _tick = document.createElement('div');\n        _tick.classList.add('timepicker-tick');\n        // Minutes view\n        for (let i = 0; i < 60; i += 5) {\n            const tick = _tick.cloneNode(true);\n            const radian = (i / 30) * Math.PI;\n            tick.style.left =\n                this.options.dialRadius +\n                    Math.sin(radian) * this.options.outerRadius -\n                    this.options.tickRadius +\n                    'px';\n            tick.style.top =\n                this.options.dialRadius -\n                    Math.cos(radian) * this.options.outerRadius -\n                    this.options.tickRadius +\n                    'px';\n            tick.innerHTML = Timepicker._addLeadingZero(i);\n            this.minutesView.appendChild(tick);\n        }\n    }\n    _updateAmPmView() {\n        if (this.options.twelveHour) {\n            if (this.amOrPm === 'PM') {\n                this._amBtn.classList.remove('text-primary');\n                this._pmBtn.classList.add('text-primary');\n            }\n            else if (this.amOrPm === 'AM') {\n                this._amBtn.classList.add('text-primary');\n                this._pmBtn.classList.remove('text-primary');\n            }\n        }\n    }\n    _updateTimeFromInput() {\n        // Get the time\n        let value = ((this.el.value || this.options.defaultTime || '') + '').split(':');\n        if (this.options.twelveHour && !(typeof value[1] === 'undefined')) {\n            if (value[1].toUpperCase().indexOf('AM') > 0) {\n                this.amOrPm = 'AM';\n            }\n            else {\n                this.amOrPm = 'PM';\n            }\n            value[1] = value[1].replace('AM', '').replace('PM', '');\n        }\n        if (value[0] === 'now') {\n            let now = new Date(+new Date() + this.options.fromNow);\n            value = [now.getHours().toString(), now.getMinutes().toString()];\n            if (this.options.twelveHour) {\n                this.amOrPm = parseInt(value[0]) >= 12 && parseInt(value[0]) < 24 ? 'PM' : 'AM';\n            }\n        }\n        this.hours = +value[0] || 0;\n        this.minutes = +value[1] || 0;\n        this.inputHours.value = this.hours;\n        this.inputMinutes.value = Timepicker._addLeadingZero(this.minutes);\n        this._updateAmPmView();\n    }\n    resetClock(delay) {\n        var _a;\n        let view = this.currentView, value = this[view], isHours = view === 'hours', unit = Math.PI / (isHours ? 6 : 30), radian = value * unit, radius = isHours && value > 0 && value < 13 ? this.options.innerRadius : this.options.outerRadius, x = Math.sin(radian) * radius, y = -Math.cos(radian) * radius, self = this;\n        if (delay) {\n            (_a = this.canvas) === null || _a === void 0 ? void 0 : _a.classList.add('timepicker-canvas-out');\n            setTimeout(() => {\n                var _a;\n                (_a = self.canvas) === null || _a === void 0 ? void 0 : _a.classList.remove('timepicker-canvas-out');\n                self.setHand(x, y);\n            }, delay);\n        }\n        else {\n            this.setHand(x, y);\n        }\n    }\n    drawClockFromTimeInput(value, isHours) {\n        const unit = Math.PI / (isHours ? 6 : 30);\n        const radian = value * unit;\n        let radius;\n        if (this.options.twelveHour) {\n            radius = this.options.outerRadius;\n        }\n        let cx1 = Math.sin(radian) * (radius - this.options.tickRadius), cy1 = -Math.cos(radian) * (radius - this.options.tickRadius), cx2 = Math.sin(radian) * radius, cy2 = -Math.cos(radian) * radius;\n        this.hand.setAttribute('x2', cx1.toString());\n        this.hand.setAttribute('y2', cy1.toString());\n        this.bg.setAttribute('cx', cx2.toString());\n        this.bg.setAttribute('cy', cy2.toString());\n    }\n    setHand(x, y, roundBy5 = false) {\n        let radian = Math.atan2(x, -y), isHours = this.currentView === 'hours', unit = Math.PI / (isHours || roundBy5 ? 6 : 30), z = Math.sqrt(x * x + y * y), inner = isHours && z < (this.options.outerRadius + this.options.innerRadius) / 2, radius = inner ? this.options.innerRadius : this.options.outerRadius;\n        if (this.options.twelveHour) {\n            radius = this.options.outerRadius;\n        }\n        // Radian should in range [0, 2PI]\n        if (radian < 0) {\n            radian = Math.PI * 2 + radian;\n        }\n        // Get the round value\n        let value = Math.round(radian / unit);\n        // Get the round radian\n        radian = value * unit;\n        // Correct the hours or minutes\n        if (this.options.twelveHour) {\n            if (isHours) {\n                if (value === 0)\n                    value = 12;\n            }\n            else {\n                if (roundBy5)\n                    value *= 5;\n                if (value === 60)\n                    value = 0;\n            }\n        }\n        else {\n            if (isHours) {\n                if (value === 12) {\n                    value = 0;\n                }\n                value = inner ? (value === 0 ? 12 : value) : value === 0 ? 0 : value + 12;\n            }\n            else {\n                if (roundBy5) {\n                    value *= 5;\n                }\n                if (value === 60) {\n                    value = 0;\n                }\n            }\n        }\n        // Once hours or minutes changed, vibrate the device\n        if (this[this.currentView] !== value) {\n            if (this.vibrate && this.options.vibrate) {\n                // Do not vibrate too frequently\n                if (!this.vibrateTimer) {\n                    navigator[this.vibrate](10);\n                    this.vibrateTimer = setTimeout(() => {\n                        this.vibrateTimer = null;\n                    }, 100);\n                }\n            }\n        }\n        this[this.currentView] = value;\n        if (isHours) {\n            this.inputHours.value = value.toString();\n        }\n        else {\n            this.inputMinutes.value = Timepicker._addLeadingZero(value);\n        }\n        // Set clock hand and others' position\n        let cx1 = Math.sin(radian) * (radius - this.options.tickRadius), cy1 = -Math.cos(radian) * (radius - this.options.tickRadius), cx2 = Math.sin(radian) * radius, cy2 = -Math.cos(radian) * radius;\n        this.hand.setAttribute('x2', cx1.toString());\n        this.hand.setAttribute('y2', cy1.toString());\n        this.bg.setAttribute('cx', cx2.toString());\n        this.bg.setAttribute('cy', cy2.toString());\n    }\n    open() {\n        if (this.isOpen)\n            return;\n        this.isOpen = true;\n        this._updateTimeFromInput();\n        this.showView('hours');\n        this.modal.open(undefined);\n    }\n}\nexports.Timepicker = Timepicker;\n(() => {\n    Timepicker._template = `\n      <div class=\"modal timepicker-modal\">\n        <div class=\"modal-content timepicker-container\">\n          <div class=\"timepicker-digital-display\">\n            <div class=\"timepicker-text-container\">\n              <div class=\"timepicker-display-column\">\n                <input type=\"text\" maxlength=\"2\" autofocus class=\"timepicker-input-hours text-primary\" />\n                :\n                <input type=\"text\" maxlength=\"2\" class=\"timepicker-input-minutes\" />\n              </div>\n              <div class=\"timepicker-display-column timepicker-display-am-pm\">\n                <div class=\"timepicker-span-am-pm\"></div>\n              </div>\n            </div>\n          </div>\n          <div class=\"timepicker-analog-display\">\n            <div class=\"timepicker-plate\">\n              <div class=\"timepicker-canvas\"></div>\n              <div class=\"timepicker-dial timepicker-hours\"></div>\n              <div class=\"timepicker-dial timepicker-minutes timepicker-dial-out\"></div>\n            </div>\n            <div class=\"timepicker-footer\"></div>\n          </div>\n        </div>\n      </div`;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUM1RCxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLEVBQy9CLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsTUFBTSxDQUFDO1FBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRUQsSUFBSTtRQUNGLElBQUksSUFBSSxDQUFDLE1BQU07WUFBRSxPQUFPO1FBQ3hCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ25CLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQzVCLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDN0IsQ0FBQztDQTBERjtBQWxwQkQsZ0NBa3BCQztBQTNCQztJQUNFLFVBQVUsQ0FBQyxTQUFTLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQXdCZixDQUFDO0FBQ1gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy90aW1lcGlja2VyLnRzPzQwYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5pbXBvcnQgeyBNIH0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gXCIuL21vZGFsXCI7XG5cbmxldCBfZGVmYXVsdHMgPSB7XG4gIGRpYWxSYWRpdXM6IDEzNSxcbiAgb3V0ZXJSYWRpdXM6IDEwNSxcbiAgaW5uZXJSYWRpdXM6IDcwLFxuICB0aWNrUmFkaXVzOiAyMCxcbiAgZHVyYXRpb246IDM1MCxcbiAgY29udGFpbmVyOiBudWxsLFxuICBkZWZhdWx0VGltZTogJ25vdycsIC8vIGRlZmF1bHQgdGltZSwgJ25vdycgb3IgJzEzOjE0JyBlLmcuXG4gIGZyb21Ob3c6IDAsIC8vIE1pbGxpc2Vjb25kIG9mZnNldCBmcm9tIHRoZSBkZWZhdWx0VGltZVxuICBzaG93Q2xlYXJCdG46IGZhbHNlLFxuICAvLyBpbnRlcm5hdGlvbmFsaXphdGlvblxuICBpMThuOiB7XG4gICAgY2FuY2VsOiAnQ2FuY2VsJyxcbiAgICBjbGVhcjogJ0NsZWFyJyxcbiAgICBkb25lOiAnT2snXG4gIH0sXG4gIGF1dG9DbG9zZTogZmFsc2UsIC8vIGF1dG8gY2xvc2Ugd2hlbiBtaW51dGUgaXMgc2VsZWN0ZWRcbiAgdHdlbHZlSG91cjogdHJ1ZSwgLy8gY2hhbmdlIHRvIDEyIGhvdXIgQU0vUE0gY2xvY2sgZnJvbSAyNCBob3VyXG4gIHZpYnJhdGU6IHRydWUsIC8vIHZpYnJhdGUgdGhlIGRldmljZSB3aGVuIGRyYWdnaW5nIGNsb2NrIGhhbmRcbiAgLy8gQ2FsbGJhY2tzXG4gIG9uT3BlblN0YXJ0OiBudWxsLFxuICBvbk9wZW5FbmQ6IG51bGwsXG4gIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgb25DbG9zZUVuZDogbnVsbCxcbiAgb25TZWxlY3Q6IG51bGxcbn07XG5cbnR5cGUgUG9pbnQgPSB7XG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyXG59O1xuXG5leHBvcnQgY2xhc3MgVGltZXBpY2tlciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGVsOiBIVE1MSW5wdXRFbGVtZW50O1xuICBpZDogc3RyaW5nO1xuICBtb2RhbDogTW9kYWw7XG4gIG1vZGFsRWw6IEhUTUxFbGVtZW50O1xuICBwbGF0ZTogYW55O1xuICBkaWdpdGFsQ2xvY2s6IGFueTtcbiAgaW5wdXRIb3VyczogSFRNTElucHV0RWxlbWVudDtcbiAgaW5wdXRNaW51dGVzOiBIVE1MSW5wdXRFbGVtZW50O1xuICB4MDogbnVtYmVyO1xuICB5MDogbnVtYmVyO1xuICBtb3ZlZDogYm9vbGVhbjtcbiAgZHg6IG51bWJlcjtcbiAgZHk6IG51bWJlcjtcbiAgY3VycmVudFZpZXc6IHN0cmluZztcbiAgaGFuZDogYW55O1xuICBtaW51dGVzVmlldzogSFRNTEVsZW1lbnQ7XG4gIGhvdXJzOiBhbnk7XG4gIG1pbnV0ZXM6IGFueTtcbiAgdGltZTogc3RyaW5nO1xuICBhbU9yUG06IGFueTtcbiAgc3RhdGljIF90ZW1wbGF0ZTogYW55O1xuICBpc09wZW46IGJvb2xlYW47XG4gIHZpYnJhdGU6IHN0cmluZztcbiAgX2NhbnZhczogSFRNTEVsZW1lbnQ7XG4gIGhvdXJzVmlldzogYW55O1xuICBzcGFuQW1QbTogSFRNTFNwYW5FbGVtZW50O1xuICBmb290ZXI6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIF9hbUJ0bjogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgX3BtQnRuOiBIVE1MRWxlbWVudDtcbiAgYmc6IEVsZW1lbnQ7XG4gIGJlYXJpbmc6IEVsZW1lbnQ7XG4gIGc6IEVsZW1lbnQ7XG4gIHRvZ2dsZVZpZXdUaW1lcjogc3RyaW5nIHwgbnVtYmVyIHwgTm9kZUpTLlRpbWVvdXQ7XG4gIGNhbnZhczogYW55O1xuICB2aWJyYXRlVGltZXI6IGFueTtcblxuICBjb25zdHJ1Y3RvcihlbCwgb3B0aW9ucykge1xuICAgIHN1cGVyKFRpbWVwaWNrZXIsIGVsLCBvcHRpb25zKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fVGltZXBpY2tlciA9IHRoaXM7XG4gICAgdGhpcy5vcHRpb25zID0gey4uLlRpbWVwaWNrZXIuZGVmYXVsdHMsIC4uLm9wdGlvbnN9O1xuICAgIHRoaXMuaWQgPSBNLmd1aWQoKTtcbiAgICB0aGlzLl9pbnNlcnRIVE1MSW50b0RPTSgpO1xuICAgIHRoaXMuX3NldHVwTW9kYWwoKTtcbiAgICB0aGlzLl9zZXR1cFZhcmlhYmxlcygpO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMuX2Nsb2NrU2V0dXAoKTtcbiAgICB0aGlzLl9waWNrZXJTZXR1cCgpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgc3RhdGljIGluaXQoZWxzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQodGhpcywgZWxzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyBfYWRkTGVhZGluZ1plcm8obnVtKSB7XG4gICAgcmV0dXJuIChudW0gPCAxMCA/ICcwJyA6ICcnKSArIG51bTtcbiAgfVxuXG4gIHN0YXRpYyBfY3JlYXRlU1ZHRWwobmFtZSkge1xuICAgIGxldCBzdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgbmFtZSk7XG4gIH1cblxuICBzdGF0aWMgX1BvcyhlKTogUG9pbnQge1xuICAgIGlmIChlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICByZXR1cm4geyB4OiBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WCwgeTogZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFkgfTtcbiAgICB9XG4gICAgLy8gbW91c2UgZXZlbnRcbiAgICByZXR1cm4geyB4OiBlLmNsaWVudFgsIHk6IGUuY2xpZW50WSB9O1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgY29uc3QgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICByZXR1cm4gZG9tRWxlbS5NX1RpbWVwaWNrZXI7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLm1vZGFsLmRlc3Ryb3koKTtcbiAgICB0aGlzLm1vZGFsRWwucmVtb3ZlKCk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1RpbWVwaWNrZXIgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd24pO1xuICAgIHRoaXMucGxhdGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2xvY2tDbGlja1N0YXJ0KTtcbiAgICB0aGlzLnBsYXRlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9oYW5kbGVDbG9ja0NsaWNrU3RhcnQpO1xuICAgIHRoaXMuZGlnaXRhbENsb2NrLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faW5wdXRGcm9tVGV4dEZpZWxkKTtcbiAgICB0aGlzLmlucHV0SG91cnMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnNob3dWaWV3KCdob3VycycpKTtcbiAgICB0aGlzLmlucHV0TWludXRlcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuc2hvd1ZpZXcoJ21pbnV0ZXMnKSk7XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljayk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duKTtcbiAgfVxuXG4gIF9oYW5kbGVJbnB1dENsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMub3BlbigpO1xuICB9XG5cbiAgX2hhbmRsZUlucHV0S2V5ZG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKE0ua2V5cy5FTlRFUi5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVUaW1lSW5wdXRFbnRlcktleSA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKE0ua2V5cy5FTlRFUi5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2lucHV0RnJvbVRleHRGaWVsZCgpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVDbG9ja0NsaWNrU3RhcnQgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBsZXQgY2xvY2tQbGF0ZUJSID0gdGhpcy5wbGF0ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgb2Zmc2V0ID0geyB4OiBjbG9ja1BsYXRlQlIubGVmdCwgeTogY2xvY2tQbGF0ZUJSLnRvcCB9O1xuXG4gICAgdGhpcy54MCA9IG9mZnNldC54ICsgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXM7XG4gICAgdGhpcy55MCA9IG9mZnNldC55ICsgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXM7XG4gICAgdGhpcy5tb3ZlZCA9IGZhbHNlO1xuICAgIGxldCBjbGlja1BvcyA9IFRpbWVwaWNrZXIuX1BvcyhlKTtcbiAgICB0aGlzLmR4ID0gY2xpY2tQb3MueCAtIHRoaXMueDA7XG4gICAgdGhpcy5keSA9IGNsaWNrUG9zLnkgLSB0aGlzLnkwO1xuXG4gICAgLy8gU2V0IGNsb2NrIGhhbmRzXG4gICAgdGhpcy5zZXRIYW5kKHRoaXMuZHgsIHRoaXMuZHksIGZhbHNlKTtcbiAgICAvLyBNb3VzZW1vdmUgb24gZG9jdW1lbnRcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrTW92ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja01vdmUpO1xuICAgIC8vIE1vdXNldXAgb24gZG9jdW1lbnRcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0VuZCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrRW5kKTtcbiAgfVxuXG4gIF9oYW5kbGVEb2N1bWVudENsaWNrTW92ZSA9IChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxldCBjbGlja1BvcyA9IFRpbWVwaWNrZXIuX1BvcyhlKTtcbiAgICBsZXQgeCA9IGNsaWNrUG9zLnggLSB0aGlzLngwO1xuICAgIGxldCB5ID0gY2xpY2tQb3MueSAtIHRoaXMueTA7XG4gICAgdGhpcy5tb3ZlZCA9IHRydWU7XG4gICAgdGhpcy5zZXRIYW5kKHgsIHksIGZhbHNlKTtcbiAgfVxuXG4gIF9oYW5kbGVEb2N1bWVudENsaWNrRW5kID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tFbmQpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0VuZCk7XG4gICAgbGV0IGNsaWNrUG9zID0gVGltZXBpY2tlci5fUG9zKGUpO1xuICAgIGxldCB4ID0gY2xpY2tQb3MueCAtIHRoaXMueDA7XG4gICAgbGV0IHkgPSBjbGlja1Bvcy55IC0gdGhpcy55MDtcbiAgICBpZiAodGhpcy5tb3ZlZCAmJiB4ID09PSB0aGlzLmR4ICYmIHkgPT09IHRoaXMuZHkpIHtcbiAgICAgIHRoaXMuc2V0SGFuZCh4LCB5KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3VycmVudFZpZXcgPT09ICdob3VycycpIHtcbiAgICAgIHRoaXMuc2hvd1ZpZXcoJ21pbnV0ZXMnLCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gLyAyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLmF1dG9DbG9zZSkge1xuICAgICAgdGhpcy5taW51dGVzVmlldy5jbGFzc0xpc3QuYWRkKCd0aW1lcGlja2VyLWRpYWwtb3V0Jyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5kb25lKCk7XG4gICAgICB9LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gLyAyKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TZWxlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vblNlbGVjdC5jYWxsKHRoaXMsIHRoaXMuaG91cnMsIHRoaXMubWludXRlcyk7XG4gICAgfVxuICAgIC8vIFVuYmluZCBtb3VzZW1vdmUgZXZlbnRcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrTW92ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja01vdmUpO1xuICB9XG5cbiAgX2luc2VydEhUTUxJbnRvRE9NKCkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBUaW1lcGlja2VyLl90ZW1wbGF0ZS50cmltKCk7XG4gICAgdGhpcy5tb2RhbEVsID0gPEhUTUxFbGVtZW50PnRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICB0aGlzLm1vZGFsRWwuaWQgPSAnbW9kYWwtJyArIHRoaXMuaWQ7XG5cbiAgICAvLyBBcHBlbmQgcG9wb3ZlciB0byBpbnB1dCBieSBkZWZhdWx0XG4gICAgY29uc3Qgb3B0RWwgPSB0aGlzLm9wdGlvbnMuY29udGFpbmVyO1xuICAgIGNvbnN0IGNvbnRhaW5lckVsID0gb3B0RWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IG9wdEVsIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRFbCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRhaW5lciAmJiAhIWNvbnRhaW5lckVsKSB7XG4gICAgICBjb250YWluZXJFbC5hcHBlbmQodGhpcy5tb2RhbEVsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmVsLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbEVsKTtcbiAgICB9XG4gIH1cblxuICBfc2V0dXBNb2RhbCgpIHtcbiAgICB0aGlzLm1vZGFsID0gTS5Nb2RhbC5pbml0KHRoaXMubW9kYWxFbCwge1xuICAgICAgb25PcGVuU3RhcnQ6IHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCxcbiAgICAgIG9uT3BlbkVuZDogdGhpcy5vcHRpb25zLm9uT3BlbkVuZCxcbiAgICAgIG9uQ2xvc2VTdGFydDogdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCxcbiAgICAgIG9uQ2xvc2VFbmQ6ICgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9zZXR1cFZhcmlhYmxlcygpIHtcbiAgICB0aGlzLmN1cnJlbnRWaWV3ID0gJ2hvdXJzJztcbiAgICB0aGlzLnZpYnJhdGUgPSBuYXZpZ2F0b3IudmlicmF0ZVxuICAgICAgPyAndmlicmF0ZSdcbiAgICAgIDogKG5hdmlnYXRvciBhcyBhbnkpLndlYmtpdFZpYnJhdGVcbiAgICAgID8gJ3dlYmtpdFZpYnJhdGUnXG4gICAgICA6IG51bGw7XG4gICAgdGhpcy5fY2FudmFzID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLWNhbnZhcycpO1xuICAgIHRoaXMucGxhdGUgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItcGxhdGUnKTtcbiAgICB0aGlzLmRpZ2l0YWxDbG9jayA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1kaXNwbGF5LWNvbHVtbicpO1xuICAgIHRoaXMuaG91cnNWaWV3ID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLWhvdXJzJyk7XG4gICAgdGhpcy5taW51dGVzVmlldyA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1taW51dGVzJyk7XG4gICAgdGhpcy5pbnB1dEhvdXJzID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLWlucHV0LWhvdXJzJyk7XG4gICAgdGhpcy5pbnB1dE1pbnV0ZXMgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItaW5wdXQtbWludXRlcycpO1xuICAgIHRoaXMuc3BhbkFtUG0gPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItc3Bhbi1hbS1wbScpO1xuICAgIHRoaXMuZm9vdGVyID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLWZvb3RlcicpO1xuICAgIHRoaXMuYW1PclBtID0gJ1BNJztcbiAgfVxuXG4gIHByaXZhdGUgX2NyZWF0ZUJ1dHRvbih0ZXh0OiBzdHJpbmcsIHZpc2liaWxpdHk6IHN0cmluZyk6IEhUTUxCdXR0b25FbGVtZW50IHtcbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYnRuLWZsYXQnLCAnd2F2ZXMtZWZmZWN0Jyk7XG4gICAgYnV0dG9uLnN0eWxlLnZpc2liaWxpdHkgPSB2aXNpYmlsaXR5O1xuICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgYnV0dG9uLnRhYkluZGV4ID0gdGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIgPyAzIDogMTtcbiAgICBidXR0b24uaW5uZXJUZXh0ID0gdGV4dDtcbiAgICByZXR1cm4gYnV0dG9uO1xuICB9XG5cbiAgX3BpY2tlclNldHVwKCkge1xuICAgIGNvbnN0IGNsZWFyQnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKHRoaXMub3B0aW9ucy5pMThuLmNsZWFyLCB0aGlzLm9wdGlvbnMuc2hvd0NsZWFyQnRuID8gJycgOiAnaGlkZGVuJyk7XG4gICAgY2xlYXJCdXR0b24uY2xhc3NMaXN0LmFkZCgndGltZXBpY2tlci1jbGVhcicpO1xuICAgIGNsZWFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGVhcik7XG4gICAgdGhpcy5mb290ZXIuYXBwZW5kQ2hpbGQoY2xlYXJCdXR0b24pO1xuXG4gICAgY29uc3QgY29uZmlybWF0aW9uQnRuc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbmZpcm1hdGlvbkJ0bnNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29uZmlybWF0aW9uLWJ0bnMnKTtcbiAgICB0aGlzLmZvb3Rlci5hcHBlbmQoY29uZmlybWF0aW9uQnRuc0NvbnRhaW5lcik7XG5cbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24odGhpcy5vcHRpb25zLmkxOG4uY2FuY2VsLCAnJyk7XG4gICAgY2FuY2VsQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItY2xvc2UnKTtcbiAgICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTtcbiAgICBjb25maXJtYXRpb25CdG5zQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhbmNlbEJ1dHRvbik7XG5cbiAgICBjb25zdCBkb25lQnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKHRoaXMub3B0aW9ucy5pMThuLmRvbmUsICcnKTtcbiAgICBkb25lQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItY2xvc2UnKTtcbiAgICBkb25lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5kb25lKTtcbiAgICBjb25maXJtYXRpb25CdG5zQ29udGFpbmVyLmFwcGVuZENoaWxkKGRvbmVCdXR0b24pO1xuICB9XG5cbiAgX2Nsb2NrU2V0dXAoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICAvLyBBTSBCdXR0b25cbiAgICAgIHRoaXMuX2FtQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLl9hbUJ0bi5jbGFzc0xpc3QuYWRkKCdhbS1idG4nKTtcbiAgICAgIHRoaXMuX2FtQnRuLmlubmVyVGV4dCA9ICdBTSc7XG4gICAgICB0aGlzLl9hbUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUFtUG1DbGljayk7XG4gICAgICB0aGlzLnNwYW5BbVBtLmFwcGVuZENoaWxkKHRoaXMuX2FtQnRuKTtcbiAgICAgIC8vIFBNIEJ1dHRvblxuICAgICAgdGhpcy5fcG1CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMuX3BtQnRuLmNsYXNzTGlzdC5hZGQoJ3BtLWJ0bicpO1xuICAgICAgdGhpcy5fcG1CdG4uaW5uZXJUZXh0ID0gJ1BNJztcbiAgICAgIHRoaXMuX3BtQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQW1QbUNsaWNrKTtcbiAgICAgIHRoaXMuc3BhbkFtUG0uYXBwZW5kQ2hpbGQodGhpcy5fcG1CdG4pO1xuICAgIH1cbiAgICB0aGlzLl9idWlsZEhvdXJzVmlldygpO1xuICAgIHRoaXMuX2J1aWxkTWludXRlc1ZpZXcoKTtcbiAgICB0aGlzLl9idWlsZFNWR0Nsb2NrKCk7XG4gIH1cblxuICBfYnVpbGRTVkdDbG9jaygpIHtcbiAgICAvLyBEcmF3IGNsb2NrIGhhbmRzIGFuZCBvdGhlcnNcbiAgICBsZXQgZGlhbFJhZGl1cyA9IHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzO1xuICAgIGxldCB0aWNrUmFkaXVzID0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXM7XG4gICAgbGV0IGRpYW1ldGVyID0gZGlhbFJhZGl1cyAqIDI7XG4gICAgbGV0IHN2ZyA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdzdmcnKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlKCdjbGFzcycsICd0aW1lcGlja2VyLXN2ZycpO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgZGlhbWV0ZXIudG9TdHJpbmcoKSk7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgZGlhbWV0ZXIudG9TdHJpbmcoKSk7XG4gICAgbGV0IGcgPSBUaW1lcGlja2VyLl9jcmVhdGVTVkdFbCgnZycpO1xuICAgIGcuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBkaWFsUmFkaXVzICsgJywnICsgZGlhbFJhZGl1cyArICcpJyk7XG4gICAgbGV0IGJlYXJpbmcgPSBUaW1lcGlja2VyLl9jcmVhdGVTVkdFbCgnY2lyY2xlJyk7XG4gICAgYmVhcmluZy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpbWVwaWNrZXItY2FudmFzLWJlYXJpbmcnKTtcbiAgICBiZWFyaW5nLnNldEF0dHJpYnV0ZSgnY3gnLCAnMCcpO1xuICAgIGJlYXJpbmcuc2V0QXR0cmlidXRlKCdjeScsICcwJyk7XG4gICAgYmVhcmluZy5zZXRBdHRyaWJ1dGUoJ3InLCAnNCcpO1xuICAgIGxldCBoYW5kID0gVGltZXBpY2tlci5fY3JlYXRlU1ZHRWwoJ2xpbmUnKTtcbiAgICBoYW5kLnNldEF0dHJpYnV0ZSgneDEnLCAnMCcpO1xuICAgIGhhbmQuc2V0QXR0cmlidXRlKCd5MScsICcwJyk7XG4gICAgbGV0IGJnID0gVGltZXBpY2tlci5fY3JlYXRlU1ZHRWwoJ2NpcmNsZScpO1xuICAgIGJnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGltZXBpY2tlci1jYW52YXMtYmcnKTtcbiAgICBiZy5zZXRBdHRyaWJ1dGUoJ3InLCB0aWNrUmFkaXVzKTtcbiAgICBnLmFwcGVuZENoaWxkKGhhbmQpO1xuICAgIGcuYXBwZW5kQ2hpbGQoYmcpO1xuICAgIGcuYXBwZW5kQ2hpbGQoYmVhcmluZyk7XG4gICAgc3ZnLmFwcGVuZENoaWxkKGcpO1xuICAgIHRoaXMuX2NhbnZhcy5hcHBlbmRDaGlsZChzdmcpO1xuICAgIHRoaXMuaGFuZCA9IGhhbmQ7XG4gICAgdGhpcy5iZyA9IGJnO1xuICAgIHRoaXMuYmVhcmluZyA9IGJlYXJpbmc7XG4gICAgdGhpcy5nID0gZztcbiAgfVxuXG4gIF9idWlsZEhvdXJzVmlldygpIHtcbiAgICBjb25zdCAkdGljayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICR0aWNrLmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItdGljaycpO1xuICAgIC8vIEhvdXJzIHZpZXdcbiAgICBpZiAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIpIHtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTM7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCB0aWNrID0gPEhUTUxFbGVtZW50PiR0aWNrLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgY29uc3QgcmFkaWFuID0gKGkgLyA2KSAqIE1hdGguUEk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cztcbiAgICAgICAgdGljay5zdHlsZS5sZWZ0ID0gdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgKyBNYXRoLnNpbihyYWRpYW4pICogcmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMgKyAncHgnO1xuICAgICAgICB0aWNrLnN0eWxlLnRvcCA9IHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzIC0gTWF0aC5jb3MocmFkaWFuKSAqIHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICsgJ3B4JztcbiAgICAgICAgdGljay5pbm5lckhUTUwgPSBpID09PSAwID8gJzAwJyA6IGkudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5ob3Vyc1ZpZXcuYXBwZW5kQ2hpbGQodGljayk7XG4gICAgICAgIC8vIHRpY2sub24obW91c2Vkb3duRXZlbnQsIG1vdXNlZG93bik7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IHRpY2sgPSA8SFRNTEVsZW1lbnQ+JHRpY2suY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICBjb25zdCByYWRpYW4gPSAoaSAvIDYpICogTWF0aC5QSTtcbiAgICAgICAgY29uc3QgaW5uZXIgPSBpID4gMCAmJiBpIDwgMTM7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IGlubmVyID8gdGhpcy5vcHRpb25zLmlubmVyUmFkaXVzIDogdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzO1xuICAgICAgICB0aWNrLnN0eWxlLmxlZnQgPSB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyArIE1hdGguc2luKHJhZGlhbikgKiByYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArICdweCc7XG4gICAgICAgIHRpY2suc3R5bGUudG9wID0gdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgLSBNYXRoLmNvcyhyYWRpYW4pICogcmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMgKyAncHgnO1xuICAgICAgICB0aWNrLmlubmVySFRNTCA9IGkgPT09IDAgPyAnMDAnIDogaS50b1N0cmluZygpO1xuICAgICAgICB0aGlzLmhvdXJzVmlldy5hcHBlbmRDaGlsZCh0aWNrKTtcbiAgICAgICAgLy8gdGljay5vbihtb3VzZWRvd25FdmVudCwgbW91c2Vkb3duKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfYnVpbGRNaW51dGVzVmlldygpIHtcbiAgICBjb25zdCBfdGljayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIF90aWNrLmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItdGljaycpO1xuICAgIC8vIE1pbnV0ZXMgdmlld1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjA7IGkgKz0gNSkge1xuICAgICAgY29uc3QgdGljayA9IDxIVE1MRWxlbWVudD5fdGljay5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBjb25zdCByYWRpYW4gPSAoaSAvIDMwKSAqIE1hdGguUEk7XG4gICAgICB0aWNrLnN0eWxlLmxlZnQgPVxuICAgICAgICB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyArXG4gICAgICAgIE1hdGguc2luKHJhZGlhbikgKiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgLVxuICAgICAgICB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArXG4gICAgICAgICdweCc7XG4gICAgICB0aWNrLnN0eWxlLnRvcCA9XG4gICAgICAgICAgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgLVxuICAgICAgICAgIE1hdGguY29zKHJhZGlhbikgKiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgLVxuICAgICAgICAgIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICtcbiAgICAgICAgICAncHgnO1xuICAgICAgdGljay5pbm5lckhUTUwgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyhpKTtcbiAgICAgIHRoaXMubWludXRlc1ZpZXcuYXBwZW5kQ2hpbGQodGljayk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUFtUG1DbGljayA9IChlKSA9PiB7XG4gICAgY29uc3QgYnRuQ2xpY2tlZCA9IDxIVE1MRWxlbWVudD5lLnRhcmdldDtcbiAgICB0aGlzLmFtT3JQbSA9IGJ0bkNsaWNrZWQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbS1idG4nKSA/ICdBTScgOiAnUE0nO1xuICAgIHRoaXMuX3VwZGF0ZUFtUG1WaWV3KCk7XG4gIH1cblxuICBfdXBkYXRlQW1QbVZpZXcoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICBpZiAodGhpcy5hbU9yUG0gPT09ICdQTScpIHtcbiAgICAgICAgdGhpcy5fYW1CdG4uY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1wcmltYXJ5Jyk7XG4gICAgICAgIHRoaXMuX3BtQnRuLmNsYXNzTGlzdC5hZGQoJ3RleHQtcHJpbWFyeScpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5hbU9yUG0gPT09ICdBTScpIHtcbiAgICAgICAgdGhpcy5fYW1CdG4uY2xhc3NMaXN0LmFkZCgndGV4dC1wcmltYXJ5Jyk7XG4gICAgICAgIHRoaXMuX3BtQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtcHJpbWFyeScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF91cGRhdGVUaW1lRnJvbUlucHV0KCkge1xuICAgIC8vIEdldCB0aGUgdGltZVxuICAgIGxldCB2YWx1ZSA9ICgodGhpcy5lbC52YWx1ZSB8fCB0aGlzLm9wdGlvbnMuZGVmYXVsdFRpbWUgfHwgJycpICsgJycpLnNwbGl0KCc6Jyk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyICYmICEodHlwZW9mIHZhbHVlWzFdID09PSAndW5kZWZpbmVkJykpIHtcbiAgICAgIGlmICh2YWx1ZVsxXS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ0FNJykgPiAwKSB7XG4gICAgICAgIHRoaXMuYW1PclBtID0gJ0FNJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYW1PclBtID0gJ1BNJztcbiAgICAgIH1cbiAgICAgIHZhbHVlWzFdID0gdmFsdWVbMV0ucmVwbGFjZSgnQU0nLCAnJykucmVwbGFjZSgnUE0nLCAnJyk7XG4gICAgfVxuICAgIGlmICh2YWx1ZVswXSA9PT0gJ25vdycpIHtcbiAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgrbmV3IERhdGUoKSArIHRoaXMub3B0aW9ucy5mcm9tTm93KTtcbiAgICAgIHZhbHVlID0gW25vdy5nZXRIb3VycygpLnRvU3RyaW5nKCksIG5vdy5nZXRNaW51dGVzKCkudG9TdHJpbmcoKV07XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIpIHtcbiAgICAgICAgdGhpcy5hbU9yUG0gPSBwYXJzZUludCh2YWx1ZVswXSkgPj0gMTIgJiYgcGFyc2VJbnQodmFsdWVbMF0pIDwgMjQgPyAnUE0nIDogJ0FNJztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5ob3VycyA9ICt2YWx1ZVswXSB8fCAwO1xuICAgIHRoaXMubWludXRlcyA9ICt2YWx1ZVsxXSB8fCAwO1xuICAgIHRoaXMuaW5wdXRIb3Vycy52YWx1ZSA9IHRoaXMuaG91cnM7XG4gICAgdGhpcy5pbnB1dE1pbnV0ZXMudmFsdWUgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyh0aGlzLm1pbnV0ZXMpO1xuXG4gICAgdGhpcy5fdXBkYXRlQW1QbVZpZXcoKTtcbiAgfVxuXG4gIHNob3dWaWV3ID0gKHZpZXcsIGRlbGF5OiBudW1iZXIgPSBudWxsKSA9PiB7XG4gICAgaWYgKHZpZXcgPT09ICdtaW51dGVzJyAmJiBnZXRDb21wdXRlZFN0eWxlKHRoaXMuaG91cnNWaWV3KS52aXNpYmlsaXR5ID09PSAndmlzaWJsZScpIHtcbiAgICAgIC8vIHJhaXNlQ2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZUhvdXJTZWxlY3QpO1xuICAgIH1cbiAgICBsZXQgaXNIb3VycyA9IHZpZXcgPT09ICdob3VycycsXG4gICAgICBuZXh0VmlldyA9IGlzSG91cnMgPyB0aGlzLmhvdXJzVmlldyA6IHRoaXMubWludXRlc1ZpZXcsXG4gICAgICBoaWRlVmlldyA9IGlzSG91cnMgPyB0aGlzLm1pbnV0ZXNWaWV3IDogdGhpcy5ob3Vyc1ZpZXc7XG4gICAgdGhpcy5jdXJyZW50VmlldyA9IHZpZXc7XG5cbiAgICBpZiAoaXNIb3Vycykge1xuICAgICAgdGhpcy5pbnB1dEhvdXJzLmNsYXNzTGlzdC5hZGQoJ3RleHQtcHJpbWFyeScpO1xuICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1wcmltYXJ5Jyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5pbnB1dEhvdXJzLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtcHJpbWFyeScpO1xuICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMuY2xhc3NMaXN0LmFkZCgndGV4dC1wcmltYXJ5Jyk7XG4gICAgfVxuXG4gICAgLy8gVHJhbnNpdGlvbiB2aWV3XG4gICAgaGlkZVZpZXcuY2xhc3NMaXN0LmFkZCgndGltZXBpY2tlci1kaWFsLW91dCcpO1xuXG4gICAgbmV4dFZpZXcuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICBuZXh0Vmlldy5jbGFzc0xpc3QucmVtb3ZlKCd0aW1lcGlja2VyLWRpYWwtb3V0Jyk7XG5cbiAgICAvLyBSZXNldCBjbG9jayBoYW5kXG4gICAgdGhpcy5yZXNldENsb2NrKGRlbGF5KTtcbiAgICAvLyBBZnRlciB0cmFuc2l0aW9ucyBlbmRlZFxuICAgIGNsZWFyVGltZW91dCh0aGlzLnRvZ2dsZVZpZXdUaW1lcik7XG4gICAgdGhpcy50b2dnbGVWaWV3VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGhpZGVWaWV3LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICB9LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuICB9XG5cbiAgcmVzZXRDbG9jayhkZWxheSkge1xuICAgIGxldCB2aWV3ID0gdGhpcy5jdXJyZW50VmlldyxcbiAgICAgIHZhbHVlID0gdGhpc1t2aWV3XSxcbiAgICAgIGlzSG91cnMgPSB2aWV3ID09PSAnaG91cnMnLFxuICAgICAgdW5pdCA9IE1hdGguUEkgLyAoaXNIb3VycyA/IDYgOiAzMCksXG4gICAgICByYWRpYW4gPSB2YWx1ZSAqIHVuaXQsXG4gICAgICByYWRpdXMgPVxuICAgICAgICBpc0hvdXJzICYmIHZhbHVlID4gMCAmJiB2YWx1ZSA8IDEzID8gdGhpcy5vcHRpb25zLmlubmVyUmFkaXVzIDogdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzLFxuICAgICAgeCA9IE1hdGguc2luKHJhZGlhbikgKiByYWRpdXMsXG4gICAgICB5ID0gLU1hdGguY29zKHJhZGlhbikgKiByYWRpdXMsXG4gICAgICBzZWxmID0gdGhpcztcblxuICAgIGlmIChkZWxheSkge1xuICAgICAgdGhpcy5jYW52YXM/LmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItY2FudmFzLW91dCcpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNlbGYuY2FudmFzPy5jbGFzc0xpc3QucmVtb3ZlKCd0aW1lcGlja2VyLWNhbnZhcy1vdXQnKTtcbiAgICAgICAgc2VsZi5zZXRIYW5kKHgsIHkpO1xuICAgICAgfSwgZGVsYXkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2V0SGFuZCh4LCB5KTtcbiAgICB9XG4gIH1cblxuICBfaW5wdXRGcm9tVGV4dEZpZWxkID0gKCkgPT4ge1xuICAgIGNvbnN0IGlzSG91cnMgPSB0aGlzLmN1cnJlbnRWaWV3ID09PSAnaG91cnMnO1xuICAgIGlmIChpc0hvdXJzKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KHRoaXMuaW5wdXRIb3Vycy52YWx1ZSk7XG4gICAgICBpZiAodmFsdWUgPiAwICYmIHZhbHVlIDwgMTMpIHtcbiAgICAgICAgdGhpcy5kcmF3Q2xvY2tGcm9tVGltZUlucHV0KHZhbHVlLCBpc0hvdXJzKTtcbiAgICAgICAgdGhpcy5zaG93VmlldygnbWludXRlcycsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAvIDIpO1xuICAgICAgICB0aGlzLmhvdXJzID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaW5wdXRNaW51dGVzLmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaG91ciA9IG5ldyBEYXRlKCkuZ2V0SG91cnMoKTtcbiAgICAgICAgdGhpcy5pbnB1dEhvdXJzLnZhbHVlID0gKGhvdXIgJSAxMikudG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KHRoaXMuaW5wdXRNaW51dGVzLnZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA+PSAwICYmIHZhbHVlIDwgNjApIHtcbiAgICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMudmFsdWUgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyh2YWx1ZSk7XG4gICAgICAgIHRoaXMuZHJhd0Nsb2NrRnJvbVRpbWVJbnB1dCh2YWx1ZSwgaXNIb3Vycyk7XG4gICAgICAgIHRoaXMubWludXRlcyA9IHZhbHVlO1xuICAgICAgICAoPEhUTUxFbGVtZW50PnRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcuY29uZmlybWF0aW9uLWJ0bnMgOm50aC1jaGlsZCgyKScpKS5mb2N1cygpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBuZXcgRGF0ZSgpLmdldE1pbnV0ZXMoKTtcbiAgICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMudmFsdWUgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyhtaW51dGVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkcmF3Q2xvY2tGcm9tVGltZUlucHV0KHZhbHVlLCBpc0hvdXJzKSB7XG4gICAgY29uc3QgdW5pdCA9IE1hdGguUEkgLyAoaXNIb3VycyA/IDYgOiAzMCk7XG4gICAgY29uc3QgcmFkaWFuID0gdmFsdWUgKiB1bml0O1xuICAgIGxldCByYWRpdXM7XG4gICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICByYWRpdXMgPSB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XG4gICAgfVxuICAgIGxldCBjeDEgPSBNYXRoLnNpbihyYWRpYW4pICogKHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzKSxcbiAgICAgIGN5MSA9IC1NYXRoLmNvcyhyYWRpYW4pICogKHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzKSxcbiAgICAgIGN4MiA9IE1hdGguc2luKHJhZGlhbikgKiByYWRpdXMsXG4gICAgICBjeTIgPSAtTWF0aC5jb3MocmFkaWFuKSAqIHJhZGl1cztcbiAgICB0aGlzLmhhbmQuc2V0QXR0cmlidXRlKCd4MicsIGN4MS50b1N0cmluZygpKTtcbiAgICB0aGlzLmhhbmQuc2V0QXR0cmlidXRlKCd5MicsIGN5MS50b1N0cmluZygpKTtcbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgnY3gnLCBjeDIudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGUoJ2N5JywgY3kyLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgc2V0SGFuZCh4LCB5LCByb3VuZEJ5NTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgbGV0IHJhZGlhbiA9IE1hdGguYXRhbjIoeCwgLXkpLFxuICAgICAgaXNIb3VycyA9IHRoaXMuY3VycmVudFZpZXcgPT09ICdob3VycycsXG4gICAgICB1bml0ID0gTWF0aC5QSSAvIChpc0hvdXJzIHx8IHJvdW5kQnk1ID8gNiA6IDMwKSxcbiAgICAgIHogPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSksXG4gICAgICBpbm5lciA9IGlzSG91cnMgJiYgeiA8ICh0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgKyB0aGlzLm9wdGlvbnMuaW5uZXJSYWRpdXMpIC8gMixcbiAgICAgIHJhZGl1cyA9IGlubmVyID8gdGhpcy5vcHRpb25zLmlubmVyUmFkaXVzIDogdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICByYWRpdXMgPSB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XG4gICAgfVxuXG4gICAgLy8gUmFkaWFuIHNob3VsZCBpbiByYW5nZSBbMCwgMlBJXVxuICAgIGlmIChyYWRpYW4gPCAwKSB7XG4gICAgICByYWRpYW4gPSBNYXRoLlBJICogMiArIHJhZGlhbjtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIHJvdW5kIHZhbHVlXG4gICAgbGV0IHZhbHVlID0gTWF0aC5yb3VuZChyYWRpYW4gLyB1bml0KTtcblxuICAgIC8vIEdldCB0aGUgcm91bmQgcmFkaWFuXG4gICAgcmFkaWFuID0gdmFsdWUgKiB1bml0O1xuXG4gICAgLy8gQ29ycmVjdCB0aGUgaG91cnMgb3IgbWludXRlc1xuICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgaWYgKGlzSG91cnMpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSAwKSB2YWx1ZSA9IDEyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJvdW5kQnk1KSB2YWx1ZSAqPSA1O1xuICAgICAgICBpZiAodmFsdWUgPT09IDYwKSB2YWx1ZSA9IDA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc0hvdXJzKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gMTIpIHtcbiAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSBpbm5lciA/ICh2YWx1ZSA9PT0gMCA/IDEyIDogdmFsdWUpIDogdmFsdWUgPT09IDAgPyAwIDogdmFsdWUgKyAxMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyb3VuZEJ5NSkge1xuICAgICAgICAgIHZhbHVlICo9IDU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09PSA2MCkge1xuICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9uY2UgaG91cnMgb3IgbWludXRlcyBjaGFuZ2VkLCB2aWJyYXRlIHRoZSBkZXZpY2VcbiAgICBpZiAodGhpc1t0aGlzLmN1cnJlbnRWaWV3XSAhPT0gdmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLnZpYnJhdGUgJiYgdGhpcy5vcHRpb25zLnZpYnJhdGUpIHtcbiAgICAgICAgLy8gRG8gbm90IHZpYnJhdGUgdG9vIGZyZXF1ZW50bHlcbiAgICAgICAgaWYgKCF0aGlzLnZpYnJhdGVUaW1lcikge1xuICAgICAgICAgIG5hdmlnYXRvclt0aGlzLnZpYnJhdGVdKDEwKTtcbiAgICAgICAgICB0aGlzLnZpYnJhdGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWJyYXRlVGltZXIgPSBudWxsO1xuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzW3RoaXMuY3VycmVudFZpZXddID0gdmFsdWU7XG4gICAgaWYgKGlzSG91cnMpIHtcbiAgICAgIHRoaXMuaW5wdXRIb3Vycy52YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMudmFsdWUgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gU2V0IGNsb2NrIGhhbmQgYW5kIG90aGVycycgcG9zaXRpb25cbiAgICBsZXQgY3gxID0gTWF0aC5zaW4ocmFkaWFuKSAqIChyYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyksXG4gICAgICBjeTEgPSAtTWF0aC5jb3MocmFkaWFuKSAqIChyYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyksXG4gICAgICBjeDIgPSBNYXRoLnNpbihyYWRpYW4pICogcmFkaXVzLFxuICAgICAgY3kyID0gLU1hdGguY29zKHJhZGlhbikgKiByYWRpdXM7XG4gICAgdGhpcy5oYW5kLnNldEF0dHJpYnV0ZSgneDInLCBjeDEudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5oYW5kLnNldEF0dHJpYnV0ZSgneTInLCBjeTEudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGUoJ2N4JywgY3gyLnRvU3RyaW5nKCkpO1xuICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCdjeScsIGN5Mi50b1N0cmluZygpKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgaWYgKHRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgIHRoaXMuX3VwZGF0ZVRpbWVGcm9tSW5wdXQoKTtcbiAgICB0aGlzLnNob3dWaWV3KCdob3VycycpO1xuICAgIHRoaXMubW9kYWwub3Blbih1bmRlZmluZWQpO1xuICB9XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5tb2RhbC5jbG9zZSgpO1xuICB9XG5cbiAgZG9uZSA9IChlID0gbnVsbCwgY2xlYXJWYWx1ZSA9IG51bGwpID0+IHtcbiAgICAvLyBTZXQgaW5wdXQgdmFsdWVcbiAgICBsZXQgbGFzdCA9IHRoaXMuZWwudmFsdWU7XG4gICAgbGV0IHZhbHVlID0gY2xlYXJWYWx1ZVxuICAgICAgPyAnJ1xuICAgICAgOiBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyh0aGlzLmhvdXJzKSArICc6JyArIFRpbWVwaWNrZXIuX2FkZExlYWRpbmdaZXJvKHRoaXMubWludXRlcyk7XG4gICAgdGhpcy50aW1lID0gdmFsdWU7XG4gICAgaWYgKCFjbGVhclZhbHVlICYmIHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICB2YWx1ZSA9IGAke3ZhbHVlfSAke3RoaXMuYW1PclBtfWA7XG4gICAgfVxuICAgIHRoaXMuZWwudmFsdWUgPSB2YWx1ZTtcbiAgICAvLyBUcmlnZ2VyIGNoYW5nZSBldmVudFxuICAgIGlmICh2YWx1ZSAhPT0gbGFzdCkge1xuICAgICAgdGhpcy5lbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpO1xuICAgIH1cbiAgICB0aGlzLmNsb3NlKCk7XG4gICAgdGhpcy5lbC5mb2N1cygpO1xuICB9XG5cbiAgY2xlYXIgPSAoKSA9PiB7XG4gICAgdGhpcy5kb25lKG51bGwsIHRydWUpO1xuICB9XG5cbiAgc3RhdGljIHtcbiAgICBUaW1lcGlja2VyLl90ZW1wbGF0ZSA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbCB0aW1lcGlja2VyLW1vZGFsXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50IHRpbWVwaWNrZXItY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItZGlnaXRhbC1kaXNwbGF5XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci10ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaXNwbGF5LWNvbHVtblwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG1heGxlbmd0aD1cIjJcIiBhdXRvZm9jdXMgY2xhc3M9XCJ0aW1lcGlja2VyLWlucHV0LWhvdXJzIHRleHQtcHJpbWFyeVwiIC8+XG4gICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG1heGxlbmd0aD1cIjJcIiBjbGFzcz1cInRpbWVwaWNrZXItaW5wdXQtbWludXRlc1wiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaXNwbGF5LWNvbHVtbiB0aW1lcGlja2VyLWRpc3BsYXktYW0tcG1cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1zcGFuLWFtLXBtXCI+PC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItYW5hbG9nLWRpc3BsYXlcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLXBsYXRlXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWNhbnZhc1wiPjwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaWFsIHRpbWVwaWNrZXItaG91cnNcIj48L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItZGlhbCB0aW1lcGlja2VyLW1pbnV0ZXMgdGltZXBpY2tlci1kaWFsLW91dFwiPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1mb290ZXJcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2RpdmA7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/timepicker.ts\n");

/***/ }),

/***/ "./src/toasts.ts":
/*!***********************!*\
  !*** ./src/toasts.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Toast = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nlet _defaults = {\n    text: '',\n    displayLength: 4000,\n    inDuration: 300,\n    outDuration: 375,\n    classes: '',\n    completeCallback: null,\n    activationPercent: 0.8\n};\nclass Toast {\n    constructor(options) {\n        this.options = Object.assign(Object.assign({}, Toast.defaults), options);\n        //this.htmlMessage = this.options.html;\n        // Warn when using html\n        // if (!!this.options.html)\n        //   console.warn(\n        //     'The html option is deprecated and will be removed in the future. See https://github.com/materializecss/materialize/pull/49'\n        //   );\n        // If the new unsafeHTML is used, prefer that\n        // if (!!this.options.unsafeHTML) {\n        //   this.htmlMessage = this.options.unsafeHTML;\n        // }\n        this.message = this.options.text;\n        this.panning = false;\n        this.timeRemaining = this.options.displayLength;\n        if (Toast._toasts.length === 0) {\n            Toast._createContainer();\n        }\n        // Create new toast\n        Toast._toasts.push(this);\n        let toastElement = this._createToast();\n        toastElement.M_Toast = this;\n        this.el = toastElement;\n        this._animateIn();\n        this._setTimer();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static getInstance(el) {\n        let domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Toast;\n    }\n    static _createContainer() {\n        const container = document.createElement('div');\n        container.setAttribute('id', 'toast-container');\n        // Add event handler\n        container.addEventListener('touchstart', Toast._onDragStart);\n        container.addEventListener('touchmove', Toast._onDragMove);\n        container.addEventListener('touchend', Toast._onDragEnd);\n        container.addEventListener('mousedown', Toast._onDragStart);\n        document.addEventListener('mousemove', Toast._onDragMove);\n        document.addEventListener('mouseup', Toast._onDragEnd);\n        document.body.appendChild(container);\n        Toast._container = container;\n    }\n    static _removeContainer() {\n        document.removeEventListener('mousemove', Toast._onDragMove);\n        document.removeEventListener('mouseup', Toast._onDragEnd);\n        Toast._container.remove();\n        Toast._container = null;\n    }\n    static _onDragStart(e) {\n        if (e.target && e.target.closest('.toast')) {\n            const toastElem = e.target.closest('.toast');\n            const toast = toastElem.M_Toast;\n            toast.panning = true;\n            Toast._draggedToast = toast;\n            toast.el.classList.add('panning');\n            toast.el.style.transition = '';\n            toast.startingXPos = Toast._xPos(e);\n            toast.time = Date.now();\n            toast.xPos = Toast._xPos(e);\n        }\n    }\n    static _onDragMove(e) {\n        if (!!Toast._draggedToast) {\n            e.preventDefault();\n            const toast = Toast._draggedToast;\n            toast.deltaX = Math.abs(toast.xPos - Toast._xPos(e));\n            toast.xPos = Toast._xPos(e);\n            toast.velocityX = toast.deltaX / (Date.now() - toast.time);\n            toast.time = Date.now();\n            const totalDeltaX = toast.xPos - toast.startingXPos;\n            const activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\n            toast.el.style.transform = `translateX(${totalDeltaX}px)`;\n            toast.el.style.opacity = (1 - Math.abs(totalDeltaX / activationDistance)).toString();\n        }\n    }\n    static _onDragEnd() {\n        if (!!Toast._draggedToast) {\n            let toast = Toast._draggedToast;\n            toast.panning = false;\n            toast.el.classList.remove('panning');\n            let totalDeltaX = toast.xPos - toast.startingXPos;\n            let activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\n            let shouldBeDismissed = Math.abs(totalDeltaX) > activationDistance || toast.velocityX > 1;\n            // Remove toast\n            if (shouldBeDismissed) {\n                toast.wasSwiped = true;\n                toast.dismiss();\n                // Animate toast back to original position\n            }\n            else {\n                toast.el.style.transition = 'transform .2s, opacity .2s';\n                toast.el.style.transform = '';\n                toast.el.style.opacity = '';\n            }\n            Toast._draggedToast = null;\n        }\n    }\n    static _xPos(e) {\n        if (e.targetTouches && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientX;\n        }\n        // mouse event\n        return e.clientX;\n    }\n    static dismissAll() {\n        for (let toastIndex in Toast._toasts) {\n            Toast._toasts[toastIndex].dismiss();\n        }\n    }\n    _createToast() {\n        const toast = document.createElement('div');\n        toast.classList.add('toast');\n        toast.setAttribute('role', 'alert');\n        toast.setAttribute('aria-live', 'assertive');\n        toast.setAttribute('aria-atomic', 'true');\n        // Add custom classes onto toast\n        if (this.options.classes.length > 0) {\n            toast.classList.add(...this.options.classes.split(' '));\n        }\n        // Set safe text content\n        toast.innerText = this.message;\n        // if (\n        //   typeof HTMLElement === 'object'\n        //     ? this.htmlMessage instanceof HTMLElement\n        //     : this.htmlMessage &&\n        //       typeof this.htmlMessage === 'object' &&\n        //       this.htmlMessage !== null &&\n        //       this.htmlMessage.nodeType === 1 &&\n        //       typeof this.htmlMessage.nodeName === 'string'\n        // ) {\n        //   //if the htmlMessage is an HTML node, append it directly\n        //   toast.appendChild(this.htmlMessage);\n        // }\n        // else if (!!this.htmlMessage.jquery) {\n        //   // Check if it is jQuery object, append the node\n        //   $(toast).append(this.htmlMessage[0]);\n        // }\n        // else {\n        //   // Append as unsanitized html;\n        //   $(toast).append(this.htmlMessage);\n        // }\n        // Append toast\n        Toast._container.appendChild(toast);\n        return toast;\n    }\n    _animateIn() {\n        // Animate toast in\n        (0, animejs_1.default)({\n            targets: this.el,\n            top: 0,\n            opacity: 1,\n            duration: this.options.inDuration,\n            easing: 'easeOutCubic'\n        });\n    }\n    /**\n     * Create setInterval which automatically removes toast when timeRemaining >= 0\n     * has been reached\n     */\n    _setTimer() {\n        if (this.timeRemaining !== Infinity) {\n            this.counterInterval = setInterval(() => {\n                // If toast is not being dragged, decrease its time remaining\n                if (!this.panning) {\n                    this.timeRemaining -= 20;\n                }\n                // Animate toast out\n                if (this.timeRemaining <= 0) {\n                    this.dismiss();\n                }\n            }, 20);\n        }\n    }\n    /**\n     * Dismiss toast with animation\n     */\n    dismiss() {\n        window.clearInterval(this.counterInterval);\n        let activationDistance = this.el.offsetWidth * this.options.activationPercent;\n        if (this.wasSwiped) {\n            this.el.style.transition = 'transform .05s, opacity .05s';\n            this.el.style.transform = `translateX(${activationDistance}px)`;\n            this.el.style.opacity = '0';\n        }\n        (0, animejs_1.default)({\n            targets: this.el,\n            opacity: 0,\n            marginTop: -40,\n            duration: this.options.outDuration,\n            easing: 'easeOutExpo',\n            complete: () => {\n                // Call the optional callback\n                if (typeof this.options.completeCallback === 'function') {\n                    this.options.completeCallback();\n                }\n                // Remove toast from DOM\n                this.el.remove();\n                Toast._toasts.splice(Toast._toasts.indexOf(this), 1);\n                if (Toast._toasts.length === 0) {\n                    Toast._removeContainer();\n                }\n            }\n        });\n    }\n}\nexports.Toast = Toast;\n(() => {\n    Toast._toasts = [];\n    Toast._container = null;\n    Toast._draggedToast = null;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO1lBQ2hFLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7U0FDN0I7UUFFRCxxQkFBSSxFQUFDO1lBQ0gsT0FBTyxFQUFFLElBQUksQ0FBQyxFQUFFO1lBQ2hCLE9BQU8sRUFBRSxDQUFDO1lBQ1YsU0FBUyxFQUFFLENBQUMsRUFBRTtZQUNkLFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVc7WUFDbEMsTUFBTSxFQUFFLGFBQWE7WUFDckIsUUFBUSxFQUFFLEdBQUcsRUFBRTtnQkFDYiw2QkFBNkI7Z0JBQzdCLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixLQUFLLFVBQVUsRUFBRTtvQkFDdkQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO2lCQUNqQztnQkFDRCx3QkFBd0I7Z0JBQ3hCLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ2pCLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNyRCxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtvQkFDOUIsS0FBSyxDQUFDLGdCQUFnQixFQUFFLENBQUM7aUJBQzFCO1lBQ0gsQ0FBQztTQUNGLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FPRjtBQTdQRCxzQkE2UEM7QUFMQztJQUNFLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO0lBQ25CLEtBQUssQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0lBQ3hCLEtBQUssQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO0FBQzdCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvdG9hc3RzLnRzP2Y5NmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxubGV0IF9kZWZhdWx0cyA9IHtcbiAgdGV4dDogJycsXG4gIGRpc3BsYXlMZW5ndGg6IDQwMDAsXG4gIGluRHVyYXRpb246IDMwMCxcbiAgb3V0RHVyYXRpb246IDM3NSxcbiAgY2xhc3NlczogJycsXG4gIGNvbXBsZXRlQ2FsbGJhY2s6IG51bGwsXG4gIGFjdGl2YXRpb25QZXJjZW50OiAwLjhcbn07XG5cbmV4cG9ydCBjbGFzcyBUb2FzdCB7XG4gIHN0YXRpYyBfdG9hc3RzOiBUb2FzdFtdO1xuICBzdGF0aWMgX2NvbnRhaW5lcjogYW55O1xuICBzdGF0aWMgX2RyYWdnZWRUb2FzdDogVG9hc3Q7XG4gIG9wdGlvbnM6IGFueTtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBwYW5uaW5nOiBib29sZWFuO1xuICB0aW1lUmVtYWluaW5nOiBudW1iZXI7XG4gIGVsOiBIVE1MRGl2RWxlbWVudDtcbiAgY291bnRlckludGVydmFsOiBOb2RlSlMuVGltZW91dDtcbiAgd2FzU3dpcGVkOiBhbnk7XG4gIHN0YXJ0aW5nWFBvczogbnVtYmVyO1xuICB4UG9zOiBhbnk7XG4gIHRpbWU6IG51bWJlcjtcbiAgZGVsdGFYOiBudW1iZXI7XG4gIHZlbG9jaXR5WDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IGFueSkge1xuICAgIHRoaXMub3B0aW9ucyA9IHsuLi5Ub2FzdC5kZWZhdWx0cywgLi4ub3B0aW9uc307XG4gICAgLy90aGlzLmh0bWxNZXNzYWdlID0gdGhpcy5vcHRpb25zLmh0bWw7XG4gICAgLy8gV2FybiB3aGVuIHVzaW5nIGh0bWxcbiAgICAvLyBpZiAoISF0aGlzLm9wdGlvbnMuaHRtbClcbiAgICAvLyAgIGNvbnNvbGUud2FybihcbiAgICAvLyAgICAgJ1RoZSBodG1sIG9wdGlvbiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS9wdWxsLzQ5J1xuICAgIC8vICAgKTtcbiAgICAvLyBJZiB0aGUgbmV3IHVuc2FmZUhUTUwgaXMgdXNlZCwgcHJlZmVyIHRoYXRcbiAgICAvLyBpZiAoISF0aGlzLm9wdGlvbnMudW5zYWZlSFRNTCkge1xuICAgIC8vICAgdGhpcy5odG1sTWVzc2FnZSA9IHRoaXMub3B0aW9ucy51bnNhZmVIVE1MO1xuICAgIC8vIH1cbiAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLm9wdGlvbnMudGV4dDtcbiAgICB0aGlzLnBhbm5pbmcgPSBmYWxzZTtcbiAgICB0aGlzLnRpbWVSZW1haW5pbmcgPSB0aGlzLm9wdGlvbnMuZGlzcGxheUxlbmd0aDtcbiAgICBpZiAoVG9hc3QuX3RvYXN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIFRvYXN0Ll9jcmVhdGVDb250YWluZXIoKTtcbiAgICB9XG4gICAgLy8gQ3JlYXRlIG5ldyB0b2FzdFxuICAgIFRvYXN0Ll90b2FzdHMucHVzaCh0aGlzKTtcbiAgICBsZXQgdG9hc3RFbGVtZW50ID0gdGhpcy5fY3JlYXRlVG9hc3QoKTtcbiAgICAodG9hc3RFbGVtZW50IGFzIGFueSkuTV9Ub2FzdCA9IHRoaXM7XG4gICAgdGhpcy5lbCA9IHRvYXN0RWxlbWVudDtcbiAgICB0aGlzLl9hbmltYXRlSW4oKTtcbiAgICB0aGlzLl9zZXRUaW1lcigpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgbGV0IGRvbUVsZW0gPSAhIWVsLmpxdWVyeSA/IGVsWzBdIDogZWw7XG4gICAgcmV0dXJuIGRvbUVsZW0uTV9Ub2FzdDtcbiAgfVxuXG4gIHN0YXRpYyBfY3JlYXRlQ29udGFpbmVyKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RvYXN0LWNvbnRhaW5lcicpO1xuICAgIC8vIEFkZCBldmVudCBoYW5kbGVyXG4gICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBUb2FzdC5fb25EcmFnU3RhcnQpO1xuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBUb2FzdC5fb25EcmFnTW92ZSk7XG4gICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgVG9hc3QuX29uRHJhZ0VuZCk7XG4gICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIFRvYXN0Ll9vbkRyYWdTdGFydCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgVG9hc3QuX29uRHJhZ01vdmUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBUb2FzdC5fb25EcmFnRW5kKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgVG9hc3QuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgfVxuXG4gIHN0YXRpYyBfcmVtb3ZlQ29udGFpbmVyKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIFRvYXN0Ll9vbkRyYWdNb3ZlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgVG9hc3QuX29uRHJhZ0VuZCk7XG4gICAgVG9hc3QuX2NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICBUb2FzdC5fY29udGFpbmVyID0gbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyBfb25EcmFnU3RhcnQoZSkge1xuICAgIGlmIChlLnRhcmdldCAmJiAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcudG9hc3QnKSkge1xuICAgICAgY29uc3QgdG9hc3RFbGVtID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnLnRvYXN0Jyk7XG4gICAgICBjb25zdCB0b2FzdDogVG9hc3QgPSAodG9hc3RFbGVtIGFzIGFueSkuTV9Ub2FzdDtcbiAgICAgIHRvYXN0LnBhbm5pbmcgPSB0cnVlO1xuICAgICAgVG9hc3QuX2RyYWdnZWRUb2FzdCA9IHRvYXN0O1xuICAgICAgdG9hc3QuZWwuY2xhc3NMaXN0LmFkZCgncGFubmluZycpO1xuICAgICAgdG9hc3QuZWwuc3R5bGUudHJhbnNpdGlvbiA9ICcnO1xuICAgICAgdG9hc3Quc3RhcnRpbmdYUG9zID0gVG9hc3QuX3hQb3MoZSk7XG4gICAgICB0b2FzdC50aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIHRvYXN0LnhQb3MgPSBUb2FzdC5feFBvcyhlKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX29uRHJhZ01vdmUoZSkge1xuICAgIGlmICghIVRvYXN0Ll9kcmFnZ2VkVG9hc3QpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHRvYXN0ID0gVG9hc3QuX2RyYWdnZWRUb2FzdDtcbiAgICAgIHRvYXN0LmRlbHRhWCA9IE1hdGguYWJzKHRvYXN0LnhQb3MgLSBUb2FzdC5feFBvcyhlKSk7XG4gICAgICB0b2FzdC54UG9zID0gVG9hc3QuX3hQb3MoZSk7XG4gICAgICB0b2FzdC52ZWxvY2l0eVggPSB0b2FzdC5kZWx0YVggLyAoRGF0ZS5ub3coKSAtIHRvYXN0LnRpbWUpO1xuICAgICAgdG9hc3QudGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgIGNvbnN0IHRvdGFsRGVsdGFYID0gdG9hc3QueFBvcyAtIHRvYXN0LnN0YXJ0aW5nWFBvcztcbiAgICAgIGNvbnN0IGFjdGl2YXRpb25EaXN0YW5jZSA9IHRvYXN0LmVsLm9mZnNldFdpZHRoICogdG9hc3Qub3B0aW9ucy5hY3RpdmF0aW9uUGVyY2VudDtcbiAgICAgIHRvYXN0LmVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dG90YWxEZWx0YVh9cHgpYDtcbiAgICAgIHRvYXN0LmVsLnN0eWxlLm9wYWNpdHkgPSAoMSAtIE1hdGguYWJzKHRvdGFsRGVsdGFYIC8gYWN0aXZhdGlvbkRpc3RhbmNlKSkudG9TdHJpbmcoKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX29uRHJhZ0VuZCgpIHtcbiAgICBpZiAoISFUb2FzdC5fZHJhZ2dlZFRvYXN0KSB7XG4gICAgICBsZXQgdG9hc3QgPSBUb2FzdC5fZHJhZ2dlZFRvYXN0O1xuICAgICAgdG9hc3QucGFubmluZyA9IGZhbHNlO1xuICAgICAgdG9hc3QuZWwuY2xhc3NMaXN0LnJlbW92ZSgncGFubmluZycpO1xuXG4gICAgICBsZXQgdG90YWxEZWx0YVggPSB0b2FzdC54UG9zIC0gdG9hc3Quc3RhcnRpbmdYUG9zO1xuICAgICAgbGV0IGFjdGl2YXRpb25EaXN0YW5jZSA9IHRvYXN0LmVsLm9mZnNldFdpZHRoICogdG9hc3Qub3B0aW9ucy5hY3RpdmF0aW9uUGVyY2VudDtcbiAgICAgIGxldCBzaG91bGRCZURpc21pc3NlZCA9IE1hdGguYWJzKHRvdGFsRGVsdGFYKSA+IGFjdGl2YXRpb25EaXN0YW5jZSB8fCB0b2FzdC52ZWxvY2l0eVggPiAxO1xuXG4gICAgICAvLyBSZW1vdmUgdG9hc3RcbiAgICAgIGlmIChzaG91bGRCZURpc21pc3NlZCkge1xuICAgICAgICB0b2FzdC53YXNTd2lwZWQgPSB0cnVlO1xuICAgICAgICB0b2FzdC5kaXNtaXNzKCk7XG4gICAgICAgIC8vIEFuaW1hdGUgdG9hc3QgYmFjayB0byBvcmlnaW5hbCBwb3NpdGlvblxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRvYXN0LmVsLnN0eWxlLnRyYW5zaXRpb24gPSAndHJhbnNmb3JtIC4ycywgb3BhY2l0eSAuMnMnO1xuICAgICAgICB0b2FzdC5lbC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgICAgdG9hc3QuZWwuc3R5bGUub3BhY2l0eSA9ICcnO1xuICAgICAgfVxuICAgICAgVG9hc3QuX2RyYWdnZWRUb2FzdCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF94UG9zKGUpIHtcbiAgICBpZiAoZS50YXJnZXRUb3VjaGVzICYmIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggPj0gMSkge1xuICAgICAgcmV0dXJuIGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYO1xuICAgIH1cbiAgICAvLyBtb3VzZSBldmVudFxuICAgIHJldHVybiBlLmNsaWVudFg7XG4gIH1cblxuICBzdGF0aWMgZGlzbWlzc0FsbCgpIHtcbiAgICBmb3IgKGxldCB0b2FzdEluZGV4IGluIFRvYXN0Ll90b2FzdHMpIHtcbiAgICAgIFRvYXN0Ll90b2FzdHNbdG9hc3RJbmRleF0uZGlzbWlzcygpO1xuICAgIH1cbiAgfVxuXG4gIF9jcmVhdGVUb2FzdCgpIHtcbiAgICBjb25zdCB0b2FzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRvYXN0LmNsYXNzTGlzdC5hZGQoJ3RvYXN0Jyk7XG4gICAgdG9hc3Quc2V0QXR0cmlidXRlKCdyb2xlJywgJ2FsZXJ0Jyk7XG4gICAgdG9hc3Quc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gICAgdG9hc3Quc2V0QXR0cmlidXRlKCdhcmlhLWF0b21pYycsICd0cnVlJyk7XG5cbiAgICAvLyBBZGQgY3VzdG9tIGNsYXNzZXMgb250byB0b2FzdFxuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICB0b2FzdC5jbGFzc0xpc3QuYWRkKC4uLnRoaXMub3B0aW9ucy5jbGFzc2VzLnNwbGl0KCcgJykpO1xuICAgIH1cblxuICAgIC8vIFNldCBzYWZlIHRleHQgY29udGVudFxuICAgIHRvYXN0LmlubmVyVGV4dCA9IHRoaXMubWVzc2FnZTtcblxuICAgIC8vIGlmIChcbiAgICAvLyAgIHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ29iamVjdCdcbiAgICAvLyAgICAgPyB0aGlzLmh0bWxNZXNzYWdlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAvLyAgICAgOiB0aGlzLmh0bWxNZXNzYWdlICYmXG4gICAgLy8gICAgICAgdHlwZW9mIHRoaXMuaHRtbE1lc3NhZ2UgPT09ICdvYmplY3QnICYmXG4gICAgLy8gICAgICAgdGhpcy5odG1sTWVzc2FnZSAhPT0gbnVsbCAmJlxuICAgIC8vICAgICAgIHRoaXMuaHRtbE1lc3NhZ2Uubm9kZVR5cGUgPT09IDEgJiZcbiAgICAvLyAgICAgICB0eXBlb2YgdGhpcy5odG1sTWVzc2FnZS5ub2RlTmFtZSA9PT0gJ3N0cmluZydcbiAgICAvLyApIHtcbiAgICAvLyAgIC8vaWYgdGhlIGh0bWxNZXNzYWdlIGlzIGFuIEhUTUwgbm9kZSwgYXBwZW5kIGl0IGRpcmVjdGx5XG4gICAgLy8gICB0b2FzdC5hcHBlbmRDaGlsZCh0aGlzLmh0bWxNZXNzYWdlKTtcbiAgICAvLyB9XG4gICAgLy8gZWxzZSBpZiAoISF0aGlzLmh0bWxNZXNzYWdlLmpxdWVyeSkge1xuICAgIC8vICAgLy8gQ2hlY2sgaWYgaXQgaXMgalF1ZXJ5IG9iamVjdCwgYXBwZW5kIHRoZSBub2RlXG4gICAgLy8gICAkKHRvYXN0KS5hcHBlbmQodGhpcy5odG1sTWVzc2FnZVswXSk7XG4gICAgLy8gfVxuICAgIC8vIGVsc2Uge1xuICAgIC8vICAgLy8gQXBwZW5kIGFzIHVuc2FuaXRpemVkIGh0bWw7XG4gICAgLy8gICAkKHRvYXN0KS5hcHBlbmQodGhpcy5odG1sTWVzc2FnZSk7XG4gICAgLy8gfVxuXG4gICAgLy8gQXBwZW5kIHRvYXN0XG4gICAgVG9hc3QuX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0b2FzdCk7XG4gICAgcmV0dXJuIHRvYXN0O1xuICB9XG5cbiAgX2FuaW1hdGVJbigpIHtcbiAgICAvLyBBbmltYXRlIHRvYXN0IGluXG4gICAgYW5pbSh7XG4gICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgdG9wOiAwLFxuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYydcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgc2V0SW50ZXJ2YWwgd2hpY2ggYXV0b21hdGljYWxseSByZW1vdmVzIHRvYXN0IHdoZW4gdGltZVJlbWFpbmluZyA+PSAwXG4gICAqIGhhcyBiZWVuIHJlYWNoZWRcbiAgICovXG4gIF9zZXRUaW1lcigpIHtcbiAgICBpZiAodGhpcy50aW1lUmVtYWluaW5nICE9PSBJbmZpbml0eSkge1xuICAgICAgdGhpcy5jb3VudGVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIC8vIElmIHRvYXN0IGlzIG5vdCBiZWluZyBkcmFnZ2VkLCBkZWNyZWFzZSBpdHMgdGltZSByZW1haW5pbmdcbiAgICAgICAgaWYgKCF0aGlzLnBhbm5pbmcpIHtcbiAgICAgICAgICB0aGlzLnRpbWVSZW1haW5pbmcgLT0gMjA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQW5pbWF0ZSB0b2FzdCBvdXRcbiAgICAgICAgaWYgKHRoaXMudGltZVJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgICAgdGhpcy5kaXNtaXNzKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDIwKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzbWlzcyB0b2FzdCB3aXRoIGFuaW1hdGlvblxuICAgKi9cbiAgZGlzbWlzcygpIHtcbiAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmNvdW50ZXJJbnRlcnZhbCk7XG4gICAgbGV0IGFjdGl2YXRpb25EaXN0YW5jZSA9IHRoaXMuZWwub2Zmc2V0V2lkdGggKiB0aGlzLm9wdGlvbnMuYWN0aXZhdGlvblBlcmNlbnQ7XG5cbiAgICBpZiAodGhpcy53YXNTd2lwZWQpIHtcbiAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gLjA1cywgb3BhY2l0eSAuMDVzJztcbiAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHthY3RpdmF0aW9uRGlzdGFuY2V9cHgpYDtcbiAgICAgIHRoaXMuZWwuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICB9XG5cbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgbWFyZ2luVG9wOiAtNDAsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dEV4cG8nLFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgLy8gQ2FsbCB0aGUgb3B0aW9uYWwgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuY29tcGxldGVDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5jb21wbGV0ZUNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIHRvYXN0IGZyb20gRE9NXG4gICAgICAgIHRoaXMuZWwucmVtb3ZlKCk7XG4gICAgICAgIFRvYXN0Ll90b2FzdHMuc3BsaWNlKFRvYXN0Ll90b2FzdHMuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgICAgIGlmIChUb2FzdC5fdG9hc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIFRvYXN0Ll9yZW1vdmVDb250YWluZXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIHtcbiAgICBUb2FzdC5fdG9hc3RzID0gW107XG4gICAgVG9hc3QuX2NvbnRhaW5lciA9IG51bGw7XG4gICAgVG9hc3QuX2RyYWdnZWRUb2FzdCA9IG51bGw7XG4gIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/toasts.ts\n");

/***/ }),

/***/ "./src/tooltip.ts":
/*!************************!*\
  !*** ./src/tooltip.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Tooltip = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst global_1 = __webpack_require__(/*! ./global */ \"./src/global.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst _defaults = {\n    exitDelay: 200,\n    enterDelay: 0,\n    //html: null,\n    text: '',\n    //unsafeHTML: null,\n    margin: 5,\n    inDuration: 250,\n    outDuration: 200,\n    position: 'bottom',\n    transitionMovement: 10\n};\nclass Tooltip extends component_1.Component {\n    constructor(el, options) {\n        super(Tooltip, el, options);\n        this._handleMouseEnter = () => {\n            this.isHovered = true;\n            this.isFocused = false; // Allows close of tooltip when opened by focus.\n            this.open(false);\n        };\n        this._handleMouseLeave = () => {\n            this.isHovered = false;\n            this.isFocused = false; // Allows close of tooltip when opened by focus.\n            this.close();\n        };\n        this._handleFocus = () => {\n            if (global_1.M.tabPressed) {\n                this.isFocused = true;\n                this.open(false);\n            }\n        };\n        this._handleBlur = () => {\n            this.isFocused = false;\n            this.close();\n        };\n        this.el.M_Tooltip = this;\n        this.options = Object.assign(Object.assign({}, Tooltip.defaults), options);\n        this.isOpen = false;\n        this.isHovered = false;\n        this.isFocused = false;\n        this._appendTooltipEl();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static init(els, options) {\n        return super.init(this, els, options);\n    }\n    static getInstance(el) {\n        const domElem = !!el.jquery ? el[0] : el;\n        return domElem.M_Tooltip;\n    }\n    destroy() {\n        this.tooltipEl.remove();\n        this._removeEventHandlers();\n        this.el.M_Tooltip = undefined;\n    }\n    _appendTooltipEl() {\n        this.tooltipEl = document.createElement('div');\n        this.tooltipEl.classList.add('material-tooltip');\n        const tooltipContentEl = document.createElement('div');\n        tooltipContentEl.classList.add('tooltip-content');\n        this._setTooltipContent(tooltipContentEl);\n        this.tooltipEl.appendChild(tooltipContentEl);\n        document.body.appendChild(this.tooltipEl);\n    }\n    _setTooltipContent(tooltipContentEl) {\n        tooltipContentEl.innerText = this.options.text;\n    }\n    _updateTooltipContent() {\n        this._setTooltipContent(this.tooltipEl.querySelector('.tooltip-content'));\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('mouseenter', this._handleMouseEnter);\n        this.el.addEventListener('mouseleave', this._handleMouseLeave);\n        this.el.addEventListener('focus', this._handleFocus, true);\n        this.el.addEventListener('blur', this._handleBlur, true);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('mouseenter', this._handleMouseEnter);\n        this.el.removeEventListener('mouseleave', this._handleMouseLeave);\n        this.el.removeEventListener('focus', this._handleFocus, true);\n        this.el.removeEventListener('blur', this._handleBlur, true);\n    }\n    open(isManual) {\n        if (this.isOpen)\n            return;\n        isManual = isManual === undefined ? true : undefined; // Default value true\n        this.isOpen = true;\n        // Update tooltip content with HTML attribute options\n        this.options = Object.assign(Object.assign({}, this.options), this._getAttributeOptions());\n        this._updateTooltipContent();\n        this._setEnterDelayTimeout(isManual);\n    }\n    close() {\n        if (!this.isOpen)\n            return;\n        this.isHovered = false;\n        this.isFocused = false;\n        this.isOpen = false;\n        this._setExitDelayTimeout();\n    }\n    _setExitDelayTimeout() {\n        clearTimeout(this._exitDelayTimeout);\n        this._exitDelayTimeout = setTimeout(() => {\n            if (this.isHovered || this.isFocused)\n                return;\n            this._animateOut();\n        }, this.options.exitDelay);\n    }\n    _setEnterDelayTimeout(isManual) {\n        clearTimeout(this._enterDelayTimeout);\n        this._enterDelayTimeout = setTimeout(() => {\n            if (!this.isHovered && !this.isFocused && !isManual)\n                return;\n            this._animateIn();\n        }, this.options.enterDelay);\n    }\n    _positionTooltip() {\n        const tooltip = this.tooltipEl;\n        const origin = this.el, originHeight = origin.offsetHeight, originWidth = origin.offsetWidth, tooltipHeight = tooltip.offsetHeight, tooltipWidth = tooltip.offsetWidth, margin = this.options.margin;\n        (this.xMovement = 0), (this.yMovement = 0);\n        let targetTop = origin.getBoundingClientRect().top + global_1.M.getDocumentScrollTop();\n        let targetLeft = origin.getBoundingClientRect().left + global_1.M.getDocumentScrollLeft();\n        if (this.options.position === 'top') {\n            targetTop += -tooltipHeight - margin;\n            targetLeft += originWidth / 2 - tooltipWidth / 2;\n            this.yMovement = -this.options.transitionMovement;\n        }\n        else if (this.options.position === 'right') {\n            targetTop += originHeight / 2 - tooltipHeight / 2;\n            targetLeft += originWidth + margin;\n            this.xMovement = this.options.transitionMovement;\n        }\n        else if (this.options.position === 'left') {\n            targetTop += originHeight / 2 - tooltipHeight / 2;\n            targetLeft += -tooltipWidth - margin;\n            this.xMovement = -this.options.transitionMovement;\n        }\n        else {\n            targetTop += originHeight + margin;\n            targetLeft += originWidth / 2 - tooltipWidth / 2;\n            this.yMovement = this.options.transitionMovement;\n        }\n        const newCoordinates = this._repositionWithinScreen(targetLeft, targetTop, tooltipWidth, tooltipHeight);\n        tooltip.style.top = newCoordinates.y + 'px';\n        tooltip.style.left = newCoordinates.x + 'px';\n    }\n    _repositionWithinScreen(x, y, width, height) {\n        const scrollLeft = global_1.M.getDocumentScrollLeft();\n        const scrollTop = global_1.M.getDocumentScrollTop();\n        let newX = x - scrollLeft;\n        let newY = y - scrollTop;\n        const bounding = {\n            left: newX,\n            top: newY,\n            width: width,\n            height: height\n        };\n        const offset = this.options.margin + this.options.transitionMovement;\n        const edges = global_1.M.checkWithinContainer(document.body, bounding, offset);\n        if (edges.left) {\n            newX = offset;\n        }\n        else if (edges.right) {\n            newX -= newX + width - window.innerWidth;\n        }\n        if (edges.top) {\n            newY = offset;\n        }\n        else if (edges.bottom) {\n            newY -= newY + height - window.innerHeight;\n        }\n        return {\n            x: newX + scrollLeft,\n            y: newY + scrollTop\n        };\n    }\n    _animateIn() {\n        this._positionTooltip();\n        this.tooltipEl.style.visibility = 'visible';\n        animejs_1.default.remove(this.tooltipEl);\n        (0, animejs_1.default)({\n            targets: this.tooltipEl,\n            opacity: this.options.opacity || 1,\n            translateX: this.xMovement,\n            translateY: this.yMovement,\n            duration: this.options.inDuration,\n            easing: 'easeOutCubic'\n        });\n    }\n    _animateOut() {\n        animejs_1.default.remove(this.tooltipEl);\n        (0, animejs_1.default)({\n            targets: this.tooltipEl,\n            opacity: 0,\n            translateX: 0,\n            translateY: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutCubic'\n        });\n    }\n    _getAttributeOptions() {\n        const attributeOptions = {};\n        const tooltipTextOption = this.el.getAttribute('data-tooltip');\n        const positionOption = this.el.getAttribute('data-position');\n        if (tooltipTextOption) {\n            attributeOptions.text = tooltipTextOption;\n        }\n        if (positionOption) {\n            attributeOptions.position = positionOption;\n        }\n        return attributeOptions;\n    }\n}\nexports.Tooltip = Tooltip;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVc7WUFDbEMsTUFBTSxFQUFFLGNBQWM7U0FDdkIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQTBCRCxvQkFBb0I7UUFDbEIsTUFBTSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7UUFDNUIsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUMvRCxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUM3RCxJQUFJLGlCQUFpQixFQUFFO1lBQ3BCLGdCQUF3QixDQUFDLElBQUksR0FBRyxpQkFBaUIsQ0FBQztTQUNwRDtRQUNELElBQUksY0FBYyxFQUFFO1lBQ2pCLGdCQUF3QixDQUFDLFFBQVEsR0FBRyxjQUFjLENBQUM7U0FDckQ7UUFDRCxPQUFPLGdCQUFnQixDQUFDO0lBQzFCLENBQUM7Q0FDRjtBQWxQRCwwQkFrUEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvdG9vbHRpcC50cz9jYzkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5cbmltcG9ydCB7IE0gfSBmcm9tIFwiLi9nbG9iYWxcIjtcbmltcG9ydCB7IEJvdW5kaW5nIH0gZnJvbSBcIi4vYm91bmRpbmdcIjtcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5jb25zdCBfZGVmYXVsdHMgPSB7XG4gIGV4aXREZWxheTogMjAwLFxuICBlbnRlckRlbGF5OiAwLFxuICAvL2h0bWw6IG51bGwsXG4gIHRleHQ6ICcnLFxuICAvL3Vuc2FmZUhUTUw6IG51bGwsXG4gIG1hcmdpbjogNSxcbiAgaW5EdXJhdGlvbjogMjUwLFxuICBvdXREdXJhdGlvbjogMjAwLFxuICBwb3NpdGlvbjogJ2JvdHRvbScsXG4gIHRyYW5zaXRpb25Nb3ZlbWVudDogMTBcbn07XG5cbmV4cG9ydCBjbGFzcyBUb29sdGlwIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBpc0hvdmVyZWQ6IGJvb2xlYW47XG4gIGlzRm9jdXNlZDogYm9vbGVhbjtcbiAgdG9vbHRpcEVsOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBfZXhpdERlbGF5VGltZW91dDogc3RyaW5nIHwgbnVtYmVyIHwgTm9kZUpTLlRpbWVvdXQ7XG4gIHByaXZhdGUgX2VudGVyRGVsYXlUaW1lb3V0OiBzdHJpbmcgfCBudW1iZXIgfCBOb2RlSlMuVGltZW91dDtcbiAgeE1vdmVtZW50OiBudW1iZXI7XG4gIHlNb3ZlbWVudDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgc3VwZXIoVG9vbHRpcCwgZWwsIG9wdGlvbnMpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9Ub29sdGlwID0gdGhpcztcbiAgICB0aGlzLm9wdGlvbnMgPSB7Li4uVG9vbHRpcC5kZWZhdWx0cywgLi4ub3B0aW9uc307XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLmlzSG92ZXJlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5fYXBwZW5kVG9vbHRpcEVsKCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICBzdGF0aWMgaW5pdChlbHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdCh0aGlzLCBlbHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsKSB7XG4gICAgY29uc3QgZG9tRWxlbSA9ICEhZWwuanF1ZXJ5ID8gZWxbMF0gOiBlbDtcbiAgICByZXR1cm4gZG9tRWxlbS5NX1Rvb2x0aXA7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMudG9vbHRpcEVsLnJlbW92ZSgpO1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fVG9vbHRpcCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9hcHBlbmRUb29sdGlwRWwoKSB7XG4gICAgdGhpcy50b29sdGlwRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnRvb2x0aXBFbC5jbGFzc0xpc3QuYWRkKCdtYXRlcmlhbC10b29sdGlwJyk7XG5cbiAgICBjb25zdCB0b29sdGlwQ29udGVudEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdG9vbHRpcENvbnRlbnRFbC5jbGFzc0xpc3QuYWRkKCd0b29sdGlwLWNvbnRlbnQnKTtcbiAgICB0aGlzLl9zZXRUb29sdGlwQ29udGVudCh0b29sdGlwQ29udGVudEVsKTtcbiAgICB0aGlzLnRvb2x0aXBFbC5hcHBlbmRDaGlsZCh0b29sdGlwQ29udGVudEVsKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudG9vbHRpcEVsKTtcbiAgfVxuXG4gIF9zZXRUb29sdGlwQ29udGVudCh0b29sdGlwQ29udGVudEVsOiBIVE1MRWxlbWVudCkge1xuICAgIHRvb2x0aXBDb250ZW50RWwuaW5uZXJUZXh0ID0gdGhpcy5vcHRpb25zLnRleHQ7XG4gIH1cblxuICBfdXBkYXRlVG9vbHRpcENvbnRlbnQoKSB7XG4gICAgdGhpcy5fc2V0VG9vbHRpcENvbnRlbnQodGhpcy50b29sdGlwRWwucXVlcnlTZWxlY3RvcignLnRvb2x0aXAtY29udGVudCcpKTtcbiAgfVxuXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlTW91c2VFbnRlcik7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZSk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUZvY3VzLCB0cnVlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVCbHVyLCB0cnVlKTtcbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXIpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmUpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVGb2N1cywgdHJ1ZSk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlQmx1ciwgdHJ1ZSk7XG4gIH1cblxuICBvcGVuKGlzTWFudWFsKSB7XG4gICAgaWYgKHRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgaXNNYW51YWwgPSBpc01hbnVhbCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHVuZGVmaW5lZDsgLy8gRGVmYXVsdCB2YWx1ZSB0cnVlXG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgIC8vIFVwZGF0ZSB0b29sdGlwIGNvbnRlbnQgd2l0aCBIVE1MIGF0dHJpYnV0ZSBvcHRpb25zXG4gICAgdGhpcy5vcHRpb25zID0gey4uLnRoaXMub3B0aW9ucywgLi4udGhpcy5fZ2V0QXR0cmlidXRlT3B0aW9ucygpfTtcbiAgICB0aGlzLl91cGRhdGVUb29sdGlwQ29udGVudCgpO1xuICAgIHRoaXMuX3NldEVudGVyRGVsYXlUaW1lb3V0KGlzTWFudWFsKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIGlmICghdGhpcy5pc09wZW4pIHJldHVybjtcbiAgICB0aGlzLmlzSG92ZXJlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLl9zZXRFeGl0RGVsYXlUaW1lb3V0KCk7XG4gIH1cblxuICBfc2V0RXhpdERlbGF5VGltZW91dCgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fZXhpdERlbGF5VGltZW91dCk7XG4gICAgdGhpcy5fZXhpdERlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNIb3ZlcmVkIHx8IHRoaXMuaXNGb2N1c2VkKSByZXR1cm47XG4gICAgICB0aGlzLl9hbmltYXRlT3V0KCk7XG4gICAgfSwgdGhpcy5vcHRpb25zLmV4aXREZWxheSk7XG4gIH1cblxuICBfc2V0RW50ZXJEZWxheVRpbWVvdXQoaXNNYW51YWwpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fZW50ZXJEZWxheVRpbWVvdXQpO1xuICAgIHRoaXMuX2VudGVyRGVsYXlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuaXNIb3ZlcmVkICYmICF0aGlzLmlzRm9jdXNlZCAmJiAhaXNNYW51YWwpIHJldHVybjtcbiAgICAgIHRoaXMuX2FuaW1hdGVJbigpO1xuICAgIH0sIHRoaXMub3B0aW9ucy5lbnRlckRlbGF5KTtcbiAgfVxuXG4gIF9wb3NpdGlvblRvb2x0aXAoKSB7XG4gICAgY29uc3QgdG9vbHRpcDogSFRNTEVsZW1lbnQgPSB0aGlzLnRvb2x0aXBFbDtcbiAgICBjb25zdCBvcmlnaW4gPSAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCksXG4gICAgICBvcmlnaW5IZWlnaHQgPSBvcmlnaW4ub2Zmc2V0SGVpZ2h0LFxuICAgICAgb3JpZ2luV2lkdGggPSBvcmlnaW4ub2Zmc2V0V2lkdGgsXG4gICAgICB0b29sdGlwSGVpZ2h0ID0gdG9vbHRpcC5vZmZzZXRIZWlnaHQsXG4gICAgICB0b29sdGlwV2lkdGggPSB0b29sdGlwLm9mZnNldFdpZHRoLFxuICAgICAgbWFyZ2luID0gdGhpcy5vcHRpb25zLm1hcmdpbjtcblxuICAgICh0aGlzLnhNb3ZlbWVudCA9IDApLCAodGhpcy55TW92ZW1lbnQgPSAwKTtcblxuICAgIGxldCB0YXJnZXRUb3AgPSBvcmlnaW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgIGxldCB0YXJnZXRMZWZ0ID0gb3JpZ2luLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyBNLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMucG9zaXRpb24gPT09ICd0b3AnKSB7XG4gICAgICB0YXJnZXRUb3AgKz0gLXRvb2x0aXBIZWlnaHQgLSBtYXJnaW47XG4gICAgICB0YXJnZXRMZWZ0ICs9IG9yaWdpbldpZHRoIC8gMiAtIHRvb2x0aXBXaWR0aCAvIDI7XG4gICAgICB0aGlzLnlNb3ZlbWVudCA9IC10aGlzLm9wdGlvbnMudHJhbnNpdGlvbk1vdmVtZW50O1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnBvc2l0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICB0YXJnZXRUb3AgKz0gb3JpZ2luSGVpZ2h0IC8gMiAtIHRvb2x0aXBIZWlnaHQgLyAyO1xuICAgICAgdGFyZ2V0TGVmdCArPSBvcmlnaW5XaWR0aCArIG1hcmdpbjtcbiAgICAgIHRoaXMueE1vdmVtZW50ID0gdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICB0YXJnZXRUb3AgKz0gb3JpZ2luSGVpZ2h0IC8gMiAtIHRvb2x0aXBIZWlnaHQgLyAyO1xuICAgICAgdGFyZ2V0TGVmdCArPSAtdG9vbHRpcFdpZHRoIC0gbWFyZ2luO1xuICAgICAgdGhpcy54TW92ZW1lbnQgPSAtdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0VG9wICs9IG9yaWdpbkhlaWdodCArIG1hcmdpbjtcbiAgICAgIHRhcmdldExlZnQgKz0gb3JpZ2luV2lkdGggLyAyIC0gdG9vbHRpcFdpZHRoIC8gMjtcbiAgICAgIHRoaXMueU1vdmVtZW50ID0gdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcbiAgICB9XG5cbiAgICBjb25zdCBuZXdDb29yZGluYXRlcyA9IHRoaXMuX3JlcG9zaXRpb25XaXRoaW5TY3JlZW4oXG4gICAgICB0YXJnZXRMZWZ0LFxuICAgICAgdGFyZ2V0VG9wLFxuICAgICAgdG9vbHRpcFdpZHRoLFxuICAgICAgdG9vbHRpcEhlaWdodFxuICAgICk7XG5cbiAgICB0b29sdGlwLnN0eWxlLnRvcCA9IG5ld0Nvb3JkaW5hdGVzLnkrJ3B4JztcbiAgICB0b29sdGlwLnN0eWxlLmxlZnQgPSBuZXdDb29yZGluYXRlcy54KydweCc7XG4gIH1cblxuICBfcmVwb3NpdGlvbldpdGhpblNjcmVlbih4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgY29uc3Qgc2Nyb2xsTGVmdCA9IE0uZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCk7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gTS5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgIGxldCBuZXdYID0geCAtIHNjcm9sbExlZnQ7XG4gICAgbGV0IG5ld1kgPSB5IC0gc2Nyb2xsVG9wO1xuXG4gICAgY29uc3QgYm91bmRpbmc6IEJvdW5kaW5nID0ge1xuICAgICAgbGVmdDogbmV3WCxcbiAgICAgIHRvcDogbmV3WSxcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfTtcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLm9wdGlvbnMubWFyZ2luICsgdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcbiAgICBjb25zdCBlZGdlcyA9IE0uY2hlY2tXaXRoaW5Db250YWluZXIoZG9jdW1lbnQuYm9keSwgYm91bmRpbmcsIG9mZnNldCk7XG5cbiAgICBpZiAoZWRnZXMubGVmdCkge1xuICAgICAgbmV3WCA9IG9mZnNldDtcbiAgICB9IGVsc2UgaWYgKGVkZ2VzLnJpZ2h0KSB7XG4gICAgICBuZXdYIC09IG5ld1ggKyB3aWR0aCAtIHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIH1cbiAgICBpZiAoZWRnZXMudG9wKSB7XG4gICAgICBuZXdZID0gb2Zmc2V0O1xuICAgIH0gZWxzZSBpZiAoZWRnZXMuYm90dG9tKSB7XG4gICAgICBuZXdZIC09IG5ld1kgKyBoZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB4OiBuZXdYICsgc2Nyb2xsTGVmdCxcbiAgICAgIHk6IG5ld1kgKyBzY3JvbGxUb3BcbiAgICB9O1xuICB9XG5cbiAgX2FuaW1hdGVJbigpIHtcbiAgICB0aGlzLl9wb3NpdGlvblRvb2x0aXAoKTtcbiAgICB0aGlzLnRvb2x0aXBFbC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgIGFuaW0ucmVtb3ZlKHRoaXMudG9vbHRpcEVsKTtcbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IHRoaXMudG9vbHRpcEVsLFxuICAgICAgb3BhY2l0eTogdGhpcy5vcHRpb25zLm9wYWNpdHkgfHwgMSxcbiAgICAgIHRyYW5zbGF0ZVg6IHRoaXMueE1vdmVtZW50LFxuICAgICAgdHJhbnNsYXRlWTogdGhpcy55TW92ZW1lbnQsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnXG4gICAgfSk7XG4gIH1cblxuICBfYW5pbWF0ZU91dCgpIHtcbiAgICBhbmltLnJlbW92ZSh0aGlzLnRvb2x0aXBFbCk7XG4gICAgYW5pbSh7XG4gICAgICB0YXJnZXRzOiB0aGlzLnRvb2x0aXBFbCxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnXG4gICAgfSk7XG4gIH1cblxuICBfaGFuZGxlTW91c2VFbnRlciA9ICgpID0+IHtcbiAgICB0aGlzLmlzSG92ZXJlZCA9IHRydWU7XG4gICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTsgLy8gQWxsb3dzIGNsb3NlIG9mIHRvb2x0aXAgd2hlbiBvcGVuZWQgYnkgZm9jdXMuXG4gICAgdGhpcy5vcGVuKGZhbHNlKTtcbiAgfVxuXG4gIF9oYW5kbGVNb3VzZUxlYXZlID0gKCkgPT4ge1xuICAgIHRoaXMuaXNIb3ZlcmVkID0gZmFsc2U7XG4gICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTsgLy8gQWxsb3dzIGNsb3NlIG9mIHRvb2x0aXAgd2hlbiBvcGVuZWQgYnkgZm9jdXMuXG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgX2hhbmRsZUZvY3VzID0gKCkgPT4ge1xuICAgIGlmIChNLnRhYlByZXNzZWQpIHtcbiAgICAgIHRoaXMuaXNGb2N1c2VkID0gdHJ1ZTtcbiAgICAgIHRoaXMub3BlbihmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUJsdXIgPSAoKSA9PiB7XG4gICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cblxuICBfZ2V0QXR0cmlidXRlT3B0aW9ucygpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGVPcHRpb25zID0ge307XG4gICAgY29uc3QgdG9vbHRpcFRleHRPcHRpb24gPSB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwJyk7XG4gICAgY29uc3QgcG9zaXRpb25PcHRpb24gPSB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1wb3NpdGlvbicpO1xuICAgIGlmICh0b29sdGlwVGV4dE9wdGlvbikge1xuICAgICAgKGF0dHJpYnV0ZU9wdGlvbnMgYXMgYW55KS50ZXh0ID0gdG9vbHRpcFRleHRPcHRpb247XG4gICAgfVxuICAgIGlmIChwb3NpdGlvbk9wdGlvbikge1xuICAgICAgKGF0dHJpYnV0ZU9wdGlvbnMgYXMgYW55KS5wb3NpdGlvbiA9IHBvc2l0aW9uT3B0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gYXR0cmlidXRlT3B0aW9ucztcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/tooltip.ts\n");

/***/ }),

/***/ "./src/waves.ts":
/*!**********************!*\
  !*** ./src/waves.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Waves = void 0;\nclass Waves {\n    static _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    // https://phoenix-dx.com/css-techniques-for-material-ripple-effect/\n    static renderWaveEffect(targetElement, position = null, color = null) {\n        const isCentered = position === null;\n        const duration = 500;\n        let animationFrame, animationStart;\n        const animationStep = function (timestamp) {\n            if (!animationStart) {\n                animationStart = timestamp;\n            }\n            const frame = timestamp - animationStart;\n            if (frame < duration) {\n                const easing = (frame / duration) * (2 - (frame / duration));\n                const circle = isCentered ? 'circle at 50% 50%' : `circle at ${position.x}px ${position.y}px`;\n                const waveColor = `rgba(${(color === null || color === void 0 ? void 0 : color.r) || 0}, ${(color === null || color === void 0 ? void 0 : color.g) || 0}, ${(color === null || color === void 0 ? void 0 : color.b) || 0}, ${0.3 * (1 - easing)})`;\n                const stop = 90 * easing + \"%\";\n                targetElement.style.backgroundImage = \"radial-gradient(\" + circle + \", \" + waveColor + \" \" + stop + \", transparent \" + stop + \")\";\n                animationFrame = window.requestAnimationFrame(animationStep);\n            }\n            else {\n                targetElement.style.backgroundImage = 'none';\n                window.cancelAnimationFrame(animationFrame);\n            }\n        };\n        animationFrame = window.requestAnimationFrame(animationStep);\n    }\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            document.body.addEventListener('click', e => {\n                const trigger = e.target;\n                const el = trigger.closest('.waves-effect');\n                if (el && el.contains(trigger)) {\n                    const isCircular = el.classList.contains('waves-circle');\n                    const x = e.pageX - Waves._offset(el).left;\n                    const y = e.pageY - Waves._offset(el).top;\n                    let color = null;\n                    if (el.classList.contains('waves-light'))\n                        color = { r: 255, g: 255, b: 255 };\n                    Waves.renderWaveEffect(el, isCircular ? null : { x, y }, color);\n                }\n            });\n        });\n    }\n}\nexports.Waves = Waves;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO2dCQUN6RCxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFO29CQUM5QixNQUFNLFVBQVUsR0FBRyxFQUFFLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztvQkFDekQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQztvQkFDM0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQztvQkFFMUMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDO29CQUNqQixJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQzt3QkFDdEMsS0FBSyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUMsR0FBRyxFQUFFLENBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQztvQkFFaEMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7aUJBQy9EO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUVMLENBQUM7Q0FDRjtBQTFERCxzQkEwREMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvd2F2ZXMudHM/MjFiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIFJHQkNvbG9yID0ge1xuICByOiBudW1iZXIsXG4gIGc6IG51bWJlcixcbiAgYjogbnVtYmVyLFxufVxuXG50eXBlIFBvc2l0aW9uID0ge1xuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlcixcbn1cblxuZXhwb3J0IGNsYXNzIFdhdmVzIHtcblxuICBwcml2YXRlIHN0YXRpYyBfb2Zmc2V0KGVsOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogYm94LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxuICAgICAgbGVmdDogYm94LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnRcbiAgICB9O1xuICB9XG5cbiAgLy8gaHR0cHM6Ly9waG9lbml4LWR4LmNvbS9jc3MtdGVjaG5pcXVlcy1mb3ItbWF0ZXJpYWwtcmlwcGxlLWVmZmVjdC9cblxuICBwdWJsaWMgc3RhdGljIHJlbmRlcldhdmVFZmZlY3QodGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQsIHBvc2l0aW9uOiBQb3NpdGlvbnxudWxsID0gbnVsbCwgY29sb3I6IFJHQkNvbG9yfG51bGwgPSBudWxsKTogdm9pZCB7XG4gICAgY29uc3QgaXNDZW50ZXJlZCA9IHBvc2l0aW9uID09PSBudWxsO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gNTAwO1xuICAgIGxldCBhbmltYXRpb25GcmFtZTogbnVtYmVyLCBhbmltYXRpb25TdGFydDogbnVtYmVyO1xuICAgIGNvbnN0IGFuaW1hdGlvblN0ZXAgPSBmdW5jdGlvbih0aW1lc3RhbXA6IG51bWJlcikge1xuICAgICAgaWYgKCFhbmltYXRpb25TdGFydCkge1xuICAgICAgICBhbmltYXRpb25TdGFydCA9IHRpbWVzdGFtcDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZyYW1lID0gdGltZXN0YW1wIC0gYW5pbWF0aW9uU3RhcnQ7XG4gICAgICBpZiAoZnJhbWUgPCBkdXJhdGlvbikge1xuICAgICAgICBjb25zdCBlYXNpbmcgPSAoZnJhbWUvZHVyYXRpb24pICogKDIgLSAoZnJhbWUvZHVyYXRpb24pKTtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gaXNDZW50ZXJlZCA/ICdjaXJjbGUgYXQgNTAlIDUwJScgOiBgY2lyY2xlIGF0ICR7cG9zaXRpb24ueH1weCAke3Bvc2l0aW9uLnl9cHhgO1xuICAgICAgICBjb25zdCB3YXZlQ29sb3IgPSBgcmdiYSgke2NvbG9yPy5yIHx8IDB9LCAke2NvbG9yPy5nIHx8IDB9LCAke2NvbG9yPy5iIHx8IDB9LCAkeyAwLjMgKiAoMS1lYXNpbmcpIH0pYDtcbiAgICAgICAgY29uc3Qgc3RvcCA9IDkwICogZWFzaW5nICsgXCIlXCI7XG4gICAgICAgIHRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJyYWRpYWwtZ3JhZGllbnQoXCIrY2lyY2xlK1wiLCBcIit3YXZlQ29sb3IrXCIgXCIrc3RvcCtcIiwgdHJhbnNwYXJlbnQgXCIrc3RvcCtcIilcIjtcbiAgICAgICAgYW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblN0ZXApO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ25vbmUnO1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgYW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblN0ZXApO1xuICB9XG5cbiAgc3RhdGljIEluaXQoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICBjb25zdCB0cmlnZ2VyID0gPEhUTUxFbGVtZW50PmUudGFyZ2V0O1xuICAgICAgICBjb25zdCBlbCA9IDxIVE1MRWxlbWVudD50cmlnZ2VyLmNsb3Nlc3QoJy53YXZlcy1lZmZlY3QnKTtcbiAgICAgICAgaWYgKGVsICYmIGVsLmNvbnRhaW5zKHRyaWdnZXIpKSB7XG4gICAgICAgICAgY29uc3QgaXNDaXJjdWxhciA9IGVsLmNsYXNzTGlzdC5jb250YWlucygnd2F2ZXMtY2lyY2xlJyk7XG4gICAgICAgICAgY29uc3QgeCA9IGUucGFnZVggLSBXYXZlcy5fb2Zmc2V0KGVsKS5sZWZ0O1xuICAgICAgICAgIGNvbnN0IHkgPSBlLnBhZ2VZIC0gV2F2ZXMuX29mZnNldChlbCkudG9wO1xuXG4gICAgICAgICAgbGV0IGNvbG9yID0gbnVsbDtcbiAgICAgICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd3YXZlcy1saWdodCcpKVxuICAgICAgICAgICAgY29sb3IgPSB7cjoyNTUsIGc6MjU1LCBiOjI1NX07XG5cbiAgICAgICAgICBXYXZlcy5yZW5kZXJXYXZlRWZmZWN0KGVsLCBpc0NpcmN1bGFyID8gbnVsbCA6IHt4LCB5fSwgY29sb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICB9XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/waves.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/global.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});